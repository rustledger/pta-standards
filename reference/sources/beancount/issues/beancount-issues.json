[{"url":"https://api.github.com/repos/beancount/beancount/issues/1016","repository_url":"https://api.github.com/repos/beancount/beancount","labels_url":"https://api.github.com/repos/beancount/beancount/issues/1016/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beancount/issues/1016/comments","events_url":"https://api.github.com/repos/beancount/beancount/issues/1016/events","html_url":"https://github.com/beancount/beancount/pull/1016","id":3879700796,"node_id":"PR_kwDOD91Bd87Al9so","number":1016,"title":"bean-format: fix currency column detection in the presence of multiline narrations","user":{"login":"jakobhellermann","id":22177966,"node_id":"MDQ6VXNlcjIyMTc3OTY2","avatar_url":"https://avatars.githubusercontent.com/u/22177966?v=4","gravatar_id":"","url":"https://api.github.com/users/jakobhellermann","html_url":"https://github.com/jakobhellermann","followers_url":"https://api.github.com/users/jakobhellermann/followers","following_url":"https://api.github.com/users/jakobhellermann/following{/other_user}","gists_url":"https://api.github.com/users/jakobhellermann/gists{/gist_id}","starred_url":"https://api.github.com/users/jakobhellermann/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jakobhellermann/subscriptions","organizations_url":"https://api.github.com/users/jakobhellermann/orgs","repos_url":"https://api.github.com/users/jakobhellermann/repos","events_url":"https://api.github.com/users/jakobhellermann/events{/privacy}","received_events_url":"https://api.github.com/users/jakobhellermann/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"open","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":0,"created_at":"2026-01-31T17:58:43Z","updated_at":"2026-01-31T17:58:43Z","closed_at":null,"author_association":"NONE","type":null,"active_lock_reason":null,"draft":false,"pull_request":{"url":"https://api.github.com/repos/beancount/beancount/pulls/1016","html_url":"https://github.com/beancount/beancount/pull/1016","diff_url":"https://github.com/beancount/beancount/pull/1016.diff","patch_url":"https://github.com/beancount/beancount/pull/1016.patch","merged_at":null},"body":"When a transaction contains a multiline narration where the second line happens to be _roughly_ interpretable as a posting, the formatter gets confused and will align all the amounts far to the right.\r\n\r\n```beancount\r\n2023-02-02 * \"payee\" \"multiline\r\n1                                                           :    1234 TEXT\"\r\n  Assets:BIBEssen:Checking                                     -39.99 EUR\r\n```\r\n\r\nThis might seem contrived, but it can easily happen when automatically importing from e.g. paypal:\r\n\r\n```beancount\r\n2021-09-16 * \"PayPal S.a.r.l. et Cie., S.C.A.\" \"Basislastschrift\r\nPP.1234.PP . SOME SHOP Ihr Einkauf bei FOO BAR EREF: 123867451723645 PP.1234PP PAYPAL MREF: AJSH6SA CRED: 128736419832746\r\n  Assets:BIBEssen:Checking                       -14.99 EUR\r\n  Expenses:Entertainment:Games                    14.99 EUR\r\n```\r\n\r\n\r\nI think the implementation I is probably good enough, but obviously the entire thing is not the most robust piece of code.","closed_by":null,"reactions":{"url":"https://api.github.com/repos/beancount/beancount/issues/1016/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beancount/issues/1016/timeline","performed_via_github_app":null,"state_reason":null},{"url":"https://api.github.com/repos/beancount/beancount/issues/1015","repository_url":"https://api.github.com/repos/beancount/beancount","labels_url":"https://api.github.com/repos/beancount/beancount/issues/1015/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beancount/issues/1015/comments","events_url":"https://api.github.com/repos/beancount/beancount/issues/1015/events","html_url":"https://github.com/beancount/beancount/pull/1015","id":3864053350,"node_id":"PR_kwDOD91Bd86_yHMj","number":1015,"title":"build: use pypi distributed flex/bison","user":{"login":"trim21","id":13553903,"node_id":"MDQ6VXNlcjEzNTUzOTAz","avatar_url":"https://avatars.githubusercontent.com/u/13553903?v=4","gravatar_id":"","url":"https://api.github.com/users/trim21","html_url":"https://github.com/trim21","followers_url":"https://api.github.com/users/trim21/followers","following_url":"https://api.github.com/users/trim21/following{/other_user}","gists_url":"https://api.github.com/users/trim21/gists{/gist_id}","starred_url":"https://api.github.com/users/trim21/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/trim21/subscriptions","organizations_url":"https://api.github.com/users/trim21/orgs","repos_url":"https://api.github.com/users/trim21/repos","events_url":"https://api.github.com/users/trim21/events{/privacy}","received_events_url":"https://api.github.com/users/trim21/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":0,"created_at":"2026-01-28T07:44:11Z","updated_at":"2026-01-29T03:46:45Z","closed_at":"2026-01-29T03:45:17Z","author_association":"CONTRIBUTOR","type":null,"active_lock_reason":null,"draft":false,"pull_request":{"url":"https://api.github.com/repos/beancount/beancount/pulls/1015","html_url":"https://github.com/beancount/beancount/pull/1015","diff_url":"https://github.com/beancount/beancount/pull/1015.diff","patch_url":"https://github.com/beancount/beancount/pull/1015.patch","merged_at":"2026-01-29T03:45:17Z"},"body":"I just create pre-compiled binary on pypi for flex/bison/winflexbison , so it will be possible to use then to build beancount without extra system tool dependency.\r\n\r\nThey don't target to any python abi, so they doesn't need to release a new version for new python.\r\n\r\n\r\nhttps://pypi.org/project/flex-bin/#files\r\nhttps://pypi.org/project/bison-bin/#files\r\nhttps://pypi.org/project/winflexbison-bin/#files\r\n","closed_by":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/beancount/beancount/issues/1015/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beancount/issues/1015/timeline","performed_via_github_app":null,"state_reason":null},{"url":"https://api.github.com/repos/beancount/beancount/issues/1013","repository_url":"https://api.github.com/repos/beancount/beancount","labels_url":"https://api.github.com/repos/beancount/beancount/issues/1013/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beancount/issues/1013/comments","events_url":"https://api.github.com/repos/beancount/beancount/issues/1013/events","html_url":"https://github.com/beancount/beancount/pull/1013","id":3862791858,"node_id":"PR_kwDOD91Bd86_uE_x","number":1013,"title":"change required_daily_prices date range to include one day ranges","user":{"login":"stenius","id":283889,"node_id":"MDQ6VXNlcjI4Mzg4OQ==","avatar_url":"https://avatars.githubusercontent.com/u/283889?v=4","gravatar_id":"","url":"https://api.github.com/users/stenius","html_url":"https://github.com/stenius","followers_url":"https://api.github.com/users/stenius/followers","following_url":"https://api.github.com/users/stenius/following{/other_user}","gists_url":"https://api.github.com/users/stenius/gists{/gist_id}","starred_url":"https://api.github.com/users/stenius/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/stenius/subscriptions","organizations_url":"https://api.github.com/users/stenius/orgs","repos_url":"https://api.github.com/users/stenius/repos","events_url":"https://api.github.com/users/stenius/events{/privacy}","received_events_url":"https://api.github.com/users/stenius/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"open","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":0,"created_at":"2026-01-27T23:03:31Z","updated_at":"2026-01-27T23:03:31Z","closed_at":null,"author_association":"NONE","type":null,"active_lock_reason":null,"draft":false,"pull_request":{"url":"https://api.github.com/repos/beancount/beancount/pulls/1013","html_url":"https://github.com/beancount/beancount/pull/1013","diff_url":"https://github.com/beancount/beancount/pull/1013.diff","patch_url":"https://github.com/beancount/beancount/pull/1013.patch","merged_at":null},"body":"fixes half of #1012 ","closed_by":null,"reactions":{"url":"https://api.github.com/repos/beancount/beancount/issues/1013/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beancount/issues/1013/timeline","performed_via_github_app":null,"state_reason":null},{"url":"https://api.github.com/repos/beancount/beancount/issues/1012","repository_url":"https://api.github.com/repos/beancount/beancount","labels_url":"https://api.github.com/repos/beancount/beancount/issues/1012/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beancount/issues/1012/comments","events_url":"https://api.github.com/repos/beancount/beancount/issues/1012/events","html_url":"https://github.com/beancount/beancount/issues/1012","id":3862768411,"node_id":"I_kwDOD91Bd87mPSsb","number":1012,"title":"`bean-price --update` fails to fetch prices for current day","user":{"login":"stenius","id":283889,"node_id":"MDQ6VXNlcjI4Mzg4OQ==","avatar_url":"https://avatars.githubusercontent.com/u/283889?v=4","gravatar_id":"","url":"https://api.github.com/users/stenius","html_url":"https://github.com/stenius","followers_url":"https://api.github.com/users/stenius/followers","following_url":"https://api.github.com/users/stenius/following{/other_user}","gists_url":"https://api.github.com/users/stenius/gists{/gist_id}","starred_url":"https://api.github.com/users/stenius/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/stenius/subscriptions","organizations_url":"https://api.github.com/users/stenius/orgs","repos_url":"https://api.github.com/users/stenius/repos","events_url":"https://api.github.com/users/stenius/events{/privacy}","received_events_url":"https://api.github.com/users/stenius/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"open","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":4,"created_at":"2026-01-27T22:55:59Z","updated_at":"2026-01-28T15:31:25Z","closed_at":null,"author_association":"NONE","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"\n## Summary\n\n`bean-price --update` fails to create price jobs for the current day due to two off-by-one errors: one in `beanprice` and one in `beancount`.\n\n## Environment\n\n- beancount==3.2.0\n- beanprice==1.2.1\n- Python 3.13\n\n## Steps to Reproduce\n\n1. Have a ledger with prices through yesterday (e.g., 2026-01-26)\n2. Run `bean-price --update` today (2026-01-27)\n3. No prices are fetched\n\n```bash\n$ bean-price --no-cache -i --update main.beancount\n# (no output - no prices fetched)\n```\n\n## Expected Behavior\n\nPrices for the current day should be fetched.\n\n## Root Cause\n\nTwo off-by-one bugs prevent jobs from being created:\n\n### Bug 1: beanprice/price.py line 416\n\nIn `get_price_jobs_up_to_date()`:\n\n```python\nlatest_price_date = result[0]  # 2026-01-26\ndate_first = latest_price_date + datetime.timedelta(days=1)  # 2026-01-27\nif date_first < date_last:  # 2026-01-27 < 2026-01-27 = False\n    # interval created\nelse:\n    lifetimes_map[base_quote] = []  # No interval!\n```\n\n**Fix:** Change `<` to `<=` on line 416.\n\n### Bug 2: beancount/ops/lifetimes.py line 217\n\nEven after fixing Bug 1, `required_daily_prices()` fails to enumerate the date:\n\n```python\n# interval is (2026-01-27, 2026-01-27)\ndate = date_begin  # 2026-01-27\nwhile date < date_end:  # 2026-01-27 < 2026-01-27 = False\n    results.append(...)  # Never executes!\n```\n\n**Fix:** Change `<` to `<=` on line 217.\n\n## Minimal Reproducer\n\n```python\nimport datetime\nfrom beancount.ops import lifetimes\n\n# Single-day interval matching date_last\nlifetimes_map = {('VTI', 'USD'): [(datetime.date(2026, 1, 27), datetime.date(2026, 1, 27))]}\ndate_last = datetime.date(2026, 1, 27)\n\nresult = lifetimes.required_daily_prices(lifetimes_map, date_last, weekdays_only=False)\n\nprint(f'result: {result}')\nprint(f'expected: [(datetime.date(2026, 1, 27), \"VTI\", \"USD\")]')\n# BUG: result is [] instead of containing one entry\n```\n\n## Patches\n\n### beanprice/price.py\n\n```diff\n-            if date_first < date_last:\n+            if date_first <= date_last:\n```\n\n### beancount/ops/lifetimes.py\n\n```diff\n-            while date < date_end:\n+            while date <= date_end:\n```\n\n## Workaround\n\nRun without `--update`:\n\n```bash\nbean-price --no-cache -i main.beancount\n```\n\nThis uses `get_latest_price()` instead of `get_historical_price()` and doesn't rely on the buggy job creation logic.","closed_by":null,"reactions":{"url":"https://api.github.com/repos/beancount/beancount/issues/1012/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beancount/issues/1012/timeline","performed_via_github_app":null,"state_reason":null},{"url":"https://api.github.com/repos/beancount/beancount/issues/1011","repository_url":"https://api.github.com/repos/beancount/beancount","labels_url":"https://api.github.com/repos/beancount/beancount/issues/1011/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beancount/issues/1011/comments","events_url":"https://api.github.com/repos/beancount/beancount/issues/1011/events","html_url":"https://github.com/beancount/beancount/pull/1011","id":3851694435,"node_id":"PR_kwDOD91Bd86_J76M","number":1011,"title":"feat: add default `None` for Posting optional attributes","user":{"login":"trim21","id":13553903,"node_id":"MDQ6VXNlcjEzNTUzOTAz","avatar_url":"https://avatars.githubusercontent.com/u/13553903?v=4","gravatar_id":"","url":"https://api.github.com/users/trim21","html_url":"https://github.com/trim21","followers_url":"https://api.github.com/users/trim21/followers","following_url":"https://api.github.com/users/trim21/following{/other_user}","gists_url":"https://api.github.com/users/trim21/gists{/gist_id}","starred_url":"https://api.github.com/users/trim21/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/trim21/subscriptions","organizations_url":"https://api.github.com/users/trim21/orgs","repos_url":"https://api.github.com/users/trim21/repos","events_url":"https://api.github.com/users/trim21/events{/privacy}","received_events_url":"https://api.github.com/users/trim21/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"open","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":2,"created_at":"2026-01-24T17:46:13Z","updated_at":"2026-01-25T21:20:33Z","closed_at":null,"author_association":"CONTRIBUTOR","type":null,"active_lock_reason":null,"draft":false,"pull_request":{"url":"https://api.github.com/repos/beancount/beancount/pulls/1011","html_url":"https://github.com/beancount/beancount/pull/1011","diff_url":"https://github.com/beancount/beancount/pull/1011.diff","patch_url":"https://github.com/beancount/beancount/pull/1011.patch","merged_at":null},"body":"This is a quality of life change that should not affect any previous code.\r\n\r\nPreviously `Posting(\"Expenses:Food\")` will throw a `TypeError` becasue it need users to pass all argumenst, but actully only `account: Account` is required.\r\n\r\nAfter this, `Posting(\"Expenses:Food\")` is valid.\r\n\r\nBut we can't do the same thing fot `Transaction`, because the `postings` is the last property, and `list` is mutable. same problem like the default of value of function arguments.\r\n\r\nhttps://github.com/beancount/beancount/blob/661d3e81476c3eba7c05576454c67698f9d8baf2/beancount/core/data.py#L266-L269 , this default value will be shared by all `Transaction` instance what do not have a `postings` argument.","closed_by":null,"reactions":{"url":"https://api.github.com/repos/beancount/beancount/issues/1011/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beancount/issues/1011/timeline","performed_via_github_app":null,"state_reason":null},{"url":"https://api.github.com/repos/beancount/beancount/issues/1009","repository_url":"https://api.github.com/repos/beancount/beancount","labels_url":"https://api.github.com/repos/beancount/beancount/issues/1009/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beancount/issues/1009/comments","events_url":"https://api.github.com/repos/beancount/beancount/issues/1009/events","html_url":"https://github.com/beancount/beancount/pull/1009","id":3841992296,"node_id":"PR_kwDOD91Bd86-pe-a","number":1009,"title":"[fix] treeify: Allow accounts with components starting with a number","user":{"login":"NReilingh","id":2458645,"node_id":"MDQ6VXNlcjI0NTg2NDU=","avatar_url":"https://avatars.githubusercontent.com/u/2458645?v=4","gravatar_id":"","url":"https://api.github.com/users/NReilingh","html_url":"https://github.com/NReilingh","followers_url":"https://api.github.com/users/NReilingh/followers","following_url":"https://api.github.com/users/NReilingh/following{/other_user}","gists_url":"https://api.github.com/users/NReilingh/gists{/gist_id}","starred_url":"https://api.github.com/users/NReilingh/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/NReilingh/subscriptions","organizations_url":"https://api.github.com/users/NReilingh/orgs","repos_url":"https://api.github.com/users/NReilingh/repos","events_url":"https://api.github.com/users/NReilingh/events{/privacy}","received_events_url":"https://api.github.com/users/NReilingh/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":1,"created_at":"2026-01-22T09:16:11Z","updated_at":"2026-01-27T09:27:43Z","closed_at":"2026-01-25T19:11:54Z","author_association":"CONTRIBUTOR","type":null,"active_lock_reason":null,"draft":false,"pull_request":{"url":"https://api.github.com/repos/beancount/beancount/pulls/1009","html_url":"https://github.com/beancount/beancount/pull/1009","diff_url":"https://github.com/beancount/beancount/pull/1009.diff","patch_url":"https://github.com/beancount/beancount/pull/1009.patch","merged_at":"2026-01-25T19:11:54Z"},"body":"Account components may begin with [0-9], which was disallowed\r\n\r\nAdded a test case\r\n\r\nResolves #387\r\n\r\nI noticed that the `DEFAULT_PATTERN` currently allows underscore and single quote in account names, which are disallowed by the spec/documentation. Not sure if that is intentional or should be changed to strictly conform.","closed_by":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/beancount/beancount/issues/1009/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beancount/issues/1009/timeline","performed_via_github_app":null,"state_reason":null},{"url":"https://api.github.com/repos/beancount/beancount/issues/1008","repository_url":"https://api.github.com/repos/beancount/beancount","labels_url":"https://api.github.com/repos/beancount/beancount/issues/1008/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beancount/issues/1008/comments","events_url":"https://api.github.com/repos/beancount/beancount/issues/1008/events","html_url":"https://github.com/beancount/beancount/pull/1008","id":3839327465,"node_id":"PR_kwDOD91Bd86-ggLL","number":1008,"title":"py314: re-enable refcount tests, adjusting for optimisations","user":{"login":"yagebu","id":2482259,"node_id":"MDQ6VXNlcjI0ODIyNTk=","avatar_url":"https://avatars.githubusercontent.com/u/2482259?v=4","gravatar_id":"","url":"https://api.github.com/users/yagebu","html_url":"https://github.com/yagebu","followers_url":"https://api.github.com/users/yagebu/followers","following_url":"https://api.github.com/users/yagebu/following{/other_user}","gists_url":"https://api.github.com/users/yagebu/gists{/gist_id}","starred_url":"https://api.github.com/users/yagebu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/yagebu/subscriptions","organizations_url":"https://api.github.com/users/yagebu/orgs","repos_url":"https://api.github.com/users/yagebu/repos","events_url":"https://api.github.com/users/yagebu/events{/privacy}","received_events_url":"https://api.github.com/users/yagebu/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":0,"created_at":"2026-01-21T17:39:37Z","updated_at":"2026-01-22T06:53:30Z","closed_at":"2026-01-21T23:33:18Z","author_association":"MEMBER","type":null,"active_lock_reason":null,"draft":false,"pull_request":{"url":"https://api.github.com/repos/beancount/beancount/pulls/1008","html_url":"https://github.com/beancount/beancount/pull/1008","diff_url":"https://github.com/beancount/beancount/pull/1008.diff","patch_url":"https://github.com/beancount/beancount/pull/1008.patch","merged_at":"2026-01-21T23:33:18Z"},"body":null,"closed_by":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/beancount/beancount/issues/1008/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beancount/issues/1008/timeline","performed_via_github_app":null,"state_reason":null},{"url":"https://api.github.com/repos/beancount/beancount/issues/1007","repository_url":"https://api.github.com/repos/beancount/beancount","labels_url":"https://api.github.com/repos/beancount/beancount/issues/1007/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beancount/issues/1007/comments","events_url":"https://api.github.com/repos/beancount/beancount/issues/1007/events","html_url":"https://github.com/beancount/beancount/pull/1007","id":3835483494,"node_id":"PR_kwDOD91Bd86-Tqa0","number":1007,"title":"pyproject: add dependency groups for easy uv setup","user":{"login":"yagebu","id":2482259,"node_id":"MDQ6VXNlcjI0ODIyNTk=","avatar_url":"https://avatars.githubusercontent.com/u/2482259?v=4","gravatar_id":"","url":"https://api.github.com/users/yagebu","html_url":"https://github.com/yagebu","followers_url":"https://api.github.com/users/yagebu/followers","following_url":"https://api.github.com/users/yagebu/following{/other_user}","gists_url":"https://api.github.com/users/yagebu/gists{/gist_id}","starred_url":"https://api.github.com/users/yagebu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/yagebu/subscriptions","organizations_url":"https://api.github.com/users/yagebu/orgs","repos_url":"https://api.github.com/users/yagebu/repos","events_url":"https://api.github.com/users/yagebu/events{/privacy}","received_events_url":"https://api.github.com/users/yagebu/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":0,"created_at":"2026-01-20T21:12:06Z","updated_at":"2026-01-21T06:44:17Z","closed_at":"2026-01-21T03:39:08Z","author_association":"MEMBER","type":null,"active_lock_reason":null,"draft":false,"pull_request":{"url":"https://api.github.com/repos/beancount/beancount/pulls/1007","html_url":"https://github.com/beancount/beancount/pull/1007","diff_url":"https://github.com/beancount/beancount/pull/1007.diff","patch_url":"https://github.com/beancount/beancount/pull/1007.patch","merged_at":"2026-01-21T03:39:08Z"},"body":"Like this, one can just run `uv sync` to get a .venv with test and types dependencies setup as well.\nThen also a plain `pytest` or `mypy` in an editor integration works without extra steps.\n","closed_by":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/beancount/beancount/issues/1007/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beancount/issues/1007/timeline","performed_via_github_app":null,"state_reason":null},{"url":"https://api.github.com/repos/beancount/beancount/issues/1006","repository_url":"https://api.github.com/repos/beancount/beancount","labels_url":"https://api.github.com/repos/beancount/beancount/issues/1006/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beancount/issues/1006/comments","events_url":"https://api.github.com/repos/beancount/beancount/issues/1006/events","html_url":"https://github.com/beancount/beancount/pull/1006","id":3827149393,"node_id":"PR_kwDOD91Bd8694K21","number":1006,"title":"build abi3 wheels for unix platform","user":{"login":"trim21","id":13553903,"node_id":"MDQ6VXNlcjEzNTUzOTAz","avatar_url":"https://avatars.githubusercontent.com/u/13553903?v=4","gravatar_id":"","url":"https://api.github.com/users/trim21","html_url":"https://github.com/trim21","followers_url":"https://api.github.com/users/trim21/followers","following_url":"https://api.github.com/users/trim21/following{/other_user}","gists_url":"https://api.github.com/users/trim21/gists{/gist_id}","starred_url":"https://api.github.com/users/trim21/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/trim21/subscriptions","organizations_url":"https://api.github.com/users/trim21/orgs","repos_url":"https://api.github.com/users/trim21/repos","events_url":"https://api.github.com/users/trim21/events{/privacy}","received_events_url":"https://api.github.com/users/trim21/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":3,"created_at":"2026-01-18T18:48:06Z","updated_at":"2026-02-06T18:10:46Z","closed_at":"2026-02-06T18:10:46Z","author_association":"CONTRIBUTOR","type":null,"active_lock_reason":null,"draft":false,"pull_request":{"url":"https://api.github.com/repos/beancount/beancount/pulls/1006","html_url":"https://github.com/beancount/beancount/pull/1006","diff_url":"https://github.com/beancount/beancount/pull/1006.diff","patch_url":"https://github.com/beancount/beancount/pull/1006.patch","merged_at":null},"body":"meson can't build abi3 wheels for windows yet.\r\n\r\nthe abi3 wheels is disabled by default so users still got non-abi3 wheel when they try to install from source, but we still build them in CI, so users of wheels can use them.","closed_by":{"login":"trim21","id":13553903,"node_id":"MDQ6VXNlcjEzNTUzOTAz","avatar_url":"https://avatars.githubusercontent.com/u/13553903?v=4","gravatar_id":"","url":"https://api.github.com/users/trim21","html_url":"https://github.com/trim21","followers_url":"https://api.github.com/users/trim21/followers","following_url":"https://api.github.com/users/trim21/following{/other_user}","gists_url":"https://api.github.com/users/trim21/gists{/gist_id}","starred_url":"https://api.github.com/users/trim21/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/trim21/subscriptions","organizations_url":"https://api.github.com/users/trim21/orgs","repos_url":"https://api.github.com/users/trim21/repos","events_url":"https://api.github.com/users/trim21/events{/privacy}","received_events_url":"https://api.github.com/users/trim21/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/beancount/beancount/issues/1006/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beancount/issues/1006/timeline","performed_via_github_app":null,"state_reason":null},{"url":"https://api.github.com/repos/beancount/beancount/issues/1005","repository_url":"https://api.github.com/repos/beancount/beancount","labels_url":"https://api.github.com/repos/beancount/beancount/issues/1005/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beancount/issues/1005/comments","events_url":"https://api.github.com/repos/beancount/beancount/issues/1005/events","html_url":"https://github.com/beancount/beancount/pull/1005","id":3814343972,"node_id":"PR_kwDOD91Bd869N27Z","number":1005,"title":"feat: add `--json` flag to show errors as json","user":{"login":"trim21","id":13553903,"node_id":"MDQ6VXNlcjEzNTUzOTAz","avatar_url":"https://avatars.githubusercontent.com/u/13553903?v=4","gravatar_id":"","url":"https://api.github.com/users/trim21","html_url":"https://github.com/trim21","followers_url":"https://api.github.com/users/trim21/followers","following_url":"https://api.github.com/users/trim21/following{/other_user}","gists_url":"https://api.github.com/users/trim21/gists{/gist_id}","starred_url":"https://api.github.com/users/trim21/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/trim21/subscriptions","organizations_url":"https://api.github.com/users/trim21/orgs","repos_url":"https://api.github.com/users/trim21/repos","events_url":"https://api.github.com/users/trim21/events{/privacy}","received_events_url":"https://api.github.com/users/trim21/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":0,"created_at":"2026-01-14T18:19:47Z","updated_at":"2026-01-15T05:15:02Z","closed_at":"2026-01-15T04:15:23Z","author_association":"CONTRIBUTOR","type":null,"active_lock_reason":null,"draft":false,"pull_request":{"url":"https://api.github.com/repos/beancount/beancount/pulls/1005","html_url":"https://github.com/beancount/beancount/pull/1005","diff_url":"https://github.com/beancount/beancount/pull/1005.diff","patch_url":"https://github.com/beancount/beancount/pull/1005.patch","merged_at":"2026-01-15T04:15:23Z"},"body":"this will allow LSP get errors more easily","closed_by":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/beancount/beancount/issues/1005/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beancount/issues/1005/timeline","performed_via_github_app":null,"state_reason":null},{"url":"https://api.github.com/repos/beancount/beancount/issues/1004","repository_url":"https://api.github.com/repos/beancount/beancount","labels_url":"https://api.github.com/repos/beancount/beancount/issues/1004/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beancount/issues/1004/comments","events_url":"https://api.github.com/repos/beancount/beancount/issues/1004/events","html_url":"https://github.com/beancount/beancount/issues/1004","id":3807223985,"node_id":"I_kwDOD91Bd87i7aCx","number":1004,"title":"Interpolated currencies are missed when inferring tolerances","user":{"login":"komeP","id":13074910,"node_id":"MDQ6VXNlcjEzMDc0OTEw","avatar_url":"https://avatars.githubusercontent.com/u/13074910?v=4","gravatar_id":"","url":"https://api.github.com/users/komeP","html_url":"https://github.com/komeP","followers_url":"https://api.github.com/users/komeP/followers","following_url":"https://api.github.com/users/komeP/following{/other_user}","gists_url":"https://api.github.com/users/komeP/gists{/gist_id}","starred_url":"https://api.github.com/users/komeP/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/komeP/subscriptions","organizations_url":"https://api.github.com/users/komeP/orgs","repos_url":"https://api.github.com/users/komeP/repos","events_url":"https://api.github.com/users/komeP/events{/privacy}","received_events_url":"https://api.github.com/users/komeP/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"open","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":0,"created_at":"2026-01-13T05:48:24Z","updated_at":"2026-01-13T05:48:24Z","closed_at":null,"author_association":"NONE","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"Commit a3a6c64 changed the interpolation code to examine the currencies used in a posting, presumably for the sake of efficiency/correctness. Unfortunately, when an inferred-value posting runs through this code before the inference is complete, the currency is `beancount.core.number.MISSING`. This can result in the posting using the default tolerance for inference, which may result in an over-rounded inferred value.\n\nIn the following example, the intention is that USD is rounded to the nearest cent and THINGs are rounded to the nearest unit. Unfortunately, when the expense is inferred in the last posting, the tolerance used is 0.5 so the inferred value becomes 1 USD. When a second pass runs against the now-complete posting, the currency is present, the USD tolerance of 0.005 is used, and a transaction imbalance is reported.\n\n```\noption \"inferred_tolerance_default\" \"USD:0.005\"\noption \"inferred_tolerance_default\" \"*:0.5\"\n\n2026-01-01 open Equity:Opening-Balances USD\n2026-01-01 open Assets:Inventory        THING\n2026-01-01 open Expenses:Materials      USD\n\n2026-01-01 * \"Somewhere\"\n        Equity:Opening-Balances         -0.97 USD\n        Assets:Inventory                1 THING {0.97 USD}\n\n2026-01-01 * \"Somewhere Else\"\n        Assets:Inventory                -1 THING {}\n        Expenses:Materials\n```\n\n```\n$ bean-query broke.beancount SELECT '*'\nbroke.beancount:12: Transaction does not balance: (0.03 USD)\n\n   2026-01-01 * \"Somewhere Else\"\n     Assets:Inventory    -1 THING {0.97 USD, 2026-01-01}\n     Expenses:Materials   1 USD\n\n\n   date     f  p    narration             position\n----------  -  -  --------------  -----------------------\n2026-01-01  *     Somewhere       -0.97 USD\n2026-01-01  *     Somewhere        1    THING { 0.97 USD}\n2026-01-01  *     Somewhere Else  -1    THING { 0.97 USD}\n2026-01-01  *     Somewhere Else   1.00 USD\n```","closed_by":null,"reactions":{"url":"https://api.github.com/repos/beancount/beancount/issues/1004/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beancount/issues/1004/timeline","performed_via_github_app":null,"state_reason":null},{"url":"https://api.github.com/repos/beancount/beancount/issues/1003","repository_url":"https://api.github.com/repos/beancount/beancount","labels_url":"https://api.github.com/repos/beancount/beancount/issues/1003/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beancount/issues/1003/comments","events_url":"https://api.github.com/repos/beancount/beancount/issues/1003/events","html_url":"https://github.com/beancount/beancount/pull/1003","id":3800880721,"node_id":"PR_kwDOD91Bd868hl2E","number":1003,"title":"ci: setup trusted publishing","user":{"login":"tomodachi94","id":68489118,"node_id":"MDQ6VXNlcjY4NDg5MTE4","avatar_url":"https://avatars.githubusercontent.com/u/68489118?v=4","gravatar_id":"","url":"https://api.github.com/users/tomodachi94","html_url":"https://github.com/tomodachi94","followers_url":"https://api.github.com/users/tomodachi94/followers","following_url":"https://api.github.com/users/tomodachi94/following{/other_user}","gists_url":"https://api.github.com/users/tomodachi94/gists{/gist_id}","starred_url":"https://api.github.com/users/tomodachi94/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tomodachi94/subscriptions","organizations_url":"https://api.github.com/users/tomodachi94/orgs","repos_url":"https://api.github.com/users/tomodachi94/repos","events_url":"https://api.github.com/users/tomodachi94/events{/privacy}","received_events_url":"https://api.github.com/users/tomodachi94/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"open","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":0,"created_at":"2026-01-11T07:18:05Z","updated_at":"2026-01-11T07:18:05Z","closed_at":null,"author_association":"NONE","type":null,"active_lock_reason":null,"draft":false,"pull_request":{"url":"https://api.github.com/repos/beancount/beancount/pulls/1003","html_url":"https://github.com/beancount/beancount/pull/1003","diff_url":"https://github.com/beancount/beancount/pull/1003.diff","patch_url":"https://github.com/beancount/beancount/pull/1003.patch","merged_at":null},"body":"> This approach eliminates the security risks associated with long-lived write tokens, which can be compromised, accidentally exposed in logs, or require manual rotation. (https://docs.npmjs.com/trusted-publishers#how-trusted-publishing-works)\r\n\r\nAn administrator of the PyPI package will need to finish setting this up on PyPI: https://docs.pypi.org/trusted-publishers/adding-a-publisher/","closed_by":null,"reactions":{"url":"https://api.github.com/repos/beancount/beancount/issues/1003/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beancount/issues/1003/timeline","performed_via_github_app":null,"state_reason":null},{"url":"https://api.github.com/repos/beancount/beancount/issues/1002","repository_url":"https://api.github.com/repos/beancount/beancount","labels_url":"https://api.github.com/repos/beancount/beancount/issues/1002/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beancount/issues/1002/comments","events_url":"https://api.github.com/repos/beancount/beancount/issues/1002/events","html_url":"https://github.com/beancount/beancount/issues/1002","id":3798461379,"node_id":"I_kwDOD91Bd87iZ-vD","number":1002,"title":"pipx install requires also bison","user":{"login":"Yrfo","id":43411549,"node_id":"MDQ6VXNlcjQzNDExNTQ5","avatar_url":"https://avatars.githubusercontent.com/u/43411549?v=4","gravatar_id":"","url":"https://api.github.com/users/Yrfo","html_url":"https://github.com/Yrfo","followers_url":"https://api.github.com/users/Yrfo/followers","following_url":"https://api.github.com/users/Yrfo/following{/other_user}","gists_url":"https://api.github.com/users/Yrfo/gists{/gist_id}","starred_url":"https://api.github.com/users/Yrfo/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Yrfo/subscriptions","organizations_url":"https://api.github.com/users/Yrfo/orgs","repos_url":"https://api.github.com/users/Yrfo/repos","events_url":"https://api.github.com/users/Yrfo/events{/privacy}","received_events_url":"https://api.github.com/users/Yrfo/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":3,"created_at":"2026-01-09T21:58:18Z","updated_at":"2026-01-10T23:22:52Z","closed_at":"2026-01-10T23:22:52Z","author_association":"NONE","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"Not really issue. but maybe can help someone. I am new to here and just try to follow initial install guide. I am on macos.\nPhyton was already in the system(not sure maybe my situation depends on python, my was Python 3.12.4).\nThen when I try to install 'pipx install beancount’ I got error\n```\npip seemed to fail to build package:\n    beancount\n\nSome possibly relevant errors from pip install:\n    error: subprocess-exited-with-error\n    ../meson.build:3:8: ERROR: Program 'bison win_bison' not found or not executable\n    error: metadata-generation-failed\n\nError installing beancount.\n```\nI checked with ‘chat’ that bison is needed and installed it with 'brew install bison’. After that 'pipx install beancount’ worked fine.\nNothing critical, but maybe can be mentioned in the documentation. ","closed_by":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/beancount/beancount/issues/1002/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beancount/issues/1002/timeline","performed_via_github_app":null,"state_reason":"completed"},{"url":"https://api.github.com/repos/beancount/beancount/issues/1001","repository_url":"https://api.github.com/repos/beancount/beancount","labels_url":"https://api.github.com/repos/beancount/beancount/issues/1001/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beancount/issues/1001/comments","events_url":"https://api.github.com/repos/beancount/beancount/issues/1001/events","html_url":"https://github.com/beancount/beancount/issues/1001","id":3798351061,"node_id":"I_kwDOD91Bd87iZjzV","number":1001,"title":"tolerance_multiplier does not work in included file","user":{"login":"mocsa","id":13969648,"node_id":"MDQ6VXNlcjEzOTY5NjQ4","avatar_url":"https://avatars.githubusercontent.com/u/13969648?v=4","gravatar_id":"","url":"https://api.github.com/users/mocsa","html_url":"https://github.com/mocsa","followers_url":"https://api.github.com/users/mocsa/followers","following_url":"https://api.github.com/users/mocsa/following{/other_user}","gists_url":"https://api.github.com/users/mocsa/gists{/gist_id}","starred_url":"https://api.github.com/users/mocsa/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mocsa/subscriptions","organizations_url":"https://api.github.com/users/mocsa/orgs","repos_url":"https://api.github.com/users/mocsa/repos","events_url":"https://api.github.com/users/mocsa/events{/privacy}","received_events_url":"https://api.github.com/users/mocsa/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":0,"created_at":"2026-01-09T21:05:49Z","updated_at":"2026-01-09T21:31:27Z","closed_at":"2026-01-09T21:31:27Z","author_association":"NONE","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"If you have a main file like this in beancount 3.2.0:\n\n```\ninclude \"MyOptions.beancount\"\n```\n\nand MyOptions.beancount is like this:\n\n```\noption \"tolerance_multiplier\" \"0.01\"\n```\n\nthen after opening the main file in fava you will see on the Options tab that  \"tolerance_multiplier\" still has the default of \"0.5\". Also, from the behavior of transactions it is obvious that the option has in fact not been changed.\n\nAs soon as you change the  main file to this:\n\n```\ninclude \"MyOptions.beancount\"\noption \"tolerance_multiplier\" \"0.01\"\n```\n\nthe option is changed in fava and it starts to have an effect.","closed_by":{"login":"mocsa","id":13969648,"node_id":"MDQ6VXNlcjEzOTY5NjQ4","avatar_url":"https://avatars.githubusercontent.com/u/13969648?v=4","gravatar_id":"","url":"https://api.github.com/users/mocsa","html_url":"https://github.com/mocsa","followers_url":"https://api.github.com/users/mocsa/followers","following_url":"https://api.github.com/users/mocsa/following{/other_user}","gists_url":"https://api.github.com/users/mocsa/gists{/gist_id}","starred_url":"https://api.github.com/users/mocsa/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mocsa/subscriptions","organizations_url":"https://api.github.com/users/mocsa/orgs","repos_url":"https://api.github.com/users/mocsa/repos","events_url":"https://api.github.com/users/mocsa/events{/privacy}","received_events_url":"https://api.github.com/users/mocsa/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/beancount/beancount/issues/1001/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beancount/issues/1001/timeline","performed_via_github_app":null,"state_reason":"completed"},{"url":"https://api.github.com/repos/beancount/beancount/issues/1000","repository_url":"https://api.github.com/repos/beancount/beancount","labels_url":"https://api.github.com/repos/beancount/beancount/issues/1000/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beancount/issues/1000/comments","events_url":"https://api.github.com/repos/beancount/beancount/issues/1000/events","html_url":"https://github.com/beancount/beancount/pull/1000","id":3795355268,"node_id":"PR_kwDOD91Bd868QAA8","number":1000,"title":"ci: upgrade cibuildwheel for python3.14","user":{"login":"trim21","id":13553903,"node_id":"MDQ6VXNlcjEzNTUzOTAz","avatar_url":"https://avatars.githubusercontent.com/u/13553903?v=4","gravatar_id":"","url":"https://api.github.com/users/trim21","html_url":"https://github.com/trim21","followers_url":"https://api.github.com/users/trim21/followers","following_url":"https://api.github.com/users/trim21/following{/other_user}","gists_url":"https://api.github.com/users/trim21/gists{/gist_id}","starred_url":"https://api.github.com/users/trim21/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/trim21/subscriptions","organizations_url":"https://api.github.com/users/trim21/orgs","repos_url":"https://api.github.com/users/trim21/repos","events_url":"https://api.github.com/users/trim21/events{/privacy}","received_events_url":"https://api.github.com/users/trim21/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":0,"created_at":"2026-01-09T03:49:23Z","updated_at":"2026-01-09T13:18:01Z","closed_at":"2026-01-09T13:17:26Z","author_association":"CONTRIBUTOR","type":null,"active_lock_reason":null,"draft":false,"pull_request":{"url":"https://api.github.com/repos/beancount/beancount/pulls/1000","html_url":"https://github.com/beancount/beancount/pull/1000","diff_url":"https://github.com/beancount/beancount/pull/1000.diff","patch_url":"https://github.com/beancount/beancount/pull/1000.patch","merged_at":"2026-01-09T13:17:26Z"},"body":"we need new cibuildwheel to build wheels for python3.14\r\n\r\nalso some minor change because it use new manylinux docker image, shipped with a different version of GCC.","closed_by":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/beancount/beancount/issues/1000/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beancount/issues/1000/timeline","performed_via_github_app":null,"state_reason":null},{"url":"https://api.github.com/repos/beancount/beancount/issues/999","repository_url":"https://api.github.com/repos/beancount/beancount","labels_url":"https://api.github.com/repos/beancount/beancount/issues/999/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beancount/issues/999/comments","events_url":"https://api.github.com/repos/beancount/beancount/issues/999/events","html_url":"https://github.com/beancount/beancount/pull/999","id":3793258203,"node_id":"PR_kwDOD91Bd868I-S0","number":999,"title":"fix: printer should insert space between tags and links","user":{"login":"trim21","id":13553903,"node_id":"MDQ6VXNlcjEzNTUzOTAz","avatar_url":"https://avatars.githubusercontent.com/u/13553903?v=4","gravatar_id":"","url":"https://api.github.com/users/trim21","html_url":"https://github.com/trim21","followers_url":"https://api.github.com/users/trim21/followers","following_url":"https://api.github.com/users/trim21/following{/other_user}","gists_url":"https://api.github.com/users/trim21/gists{/gist_id}","starred_url":"https://api.github.com/users/trim21/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/trim21/subscriptions","organizations_url":"https://api.github.com/users/trim21/orgs","repos_url":"https://api.github.com/users/trim21/repos","events_url":"https://api.github.com/users/trim21/events{/privacy}","received_events_url":"https://api.github.com/users/trim21/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":1,"created_at":"2026-01-08T15:04:28Z","updated_at":"2026-01-18T16:29:35Z","closed_at":"2026-01-18T16:28:48Z","author_association":"CONTRIBUTOR","type":null,"active_lock_reason":null,"draft":false,"pull_request":{"url":"https://api.github.com/repos/beancount/beancount/pulls/999","html_url":"https://github.com/beancount/beancount/pull/999","diff_url":"https://github.com/beancount/beancount/pull/999.diff","patch_url":"https://github.com/beancount/beancount/pull/999.patch","merged_at":"2026-01-18T16:28:48Z"},"body":"we previous print document as `2014-06-08 document Assets:Account1 \"{path}\" #tag1#tag2^link1^link2` which is ugly, now it's `2014-06-08 document Assets:Account1 \"{path}\" #tag1 #tag2 ^link1 ^link2`","closed_by":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/beancount/beancount/issues/999/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beancount/issues/999/timeline","performed_via_github_app":null,"state_reason":null},{"url":"https://api.github.com/repos/beancount/beancount/issues/998","repository_url":"https://api.github.com/repos/beancount/beancount","labels_url":"https://api.github.com/repos/beancount/beancount/issues/998/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beancount/issues/998/comments","events_url":"https://api.github.com/repos/beancount/beancount/issues/998/events","html_url":"https://github.com/beancount/beancount/pull/998","id":3791997660,"node_id":"PR_kwDOD91Bd868E0i_","number":998,"title":"ci: re-enable pre-commit","user":{"login":"trim21","id":13553903,"node_id":"MDQ6VXNlcjEzNTUzOTAz","avatar_url":"https://avatars.githubusercontent.com/u/13553903?v=4","gravatar_id":"","url":"https://api.github.com/users/trim21","html_url":"https://github.com/trim21","followers_url":"https://api.github.com/users/trim21/followers","following_url":"https://api.github.com/users/trim21/following{/other_user}","gists_url":"https://api.github.com/users/trim21/gists{/gist_id}","starred_url":"https://api.github.com/users/trim21/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/trim21/subscriptions","organizations_url":"https://api.github.com/users/trim21/orgs","repos_url":"https://api.github.com/users/trim21/repos","events_url":"https://api.github.com/users/trim21/events{/privacy}","received_events_url":"https://api.github.com/users/trim21/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":0,"created_at":"2026-01-08T08:55:47Z","updated_at":"2026-01-19T04:01:13Z","closed_at":"2026-01-19T04:00:40Z","author_association":"CONTRIBUTOR","type":null,"active_lock_reason":null,"draft":false,"pull_request":{"url":"https://api.github.com/repos/beancount/beancount/pulls/998","html_url":"https://github.com/beancount/beancount/pull/998","diff_url":"https://github.com/beancount/beancount/pull/998.diff","patch_url":"https://github.com/beancount/beancount/pull/998.patch","merged_at":"2026-01-19T04:00:40Z"},"body":"We now have 2 ruff entry in projects, one is in pre-commit hooks, with pinned version, and one is in ci (called from `make lint`), without any version specification.\r\n\r\nSo when someone running pre-commit, the files got formatted by a old version of ruff.\r\n\r\nAlso we have pre-commit-config.yaml  and did't valid it in ci, cause it `out-of-sync` in project files and pre-commit hooks. This will cause trouble for developer that use pre-commit. And for users that don't use ruff, they have no idea which ruff version should they pick to run `make lint`, the ruff version will changes over time.\r\n\r\nIt should be more proper that we also use pre-commit hooks to do the linting in CI. (and maybe also in `make lint`?)\r\n\r\n\r\n","closed_by":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/beancount/beancount/issues/998/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beancount/issues/998/timeline","performed_via_github_app":null,"state_reason":null},{"url":"https://api.github.com/repos/beancount/beancount/issues/997","repository_url":"https://api.github.com/repos/beancount/beancount","labels_url":"https://api.github.com/repos/beancount/beancount/issues/997/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beancount/issues/997/comments","events_url":"https://api.github.com/repos/beancount/beancount/issues/997/events","html_url":"https://github.com/beancount/beancount/pull/997","id":3791802138,"node_id":"PR_kwDOD91Bd868ENW9","number":997,"title":"ci: run pre-commit hooks in lint ci instead of latest ruff","user":{"login":"trim21","id":13553903,"node_id":"MDQ6VXNlcjEzNTUzOTAz","avatar_url":"https://avatars.githubusercontent.com/u/13553903?v=4","gravatar_id":"","url":"https://api.github.com/users/trim21","html_url":"https://github.com/trim21","followers_url":"https://api.github.com/users/trim21/followers","following_url":"https://api.github.com/users/trim21/following{/other_user}","gists_url":"https://api.github.com/users/trim21/gists{/gist_id}","starred_url":"https://api.github.com/users/trim21/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/trim21/subscriptions","organizations_url":"https://api.github.com/users/trim21/orgs","repos_url":"https://api.github.com/users/trim21/repos","events_url":"https://api.github.com/users/trim21/events{/privacy}","received_events_url":"https://api.github.com/users/trim21/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":2,"created_at":"2026-01-08T07:54:42Z","updated_at":"2026-01-08T08:40:45Z","closed_at":"2026-01-08T08:33:22Z","author_association":"CONTRIBUTOR","type":null,"active_lock_reason":null,"draft":false,"pull_request":{"url":"https://api.github.com/repos/beancount/beancount/pulls/997","html_url":"https://github.com/beancount/beancount/pull/997","diff_url":"https://github.com/beancount/beancount/pull/997.diff","patch_url":"https://github.com/beancount/beancount/pull/997.patch","merged_at":null},"body":"We now have 2 ruff in projects, one is in pre-commit hooks, with pinned version, and one is in ci, without any version specification.\r\n\r\nSo when someone running pre-commit, the files got formatted by a old version of ruff.\r\n\r\nIt should be more proper that we also use pre-commit hooks to do the linting in CI.","closed_by":{"login":"dnicolodi","id":987145,"node_id":"MDQ6VXNlcjk4NzE0NQ==","avatar_url":"https://avatars.githubusercontent.com/u/987145?v=4","gravatar_id":"","url":"https://api.github.com/users/dnicolodi","html_url":"https://github.com/dnicolodi","followers_url":"https://api.github.com/users/dnicolodi/followers","following_url":"https://api.github.com/users/dnicolodi/following{/other_user}","gists_url":"https://api.github.com/users/dnicolodi/gists{/gist_id}","starred_url":"https://api.github.com/users/dnicolodi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dnicolodi/subscriptions","organizations_url":"https://api.github.com/users/dnicolodi/orgs","repos_url":"https://api.github.com/users/dnicolodi/repos","events_url":"https://api.github.com/users/dnicolodi/events{/privacy}","received_events_url":"https://api.github.com/users/dnicolodi/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/beancount/beancount/issues/997/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beancount/issues/997/timeline","performed_via_github_app":null,"state_reason":null},{"url":"https://api.github.com/repos/beancount/beancount/issues/996","repository_url":"https://api.github.com/repos/beancount/beancount","labels_url":"https://api.github.com/repos/beancount/beancount/issues/996/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beancount/issues/996/comments","events_url":"https://api.github.com/repos/beancount/beancount/issues/996/events","html_url":"https://github.com/beancount/beancount/pull/996","id":3790929335,"node_id":"PR_kwDOD91Bd868BTkG","number":996,"title":"ci: enable python 3.14","user":{"login":"trim21","id":13553903,"node_id":"MDQ6VXNlcjEzNTUzOTAz","avatar_url":"https://avatars.githubusercontent.com/u/13553903?v=4","gravatar_id":"","url":"https://api.github.com/users/trim21","html_url":"https://github.com/trim21","followers_url":"https://api.github.com/users/trim21/followers","following_url":"https://api.github.com/users/trim21/following{/other_user}","gists_url":"https://api.github.com/users/trim21/gists{/gist_id}","starred_url":"https://api.github.com/users/trim21/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/trim21/subscriptions","organizations_url":"https://api.github.com/users/trim21/orgs","repos_url":"https://api.github.com/users/trim21/repos","events_url":"https://api.github.com/users/trim21/events{/privacy}","received_events_url":"https://api.github.com/users/trim21/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":2,"created_at":"2026-01-08T01:49:35Z","updated_at":"2026-01-21T17:41:11Z","closed_at":"2026-01-08T04:09:55Z","author_association":"CONTRIBUTOR","type":null,"active_lock_reason":null,"draft":false,"pull_request":{"url":"https://api.github.com/repos/beancount/beancount/pulls/996","html_url":"https://github.com/beancount/beancount/pull/996","diff_url":"https://github.com/beancount/beancount/pull/996.diff","patch_url":"https://github.com/beancount/beancount/pull/996.patch","merged_at":"2026-01-08T04:09:55Z"},"body":"close https://github.com/beancount/beancount/issues/984\r\n\r\nIMO, refcount is internal details of cpython can we should not has assertion on it\r\n\r\n","closed_by":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/beancount/beancount/issues/996/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beancount/issues/996/timeline","performed_via_github_app":null,"state_reason":null},{"url":"https://api.github.com/repos/beancount/beancount/issues/995","repository_url":"https://api.github.com/repos/beancount/beancount","labels_url":"https://api.github.com/repos/beancount/beancount/issues/995/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beancount/issues/995/comments","events_url":"https://api.github.com/repos/beancount/beancount/issues/995/events","html_url":"https://github.com/beancount/beancount/pull/995","id":3790895692,"node_id":"PR_kwDOD91Bd868BMlr","number":995,"title":"drop python3.9","user":{"login":"trim21","id":13553903,"node_id":"MDQ6VXNlcjEzNTUzOTAz","avatar_url":"https://avatars.githubusercontent.com/u/13553903?v=4","gravatar_id":"","url":"https://api.github.com/users/trim21","html_url":"https://github.com/trim21","followers_url":"https://api.github.com/users/trim21/followers","following_url":"https://api.github.com/users/trim21/following{/other_user}","gists_url":"https://api.github.com/users/trim21/gists{/gist_id}","starred_url":"https://api.github.com/users/trim21/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/trim21/subscriptions","organizations_url":"https://api.github.com/users/trim21/orgs","repos_url":"https://api.github.com/users/trim21/repos","events_url":"https://api.github.com/users/trim21/events{/privacy}","received_events_url":"https://api.github.com/users/trim21/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":7,"created_at":"2026-01-08T01:27:20Z","updated_at":"2026-01-08T08:55:22Z","closed_at":"2026-01-08T08:34:11Z","author_association":"CONTRIBUTOR","type":null,"active_lock_reason":null,"draft":true,"pull_request":{"url":"https://api.github.com/repos/beancount/beancount/pulls/995","html_url":"https://github.com/beancount/beancount/pull/995","diff_url":"https://github.com/beancount/beancount/pull/995.diff","patch_url":"https://github.com/beancount/beancount/pull/995.patch","merged_at":null},"body":"ruff format these files for the reason I don't know","closed_by":{"login":"dnicolodi","id":987145,"node_id":"MDQ6VXNlcjk4NzE0NQ==","avatar_url":"https://avatars.githubusercontent.com/u/987145?v=4","gravatar_id":"","url":"https://api.github.com/users/dnicolodi","html_url":"https://github.com/dnicolodi","followers_url":"https://api.github.com/users/dnicolodi/followers","following_url":"https://api.github.com/users/dnicolodi/following{/other_user}","gists_url":"https://api.github.com/users/dnicolodi/gists{/gist_id}","starred_url":"https://api.github.com/users/dnicolodi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dnicolodi/subscriptions","organizations_url":"https://api.github.com/users/dnicolodi/orgs","repos_url":"https://api.github.com/users/dnicolodi/repos","events_url":"https://api.github.com/users/dnicolodi/events{/privacy}","received_events_url":"https://api.github.com/users/dnicolodi/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/beancount/beancount/issues/995/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beancount/issues/995/timeline","performed_via_github_app":null,"state_reason":null},{"url":"https://api.github.com/repos/beancount/beancount/issues/994","repository_url":"https://api.github.com/repos/beancount/beancount","labels_url":"https://api.github.com/repos/beancount/beancount/issues/994/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beancount/issues/994/comments","events_url":"https://api.github.com/repos/beancount/beancount/issues/994/events","html_url":"https://github.com/beancount/beancount/issues/994","id":3775230637,"node_id":"I_kwDOD91Bd87hBXKt","number":994,"title":"`bean-example` tests break when end date is New Year's Day","user":{"login":"Goorzhel","id":5069658,"node_id":"MDQ6VXNlcjUwNjk2NTg=","avatar_url":"https://avatars.githubusercontent.com/u/5069658?v=4","gravatar_id":"","url":"https://api.github.com/users/Goorzhel","html_url":"https://github.com/Goorzhel","followers_url":"https://api.github.com/users/Goorzhel/followers","following_url":"https://api.github.com/users/Goorzhel/following{/other_user}","gists_url":"https://api.github.com/users/Goorzhel/gists{/gist_id}","starred_url":"https://api.github.com/users/Goorzhel/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Goorzhel/subscriptions","organizations_url":"https://api.github.com/users/Goorzhel/orgs","repos_url":"https://api.github.com/users/Goorzhel/repos","events_url":"https://api.github.com/users/Goorzhel/events{/privacy}","received_events_url":"https://api.github.com/users/Goorzhel/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":1,"created_at":"2026-01-01T21:32:11Z","updated_at":"2026-01-01T22:47:44Z","closed_at":"2026-01-01T22:47:44Z","author_association":"NONE","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"```\n❯ bean-example --version\nBeancount 3.2.0\n❯ bean-example 2> stderr > stdout\n❯ grep Dates stdout\n;; Dates: 2024-01-01 - 2026-01-01\n```\n\n<details><summary>Tax years 2024 and 2025 have Opens</summary>\n\n```\n❯ grep 'open.*Taxes' stdout\n2024-01-01 open Expenses:Taxes:Y2024:US:Federal:PreTax401k      IRAUSD\n2024-01-01 open Expenses:Taxes:Y2024:US:Medicare                USD\n2024-01-01 open Expenses:Taxes:Y2024:US:Federal                 USD\n2024-01-01 open Expenses:Taxes:Y2024:US:CityNYC                 USD\n2024-01-01 open Expenses:Taxes:Y2024:US:SDI                     USD\n2024-01-01 open Expenses:Taxes:Y2024:US:State                   USD\n2024-01-01 open Expenses:Taxes:Y2024:US:SocSec                  USD\n2025-01-01 open Expenses:Taxes:Y2025:US:Federal:PreTax401k      IRAUSD\n2025-01-01 open Expenses:Taxes:Y2025:US:Medicare                USD\n2025-01-01 open Expenses:Taxes:Y2025:US:Federal                 USD\n2025-01-01 open Expenses:Taxes:Y2025:US:CityNYC                 USD\n2025-01-01 open Expenses:Taxes:Y2025:US:SDI                     USD\n2025-01-01 open Expenses:Taxes:Y2025:US:State                   USD\n2025-01-01 open Expenses:Taxes:Y2025:US:SocSec                  USD\n```\n</details>\n\n<details><summary>But not 2026</summary>\n\n```\n❯ grep Invalid stderr\n<string>:3953: Invalid reference to unknown account 'Expenses:Taxes:Y2026:US:Federal'\n<string>:3953: Invalid reference to unknown account 'Expenses:Taxes:Y2026:US:State'\n<string>:3953: Invalid reference to unknown account 'Expenses:Taxes:Y2026:US:CityNYC'\n<string>:3953: Invalid reference to unknown account 'Expenses:Taxes:Y2026:US:Federal:PreTax401k'\n<string>:3953: Invalid reference to unknown account 'Expenses:Taxes:Y2026:US:SocSec'\n<string>:3953: Invalid reference to unknown account 'Expenses:Taxes:Y2026:US:Medicare'\n<string>:3953: Invalid reference to unknown account 'Expenses:Taxes:Y2026:US:SDI'\n❯ grep -A 18 '2026-01-01.*Payroll' stdout\n2026-01-01 * \"Hoogle\" \"Payroll\"\n  Assets:US:BofA:Checking                          1350.60 USD\n  Assets:US:Vanguard:Cash                          1200.00 USD\n  Income:US:Hoogle:Salary                         -4615.38 USD\n  Income:US:Hoogle:GroupTermLife                    -24.32 USD\n  Expenses:Health:Life:GroupTermLife                 24.32 USD\n  Expenses:Health:Dental:Insurance                    2.90 USD\n  Expenses:Health:Medical:Insurance                  27.38 USD\n  Expenses:Health:Vision:Insurance                   42.30 USD\n  Expenses:Taxes:Y2026:US:Medicare                  106.62 USD\n  Expenses:Taxes:Y2026:US:Federal                  1062.92 USD\n  Expenses:Taxes:Y2026:US:State                     365.08 USD\n  Expenses:Taxes:Y2026:US:CityNYC                   174.92 USD\n  Expenses:Taxes:Y2026:US:SDI                         1.12 USD\n  Expenses:Taxes:Y2026:US:SocSec                    281.54 USD\n  Assets:US:Federal:PreTax401k                    -1200.00 IRAUSD\n  Expenses:Taxes:Y2026:US:Federal:PreTax401k       1200.00 IRAUSD\n  Assets:US:Hoogle:Vacation                              5 VACHR\n  Income:US:Hoogle:Vacation                             -5 VACHR\n```\n</details>\n\nThis breaks [the two `bean-example` tests](https://github.com/beancount/beancount/blob/3.2.0/beancount/scripts/example_test.py#L12-L33):\n\n```\n❯ python3 -m pytest -q -k generate beancount\n<...>\n========================================================= short test summary info ==========================================================\nFAILED beancount/scripts/example_test.py::TestScriptExample::test_generate - AssertionError: [ValidationError(source={'filename': '<string>', 'lineno': 4074, '__tolerances__': {'USD': Decimal('0.005'), 'IRAUSD': ...\nFAILED beancount/scripts/example_test.py::TestScriptExample::test_generate_with_date - AssertionError: [ValidationError(source={'filename': '<string>', 'lineno': 4122, '__tolerances__': {'USD': Decimal('0.005'), 'IRAUSD': ...\n```","closed_by":{"login":"Goorzhel","id":5069658,"node_id":"MDQ6VXNlcjUwNjk2NTg=","avatar_url":"https://avatars.githubusercontent.com/u/5069658?v=4","gravatar_id":"","url":"https://api.github.com/users/Goorzhel","html_url":"https://github.com/Goorzhel","followers_url":"https://api.github.com/users/Goorzhel/followers","following_url":"https://api.github.com/users/Goorzhel/following{/other_user}","gists_url":"https://api.github.com/users/Goorzhel/gists{/gist_id}","starred_url":"https://api.github.com/users/Goorzhel/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Goorzhel/subscriptions","organizations_url":"https://api.github.com/users/Goorzhel/orgs","repos_url":"https://api.github.com/users/Goorzhel/repos","events_url":"https://api.github.com/users/Goorzhel/events{/privacy}","received_events_url":"https://api.github.com/users/Goorzhel/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/beancount/beancount/issues/994/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beancount/issues/994/timeline","performed_via_github_app":null,"state_reason":"completed"},{"url":"https://api.github.com/repos/beancount/beancount/issues/993","repository_url":"https://api.github.com/repos/beancount/beancount","labels_url":"https://api.github.com/repos/beancount/beancount/issues/993/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beancount/issues/993/comments","events_url":"https://api.github.com/repos/beancount/beancount/issues/993/events","html_url":"https://github.com/beancount/beancount/pull/993","id":3774767208,"node_id":"PR_kwDOD91Bd867NP6m","number":993,"title":"Happy New Year!","user":{"login":"Artemis1-0","id":141044353,"node_id":"U_kgDOCGgqgQ","avatar_url":"https://avatars.githubusercontent.com/u/141044353?v=4","gravatar_id":"","url":"https://api.github.com/users/Artemis1-0","html_url":"https://github.com/Artemis1-0","followers_url":"https://api.github.com/users/Artemis1-0/followers","following_url":"https://api.github.com/users/Artemis1-0/following{/other_user}","gists_url":"https://api.github.com/users/Artemis1-0/gists{/gist_id}","starred_url":"https://api.github.com/users/Artemis1-0/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Artemis1-0/subscriptions","organizations_url":"https://api.github.com/users/Artemis1-0/orgs","repos_url":"https://api.github.com/users/Artemis1-0/repos","events_url":"https://api.github.com/users/Artemis1-0/events{/privacy}","received_events_url":"https://api.github.com/users/Artemis1-0/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":6,"created_at":"2026-01-01T14:49:00Z","updated_at":"2026-01-11T12:04:20Z","closed_at":"2026-01-10T23:24:09Z","author_association":"CONTRIBUTOR","type":null,"active_lock_reason":null,"draft":false,"pull_request":{"url":"https://api.github.com/repos/beancount/beancount/pulls/993","html_url":"https://github.com/beancount/beancount/pull/993","diff_url":"https://github.com/beancount/beancount/pull/993.diff","patch_url":"https://github.com/beancount/beancount/pull/993.patch","merged_at":null},"body":"Just updated the copyright year to 2026 (and a few small grammar changes here and there). Hope all of you have a wonderful and pleasant year ahead!\r\n\r\n🎉🎉🎉","closed_by":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/beancount/beancount/issues/993/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beancount/issues/993/timeline","performed_via_github_app":null,"state_reason":null},{"url":"https://api.github.com/repos/beancount/beancount/issues/992","repository_url":"https://api.github.com/repos/beancount/beancount","labels_url":"https://api.github.com/repos/beancount/beancount/issues/992/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beancount/issues/992/comments","events_url":"https://api.github.com/repos/beancount/beancount/issues/992/events","html_url":"https://github.com/beancount/beancount/issues/992","id":3769959431,"node_id":"I_kwDOD91Bd87gtQQH","number":992,"title":"Calculation of PnL for trading with cash currency different from quote currency","user":{"login":"upsuper","id":333750,"node_id":"MDQ6VXNlcjMzMzc1MA==","avatar_url":"https://avatars.githubusercontent.com/u/333750?v=4","gravatar_id":"","url":"https://api.github.com/users/upsuper","html_url":"https://github.com/upsuper","followers_url":"https://api.github.com/users/upsuper/followers","following_url":"https://api.github.com/users/upsuper/following{/other_user}","gists_url":"https://api.github.com/users/upsuper/gists{/gist_id}","starred_url":"https://api.github.com/users/upsuper/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/upsuper/subscriptions","organizations_url":"https://api.github.com/users/upsuper/orgs","repos_url":"https://api.github.com/users/upsuper/repos","events_url":"https://api.github.com/users/upsuper/events{/privacy}","received_events_url":"https://api.github.com/users/upsuper/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"open","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":0,"created_at":"2025-12-30T12:03:38Z","updated_at":"2025-12-30T23:06:54Z","closed_at":null,"author_association":"CONTRIBUTOR","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"I'm living in Australia and my cash account is in AUD, but I trade equities of other currencies, for example, USD. This creates an annoying issue when calculating PnL for trading.\n\nFor example, I could have the following transactions:\n```beancount\n2021-01-12 * \"Buy VOO\"\n    Assets:Trade:Cash     -4,550.00 AUD @@ 3,500.00 USD\n    Assets:Trade:VOO          10 VOO {350.00 USD}\n\n2025-12-30 * \"Sell VOO\"\n    Assets:Trade:Cash      9,000.00 AUD @@ 6,000.00 USD\n    Assets:Trade:VOO         -10 VOO {350.00 USD}\n    Income:PnL\n```\n\nIt can be easily seen that `Income:PnL` here would have `3,500 - 6,000 = -2,500 USD`. But this is not a very useful number, since the whole roundtrip involves no USD cash, so my actual profit should be `4,550 - 9,000 = 4,450 AUD`. This is also the number I would need to report as capital gain to the local tax authority.\n\nAn alternative method to record the transaction would be using the cash currency for the cost basis, something like\n```beancount\n2021-01-12 * \"Buy VOO\"\n    Assets:Trade:Cash     -4,550.00 AUD\n    Assets:Trade:VOO          10 VOO {455.00 AUD}\n\n2025-12-30 * \"Sell VOO\"\n    Assets:Trade:Cash      9,000.00 AUD\n    Assets:Trade:VOO         -10 VOO {455.00 AUD}\n    Income:PnL\n```\n\nThis way, the P&L account would correctly reflect the profit in AUD term, but it comes with other drawbacks:\n- It is more complicated to record in this way. Trade statements usually provide the total cost in the cash currency and unit price in the quote currency. Calculating the unit price in cash currency would involve manually dividing the total cost by the number of units, and there can be more rounding issues to handle with this approach.\n- It is also lossy. It discards the original price as well as the exchange rate involved in the transactions.\n- It doesn't play nicely with other parts of the ecosystem. Some examples include:\n  - bean-price would refuse to fetch its price by default (unless specifying `--inactive`, even though we actually have active inventories).\n  - Fava wouldn't show unrealized profit / loss based on the price data (because the cost basis and price differ on currency).\n\nAlso, using cash currency for cost basis means the asset is no longer counted towards the quote currency. To make it a bit clearer, say, if I'm holding 10 VOO costed 350 USD and currently priced at 600 USD, I'd like to see that I have 6,000 USD asset at market value. But if I use AUD for cost basis, at market value wouldn't be calculated because the currency mismatches. And even if it does calculate the market value on AUD, I'd still prefer to see how much asset denominated in USD I'm holding as oppose to its equivalence in AUD.\n\nI'm not sure what's the right solution here.\n\nMaybe recording the cost basis in cash currency is the right compromise, and it could be considered a problem of bean-price and Fava that they should be able to handle this mismatch and continue to fetch price / calculate market value even when the currency doesn't match. But again, such approach takes more effort and is less straightforward, as it collapses two levels of conversions (AUD -> USD -> VOO) into one.\n\nMaybe Beancount could support having different currencies between cost and price, and automatically track the price as the underlying cost, using the cost more as a helper for reference and value calculation purpose than being the actual cost, and then I can write it as something like\n```beancount\n2021-01-12 * \"Buy VOO\"\n    Assets:Trade:Cash     -4,550.00 AUD\n    Assets:Trade:VOO          10 VOO {350.00 USD} @@ 4,500.00 AUD\n\n2025-12-30 * \"Sell VOO\"\n    Assets:Trade:Cash      9,000.00 AUD\n    Assets:Trade:VOO         -10 VOO {350.00 USD} @@ 9,000.00 AUD\n    Income:PnL\n```\n\nand in the inventory, it should have a record of\n\n| units | cost | cost-price | date |\n| -- | -- | -- | -- |\n| 10 VOO | 350 USD | 455 AUD | 2021-01-12 |\n\nbetween the transactions.\n\nNot sure whether this was raised before. I did some brief search but didn't see anything. Feel free to close if it's a duplicate of a known issue.","closed_by":null,"reactions":{"url":"https://api.github.com/repos/beancount/beancount/issues/992/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beancount/issues/992/timeline","performed_via_github_app":null,"state_reason":null},{"url":"https://api.github.com/repos/beancount/beancount/issues/991","repository_url":"https://api.github.com/repos/beancount/beancount","labels_url":"https://api.github.com/repos/beancount/beancount/issues/991/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beancount/issues/991/comments","events_url":"https://api.github.com/repos/beancount/beancount/issues/991/events","html_url":"https://github.com/beancount/beancount/pull/991","id":3754468710,"node_id":"PR_kwDOD91Bd866LYmA","number":991,"title":"Fix typos in format.py","user":{"login":"pianoslum","id":8868890,"node_id":"MDQ6VXNlcjg4Njg4OTA=","avatar_url":"https://avatars.githubusercontent.com/u/8868890?v=4","gravatar_id":"","url":"https://api.github.com/users/pianoslum","html_url":"https://github.com/pianoslum","followers_url":"https://api.github.com/users/pianoslum/followers","following_url":"https://api.github.com/users/pianoslum/following{/other_user}","gists_url":"https://api.github.com/users/pianoslum/gists{/gist_id}","starred_url":"https://api.github.com/users/pianoslum/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pianoslum/subscriptions","organizations_url":"https://api.github.com/users/pianoslum/orgs","repos_url":"https://api.github.com/users/pianoslum/repos","events_url":"https://api.github.com/users/pianoslum/events{/privacy}","received_events_url":"https://api.github.com/users/pianoslum/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":1,"created_at":"2025-12-22T16:49:01Z","updated_at":"2025-12-24T04:20:48Z","closed_at":"2025-12-24T04:20:48Z","author_association":"CONTRIBUTOR","type":null,"active_lock_reason":null,"draft":false,"pull_request":{"url":"https://api.github.com/repos/beancount/beancount/pulls/991","html_url":"https://github.com/beancount/beancount/pull/991","diff_url":"https://github.com/beancount/beancount/pull/991.diff","patch_url":"https://github.com/beancount/beancount/pull/991.patch","merged_at":"2025-12-24T04:20:48Z"},"body":"Found the typo in the --help-string and looked for other typos in the file","closed_by":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/beancount/beancount/issues/991/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beancount/issues/991/timeline","performed_via_github_app":null,"state_reason":null},{"url":"https://api.github.com/repos/beancount/beancount/issues/990","repository_url":"https://api.github.com/repos/beancount/beancount","labels_url":"https://api.github.com/repos/beancount/beancount/issues/990/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beancount/issues/990/comments","events_url":"https://api.github.com/repos/beancount/beancount/issues/990/events","html_url":"https://github.com/beancount/beancount/pull/990","id":3729563556,"node_id":"PR_kwDOD91Bd8644Irk","number":990,"title":"Document that option 'documents' must be included in main file","user":{"login":"mlell","id":16210594,"node_id":"MDQ6VXNlcjE2MjEwNTk0","avatar_url":"https://avatars.githubusercontent.com/u/16210594?v=4","gravatar_id":"","url":"https://api.github.com/users/mlell","html_url":"https://github.com/mlell","followers_url":"https://api.github.com/users/mlell/followers","following_url":"https://api.github.com/users/mlell/following{/other_user}","gists_url":"https://api.github.com/users/mlell/gists{/gist_id}","starred_url":"https://api.github.com/users/mlell/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mlell/subscriptions","organizations_url":"https://api.github.com/users/mlell/orgs","repos_url":"https://api.github.com/users/mlell/repos","events_url":"https://api.github.com/users/mlell/events{/privacy}","received_events_url":"https://api.github.com/users/mlell/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"open","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":0,"created_at":"2025-12-15T09:33:59Z","updated_at":"2025-12-22T02:36:43Z","closed_at":null,"author_association":"NONE","type":null,"active_lock_reason":null,"draft":false,"pull_request":{"url":"https://api.github.com/repos/beancount/beancount/pulls/990","html_url":"https://github.com/beancount/beancount/pull/990","diff_url":"https://github.com/beancount/beancount/pull/990.diff","patch_url":"https://github.com/beancount/beancount/pull/990.patch","merged_at":null},"body":"... as a short-term workaround for #989 ","closed_by":null,"reactions":{"url":"https://api.github.com/repos/beancount/beancount/issues/990/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beancount/issues/990/timeline","performed_via_github_app":null,"state_reason":null},{"url":"https://api.github.com/repos/beancount/beancount/issues/989","repository_url":"https://api.github.com/repos/beancount/beancount","labels_url":"https://api.github.com/repos/beancount/beancount/issues/989/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beancount/issues/989/comments","events_url":"https://api.github.com/repos/beancount/beancount/issues/989/events","html_url":"https://github.com/beancount/beancount/issues/989","id":3729542453,"node_id":"I_kwDOD91Bd87eTE01","number":989,"title":"Also in v3, documents from a directory option does not work as expected from an include","user":{"login":"mlell","id":16210594,"node_id":"MDQ6VXNlcjE2MjEwNTk0","avatar_url":"https://avatars.githubusercontent.com/u/16210594?v=4","gravatar_id":"","url":"https://api.github.com/users/mlell","html_url":"https://github.com/mlell","followers_url":"https://api.github.com/users/mlell/followers","following_url":"https://api.github.com/users/mlell/following{/other_user}","gists_url":"https://api.github.com/users/mlell/gists{/gist_id}","starred_url":"https://api.github.com/users/mlell/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mlell/subscriptions","organizations_url":"https://api.github.com/users/mlell/orgs","repos_url":"https://api.github.com/users/mlell/repos","events_url":"https://api.github.com/users/mlell/events{/privacy}","received_events_url":"https://api.github.com/users/mlell/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"open","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":0,"created_at":"2025-12-15T09:29:14Z","updated_at":"2025-12-15T09:29:50Z","closed_at":null,"author_association":"NONE","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"In #596, it was projected that Beancount v3 will fix the problem that the \"directory\" option does not work if it is located in a file which is read in by inclusion:\n\n> In the current implementation, the include directive is not to be intended as a literal inclusion of the content of the included file in the source file (like the C pre-processor #include) but as a way to merge the interpreted content of the files. This results in the surprising behavior reported here and other limitations. I think there is agreement that the include directive should be revisited to be a literal copy in place of the included file. This will likely be implemented in v3.\n\nThe issue is closed but the problem persists, so I thought I'd create a new one.\n\nCurrently, it is still the case that `option \"documents\" \"/path/to/documents\"` must be written in the **main** beancount file, otherwise it does not work. This behaviour is not documented.","closed_by":null,"reactions":{"url":"https://api.github.com/repos/beancount/beancount/issues/989/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beancount/issues/989/timeline","performed_via_github_app":null,"state_reason":null},{"url":"https://api.github.com/repos/beancount/beancount/issues/988","repository_url":"https://api.github.com/repos/beancount/beancount","labels_url":"https://api.github.com/repos/beancount/beancount/issues/988/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beancount/issues/988/comments","events_url":"https://api.github.com/repos/beancount/beancount/issues/988/events","html_url":"https://github.com/beancount/beancount/issues/988","id":3722817558,"node_id":"I_kwDOD91Bd87d5bAW","number":988,"title":"Should Transaction._replace() be a public function?","user":{"login":"mlell","id":16210594,"node_id":"MDQ6VXNlcjE2MjEwNTk0","avatar_url":"https://avatars.githubusercontent.com/u/16210594?v=4","gravatar_id":"","url":"https://api.github.com/users/mlell","html_url":"https://github.com/mlell","followers_url":"https://api.github.com/users/mlell/followers","following_url":"https://api.github.com/users/mlell/following{/other_user}","gists_url":"https://api.github.com/users/mlell/gists{/gist_id}","starred_url":"https://api.github.com/users/mlell/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mlell/subscriptions","organizations_url":"https://api.github.com/users/mlell/orgs","repos_url":"https://api.github.com/users/mlell/repos","events_url":"https://api.github.com/users/mlell/events{/privacy}","received_events_url":"https://api.github.com/users/mlell/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":9,"created_at":"2025-12-12T10:06:48Z","updated_at":"2025-12-15T11:36:15Z","closed_at":"2025-12-15T09:58:18Z","author_association":"NONE","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"The transaction object has no setters for e.g. narration. When trying something like `txn.narration = \"new narration\"`, one gets an error (\"Can't set attribute\"). Beanquery uses the function `_replace()` in [its examples](https://github.com/beancount/beangulp/blob/c5e8188bd186a1c77bb5835b252f2f07d41dd85b/examples/import.py#L42). \n\nTransaction also implements `__replace__()`, allowing for `import copy; copy.replace(txn, narration = \"new narration\")`. \n\nApproach 1 (use private function) seems hack-ish, Approach 2 seems cumbersome for such a common task (probably required for most import hooks).\n\n-> Should the Transaction properties have setters or should the `_replace()` function become `replace()`, that is, public?\n\n","closed_by":{"login":"mlell","id":16210594,"node_id":"MDQ6VXNlcjE2MjEwNTk0","avatar_url":"https://avatars.githubusercontent.com/u/16210594?v=4","gravatar_id":"","url":"https://api.github.com/users/mlell","html_url":"https://github.com/mlell","followers_url":"https://api.github.com/users/mlell/followers","following_url":"https://api.github.com/users/mlell/following{/other_user}","gists_url":"https://api.github.com/users/mlell/gists{/gist_id}","starred_url":"https://api.github.com/users/mlell/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mlell/subscriptions","organizations_url":"https://api.github.com/users/mlell/orgs","repos_url":"https://api.github.com/users/mlell/repos","events_url":"https://api.github.com/users/mlell/events{/privacy}","received_events_url":"https://api.github.com/users/mlell/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/beancount/beancount/issues/988/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beancount/issues/988/timeline","performed_via_github_app":null,"state_reason":"completed"},{"url":"https://api.github.com/repos/beancount/beancount/issues/987","repository_url":"https://api.github.com/repos/beancount/beancount","labels_url":"https://api.github.com/repos/beancount/beancount/issues/987/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beancount/issues/987/comments","events_url":"https://api.github.com/repos/beancount/beancount/issues/987/events","html_url":"https://github.com/beancount/beancount/pull/987","id":3703235099,"node_id":"PR_kwDOD91Bd863hHRc","number":987,"title":"[BUGFIX] Value function should return cost basis for positions without a price","user":{"login":"aklitzke","id":6123576,"node_id":"MDQ6VXNlcjYxMjM1NzY=","avatar_url":"https://avatars.githubusercontent.com/u/6123576?v=4","gravatar_id":"","url":"https://api.github.com/users/aklitzke","html_url":"https://github.com/aklitzke","followers_url":"https://api.github.com/users/aklitzke/followers","following_url":"https://api.github.com/users/aklitzke/following{/other_user}","gists_url":"https://api.github.com/users/aklitzke/gists{/gist_id}","starred_url":"https://api.github.com/users/aklitzke/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/aklitzke/subscriptions","organizations_url":"https://api.github.com/users/aklitzke/orgs","repos_url":"https://api.github.com/users/aklitzke/repos","events_url":"https://api.github.com/users/aklitzke/events{/privacy}","received_events_url":"https://api.github.com/users/aklitzke/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"open","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":4,"created_at":"2025-12-07T07:56:24Z","updated_at":"2025-12-23T04:53:17Z","closed_at":null,"author_association":"NONE","type":null,"active_lock_reason":null,"draft":false,"pull_request":{"url":"https://api.github.com/repos/beancount/beancount/pulls/987","html_url":"https://github.com/beancount/beancount/pull/987","diff_url":"https://github.com/beancount/beancount/pull/987.diff","patch_url":"https://github.com/beancount/beancount/pull/987.patch","merged_at":null},"body":"For bean queries, according to the documentation, if a position has a cost basis but not a price, the value function should return the cost basis. this makes sense as if the user is retrieving values for securities a cost basis is much 'closer' to the actual value than a result like `354.3 RANDOM-STOCK`. See [the docs](https://beancount.github.io/docs/beancount_query_language.html):\r\n\r\n```\r\n# Quantities of Positions and Inventories\r\n\r\n...\r\n\r\nRefer to the table below for explicit examples of each type of posting and how it would get converted and rendered.\r\nposting\traw (full detail)\tunits\tcost\tweight\tmarket\r\nSimple\t50.00 USD\t50.00 USD\t50.00 USD\t50.00 USD\t50.00 USD\r\nWith Price Conversion\t50.00 USD @ 1.35 CAD\t50.00 USD\t50.00 USD\t67.50 CAD\t50.00 USD\r\nHeld at Cost\t50 VEA {1.35 CAD}\t50 VEA\t67.50 CAD\t67.50 CAD\t67.50 CAD\r\nHeld at Cost with Price\t50 VEA {1.35 CAD} @ 1.45 CAD\t50 VEA\t67.50 CAD\t67.50 CAD\t72.50 CAD\r\n```\r\n\r\nHere's a more concrete example:\r\n```\r\n2020-01-01 * \"Test\" \"Test\"\r\n    Assets:Stock 1 STOCK {100 USD}\r\n    Equity:OpeningBalance\r\n```\r\n\r\nfor the query `bean-query test.beancount \"balances at value\"`\r\n\r\nshould display:\r\n```\r\n       account         SUM(valu\r\n---------------------  --------\r\nAssets:Stock            100 USD\r\nEquity:OpeningBalance  -100 USD\r\n```\r\n\r\nbut actually displays:\r\n```       account         SUM(value(position\r\n---------------------  ------------------\r\nAssets:Stock            1 STOCK\r\nEquity:OpeningBalance            -100 USD\r\n```\r\n\r\nThis PR fixes this bug","closed_by":null,"reactions":{"url":"https://api.github.com/repos/beancount/beancount/issues/987/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beancount/issues/987/timeline","performed_via_github_app":null,"state_reason":null},{"url":"https://api.github.com/repos/beancount/beancount/issues/986","repository_url":"https://api.github.com/repos/beancount/beancount","labels_url":"https://api.github.com/repos/beancount/beancount/issues/986/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beancount/issues/986/comments","events_url":"https://api.github.com/repos/beancount/beancount/issues/986/events","html_url":"https://github.com/beancount/beancount/issues/986","id":3701292712,"node_id":"I_kwDOD91Bd87cnT6o","number":986,"title":"Parser bug: arithmetic expression is incorrectly parsed as a date","user":{"login":"lo48576","id":1246590,"node_id":"MDQ6VXNlcjEyNDY1OTA=","avatar_url":"https://avatars.githubusercontent.com/u/1246590?v=4","gravatar_id":"","url":"https://api.github.com/users/lo48576","html_url":"https://github.com/lo48576","followers_url":"https://api.github.com/users/lo48576/followers","following_url":"https://api.github.com/users/lo48576/following{/other_user}","gists_url":"https://api.github.com/users/lo48576/gists{/gist_id}","starred_url":"https://api.github.com/users/lo48576/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/lo48576/subscriptions","organizations_url":"https://api.github.com/users/lo48576/orgs","repos_url":"https://api.github.com/users/lo48576/repos","events_url":"https://api.github.com/users/lo48576/events{/privacy}","received_events_url":"https://api.github.com/users/lo48576/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"open","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":1,"created_at":"2025-12-06T08:28:06Z","updated_at":"2025-12-08T03:45:33Z","closed_at":null,"author_association":"NONE","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"## Summary\nIf an arithmetic expression has a substring that looks like `\\d{4,}-\\d+-\\d+`, bean-check incorrectly parses that part as a date and produces an error if the date was invalid.\n\n## How to reproduce\n\nrepro.beancount:\n\n```\n2025-12-06 commodity USD\n2025-12-06 open Liabilities:Foo USD\n2025-12-06 open Liabilities:Bar USD\n\n2025-12-06 * \"not a day of month\"\n  Liabilities:Foo\n  Liabilities:Bar 1000-12-32 USD ; ValueError: day is out of range for month\n  ;Liabilities:Bar 1000-(12+32) USD ; OK\n\n2025-12-06 * \"not a month\"\n  Liabilities:Foo\n  Liabilities:Bar 1000-13-10 USD ; ValueError: month must be in 1..12\n  ;Liabilities:Bar 1000-(13+10) USD ; OK\n\n2025-12-06 * \"not a year\"\n  Liabilities:Foo\n  Liabilities:Bar 10000-12-32 USD ; ValueError: year 10000 is out of range\n  ;Liabilities:Bar 10000-(12+32) USD ; OK\n\n2025-12-06 * \"not a day of month (with prefix and suffix)\"\n  Liabilities:Foo\n  Liabilities:Bar 8+1000-12-32+9 USD ; ValueError: day is out of range for month\n  ;Liabilities:Bar 8+1000-(12+32)+9 USD ; OK\n\n2025-12-06 * \"not a date\"\n  Liabilities:Foo\n  Liabilities:Bar 1000-1-3 USD ; syntax error, unexpected DATE, expecting end of file or EOL or ATAT or AT\n  ;Liabilities:Bar 1000-(1+3) USD ; OK\n```\n\nbean-check result:\n\n```\n$ bean-check repro.beancount\n/tmp/repro.beancount:7: ValueError: day is out of range for month\n\n/tmp/repro.beancount:12: ValueError: month must be in 1..12\n\n/tmp/repro.beancount:17: ValueError: year 10000 is out of range\n\n/tmp/repro.beancount:22: ValueError: day is out of range for month\n\n/tmp/repro.beancount:27: syntax error, unexpected DATE, expecting end of file or EOL or ATAT or AT\n$\n```\n\n## Environment\n\n* Beancount: 3.2.0 (installed with pipx)\n* OS: Gentoo Linux (amd64)\n* locale: LANG=`ja_JP.utf8`","closed_by":null,"reactions":{"url":"https://api.github.com/repos/beancount/beancount/issues/986/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beancount/issues/986/timeline","performed_via_github_app":null,"state_reason":null},{"url":"https://api.github.com/repos/beancount/beancount/issues/985","repository_url":"https://api.github.com/repos/beancount/beancount","labels_url":"https://api.github.com/repos/beancount/beancount/issues/985/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beancount/issues/985/comments","events_url":"https://api.github.com/repos/beancount/beancount/issues/985/events","html_url":"https://github.com/beancount/beancount/issues/985","id":3681028172,"node_id":"I_kwDOD91Bd87baAhM","number":985,"title":"Bug Report: Incomplete Escape Rules in `misc_utils.escape_string` Function","user":{"login":"aqni","id":72963199,"node_id":"MDQ6VXNlcjcyOTYzMTk5","avatar_url":"https://avatars.githubusercontent.com/u/72963199?v=4","gravatar_id":"","url":"https://api.github.com/users/aqni","html_url":"https://github.com/aqni","followers_url":"https://api.github.com/users/aqni/followers","following_url":"https://api.github.com/users/aqni/following{/other_user}","gists_url":"https://api.github.com/users/aqni/gists{/gist_id}","starred_url":"https://api.github.com/users/aqni/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/aqni/subscriptions","organizations_url":"https://api.github.com/users/aqni/orgs","repos_url":"https://api.github.com/users/aqni/repos","events_url":"https://api.github.com/users/aqni/events{/privacy}","received_events_url":"https://api.github.com/users/aqni/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"open","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":2,"created_at":"2025-12-01T13:29:14Z","updated_at":"2026-01-08T00:48:24Z","closed_at":null,"author_association":"NONE","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"### Description\nThe `escape_string` function in `misc_utils` appears to have incomplete escape rules, leading to improper handling of special characters (e.g., newline characters) in transaction fields like `narration`. This results in incorrect output when using `print_entry` for entries containing such characters.\n\n### Reproduction Code\n\nbeancount 3.2.0\n\n```python\nimport beancount\nfrom datetime import date\n\nentry = beancount.Transaction(\n    meta={},\n    date=date.today(),\n    flag=beancount.FLAG_OKAY,\n    payee=None,\n    narration=\"This narration contains a \\n, so it should be escaped\",\n    tags=frozenset(),\n    links=frozenset(),\n    postings=[],\n)\n\nbeancount.print_entry(entry)\n```\n\nActual Output\n\n```\n2025-12-01 * \"This narration contains a \n, so it should be escaped\"\n```\n\nExpected Output\n\n```\n2025-12-01 * \"This narration contains a \\n, so it should be escaped\"\n```\n\n## Causing\nThe current implementation of escape_string only handles backslashes (\\\\) and double quotes (\"):\n\n```python\ndef escape_string(string):\n    return string.replace(\"\\\\\", r\"\\\\\").replace('\"', r\"\\\"\")\n```\n","closed_by":null,"reactions":{"url":"https://api.github.com/repos/beancount/beancount/issues/985/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beancount/issues/985/timeline","performed_via_github_app":null,"state_reason":null},{"url":"https://api.github.com/repos/beancount/beancount/issues/984","repository_url":"https://api.github.com/repos/beancount/beancount","labels_url":"https://api.github.com/repos/beancount/beancount/issues/984/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beancount/issues/984/comments","events_url":"https://api.github.com/repos/beancount/beancount/issues/984/events","html_url":"https://github.com/beancount/beancount/issues/984","id":3670823751,"node_id":"I_kwDOD91Bd87azFNH","number":984,"title":"Lexer `test_bad_date` breaks on Python 3.14 due to CPython's updated `ValueError` message.","user":{"login":"vmpyr","id":76774914,"node_id":"MDQ6VXNlcjc2Nzc0OTE0","avatar_url":"https://avatars.githubusercontent.com/u/76774914?v=4","gravatar_id":"","url":"https://api.github.com/users/vmpyr","html_url":"https://github.com/vmpyr","followers_url":"https://api.github.com/users/vmpyr/followers","following_url":"https://api.github.com/users/vmpyr/following{/other_user}","gists_url":"https://api.github.com/users/vmpyr/gists{/gist_id}","starred_url":"https://api.github.com/users/vmpyr/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vmpyr/subscriptions","organizations_url":"https://api.github.com/users/vmpyr/orgs","repos_url":"https://api.github.com/users/vmpyr/repos","events_url":"https://api.github.com/users/vmpyr/events{/privacy}","received_events_url":"https://api.github.com/users/vmpyr/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":7,"created_at":"2025-11-27T10:38:04Z","updated_at":"2026-01-08T04:11:05Z","closed_at":"2026-01-08T04:09:56Z","author_association":"NONE","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"Hello, I am a Python Toolchains developer at Canonical. We are currently working on transitioning to Python 3.14 as the default version in Ubuntu.\n\nThe CPython implementation of `datetime.date` (specifically the underlying C function `PyDate_FromDate`) has changed the verbose output of the `ValueError` when an invalid day is provided. Hence, the results in regex tests trying to match the verbose error outputs do not pass when using Python 3.14 on Ubuntu.\n\nAn example ([complete buildlog](https://launchpadlibrarian.net/833823439/buildlog_ubuntu-resolute-amd64.beancount_3.2.0-1_BUILDING.txt.gz)):\n```python\nself = <beancount.beancount.parser.lexer_test.TestLexer testMethod=test_bad_date>\ntokens = [('error', 1, b'2013-12-98', None), ('EOL', 2, b'\\n', None)]\nerrors = [LexerError(source={'filename': '', 'lineno': 1}, message='ValueError: day 98 must be in range 1..31 for month 12 in year 2013', entry=None)]\n\n    @lex_tokens\n    def test_bad_date(self, tokens, errors):\n        \"\"\"\\\n          2013-12-98\n        \"\"\"\n        self.assertEqual(\n            [\n                (\"error\", 1, b\"2013-12-98\", None),\n                (\"EOL\", 2, b\"\\n\", None),\n            ],\n            tokens,\n        )\n        self.assertTrue(errors)\n>       self.assertRegex(errors[0].message, \"out of range|month must be|day must be in\")\nE       AssertionError: Regex didn't match: 'out of range|month must be|day must be in' not found in 'ValueError: day 98 must be in range 1..31 for month 12 in year 2013'\n```\n\nI created a datemodule for quick testing and found this:\n- When using Python 3.13\n```python\nPython 3.13.9 | packaged by conda-forge | (main, Oct 22 2025, 23:33:35) [GCC 14.3.0] on linux\nType \"help\", \"copyright\", \"credits\" or \"license\" for more information.\n>>> import datemodule\n>>> datemodule.make_date(2013, 12, 98)\nTraceback (most recent call last):\n  File \"<python-input-1>\", line 1, in <module>\n    datemodule.make_date(2013, 12, 98)\n    ~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^\nValueError: day is out of range for month\n```\n\n- When using Python 3.14\n```python\nPython 3.14.0 | packaged by conda-forge | (main, Oct 22 2025, 23:24:08) [GCC 14.3.0] on linux\nType \"help\", \"copyright\", \"credits\" or \"license\" for more information.\n>>> import datemodule\n>>> datemodule.make_date(2013, 12, 98)\nTraceback (most recent call last):\n  File \"<python-input-1>\", line 1, in <module>\n    datemodule.make_date(2013, 12, 98)\n    ~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^\nValueError: day 98 must be in range 1..31 for month 12 in year 2013\n```\n\n### Proposed fix:\n- Temporary: Updates the regex to match keywords present in both old and new CPython versions.\n- Recommended: Since the core behavior we want to test is that the invalid date raises the correct exception type (`ValueError`), we can skip fragile string checks entirely and only assert that the error is a `ValueError` caused by the date parsing.\n\n","closed_by":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/beancount/beancount/issues/984/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beancount/issues/984/timeline","performed_via_github_app":null,"state_reason":"completed"},{"url":"https://api.github.com/repos/beancount/beancount/issues/982","repository_url":"https://api.github.com/repos/beancount/beancount","labels_url":"https://api.github.com/repos/beancount/beancount/issues/982/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beancount/issues/982/comments","events_url":"https://api.github.com/repos/beancount/beancount/issues/982/events","html_url":"https://github.com/beancount/beancount/issues/982","id":3655411521,"node_id":"I_kwDOD91Bd87Z4SdB","number":982,"title":"`bean-format` not aligning parenthesized balance assertion with `-w` and `-W`","user":{"login":"ambroisie","id":12465195,"node_id":"MDQ6VXNlcjEyNDY1MTk1","avatar_url":"https://avatars.githubusercontent.com/u/12465195?v=4","gravatar_id":"","url":"https://api.github.com/users/ambroisie","html_url":"https://github.com/ambroisie","followers_url":"https://api.github.com/users/ambroisie/followers","following_url":"https://api.github.com/users/ambroisie/following{/other_user}","gists_url":"https://api.github.com/users/ambroisie/gists{/gist_id}","starred_url":"https://api.github.com/users/ambroisie/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ambroisie/subscriptions","organizations_url":"https://api.github.com/users/ambroisie/orgs","repos_url":"https://api.github.com/users/ambroisie/repos","events_url":"https://api.github.com/users/ambroisie/events{/privacy}","received_events_url":"https://api.github.com/users/ambroisie/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"open","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":1,"created_at":"2025-11-23T02:40:11Z","updated_at":"2025-11-23T02:53:53Z","closed_at":null,"author_association":"CONTRIBUTOR","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"Another regression I noticed when switching from v2 to v3. The following patch fails due to the parenthesized balance assertion being \"shifted right\" by a couple characters.\n\n```diff\ndiff --git a/beancount/scripts/format_test.py b/beancount/scripts/format_test.py\nindex a0aa655c..bcba532c 100644\n--- a/beancount/scripts/format_test.py\n+++ b/beancount/scripts/format_test.py\n@@ -313,6 +313,36 @@ class TestScriptFormat(test_utils.ClickTestCase):\n             result.stdout,\n         )\n\n+    @test_utils.docfile\n+    def test_parenthesized_binary_expressions_balance(self, filename):\n+        \"\"\"\n+        2016-08-01 open Expenses:Test\n+        2016-08-01 open Assets:Test\n+\n+        2016-08-03 * \"\" \"\"\n+          Asset:Test -10.0 USD\n+          Expenses:Test 10.0 USD\n+\n+        2016-08-04 balance Assets:Test (1000.00 - 0.10) USD\n+        \"\"\"\n+        self.maxDiff = None\n+        result = self.run_with_args(format.main, \"-w\", \"65\", \"-W\", \"12\", filename)\n+        self.assertEqual(\n+\n+            textwrap.dedent(\"\"\"\n+        2016-08-01 open Expenses:Test\n+        2016-08-01 open Assets:Test\n+\n+        2016-08-03 * \"\" \"\"\n+          Asset:Test                                                              -10.0 USD\n+          Expenses:Test                                                            10.0 USD\n+\n+        2016-08-04 balance Assets:Test                                 (1000.00 - 0.10) USD\n+        \"\"\"),\n+            result.stdout,\n+        )\n+\n+\n```\n\nHere's the error output:\n```\nE       - 2016-08-04 balance Assets:Test                                 (1000.00 - 0.10) USD\nE       + 2016-08-04 balance Assets:Test                                     (1000.00 - 0.10) USD\nE       ?                                                                ++++\n```","closed_by":null,"reactions":{"url":"https://api.github.com/repos/beancount/beancount/issues/982/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beancount/issues/982/timeline","performed_via_github_app":null,"state_reason":null},{"url":"https://api.github.com/repos/beancount/beancount/issues/981","repository_url":"https://api.github.com/repos/beancount/beancount","labels_url":"https://api.github.com/repos/beancount/beancount/issues/981/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beancount/issues/981/comments","events_url":"https://api.github.com/repos/beancount/beancount/issues/981/events","html_url":"https://github.com/beancount/beancount/issues/981","id":3655404013,"node_id":"I_kwDOD91Bd87Z4Qnt","number":981,"title":"`bean-format` does not support flagged transactions","user":{"login":"ambroisie","id":12465195,"node_id":"MDQ6VXNlcjEyNDY1MTk1","avatar_url":"https://avatars.githubusercontent.com/u/12465195?v=4","gravatar_id":"","url":"https://api.github.com/users/ambroisie","html_url":"https://github.com/ambroisie","followers_url":"https://api.github.com/users/ambroisie/followers","following_url":"https://api.github.com/users/ambroisie/following{/other_user}","gists_url":"https://api.github.com/users/ambroisie/gists{/gist_id}","starred_url":"https://api.github.com/users/ambroisie/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ambroisie/subscriptions","organizations_url":"https://api.github.com/users/ambroisie/orgs","repos_url":"https://api.github.com/users/ambroisie/repos","events_url":"https://api.github.com/users/ambroisie/events{/privacy}","received_events_url":"https://api.github.com/users/ambroisie/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"open","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":3,"created_at":"2025-11-23T02:25:51Z","updated_at":"2025-11-23T06:29:53Z","closed_at":null,"author_association":"CONTRIBUTOR","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"The following patch currently fails during `make check`:\n\n```diff\ndiff --git a/beancount/scripts/format_test.py b/beancount/scripts/format_test.py\nindex a0aa655c..042e70e2 100644\n--- a/beancount/scripts/format_test.py\n+++ b/beancount/scripts/format_test.py\n@@ -280,7 +280,8 @@ class TestScriptFormat(test_utils.ClickTestCase):\n\n         2016-08-02 * \"\" \"\"\n           Expenses:Test     10.0 USD\n-          Expenses:Test (10.0/2) USD\n+          ! Expenses:Test   10.0 USD\n+          ! Expenses:Test (10.0/2) USD\n           Expenses:Test (10.0+2) USD\n           Expenses:Test (10.0-2) USD\n           Expenses:Test (10.0*2) USD\n@@ -291,6 +292,7 @@ class TestScriptFormat(test_utils.ClickTestCase):\n         2016-08-03 balance Assets:Test 12.27 USD\n         2016-08-03 balance Assets:Test (12.27 + 1.00) USD\n         \"\"\"\n+        self.maxDiff = None\n         result = self.run_with_args(format.main, filename)\n         self.assertEqual(\n             textwrap.dedent(\"\"\"\n@@ -299,7 +301,8 @@ class TestScriptFormat(test_utils.ClickTestCase):\n\n         2016-08-02 * \"\" \"\"\n           Expenses:Test                            10.0 USD\n-          Expenses:Test                        (10.0/2) USD\n+          ! Expenses:Test                          10.0 USD\n+          ! Expenses:Test                      (10.0/2) USD\n           Expenses:Test                        (10.0+2) USD\n           Expenses:Test                        (10.0-2) USD\n           Expenses:Test                        (10.0*2) USD\n```\n\nWith the following error diff:\n\n```\nE         2016-08-01 open Expenses:Test\nE         2016-08-01 open Assets:Test\nE\nE         2016-08-03 * \"\" \"\"\nE           Asset:Test                                                              -10.0 USD\nE           Expenses:Test                                                            10.0 USD\nE\nE       - 2016-08-04 balance Assets:Test                                 (1000.00 - 0.10) USD\nE       + 2016-08-04 balance Assets:Test                                     (1000.00 - 0.10) USD\nE       ?                                                                ++++\n```","closed_by":null,"reactions":{"url":"https://api.github.com/repos/beancount/beancount/issues/981/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beancount/issues/981/timeline","performed_via_github_app":null,"state_reason":null},{"url":"https://api.github.com/repos/beancount/beancount/issues/980","repository_url":"https://api.github.com/repos/beancount/beancount","labels_url":"https://api.github.com/repos/beancount/beancount/issues/980/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beancount/issues/980/comments","events_url":"https://api.github.com/repos/beancount/beancount/issues/980/events","html_url":"https://github.com/beancount/beancount/pull/980","id":3633978839,"node_id":"PR_kwDOD91Bd86z4_bl","number":980,"title":"lifetimes: Fix duplicate Friday records when closing positions on Friday","user":{"login":"val3344","id":11001285,"node_id":"MDQ6VXNlcjExMDAxMjg1","avatar_url":"https://avatars.githubusercontent.com/u/11001285?v=4","gravatar_id":"","url":"https://api.github.com/users/val3344","html_url":"https://github.com/val3344","followers_url":"https://api.github.com/users/val3344/followers","following_url":"https://api.github.com/users/val3344/following{/other_user}","gists_url":"https://api.github.com/users/val3344/gists{/gist_id}","starred_url":"https://api.github.com/users/val3344/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/val3344/subscriptions","organizations_url":"https://api.github.com/users/val3344/orgs","repos_url":"https://api.github.com/users/val3344/repos","events_url":"https://api.github.com/users/val3344/events{/privacy}","received_events_url":"https://api.github.com/users/val3344/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"open","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":0,"created_at":"2025-11-17T16:05:47Z","updated_at":"2025-11-25T11:03:04Z","closed_at":null,"author_association":"NONE","type":null,"active_lock_reason":null,"draft":false,"pull_request":{"url":"https://api.github.com/repos/beancount/beancount/pulls/980","html_url":"https://github.com/beancount/beancount/pull/980","diff_url":"https://github.com/beancount/beancount/pull/980.diff","patch_url":"https://github.com/beancount/beancount/pull/980.patch","merged_at":null},"body":"Skip invalid date intervals where date_begin >= date_end to prevent generating redundant price records, particularly for positions closed on Fridays.\r\n\r\nThe issue occurred because:\r\n- When closing a position on Friday, date_begin and date_end could be equal\r\n- The weekday adjustment code would keep the date as Friday\r\n- This resulted in duplicate Friday records in the price requirements\r\n\r\nBy skipping intervals where date_begin >= date_end, we ensure only valid trading periods are considered for daily price lookups.","closed_by":null,"reactions":{"url":"https://api.github.com/repos/beancount/beancount/issues/980/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beancount/issues/980/timeline","performed_via_github_app":null,"state_reason":null},{"url":"https://api.github.com/repos/beancount/beancount/issues/979","repository_url":"https://api.github.com/repos/beancount/beancount","labels_url":"https://api.github.com/repos/beancount/beancount/issues/979/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beancount/issues/979/comments","events_url":"https://api.github.com/repos/beancount/beancount/issues/979/events","html_url":"https://github.com/beancount/beancount/pull/979","id":3528914223,"node_id":"PR_kwDOD91Bd86udGgq","number":979,"title":"Fix date arguments for bean-example","user":{"login":"stasjok","id":1353637,"node_id":"MDQ6VXNlcjEzNTM2Mzc=","avatar_url":"https://avatars.githubusercontent.com/u/1353637?v=4","gravatar_id":"","url":"https://api.github.com/users/stasjok","html_url":"https://github.com/stasjok","followers_url":"https://api.github.com/users/stasjok/followers","following_url":"https://api.github.com/users/stasjok/following{/other_user}","gists_url":"https://api.github.com/users/stasjok/gists{/gist_id}","starred_url":"https://api.github.com/users/stasjok/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/stasjok/subscriptions","organizations_url":"https://api.github.com/users/stasjok/orgs","repos_url":"https://api.github.com/users/stasjok/repos","events_url":"https://api.github.com/users/stasjok/events{/privacy}","received_events_url":"https://api.github.com/users/stasjok/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":1,"created_at":"2025-10-18T15:13:31Z","updated_at":"2025-10-20T02:15:44Z","closed_at":"2025-10-20T02:15:44Z","author_association":"CONTRIBUTOR","type":null,"active_lock_reason":null,"draft":false,"pull_request":{"url":"https://api.github.com/repos/beancount/beancount/pulls/979","html_url":"https://github.com/beancount/beancount/pull/979","diff_url":"https://github.com/beancount/beancount/pull/979.diff","patch_url":"https://github.com/beancount/beancount/pull/979.patch","merged_at":"2025-10-20T02:15:44Z"},"body":"All `--date-` arguments don't work because of missing return.\n","closed_by":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/beancount/beancount/issues/979/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beancount/issues/979/timeline","performed_via_github_app":null,"state_reason":null},{"url":"https://api.github.com/repos/beancount/beancount/issues/978","repository_url":"https://api.github.com/repos/beancount/beancount","labels_url":"https://api.github.com/repos/beancount/beancount/issues/978/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beancount/issues/978/comments","events_url":"https://api.github.com/repos/beancount/beancount/issues/978/events","html_url":"https://github.com/beancount/beancount/pull/978","id":3507865703,"node_id":"PR_kwDOD91Bd86tWRvV","number":978,"title":"Fix parser.printer Balance tolerance condition","user":{"login":"NReilingh","id":2458645,"node_id":"MDQ6VXNlcjI0NTg2NDU=","avatar_url":"https://avatars.githubusercontent.com/u/2458645?v=4","gravatar_id":"","url":"https://api.github.com/users/NReilingh","html_url":"https://github.com/NReilingh","followers_url":"https://api.github.com/users/NReilingh/followers","following_url":"https://api.github.com/users/NReilingh/following{/other_user}","gists_url":"https://api.github.com/users/NReilingh/gists{/gist_id}","starred_url":"https://api.github.com/users/NReilingh/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/NReilingh/subscriptions","organizations_url":"https://api.github.com/users/NReilingh/orgs","repos_url":"https://api.github.com/users/NReilingh/repos","events_url":"https://api.github.com/users/NReilingh/events{/privacy}","received_events_url":"https://api.github.com/users/NReilingh/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":2,"created_at":"2025-10-12T21:03:33Z","updated_at":"2025-10-14T08:38:03Z","closed_at":"2025-10-14T00:30:57Z","author_association":"CONTRIBUTOR","type":null,"active_lock_reason":null,"draft":false,"pull_request":{"url":"https://api.github.com/repos/beancount/beancount/pulls/978","html_url":"https://github.com/beancount/beancount/pull/978","diff_url":"https://github.com/beancount/beancount/pull/978.diff","patch_url":"https://github.com/beancount/beancount/pull/978.patch","merged_at":"2025-10-14T00:30:57Z"},"body":"Dear reviewer:\r\n\r\nI am new to this project and have not tested this change in context, so if it is not immediately obvious why the change is correct, please feel free to send this back for me to (figure out how to) write tests.\r\n\r\n`entry.tolerance` can be specified as `decimal.Decimal(0)`, and this should be printed but the current condition treats it as falsy. This fix changes the condition to explicitly check for `None`, which I assume will result in the correct behavior given that `tolerance` is expected to be `Optional[decimal.Decimal]`.\r\n\r\nPlease see https://github.com/beancount/beangulp/issues/192 for further context (i.e. why 0 tolerance should be printed).","closed_by":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/beancount/beancount/issues/978/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beancount/issues/978/timeline","performed_via_github_app":null,"state_reason":null},{"url":"https://api.github.com/repos/beancount/beancount/issues/976","repository_url":"https://api.github.com/repos/beancount/beancount","labels_url":"https://api.github.com/repos/beancount/beancount/issues/976/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beancount/issues/976/comments","events_url":"https://api.github.com/repos/beancount/beancount/issues/976/events","html_url":"https://github.com/beancount/beancount/pull/976","id":3470246935,"node_id":"PR_kwDOD91Bd86rYRzC","number":976,"title":"Updating Readme.rst","user":{"login":"Artemis1-0","id":141044353,"node_id":"U_kgDOCGgqgQ","avatar_url":"https://avatars.githubusercontent.com/u/141044353?v=4","gravatar_id":"","url":"https://api.github.com/users/Artemis1-0","html_url":"https://github.com/Artemis1-0","followers_url":"https://api.github.com/users/Artemis1-0/followers","following_url":"https://api.github.com/users/Artemis1-0/following{/other_user}","gists_url":"https://api.github.com/users/Artemis1-0/gists{/gist_id}","starred_url":"https://api.github.com/users/Artemis1-0/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Artemis1-0/subscriptions","organizations_url":"https://api.github.com/users/Artemis1-0/orgs","repos_url":"https://api.github.com/users/Artemis1-0/repos","events_url":"https://api.github.com/users/Artemis1-0/events{/privacy}","received_events_url":"https://api.github.com/users/Artemis1-0/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":1,"created_at":"2025-09-30T16:39:20Z","updated_at":"2025-09-30T23:54:01Z","closed_at":"2025-09-30T23:54:03Z","author_association":"CONTRIBUTOR","type":null,"active_lock_reason":null,"draft":false,"pull_request":{"url":"https://api.github.com/repos/beancount/beancount/pulls/976","html_url":"https://github.com/beancount/beancount/pull/976","diff_url":"https://github.com/beancount/beancount/pull/976.diff","patch_url":"https://github.com/beancount/beancount/pull/976.patch","merged_at":"2025-09-30T23:54:03Z"},"body":"Two commits in this pull request:\r\n\r\n1. Update the readme copyright notice year from 2024 to 2025\r\n2. Did a little proof reading and rejigged the grammar and wording a tiny bit so that it reads better.","closed_by":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/beancount/beancount/issues/976/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beancount/issues/976/timeline","performed_via_github_app":null,"state_reason":null},{"url":"https://api.github.com/repos/beancount/beancount/issues/974","repository_url":"https://api.github.com/repos/beancount/beancount","labels_url":"https://api.github.com/repos/beancount/beancount/issues/974/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beancount/issues/974/comments","events_url":"https://api.github.com/repos/beancount/beancount/issues/974/events","html_url":"https://github.com/beancount/beancount/issues/974","id":3414477050,"node_id":"I_kwDOD91Bd87LhMj6","number":974,"title":"Plans for 3.2.0 Release Date?","user":{"login":"Julian","id":329822,"node_id":"MDQ6VXNlcjMyOTgyMg==","avatar_url":"https://avatars.githubusercontent.com/u/329822?v=4","gravatar_id":"","url":"https://api.github.com/users/Julian","html_url":"https://github.com/Julian","followers_url":"https://api.github.com/users/Julian/followers","following_url":"https://api.github.com/users/Julian/following{/other_user}","gists_url":"https://api.github.com/users/Julian/gists{/gist_id}","starred_url":"https://api.github.com/users/Julian/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Julian/subscriptions","organizations_url":"https://api.github.com/users/Julian/orgs","repos_url":"https://api.github.com/users/Julian/repos","events_url":"https://api.github.com/users/Julian/events{/privacy}","received_events_url":"https://api.github.com/users/Julian/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":1,"created_at":"2025-09-14T02:47:31Z","updated_at":"2025-09-14T17:29:39Z","closed_at":"2025-09-14T17:29:39Z","author_association":"NONE","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"(Hi! Thanks for a fantastic tool).\n\nAny chance you have plans for a 3.2.0 release soon? I'm being hit by #931 which I see is fixed and just not present in 3.1.0 yet.","closed_by":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/beancount/beancount/issues/974/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beancount/issues/974/timeline","performed_via_github_app":null,"state_reason":"completed"},{"url":"https://api.github.com/repos/beancount/beancount/issues/973","repository_url":"https://api.github.com/repos/beancount/beancount","labels_url":"https://api.github.com/repos/beancount/beancount/issues/973/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beancount/issues/973/comments","events_url":"https://api.github.com/repos/beancount/beancount/issues/973/events","html_url":"https://github.com/beancount/beancount/issues/973","id":3413946642,"node_id":"I_kwDOD91Bd87LfLES","number":973,"title":"bean-check returning invalid token to the example output","user":{"login":"afucher","id":3756185,"node_id":"MDQ6VXNlcjM3NTYxODU=","avatar_url":"https://avatars.githubusercontent.com/u/3756185?v=4","gravatar_id":"","url":"https://api.github.com/users/afucher","html_url":"https://github.com/afucher","followers_url":"https://api.github.com/users/afucher/followers","following_url":"https://api.github.com/users/afucher/following{/other_user}","gists_url":"https://api.github.com/users/afucher/gists{/gist_id}","starred_url":"https://api.github.com/users/afucher/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/afucher/subscriptions","organizations_url":"https://api.github.com/users/afucher/orgs","repos_url":"https://api.github.com/users/afucher/repos","events_url":"https://api.github.com/users/afucher/events{/privacy}","received_events_url":"https://api.github.com/users/afucher/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":3,"created_at":"2025-09-13T18:22:54Z","updated_at":"2025-09-15T12:08:37Z","closed_at":"2025-09-14T16:26:12Z","author_association":"NONE","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"Hi,\nI'm trying beancount for the first time, I followed the instruction to install it on Windows and everything seems to be working.\nI started the [tutorial](https://beancount.github.io/docs/tutorial_example.html) and after generate the example, I tried to run the `bean-check` command and then it just start to throw `invalid token`.\n\nAny idea about what could be? Am I missing something?\n\n<img width=\"821\" height=\"982\" alt=\"Image\" src=\"https://github.com/user-attachments/assets/e7fc6676-6e0c-43b0-ac4c-ac1bf990d308\" />\n\n<img width=\"822\" height=\"1014\" alt=\"Image\" src=\"https://github.com/user-attachments/assets/1203eeb5-17c2-4ca3-9104-909781ecaa20\" />\n\n","closed_by":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/beancount/beancount/issues/973/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beancount/issues/973/timeline","performed_via_github_app":null,"state_reason":"completed"},{"url":"https://api.github.com/repos/beancount/beancount/issues/970","repository_url":"https://api.github.com/repos/beancount/beancount","labels_url":"https://api.github.com/repos/beancount/beancount/issues/970/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beancount/issues/970/comments","events_url":"https://api.github.com/repos/beancount/beancount/issues/970/events","html_url":"https://github.com/beancount/beancount/pull/970","id":3275836575,"node_id":"PR_kwDOD91Bd86hSxoK","number":970,"title":"Fix 968 display context update from","user":{"login":"josephw","id":71541,"node_id":"MDQ6VXNlcjcxNTQx","avatar_url":"https://avatars.githubusercontent.com/u/71541?v=4","gravatar_id":"","url":"https://api.github.com/users/josephw","html_url":"https://github.com/josephw","followers_url":"https://api.github.com/users/josephw/followers","following_url":"https://api.github.com/users/josephw/following{/other_user}","gists_url":"https://api.github.com/users/josephw/gists{/gist_id}","starred_url":"https://api.github.com/users/josephw/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/josephw/subscriptions","organizations_url":"https://api.github.com/users/josephw/orgs","repos_url":"https://api.github.com/users/josephw/repos","events_url":"https://api.github.com/users/josephw/events{/privacy}","received_events_url":"https://api.github.com/users/josephw/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"open","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":4,"created_at":"2025-07-30T06:30:19Z","updated_at":"2025-08-12T00:40:09Z","closed_at":null,"author_association":"CONTRIBUTOR","type":null,"active_lock_reason":null,"draft":false,"pull_request":{"url":"https://api.github.com/repos/beancount/beancount/pulls/970","html_url":"https://github.com/beancount/beancount/pull/970","diff_url":"https://github.com/beancount/beancount/pull/970.diff","patch_url":"https://github.com/beancount/beancount/pull/970.patch","merged_at":null},"body":"Add some class checking in `update_from` to avoid an `AttributeError` when the other context includes a `_FixedPrecisionContext`.","closed_by":null,"reactions":{"url":"https://api.github.com/repos/beancount/beancount/issues/970/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beancount/issues/970/timeline","performed_via_github_app":null,"state_reason":null},{"url":"https://api.github.com/repos/beancount/beancount/issues/969","repository_url":"https://api.github.com/repos/beancount/beancount","labels_url":"https://api.github.com/repos/beancount/beancount/issues/969/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beancount/issues/969/comments","events_url":"https://api.github.com/repos/beancount/beancount/issues/969/events","html_url":"https://github.com/beancount/beancount/pull/969","id":3258431817,"node_id":"PR_kwDOD91Bd86gYMzO","number":969,"title":"Enable mypy for beancount scripts","user":{"login":"josephw","id":71541,"node_id":"MDQ6VXNlcjcxNTQx","avatar_url":"https://avatars.githubusercontent.com/u/71541?v=4","gravatar_id":"","url":"https://api.github.com/users/josephw","html_url":"https://github.com/josephw","followers_url":"https://api.github.com/users/josephw/followers","following_url":"https://api.github.com/users/josephw/following{/other_user}","gists_url":"https://api.github.com/users/josephw/gists{/gist_id}","starred_url":"https://api.github.com/users/josephw/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/josephw/subscriptions","organizations_url":"https://api.github.com/users/josephw/orgs","repos_url":"https://api.github.com/users/josephw/repos","events_url":"https://api.github.com/users/josephw/events{/privacy}","received_events_url":"https://api.github.com/users/josephw/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":0,"created_at":"2025-07-24T04:19:06Z","updated_at":"2025-08-04T00:49:37Z","closed_at":"2025-08-04T00:49:37Z","author_association":"CONTRIBUTOR","type":null,"active_lock_reason":null,"draft":false,"pull_request":{"url":"https://api.github.com/repos/beancount/beancount/pulls/969","html_url":"https://github.com/beancount/beancount/pull/969","diff_url":"https://github.com/beancount/beancount/pull/969.diff","patch_url":"https://github.com/beancount/beancount/pull/969.patch","merged_at":"2025-08-04T00:49:37Z"},"body":"Fix a few typings and enable `mypy` for `beancount/scripts`. The build stays red due to #968, but no new errors are introduced.\r\n\r\nThe obsolete `cdecimal` check is removed in order to avoid:\r\n```\r\nbeancount/scripts/deps.py:85: error: Cannot find implementation or library stub for module named \"cdecimal\"  [import-not-found]\r\n```\r\n\r\nA few existing `ruff` failures are decorated with `noqa`; possibly new checks since the last successful build.","closed_by":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/beancount/beancount/issues/969/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beancount/issues/969/timeline","performed_via_github_app":null,"state_reason":null},{"url":"https://api.github.com/repos/beancount/beancount/issues/968","repository_url":"https://api.github.com/repos/beancount/beancount","labels_url":"https://api.github.com/repos/beancount/beancount/issues/968/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beancount/issues/968/comments","events_url":"https://api.github.com/repos/beancount/beancount/issues/968/events","html_url":"https://github.com/beancount/beancount/issues/968","id":3258412808,"node_id":"I_kwDOD91Bd87CN28I","number":968,"title":"A DisplayContext adjusted with set_fixed_precision cannot be applied with update_from","user":{"login":"josephw","id":71541,"node_id":"MDQ6VXNlcjcxNTQx","avatar_url":"https://avatars.githubusercontent.com/u/71541?v=4","gravatar_id":"","url":"https://api.github.com/users/josephw","html_url":"https://github.com/josephw","followers_url":"https://api.github.com/users/josephw/followers","following_url":"https://api.github.com/users/josephw/following{/other_user}","gists_url":"https://api.github.com/users/josephw/gists{/gist_id}","starred_url":"https://api.github.com/users/josephw/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/josephw/subscriptions","organizations_url":"https://api.github.com/users/josephw/orgs","repos_url":"https://api.github.com/users/josephw/repos","events_url":"https://api.github.com/users/josephw/events{/privacy}","received_events_url":"https://api.github.com/users/josephw/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":0,"created_at":"2025-07-24T04:05:19Z","updated_at":"2025-08-04T01:00:23Z","closed_at":"2025-08-04T01:00:23Z","author_association":"CONTRIBUTOR","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"`mypy` is failing on `master` since 9e148b76216982ec93 with:\n\n```\nbeancount/core/display_context.py:294: error: Incompatible types in assignment (expression has type \"_FixedPrecisionContext\", target has type \"_CurrencyContext\")  [assignment]\n```\n\nTo fix this, `ccontexts` should probably become a `dict[str, _ContextBase]`, but making this change highlights that there's a potential bug in the current implementation. Adding a new test to `TestDisplayContext` of:\n\n```\n+    def test_set_fixed_precision_can_apply_to_update_from(self):\n+        dcontext = display_context.DisplayContext()\n+        dcontext2 = display_context.DisplayContext()\n+\n+        dcontext2.set_fixed_precision(\"A\", 1)\n+        dcontext.update_from(dcontext2)\n+\n```\n\nfails with:\n```\n    def update_from(self, other: _CurrencyContext) -> None:\n        super().update_from(other)\n>       self.fractional_dist.update_from(other.fractional_dist)\nE       AttributeError: '_FixedPrecisionContext' object has no attribute 'fractional_dist'. Did you mean: 'fractional_digits'?\n```\n\nbecause  `_CurrencyContext` assumes that it will only be updated with instances of `_CurrencyContext`.\n\nI'm not sure what the correct behaviour is here; perhaps duplicating the `_FixedPrecisionContext`, rather than trying to mutate the existing `_CurrencyContext`? This was discovered looking into `mypy`, rather than an actual use case, so this may not be possible in practice.","closed_by":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/beancount/beancount/issues/968/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beancount/issues/968/timeline","performed_via_github_app":null,"state_reason":"completed"},{"url":"https://api.github.com/repos/beancount/beancount/issues/967","repository_url":"https://api.github.com/repos/beancount/beancount","labels_url":"https://api.github.com/repos/beancount/beancount/issues/967/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beancount/issues/967/comments","events_url":"https://api.github.com/repos/beancount/beancount/issues/967/events","html_url":"https://github.com/beancount/beancount/pull/967","id":3203429314,"node_id":"PR_kwDOD91Bd86dex8m","number":967,"title":"Fix typing on Transaction.flag","user":{"login":"kerrickstaley","id":184773,"node_id":"MDQ6VXNlcjE4NDc3Mw==","avatar_url":"https://avatars.githubusercontent.com/u/184773?v=4","gravatar_id":"","url":"https://api.github.com/users/kerrickstaley","html_url":"https://github.com/kerrickstaley","followers_url":"https://api.github.com/users/kerrickstaley/followers","following_url":"https://api.github.com/users/kerrickstaley/following{/other_user}","gists_url":"https://api.github.com/users/kerrickstaley/gists{/gist_id}","starred_url":"https://api.github.com/users/kerrickstaley/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kerrickstaley/subscriptions","organizations_url":"https://api.github.com/users/kerrickstaley/orgs","repos_url":"https://api.github.com/users/kerrickstaley/repos","events_url":"https://api.github.com/users/kerrickstaley/events{/privacy}","received_events_url":"https://api.github.com/users/kerrickstaley/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":4,"created_at":"2025-07-04T18:13:04Z","updated_at":"2025-08-10T20:35:24Z","closed_at":"2025-08-04T01:02:12Z","author_association":"CONTRIBUTOR","type":null,"active_lock_reason":null,"draft":false,"pull_request":{"url":"https://api.github.com/repos/beancount/beancount/pulls/967","html_url":"https://github.com/beancount/beancount/pull/967","diff_url":"https://github.com/beancount/beancount/pull/967.diff","patch_url":"https://github.com/beancount/beancount/pull/967.patch","merged_at":"2025-08-04T01:02:12Z"},"body":"This field is optional, mark it as such.","closed_by":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/beancount/beancount/issues/967/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beancount/issues/967/timeline","performed_via_github_app":null,"state_reason":null},{"url":"https://api.github.com/repos/beancount/beancount/issues/966","repository_url":"https://api.github.com/repos/beancount/beancount","labels_url":"https://api.github.com/repos/beancount/beancount/issues/966/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beancount/issues/966/comments","events_url":"https://api.github.com/repos/beancount/beancount/issues/966/events","html_url":"https://github.com/beancount/beancount/issues/966","id":3148722979,"node_id":"I_kwDOD91Bd867rbMj","number":966,"title":"GitHub.","user":{"login":"hardhat2019","id":53849032,"node_id":"MDQ6VXNlcjUzODQ5MDMy","avatar_url":"https://avatars.githubusercontent.com/u/53849032?v=4","gravatar_id":"","url":"https://api.github.com/users/hardhat2019","html_url":"https://github.com/hardhat2019","followers_url":"https://api.github.com/users/hardhat2019/followers","following_url":"https://api.github.com/users/hardhat2019/following{/other_user}","gists_url":"https://api.github.com/users/hardhat2019/gists{/gist_id}","starred_url":"https://api.github.com/users/hardhat2019/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hardhat2019/subscriptions","organizations_url":"https://api.github.com/users/hardhat2019/orgs","repos_url":"https://api.github.com/users/hardhat2019/repos","events_url":"https://api.github.com/users/hardhat2019/events{/privacy}","received_events_url":"https://api.github.com/users/hardhat2019/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":7,"created_at":"2025-06-16T06:29:03Z","updated_at":"2025-06-20T19:18:15Z","closed_at":"2025-06-20T16:40:37Z","author_association":"NONE","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"The github.io site (https://beancount.github.io) seems to be behind the GitHub page.\n\nIt lists Version 2 as the current stable rather than version 3:\nVersion 3 ([branch: master](http://github.com/beancount/beancount/tree/master)): The in-development next version of Beancount since June 2020. This is unstable and you want to use version 2 below. The scope of changes is described in [this document](https://docs.google.com/document/d/1qPdNXaz5zuDQ8M9uoZFyyFis7hA0G55BEfhWhrVBsfc/).\n\nVersion 2 ([branch v2](http://github.com/beancount/beancount/tree/v2)): The current stable version of Beancount, in maintenance mode as of July 2020. This was a complete rewrite of the first version, which introduced a number of constraints and a new grammar and much more. Use this now.\n\nwhich is different than:\nhttps://github.com/beancount/beancount","closed_by":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/beancount/beancount/issues/966/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beancount/issues/966/timeline","performed_via_github_app":null,"state_reason":"completed"},{"url":"https://api.github.com/repos/beancount/beancount/issues/965","repository_url":"https://api.github.com/repos/beancount/beancount","labels_url":"https://api.github.com/repos/beancount/beancount/issues/965/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beancount/issues/965/comments","events_url":"https://api.github.com/repos/beancount/beancount/issues/965/events","html_url":"https://github.com/beancount/beancount/issues/965","id":3127391999,"node_id":"I_kwDOD91Bd866aDb_","number":965,"title":"\"No position matches\" error when buying shares","user":{"login":"smallid","id":28574188,"node_id":"MDQ6VXNlcjI4NTc0MTg4","avatar_url":"https://avatars.githubusercontent.com/u/28574188?v=4","gravatar_id":"","url":"https://api.github.com/users/smallid","html_url":"https://github.com/smallid","followers_url":"https://api.github.com/users/smallid/followers","following_url":"https://api.github.com/users/smallid/following{/other_user}","gists_url":"https://api.github.com/users/smallid/gists{/gist_id}","starred_url":"https://api.github.com/users/smallid/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/smallid/subscriptions","organizations_url":"https://api.github.com/users/smallid/orgs","repos_url":"https://api.github.com/users/smallid/repos","events_url":"https://api.github.com/users/smallid/events{/privacy}","received_events_url":"https://api.github.com/users/smallid/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":4,"created_at":"2025-06-07T19:08:53Z","updated_at":"2025-06-07T21:34:31Z","closed_at":"2025-06-07T19:24:35Z","author_association":"NONE","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"I am seeing a very confusing error message when attempting enter a buy shares: `No position matches`. I don't understand why failing to match a position on a buy would ever be a thing - shouldn't a buy normally create a new position?\n\nThis seems to be somehow related to padding - I am using a pad + balance assertion to set my holdings as of the beginning of the year, then selling some of the existing holdings before buying some more.\n\nSample reproduction:\n```\noption \"operating_currency\" \"USD\"\n\n2025-01-01 open Equity:Opening-Balances\n2025-01-01 open Assets:Invest:Cash\n2025-01-01 open Assets:Invest:HOOG\n2025-01-02 pad Assets:Invest:HOOG Equity:Opening-Balances\n\n2025-01-03 balance Assets:Invest:Cash              0 USD\n2025-01-03 balance Assets:Invest:HOOG            100 HOOG\n\n2025-01-04 * \"Sell\"\n  Assets:Invest:HOOG                             -10 HOOG {100 USD}\n  Assets:Invest:Cash                            1000 USD\n\n2025-01-05 balance Assets:Invest:Cash           1000 USD\n2025-01-05 balance Assets:Invest:HOOG             90 HOOG\n\n2025-01-06 * \"Buy\"\n  Assets:Invest:HOOG                              10 HOOG {102 USD}\n  Assets:Invest:Cash                           -1020 USD\n```\n\nRunning bean-check on the above produces:\n```\nbean-check bug.beancount\nbug.beancount:19: No position matches \"Posting(account='Assets:Invest:HOOG', units=10 HOOG, cost=CostSpec(number_per=Decimal('102'), number_total=None, currency='USD', date=None, label=None, merge=False), price=None, flag=None, meta={'filename': 'bug.beancount', 'lineno': 20})\" against balance (-10 HOOG)\n\n   2025-01-06 * \"Buy\"\n     Assets:Invest:HOOG     10 HOOG {102 USD}\n     Assets:Invest:Cash  -1020 USD\n```\n\nIt's likely I'm doing something wrong here - my main issue is that the error message seems nonsensical and isn't helping me figure out what went wrong.","closed_by":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/beancount/beancount/issues/965/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beancount/issues/965/timeline","performed_via_github_app":null,"state_reason":"completed"},{"url":"https://api.github.com/repos/beancount/beancount/issues/963","repository_url":"https://api.github.com/repos/beancount/beancount","labels_url":"https://api.github.com/repos/beancount/beancount/issues/963/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beancount/issues/963/comments","events_url":"https://api.github.com/repos/beancount/beancount/issues/963/events","html_url":"https://github.com/beancount/beancount/issues/963","id":3116798204,"node_id":"I_kwDOD91Bd865xpD8","number":963,"title":"close_tree plugin does not seem to close accounts","user":{"login":"alensiljak","id":462445,"node_id":"MDQ6VXNlcjQ2MjQ0NQ==","avatar_url":"https://avatars.githubusercontent.com/u/462445?v=4","gravatar_id":"","url":"https://api.github.com/users/alensiljak","html_url":"https://github.com/alensiljak","followers_url":"https://api.github.com/users/alensiljak/followers","following_url":"https://api.github.com/users/alensiljak/following{/other_user}","gists_url":"https://api.github.com/users/alensiljak/gists{/gist_id}","starred_url":"https://api.github.com/users/alensiljak/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/alensiljak/subscriptions","organizations_url":"https://api.github.com/users/alensiljak/orgs","repos_url":"https://api.github.com/users/alensiljak/repos","events_url":"https://api.github.com/users/alensiljak/events{/privacy}","received_events_url":"https://api.github.com/users/alensiljak/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":2,"created_at":"2025-06-04T07:26:50Z","updated_at":"2025-06-04T08:48:55Z","closed_at":"2025-06-04T08:48:54Z","author_association":"NONE","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"I have activated the\n```bean\nplugin \"beancount.plugins.close_tree\"\n```\nin my book. Then I've added a close statement\n```\n2018-09-25 close Assets:Bank-Accounts:MyBank\n```\nThe MyBank account was never opened. Only the sub-accounts were.\n\nWhen running `bean-check`, I get \n```\nUnopened account Assets:Bank-Accounts:MyBank is being closed\n```","closed_by":{"login":"alensiljak","id":462445,"node_id":"MDQ6VXNlcjQ2MjQ0NQ==","avatar_url":"https://avatars.githubusercontent.com/u/462445?v=4","gravatar_id":"","url":"https://api.github.com/users/alensiljak","html_url":"https://github.com/alensiljak","followers_url":"https://api.github.com/users/alensiljak/followers","following_url":"https://api.github.com/users/alensiljak/following{/other_user}","gists_url":"https://api.github.com/users/alensiljak/gists{/gist_id}","starred_url":"https://api.github.com/users/alensiljak/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/alensiljak/subscriptions","organizations_url":"https://api.github.com/users/alensiljak/orgs","repos_url":"https://api.github.com/users/alensiljak/repos","events_url":"https://api.github.com/users/alensiljak/events{/privacy}","received_events_url":"https://api.github.com/users/alensiljak/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/beancount/beancount/issues/963/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beancount/issues/963/timeline","performed_via_github_app":null,"state_reason":"completed"},{"url":"https://api.github.com/repos/beancount/beancount/issues/962","repository_url":"https://api.github.com/repos/beancount/beancount","labels_url":"https://api.github.com/repos/beancount/beancount/issues/962/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beancount/issues/962/comments","events_url":"https://api.github.com/repos/beancount/beancount/issues/962/events","html_url":"https://github.com/beancount/beancount/issues/962","id":3111428400,"node_id":"I_kwDOD91Bd865dKEw","number":962,"title":"Zero-value automatic postings being pruned","user":{"login":"aschw","id":4452699,"node_id":"MDQ6VXNlcjQ0NTI2OTk=","avatar_url":"https://avatars.githubusercontent.com/u/4452699?v=4","gravatar_id":"","url":"https://api.github.com/users/aschw","html_url":"https://github.com/aschw","followers_url":"https://api.github.com/users/aschw/followers","following_url":"https://api.github.com/users/aschw/following{/other_user}","gists_url":"https://api.github.com/users/aschw/gists{/gist_id}","starred_url":"https://api.github.com/users/aschw/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/aschw/subscriptions","organizations_url":"https://api.github.com/users/aschw/orgs","repos_url":"https://api.github.com/users/aschw/repos","events_url":"https://api.github.com/users/aschw/events{/privacy}","received_events_url":"https://api.github.com/users/aschw/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"open","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":2,"created_at":"2025-06-02T19:52:56Z","updated_at":"2025-07-13T15:27:00Z","closed_at":null,"author_association":"NONE","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"(As previously discussed here: https://groups.google.com/g/beancount/c/ucfh1LdSSUU )\n\nWhen a transaction entry has an automatic posting with zero value, the automatic posting is not emitted.  This caused an issue for a plugin I am working on.\n\nFor example, consider the following entry:\n\n2025-05-29 * \"Pay Sample Bill\"\n  Liabilities:Foo 0.00 USD\n  Expenses:Bar\n\nA 0.00 USD posting for Liabilities:Foo appears in the journal, but a 0.00 USD posting for Expenses:Bar does not appear.\n\nIf I add an \"or True\" to the condition on this line, then both postings appear in the journal.\n\nhttps://github.com/beancount/beancount/blob/eaeaa64532875f39e7cb7764c33ce4f9a4c78975/beancount/parser/booking_full.py#L930\n\nAs far as I can tell, the pruning happens here:\nhttps://github.com/beancount/beancount/blob/eaeaa64532875f39e7cb7764c33ce4f9a4c78975/beancount/parser/booking_full.py#L1003\n\nThank you!","closed_by":null,"reactions":{"url":"https://api.github.com/repos/beancount/beancount/issues/962/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beancount/issues/962/timeline","performed_via_github_app":null,"state_reason":null},{"url":"https://api.github.com/repos/beancount/beancount/issues/961","repository_url":"https://api.github.com/repos/beancount/beancount","labels_url":"https://api.github.com/repos/beancount/beancount/issues/961/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beancount/issues/961/comments","events_url":"https://api.github.com/repos/beancount/beancount/issues/961/events","html_url":"https://github.com/beancount/beancount/issues/961","id":3083155171,"node_id":"I_kwDOD91Bd863xTbj","number":961,"title":"Allow more different characters in the account name","user":{"login":"alensiljak","id":462445,"node_id":"MDQ6VXNlcjQ2MjQ0NQ==","avatar_url":"https://avatars.githubusercontent.com/u/462445?v=4","gravatar_id":"","url":"https://api.github.com/users/alensiljak","html_url":"https://github.com/alensiljak","followers_url":"https://api.github.com/users/alensiljak/followers","following_url":"https://api.github.com/users/alensiljak/following{/other_user}","gists_url":"https://api.github.com/users/alensiljak/gists{/gist_id}","starred_url":"https://api.github.com/users/alensiljak/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/alensiljak/subscriptions","organizations_url":"https://api.github.com/users/alensiljak/orgs","repos_url":"https://api.github.com/users/alensiljak/repos","events_url":"https://api.github.com/users/alensiljak/events{/privacy}","received_events_url":"https://api.github.com/users/alensiljak/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"open","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":2,"created_at":"2025-05-22T12:09:08Z","updated_at":"2025-05-22T14:35:03Z","closed_at":null,"author_association":"NONE","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"I would very much like to have different special characters allowed in the account names. I.e. ' ' (space), '.' (dot), and '_' (underscore).\nFor example \"PayPal.com.au\", \"Bank Accounts\", \"VAS_AX\", and so on.\nThat said, I wonder what defines the limitations for the account names. \nFor example, I have an account at a bank whose name (trademarked) starts with a lowercase letter - easyBank. It feel unnatural to have to write it as EasyBank. Their logo is `e`, it is all over their applications, web site, cars, and statements.\nSo I wonder if anything would break if these account naming rules were expanded a bit, to include more characters and start with a lowercase letter.","closed_by":null,"reactions":{"url":"https://api.github.com/repos/beancount/beancount/issues/961/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beancount/issues/961/timeline","performed_via_github_app":null,"state_reason":null},{"url":"https://api.github.com/repos/beancount/beancount/issues/959","repository_url":"https://api.github.com/repos/beancount/beancount","labels_url":"https://api.github.com/repos/beancount/beancount/issues/959/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beancount/issues/959/comments","events_url":"https://api.github.com/repos/beancount/beancount/issues/959/events","html_url":"https://github.com/beancount/beancount/issues/959","id":3057660347,"node_id":"I_kwDOD91Bd862QDG7","number":959,"title":"Please clean-up the github page root","user":{"login":"alensiljak","id":462445,"node_id":"MDQ6VXNlcjQ2MjQ0NQ==","avatar_url":"https://avatars.githubusercontent.com/u/462445?v=4","gravatar_id":"","url":"https://api.github.com/users/alensiljak","html_url":"https://github.com/alensiljak","followers_url":"https://api.github.com/users/alensiljak/followers","following_url":"https://api.github.com/users/alensiljak/following{/other_user}","gists_url":"https://api.github.com/users/alensiljak/gists{/gist_id}","starred_url":"https://api.github.com/users/alensiljak/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/alensiljak/subscriptions","organizations_url":"https://api.github.com/users/alensiljak/orgs","repos_url":"https://api.github.com/users/alensiljak/repos","events_url":"https://api.github.com/users/alensiljak/events{/privacy}","received_events_url":"https://api.github.com/users/alensiljak/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"open","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":1,"created_at":"2025-05-12T17:32:17Z","updated_at":"2025-05-12T20:36:45Z","closed_at":null,"author_association":"NONE","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"More details in https://github.com/beancount/docs/issues/47.\n\nBriefly, the page at https://beancount.github.io/ contains some outdated information and should be cleaned-up, removed, updated, or whatever else. Even a simple redirect to /docs would be better.","closed_by":null,"reactions":{"url":"https://api.github.com/repos/beancount/beancount/issues/959/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beancount/issues/959/timeline","performed_via_github_app":null,"state_reason":null},{"url":"https://api.github.com/repos/beancount/beancount/issues/958","repository_url":"https://api.github.com/repos/beancount/beancount","labels_url":"https://api.github.com/repos/beancount/beancount/issues/958/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beancount/issues/958/comments","events_url":"https://api.github.com/repos/beancount/beancount/issues/958/events","html_url":"https://github.com/beancount/beancount/issues/958","id":3054174224,"node_id":"I_kwDOD91Bd862CwAQ","number":958,"title":"Create a devcontainer","user":{"login":"ArthoPacini","id":22568556,"node_id":"MDQ6VXNlcjIyNTY4NTU2","avatar_url":"https://avatars.githubusercontent.com/u/22568556?v=4","gravatar_id":"","url":"https://api.github.com/users/ArthoPacini","html_url":"https://github.com/ArthoPacini","followers_url":"https://api.github.com/users/ArthoPacini/followers","following_url":"https://api.github.com/users/ArthoPacini/following{/other_user}","gists_url":"https://api.github.com/users/ArthoPacini/gists{/gist_id}","starred_url":"https://api.github.com/users/ArthoPacini/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ArthoPacini/subscriptions","organizations_url":"https://api.github.com/users/ArthoPacini/orgs","repos_url":"https://api.github.com/users/ArthoPacini/repos","events_url":"https://api.github.com/users/ArthoPacini/events{/privacy}","received_events_url":"https://api.github.com/users/ArthoPacini/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"open","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":1,"created_at":"2025-05-10T14:06:22Z","updated_at":"2025-05-10T18:47:12Z","closed_at":null,"author_association":"NONE","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"Hey, \n\nCould we get a .devcontainer folder with a devcontainer.json file as well as a Dockerfile? \n\nThis way we can nicely clone the repo and by using vscode, get a nice development environment ready to go.","closed_by":null,"reactions":{"url":"https://api.github.com/repos/beancount/beancount/issues/958/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beancount/issues/958/timeline","performed_via_github_app":null,"state_reason":null},{"url":"https://api.github.com/repos/beancount/beancount/issues/957","repository_url":"https://api.github.com/repos/beancount/beancount","labels_url":"https://api.github.com/repos/beancount/beancount/issues/957/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beancount/issues/957/comments","events_url":"https://api.github.com/repos/beancount/beancount/issues/957/events","html_url":"https://github.com/beancount/beancount/pull/957","id":3053929140,"node_id":"PR_kwDOD91Bd86VrkaR","number":957,"title":"Update branch","user":{"login":"c-vigo","id":76851643,"node_id":"MDQ6VXNlcjc2ODUxNjQz","avatar_url":"https://avatars.githubusercontent.com/u/76851643?v=4","gravatar_id":"","url":"https://api.github.com/users/c-vigo","html_url":"https://github.com/c-vigo","followers_url":"https://api.github.com/users/c-vigo/followers","following_url":"https://api.github.com/users/c-vigo/following{/other_user}","gists_url":"https://api.github.com/users/c-vigo/gists{/gist_id}","starred_url":"https://api.github.com/users/c-vigo/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/c-vigo/subscriptions","organizations_url":"https://api.github.com/users/c-vigo/orgs","repos_url":"https://api.github.com/users/c-vigo/repos","events_url":"https://api.github.com/users/c-vigo/events{/privacy}","received_events_url":"https://api.github.com/users/c-vigo/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":1,"created_at":"2025-05-10T08:55:42Z","updated_at":"2025-05-10T18:48:32Z","closed_at":"2025-05-10T09:01:15Z","author_association":"NONE","type":null,"active_lock_reason":null,"draft":false,"pull_request":{"url":"https://api.github.com/repos/beancount/beancount/pulls/957","html_url":"https://github.com/beancount/beancount/pull/957","diff_url":"https://github.com/beancount/beancount/pull/957.diff","patch_url":"https://github.com/beancount/beancount/pull/957.patch","merged_at":null},"body":null,"closed_by":{"login":"c-vigo","id":76851643,"node_id":"MDQ6VXNlcjc2ODUxNjQz","avatar_url":"https://avatars.githubusercontent.com/u/76851643?v=4","gravatar_id":"","url":"https://api.github.com/users/c-vigo","html_url":"https://github.com/c-vigo","followers_url":"https://api.github.com/users/c-vigo/followers","following_url":"https://api.github.com/users/c-vigo/following{/other_user}","gists_url":"https://api.github.com/users/c-vigo/gists{/gist_id}","starred_url":"https://api.github.com/users/c-vigo/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/c-vigo/subscriptions","organizations_url":"https://api.github.com/users/c-vigo/orgs","repos_url":"https://api.github.com/users/c-vigo/repos","events_url":"https://api.github.com/users/c-vigo/events{/privacy}","received_events_url":"https://api.github.com/users/c-vigo/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/beancount/beancount/issues/957/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beancount/issues/957/timeline","performed_via_github_app":null,"state_reason":null},{"url":"https://api.github.com/repos/beancount/beancount/issues/953","repository_url":"https://api.github.com/repos/beancount/beancount","labels_url":"https://api.github.com/repos/beancount/beancount/issues/953/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beancount/issues/953/comments","events_url":"https://api.github.com/repos/beancount/beancount/issues/953/events","html_url":"https://github.com/beancount/beancount/issues/953","id":3027885883,"node_id":"I_kwDOD91Bd860ed87","number":953,"title":"cumulation error bug","user":{"login":"iTomxy","id":44149820,"node_id":"MDQ6VXNlcjQ0MTQ5ODIw","avatar_url":"https://avatars.githubusercontent.com/u/44149820?v=4","gravatar_id":"","url":"https://api.github.com/users/iTomxy","html_url":"https://github.com/iTomxy","followers_url":"https://api.github.com/users/iTomxy/followers","following_url":"https://api.github.com/users/iTomxy/following{/other_user}","gists_url":"https://api.github.com/users/iTomxy/gists{/gist_id}","starred_url":"https://api.github.com/users/iTomxy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/iTomxy/subscriptions","organizations_url":"https://api.github.com/users/iTomxy/orgs","repos_url":"https://api.github.com/users/iTomxy/repos","events_url":"https://api.github.com/users/iTomxy/events{/privacy}","received_events_url":"https://api.github.com/users/iTomxy/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":2,"created_at":"2025-04-29T10:54:55Z","updated_at":"2025-05-03T03:57:39Z","closed_at":"2025-04-29T20:33:18Z","author_association":"NONE","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"- OS: Windows 10 Enterprise 22H2\n- beancount: 3.1.0\n- beangulp: 0.2.0\n- beanquery: 0.2.0\n\nI found a potential bug that can be related to the `balance` statement and cumulation with a transaction involving multiple accounts. One minimal reproducing example is:\n\n```emacs\n; test.bean\n\n; currency\noption \"operating_currency\" \"AUD\"\n\n; open accounts\n2023-07-01 open Assets:Checking    AUD\n2023-07-01 open Assets:Receivables:Bond:Housing    AUD\n2023-07-01 open Equity:Opening-Balances    AUD\n2023-07-01 open Expenses:Housing:Rent    AUD\n2023-07-01 open Expenses:Tax    AUD\n\n;\n; records\n;\n\n2025-04-30 balance Assets:Checking       9414.56 AUD\n\n2025-04-29 * \"apartment\" \"rent & bond\"\n\tExpenses:Tax                              10.58 AUD\n\tExpenses:Housing:Rent                    756.0 AUD\n\tAssets:Receivables:Bond:Housing          250.0 AUD\n\tAssets:Checking\n\n2025-04-29 balance Assets:Checking      10431.14 AUD\n\n2024-12-31 * \"Initialise\"\n    Assets:Checking                     10431.14 AUD\n    Equity:Opening-Balances\n```\nThis gets an error with `bean-check`:\n```\nC:\\Users\\tom\\Desktop\\test-beancount\\test.bean:17: Balance failed for 'Assets:Checking': expected 9414.56 AUD != accumulated 9414.54 AUD (0.02 too little)\n\n   2025-04-30 balance Assets:Checking                                 9414.56 AUD\n```\nBut surely we have:\n- 10.58 + 756 + 250 = 1016.58\n- 10431.14 - 1016.58 = 9414.56\n\nSo, the amount `9414.56` in the top `balance` statement should be right, and the accumulated `9414.54` in the `bean-check` output is wrong. When I change this example by adding the total debit manually as follows:\n\n```emacs\n; test.bean\n\n; currency\noption \"operating_currency\" \"AUD\"\n\n; open accounts\n2023-07-01 open Assets:Checking    AUD\n2023-07-01 open Assets:Receivables:Bond:Housing    AUD\n2023-07-01 open Equity:Opening-Balances    AUD\n2023-07-01 open Expenses:Housing:Rent    AUD\n2023-07-01 open Expenses:Tax    AUD\n\n;\n; records\n;\n\n2025-04-30 balance Assets:Checking       9414.56 AUD\n\n2025-04-29 * \"apartment\" \"rent & bond\"\n\tExpenses:Tax                              10.58 AUD\n\tExpenses:Housing:Rent                    756.0 AUD\n\tAssets:Receivables:Bond:Housing          250.0 AUD\n\t; Assets:Checking\n\tAssets:Checking                        -1016.58 AUD ; HERE, total debit added manually\n\n2025-04-29 balance Assets:Checking      10431.14 AUD\n\n2024-12-31 * \"Initialise\"\n    Assets:Checking                     10431.14 AUD\n    Equity:Opening-Balances\n```\n`bean-check` does not report the error anymore. But they should be the same!","closed_by":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/beancount/beancount/issues/953/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beancount/issues/953/timeline","performed_via_github_app":null,"state_reason":"completed"},{"url":"https://api.github.com/repos/beancount/beancount/issues/952","repository_url":"https://api.github.com/repos/beancount/beancount","labels_url":"https://api.github.com/repos/beancount/beancount/issues/952/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beancount/issues/952/comments","events_url":"https://api.github.com/repos/beancount/beancount/issues/952/events","html_url":"https://github.com/beancount/beancount/pull/952","id":2970062365,"node_id":"PR_kwDOD91Bd86RSPe_","number":952,"title":"Support total prices in parsing and printing.","user":{"login":"sarg","id":193264,"node_id":"MDQ6VXNlcjE5MzI2NA==","avatar_url":"https://avatars.githubusercontent.com/u/193264?v=4","gravatar_id":"","url":"https://api.github.com/users/sarg","html_url":"https://github.com/sarg","followers_url":"https://api.github.com/users/sarg/followers","following_url":"https://api.github.com/users/sarg/following{/other_user}","gists_url":"https://api.github.com/users/sarg/gists{/gist_id}","starred_url":"https://api.github.com/users/sarg/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sarg/subscriptions","organizations_url":"https://api.github.com/users/sarg/orgs","repos_url":"https://api.github.com/users/sarg/repos","events_url":"https://api.github.com/users/sarg/events{/privacy}","received_events_url":"https://api.github.com/users/sarg/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":3,"created_at":"2025-04-03T15:59:41Z","updated_at":"2025-04-04T13:13:48Z","closed_at":"2025-04-03T22:02:11Z","author_association":"CONTRIBUTOR","type":null,"active_lock_reason":null,"draft":false,"pull_request":{"url":"https://api.github.com/repos/beancount/beancount/pulls/952","html_url":"https://github.com/beancount/beancount/pull/952","diff_url":"https://github.com/beancount/beancount/pull/952.diff","patch_url":"https://github.com/beancount/beancount/pull/952.patch","merged_at":null},"body":"Given such bank statement:\r\n```csv\r\n\"Date\",\"Payee\",\"Account number\",\"Transaction type\",\"Payment reference\",\"Amount (EUR)\",\"Amount (Foreign Currency)\",\"Type Foreign Currency\"\r\n\"2022-08-08\",\"SCANDIC GDANSK - RECE\",\"\",\"MasterCard Zahlung\",\"-\",\"-255.83\",\"-1201.8\",\"PLN\"\r\n```\r\n\r\nI want to see such beancount transaction:\r\n```\r\n2022-08-08 * \"SCANDIC GDANSK - RECE\"\r\n  Assets:Card:N26   -1201.8 PLN @@ 255.83 EUR\r\n  Expenses:Travel:Hotel                        \r\n```\r\n\r\nBoth prices in the entry should come directly from the CSV, however currently the importer has to calculate unit price and `-1201.8 PLN @ 0.2128723581 USD` would be printed.","closed_by":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/beancount/beancount/issues/952/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beancount/issues/952/timeline","performed_via_github_app":null,"state_reason":null},{"url":"https://api.github.com/repos/beancount/beancount/issues/950","repository_url":"https://api.github.com/repos/beancount/beancount","labels_url":"https://api.github.com/repos/beancount/beancount/issues/950/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beancount/issues/950/comments","events_url":"https://api.github.com/repos/beancount/beancount/issues/950/events","html_url":"https://github.com/beancount/beancount/issues/950","id":2958044526,"node_id":"I_kwDOD91Bd86wUC1u","number":950,"title":"Allow grouping root accounts","user":{"login":"azrdev","id":5132647,"node_id":"MDQ6VXNlcjUxMzI2NDc=","avatar_url":"https://avatars.githubusercontent.com/u/5132647?v=4","gravatar_id":"","url":"https://api.github.com/users/azrdev","html_url":"https://github.com/azrdev","followers_url":"https://api.github.com/users/azrdev/followers","following_url":"https://api.github.com/users/azrdev/following{/other_user}","gists_url":"https://api.github.com/users/azrdev/gists{/gist_id}","starred_url":"https://api.github.com/users/azrdev/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/azrdev/subscriptions","organizations_url":"https://api.github.com/users/azrdev/orgs","repos_url":"https://api.github.com/users/azrdev/repos","events_url":"https://api.github.com/users/azrdev/events{/privacy}","received_events_url":"https://api.github.com/users/azrdev/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"open","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":0,"created_at":"2025-03-29T14:14:08Z","updated_at":"2025-03-29T14:14:58Z","closed_at":null,"author_association":"NONE","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"Upgrading from beancount 2.x to 3.x apparently brought a more strict parser, which enforces that root account names must not contain `:` (see also <https://github.com/beancount/beancount/issues/754#issuecomment-1500922928>).\nDoing so now fails to parse with e.g. `Error for option 'name_equity': Invalid root account name: 'Passiva:Eigenkapital'`\n\nAIUI in german balance sheets it's customary \n* to group Income and Expenses below a single root account \"Erfolgskonten\" (whose balance then tells you your net income)\n* to group Equity, Liabilities, previous earnings (and others) below a single root account \"Passiva\"\n\nPlease, make it possible to (again) conform to that local standard.","closed_by":null,"reactions":{"url":"https://api.github.com/repos/beancount/beancount/issues/950/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beancount/issues/950/timeline","performed_via_github_app":null,"state_reason":null},{"url":"https://api.github.com/repos/beancount/beancount/issues/949","repository_url":"https://api.github.com/repos/beancount/beancount","labels_url":"https://api.github.com/repos/beancount/beancount/issues/949/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beancount/issues/949/comments","events_url":"https://api.github.com/repos/beancount/beancount/issues/949/events","html_url":"https://github.com/beancount/beancount/issues/949","id":2933910842,"node_id":"I_kwDOD91Bd86u3-06","number":949,"title":"How to generate a report in v3?","user":{"login":"robotron2084","id":283968,"node_id":"MDQ6VXNlcjI4Mzk2OA==","avatar_url":"https://avatars.githubusercontent.com/u/283968?v=4","gravatar_id":"","url":"https://api.github.com/users/robotron2084","html_url":"https://github.com/robotron2084","followers_url":"https://api.github.com/users/robotron2084/followers","following_url":"https://api.github.com/users/robotron2084/following{/other_user}","gists_url":"https://api.github.com/users/robotron2084/gists{/gist_id}","starred_url":"https://api.github.com/users/robotron2084/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/robotron2084/subscriptions","organizations_url":"https://api.github.com/users/robotron2084/orgs","repos_url":"https://api.github.com/users/robotron2084/repos","events_url":"https://api.github.com/users/robotron2084/events{/privacy}","received_events_url":"https://api.github.com/users/robotron2084/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":1,"created_at":"2025-03-20T03:23:33Z","updated_at":"2025-03-20T18:09:36Z","closed_at":"2025-03-20T18:09:35Z","author_association":"NONE","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"It seems that v3 has not really been updated, and I've been fumbling around and reading source code to try to understand how beancount works. Overall I like the system but the lack of updated docs is really making this much harder.\n\nI see that in v3 many of the tools in the docs are moved or no longer exist. Is there a replacement for bean-report? I am trying to make a report for a specific subset of expenses and income (basically a profit and loss). Any tips on how i would do that? Basically I want to say 'show me all the expenses under \"Expenses:SubExpense:*\" and similar for \"Income\" for a specific time range (monthly or yearly).\n\nThanks!\n","closed_by":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/beancount/beancount/issues/949/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beancount/issues/949/timeline","performed_via_github_app":null,"state_reason":"completed"},{"url":"https://api.github.com/repos/beancount/beancount/issues/948","repository_url":"https://api.github.com/repos/beancount/beancount","labels_url":"https://api.github.com/repos/beancount/beancount/issues/948/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beancount/issues/948/comments","events_url":"https://api.github.com/repos/beancount/beancount/issues/948/events","html_url":"https://github.com/beancount/beancount/issues/948","id":2929968750,"node_id":"I_kwDOD91Bd86uo8Zu","number":948,"title":"Improved documentation","user":{"login":"nmihaica","id":12017390,"node_id":"MDQ6VXNlcjEyMDE3Mzkw","avatar_url":"https://avatars.githubusercontent.com/u/12017390?v=4","gravatar_id":"","url":"https://api.github.com/users/nmihaica","html_url":"https://github.com/nmihaica","followers_url":"https://api.github.com/users/nmihaica/followers","following_url":"https://api.github.com/users/nmihaica/following{/other_user}","gists_url":"https://api.github.com/users/nmihaica/gists{/gist_id}","starred_url":"https://api.github.com/users/nmihaica/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nmihaica/subscriptions","organizations_url":"https://api.github.com/users/nmihaica/orgs","repos_url":"https://api.github.com/users/nmihaica/repos","events_url":"https://api.github.com/users/nmihaica/events{/privacy}","received_events_url":"https://api.github.com/users/nmihaica/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"open","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":0,"created_at":"2025-03-18T22:04:51Z","updated_at":"2025-03-18T22:04:51Z","closed_at":null,"author_association":"NONE","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"I’ve been using Beancount for managing my finances for years, and it’s been incredibly helpful.\n\nCurrently, I’m facing a challenge when trying to run multiple queries in a standard Python script for more advanced business use cases. While the BQL and other examples are useful, I can’t seem to find any clear guidance on how to combine multiple queries for cases where it's necessary.\n\nFor example, I need to run two similar queries to retrieve data for Receivables vs Checking accounts for a specific Payee:\n\n```\nSELECT payee, account, SUM(position)\nFROM entry\nWHERE account ~ 'Assets:Receivable|Assets:Checking'\nAND payee = 'payee_name'\nGROUP BY payee, account\nORDER BY payee, account\n```\n\n```\nSELECT payee, account, SUM(position)\nFROM entry\nWHERE account ~ 'Assets:Receivable|Assets:Checking'\nAND payee = 'payee_name'\nGROUP BY payee, account\nORDER BY payee, account\n```\n\nIt would be great to have examples or documentation on how to combine such queries programmatically in Beancount 3.x, as this is a common business requirement.\n\nThanks","closed_by":null,"reactions":{"url":"https://api.github.com/repos/beancount/beancount/issues/948/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beancount/issues/948/timeline","performed_via_github_app":null,"state_reason":null},{"url":"https://api.github.com/repos/beancount/beancount/issues/947","repository_url":"https://api.github.com/repos/beancount/beancount","labels_url":"https://api.github.com/repos/beancount/beancount/issues/947/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beancount/issues/947/comments","events_url":"https://api.github.com/repos/beancount/beancount/issues/947/events","html_url":"https://github.com/beancount/beancount/pull/947","id":2925934306,"node_id":"PR_kwDOD91Bd86O-LCO","number":947,"title":"refactor: iter_children","user":{"login":"sohanglal","id":29398628,"node_id":"MDQ6VXNlcjI5Mzk4NjI4","avatar_url":"https://avatars.githubusercontent.com/u/29398628?v=4","gravatar_id":"","url":"https://api.github.com/users/sohanglal","html_url":"https://github.com/sohanglal","followers_url":"https://api.github.com/users/sohanglal/followers","following_url":"https://api.github.com/users/sohanglal/following{/other_user}","gists_url":"https://api.github.com/users/sohanglal/gists{/gist_id}","starred_url":"https://api.github.com/users/sohanglal/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sohanglal/subscriptions","organizations_url":"https://api.github.com/users/sohanglal/orgs","repos_url":"https://api.github.com/users/sohanglal/repos","events_url":"https://api.github.com/users/sohanglal/events{/privacy}","received_events_url":"https://api.github.com/users/sohanglal/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":0,"created_at":"2025-03-17T17:46:40Z","updated_at":"2025-03-18T02:54:13Z","closed_at":"2025-03-18T02:54:13Z","author_association":"CONTRIBUTOR","type":null,"active_lock_reason":null,"draft":false,"pull_request":{"url":"https://api.github.com/repos/beancount/beancount/pulls/947","html_url":"https://github.com/beancount/beancount/pull/947","diff_url":"https://github.com/beancount/beancount/pull/947.diff","patch_url":"https://github.com/beancount/beancount/pull/947.patch","merged_at":"2025-03-18T02:54:13Z"},"body":"Removed repeated for loops","closed_by":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/beancount/beancount/issues/947/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beancount/issues/947/timeline","performed_via_github_app":null,"state_reason":null},{"url":"https://api.github.com/repos/beancount/beancount/issues/945","repository_url":"https://api.github.com/repos/beancount/beancount","labels_url":"https://api.github.com/repos/beancount/beancount/issues/945/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beancount/issues/945/comments","events_url":"https://api.github.com/repos/beancount/beancount/issues/945/events","html_url":"https://github.com/beancount/beancount/issues/945","id":2877730586,"node_id":"I_kwDOD91Bd86rhq8a","number":945,"title":"bean-check sometimes fails when using @@ with \"Transaction does not balance\"","user":{"login":"schra","id":23171985,"node_id":"MDQ6VXNlcjIzMTcxOTg1","avatar_url":"https://avatars.githubusercontent.com/u/23171985?v=4","gravatar_id":"","url":"https://api.github.com/users/schra","html_url":"https://github.com/schra","followers_url":"https://api.github.com/users/schra/followers","following_url":"https://api.github.com/users/schra/following{/other_user}","gists_url":"https://api.github.com/users/schra/gists{/gist_id}","starred_url":"https://api.github.com/users/schra/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/schra/subscriptions","organizations_url":"https://api.github.com/users/schra/orgs","repos_url":"https://api.github.com/users/schra/repos","events_url":"https://api.github.com/users/schra/events{/privacy}","received_events_url":"https://api.github.com/users/schra/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":2,"created_at":"2025-02-25T09:27:55Z","updated_at":"2025-02-28T14:06:34Z","closed_at":"2025-02-28T14:06:15Z","author_association":"NONE","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"atat.beancount:\n```\n2001-01-01 open Liabilities:Foo\n2001-01-01 open Expenses:Bar\n\n2001-01-01 * \"\"\n Liabilities:Foo  -0.77 EUR @@ 90 RSD\n Expenses:Bar        90 RSD\n```\n\nRunning bean-check on it:\n\n```\n$ bean-check atat.beancount \natat.beancount:4: Transaction does not balance: (-0.00000000000000000000000001 RSD)\n\n   2001-01-01 * \n     Liabilities:Foo  -0.77 EUR @ 116.8831168831168831168831169 RSD\n     Expenses:Bar        90 RSD\n```\nI expected it to balance (that's how I understood `@@`)\n\nAlso, I was confused for a bit because bean-check does not show the original code (with `@@`) in the error message but it uses an `@`.\n\nMy workaround for now is to do this for all the transactions that yield this error:\n\n```\n2001-01-01 * \"\"\n Liabilities:Foo  -0.77 EUR @@ 90 RSD\n Expenses:Bar        90 RSD\n Equity:Pseudo:FixAtAtNotBalancing\n```\n\nI found a couple of existing GitHub issues that are relating to similar issues but I was not sure if they are the same issue or only a related problem.\n\nI see this behavior with both\n```\n$ bean-check --version\nBeancount 2.3.6\n```\nand\n```\n$ bean-check --version\nBeancount 3.1.0\n```\nBtw thank you for writing such as a useful tool :)","closed_by":{"login":"schra","id":23171985,"node_id":"MDQ6VXNlcjIzMTcxOTg1","avatar_url":"https://avatars.githubusercontent.com/u/23171985?v=4","gravatar_id":"","url":"https://api.github.com/users/schra","html_url":"https://github.com/schra","followers_url":"https://api.github.com/users/schra/followers","following_url":"https://api.github.com/users/schra/following{/other_user}","gists_url":"https://api.github.com/users/schra/gists{/gist_id}","starred_url":"https://api.github.com/users/schra/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/schra/subscriptions","organizations_url":"https://api.github.com/users/schra/orgs","repos_url":"https://api.github.com/users/schra/repos","events_url":"https://api.github.com/users/schra/events{/privacy}","received_events_url":"https://api.github.com/users/schra/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/beancount/beancount/issues/945/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beancount/issues/945/timeline","performed_via_github_app":null,"state_reason":"completed"},{"url":"https://api.github.com/repos/beancount/beancount/issues/944","repository_url":"https://api.github.com/repos/beancount/beancount","labels_url":"https://api.github.com/repos/beancount/beancount/issues/944/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beancount/issues/944/comments","events_url":"https://api.github.com/repos/beancount/beancount/issues/944/events","html_url":"https://github.com/beancount/beancount/pull/944","id":2870448719,"node_id":"PR_kwDOD91Bd86MIAyK","number":944,"title":"Resolves #943: Updated bean-format to enable multi-file in-place formatting","user":{"login":"mperlman1","id":15808519,"node_id":"MDQ6VXNlcjE1ODA4NTE5","avatar_url":"https://avatars.githubusercontent.com/u/15808519?v=4","gravatar_id":"","url":"https://api.github.com/users/mperlman1","html_url":"https://github.com/mperlman1","followers_url":"https://api.github.com/users/mperlman1/followers","following_url":"https://api.github.com/users/mperlman1/following{/other_user}","gists_url":"https://api.github.com/users/mperlman1/gists{/gist_id}","starred_url":"https://api.github.com/users/mperlman1/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mperlman1/subscriptions","organizations_url":"https://api.github.com/users/mperlman1/orgs","repos_url":"https://api.github.com/users/mperlman1/repos","events_url":"https://api.github.com/users/mperlman1/events{/privacy}","received_events_url":"https://api.github.com/users/mperlman1/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":1,"created_at":"2025-02-22T03:35:48Z","updated_at":"2025-03-02T01:33:21Z","closed_at":"2025-03-02T01:33:13Z","author_association":"CONTRIBUTOR","type":null,"active_lock_reason":null,"draft":false,"pull_request":{"url":"https://api.github.com/repos/beancount/beancount/pulls/944","html_url":"https://github.com/beancount/beancount/pull/944","diff_url":"https://github.com/beancount/beancount/pull/944.diff","patch_url":"https://github.com/beancount/beancount/pull/944.patch","merged_at":"2025-03-02T01:33:13Z"},"body":"Basic command-line testing has been performed to ensure that \r\n\r\n- existing bean-format usage is unaffected\r\n- multiple files can be formatted in place\r\n- multiple files cannot be used with the existing output option","closed_by":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/beancount/beancount/issues/944/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beancount/issues/944/timeline","performed_via_github_app":null,"state_reason":null},{"url":"https://api.github.com/repos/beancount/beancount/issues/943","repository_url":"https://api.github.com/repos/beancount/beancount","labels_url":"https://api.github.com/repos/beancount/beancount/issues/943/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beancount/issues/943/comments","events_url":"https://api.github.com/repos/beancount/beancount/issues/943/events","html_url":"https://github.com/beancount/beancount/issues/943","id":2870434261,"node_id":"I_kwDOD91Bd86rF1nV","number":943,"title":"Add in place option to bean-format","user":{"login":"mperlman1","id":15808519,"node_id":"MDQ6VXNlcjE1ODA4NTE5","avatar_url":"https://avatars.githubusercontent.com/u/15808519?v=4","gravatar_id":"","url":"https://api.github.com/users/mperlman1","html_url":"https://github.com/mperlman1","followers_url":"https://api.github.com/users/mperlman1/followers","following_url":"https://api.github.com/users/mperlman1/following{/other_user}","gists_url":"https://api.github.com/users/mperlman1/gists{/gist_id}","starred_url":"https://api.github.com/users/mperlman1/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mperlman1/subscriptions","organizations_url":"https://api.github.com/users/mperlman1/orgs","repos_url":"https://api.github.com/users/mperlman1/repos","events_url":"https://api.github.com/users/mperlman1/events{/privacy}","received_events_url":"https://api.github.com/users/mperlman1/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":2,"created_at":"2025-02-22T03:23:04Z","updated_at":"2025-11-24T03:27:55Z","closed_at":"2025-11-24T03:27:55Z","author_association":"CONTRIBUTOR","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"Currently bean-format can only update one file at a time. For integration with tools like pre-commit, it would be great if bean-format could be given a list of files and format all the files in place (like sed --in-place). The existing bean-format usage should remain unchanged.","closed_by":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/beancount/beancount/issues/943/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beancount/issues/943/timeline","performed_via_github_app":null,"state_reason":"completed"},{"url":"https://api.github.com/repos/beancount/beancount/issues/940","repository_url":"https://api.github.com/repos/beancount/beancount","labels_url":"https://api.github.com/repos/beancount/beancount/issues/940/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beancount/issues/940/comments","events_url":"https://api.github.com/repos/beancount/beancount/issues/940/events","html_url":"https://github.com/beancount/beancount/issues/940","id":2840614431,"node_id":"I_kwDOD91Bd86pUFYf","number":940,"title":"Enable AVERAGE cost booking","user":{"login":"jerome-tgl","id":8667221,"node_id":"MDQ6VXNlcjg2NjcyMjE=","avatar_url":"https://avatars.githubusercontent.com/u/8667221?v=4","gravatar_id":"","url":"https://api.github.com/users/jerome-tgl","html_url":"https://github.com/jerome-tgl","followers_url":"https://api.github.com/users/jerome-tgl/followers","following_url":"https://api.github.com/users/jerome-tgl/following{/other_user}","gists_url":"https://api.github.com/users/jerome-tgl/gists{/gist_id}","starred_url":"https://api.github.com/users/jerome-tgl/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jerome-tgl/subscriptions","organizations_url":"https://api.github.com/users/jerome-tgl/orgs","repos_url":"https://api.github.com/users/jerome-tgl/repos","events_url":"https://api.github.com/users/jerome-tgl/events{/privacy}","received_events_url":"https://api.github.com/users/jerome-tgl/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"open","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":4,"created_at":"2025-02-09T12:09:30Z","updated_at":"2026-01-29T06:58:38Z","closed_at":null,"author_association":"NONE","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"This was [rolled back in 2021](https://github.com/beancount/beancount/pull/591#issuecomment-779573325).\n\nThere's [no active work on this now](https://github.com/beancount/beancount/issues/213#issuecomment-2646054032) but having a dedicated issue can help gathering interest and feedback.\n\nI dearly miss this feature as France only accept `AVERAGE` as a cost basis for capital gains calculation. I think it's also a legal option in other countries like Singapore and Australia.","closed_by":null,"reactions":{"url":"https://api.github.com/repos/beancount/beancount/issues/940/reactions","total_count":23,"+1":23,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beancount/issues/940/timeline","performed_via_github_app":null,"state_reason":null},{"url":"https://api.github.com/repos/beancount/beancount/issues/937","repository_url":"https://api.github.com/repos/beancount/beancount","labels_url":"https://api.github.com/repos/beancount/beancount/issues/937/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beancount/issues/937/comments","events_url":"https://api.github.com/repos/beancount/beancount/issues/937/events","html_url":"https://github.com/beancount/beancount/pull/937","id":2834651150,"node_id":"PR_kwDOD91Bd86KOy9L","number":937,"title":"Update account.py","user":{"login":"QunixHacker","id":78646723,"node_id":"MDQ6VXNlcjc4NjQ2NzIz","avatar_url":"https://avatars.githubusercontent.com/u/78646723?v=4","gravatar_id":"","url":"https://api.github.com/users/QunixHacker","html_url":"https://github.com/QunixHacker","followers_url":"https://api.github.com/users/QunixHacker/followers","following_url":"https://api.github.com/users/QunixHacker/following{/other_user}","gists_url":"https://api.github.com/users/QunixHacker/gists{/gist_id}","starred_url":"https://api.github.com/users/QunixHacker/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/QunixHacker/subscriptions","organizations_url":"https://api.github.com/users/QunixHacker/orgs","repos_url":"https://api.github.com/users/QunixHacker/repos","events_url":"https://api.github.com/users/QunixHacker/events{/privacy}","received_events_url":"https://api.github.com/users/QunixHacker/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"open","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":1,"created_at":"2025-02-06T06:18:50Z","updated_at":"2025-05-23T21:22:45Z","closed_at":null,"author_association":"NONE","type":null,"active_lock_reason":null,"draft":false,"pull_request":{"url":"https://api.github.com/repos/beancount/beancount/pulls/937","html_url":"https://github.com/beancount/beancount/pull/937","diff_url":"https://github.com/beancount/beancount/pull/937.diff","patch_url":"https://github.com/beancount/beancount/pull/937.patch","merged_at":null},"body":"Support Chinese Unicode As ACC_NAME","closed_by":null,"reactions":{"url":"https://api.github.com/repos/beancount/beancount/issues/937/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beancount/issues/937/timeline","performed_via_github_app":null,"state_reason":null},{"url":"https://api.github.com/repos/beancount/beancount/issues/936","repository_url":"https://api.github.com/repos/beancount/beancount","labels_url":"https://api.github.com/repos/beancount/beancount/issues/936/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beancount/issues/936/comments","events_url":"https://api.github.com/repos/beancount/beancount/issues/936/events","html_url":"https://github.com/beancount/beancount/issues/936","id":2832900390,"node_id":"I_kwDOD91Bd86o2qEm","number":936,"title":"Selling Home as a commodity doesn't calculate sale at new sales price","user":{"login":"kross0926","id":62528387,"node_id":"MDQ6VXNlcjYyNTI4Mzg3","avatar_url":"https://avatars.githubusercontent.com/u/62528387?v=4","gravatar_id":"","url":"https://api.github.com/users/kross0926","html_url":"https://github.com/kross0926","followers_url":"https://api.github.com/users/kross0926/followers","following_url":"https://api.github.com/users/kross0926/following{/other_user}","gists_url":"https://api.github.com/users/kross0926/gists{/gist_id}","starred_url":"https://api.github.com/users/kross0926/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kross0926/subscriptions","organizations_url":"https://api.github.com/users/kross0926/orgs","repos_url":"https://api.github.com/users/kross0926/repos","events_url":"https://api.github.com/users/kross0926/events{/privacy}","received_events_url":"https://api.github.com/users/kross0926/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":2,"created_at":"2025-02-05T13:04:31Z","updated_at":"2025-02-10T14:28:21Z","closed_at":"2025-02-10T14:28:20Z","author_association":"NONE","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"I followed the example ledger for showing the purchase of a home as shown below.  \n\n\n ```\n\noption \"operating_currency\" \"USD\"\n\n1980-01-01 open Equity:Opening-Balances\n1980-01-01 open Assets:US:Bank:Savings     USD\n2024-08-01 pad  Assets:US:Bank:Savings Equity:Opening-Balances\n2025-01-01 balance Assets:US:Bank:Savings             10000 USD\n\n2009-04-18 open Liabilities:USABank:Mortgage     USD\n2009-04-18 open Assets:US:RealEstate:House       MYHOME\n\n\n\n2009-04-18 * \"Bought the my home\"\n  Assets:US:RealEstate:House                              1 MYHOME {200000 USD}\n  Liabilities:USABank:Mortgage                      -200000 USD\n\n2024-08-01 pad  Liabilities:USABank:Mortgage Equity:Opening-Balances\n2024-10-22 balance Liabilities:USABank:Mortgage      -90000 USD\n\n2024-10-22 * \"Sold MY Home\"\n  Assets:US:RealEstate:House                             -1 MYHOME {200000 USD} @ 300000 USD\n  Liabilities:USABank:Mortgage                       90000 USD\n  Assets:US:Bank:Savings\n\n\n```\n![Image](https://github.com/user-attachments/assets/5c00dbe3-4c5a-4159-8505-1f1474f72066)\n\nMy question or issue is that I have now sold that property and when I put in a conversion for the sale price of the home, beancount only calculates the value to the initial purchase of the house.  Should the total value of transaction be specified by the \"@ 300000 USD\" instead the interpolation to the Assets:US:Bank:Savings account only returns a profit of 10000 meaning the sale of MYHOME was only valued at the original purchase price of 200,000.  Am I missing something to make this transaction reflect the new sale price?  I just started my beancount journey so it's likely I'm doing something wrong but I haven't been able to find any other way to sell the home (in the documentation or in various forums) at a new purchase price so I think it might be a bug? \nI'm using beancount v3.1.0\n\n","closed_by":{"login":"kross0926","id":62528387,"node_id":"MDQ6VXNlcjYyNTI4Mzg3","avatar_url":"https://avatars.githubusercontent.com/u/62528387?v=4","gravatar_id":"","url":"https://api.github.com/users/kross0926","html_url":"https://github.com/kross0926","followers_url":"https://api.github.com/users/kross0926/followers","following_url":"https://api.github.com/users/kross0926/following{/other_user}","gists_url":"https://api.github.com/users/kross0926/gists{/gist_id}","starred_url":"https://api.github.com/users/kross0926/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kross0926/subscriptions","organizations_url":"https://api.github.com/users/kross0926/orgs","repos_url":"https://api.github.com/users/kross0926/repos","events_url":"https://api.github.com/users/kross0926/events{/privacy}","received_events_url":"https://api.github.com/users/kross0926/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/beancount/beancount/issues/936/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beancount/issues/936/timeline","performed_via_github_app":null,"state_reason":"completed"},{"url":"https://api.github.com/repos/beancount/beancount/issues/935","repository_url":"https://api.github.com/repos/beancount/beancount","labels_url":"https://api.github.com/repos/beancount/beancount/issues/935/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beancount/issues/935/comments","events_url":"https://api.github.com/repos/beancount/beancount/issues/935/events","html_url":"https://github.com/beancount/beancount/pull/935","id":2831745467,"node_id":"PR_kwDOD91Bd86KE4yz","number":935,"title":"Fix CURRENCY_RE to align with rules in lexer.l","user":{"login":"silverwzw","id":1472402,"node_id":"MDQ6VXNlcjE0NzI0MDI=","avatar_url":"https://avatars.githubusercontent.com/u/1472402?v=4","gravatar_id":"","url":"https://api.github.com/users/silverwzw","html_url":"https://github.com/silverwzw","followers_url":"https://api.github.com/users/silverwzw/followers","following_url":"https://api.github.com/users/silverwzw/following{/other_user}","gists_url":"https://api.github.com/users/silverwzw/gists{/gist_id}","starred_url":"https://api.github.com/users/silverwzw/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/silverwzw/subscriptions","organizations_url":"https://api.github.com/users/silverwzw/orgs","repos_url":"https://api.github.com/users/silverwzw/repos","events_url":"https://api.github.com/users/silverwzw/events{/privacy}","received_events_url":"https://api.github.com/users/silverwzw/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"open","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":0,"created_at":"2025-02-05T03:05:03Z","updated_at":"2025-05-23T21:22:45Z","closed_at":null,"author_association":"NONE","type":null,"active_lock_reason":null,"draft":false,"pull_request":{"url":"https://api.github.com/repos/beancount/beancount/pulls/935","html_url":"https://github.com/beancount/beancount/pull/935","diff_url":"https://github.com/beancount/beancount/pull/935.diff","patch_url":"https://github.com/beancount/beancount/pull/935.patch","merged_at":null},"body":"`CURRENCY_RE` in amount.py allows a currency symbol to be ended with a special character.\r\n\r\nThis behavior does not match with the lexier.l specification here:  https://github.com/beancount/beancount/blob/994c8a705aa724501c49a5c7ab2df9f6d7c6c456/beancount/parser/lexer.l#L206-L208","closed_by":null,"reactions":{"url":"https://api.github.com/repos/beancount/beancount/issues/935/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beancount/issues/935/timeline","performed_via_github_app":null,"state_reason":null},{"url":"https://api.github.com/repos/beancount/beancount/issues/934","repository_url":"https://api.github.com/repos/beancount/beancount","labels_url":"https://api.github.com/repos/beancount/beancount/issues/934/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beancount/issues/934/comments","events_url":"https://api.github.com/repos/beancount/beancount/issues/934/events","html_url":"https://github.com/beancount/beancount/pull/934","id":2808117513,"node_id":"PR_kwDOD91Bd86I098G","number":934,"title":"fix: create_simple_posting_with_cost produces 0001-01-01 as date","user":{"login":"wzyboy","id":459384,"node_id":"MDQ6VXNlcjQ1OTM4NA==","avatar_url":"https://avatars.githubusercontent.com/u/459384?v=4","gravatar_id":"","url":"https://api.github.com/users/wzyboy","html_url":"https://github.com/wzyboy","followers_url":"https://api.github.com/users/wzyboy/followers","following_url":"https://api.github.com/users/wzyboy/following{/other_user}","gists_url":"https://api.github.com/users/wzyboy/gists{/gist_id}","starred_url":"https://api.github.com/users/wzyboy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wzyboy/subscriptions","organizations_url":"https://api.github.com/users/wzyboy/orgs","repos_url":"https://api.github.com/users/wzyboy/repos","events_url":"https://api.github.com/users/wzyboy/events{/privacy}","received_events_url":"https://api.github.com/users/wzyboy/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":8,"created_at":"2025-01-23T23:03:06Z","updated_at":"2025-03-15T05:33:12Z","closed_at":"2025-01-23T23:42:07Z","author_association":"CONTRIBUTOR","type":null,"active_lock_reason":null,"draft":false,"pull_request":{"url":"https://api.github.com/repos/beancount/beancount/pulls/934","html_url":"https://github.com/beancount/beancount/pull/934","diff_url":"https://github.com/beancount/beancount/pull/934.diff","patch_url":"https://github.com/beancount/beancount/pull/934.patch","merged_at":null},"body":"After upgrading from 3.0.0 to 3.1.0, I find that my scripts which uses `create_simple_posting_with_cost()` function now produces lots with `0001-01-01` as date.\r\n\r\nIt turns out that commit 0f8798110 replaces the `None` value for date with hard-coded `date(1, 1, 1)`.\r\n\r\nThis PR fixes the issue by replacing `Cost` with `CostSpec`, which accepts `Optional[datetime.date]` as date.","closed_by":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/beancount/beancount/issues/934/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beancount/issues/934/timeline","performed_via_github_app":null,"state_reason":null},{"url":"https://api.github.com/repos/beancount/beancount/issues/933","repository_url":"https://api.github.com/repos/beancount/beancount","labels_url":"https://api.github.com/repos/beancount/beancount/issues/933/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beancount/issues/933/comments","events_url":"https://api.github.com/repos/beancount/beancount/issues/933/events","html_url":"https://github.com/beancount/beancount/issues/933","id":2796597210,"node_id":"I_kwDOD91Bd86msK_a","number":933,"title":"`os.walk` does not follow symlinks collecting document filenames.","user":{"login":"gitting","id":3186756,"node_id":"MDQ6VXNlcjMxODY3NTY=","avatar_url":"https://avatars.githubusercontent.com/u/3186756?v=4","gravatar_id":"","url":"https://api.github.com/users/gitting","html_url":"https://github.com/gitting","followers_url":"https://api.github.com/users/gitting/followers","following_url":"https://api.github.com/users/gitting/following{/other_user}","gists_url":"https://api.github.com/users/gitting/gists{/gist_id}","starred_url":"https://api.github.com/users/gitting/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gitting/subscriptions","organizations_url":"https://api.github.com/users/gitting/orgs","repos_url":"https://api.github.com/users/gitting/repos","events_url":"https://api.github.com/users/gitting/events{/privacy}","received_events_url":"https://api.github.com/users/gitting/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":13,"created_at":"2025-01-18T02:43:41Z","updated_at":"2025-01-23T17:14:11Z","closed_at":"2025-01-23T17:14:11Z","author_association":"NONE","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"According to https://github.com/beancount/beancount/blob/a0e6f445fbf0d101602a4b6d886d6320971587b6/beancount/core/account.py#L206 the symlinks will not be followed when scanning for documents. Per [documentation](https://docs.python.org/3/library/os.html#os.walk) indeed there's a danger of infinite recursion if a careless symlink is encountered.\n\nMy scenario is a bank issuing combined statement for accounts that exist separately in the chart. Hence the idea was to store statements elsewhere once, and symlink to them from those accounts. The `os.walk( ..., followlinks=True)` would seem to solve it but I wonder if that was a deliberate decision not to do that.\n\nEven if no duplication, it seems like additional flexibility would be nice to be able to store documents outside the imposed by the chart of accounts folder structure.\n\nThanks!\n","closed_by":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/beancount/beancount/issues/933/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beancount/issues/933/timeline","performed_via_github_app":null,"state_reason":"completed"},{"url":"https://api.github.com/repos/beancount/beancount/issues/932","repository_url":"https://api.github.com/repos/beancount/beancount","labels_url":"https://api.github.com/repos/beancount/beancount/issues/932/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beancount/issues/932/comments","events_url":"https://api.github.com/repos/beancount/beancount/issues/932/events","html_url":"https://github.com/beancount/beancount/issues/932","id":2789483316,"node_id":"I_kwDOD91Bd86mRCM0","number":932,"title":"[doc] API still marked as experimental after v3 release","user":{"login":"mmoya","id":36318,"node_id":"MDQ6VXNlcjM2MzE4","avatar_url":"https://avatars.githubusercontent.com/u/36318?v=4","gravatar_id":"","url":"https://api.github.com/users/mmoya","html_url":"https://github.com/mmoya","followers_url":"https://api.github.com/users/mmoya/followers","following_url":"https://api.github.com/users/mmoya/following{/other_user}","gists_url":"https://api.github.com/users/mmoya/gists{/gist_id}","starred_url":"https://api.github.com/users/mmoya/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mmoya/subscriptions","organizations_url":"https://api.github.com/users/mmoya/orgs","repos_url":"https://api.github.com/users/mmoya/repos","events_url":"https://api.github.com/users/mmoya/events{/privacy}","received_events_url":"https://api.github.com/users/mmoya/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":0,"created_at":"2025-01-15T10:58:05Z","updated_at":"2025-01-19T14:47:35Z","closed_at":"2025-01-19T14:47:35Z","author_association":"NONE","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"From [`api.py`](../blob/master/beancount/api.py) prelude:\r\n\r\n> WARNING: This is a prototype API. This is subject to change until the first v3\r\nrelease. Principle: Not all symbols are intended to be present here, only the\r\nmost commonly used ones.\r\n\r\nv3 is already released. Is the API stable now? If so, can this warning be removed?\r\n\r\nThanks.","closed_by":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/beancount/beancount/issues/932/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beancount/issues/932/timeline","performed_via_github_app":null,"state_reason":"completed"},{"url":"https://api.github.com/repos/beancount/beancount/issues/931","repository_url":"https://api.github.com/repos/beancount/beancount","labels_url":"https://api.github.com/repos/beancount/beancount/issues/931/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beancount/issues/931/comments","events_url":"https://api.github.com/repos/beancount/beancount/issues/931/events","html_url":"https://github.com/beancount/beancount/pull/931","id":2788073212,"node_id":"PR_kwDOD91Bd86HwW0E","number":931,"title":"allow balance postings on non-leaf accounts","user":{"login":"dtrai2","id":95028228,"node_id":"U_kgDOBaoEBA","avatar_url":"https://avatars.githubusercontent.com/u/95028228?v=4","gravatar_id":"","url":"https://api.github.com/users/dtrai2","html_url":"https://github.com/dtrai2","followers_url":"https://api.github.com/users/dtrai2/followers","following_url":"https://api.github.com/users/dtrai2/following{/other_user}","gists_url":"https://api.github.com/users/dtrai2/gists{/gist_id}","starred_url":"https://api.github.com/users/dtrai2/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dtrai2/subscriptions","organizations_url":"https://api.github.com/users/dtrai2/orgs","repos_url":"https://api.github.com/users/dtrai2/repos","events_url":"https://api.github.com/users/dtrai2/events{/privacy}","received_events_url":"https://api.github.com/users/dtrai2/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":0,"created_at":"2025-01-14T19:01:36Z","updated_at":"2025-01-19T21:50:20Z","closed_at":"2025-01-19T21:50:20Z","author_association":"CONTRIBUTOR","type":null,"active_lock_reason":null,"draft":false,"pull_request":{"url":"https://api.github.com/repos/beancount/beancount/pulls/931","html_url":"https://github.com/beancount/beancount/pull/931","diff_url":"https://github.com/beancount/beancount/pull/931.diff","patch_url":"https://github.com/beancount/beancount/pull/931.patch","merged_at":"2025-01-19T21:50:20Z"},"body":"- Adjust logic to allow balance postings for non-leaf accounts.\r\n- Refactor LeafOnly plugin\r\n- Add unit test to verify the updated behavior and ensure correctness.\r\n\r\ncloses #396 ","closed_by":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/beancount/beancount/issues/931/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beancount/issues/931/timeline","performed_via_github_app":null,"state_reason":null},{"url":"https://api.github.com/repos/beancount/beancount/issues/929","repository_url":"https://api.github.com/repos/beancount/beancount","labels_url":"https://api.github.com/repos/beancount/beancount/issues/929/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beancount/issues/929/comments","events_url":"https://api.github.com/repos/beancount/beancount/issues/929/events","html_url":"https://github.com/beancount/beancount/pull/929","id":2767418074,"node_id":"PR_kwDOD91Bd86Gp1Ga","number":929,"title":"add back DefaultDictWithKey for beangulp compatibility","user":{"login":"yagebu","id":2482259,"node_id":"MDQ6VXNlcjI0ODIyNTk=","avatar_url":"https://avatars.githubusercontent.com/u/2482259?v=4","gravatar_id":"","url":"https://api.github.com/users/yagebu","html_url":"https://github.com/yagebu","followers_url":"https://api.github.com/users/yagebu/followers","following_url":"https://api.github.com/users/yagebu/following{/other_user}","gists_url":"https://api.github.com/users/yagebu/gists{/gist_id}","starred_url":"https://api.github.com/users/yagebu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/yagebu/subscriptions","organizations_url":"https://api.github.com/users/yagebu/orgs","repos_url":"https://api.github.com/users/yagebu/repos","events_url":"https://api.github.com/users/yagebu/events{/privacy}","received_events_url":"https://api.github.com/users/yagebu/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":6,"created_at":"2025-01-03T11:29:27Z","updated_at":"2025-01-20T19:17:31Z","closed_at":"2025-01-20T14:39:35Z","author_association":"MEMBER","type":null,"active_lock_reason":null,"draft":false,"pull_request":{"url":"https://api.github.com/repos/beancount/beancount/pulls/929","html_url":"https://github.com/beancount/beancount/pull/929","diff_url":"https://github.com/beancount/beancount/pull/929.diff","patch_url":"https://github.com/beancount/beancount/pull/929.patch","merged_at":null},"body":"This is still used in the latest released version of beangulp so\nbeancount master is incompatible with that. This is just a couple of\nlines of well-aged code, so I do not think there is a rush to remove\nit.\n","closed_by":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/beancount/beancount/issues/929/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beancount/issues/929/timeline","performed_via_github_app":null,"state_reason":null},{"url":"https://api.github.com/repos/beancount/beancount/issues/928","repository_url":"https://api.github.com/repos/beancount/beancount","labels_url":"https://api.github.com/repos/beancount/beancount/issues/928/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beancount/issues/928/comments","events_url":"https://api.github.com/repos/beancount/beancount/issues/928/events","html_url":"https://github.com/beancount/beancount/pull/928","id":2766792876,"node_id":"PR_kwDOD91Bd86GntSR","number":928,"title":"build: Fix ugly hack to support building extension module in-place","user":{"login":"dnicolodi","id":987145,"node_id":"MDQ6VXNlcjk4NzE0NQ==","avatar_url":"https://avatars.githubusercontent.com/u/987145?v=4","gravatar_id":"","url":"https://api.github.com/users/dnicolodi","html_url":"https://github.com/dnicolodi","followers_url":"https://api.github.com/users/dnicolodi/followers","following_url":"https://api.github.com/users/dnicolodi/following{/other_user}","gists_url":"https://api.github.com/users/dnicolodi/gists{/gist_id}","starred_url":"https://api.github.com/users/dnicolodi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dnicolodi/subscriptions","organizations_url":"https://api.github.com/users/dnicolodi/orgs","repos_url":"https://api.github.com/users/dnicolodi/repos","events_url":"https://api.github.com/users/dnicolodi/events{/privacy}","received_events_url":"https://api.github.com/users/dnicolodi/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":0,"created_at":"2025-01-02T23:40:16Z","updated_at":"2025-01-03T03:32:14Z","closed_at":"2025-01-03T03:32:14Z","author_association":"COLLABORATOR","type":null,"active_lock_reason":null,"draft":false,"pull_request":{"url":"https://api.github.com/repos/beancount/beancount/pulls/928","html_url":"https://github.com/beancount/beancount/pull/928","diff_url":"https://github.com/beancount/beancount/pull/928.diff","patch_url":"https://github.com/beancount/beancount/pull/928.patch","merged_at":"2025-01-03T03:32:14Z"},"body":"`cp` is not available on Windows. Use Python's `shutil.copy()` instead.\r\n\r\nReplaces #926.","closed_by":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/beancount/beancount/issues/928/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beancount/issues/928/timeline","performed_via_github_app":null,"state_reason":null},{"url":"https://api.github.com/repos/beancount/beancount/issues/926","repository_url":"https://api.github.com/repos/beancount/beancount","labels_url":"https://api.github.com/repos/beancount/beancount/issues/926/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beancount/issues/926/comments","events_url":"https://api.github.com/repos/beancount/beancount/issues/926/events","html_url":"https://github.com/beancount/beancount/pull/926","id":2765978144,"node_id":"PR_kwDOD91Bd86Gk9Oa","number":926,"title":"build: make meson build_ext target optional","user":{"login":"trim21","id":13553903,"node_id":"MDQ6VXNlcjEzNTUzOTAz","avatar_url":"https://avatars.githubusercontent.com/u/13553903?v=4","gravatar_id":"","url":"https://api.github.com/users/trim21","html_url":"https://github.com/trim21","followers_url":"https://api.github.com/users/trim21/followers","following_url":"https://api.github.com/users/trim21/following{/other_user}","gists_url":"https://api.github.com/users/trim21/gists{/gist_id}","starred_url":"https://api.github.com/users/trim21/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/trim21/subscriptions","organizations_url":"https://api.github.com/users/trim21/orgs","repos_url":"https://api.github.com/users/trim21/repos","events_url":"https://api.github.com/users/trim21/events{/privacy}","received_events_url":"https://api.github.com/users/trim21/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":9,"created_at":"2025-01-02T12:48:29Z","updated_at":"2025-01-03T03:45:25Z","closed_at":"2025-01-03T01:55:14Z","author_association":"CONTRIBUTOR","type":null,"active_lock_reason":null,"draft":false,"pull_request":{"url":"https://api.github.com/repos/beancount/beancount/pulls/926","html_url":"https://github.com/beancount/beancount/pull/926","diff_url":"https://github.com/beancount/beancount/pull/926.diff","patch_url":"https://github.com/beancount/beancount/pull/926.patch","merged_at":null},"body":"looks like meson are being \"too smart\" to validate every command, for our `build_ext` target it will check if external program `cp` exists, which will fail on windows without git-bash or binutils.\r\n\r\nLet's check `cp` with `find_program` and skip this target if it doesn't exists.\r\n\r\nhttps://github.com/beancount/beancount/discussions/921#discussioncomment-11716559","closed_by":{"login":"trim21","id":13553903,"node_id":"MDQ6VXNlcjEzNTUzOTAz","avatar_url":"https://avatars.githubusercontent.com/u/13553903?v=4","gravatar_id":"","url":"https://api.github.com/users/trim21","html_url":"https://github.com/trim21","followers_url":"https://api.github.com/users/trim21/followers","following_url":"https://api.github.com/users/trim21/following{/other_user}","gists_url":"https://api.github.com/users/trim21/gists{/gist_id}","starred_url":"https://api.github.com/users/trim21/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/trim21/subscriptions","organizations_url":"https://api.github.com/users/trim21/orgs","repos_url":"https://api.github.com/users/trim21/repos","events_url":"https://api.github.com/users/trim21/events{/privacy}","received_events_url":"https://api.github.com/users/trim21/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/beancount/beancount/issues/926/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beancount/issues/926/timeline","performed_via_github_app":null,"state_reason":null},{"url":"https://api.github.com/repos/beancount/beancount/issues/925","repository_url":"https://api.github.com/repos/beancount/beancount","labels_url":"https://api.github.com/repos/beancount/beancount/issues/925/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beancount/issues/925/comments","events_url":"https://api.github.com/repos/beancount/beancount/issues/925/events","html_url":"https://github.com/beancount/beancount/pull/925","id":2765939254,"node_id":"PR_kwDOD91Bd86Gk09t","number":925,"title":"build: bump requires-python to py39","user":{"login":"trim21","id":13553903,"node_id":"MDQ6VXNlcjEzNTUzOTAz","avatar_url":"https://avatars.githubusercontent.com/u/13553903?v=4","gravatar_id":"","url":"https://api.github.com/users/trim21","html_url":"https://github.com/trim21","followers_url":"https://api.github.com/users/trim21/followers","following_url":"https://api.github.com/users/trim21/following{/other_user}","gists_url":"https://api.github.com/users/trim21/gists{/gist_id}","starred_url":"https://api.github.com/users/trim21/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/trim21/subscriptions","organizations_url":"https://api.github.com/users/trim21/orgs","repos_url":"https://api.github.com/users/trim21/repos","events_url":"https://api.github.com/users/trim21/events{/privacy}","received_events_url":"https://api.github.com/users/trim21/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":0,"created_at":"2025-01-02T12:20:29Z","updated_at":"2025-01-02T12:20:44Z","closed_at":"2025-01-02T12:20:44Z","author_association":"CONTRIBUTOR","type":null,"active_lock_reason":null,"draft":false,"pull_request":{"url":"https://api.github.com/repos/beancount/beancount/pulls/925","html_url":"https://github.com/beancount/beancount/pull/925","diff_url":"https://github.com/beancount/beancount/pull/925.diff","patch_url":"https://github.com/beancount/beancount/pull/925.patch","merged_at":null},"body":null,"closed_by":{"login":"trim21","id":13553903,"node_id":"MDQ6VXNlcjEzNTUzOTAz","avatar_url":"https://avatars.githubusercontent.com/u/13553903?v=4","gravatar_id":"","url":"https://api.github.com/users/trim21","html_url":"https://github.com/trim21","followers_url":"https://api.github.com/users/trim21/followers","following_url":"https://api.github.com/users/trim21/following{/other_user}","gists_url":"https://api.github.com/users/trim21/gists{/gist_id}","starred_url":"https://api.github.com/users/trim21/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/trim21/subscriptions","organizations_url":"https://api.github.com/users/trim21/orgs","repos_url":"https://api.github.com/users/trim21/repos","events_url":"https://api.github.com/users/trim21/events{/privacy}","received_events_url":"https://api.github.com/users/trim21/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/beancount/beancount/issues/925/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beancount/issues/925/timeline","performed_via_github_app":null,"state_reason":null},{"url":"https://api.github.com/repos/beancount/beancount/issues/924","repository_url":"https://api.github.com/repos/beancount/beancount","labels_url":"https://api.github.com/repos/beancount/beancount/issues/924/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beancount/issues/924/comments","events_url":"https://api.github.com/repos/beancount/beancount/issues/924/events","html_url":"https://github.com/beancount/beancount/pull/924","id":2765935975,"node_id":"PR_kwDOD91Bd86Gk0Qy","number":924,"title":"Update python-requires in pyproject.toml","user":{"login":"dnicolodi","id":987145,"node_id":"MDQ6VXNlcjk4NzE0NQ==","avatar_url":"https://avatars.githubusercontent.com/u/987145?v=4","gravatar_id":"","url":"https://api.github.com/users/dnicolodi","html_url":"https://github.com/dnicolodi","followers_url":"https://api.github.com/users/dnicolodi/followers","following_url":"https://api.github.com/users/dnicolodi/following{/other_user}","gists_url":"https://api.github.com/users/dnicolodi/gists{/gist_id}","starred_url":"https://api.github.com/users/dnicolodi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dnicolodi/subscriptions","organizations_url":"https://api.github.com/users/dnicolodi/orgs","repos_url":"https://api.github.com/users/dnicolodi/repos","events_url":"https://api.github.com/users/dnicolodi/events{/privacy}","received_events_url":"https://api.github.com/users/dnicolodi/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":0,"created_at":"2025-01-02T12:18:00Z","updated_at":"2025-01-02T19:51:31Z","closed_at":"2025-01-02T19:51:30Z","author_association":"COLLABORATOR","type":null,"active_lock_reason":null,"draft":false,"pull_request":{"url":"https://api.github.com/repos/beancount/beancount/pulls/924","html_url":"https://github.com/beancount/beancount/pull/924","diff_url":"https://github.com/beancount/beancount/pull/924.diff","patch_url":"https://github.com/beancount/beancount/pull/924.patch","merged_at":"2025-01-02T19:51:30Z"},"body":"Reflect the fact that the new Python version beaseline is 3.9","closed_by":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/beancount/beancount/issues/924/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beancount/issues/924/timeline","performed_via_github_app":null,"state_reason":null},{"url":"https://api.github.com/repos/beancount/beancount/issues/923","repository_url":"https://api.github.com/repos/beancount/beancount","labels_url":"https://api.github.com/repos/beancount/beancount/issues/923/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beancount/issues/923/comments","events_url":"https://api.github.com/repos/beancount/beancount/issues/923/events","html_url":"https://github.com/beancount/beancount/pull/923","id":2765933708,"node_id":"PR_kwDOD91Bd86GkzxD","number":923,"title":"Use `Optional[T]` instead of `T | None` for Python 3.9 compatibility","user":{"login":"dnicolodi","id":987145,"node_id":"MDQ6VXNlcjk4NzE0NQ==","avatar_url":"https://avatars.githubusercontent.com/u/987145?v=4","gravatar_id":"","url":"https://api.github.com/users/dnicolodi","html_url":"https://github.com/dnicolodi","followers_url":"https://api.github.com/users/dnicolodi/followers","following_url":"https://api.github.com/users/dnicolodi/following{/other_user}","gists_url":"https://api.github.com/users/dnicolodi/gists{/gist_id}","starred_url":"https://api.github.com/users/dnicolodi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dnicolodi/subscriptions","organizations_url":"https://api.github.com/users/dnicolodi/orgs","repos_url":"https://api.github.com/users/dnicolodi/repos","events_url":"https://api.github.com/users/dnicolodi/events{/privacy}","received_events_url":"https://api.github.com/users/dnicolodi/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":18,"created_at":"2025-01-02T12:16:15Z","updated_at":"2025-05-18T11:45:22Z","closed_at":"2025-01-20T13:23:58Z","author_association":"COLLABORATOR","type":null,"active_lock_reason":null,"draft":false,"pull_request":{"url":"https://api.github.com/repos/beancount/beancount/pulls/923","html_url":"https://github.com/beancount/beancount/pull/923","diff_url":"https://github.com/beancount/beancount/pull/923.diff","patch_url":"https://github.com/beancount/beancount/pull/923.patch","merged_at":"2025-01-20T13:23:58Z"},"body":"This converts the spelling to the latter form only for type declarations consumed in beanquery, the others are left as an exercise for someone else.","closed_by":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/beancount/beancount/issues/923/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beancount/issues/923/timeline","performed_via_github_app":null,"state_reason":null},{"url":"https://api.github.com/repos/beancount/beancount/issues/922","repository_url":"https://api.github.com/repos/beancount/beancount","labels_url":"https://api.github.com/repos/beancount/beancount/issues/922/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beancount/issues/922/comments","events_url":"https://api.github.com/repos/beancount/beancount/issues/922/events","html_url":"https://github.com/beancount/beancount/issues/922","id":2765912499,"node_id":"I_kwDOD91Bd86k3Hmz","number":922,"title":"Use of `type | None` typing annotation is not supported in Python 3.9","user":{"login":"dnicolodi","id":987145,"node_id":"MDQ6VXNlcjk4NzE0NQ==","avatar_url":"https://avatars.githubusercontent.com/u/987145?v=4","gravatar_id":"","url":"https://api.github.com/users/dnicolodi","html_url":"https://github.com/dnicolodi","followers_url":"https://api.github.com/users/dnicolodi/followers","following_url":"https://api.github.com/users/dnicolodi/following{/other_user}","gists_url":"https://api.github.com/users/dnicolodi/gists{/gist_id}","starred_url":"https://api.github.com/users/dnicolodi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dnicolodi/subscriptions","organizations_url":"https://api.github.com/users/dnicolodi/orgs","repos_url":"https://api.github.com/users/dnicolodi/repos","events_url":"https://api.github.com/users/dnicolodi/events{/privacy}","received_events_url":"https://api.github.com/users/dnicolodi/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"open","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":3,"created_at":"2025-01-02T12:00:49Z","updated_at":"2025-08-08T00:52:25Z","closed_at":null,"author_association":"COLLABORATOR","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"`pyproject.toml` still states compatibility with Python 3.7 and later. However, testing with Python 3.7 and 3.8 has been removed from the CI matrix thus I assume the new baseline is Python 3.9.\r\n\r\nIt seems that the baseline has been bumped to Python 3.9 to be able to subscript base types. However, typing annotations using the `type | None` the code has been added. These are supported only starting with Python 3.10.\r\n\r\nI don't think that dropping compatibility with older Python versions only to be able to spell typing annotations in a slightly easier form is worth the trouble caused to projects depending on Beancount, especially if the typing annotations are not used nor checked: if they were the issue with the Python 3.9 compatibility would have been caught.","closed_by":null,"reactions":{"url":"https://api.github.com/repos/beancount/beancount/issues/922/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beancount/issues/922/timeline","performed_via_github_app":null,"state_reason":null},{"url":"https://api.github.com/repos/beancount/beancount/issues/920","repository_url":"https://api.github.com/repos/beancount/beancount","labels_url":"https://api.github.com/repos/beancount/beancount/issues/920/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beancount/issues/920/comments","events_url":"https://api.github.com/repos/beancount/beancount/issues/920/events","html_url":"https://github.com/beancount/beancount/pull/920","id":2765103728,"node_id":"PR_kwDOD91Bd86GiFvE","number":920,"title":"printer: Restore output format","user":{"login":"dnicolodi","id":987145,"node_id":"MDQ6VXNlcjk4NzE0NQ==","avatar_url":"https://avatars.githubusercontent.com/u/987145?v=4","gravatar_id":"","url":"https://api.github.com/users/dnicolodi","html_url":"https://github.com/dnicolodi","followers_url":"https://api.github.com/users/dnicolodi/followers","following_url":"https://api.github.com/users/dnicolodi/following{/other_user}","gists_url":"https://api.github.com/users/dnicolodi/gists{/gist_id}","starred_url":"https://api.github.com/users/dnicolodi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dnicolodi/subscriptions","organizations_url":"https://api.github.com/users/dnicolodi/orgs","repos_url":"https://api.github.com/users/dnicolodi/repos","events_url":"https://api.github.com/users/dnicolodi/events{/privacy}","received_events_url":"https://api.github.com/users/dnicolodi/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":0,"created_at":"2025-01-01T14:35:10Z","updated_at":"2025-01-03T14:38:07Z","closed_at":"2025-01-03T14:38:07Z","author_association":"COLLABORATOR","type":null,"active_lock_reason":null,"draft":false,"pull_request":{"url":"https://api.github.com/repos/beancount/beancount/pulls/920","html_url":"https://github.com/beancount/beancount/pull/920","diff_url":"https://github.com/beancount/beancount/pull/920.diff","patch_url":"https://github.com/beancount/beancount/pull/920.patch","merged_at":"2025-01-03T14:38:07Z"},"body":"The output format, including whitespace should be stable, as it is used for example to test the output of importers in the beangulp framework. This restores the output format to the one used before the last commit. The change in trailing whitespace in the source location comment is kept as that is a seldom used debug feature.\r\n\r\nAdjust one test to allow the expected output to do not contain trailing whitespace.\r\n\r\nThis partially reverts commit 82586a4f7888.","closed_by":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/beancount/beancount/issues/920/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beancount/issues/920/timeline","performed_via_github_app":null,"state_reason":null},{"url":"https://api.github.com/repos/beancount/beancount/issues/919","repository_url":"https://api.github.com/repos/beancount/beancount","labels_url":"https://api.github.com/repos/beancount/beancount/issues/919/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beancount/issues/919/comments","events_url":"https://api.github.com/repos/beancount/beancount/issues/919/events","html_url":"https://github.com/beancount/beancount/issues/919","id":2765065116,"node_id":"I_kwDOD91Bd86kz4uc","number":919,"title":"Installing on Windows Fais with \"Need python for x86, but found x86_64\"","user":{"login":"marvhen","id":12300004,"node_id":"MDQ6VXNlcjEyMzAwMDA0","avatar_url":"https://avatars.githubusercontent.com/u/12300004?v=4","gravatar_id":"","url":"https://api.github.com/users/marvhen","html_url":"https://github.com/marvhen","followers_url":"https://api.github.com/users/marvhen/followers","following_url":"https://api.github.com/users/marvhen/following{/other_user}","gists_url":"https://api.github.com/users/marvhen/gists{/gist_id}","starred_url":"https://api.github.com/users/marvhen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/marvhen/subscriptions","organizations_url":"https://api.github.com/users/marvhen/orgs","repos_url":"https://api.github.com/users/marvhen/repos","events_url":"https://api.github.com/users/marvhen/events{/privacy}","received_events_url":"https://api.github.com/users/marvhen/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":1,"created_at":"2025-01-01T13:13:34Z","updated_at":"2025-01-01T17:06:44Z","closed_at":"2025-01-01T17:06:44Z","author_association":"NONE","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"I'm getting this error when following the instructions to install on Windows.  \r\n\r\nI'm doing this on 64 bit Windows 11...do I just need to use 32 bit Python?\r\n\r\nTried building from source as well and got the same error.  One thing I noticed is my machine is identified as x86, not 64:\r\n\r\n```\r\n  × Preparing editable metadata (pyproject.toml) did not run successfully.\r\n  │ exit code: 1\r\n  ╰─> [21 lines of output]\r\n      + meson setup C:\\Users\\marvhen\\source\\repos\\beancount C:\\Users\\marvhen\\source\\repos\\beancount\\build\\cp313 -Dbuildtype=release -Db_ndebug=if-release -Db_vscrt=md --native-file=C:\\Users\\marvhen\\source\\repos\\beancount\\build\\cp313\\meson-python-native-file.ini\r\n      The Meson build system\r\n      Version: 1.6.1\r\n      Source dir: C:\\Users\\marvhen\\source\\repos\\beancount\r\n      Build dir: C:\\Users\\marvhen\\source\\repos\\beancount\\build\\cp313\r\n      Build type: native build\r\n      Project name: beancount\r\n      Project version: 3.1.0.dev0\r\n      C compiler for the host machine: gcc (gcc 8.3.0 \"gcc (i686-posix-dwarf, Built by strawberryperl.com project) 8.3.0\")\r\n      C linker for the host machine: gcc ld.bfd 2.32\r\n      Host machine cpu family: x86\r\n      Host machine cpu: x86\r\n      Program win_bison found: YES 3.8.2 3.8.2 (C:\\Program Files (x86)\\win_flex_bison-2.5.25\\win_bison.EXE)\r\n      Program win_flex found: YES 2.6.4 2.6.4 (C:\\Program Files (x86)\\win_flex_bison-2.5.25\\win_flex.EXE)\r\n      Program python found: YES (C:\\Users\\marvhen\\scoop\\apps\\python\\current\\python.exe)\r\n      Need python for x86, but found x86_64\r\n      Run-time dependency python found: NO (tried sysconfig)\r\n\r\n      ..\\..\\meson.build:237:12: ERROR: Python dependency not found\r\n```\r\n\r\nI see some other talk of this issue:\r\n- https://github.com/mesonbuild/meson/issues/13008\r\n- https://github.com/COSMIC-PopSynth/COSMIC/issues/682\r\n","closed_by":null,"reactions":{"url":"https://api.github.com/repos/beancount/beancount/issues/919/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beancount/issues/919/timeline","performed_via_github_app":null,"state_reason":"completed"},{"url":"https://api.github.com/repos/beancount/beancount/issues/918","repository_url":"https://api.github.com/repos/beancount/beancount","labels_url":"https://api.github.com/repos/beancount/beancount/issues/918/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beancount/issues/918/comments","events_url":"https://api.github.com/repos/beancount/beancount/issues/918/events","html_url":"https://github.com/beancount/beancount/pull/918","id":2764856386,"node_id":"PR_kwDOD91Bd86GhROX","number":918,"title":"style: remove trailing whitespace from source code and format ourput","user":{"login":"trim21","id":13553903,"node_id":"MDQ6VXNlcjEzNTUzOTAz","avatar_url":"https://avatars.githubusercontent.com/u/13553903?v=4","gravatar_id":"","url":"https://api.github.com/users/trim21","html_url":"https://github.com/trim21","followers_url":"https://api.github.com/users/trim21/followers","following_url":"https://api.github.com/users/trim21/following{/other_user}","gists_url":"https://api.github.com/users/trim21/gists{/gist_id}","starred_url":"https://api.github.com/users/trim21/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/trim21/subscriptions","organizations_url":"https://api.github.com/users/trim21/orgs","repos_url":"https://api.github.com/users/trim21/repos","events_url":"https://api.github.com/users/trim21/events{/privacy}","received_events_url":"https://api.github.com/users/trim21/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":0,"created_at":"2025-01-01T05:29:13Z","updated_at":"2025-01-01T08:47:59Z","closed_at":"2025-01-01T08:03:56Z","author_association":"CONTRIBUTOR","type":null,"active_lock_reason":null,"draft":false,"pull_request":{"url":"https://api.github.com/repos/beancount/beancount/pulls/918","html_url":"https://github.com/beancount/beancount/pull/918","diff_url":"https://github.com/beancount/beancount/pull/918.diff","patch_url":"https://github.com/beancount/beancount/pull/918.patch","merged_at":"2025-01-01T08:03:56Z"},"body":null,"closed_by":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/beancount/beancount/issues/918/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beancount/issues/918/timeline","performed_via_github_app":null,"state_reason":null},{"url":"https://api.github.com/repos/beancount/beancount/issues/917","repository_url":"https://api.github.com/repos/beancount/beancount","labels_url":"https://api.github.com/repos/beancount/beancount/issues/917/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beancount/issues/917/comments","events_url":"https://api.github.com/repos/beancount/beancount/issues/917/events","html_url":"https://github.com/beancount/beancount/issues/917","id":2763726684,"node_id":"I_kwDOD91Bd86kux9c","number":917,"title":"Python 3.13 Wheels","user":{"login":"JP-Ellis","id":3196162,"node_id":"MDQ6VXNlcjMxOTYxNjI=","avatar_url":"https://avatars.githubusercontent.com/u/3196162?v=4","gravatar_id":"","url":"https://api.github.com/users/JP-Ellis","html_url":"https://github.com/JP-Ellis","followers_url":"https://api.github.com/users/JP-Ellis/followers","following_url":"https://api.github.com/users/JP-Ellis/following{/other_user}","gists_url":"https://api.github.com/users/JP-Ellis/gists{/gist_id}","starred_url":"https://api.github.com/users/JP-Ellis/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/JP-Ellis/subscriptions","organizations_url":"https://api.github.com/users/JP-Ellis/orgs","repos_url":"https://api.github.com/users/JP-Ellis/repos","events_url":"https://api.github.com/users/JP-Ellis/events{/privacy}","received_events_url":"https://api.github.com/users/JP-Ellis/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":2,"created_at":"2024-12-30T21:43:25Z","updated_at":"2025-01-01T11:12:42Z","closed_at":"2025-01-01T11:12:42Z","author_association":"NONE","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"With Python 3.13 having been released for a couple of months now, it would be really nice to publish wheels for `cp313` (or publish a new `3.0.1` release which includes `cp313`). This will avoid having to build the binary extensions.","closed_by":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/beancount/beancount/issues/917/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beancount/issues/917/timeline","performed_via_github_app":null,"state_reason":"completed"},{"url":"https://api.github.com/repos/beancount/beancount/issues/916","repository_url":"https://api.github.com/repos/beancount/beancount","labels_url":"https://api.github.com/repos/beancount/beancount/issues/916/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beancount/issues/916/comments","events_url":"https://api.github.com/repos/beancount/beancount/issues/916/events","html_url":"https://github.com/beancount/beancount/pull/916","id":2757536458,"node_id":"PR_kwDOD91Bd86GKAXo","number":916,"title":"tests: fix deprecated use of positional count arg to re.subn","user":{"login":"yagebu","id":2482259,"node_id":"MDQ6VXNlcjI0ODIyNTk=","avatar_url":"https://avatars.githubusercontent.com/u/2482259?v=4","gravatar_id":"","url":"https://api.github.com/users/yagebu","html_url":"https://github.com/yagebu","followers_url":"https://api.github.com/users/yagebu/followers","following_url":"https://api.github.com/users/yagebu/following{/other_user}","gists_url":"https://api.github.com/users/yagebu/gists{/gist_id}","starred_url":"https://api.github.com/users/yagebu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/yagebu/subscriptions","organizations_url":"https://api.github.com/users/yagebu/orgs","repos_url":"https://api.github.com/users/yagebu/repos","events_url":"https://api.github.com/users/yagebu/events{/privacy}","received_events_url":"https://api.github.com/users/yagebu/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":0,"created_at":"2024-12-24T10:05:48Z","updated_at":"2024-12-25T08:47:06Z","closed_at":"2024-12-24T15:48:02Z","author_association":"MEMBER","type":null,"active_lock_reason":null,"draft":false,"pull_request":{"url":"https://api.github.com/repos/beancount/beancount/pulls/916","html_url":"https://github.com/beancount/beancount/pull/916","diff_url":"https://github.com/beancount/beancount/pull/916.diff","patch_url":"https://github.com/beancount/beancount/pull/916.patch","merged_at":"2024-12-24T15:48:02Z"},"body":"(these are new deprecations on Python 3.13)","closed_by":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/beancount/beancount/issues/916/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beancount/issues/916/timeline","performed_via_github_app":null,"state_reason":null},{"url":"https://api.github.com/repos/beancount/beancount/issues/915","repository_url":"https://api.github.com/repos/beancount/beancount","labels_url":"https://api.github.com/repos/beancount/beancount/issues/915/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beancount/issues/915/comments","events_url":"https://api.github.com/repos/beancount/beancount/issues/915/events","html_url":"https://github.com/beancount/beancount/pull/915","id":2757518009,"node_id":"PR_kwDOD91Bd86GJ8bD","number":915,"title":"Fix typings which broke beanquery","user":{"login":"yagebu","id":2482259,"node_id":"MDQ6VXNlcjI0ODIyNTk=","avatar_url":"https://avatars.githubusercontent.com/u/2482259?v=4","gravatar_id":"","url":"https://api.github.com/users/yagebu","html_url":"https://github.com/yagebu","followers_url":"https://api.github.com/users/yagebu/followers","following_url":"https://api.github.com/users/yagebu/following{/other_user}","gists_url":"https://api.github.com/users/yagebu/gists{/gist_id}","starred_url":"https://api.github.com/users/yagebu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/yagebu/subscriptions","organizations_url":"https://api.github.com/users/yagebu/orgs","repos_url":"https://api.github.com/users/yagebu/repos","events_url":"https://api.github.com/users/yagebu/events{/privacy}","received_events_url":"https://api.github.com/users/yagebu/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":0,"created_at":"2024-12-24T09:52:12Z","updated_at":"2024-12-25T08:47:08Z","closed_at":"2024-12-24T15:55:57Z","author_association":"MEMBER","type":null,"active_lock_reason":null,"draft":false,"pull_request":{"url":"https://api.github.com/repos/beancount/beancount/pulls/915","html_url":"https://github.com/beancount/beancount/pull/915","diff_url":"https://github.com/beancount/beancount/pull/915.diff","patch_url":"https://github.com/beancount/beancount/pull/915.patch","merged_at":"2024-12-24T15:55:57Z"},"body":"- position.cost should always be a cost (on postings, we need to have CostSpecs before booking)\r\n- all transactions should have a flag","closed_by":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/beancount/beancount/issues/915/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beancount/issues/915/timeline","performed_via_github_app":null,"state_reason":null},{"url":"https://api.github.com/repos/beancount/beancount/issues/914","repository_url":"https://api.github.com/repos/beancount/beancount","labels_url":"https://api.github.com/repos/beancount/beancount/issues/914/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beancount/issues/914/comments","events_url":"https://api.github.com/repos/beancount/beancount/issues/914/events","html_url":"https://github.com/beancount/beancount/pull/914","id":2756472903,"node_id":"PR_kwDOD91Bd86GGoyk","number":914,"title":"chore: remove unnessary ruff target-version","user":{"login":"trim21","id":13553903,"node_id":"MDQ6VXNlcjEzNTUzOTAz","avatar_url":"https://avatars.githubusercontent.com/u/13553903?v=4","gravatar_id":"","url":"https://api.github.com/users/trim21","html_url":"https://github.com/trim21","followers_url":"https://api.github.com/users/trim21/followers","following_url":"https://api.github.com/users/trim21/following{/other_user}","gists_url":"https://api.github.com/users/trim21/gists{/gist_id}","starred_url":"https://api.github.com/users/trim21/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/trim21/subscriptions","organizations_url":"https://api.github.com/users/trim21/orgs","repos_url":"https://api.github.com/users/trim21/repos","events_url":"https://api.github.com/users/trim21/events{/privacy}","received_events_url":"https://api.github.com/users/trim21/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":0,"created_at":"2024-12-23T17:32:55Z","updated_at":"2024-12-23T20:24:22Z","closed_at":"2024-12-23T20:24:22Z","author_association":"CONTRIBUTOR","type":null,"active_lock_reason":null,"draft":false,"pull_request":{"url":"https://api.github.com/repos/beancount/beancount/pulls/914","html_url":"https://github.com/beancount/beancount/pull/914","diff_url":"https://github.com/beancount/beancount/pull/914.diff","patch_url":"https://github.com/beancount/beancount/pull/914.patch","merged_at":"2024-12-23T20:24:22Z"},"body":null,"closed_by":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/beancount/beancount/issues/914/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beancount/issues/914/timeline","performed_via_github_app":null,"state_reason":null},{"url":"https://api.github.com/repos/beancount/beancount/issues/913","repository_url":"https://api.github.com/repos/beancount/beancount","labels_url":"https://api.github.com/repos/beancount/beancount/issues/913/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beancount/issues/913/comments","events_url":"https://api.github.com/repos/beancount/beancount/issues/913/events","html_url":"https://github.com/beancount/beancount/pull/913","id":2756414879,"node_id":"PR_kwDOD91Bd86GGcQp","number":913,"title":"minor style fix","user":{"login":"trim21","id":13553903,"node_id":"MDQ6VXNlcjEzNTUzOTAz","avatar_url":"https://avatars.githubusercontent.com/u/13553903?v=4","gravatar_id":"","url":"https://api.github.com/users/trim21","html_url":"https://github.com/trim21","followers_url":"https://api.github.com/users/trim21/followers","following_url":"https://api.github.com/users/trim21/following{/other_user}","gists_url":"https://api.github.com/users/trim21/gists{/gist_id}","starred_url":"https://api.github.com/users/trim21/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/trim21/subscriptions","organizations_url":"https://api.github.com/users/trim21/orgs","repos_url":"https://api.github.com/users/trim21/repos","events_url":"https://api.github.com/users/trim21/events{/privacy}","received_events_url":"https://api.github.com/users/trim21/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":1,"created_at":"2024-12-23T16:53:17Z","updated_at":"2024-12-23T17:23:03Z","closed_at":"2024-12-23T17:14:34Z","author_association":"CONTRIBUTOR","type":null,"active_lock_reason":null,"draft":false,"pull_request":{"url":"https://api.github.com/repos/beancount/beancount/pulls/913","html_url":"https://github.com/beancount/beancount/pull/913","diff_url":"https://github.com/beancount/beancount/pull/913.diff","patch_url":"https://github.com/beancount/beancount/pull/913.patch","merged_at":"2024-12-23T17:14:34Z"},"body":null,"closed_by":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/beancount/beancount/issues/913/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beancount/issues/913/timeline","performed_via_github_app":null,"state_reason":null},{"url":"https://api.github.com/repos/beancount/beancount/issues/912","repository_url":"https://api.github.com/repos/beancount/beancount","labels_url":"https://api.github.com/repos/beancount/beancount/issues/912/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beancount/issues/912/comments","events_url":"https://api.github.com/repos/beancount/beancount/issues/912/events","html_url":"https://github.com/beancount/beancount/pull/912","id":2756204965,"node_id":"PR_kwDOD91Bd86GFuLl","number":912,"title":"drop py<3.9","user":{"login":"trim21","id":13553903,"node_id":"MDQ6VXNlcjEzNTUzOTAz","avatar_url":"https://avatars.githubusercontent.com/u/13553903?v=4","gravatar_id":"","url":"https://api.github.com/users/trim21","html_url":"https://github.com/trim21","followers_url":"https://api.github.com/users/trim21/followers","following_url":"https://api.github.com/users/trim21/following{/other_user}","gists_url":"https://api.github.com/users/trim21/gists{/gist_id}","starred_url":"https://api.github.com/users/trim21/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/trim21/subscriptions","organizations_url":"https://api.github.com/users/trim21/orgs","repos_url":"https://api.github.com/users/trim21/repos","events_url":"https://api.github.com/users/trim21/events{/privacy}","received_events_url":"https://api.github.com/users/trim21/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":4,"created_at":"2024-12-23T14:43:13Z","updated_at":"2024-12-23T17:32:02Z","closed_at":"2024-12-23T17:32:02Z","author_association":"CONTRIBUTOR","type":null,"active_lock_reason":null,"draft":false,"pull_request":{"url":"https://api.github.com/repos/beancount/beancount/pulls/912","html_url":"https://github.com/beancount/beancount/pull/912","diff_url":"https://github.com/beancount/beancount/pull/912.diff","patch_url":"https://github.com/beancount/beancount/pull/912.patch","merged_at":null},"body":null,"closed_by":{"login":"trim21","id":13553903,"node_id":"MDQ6VXNlcjEzNTUzOTAz","avatar_url":"https://avatars.githubusercontent.com/u/13553903?v=4","gravatar_id":"","url":"https://api.github.com/users/trim21","html_url":"https://github.com/trim21","followers_url":"https://api.github.com/users/trim21/followers","following_url":"https://api.github.com/users/trim21/following{/other_user}","gists_url":"https://api.github.com/users/trim21/gists{/gist_id}","starred_url":"https://api.github.com/users/trim21/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/trim21/subscriptions","organizations_url":"https://api.github.com/users/trim21/orgs","repos_url":"https://api.github.com/users/trim21/repos","events_url":"https://api.github.com/users/trim21/events{/privacy}","received_events_url":"https://api.github.com/users/trim21/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/beancount/beancount/issues/912/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beancount/issues/912/timeline","performed_via_github_app":null,"state_reason":null},{"url":"https://api.github.com/repos/beancount/beancount/issues/911","repository_url":"https://api.github.com/repos/beancount/beancount","labels_url":"https://api.github.com/repos/beancount/beancount/issues/911/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beancount/issues/911/comments","events_url":"https://api.github.com/repos/beancount/beancount/issues/911/events","html_url":"https://github.com/beancount/beancount/pull/911","id":2756178358,"node_id":"PR_kwDOD91Bd86GFocy","number":911,"title":"minor type fix","user":{"login":"trim21","id":13553903,"node_id":"MDQ6VXNlcjEzNTUzOTAz","avatar_url":"https://avatars.githubusercontent.com/u/13553903?v=4","gravatar_id":"","url":"https://api.github.com/users/trim21","html_url":"https://github.com/trim21","followers_url":"https://api.github.com/users/trim21/followers","following_url":"https://api.github.com/users/trim21/following{/other_user}","gists_url":"https://api.github.com/users/trim21/gists{/gist_id}","starred_url":"https://api.github.com/users/trim21/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/trim21/subscriptions","organizations_url":"https://api.github.com/users/trim21/orgs","repos_url":"https://api.github.com/users/trim21/repos","events_url":"https://api.github.com/users/trim21/events{/privacy}","received_events_url":"https://api.github.com/users/trim21/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":0,"created_at":"2024-12-23T14:27:41Z","updated_at":"2024-12-23T20:23:18Z","closed_at":"2024-12-23T20:23:18Z","author_association":"CONTRIBUTOR","type":null,"active_lock_reason":null,"draft":false,"pull_request":{"url":"https://api.github.com/repos/beancount/beancount/pulls/911","html_url":"https://github.com/beancount/beancount/pull/911","diff_url":"https://github.com/beancount/beancount/pull/911.diff","patch_url":"https://github.com/beancount/beancount/pull/911.patch","merged_at":"2024-12-23T20:23:18Z"},"body":"add `pathlib.Path` on `load_file`, which we are already using it in our tests.\r\n\r\nremove `@runtime_checkable` from `BeancountError`\r\n\r\nOur errors do not actually inherit BeancountError, and `runtime_checkable` has very stanage runtime behavior (in my opinion) and there is also no need to do `isinstance(..., BeancountError)`\r\n\r\n```python\r\nfrom typing import Any\r\nfrom typing import NamedTuple\r\n\r\nfrom beancount.core.data import BeancountError\r\n\r\n\r\nclass AnySomeOtherNamedTupleWithSameName(NamedTuple):\r\n    source: Any\r\n    message: Any\r\n    entry: Any\r\n\r\n\r\nassert isinstance(AnySomeOtherNamedTupleWithSameName(1, 2, 3), BeancountError)\r\n```","closed_by":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/beancount/beancount/issues/911/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beancount/issues/911/timeline","performed_via_github_app":null,"state_reason":null},{"url":"https://api.github.com/repos/beancount/beancount/issues/910","repository_url":"https://api.github.com/repos/beancount/beancount","labels_url":"https://api.github.com/repos/beancount/beancount/issues/910/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beancount/issues/910/comments","events_url":"https://api.github.com/repos/beancount/beancount/issues/910/events","html_url":"https://github.com/beancount/beancount/pull/910","id":2756130139,"node_id":"PR_kwDOD91Bd86GFeFK","number":910,"title":"enable mypy","user":{"login":"trim21","id":13553903,"node_id":"MDQ6VXNlcjEzNTUzOTAz","avatar_url":"https://avatars.githubusercontent.com/u/13553903?v=4","gravatar_id":"","url":"https://api.github.com/users/trim21","html_url":"https://github.com/trim21","followers_url":"https://api.github.com/users/trim21/followers","following_url":"https://api.github.com/users/trim21/following{/other_user}","gists_url":"https://api.github.com/users/trim21/gists{/gist_id}","starred_url":"https://api.github.com/users/trim21/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/trim21/subscriptions","organizations_url":"https://api.github.com/users/trim21/orgs","repos_url":"https://api.github.com/users/trim21/repos","events_url":"https://api.github.com/users/trim21/events{/privacy}","received_events_url":"https://api.github.com/users/trim21/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":0,"created_at":"2024-12-23T14:00:10Z","updated_at":"2024-12-23T14:43:22Z","closed_at":"2024-12-23T14:13:20Z","author_association":"CONTRIBUTOR","type":null,"active_lock_reason":null,"draft":false,"pull_request":{"url":"https://api.github.com/repos/beancount/beancount/pulls/910","html_url":"https://github.com/beancount/beancount/pull/910","diff_url":"https://github.com/beancount/beancount/pull/910.diff","patch_url":"https://github.com/beancount/beancount/pull/910.patch","merged_at":"2024-12-23T14:13:20Z"},"body":"enable mypy on beancount\r\n\r\n1. Add `mypy` and `types-regex` to `types` extra `project.optional-dependencies`\r\n2. add mypy ci job to run mypy checks\r\n\r\n\r\nthis PR add mypy options `check_untyped_defs = false` so it only check function body with arguments/return type checks. untyped function like `def test_a(self):` will not be checked.\r\n\r\nuse `uv` in ci job there is no way to only install deps without building project from pyproject.toml with pip.\r\n\r\n","closed_by":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/beancount/beancount/issues/910/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beancount/issues/910/timeline","performed_via_github_app":null,"state_reason":null},{"url":"https://api.github.com/repos/beancount/beancount/issues/909","repository_url":"https://api.github.com/repos/beancount/beancount","labels_url":"https://api.github.com/repos/beancount/beancount/issues/909/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beancount/issues/909/comments","events_url":"https://api.github.com/repos/beancount/beancount/issues/909/events","html_url":"https://github.com/beancount/beancount/pull/909","id":2756116965,"node_id":"PR_kwDOD91Bd86GFbO1","number":909,"title":"refactor: remove unused old code","user":{"login":"trim21","id":13553903,"node_id":"MDQ6VXNlcjEzNTUzOTAz","avatar_url":"https://avatars.githubusercontent.com/u/13553903?v=4","gravatar_id":"","url":"https://api.github.com/users/trim21","html_url":"https://github.com/trim21","followers_url":"https://api.github.com/users/trim21/followers","following_url":"https://api.github.com/users/trim21/following{/other_user}","gists_url":"https://api.github.com/users/trim21/gists{/gist_id}","starred_url":"https://api.github.com/users/trim21/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/trim21/subscriptions","organizations_url":"https://api.github.com/users/trim21/orgs","repos_url":"https://api.github.com/users/trim21/repos","events_url":"https://api.github.com/users/trim21/events{/privacy}","received_events_url":"https://api.github.com/users/trim21/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":1,"created_at":"2024-12-23T13:52:28Z","updated_at":"2024-12-23T14:06:14Z","closed_at":"2024-12-23T14:06:14Z","author_association":"CONTRIBUTOR","type":null,"active_lock_reason":null,"draft":false,"pull_request":{"url":"https://api.github.com/repos/beancount/beancount/pulls/909","html_url":"https://github.com/beancount/beancount/pull/909","diff_url":"https://github.com/beancount/beancount/pull/909.diff","patch_url":"https://github.com/beancount/beancount/pull/909.patch","merged_at":"2024-12-23T14:06:14Z"},"body":null,"closed_by":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/beancount/beancount/issues/909/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beancount/issues/909/timeline","performed_via_github_app":null,"state_reason":null},{"url":"https://api.github.com/repos/beancount/beancount/issues/908","repository_url":"https://api.github.com/repos/beancount/beancount","labels_url":"https://api.github.com/repos/beancount/beancount/issues/908/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beancount/issues/908/comments","events_url":"https://api.github.com/repos/beancount/beancount/issues/908/events","html_url":"https://github.com/beancount/beancount/pull/908","id":2754791299,"node_id":"PR_kwDOD91Bd86GBTqk","number":908,"title":"minor type fix","user":{"login":"trim21","id":13553903,"node_id":"MDQ6VXNlcjEzNTUzOTAz","avatar_url":"https://avatars.githubusercontent.com/u/13553903?v=4","gravatar_id":"","url":"https://api.github.com/users/trim21","html_url":"https://github.com/trim21","followers_url":"https://api.github.com/users/trim21/followers","following_url":"https://api.github.com/users/trim21/following{/other_user}","gists_url":"https://api.github.com/users/trim21/gists{/gist_id}","starred_url":"https://api.github.com/users/trim21/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/trim21/subscriptions","organizations_url":"https://api.github.com/users/trim21/orgs","repos_url":"https://api.github.com/users/trim21/repos","events_url":"https://api.github.com/users/trim21/events{/privacy}","received_events_url":"https://api.github.com/users/trim21/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":0,"created_at":"2024-12-22T18:44:30Z","updated_at":"2024-12-22T19:14:45Z","closed_at":"2024-12-22T19:14:45Z","author_association":"CONTRIBUTOR","type":null,"active_lock_reason":null,"draft":false,"pull_request":{"url":"https://api.github.com/repos/beancount/beancount/pulls/908","html_url":"https://github.com/beancount/beancount/pull/908","diff_url":"https://github.com/beancount/beancount/pull/908.diff","patch_url":"https://github.com/beancount/beancount/pull/908.patch","merged_at":"2024-12-22T19:14:45Z"},"body":null,"closed_by":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/beancount/beancount/issues/908/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beancount/issues/908/timeline","performed_via_github_app":null,"state_reason":null},{"url":"https://api.github.com/repos/beancount/beancount/issues/907","repository_url":"https://api.github.com/repos/beancount/beancount","labels_url":"https://api.github.com/repos/beancount/beancount/issues/907/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beancount/issues/907/comments","events_url":"https://api.github.com/repos/beancount/beancount/issues/907/events","html_url":"https://github.com/beancount/beancount/pull/907","id":2754740345,"node_id":"PR_kwDOD91Bd86GBKdm","number":907,"title":"refactor: cleanup some unused old code","user":{"login":"trim21","id":13553903,"node_id":"MDQ6VXNlcjEzNTUzOTAz","avatar_url":"https://avatars.githubusercontent.com/u/13553903?v=4","gravatar_id":"","url":"https://api.github.com/users/trim21","html_url":"https://github.com/trim21","followers_url":"https://api.github.com/users/trim21/followers","following_url":"https://api.github.com/users/trim21/following{/other_user}","gists_url":"https://api.github.com/users/trim21/gists{/gist_id}","starred_url":"https://api.github.com/users/trim21/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/trim21/subscriptions","organizations_url":"https://api.github.com/users/trim21/orgs","repos_url":"https://api.github.com/users/trim21/repos","events_url":"https://api.github.com/users/trim21/events{/privacy}","received_events_url":"https://api.github.com/users/trim21/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":1,"created_at":"2024-12-22T16:41:49Z","updated_at":"2024-12-22T17:04:28Z","closed_at":"2024-12-22T16:56:36Z","author_association":"CONTRIBUTOR","type":null,"active_lock_reason":null,"draft":false,"pull_request":{"url":"https://api.github.com/repos/beancount/beancount/pulls/907","html_url":"https://github.com/beancount/beancount/pull/907","diff_url":"https://github.com/beancount/beancount/pull/907.diff","patch_url":"https://github.com/beancount/beancount/pull/907.patch","merged_at":"2024-12-22T16:56:36Z"},"body":"looks like they are from the era of python2?","closed_by":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/beancount/beancount/issues/907/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beancount/issues/907/timeline","performed_via_github_app":null,"state_reason":null},{"url":"https://api.github.com/repos/beancount/beancount/issues/906","repository_url":"https://api.github.com/repos/beancount/beancount","labels_url":"https://api.github.com/repos/beancount/beancount/issues/906/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beancount/issues/906/comments","events_url":"https://api.github.com/repos/beancount/beancount/issues/906/events","html_url":"https://github.com/beancount/beancount/pull/906","id":2754724888,"node_id":"PR_kwDOD91Bd86GBHYY","number":906,"title":"refactor: cleanup some unused old code","user":{"login":"trim21","id":13553903,"node_id":"MDQ6VXNlcjEzNTUzOTAz","avatar_url":"https://avatars.githubusercontent.com/u/13553903?v=4","gravatar_id":"","url":"https://api.github.com/users/trim21","html_url":"https://github.com/trim21","followers_url":"https://api.github.com/users/trim21/followers","following_url":"https://api.github.com/users/trim21/following{/other_user}","gists_url":"https://api.github.com/users/trim21/gists{/gist_id}","starred_url":"https://api.github.com/users/trim21/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/trim21/subscriptions","organizations_url":"https://api.github.com/users/trim21/orgs","repos_url":"https://api.github.com/users/trim21/repos","events_url":"https://api.github.com/users/trim21/events{/privacy}","received_events_url":"https://api.github.com/users/trim21/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":0,"created_at":"2024-12-22T16:03:21Z","updated_at":"2024-12-22T16:26:07Z","closed_at":"2024-12-22T16:26:07Z","author_association":"CONTRIBUTOR","type":null,"active_lock_reason":null,"draft":false,"pull_request":{"url":"https://api.github.com/repos/beancount/beancount/pulls/906","html_url":"https://github.com/beancount/beancount/pull/906","diff_url":"https://github.com/beancount/beancount/pull/906.diff","patch_url":"https://github.com/beancount/beancount/pull/906.patch","merged_at":"2024-12-22T16:26:07Z"},"body":null,"closed_by":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/beancount/beancount/issues/906/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beancount/issues/906/timeline","performed_via_github_app":null,"state_reason":null},{"url":"https://api.github.com/repos/beancount/beancount/issues/905","repository_url":"https://api.github.com/repos/beancount/beancount","labels_url":"https://api.github.com/repos/beancount/beancount/issues/905/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beancount/issues/905/comments","events_url":"https://api.github.com/repos/beancount/beancount/issues/905/events","html_url":"https://github.com/beancount/beancount/pull/905","id":2754698616,"node_id":"PR_kwDOD91Bd86GBCHH","number":905,"title":"Further types","user":{"login":"yagebu","id":2482259,"node_id":"MDQ6VXNlcjI0ODIyNTk=","avatar_url":"https://avatars.githubusercontent.com/u/2482259?v=4","gravatar_id":"","url":"https://api.github.com/users/yagebu","html_url":"https://github.com/yagebu","followers_url":"https://api.github.com/users/yagebu/followers","following_url":"https://api.github.com/users/yagebu/following{/other_user}","gists_url":"https://api.github.com/users/yagebu/gists{/gist_id}","starred_url":"https://api.github.com/users/yagebu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/yagebu/subscriptions","organizations_url":"https://api.github.com/users/yagebu/orgs","repos_url":"https://api.github.com/users/yagebu/repos","events_url":"https://api.github.com/users/yagebu/events{/privacy}","received_events_url":"https://api.github.com/users/yagebu/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":6,"created_at":"2024-12-22T15:00:18Z","updated_at":"2024-12-23T15:56:57Z","closed_at":"2024-12-23T13:40:41Z","author_association":"MEMBER","type":null,"active_lock_reason":null,"draft":false,"pull_request":{"url":"https://api.github.com/repos/beancount/beancount/pulls/905","html_url":"https://github.com/beancount/beancount/pull/905","diff_url":"https://github.com/beancount/beancount/pull/905.diff","patch_url":"https://github.com/beancount/beancount/pull/905.patch","merged_at":"2024-12-23T13:40:41Z"},"body":"Forgot to actually include the py.typed marker in #895.\r\nWith these changes, it will be possible to remove the stubs that I've so far been using to typecheck Fava, see https://github.com/beancount/fava/pull/1920 :)","closed_by":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/beancount/beancount/issues/905/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beancount/issues/905/timeline","performed_via_github_app":null,"state_reason":null},{"url":"https://api.github.com/repos/beancount/beancount/issues/904","repository_url":"https://api.github.com/repos/beancount/beancount","labels_url":"https://api.github.com/repos/beancount/beancount/issues/904/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beancount/issues/904/comments","events_url":"https://api.github.com/repos/beancount/beancount/issues/904/events","html_url":"https://github.com/beancount/beancount/pull/904","id":2754410026,"node_id":"PR_kwDOD91Bd86GAIZ7","number":904,"title":"refactor: improve typing","user":{"login":"trim21","id":13553903,"node_id":"MDQ6VXNlcjEzNTUzOTAz","avatar_url":"https://avatars.githubusercontent.com/u/13553903?v=4","gravatar_id":"","url":"https://api.github.com/users/trim21","html_url":"https://github.com/trim21","followers_url":"https://api.github.com/users/trim21/followers","following_url":"https://api.github.com/users/trim21/following{/other_user}","gists_url":"https://api.github.com/users/trim21/gists{/gist_id}","starred_url":"https://api.github.com/users/trim21/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/trim21/subscriptions","organizations_url":"https://api.github.com/users/trim21/orgs","repos_url":"https://api.github.com/users/trim21/repos","events_url":"https://api.github.com/users/trim21/events{/privacy}","received_events_url":"https://api.github.com/users/trim21/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":0,"created_at":"2024-12-22T00:02:02Z","updated_at":"2024-12-22T05:19:42Z","closed_at":"2024-12-22T05:19:42Z","author_association":"CONTRIBUTOR","type":null,"active_lock_reason":null,"draft":false,"pull_request":{"url":"https://api.github.com/repos/beancount/beancount/pulls/904","html_url":"https://github.com/beancount/beancount/pull/904","diff_url":"https://github.com/beancount/beancount/pull/904.diff","patch_url":"https://github.com/beancount/beancount/pull/904.patch","merged_at":"2024-12-22T05:19:42Z"},"body":"rewrite some (almost all) `collections.namedtuple` with `typing.NamedTuple`","closed_by":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/beancount/beancount/issues/904/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beancount/issues/904/timeline","performed_via_github_app":null,"state_reason":null},{"url":"https://api.github.com/repos/beancount/beancount/issues/903","repository_url":"https://api.github.com/repos/beancount/beancount","labels_url":"https://api.github.com/repos/beancount/beancount/issues/903/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beancount/issues/903/comments","events_url":"https://api.github.com/repos/beancount/beancount/issues/903/events","html_url":"https://github.com/beancount/beancount/pull/903","id":2754402162,"node_id":"PR_kwDOD91Bd86GAG71","number":903,"title":"refactor: improve typing","user":{"login":"trim21","id":13553903,"node_id":"MDQ6VXNlcjEzNTUzOTAz","avatar_url":"https://avatars.githubusercontent.com/u/13553903?v=4","gravatar_id":"","url":"https://api.github.com/users/trim21","html_url":"https://github.com/trim21","followers_url":"https://api.github.com/users/trim21/followers","following_url":"https://api.github.com/users/trim21/following{/other_user}","gists_url":"https://api.github.com/users/trim21/gists{/gist_id}","starred_url":"https://api.github.com/users/trim21/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/trim21/subscriptions","organizations_url":"https://api.github.com/users/trim21/orgs","repos_url":"https://api.github.com/users/trim21/repos","events_url":"https://api.github.com/users/trim21/events{/privacy}","received_events_url":"https://api.github.com/users/trim21/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":2,"created_at":"2024-12-21T23:27:33Z","updated_at":"2024-12-22T01:01:31Z","closed_at":"2024-12-22T01:00:45Z","author_association":"CONTRIBUTOR","type":null,"active_lock_reason":null,"draft":false,"pull_request":{"url":"https://api.github.com/repos/beancount/beancount/pulls/903","html_url":"https://github.com/beancount/beancount/pull/903","diff_url":"https://github.com/beancount/beancount/pull/903.diff","patch_url":"https://github.com/beancount/beancount/pull/903.patch","merged_at":"2024-12-22T01:00:44Z"},"body":"1. we can inhert from `NamedTuple` directly.\r\n2. Original type of `Position.cost` doesn't match, it allow `Cost | CostSpec | None` but typed as `Cost`","closed_by":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/beancount/beancount/issues/903/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beancount/issues/903/timeline","performed_via_github_app":null,"state_reason":null},{"url":"https://api.github.com/repos/beancount/beancount/issues/902","repository_url":"https://api.github.com/repos/beancount/beancount","labels_url":"https://api.github.com/repos/beancount/beancount/issues/902/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beancount/issues/902/comments","events_url":"https://api.github.com/repos/beancount/beancount/issues/902/events","html_url":"https://github.com/beancount/beancount/pull/902","id":2754393263,"node_id":"PR_kwDOD91Bd86GAFW6","number":902,"title":"style: enable ruff isort rule","user":{"login":"trim21","id":13553903,"node_id":"MDQ6VXNlcjEzNTUzOTAz","avatar_url":"https://avatars.githubusercontent.com/u/13553903?v=4","gravatar_id":"","url":"https://api.github.com/users/trim21","html_url":"https://github.com/trim21","followers_url":"https://api.github.com/users/trim21/followers","following_url":"https://api.github.com/users/trim21/following{/other_user}","gists_url":"https://api.github.com/users/trim21/gists{/gist_id}","starred_url":"https://api.github.com/users/trim21/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/trim21/subscriptions","organizations_url":"https://api.github.com/users/trim21/orgs","repos_url":"https://api.github.com/users/trim21/repos","events_url":"https://api.github.com/users/trim21/events{/privacy}","received_events_url":"https://api.github.com/users/trim21/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":4,"created_at":"2024-12-21T22:52:10Z","updated_at":"2024-12-21T23:14:59Z","closed_at":"2024-12-21T23:14:23Z","author_association":"CONTRIBUTOR","type":null,"active_lock_reason":null,"draft":false,"pull_request":{"url":"https://api.github.com/repos/beancount/beancount/pulls/902","html_url":"https://github.com/beancount/beancount/pull/902","diff_url":"https://github.com/beancount/beancount/pull/902.diff","patch_url":"https://github.com/beancount/beancount/pull/902.patch","merged_at":"2024-12-21T23:14:23Z"},"body":null,"closed_by":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/beancount/beancount/issues/902/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beancount/issues/902/timeline","performed_via_github_app":null,"state_reason":null},{"url":"https://api.github.com/repos/beancount/beancount/issues/901","repository_url":"https://api.github.com/repos/beancount/beancount","labels_url":"https://api.github.com/repos/beancount/beancount/issues/901/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beancount/issues/901/comments","events_url":"https://api.github.com/repos/beancount/beancount/issues/901/events","html_url":"https://github.com/beancount/beancount/pull/901","id":2754377671,"node_id":"PR_kwDOD91Bd86GACgM","number":901,"title":"build: add a build_ext meson target for old-style developers","user":{"login":"trim21","id":13553903,"node_id":"MDQ6VXNlcjEzNTUzOTAz","avatar_url":"https://avatars.githubusercontent.com/u/13553903?v=4","gravatar_id":"","url":"https://api.github.com/users/trim21","html_url":"https://github.com/trim21","followers_url":"https://api.github.com/users/trim21/followers","following_url":"https://api.github.com/users/trim21/following{/other_user}","gists_url":"https://api.github.com/users/trim21/gists{/gist_id}","starred_url":"https://api.github.com/users/trim21/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/trim21/subscriptions","organizations_url":"https://api.github.com/users/trim21/orgs","repos_url":"https://api.github.com/users/trim21/repos","events_url":"https://api.github.com/users/trim21/events{/privacy}","received_events_url":"https://api.github.com/users/trim21/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":2,"created_at":"2024-12-21T21:55:15Z","updated_at":"2024-12-21T23:13:13Z","closed_at":"2024-12-21T23:12:29Z","author_association":"CONTRIBUTOR","type":null,"active_lock_reason":null,"draft":false,"pull_request":{"url":"https://api.github.com/repos/beancount/beancount/pulls/901","html_url":"https://github.com/beancount/beancount/pull/901","diff_url":"https://github.com/beancount/beancount/pull/901.diff","patch_url":"https://github.com/beancount/beancount/pull/901.patch","merged_at":"2024-12-21T23:12:29Z"},"body":"Add a extra ninja target for developer using old-style in-tree development.\r\nit doesn't contribute to the building but developing.\r\n\r\nA developer can do this to get save result like `python setup.py build_ext --inplace`\r\nto copy binary extension back to source tree.\r\n\r\n```shell\r\nmeson setup build # --wipe\r\nninja -C build build_ext\r\n```","closed_by":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/beancount/beancount/issues/901/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beancount/issues/901/timeline","performed_via_github_app":null,"state_reason":null},{"url":"https://api.github.com/repos/beancount/beancount/issues/900","repository_url":"https://api.github.com/repos/beancount/beancount","labels_url":"https://api.github.com/repos/beancount/beancount/issues/900/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beancount/issues/900/comments","events_url":"https://api.github.com/repos/beancount/beancount/issues/900/events","html_url":"https://github.com/beancount/beancount/pull/900","id":2754364963,"node_id":"PR_kwDOD91Bd86GAALu","number":900,"title":"refactor: make our subclass of namedtuple have attributes types","user":{"login":"trim21","id":13553903,"node_id":"MDQ6VXNlcjEzNTUzOTAz","avatar_url":"https://avatars.githubusercontent.com/u/13553903?v=4","gravatar_id":"","url":"https://api.github.com/users/trim21","html_url":"https://github.com/trim21","followers_url":"https://api.github.com/users/trim21/followers","following_url":"https://api.github.com/users/trim21/following{/other_user}","gists_url":"https://api.github.com/users/trim21/gists{/gist_id}","starred_url":"https://api.github.com/users/trim21/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/trim21/subscriptions","organizations_url":"https://api.github.com/users/trim21/orgs","repos_url":"https://api.github.com/users/trim21/repos","events_url":"https://api.github.com/users/trim21/events{/privacy}","received_events_url":"https://api.github.com/users/trim21/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":0,"created_at":"2024-12-21T21:13:00Z","updated_at":"2024-12-21T21:20:35Z","closed_at":"2024-12-21T21:20:35Z","author_association":"CONTRIBUTOR","type":null,"active_lock_reason":null,"draft":false,"pull_request":{"url":"https://api.github.com/repos/beancount/beancount/pulls/900","html_url":"https://github.com/beancount/beancount/pull/900","diff_url":"https://github.com/beancount/beancount/pull/900.diff","patch_url":"https://github.com/beancount/beancount/pull/900.patch","merged_at":null},"body":"it's not possible to have our own `__new__` to call `super().__new__` with inherit from `NamedTuple`, but it's possible to inhert `namedtuple(...)` to do this","closed_by":{"login":"trim21","id":13553903,"node_id":"MDQ6VXNlcjEzNTUzOTAz","avatar_url":"https://avatars.githubusercontent.com/u/13553903?v=4","gravatar_id":"","url":"https://api.github.com/users/trim21","html_url":"https://github.com/trim21","followers_url":"https://api.github.com/users/trim21/followers","following_url":"https://api.github.com/users/trim21/following{/other_user}","gists_url":"https://api.github.com/users/trim21/gists{/gist_id}","starred_url":"https://api.github.com/users/trim21/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/trim21/subscriptions","organizations_url":"https://api.github.com/users/trim21/orgs","repos_url":"https://api.github.com/users/trim21/repos","events_url":"https://api.github.com/users/trim21/events{/privacy}","received_events_url":"https://api.github.com/users/trim21/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/beancount/beancount/issues/900/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beancount/issues/900/timeline","performed_via_github_app":null,"state_reason":null},{"url":"https://api.github.com/repos/beancount/beancount/issues/899","repository_url":"https://api.github.com/repos/beancount/beancount","labels_url":"https://api.github.com/repos/beancount/beancount/issues/899/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beancount/issues/899/comments","events_url":"https://api.github.com/repos/beancount/beancount/issues/899/events","html_url":"https://github.com/beancount/beancount/pull/899","id":2754357785,"node_id":"PR_kwDOD91Bd86F_-4J","number":899,"title":"refactor: cleanup some really old code","user":{"login":"trim21","id":13553903,"node_id":"MDQ6VXNlcjEzNTUzOTAz","avatar_url":"https://avatars.githubusercontent.com/u/13553903?v=4","gravatar_id":"","url":"https://api.github.com/users/trim21","html_url":"https://github.com/trim21","followers_url":"https://api.github.com/users/trim21/followers","following_url":"https://api.github.com/users/trim21/following{/other_user}","gists_url":"https://api.github.com/users/trim21/gists{/gist_id}","starred_url":"https://api.github.com/users/trim21/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/trim21/subscriptions","organizations_url":"https://api.github.com/users/trim21/orgs","repos_url":"https://api.github.com/users/trim21/repos","events_url":"https://api.github.com/users/trim21/events{/privacy}","received_events_url":"https://api.github.com/users/trim21/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":0,"created_at":"2024-12-21T20:48:42Z","updated_at":"2024-12-22T01:13:50Z","closed_at":"2024-12-21T23:03:43Z","author_association":"CONTRIBUTOR","type":null,"active_lock_reason":null,"draft":false,"pull_request":{"url":"https://api.github.com/repos/beancount/beancount/pulls/899","html_url":"https://github.com/beancount/beancount/pull/899","diff_url":"https://github.com/beancount/beancount/pull/899.diff","patch_url":"https://github.com/beancount/beancount/pull/899.patch","merged_at":"2024-12-21T23:03:43Z"},"body":null,"closed_by":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/beancount/beancount/issues/899/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beancount/issues/899/timeline","performed_via_github_app":null,"state_reason":null},{"url":"https://api.github.com/repos/beancount/beancount/issues/898","repository_url":"https://api.github.com/repos/beancount/beancount","labels_url":"https://api.github.com/repos/beancount/beancount/issues/898/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beancount/issues/898/comments","events_url":"https://api.github.com/repos/beancount/beancount/issues/898/events","html_url":"https://github.com/beancount/beancount/pull/898","id":2754357340,"node_id":"PR_kwDOD91Bd86F_-zg","number":898,"title":"refactor: rewrite NamedTuple with class inheritance","user":{"login":"trim21","id":13553903,"node_id":"MDQ6VXNlcjEzNTUzOTAz","avatar_url":"https://avatars.githubusercontent.com/u/13553903?v=4","gravatar_id":"","url":"https://api.github.com/users/trim21","html_url":"https://github.com/trim21","followers_url":"https://api.github.com/users/trim21/followers","following_url":"https://api.github.com/users/trim21/following{/other_user}","gists_url":"https://api.github.com/users/trim21/gists{/gist_id}","starred_url":"https://api.github.com/users/trim21/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/trim21/subscriptions","organizations_url":"https://api.github.com/users/trim21/orgs","repos_url":"https://api.github.com/users/trim21/repos","events_url":"https://api.github.com/users/trim21/events{/privacy}","received_events_url":"https://api.github.com/users/trim21/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":2,"created_at":"2024-12-21T20:47:24Z","updated_at":"2024-12-21T21:03:51Z","closed_at":"2024-12-21T21:01:19Z","author_association":"CONTRIBUTOR","type":null,"active_lock_reason":null,"draft":false,"pull_request":{"url":"https://api.github.com/repos/beancount/beancount/pulls/898","html_url":"https://github.com/beancount/beancount/pull/898","diff_url":"https://github.com/beancount/beancount/pull/898.diff","patch_url":"https://github.com/beancount/beancount/pull/898.patch","merged_at":"2024-12-21T21:01:19Z"},"body":null,"closed_by":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/beancount/beancount/issues/898/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beancount/issues/898/timeline","performed_via_github_app":null,"state_reason":null},{"url":"https://api.github.com/repos/beancount/beancount/issues/897","repository_url":"https://api.github.com/repos/beancount/beancount","labels_url":"https://api.github.com/repos/beancount/beancount/issues/897/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beancount/issues/897/comments","events_url":"https://api.github.com/repos/beancount/beancount/issues/897/events","html_url":"https://github.com/beancount/beancount/pull/897","id":2752436217,"node_id":"PR_kwDOD91Bd86F5chl","number":897,"title":"Fix typo in docstring.","user":{"login":"memst","id":1496450,"node_id":"MDQ6VXNlcjE0OTY0NTA=","avatar_url":"https://avatars.githubusercontent.com/u/1496450?v=4","gravatar_id":"","url":"https://api.github.com/users/memst","html_url":"https://github.com/memst","followers_url":"https://api.github.com/users/memst/followers","following_url":"https://api.github.com/users/memst/following{/other_user}","gists_url":"https://api.github.com/users/memst/gists{/gist_id}","starred_url":"https://api.github.com/users/memst/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/memst/subscriptions","organizations_url":"https://api.github.com/users/memst/orgs","repos_url":"https://api.github.com/users/memst/repos","events_url":"https://api.github.com/users/memst/events{/privacy}","received_events_url":"https://api.github.com/users/memst/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":0,"created_at":"2024-12-20T10:32:33Z","updated_at":"2024-12-20T19:45:01Z","closed_at":"2024-12-20T19:45:01Z","author_association":"CONTRIBUTOR","type":null,"active_lock_reason":null,"draft":false,"pull_request":{"url":"https://api.github.com/repos/beancount/beancount/pulls/897","html_url":"https://github.com/beancount/beancount/pull/897","diff_url":"https://github.com/beancount/beancount/pull/897.diff","patch_url":"https://github.com/beancount/beancount/pull/897.patch","merged_at":"2024-12-20T19:45:01Z"},"body":null,"closed_by":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/beancount/beancount/issues/897/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beancount/issues/897/timeline","performed_via_github_app":null,"state_reason":null},{"url":"https://api.github.com/repos/beancount/beancount/issues/895","repository_url":"https://api.github.com/repos/beancount/beancount","labels_url":"https://api.github.com/repos/beancount/beancount/issues/895/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beancount/issues/895/comments","events_url":"https://api.github.com/repos/beancount/beancount/issues/895/events","html_url":"https://github.com/beancount/beancount/pull/895","id":2740693860,"node_id":"PR_kwDOD91Bd86FREa1","number":895,"title":"typings: improve; add py.typed marker","user":{"login":"yagebu","id":2482259,"node_id":"MDQ6VXNlcjI0ODIyNTk=","avatar_url":"https://avatars.githubusercontent.com/u/2482259?v=4","gravatar_id":"","url":"https://api.github.com/users/yagebu","html_url":"https://github.com/yagebu","followers_url":"https://api.github.com/users/yagebu/followers","following_url":"https://api.github.com/users/yagebu/following{/other_user}","gists_url":"https://api.github.com/users/yagebu/gists{/gist_id}","starred_url":"https://api.github.com/users/yagebu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/yagebu/subscriptions","organizations_url":"https://api.github.com/users/yagebu/orgs","repos_url":"https://api.github.com/users/yagebu/repos","events_url":"https://api.github.com/users/yagebu/events{/privacy}","received_events_url":"https://api.github.com/users/yagebu/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":4,"created_at":"2024-12-15T15:16:04Z","updated_at":"2024-12-21T20:20:23Z","closed_at":"2024-12-15T15:30:39Z","author_association":"MEMBER","type":null,"active_lock_reason":null,"draft":false,"pull_request":{"url":"https://api.github.com/repos/beancount/beancount/pulls/895","html_url":"https://github.com/beancount/beancount/pull/895","diff_url":"https://github.com/beancount/beancount/pull/895.diff","patch_url":"https://github.com/beancount/beancount/pull/895.patch","merged_at":"2024-12-15T15:30:39Z"},"body":"- use future import to avoid interpretation of types outside of type\n  checking\n- some minor fixes in types and/or docstrings as well\n- mypy infers some weird stuff for Decimal.as_tuple() - hence some\n  ignores for those\n","closed_by":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/beancount/beancount/issues/895/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beancount/issues/895/timeline","performed_via_github_app":null,"state_reason":null},{"url":"https://api.github.com/repos/beancount/beancount/issues/894","repository_url":"https://api.github.com/repos/beancount/beancount","labels_url":"https://api.github.com/repos/beancount/beancount/issues/894/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beancount/issues/894/comments","events_url":"https://api.github.com/repos/beancount/beancount/issues/894/events","html_url":"https://github.com/beancount/beancount/issues/894","id":2740681467,"node_id":"I_kwDOD91Bd86jW3r7","number":894,"title":"Transaction not exported by beancount/api.py","user":{"login":"yonil7","id":6908933,"node_id":"MDQ6VXNlcjY5MDg5MzM=","avatar_url":"https://avatars.githubusercontent.com/u/6908933?v=4","gravatar_id":"","url":"https://api.github.com/users/yonil7","html_url":"https://github.com/yonil7","followers_url":"https://api.github.com/users/yonil7/followers","following_url":"https://api.github.com/users/yonil7/following{/other_user}","gists_url":"https://api.github.com/users/yonil7/gists{/gist_id}","starred_url":"https://api.github.com/users/yonil7/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/yonil7/subscriptions","organizations_url":"https://api.github.com/users/yonil7/orgs","repos_url":"https://api.github.com/users/yonil7/repos","events_url":"https://api.github.com/users/yonil7/events{/privacy}","received_events_url":"https://api.github.com/users/yonil7/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":4,"created_at":"2024-12-15T14:52:52Z","updated_at":"2025-04-19T19:14:38Z","closed_at":"2024-12-15T15:43:26Z","author_association":"NONE","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"For some reason `Transaction` is not \"exported\" (as \"public\" API) by `beancount/api.py`","closed_by":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/beancount/beancount/issues/894/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beancount/issues/894/timeline","performed_via_github_app":null,"state_reason":"completed"},{"url":"https://api.github.com/repos/beancount/beancount/issues/893","repository_url":"https://api.github.com/repos/beancount/beancount","labels_url":"https://api.github.com/repos/beancount/beancount/issues/893/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beancount/issues/893/comments","events_url":"https://api.github.com/repos/beancount/beancount/issues/893/events","html_url":"https://github.com/beancount/beancount/issues/893","id":2732332046,"node_id":"I_kwDOD91Bd86i3BQO","number":893,"title":"Enforce commodities to be declared","user":{"login":"jonaszierer","id":32375926,"node_id":"MDQ6VXNlcjMyMzc1OTI2","avatar_url":"https://avatars.githubusercontent.com/u/32375926?v=4","gravatar_id":"","url":"https://api.github.com/users/jonaszierer","html_url":"https://github.com/jonaszierer","followers_url":"https://api.github.com/users/jonaszierer/followers","following_url":"https://api.github.com/users/jonaszierer/following{/other_user}","gists_url":"https://api.github.com/users/jonaszierer/gists{/gist_id}","starred_url":"https://api.github.com/users/jonaszierer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jonaszierer/subscriptions","organizations_url":"https://api.github.com/users/jonaszierer/orgs","repos_url":"https://api.github.com/users/jonaszierer/repos","events_url":"https://api.github.com/users/jonaszierer/events{/privacy}","received_events_url":"https://api.github.com/users/jonaszierer/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":4,"created_at":"2024-12-11T09:17:20Z","updated_at":"2024-12-11T15:28:43Z","closed_at":"2024-12-11T15:28:43Z","author_association":"NONE","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"Hello.\r\nI was wondering if there is a way to (1) only accept commodities that have explicitly been declared and (2) remove commodities from the ledger (same as closing an account. eg when an asset has been sold)","closed_by":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/beancount/beancount/issues/893/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beancount/issues/893/timeline","performed_via_github_app":null,"state_reason":"completed"},{"url":"https://api.github.com/repos/beancount/beancount/issues/892","repository_url":"https://api.github.com/repos/beancount/beancount","labels_url":"https://api.github.com/repos/beancount/beancount/issues/892/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beancount/issues/892/comments","events_url":"https://api.github.com/repos/beancount/beancount/issues/892/events","html_url":"https://github.com/beancount/beancount/pull/892","id":2724967174,"node_id":"PR_kwDOD91Bd86EbTbB","number":892,"title":"Rename TODO to Setup TODO","user":{"login":"MakotoGew","id":189664322,"node_id":"U_kgDOC04MQg","avatar_url":"https://avatars.githubusercontent.com/u/189664322?v=4","gravatar_id":"","url":"https://api.github.com/users/MakotoGew","html_url":"https://github.com/MakotoGew","followers_url":"https://api.github.com/users/MakotoGew/followers","following_url":"https://api.github.com/users/MakotoGew/following{/other_user}","gists_url":"https://api.github.com/users/MakotoGew/gists{/gist_id}","starred_url":"https://api.github.com/users/MakotoGew/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/MakotoGew/subscriptions","organizations_url":"https://api.github.com/users/MakotoGew/orgs","repos_url":"https://api.github.com/users/MakotoGew/repos","events_url":"https://api.github.com/users/MakotoGew/events{/privacy}","received_events_url":"https://api.github.com/users/MakotoGew/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":1,"created_at":"2024-12-08T05:37:49Z","updated_at":"2024-12-08T05:41:31Z","closed_at":"2024-12-08T05:41:17Z","author_association":"NONE","type":null,"active_lock_reason":null,"draft":false,"pull_request":{"url":"https://api.github.com/repos/beancount/beancount/pulls/892","html_url":"https://github.com/beancount/beancount/pull/892","diff_url":"https://github.com/beancount/beancount/pull/892.diff","patch_url":"https://github.com/beancount/beancount/pull/892.patch","merged_at":null},"body":null,"closed_by":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/beancount/beancount/issues/892/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beancount/issues/892/timeline","performed_via_github_app":null,"state_reason":null},{"url":"https://api.github.com/repos/beancount/beancount/issues/891","repository_url":"https://api.github.com/repos/beancount/beancount","labels_url":"https://api.github.com/repos/beancount/beancount/issues/891/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beancount/issues/891/comments","events_url":"https://api.github.com/repos/beancount/beancount/issues/891/events","html_url":"https://github.com/beancount/beancount/pull/891","id":2724852082,"node_id":"PR_kwDOD91Bd86Ea8Rn","number":891,"title":"parser: Port the scanner generation from Flex to RE/flex","user":{"login":"dnicolodi","id":987145,"node_id":"MDQ6VXNlcjk4NzE0NQ==","avatar_url":"https://avatars.githubusercontent.com/u/987145?v=4","gravatar_id":"","url":"https://api.github.com/users/dnicolodi","html_url":"https://github.com/dnicolodi","followers_url":"https://api.github.com/users/dnicolodi/followers","following_url":"https://api.github.com/users/dnicolodi/following{/other_user}","gists_url":"https://api.github.com/users/dnicolodi/gists{/gist_id}","starred_url":"https://api.github.com/users/dnicolodi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dnicolodi/subscriptions","organizations_url":"https://api.github.com/users/dnicolodi/orgs","repos_url":"https://api.github.com/users/dnicolodi/repos","events_url":"https://api.github.com/users/dnicolodi/events{/privacy}","received_events_url":"https://api.github.com/users/dnicolodi/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"open","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":6,"created_at":"2024-12-07T23:16:46Z","updated_at":"2025-05-23T21:22:45Z","closed_at":null,"author_association":"COLLABORATOR","type":null,"active_lock_reason":null,"draft":true,"pull_request":{"url":"https://api.github.com/repos/beancount/beancount/pulls/891","html_url":"https://github.com/beancount/beancount/pull/891","diff_url":"https://github.com/beancount/beancount/pull/891.diff","patch_url":"https://github.com/beancount/beancount/pull/891.patch","merged_at":null},"body":null,"closed_by":null,"reactions":{"url":"https://api.github.com/repos/beancount/beancount/issues/891/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beancount/issues/891/timeline","performed_via_github_app":null,"state_reason":null},{"url":"https://api.github.com/repos/beancount/beancount/issues/890","repository_url":"https://api.github.com/repos/beancount/beancount","labels_url":"https://api.github.com/repos/beancount/beancount/issues/890/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beancount/issues/890/comments","events_url":"https://api.github.com/repos/beancount/beancount/issues/890/events","html_url":"https://github.com/beancount/beancount/issues/890","id":2723974719,"node_id":"I_kwDOD91Bd86iXI4_","number":890,"title":"mentioning the per-unit as well as the total cost doubles the posting cost","user":{"login":"castilma","id":17392981,"node_id":"MDQ6VXNlcjE3MzkyOTgx","avatar_url":"https://avatars.githubusercontent.com/u/17392981?v=4","gravatar_id":"","url":"https://api.github.com/users/castilma","html_url":"https://github.com/castilma","followers_url":"https://api.github.com/users/castilma/followers","following_url":"https://api.github.com/users/castilma/following{/other_user}","gists_url":"https://api.github.com/users/castilma/gists{/gist_id}","starred_url":"https://api.github.com/users/castilma/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/castilma/subscriptions","organizations_url":"https://api.github.com/users/castilma/orgs","repos_url":"https://api.github.com/users/castilma/repos","events_url":"https://api.github.com/users/castilma/events{/privacy}","received_events_url":"https://api.github.com/users/castilma/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":2,"created_at":"2024-12-06T21:41:05Z","updated_at":"2024-12-08T03:54:17Z","closed_at":"2024-12-08T03:53:47Z","author_association":"NONE","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"The cheat sheet says this is fine:\r\n```\r\n2020-11-29 open Assets:Cash\r\n2020-12-01 open Assets:A\r\n\r\n\r\n2020-12-10 * \"convert stock 8:1\"\r\n  Assets:Cash \t\t-100 EUR\r\n  Assets:A  \t10 HOOG { 10 # 100 EUR}\r\n```\r\nBut it's not what I expect:\r\n```\r\n$ bean-report bad-total-and-per-unit.bean holdings\r\nbad-total-and-per-unit.bean:5:       Transaction does not balance: (100 EUR)\r\n\r\n   2020-12-10 * \"convert stock 8:1\"\r\n     Assets:Cash  -100 EUR\r\n     Assets:A       10 HOOG {20 EUR, 2020-12-10}\r\n\r\n\r\nAccount        Units  Currency  Cost Currency  Average Cost  Price  Book Value  Market Value\r\n-----------  -------  --------  -------------  ------------  -----  ----------  ------------\r\nAssets:A       10.00      HOOG            EUR         20.00             200.00              \r\nAssets:Cash  -100.00       EUR            EUR                          -100.00       -100.00\r\n-----------  -------  --------  -------------  ------------  -----  ----------  ------------\r\n```","closed_by":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/beancount/beancount/issues/890/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beancount/issues/890/timeline","performed_via_github_app":null,"state_reason":"completed"},{"url":"https://api.github.com/repos/beancount/beancount/issues/889","repository_url":"https://api.github.com/repos/beancount/beancount","labels_url":"https://api.github.com/repos/beancount/beancount/issues/889/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beancount/issues/889/comments","events_url":"https://api.github.com/repos/beancount/beancount/issues/889/events","html_url":"https://github.com/beancount/beancount/issues/889","id":2723590200,"node_id":"I_kwDOD91Bd86iVrA4","number":889,"title":"Augmentation with absolute cost is not accepted","user":{"login":"castilma","id":17392981,"node_id":"MDQ6VXNlcjE3MzkyOTgx","avatar_url":"https://avatars.githubusercontent.com/u/17392981?v=4","gravatar_id":"","url":"https://api.github.com/users/castilma","html_url":"https://github.com/castilma","followers_url":"https://api.github.com/users/castilma/followers","following_url":"https://api.github.com/users/castilma/following{/other_user}","gists_url":"https://api.github.com/users/castilma/gists{/gist_id}","starred_url":"https://api.github.com/users/castilma/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/castilma/subscriptions","organizations_url":"https://api.github.com/users/castilma/orgs","repos_url":"https://api.github.com/users/castilma/repos","events_url":"https://api.github.com/users/castilma/events{/privacy}","received_events_url":"https://api.github.com/users/castilma/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"open","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":2,"created_at":"2024-12-06T17:35:39Z","updated_at":"2024-12-30T12:04:17Z","closed_at":null,"author_association":"NONE","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"The doc [How Inventories work](https://beancount.github.io/docs/how_inventories_work.html) says in the summary:\r\n\r\n> Augmentations are never problematic; they always add a new position to an existing inventory.\r\n\r\nI found two counter examples in beancount 2.3.6-1.\r\n\r\n# First\r\n```\r\n2020-01-01 open Assets:Cash\r\n2020-01-01 open Assets:Invest ; \"FIFO\"\r\n\r\n\r\n2020-01-01 * \"Buy Hoogle\"\r\n  Assets:Cash                        -150.00 EUR\r\n  Assets:Invest      100 HOOG {# 150.00 EUR}\r\n\r\n2020-01-04 * \"Sell some\"\r\n  Assets:Cash                        40.00 EUR\r\n  Assets:Invest     -25 HOOG @ 1.60 EUR\r\n\r\n2020-01-05 * \"Buy more\"\r\n  Assets:Cash                        -70.00 EUR\r\n  Assets:Invest      50 HOOG {# 70.00 EUR}       ;  = 1.40 EUR\r\n```\r\nWith that I get:\r\n```\r\n$ bean-report bad-cost.bean holdings\r\nbad-cost.bean:13:      Transaction does not balance: (5.00 EUR)\r\n\r\n   2020-01-05 * \"Buy more\"\r\n     Assets:Cash    -70.00 EUR\r\n     Assets:Invest      50 HOOG {1.50 EUR, 2020-01-01}\r\n\r\n\r\nAccount          Units  Currency  Cost Currency  Average Cost  Price  Book Value  Market Value\r\n-------------  -------  --------  -------------  ------------  -----  ----------  ------------\r\nAssets:Cash    -180.00       EUR            EUR                          -180.00       -180.00\r\nAssets:Invest   150.00      HOOG            EUR          1.50             225.00              \r\nAssets:Invest   -25.00      HOOG           HOOG                           -25.00        -25.00\r\n-------------  -------  --------  -------------  ------------  -----  ----------  ------------\r\n```\r\n_Q1) Why does it ignore and merge my `{#70 EUR} (=1.40 EUR)` cost statement with the first one (=1.50 EUR)?_\r\nI expect to have (at least) two Lots, one with 1.50 and one with 1.40 as basis.\r\nWeirdly enough, that does not happen if you remove the sell transaction:\r\n```\r\n$ bean-report bad-cost.bean holdings\r\nAccount          Units  Currency  Cost Currency  Average Cost  Price  Book Value  Market Value\r\n-------------  -------  --------  -------------  ------------  -----  ----------  ------------\r\nAssets:Cash    -220.00       EUR            EUR                          -220.00       -220.00\r\nAssets:Invest   100.00      HOOG            EUR          1.50             150.00              \r\nAssets:Invest    50.00      HOOG            EUR          1.40              70.00              \r\n-------------  -------  --------  -------------  ------------  -----  ----------  ------------\r\n```\r\nSo the sell transaction seems to be the problem and should be the mentioned, not the 3rd one!\r\n\r\nIf I replace the 2nd leg with `-25 HOOG {} @ 1.60 EUR`, I get what I expected:\r\n```\r\nbad-cost.bean:9:       Transaction does not balance: (2.50 EUR)\r\n\r\n   2020-01-04 * \"Sell some\"\r\n     Assets:Cash    40.00 EUR\r\n     Assets:Invest    -25 HOOG {1.50 EUR, 2020-01-01} @ 1.60 EUR\r\n\r\n\r\nAccount          Units  Currency  Cost Currency  Average Cost  Price  Book Value  Market Value\r\n-------------  -------  --------  -------------  ------------  -----  ----------  ------------\r\nAssets:Cash    -180.00       EUR            EUR                          -180.00       -180.00\r\nAssets:Invest    75.00      HOOG            EUR          1.50             112.50              \r\nAssets:Invest    50.00      HOOG            EUR          1.40              70.00              \r\n-------------  -------  --------  -------------  ------------  -----  ----------  ------------\r\n```\r\nTwo lots with 1.50 and 1.40 cost basis.\r\n\r\n_Q2) Why is there a difference between `-25 HOOG @ 1.60 EUR` and `-25 HOOG {} @ 1.60 EUR`?_  This feels counterintuitive: No cost statement should be the same an `implicit/auto-filled` cost statement, no?\r\nIs there any use case for the distinction?\r\n\r\n\r\n# Second\r\nIf you comment in the \"FIFO\" (and keep the `-25 HOOG @ 1.60 EUR` statement`)  you get\r\n```\r\nbad-cost.bean:13:      Not enough lots to reduce \"50 HOOG {# 70.00 EUR}\": 100 HOOG {1.50 EUR, 2020-01-01}\r\n\r\n   2020-01-05 * \"Buy more\"\r\n     Assets:Cash    -70.00 EUR\r\n     Assets:Invest      50 HOOG {# 70.00 EUR}\r\n\r\n\r\nAccount          Units  Currency  Cost Currency  Average Cost  Price  Book Value  Market Value\r\n-------------  -------  --------  -------------  ------------  -----  ----------  ------------\r\nAssets:Cash    -110.00       EUR            EUR                          -110.00       -110.00\r\nAssets:Invest   100.00      HOOG            EUR          1.50             150.00              \r\nAssets:Invest   -25.00      HOOG           HOOG                           -25.00        -25.00\r\n-------------  -------  --------  -------------  ------------  -----  ----------  ------------\r\n```\r\nThe error message implies the 3rd transaction is a reduction, but it's an augmentation! There should be no error there. I should have a second lot with1.40 as basis.\r\nI believe the only error here is in the 2nd transaction, but that is not mentioned.\r\n\r\nUsing a `-25 HOOG {} @ 1.60 EUR` posting get the expected error message and inventory from above, again.\r\n","closed_by":null,"reactions":{"url":"https://api.github.com/repos/beancount/beancount/issues/889/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beancount/issues/889/timeline","performed_via_github_app":null,"state_reason":null},{"url":"https://api.github.com/repos/beancount/beancount/issues/888","repository_url":"https://api.github.com/repos/beancount/beancount","labels_url":"https://api.github.com/repos/beancount/beancount/issues/888/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beancount/issues/888/comments","events_url":"https://api.github.com/repos/beancount/beancount/issues/888/events","html_url":"https://github.com/beancount/beancount/issues/888","id":2721363085,"node_id":"I_kwDOD91Bd86iNLSN","number":888,"title":"How to Record Crypto Fee Income with Cost Basis","user":{"login":"ArthoPacini","id":22568556,"node_id":"MDQ6VXNlcjIyNTY4NTU2","avatar_url":"https://avatars.githubusercontent.com/u/22568556?v=4","gravatar_id":"","url":"https://api.github.com/users/ArthoPacini","html_url":"https://github.com/ArthoPacini","followers_url":"https://api.github.com/users/ArthoPacini/followers","following_url":"https://api.github.com/users/ArthoPacini/following{/other_user}","gists_url":"https://api.github.com/users/ArthoPacini/gists{/gist_id}","starred_url":"https://api.github.com/users/ArthoPacini/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ArthoPacini/subscriptions","organizations_url":"https://api.github.com/users/ArthoPacini/orgs","repos_url":"https://api.github.com/users/ArthoPacini/repos","events_url":"https://api.github.com/users/ArthoPacini/events{/privacy}","received_events_url":"https://api.github.com/users/ArthoPacini/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":1,"created_at":"2024-12-05T20:47:54Z","updated_at":"2024-12-06T19:56:41Z","closed_at":"2024-12-06T19:56:40Z","author_association":"NONE","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"  Hi there,\r\n\r\nI’m having trouble representing a trading fee scenario in Beancount, **from the exchange perspective**, where part of the fee is collected in cryptocurrency. Here’s the simplified scenario:\r\n\r\n1. Alice and Bob match on an order:  \r\n   - Alice sells 1 BTC at 100,000.00 USD.  \r\n   - Bob buys 1 BTC at 100,000.00 USD.\r\n\r\n2. Both pay a 1% fee. Instead of Alice receiving 100,000.00 USD, she gets 99,000.00 USD, and the exchange takes 1,000.00 USD as a fee. Similarly, Bob receives 0.99 BTC instead of 1 BTC, and the exchange takes 0.01 BTC as a fee.\r\n\r\nThe problem:  \r\n- The exchange ends up with a fee of 1000.00 USD and 0.01 BTC.  \r\n- I need to record this 0.01 BTC as income (part of the fee the exchange earned) and also assign it a cost basis.  \r\n- The cost basis should reflect the trade price at the time (100,000.00 USD per BTC), so 0.01 BTC is effectively acquired by the exchange at a cost basis of 1,000.00 USD.  \r\n- I want to ensure this 0.01 BTC is shown in the exchange’s inventory with a cost annotation so that future gains/losses on this BTC can be calculated correctly.  \r\n- However, I’m having trouble getting Beancount entries right so that the 0.01 BTC is recognized as income (in-kind) and simultaneously attaches a 1,000.00 USD cost basis without causing any balancing issues.\r\n\r\nBelow is a snippet of the Beancount entries I have so far. The trade execution lines show the fees as negative amounts in Income:Exchange:Fees, but I need help figuring out how to properly restructure the entries so that the exchange ends up with something like:\r\n\r\n```beancount\r\n\r\noption \"title\" \"Crypto Exchange\"\r\noption \"name_assets\" \"Assets\"\r\noption \"name_liabilities\" \"Liabilities\"\r\noption \"name_equity\" \"Equity\"\r\noption \"name_income\" \"Income\"\r\noption \"name_expenses\" \"Expenses\"\r\noption \"operating_currency\" \"USD, BTC\"\r\noption \"render_commas\" \"TRUE\"\r\nplugin \"beancount.plugins.auto_accounts\"\r\noption \"operating_currency\" \"USD\"\r\n\r\n2024-10-03 * \"Alice deposits 5.0 BTC (Bitcoin)\"\r\n  #deposit\r\n    Assets:Crypto:Custody                        5.00000000 BTC\r\n    Liabilities:Users:Alice:Wallets:Available:0  -5.00000000 BTC\r\n    ; Transaction Type: Deposit\r\n    ; User ID: Alice\r\n    ; Sub-Wallet ID: 0\r\n    ; From: 3Q9St1somesXHAs7eZ9ScE7jYWhdMtkXL\r\n    ; To Address: bc1qxy2addreygjrsqtzq2n0yrf2493p83kkfjhx0wlh\r\n    ; Tx ID: 0441f57d93f82553432542536808f1552d247aa3b1d59d7d6377015aa33484440\r\n    ; Timestamp: 2024-10-03 10:00:00 UTC\r\n\r\n2024-10-03 * \"Bob deposits 100,000.00 USD via bank transfer\"\r\n  #deposit\r\n    Assets:Fiat:Custody                           100000.00 USD\r\n    Liabilities:Users:Bob:Wallets:Available:0    -100000.00 USD\r\n    ; Transaction Type: Deposit\r\n    ; User ID: Bob\r\n    ; Sub-Wallet ID: 0\r\n    ; From: Banking ABC\r\n    ; Transfer ID: PIX123456789\r\n    ; Memo: N/A\r\n    ; Timestamp: 2024-10-03 10:10:00 UTC\r\n\r\n2024-10-03 * \"Alice places limit sell order #1: 1 BTC @ 100,000 USD\"\r\n  #create_order\r\n    Liabilities:Users:Alice:Wallets:Available:0  1.00000000 BTC\r\n    Liabilities:Users:Alice:Wallets:Frozen      -1.00000000 BTC\r\n    ; Transaction Type: Order Placement\r\n    ; Order ID: 1\r\n    ; User ID: Alice\r\n    ; Sub-Wallet ID: 0\r\n    ; Market: BTC/USD\r\n    ; Type: LIMIT SELL\r\n    ; Price: 100,000.00 USD\r\n    ; Quantity: 1.00000000 BTC\r\n    ; Timestamp: 2024-10-03 10:15:00 UTC\r\n\r\n2024-10-03 * \"Bob places limit buy order #2: 1 BTC @ 100,000 USD\"\r\n  #create_order\r\n    Liabilities:Users:Bob:Wallets:Available:0     100000.00 USD\r\n    Liabilities:Users:Bob:Wallets:Frozen         -100000.00 USD\r\n    ; Transaction Type: Order Placement\r\n    ; Order ID: 2\r\n    ; User ID: Bob\r\n    ; Sub-Wallet ID: 0\r\n    ; Market: BTC/USD\r\n    ; Type: LIMIT BUY\r\n    ; Price: 100,000.00 USD\r\n    ; Quantity: 1.00000000 BTC\r\n    ; Timestamp: 2024-10-03 10:20:00 UTC\r\n\r\n2024-10-03 * \"Trade executed between order #1 (Alice) and order #2 (Bob)\"\r\n  #trade\r\n    Liabilities:Users:Alice:Wallets:Frozen       1.00000000 BTC\r\n    Liabilities:Users:Bob:Wallets:Frozen          100000.00 USD\r\n    Liabilities:Users:Alice:Wallets:Available:0   -99900.00 USD\r\n    Liabilities:Users:Bob:Wallets:Available:0   -0.99900000 BTC\r\n    ; Record fees as income\r\n    Income:Exchange:Fees                        -0.00100000 BTC\r\n    Income:Exchange:Fees                            -100.00 USD\r\n    ; Transaction Type: Trade Execution\r\n    ; Buy Order ID: 2\r\n    ; Sell Order ID: 1\r\n    ; Price: 100,000.00 USD\r\n    ; Quantity: 1.00000000 BTC\r\n    ; Fees: 0.1% charged to both parties\r\n    ; Timestamp: 2024-10-03 10:25:00 UTC\r\n\r\n```\r\n\r\nOn the final transaction, I can't use:\r\n\r\n```beancount\r\nIncome:Exchange:Fees                        -0.00100000 BTC {100000.00 USD} ; Does not balance\r\n```\r\n\r\nI want the final accounting to reflect that the exchange earned both USD and BTC as fees, with the BTC recorded at the market price at the time.\r\n\r\nHow can I properly record this scenario in Beancount so that the 0.01 BTC fee income is booked into the exchange’s inventory with the correct cost basis, and the total fee income (in USD and BTC) is correctly reflected in the Income accounts?\r\n\r\nWould a conversion transaction/accounts work here?","closed_by":{"login":"ArthoPacini","id":22568556,"node_id":"MDQ6VXNlcjIyNTY4NTU2","avatar_url":"https://avatars.githubusercontent.com/u/22568556?v=4","gravatar_id":"","url":"https://api.github.com/users/ArthoPacini","html_url":"https://github.com/ArthoPacini","followers_url":"https://api.github.com/users/ArthoPacini/followers","following_url":"https://api.github.com/users/ArthoPacini/following{/other_user}","gists_url":"https://api.github.com/users/ArthoPacini/gists{/gist_id}","starred_url":"https://api.github.com/users/ArthoPacini/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ArthoPacini/subscriptions","organizations_url":"https://api.github.com/users/ArthoPacini/orgs","repos_url":"https://api.github.com/users/ArthoPacini/repos","events_url":"https://api.github.com/users/ArthoPacini/events{/privacy}","received_events_url":"https://api.github.com/users/ArthoPacini/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/beancount/beancount/issues/888/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beancount/issues/888/timeline","performed_via_github_app":null,"state_reason":"completed"},{"url":"https://api.github.com/repos/beancount/beancount/issues/887","repository_url":"https://api.github.com/repos/beancount/beancount","labels_url":"https://api.github.com/repos/beancount/beancount/issues/887/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beancount/issues/887/comments","events_url":"https://api.github.com/repos/beancount/beancount/issues/887/events","html_url":"https://github.com/beancount/beancount/issues/887","id":2721033601,"node_id":"I_kwDOD91Bd86iL62B","number":887,"title":"sorting postings raises AttributeError: posting_sortkey() does not really support Postings","user":{"login":"castilma","id":17392981,"node_id":"MDQ6VXNlcjE3MzkyOTgx","avatar_url":"https://avatars.githubusercontent.com/u/17392981?v=4","gravatar_id":"","url":"https://api.github.com/users/castilma","html_url":"https://github.com/castilma","followers_url":"https://api.github.com/users/castilma/followers","following_url":"https://api.github.com/users/castilma/following{/other_user}","gists_url":"https://api.github.com/users/castilma/gists{/gist_id}","starred_url":"https://api.github.com/users/castilma/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/castilma/subscriptions","organizations_url":"https://api.github.com/users/castilma/orgs","repos_url":"https://api.github.com/users/castilma/repos","events_url":"https://api.github.com/users/castilma/events{/privacy}","received_events_url":"https://api.github.com/users/castilma/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":2,"created_at":"2024-12-05T17:41:45Z","updated_at":"2024-12-10T04:42:54Z","closed_at":"2024-12-10T04:42:54Z","author_association":"NONE","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"When I try to sort a list of Posting objects, I get an AttributeError: \r\n\r\n```\r\n$ bean-extract import.config  2024-12-1-gnucash.csv \r\nERROR:root:Importer gnucash.extract() raised an unexpected error: 'Posting' object has no attribute 'date'\r\nTraceback (most recent call last):\r\n  File \"/usr/lib/python3.12/site-packages/beancount/ingest/extract.py\", line 182, in extract\r\n    new_entries = extract_from_file(\r\n                  ^^^^^^^^^^^^^^^^^^\r\n  File \"/usr/lib/python3.12/site-packages/beancount/ingest/extract.py\", line 67, in extract_from_file\r\n    new_entries = importer.extract(file, **kwargs)\r\n                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\r\n  File \"/home/mcd/Dokumente/finanzen/bean/importers/gnucash.py\", line 214, in extract\r\n    postings.sort(key=posting_sortkey)\r\n  File \"/usr/lib/python3.12/site-packages/beancount/core/data.py\", line 615, in posting_sortkey\r\n    return (entry.date, SORT_ORDER.get(type(entry), 0), entry.meta[\"lineno\"])\r\n            ^^^^^^^^^^\r\nAttributeError: 'Posting' object has no attribute 'date'\r\n```\r\nI understand from the docstring that posting_sortkey() is for Postings, too, but the implementation looks like it's only for Entries and txnPostings.\r\nI want to sort the Postings belonging to the same transaction, according to account type. Do I need to write my own sortkey function?","closed_by":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/beancount/beancount/issues/887/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beancount/issues/887/timeline","performed_via_github_app":null,"state_reason":"completed"},{"url":"https://api.github.com/repos/beancount/beancount/issues/886","repository_url":"https://api.github.com/repos/beancount/beancount","labels_url":"https://api.github.com/repos/beancount/beancount/issues/886/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beancount/issues/886/comments","events_url":"https://api.github.com/repos/beancount/beancount/issues/886/events","html_url":"https://github.com/beancount/beancount/pull/886","id":2718316692,"node_id":"PR_kwDOD91Bd86EEiYp","number":886,"title":"make sure open file in binary mode or encoding specified text mode","user":{"login":"trim21","id":13553903,"node_id":"MDQ6VXNlcjEzNTUzOTAz","avatar_url":"https://avatars.githubusercontent.com/u/13553903?v=4","gravatar_id":"","url":"https://api.github.com/users/trim21","html_url":"https://github.com/trim21","followers_url":"https://api.github.com/users/trim21/followers","following_url":"https://api.github.com/users/trim21/following{/other_user}","gists_url":"https://api.github.com/users/trim21/gists{/gist_id}","starred_url":"https://api.github.com/users/trim21/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/trim21/subscriptions","organizations_url":"https://api.github.com/users/trim21/orgs","repos_url":"https://api.github.com/users/trim21/repos","events_url":"https://api.github.com/users/trim21/events{/privacy}","received_events_url":"https://api.github.com/users/trim21/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":7,"created_at":"2024-12-04T16:56:52Z","updated_at":"2024-12-22T01:14:04Z","closed_at":"2024-12-06T19:59:07Z","author_association":"CONTRIBUTOR","type":null,"active_lock_reason":null,"draft":false,"pull_request":{"url":"https://api.github.com/repos/beancount/beancount/pulls/886","html_url":"https://github.com/beancount/beancount/pull/886","diff_url":"https://github.com/beancount/beancount/pull/886.diff","patch_url":"https://github.com/beancount/beancount/pull/886.patch","merged_at":"2024-12-06T19:59:07Z"},"body":"There is a preview ruff rule\r\n\r\nhttps://docs.astral.sh/ruff/rules/unspecified-encoding/#unspecified-encoding-plw1514","closed_by":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/beancount/beancount/issues/886/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beancount/issues/886/timeline","performed_via_github_app":null,"state_reason":null},{"url":"https://api.github.com/repos/beancount/beancount/issues/885","repository_url":"https://api.github.com/repos/beancount/beancount","labels_url":"https://api.github.com/repos/beancount/beancount/issues/885/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beancount/issues/885/comments","events_url":"https://api.github.com/repos/beancount/beancount/issues/885/events","html_url":"https://github.com/beancount/beancount/pull/885","id":2718089158,"node_id":"PR_kwDOD91Bd86EDwao","number":885,"title":"tests: fix script tests on win32","user":{"login":"trim21","id":13553903,"node_id":"MDQ6VXNlcjEzNTUzOTAz","avatar_url":"https://avatars.githubusercontent.com/u/13553903?v=4","gravatar_id":"","url":"https://api.github.com/users/trim21","html_url":"https://github.com/trim21","followers_url":"https://api.github.com/users/trim21/followers","following_url":"https://api.github.com/users/trim21/following{/other_user}","gists_url":"https://api.github.com/users/trim21/gists{/gist_id}","starred_url":"https://api.github.com/users/trim21/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/trim21/subscriptions","organizations_url":"https://api.github.com/users/trim21/orgs","repos_url":"https://api.github.com/users/trim21/repos","events_url":"https://api.github.com/users/trim21/events{/privacy}","received_events_url":"https://api.github.com/users/trim21/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":6,"created_at":"2024-12-04T15:21:25Z","updated_at":"2024-12-22T01:14:05Z","closed_at":"2024-12-05T01:22:53Z","author_association":"CONTRIBUTOR","type":null,"active_lock_reason":null,"draft":false,"pull_request":{"url":"https://api.github.com/repos/beancount/beancount/pulls/885","html_url":"https://github.com/beancount/beancount/pull/885","diff_url":"https://github.com/beancount/beancount/pull/885.diff","patch_url":"https://github.com/beancount/beancount/pull/885.patch","merged_at":"2024-12-05T01:22:53Z"},"body":null,"closed_by":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/beancount/beancount/issues/885/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beancount/issues/885/timeline","performed_via_github_app":null,"state_reason":null},{"url":"https://api.github.com/repos/beancount/beancount/issues/884","repository_url":"https://api.github.com/repos/beancount/beancount","labels_url":"https://api.github.com/repos/beancount/beancount/issues/884/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beancount/issues/884/comments","events_url":"https://api.github.com/repos/beancount/beancount/issues/884/events","html_url":"https://github.com/beancount/beancount/pull/884","id":2717971032,"node_id":"PR_kwDOD91Bd86EDV6A","number":884,"title":"fix!: escape filename in document filename","user":{"login":"trim21","id":13553903,"node_id":"MDQ6VXNlcjEzNTUzOTAz","avatar_url":"https://avatars.githubusercontent.com/u/13553903?v=4","gravatar_id":"","url":"https://api.github.com/users/trim21","html_url":"https://github.com/trim21","followers_url":"https://api.github.com/users/trim21/followers","following_url":"https://api.github.com/users/trim21/following{/other_user}","gists_url":"https://api.github.com/users/trim21/gists{/gist_id}","starred_url":"https://api.github.com/users/trim21/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/trim21/subscriptions","organizations_url":"https://api.github.com/users/trim21/orgs","repos_url":"https://api.github.com/users/trim21/repos","events_url":"https://api.github.com/users/trim21/events{/privacy}","received_events_url":"https://api.github.com/users/trim21/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"open","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":3,"created_at":"2024-12-04T14:41:51Z","updated_at":"2025-05-23T21:22:45Z","closed_at":null,"author_association":"CONTRIBUTOR","type":null,"active_lock_reason":null,"draft":false,"pull_request":{"url":"https://api.github.com/repos/beancount/beancount/pulls/884","html_url":"https://github.com/beancount/beancount/pull/884","diff_url":"https://github.com/beancount/beancount/pull/884.diff","patch_url":"https://github.com/beancount/beancount/pull/884.patch","merged_at":null},"body":"The intention of our printer is to generate same syntax the parser accept.\r\n\r\nSince we expect backslash in filename to be escaped, it's rational that we also escape it in our printer.\r\n\r\nThis should not have huge impact because it's current output in this case is already broken.\r\n","closed_by":null,"reactions":{"url":"https://api.github.com/repos/beancount/beancount/issues/884/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beancount/issues/884/timeline","performed_via_github_app":null,"state_reason":null},{"url":"https://api.github.com/repos/beancount/beancount/issues/883","repository_url":"https://api.github.com/repos/beancount/beancount","labels_url":"https://api.github.com/repos/beancount/beancount/issues/883/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beancount/issues/883/comments","events_url":"https://api.github.com/repos/beancount/beancount/issues/883/events","html_url":"https://github.com/beancount/beancount/pull/883","id":2717724413,"node_id":"PR_kwDOD91Bd86ECewp","number":883,"title":"add `*.pyd` to gitignore","user":{"login":"trim21","id":13553903,"node_id":"MDQ6VXNlcjEzNTUzOTAz","avatar_url":"https://avatars.githubusercontent.com/u/13553903?v=4","gravatar_id":"","url":"https://api.github.com/users/trim21","html_url":"https://github.com/trim21","followers_url":"https://api.github.com/users/trim21/followers","following_url":"https://api.github.com/users/trim21/following{/other_user}","gists_url":"https://api.github.com/users/trim21/gists{/gist_id}","starred_url":"https://api.github.com/users/trim21/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/trim21/subscriptions","organizations_url":"https://api.github.com/users/trim21/orgs","repos_url":"https://api.github.com/users/trim21/repos","events_url":"https://api.github.com/users/trim21/events{/privacy}","received_events_url":"https://api.github.com/users/trim21/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":0,"created_at":"2024-12-04T13:22:00Z","updated_at":"2024-12-04T13:27:46Z","closed_at":"2024-12-04T13:27:08Z","author_association":"CONTRIBUTOR","type":null,"active_lock_reason":null,"draft":false,"pull_request":{"url":"https://api.github.com/repos/beancount/beancount/pulls/883","html_url":"https://github.com/beancount/beancount/pull/883","diff_url":"https://github.com/beancount/beancount/pull/883.diff","patch_url":"https://github.com/beancount/beancount/pull/883.patch","merged_at":"2024-12-04T13:27:08Z"},"body":null,"closed_by":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/beancount/beancount/issues/883/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beancount/issues/883/timeline","performed_via_github_app":null,"state_reason":null},{"url":"https://api.github.com/repos/beancount/beancount/issues/882","repository_url":"https://api.github.com/repos/beancount/beancount","labels_url":"https://api.github.com/repos/beancount/beancount/issues/882/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beancount/issues/882/comments","events_url":"https://api.github.com/repos/beancount/beancount/issues/882/events","html_url":"https://github.com/beancount/beancount/pull/882","id":2717619562,"node_id":"PR_kwDOD91Bd86ECHb1","number":882,"title":"tests: fix beancount/loader_test.py on win32","user":{"login":"trim21","id":13553903,"node_id":"MDQ6VXNlcjEzNTUzOTAz","avatar_url":"https://avatars.githubusercontent.com/u/13553903?v=4","gravatar_id":"","url":"https://api.github.com/users/trim21","html_url":"https://github.com/trim21","followers_url":"https://api.github.com/users/trim21/followers","following_url":"https://api.github.com/users/trim21/following{/other_user}","gists_url":"https://api.github.com/users/trim21/gists{/gist_id}","starred_url":"https://api.github.com/users/trim21/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/trim21/subscriptions","organizations_url":"https://api.github.com/users/trim21/orgs","repos_url":"https://api.github.com/users/trim21/repos","events_url":"https://api.github.com/users/trim21/events{/privacy}","received_events_url":"https://api.github.com/users/trim21/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":4,"created_at":"2024-12-04T12:38:47Z","updated_at":"2024-12-04T18:29:01Z","closed_at":"2024-12-04T18:19:34Z","author_association":"CONTRIBUTOR","type":null,"active_lock_reason":null,"draft":false,"pull_request":{"url":"https://api.github.com/repos/beancount/beancount/pulls/882","html_url":"https://github.com/beancount/beancount/pull/882","diff_url":"https://github.com/beancount/beancount/pull/882.diff","patch_url":"https://github.com/beancount/beancount/pull/882.patch","merged_at":"2024-12-04T18:19:34Z"},"body":null,"closed_by":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/beancount/beancount/issues/882/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beancount/issues/882/timeline","performed_via_github_app":null,"state_reason":null},{"url":"https://api.github.com/repos/beancount/beancount/issues/881","repository_url":"https://api.github.com/repos/beancount/beancount","labels_url":"https://api.github.com/repos/beancount/beancount/issues/881/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beancount/issues/881/comments","events_url":"https://api.github.com/repos/beancount/beancount/issues/881/events","html_url":"https://github.com/beancount/beancount/pull/881","id":2705554479,"node_id":"PR_kwDOD91Bd86DlhM5","number":881,"title":"remove unused snoop","user":{"login":"trim21","id":13553903,"node_id":"MDQ6VXNlcjEzNTUzOTAz","avatar_url":"https://avatars.githubusercontent.com/u/13553903?v=4","gravatar_id":"","url":"https://api.github.com/users/trim21","html_url":"https://github.com/trim21","followers_url":"https://api.github.com/users/trim21/followers","following_url":"https://api.github.com/users/trim21/following{/other_user}","gists_url":"https://api.github.com/users/trim21/gists{/gist_id}","starred_url":"https://api.github.com/users/trim21/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/trim21/subscriptions","organizations_url":"https://api.github.com/users/trim21/orgs","repos_url":"https://api.github.com/users/trim21/repos","events_url":"https://api.github.com/users/trim21/events{/privacy}","received_events_url":"https://api.github.com/users/trim21/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":0,"created_at":"2024-11-29T16:08:53Z","updated_at":"2024-12-04T14:46:55Z","closed_at":"2024-12-03T04:32:20Z","author_association":"CONTRIBUTOR","type":null,"active_lock_reason":null,"draft":false,"pull_request":{"url":"https://api.github.com/repos/beancount/beancount/pulls/881","html_url":"https://github.com/beancount/beancount/pull/881","diff_url":"https://github.com/beancount/beancount/pull/881.diff","patch_url":"https://github.com/beancount/beancount/pull/881.patch","merged_at":"2024-12-03T04:32:20Z"},"body":"We do not use snoop anymore.\r\n\r\n","closed_by":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/beancount/beancount/issues/881/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beancount/issues/881/timeline","performed_via_github_app":null,"state_reason":null},{"url":"https://api.github.com/repos/beancount/beancount/issues/880","repository_url":"https://api.github.com/repos/beancount/beancount","labels_url":"https://api.github.com/repos/beancount/beancount/issues/880/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beancount/issues/880/comments","events_url":"https://api.github.com/repos/beancount/beancount/issues/880/events","html_url":"https://github.com/beancount/beancount/pull/880","id":2705544298,"node_id":"PR_kwDOD91Bd86Dle-Y","number":880,"title":"remove date_utils","user":{"login":"trim21","id":13553903,"node_id":"MDQ6VXNlcjEzNTUzOTAz","avatar_url":"https://avatars.githubusercontent.com/u/13553903?v=4","gravatar_id":"","url":"https://api.github.com/users/trim21","html_url":"https://github.com/trim21","followers_url":"https://api.github.com/users/trim21/followers","following_url":"https://api.github.com/users/trim21/following{/other_user}","gists_url":"https://api.github.com/users/trim21/gists{/gist_id}","starred_url":"https://api.github.com/users/trim21/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/trim21/subscriptions","organizations_url":"https://api.github.com/users/trim21/orgs","repos_url":"https://api.github.com/users/trim21/repos","events_url":"https://api.github.com/users/trim21/events{/privacy}","received_events_url":"https://api.github.com/users/trim21/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":1,"created_at":"2024-11-29T16:01:43Z","updated_at":"2024-12-03T18:14:58Z","closed_at":"2024-12-03T04:36:43Z","author_association":"CONTRIBUTOR","type":null,"active_lock_reason":null,"draft":false,"pull_request":{"url":"https://api.github.com/repos/beancount/beancount/pulls/880","html_url":"https://github.com/beancount/beancount/pull/880","diff_url":"https://github.com/beancount/beancount/pull/880.diff","patch_url":"https://github.com/beancount/beancount/pull/880.patch","merged_at":"2024-12-03T04:36:43Z"},"body":"ref: https://github.com/beancount/beancount/pull/877#discussion_r1863705381\r\n\r\nWe do not use date_utils anymore.\r\n\r\nremoved API:\r\n\r\n- `render_ofx_date`: no public repo on github using it.\r\n- `intimezone`:  no public repo on github using it.\r\n- `iter_dates`: https://github.com/seb-schulz/beancount-toolbox/blob/7abdc336d7db4a9d01c9b116a1718a16928d606e/beancount_toolbox/plugins/spread_pad.py#L64\r\n- `next_month`: 2 usage https://github.com/xentac/beancount-plugins-xentac/blob/ef6bb64f27656fb8ceb5337840b89096ad357d1f/beancount_plugins_xentac/plugins/unrealized_periodic.py#L243 https://github.com/seb-schulz/beancount-toolbox/blob/7abdc336d7db4a9d01c9b116a1718a16928d606e/beancount_toolbox/cli/web.py#L27","closed_by":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/beancount/beancount/issues/880/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beancount/issues/880/timeline","performed_via_github_app":null,"state_reason":null},{"url":"https://api.github.com/repos/beancount/beancount/issues/879","repository_url":"https://api.github.com/repos/beancount/beancount","labels_url":"https://api.github.com/repos/beancount/beancount/issues/879/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beancount/issues/879/comments","events_url":"https://api.github.com/repos/beancount/beancount/issues/879/events","html_url":"https://github.com/beancount/beancount/pull/879","id":2705525536,"node_id":"PR_kwDOD91Bd86Dlbhm","number":879,"title":"match pre-commit hooks version and lock schema-store","user":{"login":"trim21","id":13553903,"node_id":"MDQ6VXNlcjEzNTUzOTAz","avatar_url":"https://avatars.githubusercontent.com/u/13553903?v=4","gravatar_id":"","url":"https://api.github.com/users/trim21","html_url":"https://github.com/trim21","followers_url":"https://api.github.com/users/trim21/followers","following_url":"https://api.github.com/users/trim21/following{/other_user}","gists_url":"https://api.github.com/users/trim21/gists{/gist_id}","starred_url":"https://api.github.com/users/trim21/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/trim21/subscriptions","organizations_url":"https://api.github.com/users/trim21/orgs","repos_url":"https://api.github.com/users/trim21/repos","events_url":"https://api.github.com/users/trim21/events{/privacy}","received_events_url":"https://api.github.com/users/trim21/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":2,"created_at":"2024-11-29T15:51:32Z","updated_at":"2024-12-04T06:34:25Z","closed_at":"2024-12-04T02:41:54Z","author_association":"CONTRIBUTOR","type":null,"active_lock_reason":null,"draft":false,"pull_request":{"url":"https://api.github.com/repos/beancount/beancount/pulls/879","html_url":"https://github.com/beancount/beancount/pull/879","diff_url":"https://github.com/beancount/beancount/pull/879.diff","patch_url":"https://github.com/beancount/beancount/pull/879.patch","merged_at":"2024-12-04T02:41:54Z"},"body":"`validate-pyproject` may validate all ruff rules in ignore/selected are defined in json schema and it may not match the ruff version we are using in pre-commit hooks, and it will fail even ruff config is still valid.\r\n\r\nfor example, ruff will rename rule TCH to TC in v0.8, and using TC will make ruff v0.7.2 not happy, use TCH will make `validate-pyproject` not happy.\r\n","closed_by":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/beancount/beancount/issues/879/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beancount/issues/879/timeline","performed_via_github_app":null,"state_reason":null},{"url":"https://api.github.com/repos/beancount/beancount/issues/878","repository_url":"https://api.github.com/repos/beancount/beancount","labels_url":"https://api.github.com/repos/beancount/beancount/issues/878/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beancount/issues/878/comments","events_url":"https://api.github.com/repos/beancount/beancount/issues/878/events","html_url":"https://github.com/beancount/beancount/pull/878","id":2699812424,"node_id":"PR_kwDOD91Bd86DYj-5","number":878,"title":"fix beancount/{utils,core,ops,projects,tools} tests on win32","user":{"login":"trim21","id":13553903,"node_id":"MDQ6VXNlcjEzNTUzOTAz","avatar_url":"https://avatars.githubusercontent.com/u/13553903?v=4","gravatar_id":"","url":"https://api.github.com/users/trim21","html_url":"https://github.com/trim21","followers_url":"https://api.github.com/users/trim21/followers","following_url":"https://api.github.com/users/trim21/following{/other_user}","gists_url":"https://api.github.com/users/trim21/gists{/gist_id}","starred_url":"https://api.github.com/users/trim21/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/trim21/subscriptions","organizations_url":"https://api.github.com/users/trim21/orgs","repos_url":"https://api.github.com/users/trim21/repos","events_url":"https://api.github.com/users/trim21/events{/privacy}","received_events_url":"https://api.github.com/users/trim21/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":1,"created_at":"2024-11-27T20:56:05Z","updated_at":"2024-12-04T12:16:35Z","closed_at":"2024-12-04T12:13:11Z","author_association":"CONTRIBUTOR","type":null,"active_lock_reason":null,"draft":false,"pull_request":{"url":"https://api.github.com/repos/beancount/beancount/pulls/878","html_url":"https://github.com/beancount/beancount/pull/878","diff_url":"https://github.com/beancount/beancount/pull/878.diff","patch_url":"https://github.com/beancount/beancount/pull/878.patch","merged_at":"2024-12-04T12:13:11Z"},"body":null,"closed_by":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/beancount/beancount/issues/878/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beancount/issues/878/timeline","performed_via_github_app":null,"state_reason":null},{"url":"https://api.github.com/repos/beancount/beancount/issues/877","repository_url":"https://api.github.com/repos/beancount/beancount","labels_url":"https://api.github.com/repos/beancount/beancount/issues/877/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beancount/issues/877/comments","events_url":"https://api.github.com/repos/beancount/beancount/issues/877/events","html_url":"https://github.com/beancount/beancount/pull/877","id":2699722584,"node_id":"PR_kwDOD91Bd86DYczV","number":877,"title":"replace `chdir` with thread-safe root_dir aware glob search  ","user":{"login":"trim21","id":13553903,"node_id":"MDQ6VXNlcjEzNTUzOTAz","avatar_url":"https://avatars.githubusercontent.com/u/13553903?v=4","gravatar_id":"","url":"https://api.github.com/users/trim21","html_url":"https://github.com/trim21","followers_url":"https://api.github.com/users/trim21/followers","following_url":"https://api.github.com/users/trim21/following{/other_user}","gists_url":"https://api.github.com/users/trim21/gists{/gist_id}","starred_url":"https://api.github.com/users/trim21/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/trim21/subscriptions","organizations_url":"https://api.github.com/users/trim21/orgs","repos_url":"https://api.github.com/users/trim21/repos","events_url":"https://api.github.com/users/trim21/events{/privacy}","received_events_url":"https://api.github.com/users/trim21/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":2,"created_at":"2024-11-27T20:31:42Z","updated_at":"2024-12-03T18:14:47Z","closed_at":"2024-12-03T04:39:40Z","author_association":"CONTRIBUTOR","type":null,"active_lock_reason":null,"draft":false,"pull_request":{"url":"https://api.github.com/repos/beancount/beancount/pulls/877","html_url":"https://github.com/beancount/beancount/pull/877","diff_url":"https://github.com/beancount/beancount/pull/877.diff","patch_url":"https://github.com/beancount/beancount/pull/877.patch","merged_at":"2024-12-03T04:39:40Z"},"body":"python 3.10 add `glob.glob(root_dir=...)`, before we drop py<3.10 we need to build abs path from root.\r\n\r\nWe should delay this after we can run loader_test on win32 to see if it works on win32 too","closed_by":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/beancount/beancount/issues/877/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beancount/issues/877/timeline","performed_via_github_app":null,"state_reason":null},{"url":"https://api.github.com/repos/beancount/beancount/issues/876","repository_url":"https://api.github.com/repos/beancount/beancount","labels_url":"https://api.github.com/repos/beancount/beancount/issues/876/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beancount/issues/876/comments","events_url":"https://api.github.com/repos/beancount/beancount/issues/876/events","html_url":"https://github.com/beancount/beancount/pull/876","id":2693621837,"node_id":"PR_kwDOD91Bd86DJYVR","number":876,"title":"Fix parser tests on Windows","user":{"login":"dnicolodi","id":987145,"node_id":"MDQ6VXNlcjk4NzE0NQ==","avatar_url":"https://avatars.githubusercontent.com/u/987145?v=4","gravatar_id":"","url":"https://api.github.com/users/dnicolodi","html_url":"https://github.com/dnicolodi","followers_url":"https://api.github.com/users/dnicolodi/followers","following_url":"https://api.github.com/users/dnicolodi/following{/other_user}","gists_url":"https://api.github.com/users/dnicolodi/gists{/gist_id}","starred_url":"https://api.github.com/users/dnicolodi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dnicolodi/subscriptions","organizations_url":"https://api.github.com/users/dnicolodi/orgs","repos_url":"https://api.github.com/users/dnicolodi/repos","events_url":"https://api.github.com/users/dnicolodi/events{/privacy}","received_events_url":"https://api.github.com/users/dnicolodi/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":4,"created_at":"2024-11-26T08:00:54Z","updated_at":"2024-12-04T13:15:35Z","closed_at":"2024-12-04T13:15:35Z","author_association":"COLLABORATOR","type":null,"active_lock_reason":null,"draft":false,"pull_request":{"url":"https://api.github.com/repos/beancount/beancount/pulls/876","html_url":"https://github.com/beancount/beancount/pull/876","diff_url":"https://github.com/beancount/beancount/pull/876.diff","patch_url":"https://github.com/beancount/beancount/pull/876.patch","merged_at":"2024-12-04T13:15:35Z"},"body":null,"closed_by":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/beancount/beancount/issues/876/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beancount/issues/876/timeline","performed_via_github_app":null,"state_reason":null},{"url":"https://api.github.com/repos/beancount/beancount/issues/875","repository_url":"https://api.github.com/repos/beancount/beancount","labels_url":"https://api.github.com/repos/beancount/beancount/issues/875/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beancount/issues/875/comments","events_url":"https://api.github.com/repos/beancount/beancount/issues/875/events","html_url":"https://github.com/beancount/beancount/issues/875","id":2680753455,"node_id":"I_kwDOD91Bd86fyQ0v","number":875,"title":"printer_test.py::TestEntryPrinter::test_Transaction fails on Windows on the  Entry with escaped symbols","user":{"login":"Ev2geny","id":59611075,"node_id":"MDQ6VXNlcjU5NjExMDc1","avatar_url":"https://avatars.githubusercontent.com/u/59611075?v=4","gravatar_id":"","url":"https://api.github.com/users/Ev2geny","html_url":"https://github.com/Ev2geny","followers_url":"https://api.github.com/users/Ev2geny/followers","following_url":"https://api.github.com/users/Ev2geny/following{/other_user}","gists_url":"https://api.github.com/users/Ev2geny/gists{/gist_id}","starred_url":"https://api.github.com/users/Ev2geny/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Ev2geny/subscriptions","organizations_url":"https://api.github.com/users/Ev2geny/orgs","repos_url":"https://api.github.com/users/Ev2geny/repos","events_url":"https://api.github.com/users/Ev2geny/events{/privacy}","received_events_url":"https://api.github.com/users/Ev2geny/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":1,"created_at":"2024-11-21T20:07:13Z","updated_at":"2024-12-04T14:50:31Z","closed_at":"2024-12-04T13:15:37Z","author_association":"CONTRIBUTOR","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"Apparently this is a known issue, [as it is mentioned in the comments](https://github.com/beancount/beancount/blob/92e8747bf7f81d54a98478944040114bfb71dade/beancount/parser/printer_test.py#L242), but I did not find related github issue, so I thought I will just create one for tracking purposes.\r\n\r\nTested on the commit [92e87](https://github.com/beancount/beancount/commit/92e8747bf7f81d54a98478944040114bfb71dade)\r\n\r\nCommand tested with \r\n`pytest beancount/parser/printer_test.py::TestEntryPrinter::test_Transaction`\r\n\r\nPart of output\r\n```\r\n        2014-06-20 custom \"budget\" Assets:Account2 \"balance < 200.00 USD\" 200.00 10.00 USD\r\n        \"\"\"\r\n        with self.subTest(\"RoundTrip test via StringIO\"):\r\n            self.assertRoundTrip(entries, errors)\r\n\r\n        # TODO: This test fails on Windows for the entry with escaped symbols\r\n        with self.subTest(\"RoundTrip test via real file\"):\r\n>           self.assertRoundTripViaRealFile(entries, errors)\r\n\r\nbeancount\\parser\\printer_test.py:244:\r\n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \r\nbeancount\\parser\\printer_test.py:106: in assertRoundTripViaRealFile\r\n    self.assertEqualEntries(entries1, entries2)\r\nbeancount\\parser\\cmptest.py:178: in assertEqualEntries\r\n    self.fail(oss.getvalue())\r\nE   AssertionError: Present in expected set and not in actual set:\r\nE   \r\n    2014-06-10 * \"Entry with escaped \\\"symbols\\\"  \r\nE   \"\r\nE     Assets:Account1   111.00 BEAN\r\nE     Assets:Cash      -111.00 BEAN\r\nE   \r\nE   Present in actual set and not in expected set:\r\nE   \r\n    2014-06-10 * \"Entry with escaped \\\"symbols\\\"  \r\nE   \"\r\nE     Assets:Account1   111.00 BEAN\r\nE     Assets:Cash      -111.00 BEAN\r\n```\r\n\r\n\r\n\r\n\r\n","closed_by":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/beancount/beancount/issues/875/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beancount/issues/875/timeline","performed_via_github_app":null,"state_reason":"completed"},{"url":"https://api.github.com/repos/beancount/beancount/issues/874","repository_url":"https://api.github.com/repos/beancount/beancount","labels_url":"https://api.github.com/repos/beancount/beancount/issues/874/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beancount/issues/874/comments","events_url":"https://api.github.com/repos/beancount/beancount/issues/874/events","html_url":"https://github.com/beancount/beancount/issues/874","id":2680715132,"node_id":"I_kwDOD91Bd86fyHd8","number":874,"title":"printer_test.py::TestEntryPrinter::test_Document fails on Windows","user":{"login":"Ev2geny","id":59611075,"node_id":"MDQ6VXNlcjU5NjExMDc1","avatar_url":"https://avatars.githubusercontent.com/u/59611075?v=4","gravatar_id":"","url":"https://api.github.com/users/Ev2geny","html_url":"https://github.com/Ev2geny","followers_url":"https://api.github.com/users/Ev2geny/followers","following_url":"https://api.github.com/users/Ev2geny/following{/other_user}","gists_url":"https://api.github.com/users/Ev2geny/gists{/gist_id}","starred_url":"https://api.github.com/users/Ev2geny/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Ev2geny/subscriptions","organizations_url":"https://api.github.com/users/Ev2geny/orgs","repos_url":"https://api.github.com/users/Ev2geny/repos","events_url":"https://api.github.com/users/Ev2geny/events{/privacy}","received_events_url":"https://api.github.com/users/Ev2geny/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":1,"created_at":"2024-11-21T19:51:36Z","updated_at":"2024-12-04T14:49:38Z","closed_at":"2024-12-04T13:15:36Z","author_association":"CONTRIBUTOR","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"Tested on the commit [92e87](https://github.com/beancount/beancount/commit/92e8747bf7f81d54a98478944040114bfb71dade)\r\n\r\nThe beancount code is located in the directory `C:\\_code\\py\\beancount>`\r\n\r\nTest is run with the command `pytest beancount/parser/printer_test.py::TestEntryPrinter::test_Document`\r\n\r\nResult:\r\n```\r\nbeancount\\parser\\printer_test.py:300:\r\n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \r\nbeancount\\parser\\printer_test.py:59: in assertRoundTrip\r\n    self.assertEqualEntries(entries1, entries2)\r\nbeancount\\parser\\cmptest.py:178: in assertEqualEntries\r\n    self.fail(oss.getvalue())\r\nE   AssertionError: Present in expected set and not in actual set:\r\nE   \r\nE   2014-06-08 document Assets:Account1 \"C:\\_code\\py\\beancount\\path\\to\\document.csv\"\r\nE   \r\nE   2014-06-08 document Assets:Account1 \"C:\\_code\\py\\beancount\\path\\to\\document2.csv\" #tag1#tag2^link1^link2\r\nE   \r\nE   2014-06-08 document Assets:Account1 \"C:\\_code\\py\\beancount\\path\\to\\document2.csv\" #tag1\r\nE   \r\nE   2014-06-08 document Assets:Account1 \"C:\\_code\\py\\beancount\\path\\to\\document2.csv\" ^link1\r\nE   \r\nE   Present in actual set and not in expected set:\r\nE   \r\nE   2014-06-08 document Assets:Account1 \"C:\\_code\\py\\beancount\\_codepeancountpath       odocument.csv\"\r\nE   \r\nE   2014-06-08 document Assets:Account1 \"C:\\_code\\py\\beancount\\_codepeancountpath       odocument2.csv\" #tag1#tag2^link1^link2\r\nE   \r\nE   2014-06-08 document Assets:Account1 \"C:\\_code\\py\\beancount\\_codepeancountpath       odocument2.csv\" #tag1\r\nE   \r\nE   2014-06-08 document Assets:Account1 \"C:\\_code\\py\\beancount\\_codepeancountpath       odocument2.csv\" ^link1\r\n====================================================================== short test summary info ====================================================================== \r\nFAILED beancount/parser/printer_test.py::TestEntryPrinter::test_Document - AssertionError: Present in expected set and not in actual set:\r\n========================================================================= 1 failed in 4.47s ========================================================================= \r\nPS C:\\_code\\py\\beancount> pytest beancount/parser/printer_test.py::TestEntryPrinter::test_Document\r\n```\r\n \r\n\r\n","closed_by":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/beancount/beancount/issues/874/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beancount/issues/874/timeline","performed_via_github_app":null,"state_reason":"completed"},{"url":"https://api.github.com/repos/beancount/beancount/issues/873","repository_url":"https://api.github.com/repos/beancount/beancount","labels_url":"https://api.github.com/repos/beancount/beancount/issues/873/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beancount/issues/873/comments","events_url":"https://api.github.com/repos/beancount/beancount/issues/873/events","html_url":"https://github.com/beancount/beancount/pull/873","id":2679396373,"node_id":"PR_kwDOD91Bd86CqqEP","number":873,"title":"build: Search win_flex and win_bison as alternatives for flex and bison","user":{"login":"dnicolodi","id":987145,"node_id":"MDQ6VXNlcjk4NzE0NQ==","avatar_url":"https://avatars.githubusercontent.com/u/987145?v=4","gravatar_id":"","url":"https://api.github.com/users/dnicolodi","html_url":"https://github.com/dnicolodi","followers_url":"https://api.github.com/users/dnicolodi/followers","following_url":"https://api.github.com/users/dnicolodi/following{/other_user}","gists_url":"https://api.github.com/users/dnicolodi/gists{/gist_id}","starred_url":"https://api.github.com/users/dnicolodi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dnicolodi/subscriptions","organizations_url":"https://api.github.com/users/dnicolodi/orgs","repos_url":"https://api.github.com/users/dnicolodi/repos","events_url":"https://api.github.com/users/dnicolodi/events{/privacy}","received_events_url":"https://api.github.com/users/dnicolodi/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":0,"created_at":"2024-11-21T13:11:59Z","updated_at":"2024-11-21T16:11:47Z","closed_at":"2024-11-21T16:11:47Z","author_association":"COLLABORATOR","type":null,"active_lock_reason":null,"draft":false,"pull_request":{"url":"https://api.github.com/repos/beancount/beancount/pulls/873","html_url":"https://github.com/beancount/beancount/pull/873","diff_url":"https://github.com/beancount/beancount/pull/873.diff","patch_url":"https://github.com/beancount/beancount/pull/873.patch","merged_at":"2024-11-21T16:11:47Z"},"body":"The WinFlexBison package https://github.com/lexxmark/winflexbison/ is probably the easiest way to install flex and bison on Windows. However, this packages installs flex and bison as win_flex and win_bison respectively. Fall back to these if flex or bison are not found under the canonical names. This makes compilation on Windows a bit easier.","closed_by":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/beancount/beancount/issues/873/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beancount/issues/873/timeline","performed_via_github_app":null,"state_reason":null},{"url":"https://api.github.com/repos/beancount/beancount/issues/872","repository_url":"https://api.github.com/repos/beancount/beancount","labels_url":"https://api.github.com/repos/beancount/beancount/issues/872/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beancount/issues/872/comments","events_url":"https://api.github.com/repos/beancount/beancount/issues/872/events","html_url":"https://github.com/beancount/beancount/pull/872","id":2661846989,"node_id":"PR_kwDOD91Bd86CCqXo","number":872,"title":"build: Fix compilation on platforms that do not have libm","user":{"login":"dnicolodi","id":987145,"node_id":"MDQ6VXNlcjk4NzE0NQ==","avatar_url":"https://avatars.githubusercontent.com/u/987145?v=4","gravatar_id":"","url":"https://api.github.com/users/dnicolodi","html_url":"https://github.com/dnicolodi","followers_url":"https://api.github.com/users/dnicolodi/followers","following_url":"https://api.github.com/users/dnicolodi/following{/other_user}","gists_url":"https://api.github.com/users/dnicolodi/gists{/gist_id}","starred_url":"https://api.github.com/users/dnicolodi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dnicolodi/subscriptions","organizations_url":"https://api.github.com/users/dnicolodi/orgs","repos_url":"https://api.github.com/users/dnicolodi/repos","events_url":"https://api.github.com/users/dnicolodi/events{/privacy}","received_events_url":"https://api.github.com/users/dnicolodi/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":0,"created_at":"2024-11-15T12:34:33Z","updated_at":"2024-11-15T12:48:44Z","closed_at":"2024-11-15T12:48:44Z","author_association":"COLLABORATOR","type":null,"active_lock_reason":null,"draft":false,"pull_request":{"url":"https://api.github.com/repos/beancount/beancount/pulls/872","html_url":"https://github.com/beancount/beancount/pull/872","diff_url":"https://github.com/beancount/beancount/pull/872.diff","patch_url":"https://github.com/beancount/beancount/pull/872.patch","merged_at":"2024-11-15T12:48:44Z"},"body":"and other minor adjustments.","closed_by":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/beancount/beancount/issues/872/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beancount/issues/872/timeline","performed_via_github_app":null,"state_reason":null},{"url":"https://api.github.com/repos/beancount/beancount/issues/871","repository_url":"https://api.github.com/repos/beancount/beancount","labels_url":"https://api.github.com/repos/beancount/beancount/issues/871/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beancount/issues/871/comments","events_url":"https://api.github.com/repos/beancount/beancount/issues/871/events","html_url":"https://github.com/beancount/beancount/issues/871","id":2661434195,"node_id":"I_kwDOD91Bd86eokNT","number":871,"title":"document can't handle backslash in filename","user":{"login":"trim21","id":13553903,"node_id":"MDQ6VXNlcjEzNTUzOTAz","avatar_url":"https://avatars.githubusercontent.com/u/13553903?v=4","gravatar_id":"","url":"https://api.github.com/users/trim21","html_url":"https://github.com/trim21","followers_url":"https://api.github.com/users/trim21/followers","following_url":"https://api.github.com/users/trim21/following{/other_user}","gists_url":"https://api.github.com/users/trim21/gists{/gist_id}","starred_url":"https://api.github.com/users/trim21/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/trim21/subscriptions","organizations_url":"https://api.github.com/users/trim21/orgs","repos_url":"https://api.github.com/users/trim21/repos","events_url":"https://api.github.com/users/trim21/events{/privacy}","received_events_url":"https://api.github.com/users/trim21/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":3,"created_at":"2024-11-15T09:41:55Z","updated_at":"2024-11-15T13:15:32Z","closed_at":"2024-11-15T10:01:26Z","author_association":"CONTRIBUTOR","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"example:\r\n\r\n```py\r\nfrom beancount import print_entries\r\nfrom beancount.loader import load_string\r\n\r\nrow = r\"\"\"\r\n2014-06-08 document Assets:Account1 \"D:\\a\\beancount\\beancount\\path\\to\\document.csv\"\r\n\"\"\"\r\n\r\nprint(repr(load_string(row)[0][0].filename))\r\nprint_entries(load_string(row)[0])\r\n```\r\n\r\nhere filename is `'D:\\\\a\\x08eancount\\x08eancountpath\\todocument.csv'` instead of expected `'D:\\a\\beancount\\beancount\\path\\to\\document.csv'`","closed_by":{"login":"dnicolodi","id":987145,"node_id":"MDQ6VXNlcjk4NzE0NQ==","avatar_url":"https://avatars.githubusercontent.com/u/987145?v=4","gravatar_id":"","url":"https://api.github.com/users/dnicolodi","html_url":"https://github.com/dnicolodi","followers_url":"https://api.github.com/users/dnicolodi/followers","following_url":"https://api.github.com/users/dnicolodi/following{/other_user}","gists_url":"https://api.github.com/users/dnicolodi/gists{/gist_id}","starred_url":"https://api.github.com/users/dnicolodi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dnicolodi/subscriptions","organizations_url":"https://api.github.com/users/dnicolodi/orgs","repos_url":"https://api.github.com/users/dnicolodi/repos","events_url":"https://api.github.com/users/dnicolodi/events{/privacy}","received_events_url":"https://api.github.com/users/dnicolodi/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/beancount/beancount/issues/871/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beancount/issues/871/timeline","performed_via_github_app":null,"state_reason":"completed"},{"url":"https://api.github.com/repos/beancount/beancount/issues/870","repository_url":"https://api.github.com/repos/beancount/beancount","labels_url":"https://api.github.com/repos/beancount/beancount/issues/870/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beancount/issues/870/comments","events_url":"https://api.github.com/repos/beancount/beancount/issues/870/events","html_url":"https://github.com/beancount/beancount/pull/870","id":2660076311,"node_id":"PR_kwDOD91Bd86B-V3d","number":870,"title":"fix parser test on windows and improve DX for windows users","user":{"login":"trim21","id":13553903,"node_id":"MDQ6VXNlcjEzNTUzOTAz","avatar_url":"https://avatars.githubusercontent.com/u/13553903?v=4","gravatar_id":"","url":"https://api.github.com/users/trim21","html_url":"https://github.com/trim21","followers_url":"https://api.github.com/users/trim21/followers","following_url":"https://api.github.com/users/trim21/following{/other_user}","gists_url":"https://api.github.com/users/trim21/gists{/gist_id}","starred_url":"https://api.github.com/users/trim21/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/trim21/subscriptions","organizations_url":"https://api.github.com/users/trim21/orgs","repos_url":"https://api.github.com/users/trim21/repos","events_url":"https://api.github.com/users/trim21/events{/privacy}","received_events_url":"https://api.github.com/users/trim21/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":25,"created_at":"2024-11-14T21:16:10Z","updated_at":"2024-12-04T13:22:20Z","closed_at":"2024-12-04T13:22:15Z","author_association":"CONTRIBUTOR","type":null,"active_lock_reason":null,"draft":false,"pull_request":{"url":"https://api.github.com/repos/beancount/beancount/pulls/870","html_url":"https://github.com/beancount/beancount/pull/870","diff_url":"https://github.com/beancount/beancount/pull/870.diff","patch_url":"https://github.com/beancount/beancount/pull/870.patch","merged_at":null},"body":"looks like we do not need to link libm manually in meson.build and also msvc can't find it on windows, msvc will link it by default, try to find it will fail.\r\n\r\nFile created by NamedTemporaryFile on Windows can't be shared, it can't be opened many times. use `TemporaryDirectory` and create a seprated file to bypass this.\r\n\r\n","closed_by":{"login":"trim21","id":13553903,"node_id":"MDQ6VXNlcjEzNTUzOTAz","avatar_url":"https://avatars.githubusercontent.com/u/13553903?v=4","gravatar_id":"","url":"https://api.github.com/users/trim21","html_url":"https://github.com/trim21","followers_url":"https://api.github.com/users/trim21/followers","following_url":"https://api.github.com/users/trim21/following{/other_user}","gists_url":"https://api.github.com/users/trim21/gists{/gist_id}","starred_url":"https://api.github.com/users/trim21/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/trim21/subscriptions","organizations_url":"https://api.github.com/users/trim21/orgs","repos_url":"https://api.github.com/users/trim21/repos","events_url":"https://api.github.com/users/trim21/events{/privacy}","received_events_url":"https://api.github.com/users/trim21/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/beancount/beancount/issues/870/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beancount/issues/870/timeline","performed_via_github_app":null,"state_reason":null},{"url":"https://api.github.com/repos/beancount/beancount/issues/869","repository_url":"https://api.github.com/repos/beancount/beancount","labels_url":"https://api.github.com/repos/beancount/beancount/issues/869/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beancount/issues/869/comments","events_url":"https://api.github.com/repos/beancount/beancount/issues/869/events","html_url":"https://github.com/beancount/beancount/pull/869","id":2646596234,"node_id":"PR_kwDOD91Bd86Baeb-","number":869,"title":"feat: add a rust parser","user":{"login":"trim21","id":13553903,"node_id":"MDQ6VXNlcjEzNTUzOTAz","avatar_url":"https://avatars.githubusercontent.com/u/13553903?v=4","gravatar_id":"","url":"https://api.github.com/users/trim21","html_url":"https://github.com/trim21","followers_url":"https://api.github.com/users/trim21/followers","following_url":"https://api.github.com/users/trim21/following{/other_user}","gists_url":"https://api.github.com/users/trim21/gists{/gist_id}","starred_url":"https://api.github.com/users/trim21/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/trim21/subscriptions","organizations_url":"https://api.github.com/users/trim21/orgs","repos_url":"https://api.github.com/users/trim21/repos","events_url":"https://api.github.com/users/trim21/events{/privacy}","received_events_url":"https://api.github.com/users/trim21/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"open","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":0,"created_at":"2024-11-09T22:17:27Z","updated_at":"2026-02-06T18:28:08Z","closed_at":null,"author_association":"CONTRIBUTOR","type":null,"active_lock_reason":null,"draft":false,"pull_request":{"url":"https://api.github.com/repos/beancount/beancount/pulls/869","html_url":"https://github.com/beancount/beancount/pull/869","diff_url":"https://github.com/beancount/beancount/pull/869.diff","patch_url":"https://github.com/beancount/beancount/pull/869.patch","merged_at":null},"body":"Migrate scanner lexer and grammar to rust, passed almost all current tests without modifying them, except:\r\n\r\n1. \"incomplete\"\r\n2. caching\r\n\r\n\r\nthere are 2 creates add up to a rust beancount parser\r\n\r\n- `crates/parser/`: the parser that parse string into AST and from ast to our core rust type `CoreDirective`, handle the escaping/unquoting and calcucateing the NumExpr\r\n- `crates/parser-py/`: this create convert `CoreDirective` to beancount.core python types defined in the python file, and handle options and dcontext.\r\n","closed_by":null,"reactions":{"url":"https://api.github.com/repos/beancount/beancount/issues/869/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beancount/issues/869/timeline","performed_via_github_app":null,"state_reason":null},{"url":"https://api.github.com/repos/beancount/beancount/issues/867","repository_url":"https://api.github.com/repos/beancount/beancount","labels_url":"https://api.github.com/repos/beancount/beancount/issues/867/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beancount/issues/867/comments","events_url":"https://api.github.com/repos/beancount/beancount/issues/867/events","html_url":"https://github.com/beancount/beancount/pull/867","id":2646269174,"node_id":"PR_kwDOD91Bd86BZ9ZG","number":867,"title":"Validate options accepting root or leaf account names","user":{"login":"dnicolodi","id":987145,"node_id":"MDQ6VXNlcjk4NzE0NQ==","avatar_url":"https://avatars.githubusercontent.com/u/987145?v=4","gravatar_id":"","url":"https://api.github.com/users/dnicolodi","html_url":"https://github.com/dnicolodi","followers_url":"https://api.github.com/users/dnicolodi/followers","following_url":"https://api.github.com/users/dnicolodi/following{/other_user}","gists_url":"https://api.github.com/users/dnicolodi/gists{/gist_id}","starred_url":"https://api.github.com/users/dnicolodi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dnicolodi/subscriptions","organizations_url":"https://api.github.com/users/dnicolodi/orgs","repos_url":"https://api.github.com/users/dnicolodi/repos","events_url":"https://api.github.com/users/dnicolodi/events{/privacy}","received_events_url":"https://api.github.com/users/dnicolodi/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":0,"created_at":"2024-11-09T16:19:42Z","updated_at":"2024-11-09T19:07:38Z","closed_at":"2024-11-09T19:07:38Z","author_association":"COLLABORATOR","type":null,"active_lock_reason":null,"draft":false,"pull_request":{"url":"https://api.github.com/repos/beancount/beancount/pulls/867","html_url":"https://github.com/beancount/beancount/pull/867","diff_url":"https://github.com/beancount/beancount/pull/867.diff","patch_url":"https://github.com/beancount/beancount/pull/867.patch","merged_at":"2024-11-09T19:07:38Z"},"body":null,"closed_by":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/beancount/beancount/issues/867/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beancount/issues/867/timeline","performed_via_github_app":null,"state_reason":null},{"url":"https://api.github.com/repos/beancount/beancount/issues/865","repository_url":"https://api.github.com/repos/beancount/beancount","labels_url":"https://api.github.com/repos/beancount/beancount/issues/865/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beancount/issues/865/comments","events_url":"https://api.github.com/repos/beancount/beancount/issues/865/events","html_url":"https://github.com/beancount/beancount/pull/865","id":2645043834,"node_id":"PR_kwDOD91Bd86BXcXi","number":865,"title":"Some more cleanups","user":{"login":"dnicolodi","id":987145,"node_id":"MDQ6VXNlcjk4NzE0NQ==","avatar_url":"https://avatars.githubusercontent.com/u/987145?v=4","gravatar_id":"","url":"https://api.github.com/users/dnicolodi","html_url":"https://github.com/dnicolodi","followers_url":"https://api.github.com/users/dnicolodi/followers","following_url":"https://api.github.com/users/dnicolodi/following{/other_user}","gists_url":"https://api.github.com/users/dnicolodi/gists{/gist_id}","starred_url":"https://api.github.com/users/dnicolodi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dnicolodi/subscriptions","organizations_url":"https://api.github.com/users/dnicolodi/orgs","repos_url":"https://api.github.com/users/dnicolodi/repos","events_url":"https://api.github.com/users/dnicolodi/events{/privacy}","received_events_url":"https://api.github.com/users/dnicolodi/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":0,"created_at":"2024-11-08T20:02:58Z","updated_at":"2024-11-08T23:15:01Z","closed_at":"2024-11-08T23:15:01Z","author_association":"COLLABORATOR","type":null,"active_lock_reason":null,"draft":false,"pull_request":{"url":"https://api.github.com/repos/beancount/beancount/pulls/865","html_url":"https://github.com/beancount/beancount/pull/865","diff_url":"https://github.com/beancount/beancount/pull/865.diff","patch_url":"https://github.com/beancount/beancount/pull/865.patch","merged_at":"2024-11-08T23:15:01Z"},"body":null,"closed_by":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/beancount/beancount/issues/865/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beancount/issues/865/timeline","performed_via_github_app":null,"state_reason":null},{"url":"https://api.github.com/repos/beancount/beancount/issues/864","repository_url":"https://api.github.com/repos/beancount/beancount","labels_url":"https://api.github.com/repos/beancount/beancount/issues/864/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beancount/issues/864/comments","events_url":"https://api.github.com/repos/beancount/beancount/issues/864/events","html_url":"https://github.com/beancount/beancount/pull/864","id":2641986406,"node_id":"PR_kwDOD91Bd86BOzmB","number":864,"title":"fix: beancount generated example with zero transation","user":{"login":"trim21","id":13553903,"node_id":"MDQ6VXNlcjEzNTUzOTAz","avatar_url":"https://avatars.githubusercontent.com/u/13553903?v=4","gravatar_id":"","url":"https://api.github.com/users/trim21","html_url":"https://github.com/trim21","followers_url":"https://api.github.com/users/trim21/followers","following_url":"https://api.github.com/users/trim21/following{/other_user}","gists_url":"https://api.github.com/users/trim21/gists{/gist_id}","starred_url":"https://api.github.com/users/trim21/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/trim21/subscriptions","organizations_url":"https://api.github.com/users/trim21/orgs","repos_url":"https://api.github.com/users/trim21/repos","events_url":"https://api.github.com/users/trim21/events{/privacy}","received_events_url":"https://api.github.com/users/trim21/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":0,"created_at":"2024-11-07T19:33:04Z","updated_at":"2024-11-07T19:35:39Z","closed_at":"2024-11-07T19:34:56Z","author_association":"CONTRIBUTOR","type":null,"active_lock_reason":null,"draft":false,"pull_request":{"url":"https://api.github.com/repos/beancount/beancount/pulls/864","html_url":"https://github.com/beancount/beancount/pull/864","diff_url":"https://github.com/beancount/beancount/pull/864.diff","patch_url":"https://github.com/beancount/beancount/pull/864.patch","merged_at":"2024-11-07T19:34:56Z"},"body":"close https://github.com/beancount/beancount/issues/863","closed_by":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/beancount/beancount/issues/864/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beancount/issues/864/timeline","performed_via_github_app":null,"state_reason":null},{"url":"https://api.github.com/repos/beancount/beancount/issues/863","repository_url":"https://api.github.com/repos/beancount/beancount","labels_url":"https://api.github.com/repos/beancount/beancount/issues/863/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beancount/issues/863/comments","events_url":"https://api.github.com/repos/beancount/beancount/issues/863/events","html_url":"https://github.com/beancount/beancount/issues/863","id":2641977437,"node_id":"I_kwDOD91Bd86deWBd","number":863,"title":"bean-example generate transation with 0 amount and failed bean-check","user":{"login":"trim21","id":13553903,"node_id":"MDQ6VXNlcjEzNTUzOTAz","avatar_url":"https://avatars.githubusercontent.com/u/13553903?v=4","gravatar_id":"","url":"https://api.github.com/users/trim21","html_url":"https://github.com/trim21","followers_url":"https://api.github.com/users/trim21/followers","following_url":"https://api.github.com/users/trim21/following{/other_user}","gists_url":"https://api.github.com/users/trim21/gists{/gist_id}","starred_url":"https://api.github.com/users/trim21/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/trim21/subscriptions","organizations_url":"https://api.github.com/users/trim21/orgs","repos_url":"https://api.github.com/users/trim21/repos","events_url":"https://api.github.com/users/trim21/events{/privacy}","received_events_url":"https://api.github.com/users/trim21/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":0,"created_at":"2024-11-07T19:27:55Z","updated_at":"2024-11-07T19:34:57Z","closed_at":"2024-11-07T19:34:57Z","author_association":"CONTRIBUTOR","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"```text\r\n2069-08-05 * \"Investing 60% of cash in RGAGX\"\r\n  Assets:US:Vanguard:RGAGX                              0.000 RGAGX {399233.92 USD, 2069-08-05}\r\n  Assets:US:Vanguard:Cash                                0.00 USD\r\n```","closed_by":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/beancount/beancount/issues/863/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beancount/issues/863/timeline","performed_via_github_app":null,"state_reason":"completed"},{"url":"https://api.github.com/repos/beancount/beancount/issues/862","repository_url":"https://api.github.com/repos/beancount/beancount","labels_url":"https://api.github.com/repos/beancount/beancount/issues/862/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beancount/issues/862/comments","events_url":"https://api.github.com/repos/beancount/beancount/issues/862/events","html_url":"https://github.com/beancount/beancount/pull/862","id":2640079833,"node_id":"PR_kwDOD91Bd86BJPni","number":862,"title":"style: add pre-commit hooks","user":{"login":"trim21","id":13553903,"node_id":"MDQ6VXNlcjEzNTUzOTAz","avatar_url":"https://avatars.githubusercontent.com/u/13553903?v=4","gravatar_id":"","url":"https://api.github.com/users/trim21","html_url":"https://github.com/trim21","followers_url":"https://api.github.com/users/trim21/followers","following_url":"https://api.github.com/users/trim21/following{/other_user}","gists_url":"https://api.github.com/users/trim21/gists{/gist_id}","starred_url":"https://api.github.com/users/trim21/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/trim21/subscriptions","organizations_url":"https://api.github.com/users/trim21/orgs","repos_url":"https://api.github.com/users/trim21/repos","events_url":"https://api.github.com/users/trim21/events{/privacy}","received_events_url":"https://api.github.com/users/trim21/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":4,"created_at":"2024-11-07T07:01:34Z","updated_at":"2024-11-07T14:06:17Z","closed_at":"2024-11-07T13:31:17Z","author_association":"CONTRIBUTOR","type":null,"active_lock_reason":null,"draft":false,"pull_request":{"url":"https://api.github.com/repos/beancount/beancount/pulls/862","html_url":"https://github.com/beancount/beancount/pull/862","diff_url":"https://github.com/beancount/beancount/pull/862.diff","patch_url":"https://github.com/beancount/beancount/pull/862.patch","merged_at":"2024-11-07T13:31:17Z"},"body":"from https://github.com/beancount/beancount/pull/861#issuecomment-2460177363\r\n\r\nthere are some formatting issue in current codebase, for example, ruff version not locked and ruff didn't run on some file.\r\n\r\nThis PR add https://github.com/pre-commit/pre-commit to enfore code style, for example, UNIX EOL and ruff linted and formatted code.\r\n\r\nalso I suggest to add https://github.com/pre-commit/pre-commit-hooks?tab=readme-ov-file#trailing-whitespace, but our `render_source` will generate source with tailing whitespace, and it will failed tests.","closed_by":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/beancount/beancount/issues/862/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beancount/issues/862/timeline","performed_via_github_app":null,"state_reason":null},{"url":"https://api.github.com/repos/beancount/beancount/issues/861","repository_url":"https://api.github.com/repos/beancount/beancount","labels_url":"https://api.github.com/repos/beancount/beancount/issues/861/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beancount/issues/861/comments","events_url":"https://api.github.com/repos/beancount/beancount/issues/861/events","html_url":"https://github.com/beancount/beancount/pull/861","id":2637832282,"node_id":"PR_kwDOD91Bd86BCwLu","number":861,"title":"[WIP]: rust parser","user":{"login":"trim21","id":13553903,"node_id":"MDQ6VXNlcjEzNTUzOTAz","avatar_url":"https://avatars.githubusercontent.com/u/13553903?v=4","gravatar_id":"","url":"https://api.github.com/users/trim21","html_url":"https://github.com/trim21","followers_url":"https://api.github.com/users/trim21/followers","following_url":"https://api.github.com/users/trim21/following{/other_user}","gists_url":"https://api.github.com/users/trim21/gists{/gist_id}","starred_url":"https://api.github.com/users/trim21/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/trim21/subscriptions","organizations_url":"https://api.github.com/users/trim21/orgs","repos_url":"https://api.github.com/users/trim21/repos","events_url":"https://api.github.com/users/trim21/events{/privacy}","received_events_url":"https://api.github.com/users/trim21/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":18,"created_at":"2024-11-06T11:31:20Z","updated_at":"2024-11-08T17:02:53Z","closed_at":"2024-11-08T17:00:33Z","author_association":"CONTRIBUTOR","type":null,"active_lock_reason":null,"draft":true,"pull_request":{"url":"https://api.github.com/repos/beancount/beancount/pulls/861","html_url":"https://github.com/beancount/beancount/pull/861","diff_url":"https://github.com/beancount/beancount/pull/861.diff","patch_url":"https://github.com/beancount/beancount/pull/861.patch","merged_at":null},"body":"- [X] includes\r\n- [X] options\r\n- [ ] directives\r\n  - [ ]     Transaction\r\n  - [ ]  Price\r\n  - [ ] Balance\r\n  - [ ]  Open\r\n  - [ ]  Close\r\n  - [ ]  Pad\r\n  - [ ]  Commodity\r\n  - [ ] Event","closed_by":{"login":"trim21","id":13553903,"node_id":"MDQ6VXNlcjEzNTUzOTAz","avatar_url":"https://avatars.githubusercontent.com/u/13553903?v=4","gravatar_id":"","url":"https://api.github.com/users/trim21","html_url":"https://github.com/trim21","followers_url":"https://api.github.com/users/trim21/followers","following_url":"https://api.github.com/users/trim21/following{/other_user}","gists_url":"https://api.github.com/users/trim21/gists{/gist_id}","starred_url":"https://api.github.com/users/trim21/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/trim21/subscriptions","organizations_url":"https://api.github.com/users/trim21/orgs","repos_url":"https://api.github.com/users/trim21/repos","events_url":"https://api.github.com/users/trim21/events{/privacy}","received_events_url":"https://api.github.com/users/trim21/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/beancount/beancount/issues/861/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beancount/issues/861/timeline","performed_via_github_app":null,"state_reason":null},{"url":"https://api.github.com/repos/beancount/beancount/issues/860","repository_url":"https://api.github.com/repos/beancount/beancount","labels_url":"https://api.github.com/repos/beancount/beancount/issues/860/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beancount/issues/860/comments","events_url":"https://api.github.com/repos/beancount/beancount/issues/860/events","html_url":"https://github.com/beancount/beancount/pull/860","id":2631342032,"node_id":"PR_kwDOD91Bd86AusIF","number":860,"title":"Modernizations","user":{"login":"dnicolodi","id":987145,"node_id":"MDQ6VXNlcjk4NzE0NQ==","avatar_url":"https://avatars.githubusercontent.com/u/987145?v=4","gravatar_id":"","url":"https://api.github.com/users/dnicolodi","html_url":"https://github.com/dnicolodi","followers_url":"https://api.github.com/users/dnicolodi/followers","following_url":"https://api.github.com/users/dnicolodi/following{/other_user}","gists_url":"https://api.github.com/users/dnicolodi/gists{/gist_id}","starred_url":"https://api.github.com/users/dnicolodi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dnicolodi/subscriptions","organizations_url":"https://api.github.com/users/dnicolodi/orgs","repos_url":"https://api.github.com/users/dnicolodi/repos","events_url":"https://api.github.com/users/dnicolodi/events{/privacy}","received_events_url":"https://api.github.com/users/dnicolodi/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":10,"created_at":"2024-11-03T17:22:40Z","updated_at":"2024-11-07T13:29:28Z","closed_at":"2024-11-06T22:07:53Z","author_association":"COLLABORATOR","type":null,"active_lock_reason":null,"draft":false,"pull_request":{"url":"https://api.github.com/repos/beancount/beancount/pulls/860","html_url":"https://github.com/beancount/beancount/pull/860","diff_url":"https://github.com/beancount/beancount/pull/860.diff","patch_url":"https://github.com/beancount/beancount/pull/860.patch","merged_at":"2024-11-06T22:07:53Z"},"body":null,"closed_by":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/beancount/beancount/issues/860/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beancount/issues/860/timeline","performed_via_github_app":null,"state_reason":null},{"url":"https://api.github.com/repos/beancount/beancount/issues/859","repository_url":"https://api.github.com/repos/beancount/beancount","labels_url":"https://api.github.com/repos/beancount/beancount/issues/859/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beancount/issues/859/comments","events_url":"https://api.github.com/repos/beancount/beancount/issues/859/events","html_url":"https://github.com/beancount/beancount/pull/859","id":2596600494,"node_id":"PR_kwDOD91Bd85_DyDA","number":859,"title":"Remove redundant `w` from version 1 description","user":{"login":"y0ngb1n","id":25719408,"node_id":"MDQ6VXNlcjI1NzE5NDA4","avatar_url":"https://avatars.githubusercontent.com/u/25719408?v=4","gravatar_id":"","url":"https://api.github.com/users/y0ngb1n","html_url":"https://github.com/y0ngb1n","followers_url":"https://api.github.com/users/y0ngb1n/followers","following_url":"https://api.github.com/users/y0ngb1n/following{/other_user}","gists_url":"https://api.github.com/users/y0ngb1n/gists{/gist_id}","starred_url":"https://api.github.com/users/y0ngb1n/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/y0ngb1n/subscriptions","organizations_url":"https://api.github.com/users/y0ngb1n/orgs","repos_url":"https://api.github.com/users/y0ngb1n/repos","events_url":"https://api.github.com/users/y0ngb1n/events{/privacy}","received_events_url":"https://api.github.com/users/y0ngb1n/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":0,"created_at":"2024-10-18T06:51:28Z","updated_at":"2024-10-19T03:12:42Z","closed_at":"2024-10-18T13:50:41Z","author_association":"CONTRIBUTOR","type":null,"active_lock_reason":null,"draft":false,"pull_request":{"url":"https://api.github.com/repos/beancount/beancount/pulls/859","html_url":"https://github.com/beancount/beancount/pull/859","diff_url":"https://github.com/beancount/beancount/pull/859.diff","patch_url":"https://github.com/beancount/beancount/pull/859.patch","merged_at":"2024-10-18T13:50:41Z"},"body":"The `w` prefix in the description of version 1 was unnecessary and confusing. This pull request removes it for clarity. via [code](https://github.com/beancount/beancount/blob/477b8a49f08a9a87ce1c4261dfed50ab076a5b41/README.rst?plain=1#L75-L78)","closed_by":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/beancount/beancount/issues/859/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beancount/issues/859/timeline","performed_via_github_app":null,"state_reason":null},{"url":"https://api.github.com/repos/beancount/beancount/issues/858","repository_url":"https://api.github.com/repos/beancount/beancount","labels_url":"https://api.github.com/repos/beancount/beancount/issues/858/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beancount/issues/858/comments","events_url":"https://api.github.com/repos/beancount/beancount/issues/858/events","html_url":"https://github.com/beancount/beancount/issues/858","id":2583386239,"node_id":"I_kwDOD91Bd86Z-1h_","number":858,"title":"bean-web: bug in yearly balance sheet report","user":{"login":"sas970","id":184780220,"node_id":"U_kgDOCwOFvA","avatar_url":"https://avatars.githubusercontent.com/u/184780220?v=4","gravatar_id":"","url":"https://api.github.com/users/sas970","html_url":"https://github.com/sas970","followers_url":"https://api.github.com/users/sas970/followers","following_url":"https://api.github.com/users/sas970/following{/other_user}","gists_url":"https://api.github.com/users/sas970/gists{/gist_id}","starred_url":"https://api.github.com/users/sas970/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sas970/subscriptions","organizations_url":"https://api.github.com/users/sas970/orgs","repos_url":"https://api.github.com/users/sas970/repos","events_url":"https://api.github.com/users/sas970/events{/privacy}","received_events_url":"https://api.github.com/users/sas970/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":1,"created_at":"2024-10-12T20:05:18Z","updated_at":"2024-10-13T01:24:10Z","closed_at":"2024-10-13T01:24:00Z","author_association":"NONE","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"I think there is a bug in the yearly balance sheet report in bean-web\r\nPrice data for dates after the selected year  is being used to determine market value.\r\n[bug.beancount.txt](https://github.com/user-attachments/files/17351329/bug.beancount.txt)\r\n","closed_by":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/beancount/beancount/issues/858/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beancount/issues/858/timeline","performed_via_github_app":null,"state_reason":"not_planned"},{"url":"https://api.github.com/repos/beancount/beancount/issues/857","repository_url":"https://api.github.com/repos/beancount/beancount","labels_url":"https://api.github.com/repos/beancount/beancount/issues/857/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beancount/issues/857/comments","events_url":"https://api.github.com/repos/beancount/beancount/issues/857/events","html_url":"https://github.com/beancount/beancount/issues/857","id":2582681508,"node_id":"I_kwDOD91Bd86Z8Jek","number":857,"title":"pip install on mac seems to be missing dependancies. ","user":{"login":"the1gofer","id":2140724,"node_id":"MDQ6VXNlcjIxNDA3MjQ=","avatar_url":"https://avatars.githubusercontent.com/u/2140724?v=4","gravatar_id":"","url":"https://api.github.com/users/the1gofer","html_url":"https://github.com/the1gofer","followers_url":"https://api.github.com/users/the1gofer/followers","following_url":"https://api.github.com/users/the1gofer/following{/other_user}","gists_url":"https://api.github.com/users/the1gofer/gists{/gist_id}","starred_url":"https://api.github.com/users/the1gofer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/the1gofer/subscriptions","organizations_url":"https://api.github.com/users/the1gofer/orgs","repos_url":"https://api.github.com/users/the1gofer/repos","events_url":"https://api.github.com/users/the1gofer/events{/privacy}","received_events_url":"https://api.github.com/users/the1gofer/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":1,"created_at":"2024-10-12T08:23:28Z","updated_at":"2024-10-13T08:04:33Z","closed_at":"2024-10-13T08:04:33Z","author_association":"NONE","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"I installed using the command  `sudo -H python3 -m pip install beancount`, which, at first, seems to have worked.  However, when going through the tutorial, i began to notice that web-bean gave the `zsh: command not found: web-bean` and `bean-report --help` also errored with `zsh: command not found: bean-report`.","closed_by":{"login":"dnicolodi","id":987145,"node_id":"MDQ6VXNlcjk4NzE0NQ==","avatar_url":"https://avatars.githubusercontent.com/u/987145?v=4","gravatar_id":"","url":"https://api.github.com/users/dnicolodi","html_url":"https://github.com/dnicolodi","followers_url":"https://api.github.com/users/dnicolodi/followers","following_url":"https://api.github.com/users/dnicolodi/following{/other_user}","gists_url":"https://api.github.com/users/dnicolodi/gists{/gist_id}","starred_url":"https://api.github.com/users/dnicolodi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dnicolodi/subscriptions","organizations_url":"https://api.github.com/users/dnicolodi/orgs","repos_url":"https://api.github.com/users/dnicolodi/repos","events_url":"https://api.github.com/users/dnicolodi/events{/privacy}","received_events_url":"https://api.github.com/users/dnicolodi/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/beancount/beancount/issues/857/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beancount/issues/857/timeline","performed_via_github_app":null,"state_reason":"not_planned"},{"url":"https://api.github.com/repos/beancount/beancount/issues/856","repository_url":"https://api.github.com/repos/beancount/beancount","labels_url":"https://api.github.com/repos/beancount/beancount/issues/856/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beancount/issues/856/comments","events_url":"https://api.github.com/repos/beancount/beancount/issues/856/events","html_url":"https://github.com/beancount/beancount/issues/856","id":2579511139,"node_id":"I_kwDOD91Bd86ZwDdj","number":856,"title":"Support account alias like ledger","user":{"login":"xiaoxiangmoe","id":8111351,"node_id":"MDQ6VXNlcjgxMTEzNTE=","avatar_url":"https://avatars.githubusercontent.com/u/8111351?v=4","gravatar_id":"","url":"https://api.github.com/users/xiaoxiangmoe","html_url":"https://github.com/xiaoxiangmoe","followers_url":"https://api.github.com/users/xiaoxiangmoe/followers","following_url":"https://api.github.com/users/xiaoxiangmoe/following{/other_user}","gists_url":"https://api.github.com/users/xiaoxiangmoe/gists{/gist_id}","starred_url":"https://api.github.com/users/xiaoxiangmoe/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/xiaoxiangmoe/subscriptions","organizations_url":"https://api.github.com/users/xiaoxiangmoe/orgs","repos_url":"https://api.github.com/users/xiaoxiangmoe/repos","events_url":"https://api.github.com/users/xiaoxiangmoe/events{/privacy}","received_events_url":"https://api.github.com/users/xiaoxiangmoe/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":0,"created_at":"2024-10-10T18:07:36Z","updated_at":"2024-10-12T17:21:51Z","closed_at":"2024-10-12T17:21:51Z","author_association":"NONE","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"I want to write something like this. It will short our record and read.\r\n\r\n```beancount\r\nalias Assets:BOC-Card1234=Assets:Current-Assets:Cash-And-Cash-Equivalents:Cash-In-Bank:BankOfChina:Card1234\r\n2014-04-23 * \"Flight to Beijing\"\r\n  Expenses:Flights              -1230.27 USD\r\n  Assets:BOC-Card1234\r\n```\r\n\r\nhttps://ledger-cli.org/doc/ledger3.html#index-alias\r\n\r\nledger-cli support this now.","closed_by":{"login":"xiaoxiangmoe","id":8111351,"node_id":"MDQ6VXNlcjgxMTEzNTE=","avatar_url":"https://avatars.githubusercontent.com/u/8111351?v=4","gravatar_id":"","url":"https://api.github.com/users/xiaoxiangmoe","html_url":"https://github.com/xiaoxiangmoe","followers_url":"https://api.github.com/users/xiaoxiangmoe/followers","following_url":"https://api.github.com/users/xiaoxiangmoe/following{/other_user}","gists_url":"https://api.github.com/users/xiaoxiangmoe/gists{/gist_id}","starred_url":"https://api.github.com/users/xiaoxiangmoe/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/xiaoxiangmoe/subscriptions","organizations_url":"https://api.github.com/users/xiaoxiangmoe/orgs","repos_url":"https://api.github.com/users/xiaoxiangmoe/repos","events_url":"https://api.github.com/users/xiaoxiangmoe/events{/privacy}","received_events_url":"https://api.github.com/users/xiaoxiangmoe/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/beancount/beancount/issues/856/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beancount/issues/856/timeline","performed_via_github_app":null,"state_reason":"completed"},{"url":"https://api.github.com/repos/beancount/beancount/issues/855","repository_url":"https://api.github.com/repos/beancount/beancount","labels_url":"https://api.github.com/repos/beancount/beancount/issues/855/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beancount/issues/855/comments","events_url":"https://api.github.com/repos/beancount/beancount/issues/855/events","html_url":"https://github.com/beancount/beancount/issues/855","id":2569405088,"node_id":"I_kwDOD91Bd86ZJgKg","number":855,"title":"add a bean-report stub script","user":{"login":"WolfgangFahl","id":1336221,"node_id":"MDQ6VXNlcjEzMzYyMjE=","avatar_url":"https://avatars.githubusercontent.com/u/1336221?v=4","gravatar_id":"","url":"https://api.github.com/users/WolfgangFahl","html_url":"https://github.com/WolfgangFahl","followers_url":"https://api.github.com/users/WolfgangFahl/followers","following_url":"https://api.github.com/users/WolfgangFahl/following{/other_user}","gists_url":"https://api.github.com/users/WolfgangFahl/gists{/gist_id}","starred_url":"https://api.github.com/users/WolfgangFahl/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/WolfgangFahl/subscriptions","organizations_url":"https://api.github.com/users/WolfgangFahl/orgs","repos_url":"https://api.github.com/users/WolfgangFahl/repos","events_url":"https://api.github.com/users/WolfgangFahl/events{/privacy}","received_events_url":"https://api.github.com/users/WolfgangFahl/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":3,"created_at":"2024-10-07T05:58:38Z","updated_at":"2024-10-13T08:15:38Z","closed_at":"2024-10-13T08:15:38Z","author_association":"NONE","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"https://github.com/beancount/beancount/issues/832\r\n\r\nis unfortunately closed. As a newbie for beancount i am frustrated since i am following https://beancount.github.io/docs/tutorial_example.html#converting-to-ledger-input\r\n\r\n```bash\r\nbean-report example.beancount ledger > example.lgr\r\n```\r\n\r\ndoes not work and i have a hard time finding out what to do now. \r\nthe beancount project seems to provide:\r\n```\r\n[project.scripts]\r\nbean-check = \"beancount.scripts.check:main\"\r\nbean-doctor = \"beancount.scripts.doctor:main\"\r\nbean-example = \"beancount.scripts.example:main\"\r\nbean-format = \"beancount.scripts.format:main\"\r\ntreeify = \"beancount.tools.treeify:main\"\r\n```\r\n\r\nthe beangulp project has no such entry\r\n\r\nMy suggestiong is to add a stub-script bean-report which will provide a message/links on how to proceed if one expects bean-report (V2) while V3 works differently ","closed_by":{"login":"dnicolodi","id":987145,"node_id":"MDQ6VXNlcjk4NzE0NQ==","avatar_url":"https://avatars.githubusercontent.com/u/987145?v=4","gravatar_id":"","url":"https://api.github.com/users/dnicolodi","html_url":"https://github.com/dnicolodi","followers_url":"https://api.github.com/users/dnicolodi/followers","following_url":"https://api.github.com/users/dnicolodi/following{/other_user}","gists_url":"https://api.github.com/users/dnicolodi/gists{/gist_id}","starred_url":"https://api.github.com/users/dnicolodi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dnicolodi/subscriptions","organizations_url":"https://api.github.com/users/dnicolodi/orgs","repos_url":"https://api.github.com/users/dnicolodi/repos","events_url":"https://api.github.com/users/dnicolodi/events{/privacy}","received_events_url":"https://api.github.com/users/dnicolodi/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/beancount/beancount/issues/855/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beancount/issues/855/timeline","performed_via_github_app":null,"state_reason":"not_planned"},{"url":"https://api.github.com/repos/beancount/beancount/issues/854","repository_url":"https://api.github.com/repos/beancount/beancount","labels_url":"https://api.github.com/repos/beancount/beancount/issues/854/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beancount/issues/854/comments","events_url":"https://api.github.com/repos/beancount/beancount/issues/854/events","html_url":"https://github.com/beancount/beancount/issues/854","id":2540437849,"node_id":"I_kwDOD91Bd86XbAFZ","number":854,"title":"bean-example --date-birth YYYY-MM-DD > sample.beancount   gives error","user":{"login":"yavnest","id":51421708,"node_id":"MDQ6VXNlcjUxNDIxNzA4","avatar_url":"https://avatars.githubusercontent.com/u/51421708?v=4","gravatar_id":"","url":"https://api.github.com/users/yavnest","html_url":"https://github.com/yavnest","followers_url":"https://api.github.com/users/yavnest/followers","following_url":"https://api.github.com/users/yavnest/following{/other_user}","gists_url":"https://api.github.com/users/yavnest/gists{/gist_id}","starred_url":"https://api.github.com/users/yavnest/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/yavnest/subscriptions","organizations_url":"https://api.github.com/users/yavnest/orgs","repos_url":"https://api.github.com/users/yavnest/repos","events_url":"https://api.github.com/users/yavnest/events{/privacy}","received_events_url":"https://api.github.com/users/yavnest/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":0,"created_at":"2024-09-21T17:49:22Z","updated_at":"2024-09-23T02:11:46Z","closed_at":"2024-09-23T02:11:45Z","author_association":"NONE","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"beancount 3.0.0 here\r\n\r\nWith bean-example --help, I saw it has an option --date-birth (which I don't even know what it's about), so I decided to use it in generating an example file.\r\n\r\nI did this:\r\n**bean-example --date-birth 1988-07-01 > sample.beancount**\r\n\r\nI'm brand new to beancount, by the way. This was my very first executed beancount command ever. :)\r\n\r\nIt gave the following error:\r\n> $ bean-example --date-birth 1988-07-01 > ample.beancount\r\n> Traceback (most recent call last):\r\n>   File \"/home/acer/.local/bin/bean-example\", line 8, in <module>\r\n>     sys.exit(main())\r\n>              ^^^^^^\r\n>   File \"/home/acer/.local/share/pipx/venvs/beancount/lib/python3.12/site-packages/click/core.py\", line 1157, in __call__\r\n>     return self.main(*args, **kwargs)\r\n>            ^^^^^^^^^^^^^^^^^^^^^^^^^^\r\n>   File \"/home/acer/.local/share/pipx/venvs/beancount/lib/python3.12/site-packages/click/core.py\", line 1077, in main\r\n>     with self.make_context(prog_name, args, **extra) as ctx:\r\n>          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\r\n>   File \"/home/acer/.local/share/pipx/venvs/beancount/lib/python3.12/site-packages/click/core.py\", line 943, in make_context\r\n>     self.parse_args(ctx, args)\r\n>   File \"/home/acer/.local/share/pipx/venvs/beancount/lib/python3.12/site-packages/click/core.py\", line 1408, in parse_args\r\n>     value, args = param.handle_parse_result(ctx, opts, args)\r\n>                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\r\n>   File \"/home/acer/.local/share/pipx/venvs/beancount/lib/python3.12/site-packages/click/core.py\", line 2400, in handle_parse_result\r\n>     value = self.process_value(ctx, value)\r\n>             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\r\n>   File \"/home/acer/.local/share/pipx/venvs/beancount/lib/python3.12/site-packages/click/core.py\", line 2356, in process_value\r\n>     value = self.type_cast_value(ctx, value)\r\n>             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\r\n>   File \"/home/acer/.local/share/pipx/venvs/beancount/lib/python3.12/site-packages/click/core.py\", line 2344, in type_cast_value\r\n>     return convert(value)\r\n>            ^^^^^^^^^^^^^^\r\n>   File \"/home/acer/.local/share/pipx/venvs/beancount/lib/python3.12/site-packages/click/core.py\", line 2316, in convert\r\n>     return self.type(value, param=self, ctx=ctx)\r\n>            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\r\n>   File \"/home/acer/.local/share/pipx/venvs/beancount/lib/python3.12/site-packages/click/types.py\", line 83, in __call__\r\n>     return self.convert(value, param, ctx)\r\n>            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\r\n>   File \"/home/acer/.local/share/pipx/venvs/beancount/lib/python3.12/site-packages/beancount/scripts/example.py\", line 1826, in convert\r\n>     date_utils.parse_date_liberally(value)\r\n>     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\r\n> AttributeError: module 'beancount.utils.date_utils' has no attribute 'parse_date_liberally'\r\n\r\n\r\nI removed the --date-birth [argument] and just  **bean-example > sample.beancount**  worked.","closed_by":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/beancount/beancount/issues/854/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beancount/issues/854/timeline","performed_via_github_app":null,"state_reason":"completed"},{"url":"https://api.github.com/repos/beancount/beancount/issues/853","repository_url":"https://api.github.com/repos/beancount/beancount","labels_url":"https://api.github.com/repos/beancount/beancount/issues/853/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beancount/issues/853/comments","events_url":"https://api.github.com/repos/beancount/beancount/issues/853/events","html_url":"https://github.com/beancount/beancount/issues/853","id":2535252566,"node_id":"I_kwDOD91Bd86XHOJW","number":853,"title":"wrong auto-balance calculation when one leg is omitted","user":{"login":"piengeng","id":8223560,"node_id":"MDQ6VXNlcjgyMjM1NjA=","avatar_url":"https://avatars.githubusercontent.com/u/8223560?v=4","gravatar_id":"","url":"https://api.github.com/users/piengeng","html_url":"https://github.com/piengeng","followers_url":"https://api.github.com/users/piengeng/followers","following_url":"https://api.github.com/users/piengeng/following{/other_user}","gists_url":"https://api.github.com/users/piengeng/gists{/gist_id}","starred_url":"https://api.github.com/users/piengeng/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/piengeng/subscriptions","organizations_url":"https://api.github.com/users/piengeng/orgs","repos_url":"https://api.github.com/users/piengeng/repos","events_url":"https://api.github.com/users/piengeng/events{/privacy}","received_events_url":"https://api.github.com/users/piengeng/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":4,"created_at":"2024-09-19T04:21:51Z","updated_at":"2024-09-20T04:33:10Z","closed_at":"2024-09-19T20:34:49Z","author_association":"NONE","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"```beancount\r\n2024-09-01 open Equity:Opening-Balances USD\r\n2024-09-01 open Assets:Cash:USD  USD\r\n2024-09-01 open Expenses:US:Market:One  USD\r\n2024-09-01 open Expenses:US:Market:Two  USD\r\n\r\n2024-09-02 pad Assets:Cash:USD Equity:Opening-Balances\r\n2024-09-03 balance Assets:Cash:USD     3 USD\r\n\r\n2024-09-05 * \"something\"\r\n  Expenses:US:Market:One               1 USD\r\n  Expenses:US:Market:Two            0.95 USD\r\n  Assets:Cash:USD                   ;-1.95 USD ; IF leave blank, the balance is OFF!\r\n```\r\n\r\nthe balance calculation is wrong, I've not looked into the core code yet, Assets:Cash:USD's balance should be 1.05 instead of 1 when last leg left hanging? or is this the intended feature? if I change Market:One's 1 USD to 1.00 USD, it's 1.05 again\r\n\r\ni'm at v2.3.6, v3 still missing a lot of previous cli apps.","closed_by":{"login":"dnicolodi","id":987145,"node_id":"MDQ6VXNlcjk4NzE0NQ==","avatar_url":"https://avatars.githubusercontent.com/u/987145?v=4","gravatar_id":"","url":"https://api.github.com/users/dnicolodi","html_url":"https://github.com/dnicolodi","followers_url":"https://api.github.com/users/dnicolodi/followers","following_url":"https://api.github.com/users/dnicolodi/following{/other_user}","gists_url":"https://api.github.com/users/dnicolodi/gists{/gist_id}","starred_url":"https://api.github.com/users/dnicolodi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dnicolodi/subscriptions","organizations_url":"https://api.github.com/users/dnicolodi/orgs","repos_url":"https://api.github.com/users/dnicolodi/repos","events_url":"https://api.github.com/users/dnicolodi/events{/privacy}","received_events_url":"https://api.github.com/users/dnicolodi/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/beancount/beancount/issues/853/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beancount/issues/853/timeline","performed_via_github_app":null,"state_reason":"completed"},{"url":"https://api.github.com/repos/beancount/beancount/issues/852","repository_url":"https://api.github.com/repos/beancount/beancount","labels_url":"https://api.github.com/repos/beancount/beancount/issues/852/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beancount/issues/852/comments","events_url":"https://api.github.com/repos/beancount/beancount/issues/852/events","html_url":"https://github.com/beancount/beancount/pull/852","id":2527182870,"node_id":"PR_kwDOD91Bd857jlas","number":852,"title":"Sort entries by time field in metadata","user":{"login":"hsiuhsiu","id":1284605,"node_id":"MDQ6VXNlcjEyODQ2MDU=","avatar_url":"https://avatars.githubusercontent.com/u/1284605?v=4","gravatar_id":"","url":"https://api.github.com/users/hsiuhsiu","html_url":"https://github.com/hsiuhsiu","followers_url":"https://api.github.com/users/hsiuhsiu/followers","following_url":"https://api.github.com/users/hsiuhsiu/following{/other_user}","gists_url":"https://api.github.com/users/hsiuhsiu/gists{/gist_id}","starred_url":"https://api.github.com/users/hsiuhsiu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hsiuhsiu/subscriptions","organizations_url":"https://api.github.com/users/hsiuhsiu/orgs","repos_url":"https://api.github.com/users/hsiuhsiu/repos","events_url":"https://api.github.com/users/hsiuhsiu/events{/privacy}","received_events_url":"https://api.github.com/users/hsiuhsiu/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"open","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":13,"created_at":"2024-09-15T20:26:22Z","updated_at":"2025-05-23T21:22:45Z","closed_at":null,"author_association":"NONE","type":null,"active_lock_reason":null,"draft":false,"pull_request":{"url":"https://api.github.com/repos/beancount/beancount/pulls/852","html_url":"https://github.com/beancount/beancount/pull/852","diff_url":"https://github.com/beancount/beancount/pull/852.diff","patch_url":"https://github.com/beancount/beancount/pull/852.patch","merged_at":null},"body":"This PR provides a temporary quick fix for the issue #332 [(More discussion)](https://groups.google.com/g/beancount/c/zZiFBPU1V8Y). It offers a simple way to add time support to transactions using metadata, addressing a specific scenario where the order of transactions matters across different files.\r\n\r\n## Example Use Case\r\nConsider the following two transactions in different .bean files:\r\n\r\nFirst .bean file:\r\n```beancount\r\n2020-03-01 * \"transfer\"\r\n  Assets:Crypto:Coinbase                   -1 ETH {164.06915 USD, 2019-04-13}\r\n  Assets:Crypto:CoinbasePro                 1 ETH {164.06915 USD, 2019-04-13}\r\n```\r\nSecond .bean file:\r\n```beancount\r\n2020-03-01 * \"transfer\"\r\n  Assets:Crypto:CoinbasePro                -1 ETH {164.06915 USD, 2019-04-13}\r\n  Assets:Crypto:CoinbasePro              1000 USD\r\n  Income:Crypto\r\n```\r\nThe first transaction needs to be processed before the second one. If these transactions are in the same file, the order is preserved, and no error occurs. However, when the transactions are in separate files, they are sorted by their line numbers within each file, which can cause processing errors.\r\n\r\n## Proposed Solution\r\nWith this change, users can add a time field to the transaction metadata, allowing finer control over transaction order across multiple files. For example:\r\n\r\nFirst .bean file:\r\n```beancount\r\n2020-03-01 * \"transfer\"\r\n  time: \"22:47:17\"\r\n  Assets:Crypto:Coinbase                   -1 ETH {164.06915 USD, 2019-04-13}\r\n  Assets:Crypto:CoinbasePro                 1 ETH {164.06915 USD, 2019-04-13}\r\n```\r\nSecond .bean file:\r\n```beancount\r\n2020-03-01 * \"transfer\"\r\n  time: \"22:57:08\"\r\n  Assets:Crypto:CoinbasePro                -1 ETH {164.06915 USD, 2019-04-13}\r\n  Assets:Crypto:CoinbasePro              1000 USD\r\n  Income:Crypto\r\n```\r\n\r\n## Timezone Handling (updated 2025 February)\r\nFollowing the ISO 8601 standard, there are three types of time strings supported:\r\n1. Explicit offset – e.g., `12:34:56+08:00`\r\n2. Zulu time (UTC, denoted by Z) – e.g., `12:34:56Z`\r\n3. Local time – The default timezone specified in the default_timezone option will be used – e.g., `12:34:56`\r\n\r\nIn the future, support for account-level or even entry/posting-level time and timezone settings may be added.","closed_by":null,"reactions":{"url":"https://api.github.com/repos/beancount/beancount/issues/852/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beancount/issues/852/timeline","performed_via_github_app":null,"state_reason":null},{"url":"https://api.github.com/repos/beancount/beancount/issues/845","repository_url":"https://api.github.com/repos/beancount/beancount","labels_url":"https://api.github.com/repos/beancount/beancount/issues/845/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beancount/issues/845/comments","events_url":"https://api.github.com/repos/beancount/beancount/issues/845/events","html_url":"https://github.com/beancount/beancount/issues/845","id":2499614689,"node_id":"I_kwDOD91Bd86U_Rfh","number":845,"title":"run queries in my own python script with beancount 3.0.0 ?","user":{"login":"uherbst","id":993074,"node_id":"MDQ6VXNlcjk5MzA3NA==","avatar_url":"https://avatars.githubusercontent.com/u/993074?v=4","gravatar_id":"","url":"https://api.github.com/users/uherbst","html_url":"https://github.com/uherbst","followers_url":"https://api.github.com/users/uherbst/followers","following_url":"https://api.github.com/users/uherbst/following{/other_user}","gists_url":"https://api.github.com/users/uherbst/gists{/gist_id}","starred_url":"https://api.github.com/users/uherbst/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/uherbst/subscriptions","organizations_url":"https://api.github.com/users/uherbst/orgs","repos_url":"https://api.github.com/users/uherbst/repos","events_url":"https://api.github.com/users/uherbst/events{/privacy}","received_events_url":"https://api.github.com/users/uherbst/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":1,"created_at":"2024-09-01T18:17:57Z","updated_at":"2024-09-01T18:58:35Z","closed_at":"2024-09-01T18:58:35Z","author_association":"NONE","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"Hi all,\r\n\r\nuntil beancount 2.3.6, I was able to run queries in a python script with:\r\n\r\nfrom beancount.loader import load_file\r\nfrom beancount.query.query import run_query\r\n\r\nIn beancount 3.0.0, I can't find any query option ? (installed with \"pip install beancount\"). \r\nIs there a new way to run queries in python ?\r\n\r\nThank you\r\nUli\r\n","closed_by":{"login":"dnicolodi","id":987145,"node_id":"MDQ6VXNlcjk4NzE0NQ==","avatar_url":"https://avatars.githubusercontent.com/u/987145?v=4","gravatar_id":"","url":"https://api.github.com/users/dnicolodi","html_url":"https://github.com/dnicolodi","followers_url":"https://api.github.com/users/dnicolodi/followers","following_url":"https://api.github.com/users/dnicolodi/following{/other_user}","gists_url":"https://api.github.com/users/dnicolodi/gists{/gist_id}","starred_url":"https://api.github.com/users/dnicolodi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dnicolodi/subscriptions","organizations_url":"https://api.github.com/users/dnicolodi/orgs","repos_url":"https://api.github.com/users/dnicolodi/repos","events_url":"https://api.github.com/users/dnicolodi/events{/privacy}","received_events_url":"https://api.github.com/users/dnicolodi/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/beancount/beancount/issues/845/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beancount/issues/845/timeline","performed_via_github_app":null,"state_reason":"completed"},{"url":"https://api.github.com/repos/beancount/beancount/issues/844","repository_url":"https://api.github.com/repos/beancount/beancount","labels_url":"https://api.github.com/repos/beancount/beancount/issues/844/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beancount/issues/844/comments","events_url":"https://api.github.com/repos/beancount/beancount/issues/844/events","html_url":"https://github.com/beancount/beancount/issues/844","id":2499592508,"node_id":"I_kwDOD91Bd86U_ME8","number":844,"title":"setup.py","user":{"login":"Jokes1911","id":178742304,"node_id":"U_kgDOCqdkIA","avatar_url":"https://avatars.githubusercontent.com/u/178742304?v=4","gravatar_id":"","url":"https://api.github.com/users/Jokes1911","html_url":"https://github.com/Jokes1911","followers_url":"https://api.github.com/users/Jokes1911/followers","following_url":"https://api.github.com/users/Jokes1911/following{/other_user}","gists_url":"https://api.github.com/users/Jokes1911/gists{/gist_id}","starred_url":"https://api.github.com/users/Jokes1911/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Jokes1911/subscriptions","organizations_url":"https://api.github.com/users/Jokes1911/orgs","repos_url":"https://api.github.com/users/Jokes1911/repos","events_url":"https://api.github.com/users/Jokes1911/events{/privacy}","received_events_url":"https://api.github.com/users/Jokes1911/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":0,"created_at":"2024-09-01T17:24:06Z","updated_at":"2024-09-01T18:59:49Z","closed_at":"2024-09-01T18:59:49Z","author_association":"NONE","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"https://github.com/beancount/beancount/actions/runs/9538226693/job/26287184138#step:4:1","closed_by":{"login":"dnicolodi","id":987145,"node_id":"MDQ6VXNlcjk4NzE0NQ==","avatar_url":"https://avatars.githubusercontent.com/u/987145?v=4","gravatar_id":"","url":"https://api.github.com/users/dnicolodi","html_url":"https://github.com/dnicolodi","followers_url":"https://api.github.com/users/dnicolodi/followers","following_url":"https://api.github.com/users/dnicolodi/following{/other_user}","gists_url":"https://api.github.com/users/dnicolodi/gists{/gist_id}","starred_url":"https://api.github.com/users/dnicolodi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dnicolodi/subscriptions","organizations_url":"https://api.github.com/users/dnicolodi/orgs","repos_url":"https://api.github.com/users/dnicolodi/repos","events_url":"https://api.github.com/users/dnicolodi/events{/privacy}","received_events_url":"https://api.github.com/users/dnicolodi/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/beancount/beancount/issues/844/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beancount/issues/844/timeline","performed_via_github_app":null,"state_reason":"completed"},{"url":"https://api.github.com/repos/beancount/beancount/issues/843","repository_url":"https://api.github.com/repos/beancount/beancount","labels_url":"https://api.github.com/repos/beancount/beancount/issues/843/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beancount/issues/843/comments","events_url":"https://api.github.com/repos/beancount/beancount/issues/843/events","html_url":"https://github.com/beancount/beancount/issues/843","id":2499591111,"node_id":"I_kwDOD91Bd86U_LvH","number":843,"title":"Bypass all passwords","user":{"login":"Jokes1911","id":178742304,"node_id":"U_kgDOCqdkIA","avatar_url":"https://avatars.githubusercontent.com/u/178742304?v=4","gravatar_id":"","url":"https://api.github.com/users/Jokes1911","html_url":"https://github.com/Jokes1911","followers_url":"https://api.github.com/users/Jokes1911/followers","following_url":"https://api.github.com/users/Jokes1911/following{/other_user}","gists_url":"https://api.github.com/users/Jokes1911/gists{/gist_id}","starred_url":"https://api.github.com/users/Jokes1911/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Jokes1911/subscriptions","organizations_url":"https://api.github.com/users/Jokes1911/orgs","repos_url":"https://api.github.com/users/Jokes1911/repos","events_url":"https://api.github.com/users/Jokes1911/events{/privacy}","received_events_url":"https://api.github.com/users/Jokes1911/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":0,"created_at":"2024-09-01T17:20:51Z","updated_at":"2024-09-01T19:00:11Z","closed_at":"2024-09-01T19:00:11Z","author_association":"NONE","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":null,"closed_by":{"login":"dnicolodi","id":987145,"node_id":"MDQ6VXNlcjk4NzE0NQ==","avatar_url":"https://avatars.githubusercontent.com/u/987145?v=4","gravatar_id":"","url":"https://api.github.com/users/dnicolodi","html_url":"https://github.com/dnicolodi","followers_url":"https://api.github.com/users/dnicolodi/followers","following_url":"https://api.github.com/users/dnicolodi/following{/other_user}","gists_url":"https://api.github.com/users/dnicolodi/gists{/gist_id}","starred_url":"https://api.github.com/users/dnicolodi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dnicolodi/subscriptions","organizations_url":"https://api.github.com/users/dnicolodi/orgs","repos_url":"https://api.github.com/users/dnicolodi/repos","events_url":"https://api.github.com/users/dnicolodi/events{/privacy}","received_events_url":"https://api.github.com/users/dnicolodi/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/beancount/beancount/issues/843/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beancount/issues/843/timeline","performed_via_github_app":null,"state_reason":"not_planned"},{"url":"https://api.github.com/repos/beancount/beancount/issues/841","repository_url":"https://api.github.com/repos/beancount/beancount","labels_url":"https://api.github.com/repos/beancount/beancount/issues/841/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beancount/issues/841/comments","events_url":"https://api.github.com/repos/beancount/beancount/issues/841/events","html_url":"https://github.com/beancount/beancount/pull/841","id":2468722590,"node_id":"PR_kwDOD91Bd854f7YJ","number":841,"title":"Generalize balance_by_account() with key fn","user":{"login":"ericaltendorf","id":73372694,"node_id":"MDQ6VXNlcjczMzcyNjk0","avatar_url":"https://avatars.githubusercontent.com/u/73372694?v=4","gravatar_id":"","url":"https://api.github.com/users/ericaltendorf","html_url":"https://github.com/ericaltendorf","followers_url":"https://api.github.com/users/ericaltendorf/followers","following_url":"https://api.github.com/users/ericaltendorf/following{/other_user}","gists_url":"https://api.github.com/users/ericaltendorf/gists{/gist_id}","starred_url":"https://api.github.com/users/ericaltendorf/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ericaltendorf/subscriptions","organizations_url":"https://api.github.com/users/ericaltendorf/orgs","repos_url":"https://api.github.com/users/ericaltendorf/repos","events_url":"https://api.github.com/users/ericaltendorf/events{/privacy}","received_events_url":"https://api.github.com/users/ericaltendorf/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"open","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":7,"created_at":"2024-08-15T18:49:35Z","updated_at":"2025-05-23T21:22:45Z","closed_at":null,"author_association":"NONE","type":null,"active_lock_reason":null,"draft":false,"pull_request":{"url":"https://api.github.com/repos/beancount/beancount/pulls/841","html_url":"https://github.com/beancount/beancount/pull/841","diff_url":"https://github.com/beancount/beancount/pull/841.diff","patch_url":"https://github.com/beancount/beancount/pull/841.patch","merged_at":null},"body":"Allow caller to pass in a function which can mark the point at which balances should be computed.  This was a TODO in the code, and I needed the functionality to compute balances at timestamps (which are meta flags on my transactions).  Happy to adjust naming and do more tests if you like.","closed_by":null,"reactions":{"url":"https://api.github.com/repos/beancount/beancount/issues/841/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beancount/issues/841/timeline","performed_via_github_app":null,"state_reason":null},{"url":"https://api.github.com/repos/beancount/beancount/issues/840","repository_url":"https://api.github.com/repos/beancount/beancount","labels_url":"https://api.github.com/repos/beancount/beancount/issues/840/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beancount/issues/840/comments","events_url":"https://api.github.com/repos/beancount/beancount/issues/840/events","html_url":"https://github.com/beancount/beancount/pull/840","id":2460034667,"node_id":"PR_kwDOD91Bd854DkK4","number":840,"title":"Propagate cost basis through \"transfer\" transactions","user":{"login":"ericaltendorf","id":73372694,"node_id":"MDQ6VXNlcjczMzcyNjk0","avatar_url":"https://avatars.githubusercontent.com/u/73372694?v=4","gravatar_id":"","url":"https://api.github.com/users/ericaltendorf","html_url":"https://github.com/ericaltendorf","followers_url":"https://api.github.com/users/ericaltendorf/followers","following_url":"https://api.github.com/users/ericaltendorf/following{/other_user}","gists_url":"https://api.github.com/users/ericaltendorf/gists{/gist_id}","starred_url":"https://api.github.com/users/ericaltendorf/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ericaltendorf/subscriptions","organizations_url":"https://api.github.com/users/ericaltendorf/orgs","repos_url":"https://api.github.com/users/ericaltendorf/repos","events_url":"https://api.github.com/users/ericaltendorf/events{/privacy}","received_events_url":"https://api.github.com/users/ericaltendorf/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":1,"created_at":"2024-08-12T04:50:49Z","updated_at":"2024-08-25T05:02:53Z","closed_at":"2024-08-25T05:02:52Z","author_association":"NONE","type":null,"active_lock_reason":null,"draft":false,"pull_request":{"url":"https://api.github.com/repos/beancount/beancount/pulls/840","html_url":"https://github.com/beancount/beancount/pull/840","diff_url":"https://github.com/beancount/beancount/pull/840.diff","patch_url":"https://github.com/beancount/beancount/pull/840.patch","merged_at":null},"body":"As discussed various times on the beancount mailing list, some users find it desirable that when a transaction \"transfers\" assets from one account to another, cost basis is brought along.  Concretely, something like\r\n\r\n        2015-10-01 *\r\n          Assets:Account1          1 HOOL {100.00 USD, 2010-01-01}\r\n          Assets:Account1          1 HOOL {120.00 USD, 2012-01-01}\r\n\r\n        2015-10-02 *\r\n          Assets:Account1         -1 HOOL {}\r\n          Assets:Account2          1 HOOL {}\r\n\r\nbooked under FIFO should result in \"1 HOOL {100.00 USD, 2010-01-01}\") in Account1.\r\n\r\nThis PR attempts to implement this.  This happens in two places: currency categorization, where we need to infer from account balances the cost currencies of the transfer postings, and in booking reductions, where we need to identify the reduced units and match them with the corresponding augmentations.\r\n\r\nNOTE: This is for preliminary review, feedback, and testing only.  It is not ready to submit.  At the very least, the current implementation only works for transfers with two equal and opposite augment/reduce postings, but does not gracefully detect and reject more complex forms (e.g., a transfer from one account into two others, or from two others into one).","closed_by":{"login":"ericaltendorf","id":73372694,"node_id":"MDQ6VXNlcjczMzcyNjk0","avatar_url":"https://avatars.githubusercontent.com/u/73372694?v=4","gravatar_id":"","url":"https://api.github.com/users/ericaltendorf","html_url":"https://github.com/ericaltendorf","followers_url":"https://api.github.com/users/ericaltendorf/followers","following_url":"https://api.github.com/users/ericaltendorf/following{/other_user}","gists_url":"https://api.github.com/users/ericaltendorf/gists{/gist_id}","starred_url":"https://api.github.com/users/ericaltendorf/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ericaltendorf/subscriptions","organizations_url":"https://api.github.com/users/ericaltendorf/orgs","repos_url":"https://api.github.com/users/ericaltendorf/repos","events_url":"https://api.github.com/users/ericaltendorf/events{/privacy}","received_events_url":"https://api.github.com/users/ericaltendorf/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/beancount/beancount/issues/840/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beancount/issues/840/timeline","performed_via_github_app":null,"state_reason":null},{"url":"https://api.github.com/repos/beancount/beancount/issues/839","repository_url":"https://api.github.com/repos/beancount/beancount","labels_url":"https://api.github.com/repos/beancount/beancount/issues/839/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beancount/issues/839/comments","events_url":"https://api.github.com/repos/beancount/beancount/issues/839/events","html_url":"https://github.com/beancount/beancount/pull/839","id":2459722852,"node_id":"PR_kwDOD91Bd854ChR7","number":839,"title":"Install test modules in the Python wheel","user":{"login":"dnicolodi","id":987145,"node_id":"MDQ6VXNlcjk4NzE0NQ==","avatar_url":"https://avatars.githubusercontent.com/u/987145?v=4","gravatar_id":"","url":"https://api.github.com/users/dnicolodi","html_url":"https://github.com/dnicolodi","followers_url":"https://api.github.com/users/dnicolodi/followers","following_url":"https://api.github.com/users/dnicolodi/following{/other_user}","gists_url":"https://api.github.com/users/dnicolodi/gists{/gist_id}","starred_url":"https://api.github.com/users/dnicolodi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dnicolodi/subscriptions","organizations_url":"https://api.github.com/users/dnicolodi/orgs","repos_url":"https://api.github.com/users/dnicolodi/repos","events_url":"https://api.github.com/users/dnicolodi/events{/privacy}","received_events_url":"https://api.github.com/users/dnicolodi/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":0,"created_at":"2024-08-11T19:09:08Z","updated_at":"2024-08-12T01:01:03Z","closed_at":"2024-08-12T01:01:03Z","author_association":"COLLABORATOR","type":null,"active_lock_reason":null,"draft":false,"pull_request":{"url":"https://api.github.com/repos/beancount/beancount/pulls/839","html_url":"https://github.com/beancount/beancount/pull/839","diff_url":"https://github.com/beancount/beancount/pull/839.diff","patch_url":"https://github.com/beancount/beancount/pull/839.patch","merged_at":"2024-08-12T01:01:03Z"},"body":"If the test modules are not installed, pytest fails to load them when it is pointed to the test modules in the source directory.","closed_by":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/beancount/beancount/issues/839/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beancount/issues/839/timeline","performed_via_github_app":null,"state_reason":null},{"url":"https://api.github.com/repos/beancount/beancount/issues/838","repository_url":"https://api.github.com/repos/beancount/beancount","labels_url":"https://api.github.com/repos/beancount/beancount/issues/838/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beancount/issues/838/comments","events_url":"https://api.github.com/repos/beancount/beancount/issues/838/events","html_url":"https://github.com/beancount/beancount/pull/838","id":2414428127,"node_id":"PR_kwDOD91Bd851r5sY","number":838,"title":"Bug fix: keep entries when doing beancount.ops.balance check","user":{"login":"derpferd","id":1833709,"node_id":"MDQ6VXNlcjE4MzM3MDk=","avatar_url":"https://avatars.githubusercontent.com/u/1833709?v=4","gravatar_id":"","url":"https://api.github.com/users/derpferd","html_url":"https://github.com/derpferd","followers_url":"https://api.github.com/users/derpferd/followers","following_url":"https://api.github.com/users/derpferd/following{/other_user}","gists_url":"https://api.github.com/users/derpferd/gists{/gist_id}","starred_url":"https://api.github.com/users/derpferd/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/derpferd/subscriptions","organizations_url":"https://api.github.com/users/derpferd/orgs","repos_url":"https://api.github.com/users/derpferd/repos","events_url":"https://api.github.com/users/derpferd/events{/privacy}","received_events_url":"https://api.github.com/users/derpferd/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":3,"created_at":"2024-07-17T19:49:30Z","updated_at":"2024-07-28T21:28:09Z","closed_at":"2024-07-26T02:42:04Z","author_association":"CONTRIBUTOR","type":null,"active_lock_reason":null,"draft":false,"pull_request":{"url":"https://api.github.com/repos/beancount/beancount/pulls/838","html_url":"https://github.com/beancount/beancount/pull/838","diff_url":"https://github.com/beancount/beancount/pull/838.diff","patch_url":"https://github.com/beancount/beancount/pull/838.patch","merged_at":null},"body":"The check op was removing balance entries in the case where the account does not exist. I think it is better to keep the entry and it to fail validation, this makes it more consistent with other entry types.","closed_by":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/beancount/beancount/issues/838/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beancount/issues/838/timeline","performed_via_github_app":null,"state_reason":null},{"url":"https://api.github.com/repos/beancount/beancount/issues/837","repository_url":"https://api.github.com/repos/beancount/beancount","labels_url":"https://api.github.com/repos/beancount/beancount/issues/837/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beancount/issues/837/comments","events_url":"https://api.github.com/repos/beancount/beancount/issues/837/events","html_url":"https://github.com/beancount/beancount/issues/837","id":2410898358,"node_id":"I_kwDOD91Bd86Ps2O2","number":837,"title":"oauth2client has been deprecated for several years","user":{"login":"adrien-n","id":10911300,"node_id":"MDQ6VXNlcjEwOTExMzAw","avatar_url":"https://avatars.githubusercontent.com/u/10911300?v=4","gravatar_id":"","url":"https://api.github.com/users/adrien-n","html_url":"https://github.com/adrien-n","followers_url":"https://api.github.com/users/adrien-n/followers","following_url":"https://api.github.com/users/adrien-n/following{/other_user}","gists_url":"https://api.github.com/users/adrien-n/gists{/gist_id}","starred_url":"https://api.github.com/users/adrien-n/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/adrien-n/subscriptions","organizations_url":"https://api.github.com/users/adrien-n/orgs","repos_url":"https://api.github.com/users/adrien-n/repos","events_url":"https://api.github.com/users/adrien-n/events{/privacy}","received_events_url":"https://api.github.com/users/adrien-n/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":7,"created_at":"2024-07-16T11:25:40Z","updated_at":"2024-07-18T13:28:46Z","closed_at":"2024-07-16T14:12:31Z","author_association":"NONE","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"Hi,\r\n\r\nThere are several uses of oauth2client in beancount and that package has unfortunately been abandonned or, rather, put in low-maintenance mode. After a few years in that state, cracks have started appearing and it would be interesting to migrate away from it. I've been working on removing the python-oauth2client package in Ubuntu and I know someone independently started that in Debian (but it's moving more slowly and the incentive is not as high).\r\n\r\nIt looks like the places this library is used are mainly beancount/tools/sheet_upload.py, or under experiments, or tools/update_options.py.\r\n\r\nUpstream (i.e. google) recommendation is to use https://google-auth.readthedocs.io/ and http://oauthlib.readthedocs.io/ .","closed_by":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/beancount/beancount/issues/837/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beancount/issues/837/timeline","performed_via_github_app":null,"state_reason":"completed"},{"url":"https://api.github.com/repos/beancount/beancount/issues/836","repository_url":"https://api.github.com/repos/beancount/beancount","labels_url":"https://api.github.com/repos/beancount/beancount/issues/836/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beancount/issues/836/comments","events_url":"https://api.github.com/repos/beancount/beancount/issues/836/events","html_url":"https://github.com/beancount/beancount/pull/836","id":2399568125,"node_id":"PR_kwDOD91Bd85055nN","number":836,"title":"Revert \"Bug fix: keep entries when doing beancount.ops.balance check\"","user":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":0,"created_at":"2024-07-10T02:16:47Z","updated_at":"2024-07-10T02:16:54Z","closed_at":"2024-07-10T02:16:54Z","author_association":"MEMBER","type":null,"active_lock_reason":null,"draft":false,"pull_request":{"url":"https://api.github.com/repos/beancount/beancount/pulls/836","html_url":"https://github.com/beancount/beancount/pull/836","diff_url":"https://github.com/beancount/beancount/pull/836.diff","patch_url":"https://github.com/beancount/beancount/pull/836.patch","merged_at":"2024-07-10T02:16:53Z"},"body":"Reverts beancount/beancount#835\r\nTests fail in #834","closed_by":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/beancount/beancount/issues/836/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beancount/issues/836/timeline","performed_via_github_app":null,"state_reason":null},{"url":"https://api.github.com/repos/beancount/beancount/issues/835","repository_url":"https://api.github.com/repos/beancount/beancount","labels_url":"https://api.github.com/repos/beancount/beancount/issues/835/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beancount/issues/835/comments","events_url":"https://api.github.com/repos/beancount/beancount/issues/835/events","html_url":"https://github.com/beancount/beancount/pull/835","id":2393098286,"node_id":"PR_kwDOD91Bd850kHw5","number":835,"title":"Bug fix: keep entries when doing beancount.ops.balance check","user":{"login":"derpferd","id":1833709,"node_id":"MDQ6VXNlcjE4MzM3MDk=","avatar_url":"https://avatars.githubusercontent.com/u/1833709?v=4","gravatar_id":"","url":"https://api.github.com/users/derpferd","html_url":"https://github.com/derpferd","followers_url":"https://api.github.com/users/derpferd/followers","following_url":"https://api.github.com/users/derpferd/following{/other_user}","gists_url":"https://api.github.com/users/derpferd/gists{/gist_id}","starred_url":"https://api.github.com/users/derpferd/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/derpferd/subscriptions","organizations_url":"https://api.github.com/users/derpferd/orgs","repos_url":"https://api.github.com/users/derpferd/repos","events_url":"https://api.github.com/users/derpferd/events{/privacy}","received_events_url":"https://api.github.com/users/derpferd/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":0,"created_at":"2024-07-05T20:14:23Z","updated_at":"2024-07-10T02:15:45Z","closed_at":"2024-07-10T02:15:44Z","author_association":"CONTRIBUTOR","type":null,"active_lock_reason":null,"draft":false,"pull_request":{"url":"https://api.github.com/repos/beancount/beancount/pulls/835","html_url":"https://github.com/beancount/beancount/pull/835","diff_url":"https://github.com/beancount/beancount/pull/835.diff","patch_url":"https://github.com/beancount/beancount/pull/835.patch","merged_at":"2024-07-10T02:15:44Z"},"body":"The check op was removing balance entries in the case where the account does not exist. I think it is better to keep the entry and it to fail validation, this makes it more consistent with other entry types.\r\n\r\nBack porting #834 to v2.","closed_by":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/beancount/beancount/issues/835/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beancount/issues/835/timeline","performed_via_github_app":null,"state_reason":null},{"url":"https://api.github.com/repos/beancount/beancount/issues/834","repository_url":"https://api.github.com/repos/beancount/beancount","labels_url":"https://api.github.com/repos/beancount/beancount/issues/834/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beancount/issues/834/comments","events_url":"https://api.github.com/repos/beancount/beancount/issues/834/events","html_url":"https://github.com/beancount/beancount/pull/834","id":2393096190,"node_id":"PR_kwDOD91Bd850kHUW","number":834,"title":"Bug fix: keep entries when doing beancount.ops.balance check","user":{"login":"derpferd","id":1833709,"node_id":"MDQ6VXNlcjE4MzM3MDk=","avatar_url":"https://avatars.githubusercontent.com/u/1833709?v=4","gravatar_id":"","url":"https://api.github.com/users/derpferd","html_url":"https://github.com/derpferd","followers_url":"https://api.github.com/users/derpferd/followers","following_url":"https://api.github.com/users/derpferd/following{/other_user}","gists_url":"https://api.github.com/users/derpferd/gists{/gist_id}","starred_url":"https://api.github.com/users/derpferd/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/derpferd/subscriptions","organizations_url":"https://api.github.com/users/derpferd/orgs","repos_url":"https://api.github.com/users/derpferd/repos","events_url":"https://api.github.com/users/derpferd/events{/privacy}","received_events_url":"https://api.github.com/users/derpferd/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":1,"created_at":"2024-07-05T20:12:08Z","updated_at":"2024-07-22T03:38:25Z","closed_at":"2024-07-22T03:38:25Z","author_association":"CONTRIBUTOR","type":null,"active_lock_reason":null,"draft":false,"pull_request":{"url":"https://api.github.com/repos/beancount/beancount/pulls/834","html_url":"https://github.com/beancount/beancount/pull/834","diff_url":"https://github.com/beancount/beancount/pull/834.diff","patch_url":"https://github.com/beancount/beancount/pull/834.patch","merged_at":"2024-07-22T03:38:25Z"},"body":"The check op was removing balance entries in the case where the account does not exist. I think it is better to keep the entry and it to fail validation, this makes it more consistent with other entry types.","closed_by":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/beancount/beancount/issues/834/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beancount/issues/834/timeline","performed_via_github_app":null,"state_reason":null},{"url":"https://api.github.com/repos/beancount/beancount/issues/833","repository_url":"https://api.github.com/repos/beancount/beancount","labels_url":"https://api.github.com/repos/beancount/beancount/issues/833/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beancount/issues/833/comments","events_url":"https://api.github.com/repos/beancount/beancount/issues/833/events","html_url":"https://github.com/beancount/beancount/pull/833","id":2382455483,"node_id":"PR_kwDOD91Bd85z_zMt","number":833,"title":"cleanup config for old python version","user":{"login":"trim21","id":13553903,"node_id":"MDQ6VXNlcjEzNTUzOTAz","avatar_url":"https://avatars.githubusercontent.com/u/13553903?v=4","gravatar_id":"","url":"https://api.github.com/users/trim21","html_url":"https://github.com/trim21","followers_url":"https://api.github.com/users/trim21/followers","following_url":"https://api.github.com/users/trim21/following{/other_user}","gists_url":"https://api.github.com/users/trim21/gists{/gist_id}","starred_url":"https://api.github.com/users/trim21/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/trim21/subscriptions","organizations_url":"https://api.github.com/users/trim21/orgs","repos_url":"https://api.github.com/users/trim21/repos","events_url":"https://api.github.com/users/trim21/events{/privacy}","received_events_url":"https://api.github.com/users/trim21/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":0,"created_at":"2024-06-30T21:35:13Z","updated_at":"2024-12-04T14:47:07Z","closed_at":"2024-07-01T01:53:30Z","author_association":"CONTRIBUTOR","type":null,"active_lock_reason":null,"draft":false,"pull_request":{"url":"https://api.github.com/repos/beancount/beancount/pulls/833","html_url":"https://github.com/beancount/beancount/pull/833","diff_url":"https://github.com/beancount/beancount/pull/833.diff","patch_url":"https://github.com/beancount/beancount/pull/833.patch","merged_at":"2024-07-01T01:53:30Z"},"body":"remove py36 and py37 from supported version since they have reached EOL and we don't build wheel for them\r\n\r\nThere is a lint error but I don't think it's caused be this PR\r\n\r\n```text\r\nruff check .\r\nexperiments/docs_rst/convert_docs.py:260:13: PLR1704 Redefining argument with the local name `root`\r\n    |\r\n258 | def FindDocxFiles(root: str):\r\nmake: *** [Makefile:218: lint] Error 1\r\n259 |     if path.isdir(root):\r\n260 |         for root, _, files in os.walk(root):\r\n    |             ^^^^ PLR[17](https://github.com/beancount/beancount/actions/runs/9735120460/job/26863956850?pr=833#step:5:18)04\r\n261 |             for filename in files:\r\n262 |                 if re.search(r\".docx$\", filename):\r\n    |\r\n\r\nFound 1 error.\r\nError: Process completed with exit code 2.\r\n```","closed_by":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/beancount/beancount/issues/833/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beancount/issues/833/timeline","performed_via_github_app":null,"state_reason":null},{"url":"https://api.github.com/repos/beancount/beancount/issues/832","repository_url":"https://api.github.com/repos/beancount/beancount","labels_url":"https://api.github.com/repos/beancount/beancount/issues/832/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beancount/issues/832/comments","events_url":"https://api.github.com/repos/beancount/beancount/issues/832/events","html_url":"https://github.com/beancount/beancount/issues/832","id":2375562146,"node_id":"I_kwDOD91Bd86NmDOi","number":832,"title":"Regarding the installation issue of bean-report","user":{"login":"JmPotato","id":1446531,"node_id":"MDQ6VXNlcjE0NDY1MzE=","avatar_url":"https://avatars.githubusercontent.com/u/1446531?v=4","gravatar_id":"","url":"https://api.github.com/users/JmPotato","html_url":"https://github.com/JmPotato","followers_url":"https://api.github.com/users/JmPotato/followers","following_url":"https://api.github.com/users/JmPotato/following{/other_user}","gists_url":"https://api.github.com/users/JmPotato/gists{/gist_id}","starred_url":"https://api.github.com/users/JmPotato/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/JmPotato/subscriptions","organizations_url":"https://api.github.com/users/JmPotato/orgs","repos_url":"https://api.github.com/users/JmPotato/repos","events_url":"https://api.github.com/users/JmPotato/events{/privacy}","received_events_url":"https://api.github.com/users/JmPotato/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":4,"created_at":"2024-06-26T14:44:50Z","updated_at":"2024-07-02T01:21:15Z","closed_at":"2024-06-30T09:33:18Z","author_association":"NONE","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"After completing the installation using pip with the latest 3.0 version, the current command line tool seems only to include the following tools:\r\n\r\n![](https://github.com/beancount/beancount/assets/1446531/56b27826-b8f7-49fd-acfd-c657c25390cb)\r\n\r\nAfter searching and digging into the code, I found no installation method for `bean-report`. Did I make a mistake somewhere? If I want to use `bean-report`, how should I install it if it's not included in the beancount installation?","closed_by":{"login":"JmPotato","id":1446531,"node_id":"MDQ6VXNlcjE0NDY1MzE=","avatar_url":"https://avatars.githubusercontent.com/u/1446531?v=4","gravatar_id":"","url":"https://api.github.com/users/JmPotato","html_url":"https://github.com/JmPotato","followers_url":"https://api.github.com/users/JmPotato/followers","following_url":"https://api.github.com/users/JmPotato/following{/other_user}","gists_url":"https://api.github.com/users/JmPotato/gists{/gist_id}","starred_url":"https://api.github.com/users/JmPotato/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/JmPotato/subscriptions","organizations_url":"https://api.github.com/users/JmPotato/orgs","repos_url":"https://api.github.com/users/JmPotato/repos","events_url":"https://api.github.com/users/JmPotato/events{/privacy}","received_events_url":"https://api.github.com/users/JmPotato/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/beancount/beancount/issues/832/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beancount/issues/832/timeline","performed_via_github_app":null,"state_reason":"completed"},{"url":"https://api.github.com/repos/beancount/beancount/issues/830","repository_url":"https://api.github.com/repos/beancount/beancount","labels_url":"https://api.github.com/repos/beancount/beancount/issues/830/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beancount/issues/830/comments","events_url":"https://api.github.com/repos/beancount/beancount/issues/830/events","html_url":"https://github.com/beancount/beancount/issues/830","id":2353597528,"node_id":"I_kwDOD91Bd86MSQxY","number":830,"title":"Scam website or real one?","user":{"login":"codeurimpulsif","id":13784704,"node_id":"MDQ6VXNlcjEzNzg0NzA0","avatar_url":"https://avatars.githubusercontent.com/u/13784704?v=4","gravatar_id":"","url":"https://api.github.com/users/codeurimpulsif","html_url":"https://github.com/codeurimpulsif","followers_url":"https://api.github.com/users/codeurimpulsif/followers","following_url":"https://api.github.com/users/codeurimpulsif/following{/other_user}","gists_url":"https://api.github.com/users/codeurimpulsif/gists{/gist_id}","starred_url":"https://api.github.com/users/codeurimpulsif/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codeurimpulsif/subscriptions","organizations_url":"https://api.github.com/users/codeurimpulsif/orgs","repos_url":"https://api.github.com/users/codeurimpulsif/repos","events_url":"https://api.github.com/users/codeurimpulsif/events{/privacy}","received_events_url":"https://api.github.com/users/codeurimpulsif/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":1,"created_at":"2024-06-14T15:18:57Z","updated_at":"2024-06-14T15:31:07Z","closed_at":"2024-06-14T15:31:07Z","author_association":"NONE","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"I just found this website: https://beancount.io/ related to this Github account: `stargately`.\r\n\r\nIt really look like a fintech scam, is it one of your website?","closed_by":null,"reactions":{"url":"https://api.github.com/repos/beancount/beancount/issues/830/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beancount/issues/830/timeline","performed_via_github_app":null,"state_reason":"completed"},{"url":"https://api.github.com/repos/beancount/beancount/issues/829","repository_url":"https://api.github.com/repos/beancount/beancount","labels_url":"https://api.github.com/repos/beancount/beancount/issues/829/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beancount/issues/829/comments","events_url":"https://api.github.com/repos/beancount/beancount/issues/829/events","html_url":"https://github.com/beancount/beancount/issues/829","id":2343986835,"node_id":"I_kwDOD91Bd86LtmaT","number":829,"title":"Next Version / Rewrite","user":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"open","locked":false,"assignee":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"assignees":[{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false}],"milestone":null,"comments":67,"created_at":"2024-06-10T13:51:55Z","updated_at":"2026-02-06T18:58:01Z","closed_at":null,"author_association":"MEMBER","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"Pinned issue for next rewrite.\r\nDesign documents (very detailed):\r\nhttps://docs.google.com/document/d/1qPdNXaz5zuDQ8M9uoZFyyFis7hA0G55BEfhWhrVBsfc/\r\nhttps://docs.google.com/document/d/1H0UDD1cKenraIMe40PbdMgnqJdeqI6yKv0og51mXk-0/\r\n","closed_by":null,"reactions":{"url":"https://api.github.com/repos/beancount/beancount/issues/829/reactions","total_count":17,"+1":1,"-1":0,"laugh":0,"hooray":16,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beancount/issues/829/timeline","performed_via_github_app":null,"state_reason":null},{"url":"https://api.github.com/repos/beancount/beancount/issues/828","repository_url":"https://api.github.com/repos/beancount/beancount","labels_url":"https://api.github.com/repos/beancount/beancount/issues/828/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beancount/issues/828/comments","events_url":"https://api.github.com/repos/beancount/beancount/issues/828/events","html_url":"https://github.com/beancount/beancount/issues/828","id":2316898748,"node_id":"I_kwDOD91Bd86KGRG8","number":828,"title":"Incorrect sum of postings with different precision?","user":{"login":"messo","id":316335,"node_id":"MDQ6VXNlcjMxNjMzNQ==","avatar_url":"https://avatars.githubusercontent.com/u/316335?v=4","gravatar_id":"","url":"https://api.github.com/users/messo","html_url":"https://github.com/messo","followers_url":"https://api.github.com/users/messo/followers","following_url":"https://api.github.com/users/messo/following{/other_user}","gists_url":"https://api.github.com/users/messo/gists{/gist_id}","starred_url":"https://api.github.com/users/messo/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/messo/subscriptions","organizations_url":"https://api.github.com/users/messo/orgs","repos_url":"https://api.github.com/users/messo/repos","events_url":"https://api.github.com/users/messo/events{/privacy}","received_events_url":"https://api.github.com/users/messo/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"open","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":10,"created_at":"2024-05-25T10:08:41Z","updated_at":"2025-05-07T17:07:09Z","closed_at":null,"author_association":"NONE","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"Test file:\r\n\r\n```\r\n2024-01-01 open Liabilities:Test\r\n2024-01-01 open Expenses:A\r\n2024-01-01 open Expenses:B\r\n\r\n2024-04-01 * \"Test\"\r\n  Liabilities:Test\r\n  Expenses:A                           2.0 USD\r\n  Expenses:B                          4.35 USD\r\n\r\n2024-04-02 balance Liabilities:Test  -6.35 USD\r\n```\r\n\r\nThis will fail with `bean-check` (2.3.6 (git:d77540c4; 2023-10-05)):\r\n\r\n```\r\ntest.beancount:10:      Balance failed for 'Liabilities:Test': expected -6.35 USD != accumulated -6.4 USD (0.05 too little)\r\n\r\n   2024-04-02 balance Liabilities:Test                                -6.35 USD\r\n```\r\n\r\nChanging 2.0 to 2.00 will make the balance statement to pass, but I believe this is a bug. 4.35 should not be rounded up to 4.4, just because I have 2.0 instead of 2.00 ?","closed_by":null,"reactions":{"url":"https://api.github.com/repos/beancount/beancount/issues/828/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beancount/issues/828/timeline","performed_via_github_app":null,"state_reason":null},{"url":"https://api.github.com/repos/beancount/beancount/issues/827","repository_url":"https://api.github.com/repos/beancount/beancount","labels_url":"https://api.github.com/repos/beancount/beancount/issues/827/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beancount/issues/827/comments","events_url":"https://api.github.com/repos/beancount/beancount/issues/827/events","html_url":"https://github.com/beancount/beancount/issues/827","id":2316197192,"node_id":"I_kwDOD91Bd86KDl1I","number":827,"title":"charts","user":{"login":"Dano913","id":62554610,"node_id":"MDQ6VXNlcjYyNTU0NjEw","avatar_url":"https://avatars.githubusercontent.com/u/62554610?v=4","gravatar_id":"","url":"https://api.github.com/users/Dano913","html_url":"https://github.com/Dano913","followers_url":"https://api.github.com/users/Dano913/followers","following_url":"https://api.github.com/users/Dano913/following{/other_user}","gists_url":"https://api.github.com/users/Dano913/gists{/gist_id}","starred_url":"https://api.github.com/users/Dano913/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Dano913/subscriptions","organizations_url":"https://api.github.com/users/Dano913/orgs","repos_url":"https://api.github.com/users/Dano913/repos","events_url":"https://api.github.com/users/Dano913/events{/privacy}","received_events_url":"https://api.github.com/users/Dano913/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":0,"created_at":"2024-05-24T20:19:16Z","updated_at":"2024-05-26T12:40:26Z","closed_at":"2024-05-26T12:40:26Z","author_association":"NONE","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":null,"closed_by":{"login":"Dano913","id":62554610,"node_id":"MDQ6VXNlcjYyNTU0NjEw","avatar_url":"https://avatars.githubusercontent.com/u/62554610?v=4","gravatar_id":"","url":"https://api.github.com/users/Dano913","html_url":"https://github.com/Dano913","followers_url":"https://api.github.com/users/Dano913/followers","following_url":"https://api.github.com/users/Dano913/following{/other_user}","gists_url":"https://api.github.com/users/Dano913/gists{/gist_id}","starred_url":"https://api.github.com/users/Dano913/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Dano913/subscriptions","organizations_url":"https://api.github.com/users/Dano913/orgs","repos_url":"https://api.github.com/users/Dano913/repos","events_url":"https://api.github.com/users/Dano913/events{/privacy}","received_events_url":"https://api.github.com/users/Dano913/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/beancount/beancount/issues/827/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beancount/issues/827/timeline","performed_via_github_app":null,"state_reason":"completed"},{"url":"https://api.github.com/repos/beancount/beancount/issues/826","repository_url":"https://api.github.com/repos/beancount/beancount","labels_url":"https://api.github.com/repos/beancount/beancount/issues/826/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beancount/issues/826/comments","events_url":"https://api.github.com/repos/beancount/beancount/issues/826/events","html_url":"https://github.com/beancount/beancount/pull/826","id":2311859743,"node_id":"PR_kwDOD91Bd85wRmlW","number":826,"title":"Make Transaction tags and links' type FrozenSet","user":{"login":"aaronj1335","id":787066,"node_id":"MDQ6VXNlcjc4NzA2Ng==","avatar_url":"https://avatars.githubusercontent.com/u/787066?v=4","gravatar_id":"","url":"https://api.github.com/users/aaronj1335","html_url":"https://github.com/aaronj1335","followers_url":"https://api.github.com/users/aaronj1335/followers","following_url":"https://api.github.com/users/aaronj1335/following{/other_user}","gists_url":"https://api.github.com/users/aaronj1335/gists{/gist_id}","starred_url":"https://api.github.com/users/aaronj1335/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/aaronj1335/subscriptions","organizations_url":"https://api.github.com/users/aaronj1335/orgs","repos_url":"https://api.github.com/users/aaronj1335/repos","events_url":"https://api.github.com/users/aaronj1335/events{/privacy}","received_events_url":"https://api.github.com/users/aaronj1335/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":0,"created_at":"2024-05-23T03:27:58Z","updated_at":"2024-05-28T00:53:30Z","closed_at":"2024-05-28T00:53:29Z","author_association":"CONTRIBUTOR","type":null,"active_lock_reason":null,"draft":false,"pull_request":{"url":"https://api.github.com/repos/beancount/beancount/pulls/826","html_url":"https://github.com/beancount/beancount/pull/826","diff_url":"https://github.com/beancount/beancount/pull/826.diff","patch_url":"https://github.com/beancount/beancount/pull/826.patch","merged_at":"2024-05-28T00:53:29Z"},"body":null,"closed_by":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/beancount/beancount/issues/826/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beancount/issues/826/timeline","performed_via_github_app":null,"state_reason":null},{"url":"https://api.github.com/repos/beancount/beancount/issues/825","repository_url":"https://api.github.com/repos/beancount/beancount","labels_url":"https://api.github.com/repos/beancount/beancount/issues/825/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beancount/issues/825/comments","events_url":"https://api.github.com/repos/beancount/beancount/issues/825/events","html_url":"https://github.com/beancount/beancount/pull/825","id":2308072819,"node_id":"PR_kwDOD91Bd85wEkzk","number":825,"title":"Change Posting.units type to Optional[Amount]","user":{"login":"aaronj1335","id":787066,"node_id":"MDQ6VXNlcjc4NzA2Ng==","avatar_url":"https://avatars.githubusercontent.com/u/787066?v=4","gravatar_id":"","url":"https://api.github.com/users/aaronj1335","html_url":"https://github.com/aaronj1335","followers_url":"https://api.github.com/users/aaronj1335/followers","following_url":"https://api.github.com/users/aaronj1335/following{/other_user}","gists_url":"https://api.github.com/users/aaronj1335/gists{/gist_id}","starred_url":"https://api.github.com/users/aaronj1335/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/aaronj1335/subscriptions","organizations_url":"https://api.github.com/users/aaronj1335/orgs","repos_url":"https://api.github.com/users/aaronj1335/repos","events_url":"https://api.github.com/users/aaronj1335/events{/privacy}","received_events_url":"https://api.github.com/users/aaronj1335/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":0,"created_at":"2024-05-21T11:29:56Z","updated_at":"2024-05-28T00:53:50Z","closed_at":"2024-05-28T00:53:50Z","author_association":"CONTRIBUTOR","type":null,"active_lock_reason":null,"draft":false,"pull_request":{"url":"https://api.github.com/repos/beancount/beancount/pulls/825","html_url":"https://github.com/beancount/beancount/pull/825","diff_url":"https://github.com/beancount/beancount/pull/825.diff","patch_url":"https://github.com/beancount/beancount/pull/825.patch","merged_at":"2024-05-28T00:53:50Z"},"body":"See [mailing list discussion](https://groups.google.com/g/beancount/c/PkeAxHwN-8U/m/Z3AY2R3XCAAJ?utm_medium=email&utm_source=footer) for background.\r\n\r\nI tried running tests, but bazel fails link something from protobuf on my Mac M1 🤷 so only a handful pass.","closed_by":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/beancount/beancount/issues/825/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beancount/issues/825/timeline","performed_via_github_app":null,"state_reason":null},{"url":"https://api.github.com/repos/beancount/beancount/issues/824","repository_url":"https://api.github.com/repos/beancount/beancount","labels_url":"https://api.github.com/repos/beancount/beancount/issues/824/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beancount/issues/824/comments","events_url":"https://api.github.com/repos/beancount/beancount/issues/824/events","html_url":"https://github.com/beancount/beancount/pull/824","id":2307424140,"node_id":"PR_kwDOD91Bd85wCV_c","number":824,"title":"Bump requests from 2.31.0 to 2.32.0 in /requirements","user":{"login":"dependabot[bot]","id":49699333,"node_id":"MDM6Qm90NDk2OTkzMzM=","avatar_url":"https://avatars.githubusercontent.com/in/29110?v=4","gravatar_id":"","url":"https://api.github.com/users/dependabot%5Bbot%5D","html_url":"https://github.com/apps/dependabot","followers_url":"https://api.github.com/users/dependabot%5Bbot%5D/followers","following_url":"https://api.github.com/users/dependabot%5Bbot%5D/following{/other_user}","gists_url":"https://api.github.com/users/dependabot%5Bbot%5D/gists{/gist_id}","starred_url":"https://api.github.com/users/dependabot%5Bbot%5D/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dependabot%5Bbot%5D/subscriptions","organizations_url":"https://api.github.com/users/dependabot%5Bbot%5D/orgs","repos_url":"https://api.github.com/users/dependabot%5Bbot%5D/repos","events_url":"https://api.github.com/users/dependabot%5Bbot%5D/events{/privacy}","received_events_url":"https://api.github.com/users/dependabot%5Bbot%5D/received_events","type":"Bot","user_view_type":"public","site_admin":false},"labels":[{"id":6035848709,"node_id":"LA_kwDOD91Bd88AAAABZ8O-BQ","url":"https://api.github.com/repos/beancount/beancount/labels/dependencies","name":"dependencies","color":"0366d6","default":false,"description":"Pull requests that update a dependency file"}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":0,"created_at":"2024-05-21T06:25:48Z","updated_at":"2024-05-28T00:54:34Z","closed_at":"2024-05-28T00:54:27Z","author_association":"CONTRIBUTOR","type":null,"active_lock_reason":null,"draft":false,"pull_request":{"url":"https://api.github.com/repos/beancount/beancount/pulls/824","html_url":"https://github.com/beancount/beancount/pull/824","diff_url":"https://github.com/beancount/beancount/pull/824.diff","patch_url":"https://github.com/beancount/beancount/pull/824.patch","merged_at":"2024-05-28T00:54:27Z"},"body":"Bumps [requests](https://github.com/psf/requests) from 2.31.0 to 2.32.0.\n<details>\n<summary>Release notes</summary>\n<p><em>Sourced from <a href=\"https://github.com/psf/requests/releases\">requests's releases</a>.</em></p>\n<blockquote>\n<h2>v2.32.0</h2>\n<h2>2.32.0 (2024-05-20)</h2>\n<h2>🐍 PYCON US 2024 EDITION 🐍</h2>\n<p><strong>Security</strong></p>\n<ul>\n<li>Fixed an issue where setting <code>verify=False</code> on the first request from a\nSession will cause subsequent requests to the <em>same origin</em> to also ignore\ncert verification, regardless of the value of <code>verify</code>.\n(<a href=\"https://github.com/psf/requests/security/advisories/GHSA-9wx4-h78v-vm56\">https://github.com/psf/requests/security/advisories/GHSA-9wx4-h78v-vm56</a>)</li>\n</ul>\n<p><strong>Improvements</strong></p>\n<ul>\n<li><code>verify=True</code> now reuses a global SSLContext which should improve\nrequest time variance between first and subsequent requests. It should\nalso minimize certificate load time on Windows systems when using a Python\nversion built with OpenSSL 3.x. (<a href=\"https://redirect.github.com/psf/requests/issues/6667\">#6667</a>)</li>\n<li>Requests now supports optional use of character detection\n(<code>chardet</code> or <code>charset_normalizer</code>) when repackaged or vendored.\nThis enables <code>pip</code> and other projects to minimize their vendoring\nsurface area. The <code>Response.text()</code> and <code>apparent_encoding</code> APIs\nwill default to <code>utf-8</code> if neither library is present. (<a href=\"https://redirect.github.com/psf/requests/issues/6702\">#6702</a>)</li>\n</ul>\n<p><strong>Bugfixes</strong></p>\n<ul>\n<li>Fixed bug in length detection where emoji length was incorrectly\ncalculated in the request content-length. (<a href=\"https://redirect.github.com/psf/requests/issues/6589\">#6589</a>)</li>\n<li>Fixed deserialization bug in JSONDecodeError. (<a href=\"https://redirect.github.com/psf/requests/issues/6629\">#6629</a>)</li>\n<li>Fixed bug where an extra leading <code>/</code> (path separator) could lead\nurllib3 to unnecessarily reparse the request URI. (<a href=\"https://redirect.github.com/psf/requests/issues/6644\">#6644</a>)</li>\n</ul>\n<p><strong>Deprecations</strong></p>\n<ul>\n<li>Requests has officially added support for CPython 3.12 (<a href=\"https://redirect.github.com/psf/requests/issues/6503\">#6503</a>)</li>\n<li>Requests has officially added support for PyPy 3.9 and 3.10 (<a href=\"https://redirect.github.com/psf/requests/issues/6641\">#6641</a>)</li>\n<li>Requests has officially dropped support for CPython 3.7 (<a href=\"https://redirect.github.com/psf/requests/issues/6642\">#6642</a>)</li>\n<li>Requests has officially dropped support for PyPy 3.7 and 3.8 (<a href=\"https://redirect.github.com/psf/requests/issues/6641\">#6641</a>)</li>\n</ul>\n<p><strong>Documentation</strong></p>\n<ul>\n<li>Various typo fixes and doc improvements.</li>\n</ul>\n<p><strong>Packaging</strong></p>\n<ul>\n<li>Requests has started adopting some modern packaging practices.\nThe source files for the projects (formerly <code>requests</code>) is now located\nin <code>src/requests</code> in the Requests sdist. (<a href=\"https://redirect.github.com/psf/requests/issues/6506\">#6506</a>)</li>\n<li>Starting in Requests 2.33.0, Requests will migrate to a PEP 517 build system\nusing <code>hatchling</code>. This should not impact the average user, but extremely old\nversions of packaging utilities may have issues with the new packaging format.</li>\n</ul>\n<h2>New Contributors</h2>\n<ul>\n<li><a href=\"https://github.com/matthewarmand\"><code>@​matthewarmand</code></a> made their first contribution in <a href=\"https://redirect.github.com/psf/requests/pull/6258\">psf/requests#6258</a></li>\n<li><a href=\"https://github.com/cpzt\"><code>@​cpzt</code></a> made their first contribution in <a href=\"https://redirect.github.com/psf/requests/pull/6456\">psf/requests#6456</a></li>\n</ul>\n<!-- raw HTML omitted -->\n</blockquote>\n<p>... (truncated)</p>\n</details>\n<details>\n<summary>Changelog</summary>\n<p><em>Sourced from <a href=\"https://github.com/psf/requests/blob/main/HISTORY.md\">requests's changelog</a>.</em></p>\n<blockquote>\n<h2>2.32.0 (2024-05-20)</h2>\n<p><strong>Security</strong></p>\n<ul>\n<li>Fixed an issue where setting <code>verify=False</code> on the first request from a\nSession will cause subsequent requests to the <em>same origin</em> to also ignore\ncert verification, regardless of the value of <code>verify</code>.\n(<a href=\"https://github.com/psf/requests/security/advisories/GHSA-9wx4-h78v-vm56\">https://github.com/psf/requests/security/advisories/GHSA-9wx4-h78v-vm56</a>)</li>\n</ul>\n<p><strong>Improvements</strong></p>\n<ul>\n<li><code>verify=True</code> now reuses a global SSLContext which should improve\nrequest time variance between first and subsequent requests. It should\nalso minimize certificate load time on Windows systems when using a Python\nversion built with OpenSSL 3.x. (<a href=\"https://redirect.github.com/psf/requests/issues/6667\">#6667</a>)</li>\n<li>Requests now supports optional use of character detection\n(<code>chardet</code> or <code>charset_normalizer</code>) when repackaged or vendored.\nThis enables <code>pip</code> and other projects to minimize their vendoring\nsurface area. The <code>Response.text()</code> and <code>apparent_encoding</code> APIs\nwill default to <code>utf-8</code> if neither library is present. (<a href=\"https://redirect.github.com/psf/requests/issues/6702\">#6702</a>)</li>\n</ul>\n<p><strong>Bugfixes</strong></p>\n<ul>\n<li>Fixed bug in length detection where emoji length was incorrectly\ncalculated in the request content-length. (<a href=\"https://redirect.github.com/psf/requests/issues/6589\">#6589</a>)</li>\n<li>Fixed deserialization bug in JSONDecodeError. (<a href=\"https://redirect.github.com/psf/requests/issues/6629\">#6629</a>)</li>\n<li>Fixed bug where an extra leading <code>/</code> (path separator) could lead\nurllib3 to unnecessarily reparse the request URI. (<a href=\"https://redirect.github.com/psf/requests/issues/6644\">#6644</a>)</li>\n</ul>\n<p><strong>Deprecations</strong></p>\n<ul>\n<li>Requests has officially added support for CPython 3.12 (<a href=\"https://redirect.github.com/psf/requests/issues/6503\">#6503</a>)</li>\n<li>Requests has officially added support for PyPy 3.9 and 3.10 (<a href=\"https://redirect.github.com/psf/requests/issues/6641\">#6641</a>)</li>\n<li>Requests has officially dropped support for CPython 3.7 (<a href=\"https://redirect.github.com/psf/requests/issues/6642\">#6642</a>)</li>\n<li>Requests has officially dropped support for PyPy 3.7 and 3.8 (<a href=\"https://redirect.github.com/psf/requests/issues/6641\">#6641</a>)</li>\n</ul>\n<p><strong>Documentation</strong></p>\n<ul>\n<li>Various typo fixes and doc improvements.</li>\n</ul>\n<p><strong>Packaging</strong></p>\n<ul>\n<li>Requests has started adopting some modern packaging practices.\nThe source files for the projects (formerly <code>requests</code>) is now located\nin <code>src/requests</code> in the Requests sdist. (<a href=\"https://redirect.github.com/psf/requests/issues/6506\">#6506</a>)</li>\n<li>Starting in Requests 2.33.0, Requests will migrate to a PEP 517 build system\nusing <code>hatchling</code>. This should not impact the average user, but extremely old\nversions of packaging utilities may have issues with the new packaging format.</li>\n</ul>\n</blockquote>\n</details>\n<details>\n<summary>Commits</summary>\n<ul>\n<li><a href=\"https://github.com/psf/requests/commit/d6ebc4a2f1f68b7e355fb7e4dd5ffc0845547f9f\"><code>d6ebc4a</code></a> v2.32.0</li>\n<li><a href=\"https://github.com/psf/requests/commit/9a40d1277807f0a4f26c9a37eea8ec90faa8aadc\"><code>9a40d12</code></a> Avoid reloading root certificates to improve concurrent performance (<a href=\"https://redirect.github.com/psf/requests/issues/6667\">#6667</a>)</li>\n<li><a href=\"https://github.com/psf/requests/commit/0c030f78d24f29a459dbf39b28b4cc765e2153d7\"><code>0c030f7</code></a> Merge pull request <a href=\"https://redirect.github.com/psf/requests/issues/6702\">#6702</a> from nateprewitt/no_char_detection</li>\n<li><a href=\"https://github.com/psf/requests/commit/555b870eb19d497ddb67042645420083ec8efb02\"><code>555b870</code></a> Allow character detection dependencies to be optional in post-packaging steps</li>\n<li><a href=\"https://github.com/psf/requests/commit/d6dded3f00afcf56a7e866cb0732799045301eb0\"><code>d6dded3</code></a> Merge pull request <a href=\"https://redirect.github.com/psf/requests/issues/6700\">#6700</a> from franekmagiera/update-redirect-to-invalid-uri-test</li>\n<li><a href=\"https://github.com/psf/requests/commit/bf24b7d8d17da34be720c19e5978b2d3bf94a53b\"><code>bf24b7d</code></a> Use an invalid URI that will not cause httpbin to throw 500</li>\n<li><a href=\"https://github.com/psf/requests/commit/2d5f54779ad174035c5437b3b3c1146b0eaf60fe\"><code>2d5f547</code></a> Pin 3.8 and 3.9 runners back to macos-13 (<a href=\"https://redirect.github.com/psf/requests/issues/6688\">#6688</a>)</li>\n<li><a href=\"https://github.com/psf/requests/commit/f1bb07d39b74d6444e333879f8b8a3d9dd4d2311\"><code>f1bb07d</code></a> Merge pull request <a href=\"https://redirect.github.com/psf/requests/issues/6687\">#6687</a> from psf/dependabot/github_actions/github/codeql-act...</li>\n<li><a href=\"https://github.com/psf/requests/commit/60047ade64b0b882cbc94e047198818ab580911e\"><code>60047ad</code></a> Bump github/codeql-action from 3.24.0 to 3.25.0</li>\n<li><a href=\"https://github.com/psf/requests/commit/31ebb8102c00f8cf8b396a6356743cca4362e07b\"><code>31ebb81</code></a> Merge pull request <a href=\"https://redirect.github.com/psf/requests/issues/6682\">#6682</a> from frenzymadness/pytest8</li>\n<li>Additional commits viewable in <a href=\"https://github.com/psf/requests/compare/v2.31.0...v2.32.0\">compare view</a></li>\n</ul>\n</details>\n<br />\n\n\n[![Dependabot compatibility score](https://dependabot-badges.githubapp.com/badges/compatibility_score?dependency-name=requests&package-manager=pip&previous-version=2.31.0&new-version=2.32.0)](https://docs.github.com/en/github/managing-security-vulnerabilities/about-dependabot-security-updates#about-compatibility-scores)\n\nDependabot will resolve any conflicts with this PR as long as you don't alter it yourself. You can also trigger a rebase manually by commenting `@dependabot rebase`.\n\n[//]: # (dependabot-automerge-start)\n[//]: # (dependabot-automerge-end)\n\n---\n\n<details>\n<summary>Dependabot commands and options</summary>\n<br />\n\nYou can trigger Dependabot actions by commenting on this PR:\n- `@dependabot rebase` will rebase this PR\n- `@dependabot recreate` will recreate this PR, overwriting any edits that have been made to it\n- `@dependabot merge` will merge this PR after your CI passes on it\n- `@dependabot squash and merge` will squash and merge this PR after your CI passes on it\n- `@dependabot cancel merge` will cancel a previously requested merge and block automerging\n- `@dependabot reopen` will reopen this PR if it is closed\n- `@dependabot close` will close this PR and stop Dependabot recreating it. You can achieve the same result by closing it manually\n- `@dependabot show <dependency name> ignore conditions` will show all of the ignore conditions of the specified dependency\n- `@dependabot ignore this major version` will close this PR and stop Dependabot creating any more for this major version (unless you reopen the PR or upgrade to it yourself)\n- `@dependabot ignore this minor version` will close this PR and stop Dependabot creating any more for this minor version (unless you reopen the PR or upgrade to it yourself)\n- `@dependabot ignore this dependency` will close this PR and stop Dependabot creating any more for this dependency (unless you reopen the PR or upgrade to it yourself)\nYou can disable automated security fix PRs for this repo from the [Security Alerts page](https://github.com/beancount/beancount/network/alerts).\n\n</details>","closed_by":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/beancount/beancount/issues/824/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beancount/issues/824/timeline","performed_via_github_app":null,"state_reason":null},{"url":"https://api.github.com/repos/beancount/beancount/issues/823","repository_url":"https://api.github.com/repos/beancount/beancount","labels_url":"https://api.github.com/repos/beancount/beancount/issues/823/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beancount/issues/823/comments","events_url":"https://api.github.com/repos/beancount/beancount/issues/823/events","html_url":"https://github.com/beancount/beancount/issues/823","id":2291542965,"node_id":"I_kwDOD91Bd86Iliu1","number":823,"title":"Feature request: Include Week and yearly Quarter number in BQL","user":{"login":"simonhughxyz","id":37674867,"node_id":"MDQ6VXNlcjM3Njc0ODY3","avatar_url":"https://avatars.githubusercontent.com/u/37674867?v=4","gravatar_id":"","url":"https://api.github.com/users/simonhughxyz","html_url":"https://github.com/simonhughxyz","followers_url":"https://api.github.com/users/simonhughxyz/followers","following_url":"https://api.github.com/users/simonhughxyz/following{/other_user}","gists_url":"https://api.github.com/users/simonhughxyz/gists{/gist_id}","starred_url":"https://api.github.com/users/simonhughxyz/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/simonhughxyz/subscriptions","organizations_url":"https://api.github.com/users/simonhughxyz/orgs","repos_url":"https://api.github.com/users/simonhughxyz/repos","events_url":"https://api.github.com/users/simonhughxyz/events{/privacy}","received_events_url":"https://api.github.com/users/simonhughxyz/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":2,"created_at":"2024-05-12T23:15:32Z","updated_at":"2024-06-21T08:16:14Z","closed_at":"2024-06-21T08:16:14Z","author_association":"NONE","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"It would be nice to get, filter and group by week and yearly quarter number in BQL to complement the already existing year and month.\r\n\r\nFor example:\r\nIf I want to find out what my quarterly earnings are I could do\r\n``` sql\r\nSELECT year, quarter, CONVERT(SUM(position), 'USD', date) AS balance\r\nWHERE account ~ 'Income'\r\nGROUP BY year, quarter\r\n```","closed_by":{"login":"dnicolodi","id":987145,"node_id":"MDQ6VXNlcjk4NzE0NQ==","avatar_url":"https://avatars.githubusercontent.com/u/987145?v=4","gravatar_id":"","url":"https://api.github.com/users/dnicolodi","html_url":"https://github.com/dnicolodi","followers_url":"https://api.github.com/users/dnicolodi/followers","following_url":"https://api.github.com/users/dnicolodi/following{/other_user}","gists_url":"https://api.github.com/users/dnicolodi/gists{/gist_id}","starred_url":"https://api.github.com/users/dnicolodi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dnicolodi/subscriptions","organizations_url":"https://api.github.com/users/dnicolodi/orgs","repos_url":"https://api.github.com/users/dnicolodi/repos","events_url":"https://api.github.com/users/dnicolodi/events{/privacy}","received_events_url":"https://api.github.com/users/dnicolodi/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/beancount/beancount/issues/823/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beancount/issues/823/timeline","performed_via_github_app":null,"state_reason":"completed"},{"url":"https://api.github.com/repos/beancount/beancount/issues/822","repository_url":"https://api.github.com/repos/beancount/beancount","labels_url":"https://api.github.com/repos/beancount/beancount/issues/822/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beancount/issues/822/comments","events_url":"https://api.github.com/repos/beancount/beancount/issues/822/events","html_url":"https://github.com/beancount/beancount/issues/822","id":2289265660,"node_id":"I_kwDOD91Bd86Ic2v8","number":822,"title":"Feature request: Tag accounts directly","user":{"login":"simonhughxyz","id":37674867,"node_id":"MDQ6VXNlcjM3Njc0ODY3","avatar_url":"https://avatars.githubusercontent.com/u/37674867?v=4","gravatar_id":"","url":"https://api.github.com/users/simonhughxyz","html_url":"https://github.com/simonhughxyz","followers_url":"https://api.github.com/users/simonhughxyz/followers","following_url":"https://api.github.com/users/simonhughxyz/following{/other_user}","gists_url":"https://api.github.com/users/simonhughxyz/gists{/gist_id}","starred_url":"https://api.github.com/users/simonhughxyz/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/simonhughxyz/subscriptions","organizations_url":"https://api.github.com/users/simonhughxyz/orgs","repos_url":"https://api.github.com/users/simonhughxyz/repos","events_url":"https://api.github.com/users/simonhughxyz/events{/privacy}","received_events_url":"https://api.github.com/users/simonhughxyz/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":3,"created_at":"2024-05-10T08:30:18Z","updated_at":"2024-05-12T23:16:43Z","closed_at":"2024-05-12T23:16:43Z","author_association":"NONE","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"Currently you can tag transactions however it would be nice to be able to tag accounts directly.\r\nMaybe when opening an account `1970-01-01 open Assets:Bank #tag` or with a tag directive `1970-01-01 tag Assets:Bank tag`\r\n\r\nThis would then apply such a tag to all transactions involving said account.\r\n\r\nThis could be useful for beieng able to filter out account, for example: you could filter between short term and long term savings/investments by putting a `#long-term` tag on accounts holding long term investment.","closed_by":{"login":"simonhughxyz","id":37674867,"node_id":"MDQ6VXNlcjM3Njc0ODY3","avatar_url":"https://avatars.githubusercontent.com/u/37674867?v=4","gravatar_id":"","url":"https://api.github.com/users/simonhughxyz","html_url":"https://github.com/simonhughxyz","followers_url":"https://api.github.com/users/simonhughxyz/followers","following_url":"https://api.github.com/users/simonhughxyz/following{/other_user}","gists_url":"https://api.github.com/users/simonhughxyz/gists{/gist_id}","starred_url":"https://api.github.com/users/simonhughxyz/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/simonhughxyz/subscriptions","organizations_url":"https://api.github.com/users/simonhughxyz/orgs","repos_url":"https://api.github.com/users/simonhughxyz/repos","events_url":"https://api.github.com/users/simonhughxyz/events{/privacy}","received_events_url":"https://api.github.com/users/simonhughxyz/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/beancount/beancount/issues/822/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beancount/issues/822/timeline","performed_via_github_app":null,"state_reason":"completed"},{"url":"https://api.github.com/repos/beancount/beancount/issues/821","repository_url":"https://api.github.com/repos/beancount/beancount","labels_url":"https://api.github.com/repos/beancount/beancount/issues/821/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beancount/issues/821/comments","events_url":"https://api.github.com/repos/beancount/beancount/issues/821/events","html_url":"https://github.com/beancount/beancount/pull/821","id":2267772046,"node_id":"PR_kwDOD91Bd85t8ie6","number":821,"title":"Fix typo","user":{"login":"william-davies","id":36384318,"node_id":"MDQ6VXNlcjM2Mzg0MzE4","avatar_url":"https://avatars.githubusercontent.com/u/36384318?v=4","gravatar_id":"","url":"https://api.github.com/users/william-davies","html_url":"https://github.com/william-davies","followers_url":"https://api.github.com/users/william-davies/followers","following_url":"https://api.github.com/users/william-davies/following{/other_user}","gists_url":"https://api.github.com/users/william-davies/gists{/gist_id}","starred_url":"https://api.github.com/users/william-davies/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/william-davies/subscriptions","organizations_url":"https://api.github.com/users/william-davies/orgs","repos_url":"https://api.github.com/users/william-davies/repos","events_url":"https://api.github.com/users/william-davies/events{/privacy}","received_events_url":"https://api.github.com/users/william-davies/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":0,"created_at":"2024-04-28T19:36:23Z","updated_at":"2024-04-28T21:16:11Z","closed_at":"2024-04-28T21:16:10Z","author_association":"CONTRIBUTOR","type":null,"active_lock_reason":null,"draft":false,"pull_request":{"url":"https://api.github.com/repos/beancount/beancount/pulls/821","html_url":"https://github.com/beancount/beancount/pull/821","diff_url":"https://github.com/beancount/beancount/pull/821.diff","patch_url":"https://github.com/beancount/beancount/pull/821.patch","merged_at":"2024-04-28T21:16:10Z"},"body":null,"closed_by":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/beancount/beancount/issues/821/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beancount/issues/821/timeline","performed_via_github_app":null,"state_reason":null},{"url":"https://api.github.com/repos/beancount/beancount/issues/820","repository_url":"https://api.github.com/repos/beancount/beancount","labels_url":"https://api.github.com/repos/beancount/beancount/issues/820/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beancount/issues/820/comments","events_url":"https://api.github.com/repos/beancount/beancount/issues/820/events","html_url":"https://github.com/beancount/beancount/issues/820","id":2243707976,"node_id":"I_kwDOD91Bd86FvERI","number":820,"title":"Booking order with intraday bookings","user":{"login":"korrat","id":22543341,"node_id":"MDQ6VXNlcjIyNTQzMzQx","avatar_url":"https://avatars.githubusercontent.com/u/22543341?v=4","gravatar_id":"","url":"https://api.github.com/users/korrat","html_url":"https://github.com/korrat","followers_url":"https://api.github.com/users/korrat/followers","following_url":"https://api.github.com/users/korrat/following{/other_user}","gists_url":"https://api.github.com/users/korrat/gists{/gist_id}","starred_url":"https://api.github.com/users/korrat/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/korrat/subscriptions","organizations_url":"https://api.github.com/users/korrat/orgs","repos_url":"https://api.github.com/users/korrat/repos","events_url":"https://api.github.com/users/korrat/events{/privacy}","received_events_url":"https://api.github.com/users/korrat/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"open","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":0,"created_at":"2024-04-15T13:35:10Z","updated_at":"2024-04-15T13:35:10Z","closed_at":null,"author_association":"CONTRIBUTOR","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"I'm trying to import transactions from Coinbase. For some assets, there are two internal accounts, the main balance and one staked coins. Due to the account structure, I'm using an intermediate account to book transfers, which causes errors, depending on the ordering of transactions inside the ledger.\r\n\r\nAn example: \r\n```beancount\r\n2023-01-01 open Assets:Coinbase:EUR EUR\r\n2023-01-01 open Assets:Coinbase:ATOM:Staking ATOM \"FIFO\"\r\n2023-01-01 open Assets:Coinbase:ATOM:Wallet ATOM \"FIFO\"\r\n2023-01-01 open Assets:Coinbase:Internal-Transfers ATOM \"FIFO\"\r\n\r\n** Main Account\r\n\r\n2023-01-01 * \"Buy\"\r\n  Assets:Coinbase:ATOM:Wallet 1 ATOM {10 EUR}\r\n  Assets:Coinbase:EUR\r\n\r\n2023-01-05 * \"Stake\"\r\n  Assets:Coinbase:ATOM:Wallet -1 ATOM {}\r\n  Assets:Coinbase:Internal-Transfers 1 ATOM {10 EUR, 2023-01-01}\r\n\r\n2023-01-15 * \"Unstake\"\r\n  Assets:Coinbase:ATOM:Wallet 1 ATOM {10 EUR, 2023-01-01}\r\n  Assets:Coinbase:Internal-Transfers -1 ATOM {}\r\n\r\n** Staking Account\r\n\r\n2023-01-05 * \"Stake\"\r\n  Assets:Coinbase:ATOM:Staking 1 ATOM {10 EUR, 2023-01-01}\r\n  Assets:Coinbase:Internal-Transfers -1 ATOM {}\r\n\r\n2023-01-15 * \"Unstake\"\r\n  Assets:Coinbase:ATOM:Staking -1 ATOM {}\r\n  Assets:Coinbase:Internal-Transfers 1 ATOM {10 EUR, 2023-01-01}\r\n```\r\n\r\nThis causes an error, because the unstaking transaction on the main account is processed before the one on the staking account. When the latter transaction is processed, there is no matching lot.\r\n\r\nManually ordering the erroring transaction before the working unstaking transaction works, so does merging the transaction to get rid of the intermediate account. Fudging the the date on the reducing transaction also works.\r\n\r\nAs an added complication in my use cases versus the example, I generally do not know the lots, nor do I want to specify them by hand, as on staking accounts there are numerous lots. Furthermore, I split my ledgers by accounts, but as the example shows, the issue also presents with different sections in the same file.\r\n\r\nSome solution ideas (without any regard for feasibility), in preference order:\r\n\r\n1. Automatically attempt to reorder transactions on the same day “until it works” during booking. In the example above, a simple heuristic might be applying transactions with fully specified cost basis first before resorting to the booking method. Alternatively, augmenting transactions could be prioritized. I'm not sure how this would interact with plugins though.\r\n2. Add some metadata or similar to specify part of an entries sort-key that gets considered after the date but before the filename/line number.\r\n3. Modify the importer to discard half of the transactions (e.g., the transfers on the staking account) and only import the other half, producing transactions without the intermediate account. I consider this more of a workaround, but if you are unwilling to implement one of the previous solutions, this is what I would do.","closed_by":null,"reactions":{"url":"https://api.github.com/repos/beancount/beancount/issues/820/reactions","total_count":1,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":1},"timeline_url":"https://api.github.com/repos/beancount/beancount/issues/820/timeline","performed_via_github_app":null,"state_reason":null},{"url":"https://api.github.com/repos/beancount/beancount/issues/819","repository_url":"https://api.github.com/repos/beancount/beancount","labels_url":"https://api.github.com/repos/beancount/beancount/issues/819/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beancount/issues/819/comments","events_url":"https://api.github.com/repos/beancount/beancount/issues/819/events","html_url":"https://github.com/beancount/beancount/issues/819","id":2241735403,"node_id":"I_kwDOD91Bd86Fnirr","number":819,"title":"bean-query GETPRICE not working","user":{"login":"simonhughxyz","id":37674867,"node_id":"MDQ6VXNlcjM3Njc0ODY3","avatar_url":"https://avatars.githubusercontent.com/u/37674867?v=4","gravatar_id":"","url":"https://api.github.com/users/simonhughxyz","html_url":"https://github.com/simonhughxyz","followers_url":"https://api.github.com/users/simonhughxyz/followers","following_url":"https://api.github.com/users/simonhughxyz/following{/other_user}","gists_url":"https://api.github.com/users/simonhughxyz/gists{/gist_id}","starred_url":"https://api.github.com/users/simonhughxyz/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/simonhughxyz/subscriptions","organizations_url":"https://api.github.com/users/simonhughxyz/orgs","repos_url":"https://api.github.com/users/simonhughxyz/repos","events_url":"https://api.github.com/users/simonhughxyz/events{/privacy}","received_events_url":"https://api.github.com/users/simonhughxyz/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":1,"created_at":"2024-04-13T20:05:19Z","updated_at":"2024-05-13T07:47:41Z","closed_at":"2024-05-13T07:47:41Z","author_association":"NONE","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"When trying to use `GETPRICE(position, \"USD\")` or `GETPRICE(position, \"USD\", date)` python returns a invalid function error.","closed_by":{"login":"simonhughxyz","id":37674867,"node_id":"MDQ6VXNlcjM3Njc0ODY3","avatar_url":"https://avatars.githubusercontent.com/u/37674867?v=4","gravatar_id":"","url":"https://api.github.com/users/simonhughxyz","html_url":"https://github.com/simonhughxyz","followers_url":"https://api.github.com/users/simonhughxyz/followers","following_url":"https://api.github.com/users/simonhughxyz/following{/other_user}","gists_url":"https://api.github.com/users/simonhughxyz/gists{/gist_id}","starred_url":"https://api.github.com/users/simonhughxyz/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/simonhughxyz/subscriptions","organizations_url":"https://api.github.com/users/simonhughxyz/orgs","repos_url":"https://api.github.com/users/simonhughxyz/repos","events_url":"https://api.github.com/users/simonhughxyz/events{/privacy}","received_events_url":"https://api.github.com/users/simonhughxyz/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/beancount/beancount/issues/819/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beancount/issues/819/timeline","performed_via_github_app":null,"state_reason":"completed"},{"url":"https://api.github.com/repos/beancount/beancount/issues/818","repository_url":"https://api.github.com/repos/beancount/beancount","labels_url":"https://api.github.com/repos/beancount/beancount/issues/818/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beancount/issues/818/comments","events_url":"https://api.github.com/repos/beancount/beancount/issues/818/events","html_url":"https://github.com/beancount/beancount/pull/818","id":2238959284,"node_id":"PR_kwDOD91Bd85sbVkz","number":818,"title":"Bump idna from 3.4 to 3.7 in /requirements","user":{"login":"dependabot[bot]","id":49699333,"node_id":"MDM6Qm90NDk2OTkzMzM=","avatar_url":"https://avatars.githubusercontent.com/in/29110?v=4","gravatar_id":"","url":"https://api.github.com/users/dependabot%5Bbot%5D","html_url":"https://github.com/apps/dependabot","followers_url":"https://api.github.com/users/dependabot%5Bbot%5D/followers","following_url":"https://api.github.com/users/dependabot%5Bbot%5D/following{/other_user}","gists_url":"https://api.github.com/users/dependabot%5Bbot%5D/gists{/gist_id}","starred_url":"https://api.github.com/users/dependabot%5Bbot%5D/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dependabot%5Bbot%5D/subscriptions","organizations_url":"https://api.github.com/users/dependabot%5Bbot%5D/orgs","repos_url":"https://api.github.com/users/dependabot%5Bbot%5D/repos","events_url":"https://api.github.com/users/dependabot%5Bbot%5D/events{/privacy}","received_events_url":"https://api.github.com/users/dependabot%5Bbot%5D/received_events","type":"Bot","user_view_type":"public","site_admin":false},"labels":[{"id":6035848709,"node_id":"LA_kwDOD91Bd88AAAABZ8O-BQ","url":"https://api.github.com/repos/beancount/beancount/labels/dependencies","name":"dependencies","color":"0366d6","default":false,"description":"Pull requests that update a dependency file"}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":1,"created_at":"2024-04-12T03:09:19Z","updated_at":"2024-11-05T08:19:30Z","closed_at":"2024-11-05T08:19:22Z","author_association":"CONTRIBUTOR","type":null,"active_lock_reason":null,"draft":false,"pull_request":{"url":"https://api.github.com/repos/beancount/beancount/pulls/818","html_url":"https://github.com/beancount/beancount/pull/818","diff_url":"https://github.com/beancount/beancount/pull/818.diff","patch_url":"https://github.com/beancount/beancount/pull/818.patch","merged_at":null},"body":"Bumps [idna](https://github.com/kjd/idna) from 3.4 to 3.7.\n<details>\n<summary>Release notes</summary>\n<p><em>Sourced from <a href=\"https://github.com/kjd/idna/releases\">idna's releases</a>.</em></p>\n<blockquote>\n<h2>v3.7</h2>\n<h2>What's Changed</h2>\n<ul>\n<li>Fix issue where specially crafted inputs to encode() could take exceptionally long amount of time to process. [CVE-2024-3651]</li>\n</ul>\n<p>Thanks to Guido Vranken for reporting the issue.</p>\n<p><strong>Full Changelog</strong>: <a href=\"https://github.com/kjd/idna/compare/v3.6...v3.7\">https://github.com/kjd/idna/compare/v3.6...v3.7</a></p>\n</blockquote>\n</details>\n<details>\n<summary>Changelog</summary>\n<p><em>Sourced from <a href=\"https://github.com/kjd/idna/blob/master/HISTORY.rst\">idna's changelog</a>.</em></p>\n<blockquote>\n<p>3.7 (2024-04-11)\n++++++++++++++++</p>\n<ul>\n<li>Fix issue where specially crafted inputs to encode() could\ntake exceptionally long amount of time to process. [CVE-2024-3651]</li>\n</ul>\n<p>Thanks to Guido Vranken for reporting the issue.</p>\n<p>3.6 (2023-11-25)\n++++++++++++++++</p>\n<ul>\n<li>Fix regression to include tests in source distribution.</li>\n</ul>\n<p>3.5 (2023-11-24)\n++++++++++++++++</p>\n<ul>\n<li>Update to Unicode 15.1.0</li>\n<li>String codec name is now &quot;idna2008&quot; as overriding the system codec\n&quot;idna&quot; was not working.</li>\n<li>Fix typing error for codec encoding</li>\n<li>&quot;setup.cfg&quot; has been added for this release due to some downstream\nlack of adherence to PEP 517. Should be removed in a future release\nso please prepare accordingly.</li>\n<li>Removed reliance on a symlink for the &quot;idna-data&quot; tool to comport\nwith PEP 517 and the Python Packaging User Guide for sdist archives.</li>\n<li>Added security reporting protocol for project</li>\n</ul>\n<p>Thanks Jon Ribbens, Diogo Teles Sant'Anna, Wu Tingfeng for contributions\nto this release.</p>\n</blockquote>\n</details>\n<details>\n<summary>Commits</summary>\n<ul>\n<li><a href=\"https://github.com/kjd/idna/commit/1d365e17e10d72d0b7876316fc7b9ca0eebdd38d\"><code>1d365e1</code></a> Release v3.7</li>\n<li><a href=\"https://github.com/kjd/idna/commit/c1b3154939907fab67c5754346afaebe165ce8e6\"><code>c1b3154</code></a> Merge pull request <a href=\"https://redirect.github.com/kjd/idna/issues/172\">#172</a> from kjd/optimize-contextj</li>\n<li><a href=\"https://github.com/kjd/idna/commit/0394ec76ff022813e770ba1fd89658790ea35623\"><code>0394ec7</code></a> Merge branch 'master' into optimize-contextj</li>\n<li><a href=\"https://github.com/kjd/idna/commit/cd58a23173d2b0a40b95ee680baf3e59e8d33966\"><code>cd58a23</code></a> Merge pull request <a href=\"https://redirect.github.com/kjd/idna/issues/152\">#152</a> from elliotwutingfeng/dev</li>\n<li><a href=\"https://github.com/kjd/idna/commit/5beb28b9dd77912c0dd656d8b0fdba3eb80222e7\"><code>5beb28b</code></a> More efficient resolution of joiner contexts</li>\n<li><a href=\"https://github.com/kjd/idna/commit/1b121483ed04d9576a1291758f537e1318cddc8b\"><code>1b12148</code></a> Update ossf/scorecard-action to v2.3.1</li>\n<li><a href=\"https://github.com/kjd/idna/commit/d516b874c3388047934938a500c7488d52c4e067\"><code>d516b87</code></a> Update Github actions/checkout to v4</li>\n<li><a href=\"https://github.com/kjd/idna/commit/c095c75943413c75ebf8ac74179757031b7f80b7\"><code>c095c75</code></a> Merge branch 'master' into dev</li>\n<li><a href=\"https://github.com/kjd/idna/commit/60a0a4cb61ec6834d74306bd8a1fa46daac94c98\"><code>60a0a4c</code></a> Fix typo in GitHub Actions workflow key</li>\n<li><a href=\"https://github.com/kjd/idna/commit/5918a0ef8034379c2e409ae93ee11d24295bb201\"><code>5918a0e</code></a> Merge branch 'master' into dev</li>\n<li>Additional commits viewable in <a href=\"https://github.com/kjd/idna/compare/v3.4...v3.7\">compare view</a></li>\n</ul>\n</details>\n<br />\n\n\n[![Dependabot compatibility score](https://dependabot-badges.githubapp.com/badges/compatibility_score?dependency-name=idna&package-manager=pip&previous-version=3.4&new-version=3.7)](https://docs.github.com/en/github/managing-security-vulnerabilities/about-dependabot-security-updates#about-compatibility-scores)\n\nYou can trigger a rebase of this PR by commenting `@dependabot rebase`.\n\n[//]: # (dependabot-automerge-start)\n[//]: # (dependabot-automerge-end)\n\n---\n\n<details>\n<summary>Dependabot commands and options</summary>\n<br />\n\nYou can trigger Dependabot actions by commenting on this PR:\n- `@dependabot rebase` will rebase this PR\n- `@dependabot recreate` will recreate this PR, overwriting any edits that have been made to it\n- `@dependabot merge` will merge this PR after your CI passes on it\n- `@dependabot squash and merge` will squash and merge this PR after your CI passes on it\n- `@dependabot cancel merge` will cancel a previously requested merge and block automerging\n- `@dependabot reopen` will reopen this PR if it is closed\n- `@dependabot close` will close this PR and stop Dependabot recreating it. You can achieve the same result by closing it manually\n- `@dependabot show <dependency name> ignore conditions` will show all of the ignore conditions of the specified dependency\n- `@dependabot ignore this major version` will close this PR and stop Dependabot creating any more for this major version (unless you reopen the PR or upgrade to it yourself)\n- `@dependabot ignore this minor version` will close this PR and stop Dependabot creating any more for this minor version (unless you reopen the PR or upgrade to it yourself)\n- `@dependabot ignore this dependency` will close this PR and stop Dependabot creating any more for this dependency (unless you reopen the PR or upgrade to it yourself)\nYou can disable automated security fix PRs for this repo from the [Security Alerts page](https://github.com/beancount/beancount/network/alerts).\n\n</details>\n\n> **Note**\n> Automatic rebases have been disabled on this pull request as it has been open for over 30 days.\n","closed_by":{"login":"dnicolodi","id":987145,"node_id":"MDQ6VXNlcjk4NzE0NQ==","avatar_url":"https://avatars.githubusercontent.com/u/987145?v=4","gravatar_id":"","url":"https://api.github.com/users/dnicolodi","html_url":"https://github.com/dnicolodi","followers_url":"https://api.github.com/users/dnicolodi/followers","following_url":"https://api.github.com/users/dnicolodi/following{/other_user}","gists_url":"https://api.github.com/users/dnicolodi/gists{/gist_id}","starred_url":"https://api.github.com/users/dnicolodi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dnicolodi/subscriptions","organizations_url":"https://api.github.com/users/dnicolodi/orgs","repos_url":"https://api.github.com/users/dnicolodi/repos","events_url":"https://api.github.com/users/dnicolodi/events{/privacy}","received_events_url":"https://api.github.com/users/dnicolodi/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/beancount/beancount/issues/818/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beancount/issues/818/timeline","performed_via_github_app":null,"state_reason":null},{"url":"https://api.github.com/repos/beancount/beancount/issues/817","repository_url":"https://api.github.com/repos/beancount/beancount","labels_url":"https://api.github.com/repos/beancount/beancount/issues/817/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beancount/issues/817/comments","events_url":"https://api.github.com/repos/beancount/beancount/issues/817/events","html_url":"https://github.com/beancount/beancount/issues/817","id":2229428601,"node_id":"I_kwDOD91Bd86E4mF5","number":817,"title":"Status of the \"improved inventory booking\" project?","user":{"login":"pkgw","id":59598,"node_id":"MDQ6VXNlcjU5NTk4","avatar_url":"https://avatars.githubusercontent.com/u/59598?v=4","gravatar_id":"","url":"https://api.github.com/users/pkgw","html_url":"https://github.com/pkgw","followers_url":"https://api.github.com/users/pkgw/followers","following_url":"https://api.github.com/users/pkgw/following{/other_user}","gists_url":"https://api.github.com/users/pkgw/gists{/gist_id}","starred_url":"https://api.github.com/users/pkgw/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pkgw/subscriptions","organizations_url":"https://api.github.com/users/pkgw/orgs","repos_url":"https://api.github.com/users/pkgw/repos","events_url":"https://api.github.com/users/pkgw/events{/privacy}","received_events_url":"https://api.github.com/users/pkgw/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":3,"created_at":"2024-04-06T21:24:53Z","updated_at":"2024-04-09T10:48:21Z","closed_at":"2024-04-06T21:59:18Z","author_association":"NONE","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"First of all, thanks for making and maintaining Beancount — it's awesome!\r\n\r\nI've been trying to handle some average-cost transactions in my Beancount ledgers, which has led me to dig into some of the docs regarding the \"improved inventory booking\" proposal. These docs are clear in saying that the proposal hasn't been fully realized yet ... but they're dated to 2014, and it at appears from the GitHub that development on V3 has been proceeding at a steady rate.\r\n\r\nI do a lot of open-source development so I know how annoying it can be when people constantly pester you about new features, so I apologize if this is something that you've had to answer a lot of questions about. But I haven't been able to dig anything up in the GitHub traffic or other docs. So: would you be able to quickly summarize where things are at with this effort? If more work is needed, anything random contributors can do to help?","closed_by":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/beancount/beancount/issues/817/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beancount/issues/817/timeline","performed_via_github_app":null,"state_reason":"completed"},{"url":"https://api.github.com/repos/beancount/beancount/issues/816","repository_url":"https://api.github.com/repos/beancount/beancount","labels_url":"https://api.github.com/repos/beancount/beancount/issues/816/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beancount/issues/816/comments","events_url":"https://api.github.com/repos/beancount/beancount/issues/816/events","html_url":"https://github.com/beancount/beancount/pull/816","id":2218455740,"node_id":"PR_kwDOD91Bd85rU8hA","number":816,"title":"docs: fix module docstring","user":{"login":"william-davies","id":36384318,"node_id":"MDQ6VXNlcjM2Mzg0MzE4","avatar_url":"https://avatars.githubusercontent.com/u/36384318?v=4","gravatar_id":"","url":"https://api.github.com/users/william-davies","html_url":"https://github.com/william-davies","followers_url":"https://api.github.com/users/william-davies/followers","following_url":"https://api.github.com/users/william-davies/following{/other_user}","gists_url":"https://api.github.com/users/william-davies/gists{/gist_id}","starred_url":"https://api.github.com/users/william-davies/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/william-davies/subscriptions","organizations_url":"https://api.github.com/users/william-davies/orgs","repos_url":"https://api.github.com/users/william-davies/repos","events_url":"https://api.github.com/users/william-davies/events{/privacy}","received_events_url":"https://api.github.com/users/william-davies/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":1,"created_at":"2024-04-01T15:03:53Z","updated_at":"2024-04-01T22:50:02Z","closed_at":"2024-04-01T22:49:54Z","author_association":"CONTRIBUTOR","type":null,"active_lock_reason":null,"draft":false,"pull_request":{"url":"https://api.github.com/repos/beancount/beancount/pulls/816","html_url":"https://github.com/beancount/beancount/pull/816","diff_url":"https://github.com/beancount/beancount/pull/816.diff","patch_url":"https://github.com/beancount/beancount/pull/816.patch","merged_at":"2024-04-01T22:49:54Z"},"body":"I think `In a sense, this is the inverse of \"pedantic.\" This is useful when doing some types of quick and dirty tests.` was copied from the `beancount.plugins.auto` docstring","closed_by":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/beancount/beancount/issues/816/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beancount/issues/816/timeline","performed_via_github_app":null,"state_reason":null},{"url":"https://api.github.com/repos/beancount/beancount/issues/815","repository_url":"https://api.github.com/repos/beancount/beancount","labels_url":"https://api.github.com/repos/beancount/beancount/issues/815/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beancount/issues/815/comments","events_url":"https://api.github.com/repos/beancount/beancount/issues/815/events","html_url":"https://github.com/beancount/beancount/pull/815","id":2216554970,"node_id":"PR_kwDOD91Bd85rOsAa","number":815,"title":"Fix implicit price date from cost","user":{"login":"aldur","id":1721633,"node_id":"MDQ6VXNlcjE3MjE2MzM=","avatar_url":"https://avatars.githubusercontent.com/u/1721633?v=4","gravatar_id":"","url":"https://api.github.com/users/aldur","html_url":"https://github.com/aldur","followers_url":"https://api.github.com/users/aldur/followers","following_url":"https://api.github.com/users/aldur/following{/other_user}","gists_url":"https://api.github.com/users/aldur/gists{/gist_id}","starred_url":"https://api.github.com/users/aldur/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/aldur/subscriptions","organizations_url":"https://api.github.com/users/aldur/orgs","repos_url":"https://api.github.com/users/aldur/repos","events_url":"https://api.github.com/users/aldur/events{/privacy}","received_events_url":"https://api.github.com/users/aldur/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"open","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":9,"created_at":"2024-03-30T16:02:47Z","updated_at":"2025-02-02T01:03:58Z","closed_at":null,"author_association":"NONE","type":null,"active_lock_reason":null,"draft":false,"pull_request":{"url":"https://api.github.com/repos/beancount/beancount/pulls/815","html_url":"https://github.com/beancount/beancount/pull/815","diff_url":"https://github.com/beancount/beancount/pull/815.diff","patch_url":"https://github.com/beancount/beancount/pull/815.patch","merged_at":null},"body":"I noticed that when transferring assets having a cost AND a date, the plugin would wrongly infer the transfer date as the price date, instead of the one specified in the cost.\r\n\r\nIn the following example, it would add a new price for 1 EUR dated 2023-02-14.\r\n\r\n```beancount\r\n2023-02-14 * \"Move\"\r\n    Assets:A                              -50 B {1 EUR, 2021-05-23}\r\n    Assets:C\r\n```\r\n\r\nIf this is wrong, the fix is pretty simple.","closed_by":null,"reactions":{"url":"https://api.github.com/repos/beancount/beancount/issues/815/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beancount/issues/815/timeline","performed_via_github_app":null,"state_reason":null},{"url":"https://api.github.com/repos/beancount/beancount/issues/814","repository_url":"https://api.github.com/repos/beancount/beancount","labels_url":"https://api.github.com/repos/beancount/beancount/issues/814/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beancount/issues/814/comments","events_url":"https://api.github.com/repos/beancount/beancount/issues/814/events","html_url":"https://github.com/beancount/beancount/issues/814","id":2204293768,"node_id":"I_kwDOD91Bd86DYtqI","number":814,"title":"Reducing an asset and a liability","user":{"login":"daugminas","id":18240875,"node_id":"MDQ6VXNlcjE4MjQwODc1","avatar_url":"https://avatars.githubusercontent.com/u/18240875?v=4","gravatar_id":"","url":"https://api.github.com/users/daugminas","html_url":"https://github.com/daugminas","followers_url":"https://api.github.com/users/daugminas/followers","following_url":"https://api.github.com/users/daugminas/following{/other_user}","gists_url":"https://api.github.com/users/daugminas/gists{/gist_id}","starred_url":"https://api.github.com/users/daugminas/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/daugminas/subscriptions","organizations_url":"https://api.github.com/users/daugminas/orgs","repos_url":"https://api.github.com/users/daugminas/repos","events_url":"https://api.github.com/users/daugminas/events{/privacy}","received_events_url":"https://api.github.com/users/daugminas/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":1,"created_at":"2024-03-24T10:57:57Z","updated_at":"2024-03-24T13:14:56Z","closed_at":"2024-03-24T13:14:55Z","author_association":"NONE","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"I searched the issues and couldn't find this covered: can such a basic usecase not be properly covered?\r\n\r\nSituation: assume a basic company accounting, dividend payout entries.\r\n\r\nNormally, this would have follwing Dr/Cr entries:\r\n\r\nDividend allocation decision (this one is fine):\r\nEquity:Retained earnings Dr (-)\r\nLiabilities:Dividend Payable Cr (+)\r\n\r\nDividend payment (this fails):\r\nLiabilities:Dividend Payable Dr (-)\r\nAssets:Cash Cr (-)\r\n\r\nNote that the payment of liability with cash (or bank) violates beancount rules, i.e. there cannot be two minuses. However, from Dr/Cr entry perspective this makes sense. How should one deal with this situation in beancount?\r\n\r\nMore generally, how would you cover an outstanding liability (i.e. liaibility reduction) with an asset (also a reduction) in beancount? Either I cannot get my head wrapped around this or this doesn't work?! ","closed_by":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/beancount/beancount/issues/814/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beancount/issues/814/timeline","performed_via_github_app":null,"state_reason":"completed"},{"url":"https://api.github.com/repos/beancount/beancount/issues/813","repository_url":"https://api.github.com/repos/beancount/beancount","labels_url":"https://api.github.com/repos/beancount/beancount/issues/813/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beancount/issues/813/comments","events_url":"https://api.github.com/repos/beancount/beancount/issues/813/events","html_url":"https://github.com/beancount/beancount/issues/813","id":2203881516,"node_id":"I_kwDOD91Bd86DXJAs","number":813,"title":"Possible bug: build_price_map incorrectly resolves the conflict with inverse price pairs on the same date","user":{"login":"Ev2geny","id":59611075,"node_id":"MDQ6VXNlcjU5NjExMDc1","avatar_url":"https://avatars.githubusercontent.com/u/59611075?v=4","gravatar_id":"","url":"https://api.github.com/users/Ev2geny","html_url":"https://github.com/Ev2geny","followers_url":"https://api.github.com/users/Ev2geny/followers","following_url":"https://api.github.com/users/Ev2geny/following{/other_user}","gists_url":"https://api.github.com/users/Ev2geny/gists{/gist_id}","starred_url":"https://api.github.com/users/Ev2geny/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Ev2geny/subscriptions","organizations_url":"https://api.github.com/users/Ev2geny/orgs","repos_url":"https://api.github.com/users/Ev2geny/repos","events_url":"https://api.github.com/users/Ev2geny/events{/privacy}","received_events_url":"https://api.github.com/users/Ev2geny/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"open","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":0,"created_at":"2024-03-23T13:31:42Z","updated_at":"2024-03-23T13:40:34Z","closed_at":null,"author_association":"CONTRIBUTOR","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"I think I may have found a bug in the `build_price_map` function in a part when it resolves the conflict with found inverse price pairs on the same date.\r\n\r\nIf I read the [docstring](https://github.com/beancount/beancount/blob/d2d1e536c82281933b7bfc9cf3137f3698dcf4dc/beancount/core/prices.py#L58), it says the following:\r\n\r\n```py\r\ndef build_price_map(entries):\r\n    \"\"\"\r\n    ....\r\n\r\n    If inverse price pairs are found, e.g. USD in AUD and AUD in USD, the\r\n    inverse that has the smallest number of price points is converted into the\r\n    one that has the most price points. \r\n   \"\"\"\r\n```\r\n\r\nIn reality I think it works just the other way around\r\n\r\nExample:\r\n```\r\n2020-01-01 price EUR 1 USD\r\n2020-01-02 price EUR 2 USD\r\n2020-01-03 price USD 0.1 EUR\r\n2020-01-03 price EUR 4 USD\r\n```\r\nIf I understand the docstring correctly, then in this case the conflict between EUR / USD and USD / EUR on 3 January 2020 shall be resolved with the value provided by the line `2020-01-03 price EUR 4 USD`, because there are more EUR/USD entries, than USD/EUR.\r\n\r\nIn reality this works the other way round\r\n\r\n```py\r\n\r\nprice_map = build_price_map(entries)\r\n\r\npprint(price_map)\r\n\r\n\"\"\"\r\n{('EUR', 'USD'): [(datetime.date(2020, 1, 1), Decimal('1')),\r\n                  (datetime.date(2020, 1, 2), Decimal('2')),\r\n                  (datetime.date(2020, 1, 3), Decimal('1E+1'))],  <--- I think this is wrong, it shall be 4.0\r\n ('USD', 'EUR'): [(datetime.date(2020, 1, 1), Decimal('1')),\r\n                  (datetime.date(2020, 1, 2), Decimal('0.5')),\r\n                  (datetime.date(2020, 1, 3), Decimal('0.1'))]}   <-- and this shall be 0.25\r\n\"\"\"\r\n```\r\nIf in [this line](https://github.com/beancount/beancount/blob/d2d1e536c82281933b7bfc9cf3137f3698dcf4dc/beancount/core/prices.py#L106) the < is changed to > then it works as per the docstring\r\n\r\n\r\n","closed_by":null,"reactions":{"url":"https://api.github.com/repos/beancount/beancount/issues/813/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beancount/issues/813/timeline","performed_via_github_app":null,"state_reason":null},{"url":"https://api.github.com/repos/beancount/beancount/issues/812","repository_url":"https://api.github.com/repos/beancount/beancount","labels_url":"https://api.github.com/repos/beancount/beancount/issues/812/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beancount/issues/812/comments","events_url":"https://api.github.com/repos/beancount/beancount/issues/812/events","html_url":"https://github.com/beancount/beancount/issues/812","id":2177934844,"node_id":"I_kwDOD91Bd86B0KX8","number":812,"title":"Feature request: large language model prompt library","user":{"login":"jaanli","id":5317244,"node_id":"MDQ6VXNlcjUzMTcyNDQ=","avatar_url":"https://avatars.githubusercontent.com/u/5317244?v=4","gravatar_id":"","url":"https://api.github.com/users/jaanli","html_url":"https://github.com/jaanli","followers_url":"https://api.github.com/users/jaanli/followers","following_url":"https://api.github.com/users/jaanli/following{/other_user}","gists_url":"https://api.github.com/users/jaanli/gists{/gist_id}","starred_url":"https://api.github.com/users/jaanli/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jaanli/subscriptions","organizations_url":"https://api.github.com/users/jaanli/orgs","repos_url":"https://api.github.com/users/jaanli/repos","events_url":"https://api.github.com/users/jaanli/events{/privacy}","received_events_url":"https://api.github.com/users/jaanli/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"open","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":4,"created_at":"2024-03-10T22:32:57Z","updated_at":"2024-10-04T16:48:45Z","closed_at":null,"author_association":"NONE","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"I have been too overwhelmed to try out beancount but finally did so with lots of help from GPT-4.\r\n\r\nResults: https://gist.github.com/jaanli/1f735ce0ddec4aa4d1fccb4535f3843f \r\n\r\nIt would be super helpful to have a library of prompts and large language models and institutions for which they work (I only tested Chase and GPT-4 so far as I am timeboxing accounting).\r\n\r\nThank you immensely for making this, it's amazing software! \r\n\r\nFor a fancy upgrade, I bet DSPy (https://github.com/stanfordnlp/dspy/blob/main/intro.ipynb) would support a short script to handle automatic conversion to beancount for standardized account naming.\r\n\r\n(Only issue I ran into was a VS code extension related syntax warning when nesting `include` statements: https://github.com/Lencerf/vscode-beancount/issues/98)","closed_by":null,"reactions":{"url":"https://api.github.com/repos/beancount/beancount/issues/812/reactions","total_count":2,"+1":2,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beancount/issues/812/timeline","performed_via_github_app":null,"state_reason":null},{"url":"https://api.github.com/repos/beancount/beancount/issues/811","repository_url":"https://api.github.com/repos/beancount/beancount","labels_url":"https://api.github.com/repos/beancount/beancount/issues/811/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beancount/issues/811/comments","events_url":"https://api.github.com/repos/beancount/beancount/issues/811/events","html_url":"https://github.com/beancount/beancount/pull/811","id":2177634332,"node_id":"PR_kwDOD91Bd85pKkb1","number":811,"title":"Optionally write a source for entry in printer.print_entries and printer.print_entry v2","user":{"login":"Ev2geny","id":59611075,"node_id":"MDQ6VXNlcjU5NjExMDc1","avatar_url":"https://avatars.githubusercontent.com/u/59611075?v=4","gravatar_id":"","url":"https://api.github.com/users/Ev2geny","html_url":"https://github.com/Ev2geny","followers_url":"https://api.github.com/users/Ev2geny/followers","following_url":"https://api.github.com/users/Ev2geny/following{/other_user}","gists_url":"https://api.github.com/users/Ev2geny/gists{/gist_id}","starred_url":"https://api.github.com/users/Ev2geny/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Ev2geny/subscriptions","organizations_url":"https://api.github.com/users/Ev2geny/orgs","repos_url":"https://api.github.com/users/Ev2geny/repos","events_url":"https://api.github.com/users/Ev2geny/events{/privacy}","received_events_url":"https://api.github.com/users/Ev2geny/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":6,"created_at":"2024-03-10T10:00:55Z","updated_at":"2024-03-10T16:04:00Z","closed_at":"2024-03-10T16:03:59Z","author_association":"CONTRIBUTOR","type":null,"active_lock_reason":null,"draft":false,"pull_request":{"url":"https://api.github.com/repos/beancount/beancount/pulls/811","html_url":"https://github.com/beancount/beancount/pull/811","diff_url":"https://github.com/beancount/beancount/pull/811.diff","patch_url":"https://github.com/beancount/beancount/pull/811.patch","merged_at":"2024-03-10T16:03:59Z"},"body":"This is a pull request to address the new feature discussed here https://github.com/beancount/beancount/issues/807\r\nThis is a re-run of the previous [pull request](https://github.com/beancount/beancount/pull/810), but now with all commits squashed, as requested.\r\n\r\nIt adds an optional `write_source` parameter to the `printer.print_entry` and `printer.print_entries` functions to be able to add source file and line number in a format interpretable as a message location for Emacs, VSCode.\r\n\r\nThis is very useful for \"debugging\" of beancount ledger especially in multi file setup. as it allows to immediately go to the file and line number in question by clicking on the message location.\r\n\r\n**Examples:**\r\n\r\nIn VSCode terminal\r\n\r\n![image](https://github.com/beancount/beancount/assets/59611075/a56de046-d041-44f0-a7cc-e317d2c62030)\r\n\r\nIn VSCode jupyter notebook\r\n\r\n![image](https://github.com/beancount/beancount/assets/59611075/b025b8df-4440-45d5-9ebc-3869f311d043)\r\n","closed_by":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/beancount/beancount/issues/811/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beancount/issues/811/timeline","performed_via_github_app":null,"state_reason":null},{"url":"https://api.github.com/repos/beancount/beancount/issues/810","repository_url":"https://api.github.com/repos/beancount/beancount","labels_url":"https://api.github.com/repos/beancount/beancount/issues/810/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beancount/issues/810/comments","events_url":"https://api.github.com/repos/beancount/beancount/issues/810/events","html_url":"https://github.com/beancount/beancount/pull/810","id":2173439143,"node_id":"PR_kwDOD91Bd85o8XDk","number":810,"title":"Optionally write a source for entry in printer.print_entries and printer.print_entry","user":{"login":"Ev2geny","id":59611075,"node_id":"MDQ6VXNlcjU5NjExMDc1","avatar_url":"https://avatars.githubusercontent.com/u/59611075?v=4","gravatar_id":"","url":"https://api.github.com/users/Ev2geny","html_url":"https://github.com/Ev2geny","followers_url":"https://api.github.com/users/Ev2geny/followers","following_url":"https://api.github.com/users/Ev2geny/following{/other_user}","gists_url":"https://api.github.com/users/Ev2geny/gists{/gist_id}","starred_url":"https://api.github.com/users/Ev2geny/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Ev2geny/subscriptions","organizations_url":"https://api.github.com/users/Ev2geny/orgs","repos_url":"https://api.github.com/users/Ev2geny/repos","events_url":"https://api.github.com/users/Ev2geny/events{/privacy}","received_events_url":"https://api.github.com/users/Ev2geny/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":2,"created_at":"2024-03-07T09:48:13Z","updated_at":"2024-03-10T10:02:44Z","closed_at":"2024-03-10T10:02:43Z","author_association":"CONTRIBUTOR","type":null,"active_lock_reason":null,"draft":false,"pull_request":{"url":"https://api.github.com/repos/beancount/beancount/pulls/810","html_url":"https://github.com/beancount/beancount/pull/810","diff_url":"https://github.com/beancount/beancount/pull/810.diff","patch_url":"https://github.com/beancount/beancount/pull/810.patch","merged_at":null},"body":"This is a pull request to address the new feature discussed here https://github.com/beancount/beancount/issues/807\r\n\r\nIt adds an optional `write_source` parameter to the `printer.print_entry` and `printer.print_entries` functions to be able to add source file and line number in a format interpretable as a message location for Emacs, VSCode.\r\n\r\nThis is very useful for \"debugging\" of beancount ledger especially in multi file setup. as it allows to immediately go to the file and line number in question by clicking on the message location.\r\n\r\n**Examples:**\r\n\r\nIn VSCode terminal\r\n\r\n![image](https://github.com/beancount/beancount/assets/59611075/a56de046-d041-44f0-a7cc-e317d2c62030)\r\n\r\nIn VSCode jupyter notebook\r\n\r\n![image](https://github.com/beancount/beancount/assets/59611075/b025b8df-4440-45d5-9ebc-3869f311d043)\r\n\r\n\r\n","closed_by":{"login":"Ev2geny","id":59611075,"node_id":"MDQ6VXNlcjU5NjExMDc1","avatar_url":"https://avatars.githubusercontent.com/u/59611075?v=4","gravatar_id":"","url":"https://api.github.com/users/Ev2geny","html_url":"https://github.com/Ev2geny","followers_url":"https://api.github.com/users/Ev2geny/followers","following_url":"https://api.github.com/users/Ev2geny/following{/other_user}","gists_url":"https://api.github.com/users/Ev2geny/gists{/gist_id}","starred_url":"https://api.github.com/users/Ev2geny/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Ev2geny/subscriptions","organizations_url":"https://api.github.com/users/Ev2geny/orgs","repos_url":"https://api.github.com/users/Ev2geny/repos","events_url":"https://api.github.com/users/Ev2geny/events{/privacy}","received_events_url":"https://api.github.com/users/Ev2geny/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/beancount/beancount/issues/810/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beancount/issues/810/timeline","performed_via_github_app":null,"state_reason":null},{"url":"https://api.github.com/repos/beancount/beancount/issues/808","repository_url":"https://api.github.com/repos/beancount/beancount","labels_url":"https://api.github.com/repos/beancount/beancount/issues/808/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beancount/issues/808/comments","events_url":"https://api.github.com/repos/beancount/beancount/issues/808/events","html_url":"https://github.com/beancount/beancount/issues/808","id":2165047313,"node_id":"I_kwDOD91Bd86BDAAR","number":808,"title":"Ymonth returns date instead of year,month","user":{"login":"pallavg","id":12074568,"node_id":"MDQ6VXNlcjEyMDc0NTY4","avatar_url":"https://avatars.githubusercontent.com/u/12074568?v=4","gravatar_id":"","url":"https://api.github.com/users/pallavg","html_url":"https://github.com/pallavg","followers_url":"https://api.github.com/users/pallavg/followers","following_url":"https://api.github.com/users/pallavg/following{/other_user}","gists_url":"https://api.github.com/users/pallavg/gists{/gist_id}","starred_url":"https://api.github.com/users/pallavg/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pallavg/subscriptions","organizations_url":"https://api.github.com/users/pallavg/orgs","repos_url":"https://api.github.com/users/pallavg/repos","events_url":"https://api.github.com/users/pallavg/events{/privacy}","received_events_url":"https://api.github.com/users/pallavg/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":2,"created_at":"2024-03-03T00:31:37Z","updated_at":"2024-11-09T12:15:50Z","closed_at":"2024-11-09T12:15:50Z","author_association":"NONE","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"I was expecting Ymonth(date) to return 20XX-XX (year-month) but it returns a date (1st of the month). The Year(), month(), day() work OK. The screenshot below shows the issue.\r\n\r\n![Screenshot 2024-03-02 163033](https://github.com/beancount/beancount/assets/12074568/874ab84f-53ce-4883-bb9a-f4d42cdc6d8d)\r\n","closed_by":{"login":"dnicolodi","id":987145,"node_id":"MDQ6VXNlcjk4NzE0NQ==","avatar_url":"https://avatars.githubusercontent.com/u/987145?v=4","gravatar_id":"","url":"https://api.github.com/users/dnicolodi","html_url":"https://github.com/dnicolodi","followers_url":"https://api.github.com/users/dnicolodi/followers","following_url":"https://api.github.com/users/dnicolodi/following{/other_user}","gists_url":"https://api.github.com/users/dnicolodi/gists{/gist_id}","starred_url":"https://api.github.com/users/dnicolodi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dnicolodi/subscriptions","organizations_url":"https://api.github.com/users/dnicolodi/orgs","repos_url":"https://api.github.com/users/dnicolodi/repos","events_url":"https://api.github.com/users/dnicolodi/events{/privacy}","received_events_url":"https://api.github.com/users/dnicolodi/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/beancount/beancount/issues/808/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beancount/issues/808/timeline","performed_via_github_app":null,"state_reason":"completed"},{"url":"https://api.github.com/repos/beancount/beancount/issues/807","repository_url":"https://api.github.com/repos/beancount/beancount","labels_url":"https://api.github.com/repos/beancount/beancount/issues/807/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beancount/issues/807/comments","events_url":"https://api.github.com/repos/beancount/beancount/issues/807/events","html_url":"https://github.com/beancount/beancount/issues/807","id":2155262243,"node_id":"I_kwDOD91Bd86AdrEj","number":807,"title":"New functionality suggestion: Optionally write a source for entry in  printer.print_entries","user":{"login":"Ev2geny","id":59611075,"node_id":"MDQ6VXNlcjU5NjExMDc1","avatar_url":"https://avatars.githubusercontent.com/u/59611075?v=4","gravatar_id":"","url":"https://api.github.com/users/Ev2geny","html_url":"https://github.com/Ev2geny","followers_url":"https://api.github.com/users/Ev2geny/followers","following_url":"https://api.github.com/users/Ev2geny/following{/other_user}","gists_url":"https://api.github.com/users/Ev2geny/gists{/gist_id}","starred_url":"https://api.github.com/users/Ev2geny/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Ev2geny/subscriptions","organizations_url":"https://api.github.com/users/Ev2geny/orgs","repos_url":"https://api.github.com/users/Ev2geny/repos","events_url":"https://api.github.com/users/Ev2geny/events{/privacy}","received_events_url":"https://api.github.com/users/Ev2geny/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":4,"created_at":"2024-02-26T22:14:35Z","updated_at":"2024-03-10T16:04:44Z","closed_at":"2024-03-10T16:04:29Z","author_association":"CONTRIBUTOR","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"I found it very useful to optionally enrich functionality of `printer.print_entries` to be able to add source file and line number in a format interpretable as a message location for Emacs, VSCode. \r\n\r\nThis is very useful for \"debugging\" of beancount ledger especially in multi file setup. as it allows to immediately go to the file and line number in question by clicking on the message location.\r\n\r\n**Example:**\r\n\r\n![file_source](https://github.com/beancount/beancount/assets/59611075/5c6a121a-7905-4aa8-8690-740ef5f60ebd)\r\n\r\nAs this only useful for \"debugging\" it needs to be commented out by a semicolon, so it does not get parsed again if output  of a printer is sent again to parser\r\n\r\nWould be nice to have it added as a standard feature.\r\n\r\nI have a concept working for my purposes (this [commit ](https://github.com/Ev2geny/beancount/commit/8f4fe20511cefd5c4dc8045fbfb2128be02f5b59))\r\n\r\n**Questions:** \r\n1) would you accept this as a pull request, provided I add unit tests and whatever else is needed\r\n2) I now have done changes against v2. Is this OK? Or does it have to be against v3? \r\n\r\nP.S. in beancount discussions my name is **Chary**","closed_by":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/beancount/beancount/issues/807/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beancount/issues/807/timeline","performed_via_github_app":null,"state_reason":"not_planned"},{"url":"https://api.github.com/repos/beancount/beancount/issues/806","repository_url":"https://api.github.com/repos/beancount/beancount","labels_url":"https://api.github.com/repos/beancount/beancount/issues/806/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beancount/issues/806/comments","events_url":"https://api.github.com/repos/beancount/beancount/issues/806/events","html_url":"https://github.com/beancount/beancount/pull/806","id":2140936351,"node_id":"PR_kwDOD91Bd85nNpGr","number":806,"title":"Fix build breakage","user":{"login":"bobobo1618","id":707839,"node_id":"MDQ6VXNlcjcwNzgzOQ==","avatar_url":"https://avatars.githubusercontent.com/u/707839?v=4","gravatar_id":"","url":"https://api.github.com/users/bobobo1618","html_url":"https://github.com/bobobo1618","followers_url":"https://api.github.com/users/bobobo1618/followers","following_url":"https://api.github.com/users/bobobo1618/following{/other_user}","gists_url":"https://api.github.com/users/bobobo1618/gists{/gist_id}","starred_url":"https://api.github.com/users/bobobo1618/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bobobo1618/subscriptions","organizations_url":"https://api.github.com/users/bobobo1618/orgs","repos_url":"https://api.github.com/users/bobobo1618/repos","events_url":"https://api.github.com/users/bobobo1618/events{/privacy}","received_events_url":"https://api.github.com/users/bobobo1618/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":0,"created_at":"2024-02-18T11:20:02Z","updated_at":"2024-02-19T18:44:54Z","closed_at":"2024-02-19T18:44:53Z","author_association":"CONTRIBUTOR","type":null,"active_lock_reason":null,"draft":false,"pull_request":{"url":"https://api.github.com/repos/beancount/beancount/pulls/806","html_url":"https://github.com/beancount/beancount/pull/806","diff_url":"https://github.com/beancount/beancount/pull/806.diff","patch_url":"https://github.com/beancount/beancount/pull/806.patch","merged_at":"2024-02-19T18:44:53Z"},"body":"I tried building following [the instructions](https://beancount.github.io/docs/installing_beancount_v3.html) but the build failed:\r\n- The checksum for the Abseil LTS seems to have changed\r\n- https://github.com/beancount/beancount/pull/775 removed `regexp_utils` but didn't update other code that depended on it\r\n\r\nI also needed to use the `--noenable_bzlmod` flag.","closed_by":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/beancount/beancount/issues/806/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beancount/issues/806/timeline","performed_via_github_app":null,"state_reason":null},{"url":"https://api.github.com/repos/beancount/beancount/issues/805","repository_url":"https://api.github.com/repos/beancount/beancount","labels_url":"https://api.github.com/repos/beancount/beancount/issues/805/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beancount/issues/805/comments","events_url":"https://api.github.com/repos/beancount/beancount/issues/805/events","html_url":"https://github.com/beancount/beancount/issues/805","id":2133354482,"node_id":"I_kwDOD91Bd85_KGfy","number":805,"title":"option \"account_rounding\" \"Equity:RoundingError\" does not work for one transaction","user":{"login":"flowerbug","id":44202201,"node_id":"MDQ6VXNlcjQ0MjAyMjAx","avatar_url":"https://avatars.githubusercontent.com/u/44202201?v=4","gravatar_id":"","url":"https://api.github.com/users/flowerbug","html_url":"https://github.com/flowerbug","followers_url":"https://api.github.com/users/flowerbug/followers","following_url":"https://api.github.com/users/flowerbug/following{/other_user}","gists_url":"https://api.github.com/users/flowerbug/gists{/gist_id}","starred_url":"https://api.github.com/users/flowerbug/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/flowerbug/subscriptions","organizations_url":"https://api.github.com/users/flowerbug/orgs","repos_url":"https://api.github.com/users/flowerbug/repos","events_url":"https://api.github.com/users/flowerbug/events{/privacy}","received_events_url":"https://api.github.com/users/flowerbug/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":1,"created_at":"2024-02-14T00:36:03Z","updated_at":"2024-02-15T03:19:25Z","closed_at":"2024-02-15T03:19:25Z","author_association":"NONE","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"The following fails to balance even if I use the option in my ledger.\r\n\r\noption \"account_rounding\" \"Equity:RoundingError\"\r\n\r\n2020-04-11 * \"Split 2 FOR 1\"\r\n  Assets:ANT                                      -100 ANT {9.73333333333 USD, 1999-01-11, \"19920619-001\"} @ 9.73333333333 USD\r\n  Assets:ANT                                       200 ANT {4.86666666666 USD, 2020-04-11, \"20200411-001\"}\r\n\r\nIf I explicitly supply the line\r\nEquity:RoundingError                                 0.00000000100 USD\r\n\r\nthen it does balance, but that is what I thought the option was supposed to do?\r\n\r\nI am using whatever defaults beancount uses for accuracy specifications.\r\n\r\nThe only other plugins or options I'm using it makes no difference for this issue if I have them enabled or included or not.","closed_by":{"login":"flowerbug","id":44202201,"node_id":"MDQ6VXNlcjQ0MjAyMjAx","avatar_url":"https://avatars.githubusercontent.com/u/44202201?v=4","gravatar_id":"","url":"https://api.github.com/users/flowerbug","html_url":"https://github.com/flowerbug","followers_url":"https://api.github.com/users/flowerbug/followers","following_url":"https://api.github.com/users/flowerbug/following{/other_user}","gists_url":"https://api.github.com/users/flowerbug/gists{/gist_id}","starred_url":"https://api.github.com/users/flowerbug/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/flowerbug/subscriptions","organizations_url":"https://api.github.com/users/flowerbug/orgs","repos_url":"https://api.github.com/users/flowerbug/repos","events_url":"https://api.github.com/users/flowerbug/events{/privacy}","received_events_url":"https://api.github.com/users/flowerbug/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/beancount/beancount/issues/805/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beancount/issues/805/timeline","performed_via_github_app":null,"state_reason":"completed"},{"url":"https://api.github.com/repos/beancount/beancount/issues/804","repository_url":"https://api.github.com/repos/beancount/beancount","labels_url":"https://api.github.com/repos/beancount/beancount/issues/804/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beancount/issues/804/comments","events_url":"https://api.github.com/repos/beancount/beancount/issues/804/events","html_url":"https://github.com/beancount/beancount/issues/804","id":2117282187,"node_id":"I_kwDOD91Bd85-MymL","number":804,"title":"Missing plugins","user":{"login":"tino","id":99524,"node_id":"MDQ6VXNlcjk5NTI0","avatar_url":"https://avatars.githubusercontent.com/u/99524?v=4","gravatar_id":"","url":"https://api.github.com/users/tino","html_url":"https://github.com/tino","followers_url":"https://api.github.com/users/tino/followers","following_url":"https://api.github.com/users/tino/following{/other_user}","gists_url":"https://api.github.com/users/tino/gists{/gist_id}","starred_url":"https://api.github.com/users/tino/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tino/subscriptions","organizations_url":"https://api.github.com/users/tino/orgs","repos_url":"https://api.github.com/users/tino/repos","events_url":"https://api.github.com/users/tino/events{/privacy}","received_events_url":"https://api.github.com/users/tino/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":3,"created_at":"2024-02-04T20:04:07Z","updated_at":"2024-02-07T23:54:57Z","closed_at":"2024-02-07T23:54:57Z","author_association":"NONE","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"In the docs (eg. https://beancount.github.io/docs/how_we_share_expenses.html) there are links to the `divert_expenses` plugin, with a link to http://github.com/beancount/beancount/tree/master/beancount/plugins/divert_expenses.py. Same for `split_expenses`.\r\n\r\nThose files don't exist on master. They do on V2, eg. https://github.com/beancount/beancount/blob/v2/beancount/plugins/split_expenses.py. \r\n\r\nI also can't find when or why they were deleted. `git log --all --full-history -- beancount/plugins/split_expenses.py` shows:\r\n```\r\ncommit 53b6427126b69212a5f1966d7a24a2ae19b5553a\r\nMerge: 05149d0d3 5212c005b\r\nAuthor: blais <blais@furius.ca>\r\nDate:   Sun Apr 30 15:46:25 2023 -0400\r\n\r\n    (Merge branch 'v2', with lint)\r\n```\r\nas last commit, but it's not deleted there. (Although that is a merge commit, something went wrong in the merge?)","closed_by":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/beancount/beancount/issues/804/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beancount/issues/804/timeline","performed_via_github_app":null,"state_reason":"completed"},{"url":"https://api.github.com/repos/beancount/beancount/issues/802","repository_url":"https://api.github.com/repos/beancount/beancount","labels_url":"https://api.github.com/repos/beancount/beancount/issues/802/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beancount/issues/802/comments","events_url":"https://api.github.com/repos/beancount/beancount/issues/802/events","html_url":"https://github.com/beancount/beancount/issues/802","id":2083957640,"node_id":"I_kwDOD91Bd858NquI","number":802,"title":"Possible 'pad' issue when used in chain ?","user":{"login":"xorange","id":441600,"node_id":"MDQ6VXNlcjQ0MTYwMA==","avatar_url":"https://avatars.githubusercontent.com/u/441600?v=4","gravatar_id":"","url":"https://api.github.com/users/xorange","html_url":"https://github.com/xorange","followers_url":"https://api.github.com/users/xorange/followers","following_url":"https://api.github.com/users/xorange/following{/other_user}","gists_url":"https://api.github.com/users/xorange/gists{/gist_id}","starred_url":"https://api.github.com/users/xorange/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/xorange/subscriptions","organizations_url":"https://api.github.com/users/xorange/orgs","repos_url":"https://api.github.com/users/xorange/repos","events_url":"https://api.github.com/users/xorange/events{/privacy}","received_events_url":"https://api.github.com/users/xorange/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":2080996667,"node_id":"MDU6TGFiZWwyMDgwOTk2NjY3","url":"https://api.github.com/repos/beancount/beancount/labels/P0","name":"P0","color":"ff0000","default":false,"description":"Critical priority, breaking changes to current version"}],"state":"open","locked":false,"assignee":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"assignees":[{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false}],"milestone":null,"comments":2,"created_at":"2024-01-16T13:22:22Z","updated_at":"2024-02-10T22:33:24Z","closed_at":null,"author_association":"NONE","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"# Problems I met:\r\n\r\nI padded some assets (or expenses) to an asset account spendable, and then pad this asset account spendable to another asset account. `bean-check` gives me an seemingly erroneous output.\r\n\r\n# To reproduce:\r\n\r\nIn timeline:\r\n1. commit some prepaid\r\n2. receive salary to asset spendable\r\n3. pay for whatever prepaid from spendable (first pad here)\r\n4. save whatever remained to asset:bank (second pad here, bean-check error)\r\n\r\n```\r\n\r\n; 2023-12-01 open Equity:Opening-Balances\r\n\r\n2023-12-01 open Income:Salary                       USD\r\n2023-12-01 open Assets:Cash:Spendable               USD\r\n2023-12-01 open Assets:Bank:Checking                USD\r\n2023-12-01 open Assets:BudgetsPayable               USD\r\n2023-12-01 open Expenses:SomeFee                    USD\r\n\r\n; w/o, doesn't matter\r\n; 2023-12-01 * \"Opening Balance\"\r\n;   Assets:Bank:Checking                        1,000 USD\r\n;   Equity:Opening-Balances\r\n\r\n2024-01-01 * \"prepaid some fee ahead\"\r\n  Expenses:SomeFee       750 USD\r\n  Assets:BudgetsPayable\r\n\r\n2024-01-05 * \"salary\"\r\n  Income:Salary       -10,000 USD\r\n  Assets:Cash:Spendable\r\n\r\n; pay whatever payable\r\n2024-01-05 pad Assets:BudgetsPayable        Assets:Cash:Spendable\r\n2024-01-06 balance Assets:BudgetsPayable         0 USD\r\n\r\n; bean-check passed so far ...\r\n\r\n; save cash whatever left to bank\r\n2024-02-01 pad Assets:Cash:Spendable        Assets:Bank:Checking\r\n2024-02-02 balance Assets:Cash:Spendable         0 USD\r\n\r\n; bean-check error: Balance failed for 'Assets:Cash:Spendable': expected 0 USD != accumulated -750 USD (750 too little)\r\n\r\n```\r\n\r\nI've also tried `Expenses:BudgetsPayable` and the error is the same.\r\n\r\nWhat I expect:\r\n1. before first pad, Assets:BudgetsPayable = -750, Assets:Cash:Spendable = 10,000\r\n2. after first pad, Assets:BudgetsPayable = 0, Assets:Cash:Spendable = 10,000 - 750\r\n3. after second pad, Assets:Cash:Spendable = 0, Assets:Bank:Checking =  10,000 - 750\r\n\r\nIs this a bug or is there anything I'm wrong here ?\r\n\r\n# env\r\n\r\n $ python -c 'import beancount; print(beancount.__version__)'\r\n2.3.6","closed_by":null,"reactions":{"url":"https://api.github.com/repos/beancount/beancount/issues/802/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beancount/issues/802/timeline","performed_via_github_app":null,"state_reason":null},{"url":"https://api.github.com/repos/beancount/beancount/issues/801","repository_url":"https://api.github.com/repos/beancount/beancount","labels_url":"https://api.github.com/repos/beancount/beancount/issues/801/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beancount/issues/801/comments","events_url":"https://api.github.com/repos/beancount/beancount/issues/801/events","html_url":"https://github.com/beancount/beancount/issues/801","id":2080833584,"node_id":"I_kwDOD91Bd858BwAw","number":801,"title":"bean-identify, bean-extract commands do not work with beancount file","user":{"login":"uzkikh","id":1093124,"node_id":"MDQ6VXNlcjEwOTMxMjQ=","avatar_url":"https://avatars.githubusercontent.com/u/1093124?v=4","gravatar_id":"","url":"https://api.github.com/users/uzkikh","html_url":"https://github.com/uzkikh","followers_url":"https://api.github.com/users/uzkikh/followers","following_url":"https://api.github.com/users/uzkikh/following{/other_user}","gists_url":"https://api.github.com/users/uzkikh/gists{/gist_id}","starred_url":"https://api.github.com/users/uzkikh/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/uzkikh/subscriptions","organizations_url":"https://api.github.com/users/uzkikh/orgs","repos_url":"https://api.github.com/users/uzkikh/repos","events_url":"https://api.github.com/users/uzkikh/events{/privacy}","received_events_url":"https://api.github.com/users/uzkikh/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":2,"created_at":"2024-01-14T17:58:59Z","updated_at":"2024-01-14T18:47:14Z","closed_at":"2024-01-14T18:47:13Z","author_association":"NONE","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"I have importers configured for different data sources. I haven't run imports for a week and a half. Today I faced a problem running the bean-identify and bean-extract utilities to update my transaction journal. Perhaps during this time, some updates were installed on the system that broke this functionality.\r\nAs a result of running, I get the following traceback:\r\n\r\n```\r\nTraceback (most recent call last):\r\n  File \"/usr/local/bin/bean-identify\", line 8, in <module>\r\n    sys.exit(identify_main())\r\n             ^^^^^^^^^^^^^^^\r\n  File \"/usr/local/lib/python3.12/site-packages/beancount/ingest/scripts_utils.py\", line 31, in identify_main\r\n    return trampoline_to_ingest(identify)\r\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\r\n  File \"/usr/local/lib/python3.12/site-packages/beancount/ingest/scripts_utils.py\", line 198, in trampoline_to_ingest\r\n    return run_import_script_and_ingest(parser)\r\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\r\n  File \"/usr/local/lib/python3.12/site-packages/beancount/ingest/scripts_utils.py\", line 234, in run_import_script_and_ingest\r\n    mod = runpy.run_path(args.config)\r\n          ^^^^^^^^^^^^^^^^^^^^^^^^^^^\r\n  File \"<frozen runpy>\", line 285, in run_path\r\n  File \"<frozen runpy>\", line 259, in _get_code_from_file\r\n  File \"journal.beancount\", line 20\r\n    2022-01-01 custom \"fava-option\" \"show-accounts-with-zero-balance\" \"false\"\r\n         ^\r\nSyntaxError: leading zeros in decimal integer literals are not permitted; use an 0o prefix for octal integers\r\n```","closed_by":{"login":"uzkikh","id":1093124,"node_id":"MDQ6VXNlcjEwOTMxMjQ=","avatar_url":"https://avatars.githubusercontent.com/u/1093124?v=4","gravatar_id":"","url":"https://api.github.com/users/uzkikh","html_url":"https://github.com/uzkikh","followers_url":"https://api.github.com/users/uzkikh/followers","following_url":"https://api.github.com/users/uzkikh/following{/other_user}","gists_url":"https://api.github.com/users/uzkikh/gists{/gist_id}","starred_url":"https://api.github.com/users/uzkikh/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/uzkikh/subscriptions","organizations_url":"https://api.github.com/users/uzkikh/orgs","repos_url":"https://api.github.com/users/uzkikh/repos","events_url":"https://api.github.com/users/uzkikh/events{/privacy}","received_events_url":"https://api.github.com/users/uzkikh/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/beancount/beancount/issues/801/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beancount/issues/801/timeline","performed_via_github_app":null,"state_reason":"completed"},{"url":"https://api.github.com/repos/beancount/beancount/issues/800","repository_url":"https://api.github.com/repos/beancount/beancount","labels_url":"https://api.github.com/repos/beancount/beancount/issues/800/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beancount/issues/800/comments","events_url":"https://api.github.com/repos/beancount/beancount/issues/800/events","html_url":"https://github.com/beancount/beancount/issues/800","id":2073633048,"node_id":"I_kwDOD91Bd857mSEY","number":800,"title":"Convert float arguments to string first before calling Decimal","user":{"login":"mattmccormick","id":436801,"node_id":"MDQ6VXNlcjQzNjgwMQ==","avatar_url":"https://avatars.githubusercontent.com/u/436801?v=4","gravatar_id":"","url":"https://api.github.com/users/mattmccormick","html_url":"https://github.com/mattmccormick","followers_url":"https://api.github.com/users/mattmccormick/followers","following_url":"https://api.github.com/users/mattmccormick/following{/other_user}","gists_url":"https://api.github.com/users/mattmccormick/gists{/gist_id}","starred_url":"https://api.github.com/users/mattmccormick/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mattmccormick/subscriptions","organizations_url":"https://api.github.com/users/mattmccormick/orgs","repos_url":"https://api.github.com/users/mattmccormick/repos","events_url":"https://api.github.com/users/mattmccormick/events{/privacy}","received_events_url":"https://api.github.com/users/mattmccormick/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":1,"created_at":"2024-01-10T05:43:51Z","updated_at":"2024-01-11T02:10:23Z","closed_at":"2024-01-11T02:10:22Z","author_association":"NONE","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"In the [code here](https://github.com/beancount/beancount/blob/8c99bf0c8b254275d23058d4cd703c98c373f67e/beancount/core/number.py#L61), it's better to convert float arguments to strings first when passing into Decimal.  See the following example:\r\n\r\n```\r\n>>> f = 128.77\r\n>>> from decimal import Decimal\r\n>>> Decimal(f)\r\nDecimal('128.770000000000010231815394945442676544189453125')\r\n>>> Decimal(str(f))\r\nDecimal('128.77')\r\n```\r\n\r\nThe same thing happens when the float value is passed directly into the `D` helper function.","closed_by":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/beancount/beancount/issues/800/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beancount/issues/800/timeline","performed_via_github_app":null,"state_reason":"completed"},{"url":"https://api.github.com/repos/beancount/beancount/issues/799","repository_url":"https://api.github.com/repos/beancount/beancount","labels_url":"https://api.github.com/repos/beancount/beancount/issues/799/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beancount/issues/799/comments","events_url":"https://api.github.com/repos/beancount/beancount/issues/799/events","html_url":"https://github.com/beancount/beancount/pull/799","id":2068510685,"node_id":"PR_kwDOD91Bd85jX-7A","number":799,"title":"Correct order of beancount.ops.pad in loader","user":{"login":"sohamshanbhag","id":11429526,"node_id":"MDQ6VXNlcjExNDI5NTI2","avatar_url":"https://avatars.githubusercontent.com/u/11429526?v=4","gravatar_id":"","url":"https://api.github.com/users/sohamshanbhag","html_url":"https://github.com/sohamshanbhag","followers_url":"https://api.github.com/users/sohamshanbhag/followers","following_url":"https://api.github.com/users/sohamshanbhag/following{/other_user}","gists_url":"https://api.github.com/users/sohamshanbhag/gists{/gist_id}","starred_url":"https://api.github.com/users/sohamshanbhag/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sohamshanbhag/subscriptions","organizations_url":"https://api.github.com/users/sohamshanbhag/orgs","repos_url":"https://api.github.com/users/sohamshanbhag/repos","events_url":"https://api.github.com/users/sohamshanbhag/events{/privacy}","received_events_url":"https://api.github.com/users/sohamshanbhag/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":0,"created_at":"2024-01-06T10:04:06Z","updated_at":"2024-01-14T19:53:28Z","closed_at":"2024-01-14T19:53:27Z","author_association":"CONTRIBUTOR","type":null,"active_lock_reason":null,"draft":false,"pull_request":{"url":"https://api.github.com/repos/beancount/beancount/pulls/799","html_url":"https://github.com/beancount/beancount/pull/799","diff_url":"https://github.com/beancount/beancount/pull/799.diff","patch_url":"https://github.com/beancount/beancount/pull/799.patch","merged_at":"2024-01-14T19:53:27Z"},"body":"The present language syntax specifies the following for the pad directive:\r\n\r\n> A padding directive automatically inserts a transaction that will make the subsequent balance assertion succeed, if it is needed\r\n\r\nHowever, the present padding behaviour does not satisfy this. This issue has been raised in the google groups at\r\nhttps://groups.google.com/g/beancount/c/d4AaX1HqXwI.\r\n\r\nThis commit adds a test to the padding test already present in the repository showing this behaviour. The added test uses a tempfile so I'm not sure if cleanup is needed, however it is similar to the tempfile used in loader_test.py.\r\n\r\nThis commit also adds the proposed change to loader.py which should correct the behaviour. With the proposed change, all the tests pass.\r\n\r\nShould fix #742, but the forecast plugin is no longer in the repository.","closed_by":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/beancount/beancount/issues/799/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beancount/issues/799/timeline","performed_via_github_app":null,"state_reason":null},{"url":"https://api.github.com/repos/beancount/beancount/issues/798","repository_url":"https://api.github.com/repos/beancount/beancount","labels_url":"https://api.github.com/repos/beancount/beancount/issues/798/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beancount/issues/798/comments","events_url":"https://api.github.com/repos/beancount/beancount/issues/798/events","html_url":"https://github.com/beancount/beancount/issues/798","id":2062173023,"node_id":"I_kwDOD91Bd8566kNf","number":798,"title":"BQL: convert function does the convertion at the current date, not at the date of the transaction","user":{"login":"olegbbtr","id":2663743,"node_id":"MDQ6VXNlcjI2NjM3NDM=","avatar_url":"https://avatars.githubusercontent.com/u/2663743?v=4","gravatar_id":"","url":"https://api.github.com/users/olegbbtr","html_url":"https://github.com/olegbbtr","followers_url":"https://api.github.com/users/olegbbtr/followers","following_url":"https://api.github.com/users/olegbbtr/following{/other_user}","gists_url":"https://api.github.com/users/olegbbtr/gists{/gist_id}","starred_url":"https://api.github.com/users/olegbbtr/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/olegbbtr/subscriptions","organizations_url":"https://api.github.com/users/olegbbtr/orgs","repos_url":"https://api.github.com/users/olegbbtr/repos","events_url":"https://api.github.com/users/olegbbtr/events{/privacy}","received_events_url":"https://api.github.com/users/olegbbtr/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":1,"created_at":"2024-01-02T09:49:29Z","updated_at":"2024-01-27T12:06:58Z","closed_at":"2024-01-27T12:06:57Z","author_association":"NONE","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"Perhaps, `sum(convert(cost(position), ...) )` should give conversion at  the date of the posting, but `convert(sum(...), ...)` should give it at a current date.","closed_by":{"login":"dnicolodi","id":987145,"node_id":"MDQ6VXNlcjk4NzE0NQ==","avatar_url":"https://avatars.githubusercontent.com/u/987145?v=4","gravatar_id":"","url":"https://api.github.com/users/dnicolodi","html_url":"https://github.com/dnicolodi","followers_url":"https://api.github.com/users/dnicolodi/followers","following_url":"https://api.github.com/users/dnicolodi/following{/other_user}","gists_url":"https://api.github.com/users/dnicolodi/gists{/gist_id}","starred_url":"https://api.github.com/users/dnicolodi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dnicolodi/subscriptions","organizations_url":"https://api.github.com/users/dnicolodi/orgs","repos_url":"https://api.github.com/users/dnicolodi/repos","events_url":"https://api.github.com/users/dnicolodi/events{/privacy}","received_events_url":"https://api.github.com/users/dnicolodi/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/beancount/beancount/issues/798/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beancount/issues/798/timeline","performed_via_github_app":null,"state_reason":"completed"},{"url":"https://api.github.com/repos/beancount/beancount/issues/797","repository_url":"https://api.github.com/repos/beancount/beancount","labels_url":"https://api.github.com/repos/beancount/beancount/issues/797/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beancount/issues/797/comments","events_url":"https://api.github.com/repos/beancount/beancount/issues/797/events","html_url":"https://github.com/beancount/beancount/issues/797","id":2061321335,"node_id":"I_kwDOD91Bd8563UR3","number":797,"title":"Closed accounts show in `balances` report","user":{"login":"mattmccormick","id":436801,"node_id":"MDQ6VXNlcjQzNjgwMQ==","avatar_url":"https://avatars.githubusercontent.com/u/436801?v=4","gravatar_id":"","url":"https://api.github.com/users/mattmccormick","html_url":"https://github.com/mattmccormick","followers_url":"https://api.github.com/users/mattmccormick/followers","following_url":"https://api.github.com/users/mattmccormick/following{/other_user}","gists_url":"https://api.github.com/users/mattmccormick/gists{/gist_id}","starred_url":"https://api.github.com/users/mattmccormick/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mattmccormick/subscriptions","organizations_url":"https://api.github.com/users/mattmccormick/orgs","repos_url":"https://api.github.com/users/mattmccormick/repos","events_url":"https://api.github.com/users/mattmccormick/events{/privacy}","received_events_url":"https://api.github.com/users/mattmccormick/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"open","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":3,"created_at":"2024-01-01T05:02:19Z","updated_at":"2025-03-01T06:54:08Z","closed_at":null,"author_association":"NONE","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"The documentation on `close` implies that closed accounts will not appear in reports.  However, when I run `bean-reports balances` I still see all my closed accounts.\r\n\r\nDocumentation:\r\n- https://beancount.github.io/docs/getting_started_with_beancount.html#closing-accounts\r\n- https://beancount.github.io/docs/beancount_language_syntax.html#close","closed_by":null,"reactions":{"url":"https://api.github.com/repos/beancount/beancount/issues/797/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beancount/issues/797/timeline","performed_via_github_app":null,"state_reason":null},{"url":"https://api.github.com/repos/beancount/beancount/issues/796","repository_url":"https://api.github.com/repos/beancount/beancount","labels_url":"https://api.github.com/repos/beancount/beancount/issues/796/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beancount/issues/796/comments","events_url":"https://api.github.com/repos/beancount/beancount/issues/796/events","html_url":"https://github.com/beancount/beancount/pull/796","id":2047833239,"node_id":"PR_kwDOD91Bd85iU4H2","number":796,"title":"Update framedocs.py","user":{"login":"idiomaticrefactoring","id":29055749,"node_id":"MDQ6VXNlcjI5MDU1NzQ5","avatar_url":"https://avatars.githubusercontent.com/u/29055749?v=4","gravatar_id":"","url":"https://api.github.com/users/idiomaticrefactoring","html_url":"https://github.com/idiomaticrefactoring","followers_url":"https://api.github.com/users/idiomaticrefactoring/followers","following_url":"https://api.github.com/users/idiomaticrefactoring/following{/other_user}","gists_url":"https://api.github.com/users/idiomaticrefactoring/gists{/gist_id}","starred_url":"https://api.github.com/users/idiomaticrefactoring/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/idiomaticrefactoring/subscriptions","organizations_url":"https://api.github.com/users/idiomaticrefactoring/orgs","repos_url":"https://api.github.com/users/idiomaticrefactoring/repos","events_url":"https://api.github.com/users/idiomaticrefactoring/events{/privacy}","received_events_url":"https://api.github.com/users/idiomaticrefactoring/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":0,"created_at":"2023-12-19T03:06:49Z","updated_at":"2023-12-19T03:16:33Z","closed_at":"2023-12-19T03:16:33Z","author_association":"CONTRIBUTOR","type":null,"active_lock_reason":null,"draft":false,"pull_request":{"url":"https://api.github.com/repos/beancount/beancount/pulls/796","html_url":"https://github.com/beancount/beancount/pull/796","diff_url":"https://github.com/beancount/beancount/pull/796.diff","patch_url":"https://github.com/beancount/beancount/pull/796.patch","merged_at":"2023-12-19T03:16:33Z"},"body":"refactor with With statement to open file to make code more Pythonic","closed_by":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/beancount/beancount/issues/796/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beancount/issues/796/timeline","performed_via_github_app":null,"state_reason":null},{"url":"https://api.github.com/repos/beancount/beancount/issues/795","repository_url":"https://api.github.com/repos/beancount/beancount","labels_url":"https://api.github.com/repos/beancount/beancount/issues/795/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beancount/issues/795/comments","events_url":"https://api.github.com/repos/beancount/beancount/issues/795/events","html_url":"https://github.com/beancount/beancount/issues/795","id":2038160825,"node_id":"I_kwDOD91Bd855e925","number":795,"title":"support rounding postings with arithmetic","user":{"login":"maxheld83","id":5372770,"node_id":"MDQ6VXNlcjUzNzI3NzA=","avatar_url":"https://avatars.githubusercontent.com/u/5372770?v=4","gravatar_id":"","url":"https://api.github.com/users/maxheld83","html_url":"https://github.com/maxheld83","followers_url":"https://api.github.com/users/maxheld83/followers","following_url":"https://api.github.com/users/maxheld83/following{/other_user}","gists_url":"https://api.github.com/users/maxheld83/gists{/gist_id}","starred_url":"https://api.github.com/users/maxheld83/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/maxheld83/subscriptions","organizations_url":"https://api.github.com/users/maxheld83/orgs","repos_url":"https://api.github.com/users/maxheld83/repos","events_url":"https://api.github.com/users/maxheld83/events{/privacy}","received_events_url":"https://api.github.com/users/maxheld83/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"open","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":3,"created_at":"2023-12-12T16:38:08Z","updated_at":"2025-08-30T14:11:40Z","closed_at":null,"author_association":"NONE","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"I sometimes enter postings like so:\r\n\r\n```\r\n1970-01-01 * \"coffee\"\r\n  Expenses:Food:Net           2.13 / 1.19 EUR\r\n  Expenses:Food:Taxes  2.13 / 1.19 * 0.19 EUR ; for example to calculate tax\r\n  Assets:Cash\r\n```\r\n\r\nFor example, such a transaction may be necessary to impute a VAT share which wasn't explicitly listed on a receipt.\r\n\r\nThis will become:\r\n\r\n```\r\n1970-01-01 * \"coffee\"\r\n  Expenses:Food:Net   1.789915966386555 EUR\r\n  Expenses:Food:Taxes 0.340084033613445 EUR\r\n  Assets:Cash\r\n```\r\n\r\nThe trouble with this is, that I now have too many decimal places in my transaction,\r\nwhich may then continue to mess up tolerance calculations.\r\nAnd anyway: it's wrong -- the amounts were, in fact, rounded upon payment.\r\n\r\nIt would be nice if I could somehow express that I want the results of some arithmetic to be rounded, perhaps by either:\r\n\r\n1. leveraging the `~` syntax (i.e. 2.13 / 1.19 ~ 0.01 EUR)\r\n2. ignoring the significant digits resulting from numbers entered via arithmetic (analogous treatment to costs)\r\n3. allowing some more python syntax like `round()` (might open a can of worms)","closed_by":null,"reactions":{"url":"https://api.github.com/repos/beancount/beancount/issues/795/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beancount/issues/795/timeline","performed_via_github_app":null,"state_reason":null},{"url":"https://api.github.com/repos/beancount/beancount/issues/794","repository_url":"https://api.github.com/repos/beancount/beancount","labels_url":"https://api.github.com/repos/beancount/beancount/issues/794/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beancount/issues/794/comments","events_url":"https://api.github.com/repos/beancount/beancount/issues/794/events","html_url":"https://github.com/beancount/beancount/issues/794","id":2034745764,"node_id":"I_kwDOD91Bd855R8Gk","number":794,"title":"Commdity directive support for T-Bills (CUSIP)","user":{"login":"pallavg","id":12074568,"node_id":"MDQ6VXNlcjEyMDc0NTY4","avatar_url":"https://avatars.githubusercontent.com/u/12074568?v=4","gravatar_id":"","url":"https://api.github.com/users/pallavg","html_url":"https://github.com/pallavg","followers_url":"https://api.github.com/users/pallavg/followers","following_url":"https://api.github.com/users/pallavg/following{/other_user}","gists_url":"https://api.github.com/users/pallavg/gists{/gist_id}","starred_url":"https://api.github.com/users/pallavg/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pallavg/subscriptions","organizations_url":"https://api.github.com/users/pallavg/orgs","repos_url":"https://api.github.com/users/pallavg/repos","events_url":"https://api.github.com/users/pallavg/events{/privacy}","received_events_url":"https://api.github.com/users/pallavg/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":2,"created_at":"2023-12-11T03:19:40Z","updated_at":"2023-12-12T04:09:40Z","closed_at":"2023-12-12T04:09:39Z","author_association":"NONE","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"I try to capture a Treasury Bill by CUSIP number as follows:\r\n\r\n```\r\n2023-01-01 commodity 912828P38\r\n  name: \"T-Bill\"\r\n  asset-class: \"T-Bill\"\r\n  cusip: \"912828P38\"\r\n  export: \"912828P38\"\r\n  price: \"\"\r\n```\r\n\r\nWhen I run bean-check, I get the following error:\r\n\r\n` syntax error, unexpected NUMBER, expecting CURRENCY`\r\n\r\nAs a workaround, I change 912828P38 to T912828P38 to get past the error. Is this behavior expected? What would be the correct way to capture T-Bills. Unlike ETF/Stocks which have letters, T-Bills are usually defined by CUSIP numbers ASFAIK. Thanks.\r\n\r\n","closed_by":{"login":"pallavg","id":12074568,"node_id":"MDQ6VXNlcjEyMDc0NTY4","avatar_url":"https://avatars.githubusercontent.com/u/12074568?v=4","gravatar_id":"","url":"https://api.github.com/users/pallavg","html_url":"https://github.com/pallavg","followers_url":"https://api.github.com/users/pallavg/followers","following_url":"https://api.github.com/users/pallavg/following{/other_user}","gists_url":"https://api.github.com/users/pallavg/gists{/gist_id}","starred_url":"https://api.github.com/users/pallavg/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pallavg/subscriptions","organizations_url":"https://api.github.com/users/pallavg/orgs","repos_url":"https://api.github.com/users/pallavg/repos","events_url":"https://api.github.com/users/pallavg/events{/privacy}","received_events_url":"https://api.github.com/users/pallavg/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/beancount/beancount/issues/794/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beancount/issues/794/timeline","performed_via_github_app":null,"state_reason":"completed"},{"url":"https://api.github.com/repos/beancount/beancount/issues/792","repository_url":"https://api.github.com/repos/beancount/beancount","labels_url":"https://api.github.com/repos/beancount/beancount/issues/792/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beancount/issues/792/comments","events_url":"https://api.github.com/repos/beancount/beancount/issues/792/events","html_url":"https://github.com/beancount/beancount/issues/792","id":2018790075,"node_id":"I_kwDOD91Bd854VEq7","number":792,"title":"Commodity starting with number char","user":{"login":"askarzh","id":22590124,"node_id":"MDQ6VXNlcjIyNTkwMTI0","avatar_url":"https://avatars.githubusercontent.com/u/22590124?v=4","gravatar_id":"","url":"https://api.github.com/users/askarzh","html_url":"https://github.com/askarzh","followers_url":"https://api.github.com/users/askarzh/followers","following_url":"https://api.github.com/users/askarzh/following{/other_user}","gists_url":"https://api.github.com/users/askarzh/gists{/gist_id}","starred_url":"https://api.github.com/users/askarzh/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/askarzh/subscriptions","organizations_url":"https://api.github.com/users/askarzh/orgs","repos_url":"https://api.github.com/users/askarzh/repos","events_url":"https://api.github.com/users/askarzh/events{/privacy}","received_events_url":"https://api.github.com/users/askarzh/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":4,"created_at":"2023-11-30T14:31:24Z","updated_at":"2024-01-27T12:49:40Z","closed_at":"2023-12-03T18:11:10Z","author_association":"NONE","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"It is not allowed to use comodity name with starting number char. Unfortunately, there is some stocks with number at first. I.e.\r\n2B78 iShares Healthcare Innovation UCITS ETF\r\nEUR:yahoo/2B78.DE","closed_by":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/beancount/beancount/issues/792/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beancount/issues/792/timeline","performed_via_github_app":null,"state_reason":"completed"},{"url":"https://api.github.com/repos/beancount/beancount/issues/791","repository_url":"https://api.github.com/repos/beancount/beancount","labels_url":"https://api.github.com/repos/beancount/beancount/issues/791/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beancount/issues/791/comments","events_url":"https://api.github.com/repos/beancount/beancount/issues/791/events","html_url":"https://github.com/beancount/beancount/pull/791","id":2010735540,"node_id":"PR_kwDOD91Bd85gXDES","number":791,"title":"Make file type logic work with both magic libraries","user":{"login":"davide125","id":397089,"node_id":"MDQ6VXNlcjM5NzA4OQ==","avatar_url":"https://avatars.githubusercontent.com/u/397089?v=4","gravatar_id":"","url":"https://api.github.com/users/davide125","html_url":"https://github.com/davide125","followers_url":"https://api.github.com/users/davide125/followers","following_url":"https://api.github.com/users/davide125/following{/other_user}","gists_url":"https://api.github.com/users/davide125/gists{/gist_id}","starred_url":"https://api.github.com/users/davide125/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/davide125/subscriptions","organizations_url":"https://api.github.com/users/davide125/orgs","repos_url":"https://api.github.com/users/davide125/repos","events_url":"https://api.github.com/users/davide125/events{/privacy}","received_events_url":"https://api.github.com/users/davide125/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"open","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":2,"created_at":"2023-11-25T17:14:30Z","updated_at":"2023-12-10T16:04:23Z","closed_at":null,"author_association":"NONE","type":null,"active_lock_reason":null,"draft":false,"pull_request":{"url":"https://api.github.com/repos/beancount/beancount/pulls/791","html_url":"https://github.com/beancount/beancount/pull/791","diff_url":"https://github.com/beancount/beancount/pull/791.diff","patch_url":"https://github.com/beancount/beancount/pull/791.patch","merged_at":null},"body":"The current implementation only works with python-magic because it uses its specific API. However, python-magic includes a [compatibility API](https://github.com/ahupp/python-magic/blob/master/COMPAT.md) as of 0.4.19, so we can use that instead to make the logic compatible with both python-magic and python-file-magic.","closed_by":null,"reactions":{"url":"https://api.github.com/repos/beancount/beancount/issues/791/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beancount/issues/791/timeline","performed_via_github_app":null,"state_reason":null},{"url":"https://api.github.com/repos/beancount/beancount/issues/790","repository_url":"https://api.github.com/repos/beancount/beancount","labels_url":"https://api.github.com/repos/beancount/beancount/issues/790/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beancount/issues/790/comments","events_url":"https://api.github.com/repos/beancount/beancount/issues/790/events","html_url":"https://github.com/beancount/beancount/pull/790","id":2008695031,"node_id":"PR_kwDOD91Bd85gQS1o","number":790,"title":"setup: Fix typo for extras_require","user":{"login":"davide125","id":397089,"node_id":"MDQ6VXNlcjM5NzA4OQ==","avatar_url":"https://avatars.githubusercontent.com/u/397089?v=4","gravatar_id":"","url":"https://api.github.com/users/davide125","html_url":"https://github.com/davide125","followers_url":"https://api.github.com/users/davide125/followers","following_url":"https://api.github.com/users/davide125/following{/other_user}","gists_url":"https://api.github.com/users/davide125/gists{/gist_id}","starred_url":"https://api.github.com/users/davide125/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/davide125/subscriptions","organizations_url":"https://api.github.com/users/davide125/orgs","repos_url":"https://api.github.com/users/davide125/repos","events_url":"https://api.github.com/users/davide125/events{/privacy}","received_events_url":"https://api.github.com/users/davide125/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":2,"created_at":"2023-11-23T19:01:49Z","updated_at":"2024-01-14T19:36:26Z","closed_at":"2024-01-14T19:36:26Z","author_association":"NONE","type":null,"active_lock_reason":null,"draft":false,"pull_request":{"url":"https://api.github.com/repos/beancount/beancount/pulls/790","html_url":"https://github.com/beancount/beancount/pull/790","diff_url":"https://github.com/beancount/beancount/pull/790.diff","patch_url":"https://github.com/beancount/beancount/pull/790.patch","merged_at":"2024-01-14T19:36:26Z"},"body":"This is a fixup for dc761f986c32bbb109cb719969ae55d6eb7247ae to make extras work correctly.","closed_by":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/beancount/beancount/issues/790/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beancount/issues/790/timeline","performed_via_github_app":null,"state_reason":null},{"url":"https://api.github.com/repos/beancount/beancount/issues/789","repository_url":"https://api.github.com/repos/beancount/beancount","labels_url":"https://api.github.com/repos/beancount/beancount/issues/789/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beancount/issues/789/comments","events_url":"https://api.github.com/repos/beancount/beancount/issues/789/events","html_url":"https://github.com/beancount/beancount/pull/789","id":2000794747,"node_id":"PR_kwDOD91Bd85f1kL4","number":789,"title":"setup: Move pytest and pdfminer2 to extra_requires test","user":{"login":"dnicolodi","id":987145,"node_id":"MDQ6VXNlcjk4NzE0NQ==","avatar_url":"https://avatars.githubusercontent.com/u/987145?v=4","gravatar_id":"","url":"https://api.github.com/users/dnicolodi","html_url":"https://github.com/dnicolodi","followers_url":"https://api.github.com/users/dnicolodi/followers","following_url":"https://api.github.com/users/dnicolodi/following{/other_user}","gists_url":"https://api.github.com/users/dnicolodi/gists{/gist_id}","starred_url":"https://api.github.com/users/dnicolodi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dnicolodi/subscriptions","organizations_url":"https://api.github.com/users/dnicolodi/orgs","repos_url":"https://api.github.com/users/dnicolodi/repos","events_url":"https://api.github.com/users/dnicolodi/events{/privacy}","received_events_url":"https://api.github.com/users/dnicolodi/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":0,"created_at":"2023-11-19T10:41:57Z","updated_at":"2023-11-19T22:20:51Z","closed_at":"2023-11-19T22:20:50Z","author_association":"COLLABORATOR","type":null,"active_lock_reason":null,"draft":false,"pull_request":{"url":"https://api.github.com/repos/beancount/beancount/pulls/789","html_url":"https://github.com/beancount/beancount/pull/789","diff_url":"https://github.com/beancount/beancount/pull/789.diff","patch_url":"https://github.com/beancount/beancount/pull/789.patch","merged_at":"2023-11-19T22:20:50Z"},"body":null,"closed_by":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/beancount/beancount/issues/789/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beancount/issues/789/timeline","performed_via_github_app":null,"state_reason":null},{"url":"https://api.github.com/repos/beancount/beancount/issues/788","repository_url":"https://api.github.com/repos/beancount/beancount","labels_url":"https://api.github.com/repos/beancount/beancount/issues/788/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beancount/issues/788/comments","events_url":"https://api.github.com/repos/beancount/beancount/issues/788/events","html_url":"https://github.com/beancount/beancount/issues/788","id":2000706836,"node_id":"I_kwDOD91Bd853QF0U","number":788,"title":"Please remove pdfminer2 dependency","user":{"login":"kpine","id":791794,"node_id":"MDQ6VXNlcjc5MTc5NA==","avatar_url":"https://avatars.githubusercontent.com/u/791794?v=4","gravatar_id":"","url":"https://api.github.com/users/kpine","html_url":"https://github.com/kpine","followers_url":"https://api.github.com/users/kpine/followers","following_url":"https://api.github.com/users/kpine/following{/other_user}","gists_url":"https://api.github.com/users/kpine/gists{/gist_id}","starred_url":"https://api.github.com/users/kpine/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kpine/subscriptions","organizations_url":"https://api.github.com/users/kpine/orgs","repos_url":"https://api.github.com/users/kpine/repos","events_url":"https://api.github.com/users/kpine/events{/privacy}","received_events_url":"https://api.github.com/users/kpine/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":3,"created_at":"2023-11-19T05:37:10Z","updated_at":"2024-01-14T19:35:13Z","closed_at":"2024-01-14T19:35:13Z","author_association":"NONE","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"I have been using custom PDF importers in Beancount with [pdfminer-six](https://github.com/pdfminer/pdfminer.six). After upgrading to Beancount 2.3.6 my importers started failing. This is because Beancount 2.3.6 has [added](https://github.com/beancount/beancount/commit/04dab637af61de51614d9577e569869a497f733c) pdfminer2 as a dependency. As the APIs are not compatible, the python imports fail.\r\n\r\nI can workaround this by uninstalling pdfminer2 and installing pdfminer-six afterwards, but since there doesn't actually seem to be any real dependency on pdfminer2, is it necessary to include it?","closed_by":{"login":"dnicolodi","id":987145,"node_id":"MDQ6VXNlcjk4NzE0NQ==","avatar_url":"https://avatars.githubusercontent.com/u/987145?v=4","gravatar_id":"","url":"https://api.github.com/users/dnicolodi","html_url":"https://github.com/dnicolodi","followers_url":"https://api.github.com/users/dnicolodi/followers","following_url":"https://api.github.com/users/dnicolodi/following{/other_user}","gists_url":"https://api.github.com/users/dnicolodi/gists{/gist_id}","starred_url":"https://api.github.com/users/dnicolodi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dnicolodi/subscriptions","organizations_url":"https://api.github.com/users/dnicolodi/orgs","repos_url":"https://api.github.com/users/dnicolodi/repos","events_url":"https://api.github.com/users/dnicolodi/events{/privacy}","received_events_url":"https://api.github.com/users/dnicolodi/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/beancount/beancount/issues/788/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beancount/issues/788/timeline","performed_via_github_app":null,"state_reason":"completed"},{"url":"https://api.github.com/repos/beancount/beancount/issues/786","repository_url":"https://api.github.com/repos/beancount/beancount","labels_url":"https://api.github.com/repos/beancount/beancount/issues/786/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beancount/issues/786/comments","events_url":"https://api.github.com/repos/beancount/beancount/issues/786/events","html_url":"https://github.com/beancount/beancount/issues/786","id":1955989940,"node_id":"I_kwDOD91Bd850lgm0","number":786,"title":"Accounts with Unicode chars don't work well with bean-web","user":{"login":"cdokolas","id":1136790,"node_id":"MDQ6VXNlcjExMzY3OTA=","avatar_url":"https://avatars.githubusercontent.com/u/1136790?v=4","gravatar_id":"","url":"https://api.github.com/users/cdokolas","html_url":"https://github.com/cdokolas","followers_url":"https://api.github.com/users/cdokolas/followers","following_url":"https://api.github.com/users/cdokolas/following{/other_user}","gists_url":"https://api.github.com/users/cdokolas/gists{/gist_id}","starred_url":"https://api.github.com/users/cdokolas/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cdokolas/subscriptions","organizations_url":"https://api.github.com/users/cdokolas/orgs","repos_url":"https://api.github.com/users/cdokolas/repos","events_url":"https://api.github.com/users/cdokolas/events{/privacy}","received_events_url":"https://api.github.com/users/cdokolas/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":5,"created_at":"2023-10-22T17:41:57Z","updated_at":"2024-11-09T20:24:34Z","closed_at":"2024-11-09T12:18:28Z","author_association":"NONE","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"I have some accounts named with Greek words. Clicking on them in the `bean-web` micro-site, gives an `Error: 400 Bad Request` error with the following info:\r\n\r\n`Invalid path string. Expected UTF-8`\r\n\r\nFor testing purposes, I opened an account named `Liabilities:Test:αβγδε`. The resulting URL is `http://localhost:8080/view/all/journal/Liabilities:Test:%CE%B1%CE%B2%CE%B3%CE%B4%CE%B5` and the URL-part of the error is `Sorry, the requested URL 'http://localhost:8080/view/all/journal/Liabilities%3ATest%3A%CE%B1%CE%B2%CE%B3%CE%B4%CE%B5' caused an error`.\r\n","closed_by":{"login":"dnicolodi","id":987145,"node_id":"MDQ6VXNlcjk4NzE0NQ==","avatar_url":"https://avatars.githubusercontent.com/u/987145?v=4","gravatar_id":"","url":"https://api.github.com/users/dnicolodi","html_url":"https://github.com/dnicolodi","followers_url":"https://api.github.com/users/dnicolodi/followers","following_url":"https://api.github.com/users/dnicolodi/following{/other_user}","gists_url":"https://api.github.com/users/dnicolodi/gists{/gist_id}","starred_url":"https://api.github.com/users/dnicolodi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dnicolodi/subscriptions","organizations_url":"https://api.github.com/users/dnicolodi/orgs","repos_url":"https://api.github.com/users/dnicolodi/repos","events_url":"https://api.github.com/users/dnicolodi/events{/privacy}","received_events_url":"https://api.github.com/users/dnicolodi/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/beancount/beancount/issues/786/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beancount/issues/786/timeline","performed_via_github_app":null,"state_reason":"not_planned"},{"url":"https://api.github.com/repos/beancount/beancount/issues/785","repository_url":"https://api.github.com/repos/beancount/beancount","labels_url":"https://api.github.com/repos/beancount/beancount/issues/785/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beancount/issues/785/comments","events_url":"https://api.github.com/repos/beancount/beancount/issues/785/events","html_url":"https://github.com/beancount/beancount/pull/785","id":1955412322,"node_id":"PR_kwDOD91Bd85dcQkk","number":785,"title":"parser: Remove line count limit from strings","user":{"login":"dnicolodi","id":987145,"node_id":"MDQ6VXNlcjk4NzE0NQ==","avatar_url":"https://avatars.githubusercontent.com/u/987145?v=4","gravatar_id":"","url":"https://api.github.com/users/dnicolodi","html_url":"https://github.com/dnicolodi","followers_url":"https://api.github.com/users/dnicolodi/followers","following_url":"https://api.github.com/users/dnicolodi/following{/other_user}","gists_url":"https://api.github.com/users/dnicolodi/gists{/gist_id}","starred_url":"https://api.github.com/users/dnicolodi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dnicolodi/subscriptions","organizations_url":"https://api.github.com/users/dnicolodi/orgs","repos_url":"https://api.github.com/users/dnicolodi/repos","events_url":"https://api.github.com/users/dnicolodi/events{/privacy}","received_events_url":"https://api.github.com/users/dnicolodi/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":0,"created_at":"2023-10-21T09:48:17Z","updated_at":"2023-10-21T13:27:48Z","closed_at":"2023-10-21T13:27:48Z","author_association":"COLLABORATOR","type":null,"active_lock_reason":null,"draft":false,"pull_request":{"url":"https://api.github.com/repos/beancount/beancount/pulls/785","html_url":"https://github.com/beancount/beancount/pull/785","diff_url":"https://github.com/beancount/beancount/pull/785.diff","patch_url":"https://github.com/beancount/beancount/pull/785.patch","merged_at":"2023-10-21T13:27:48Z"},"body":"The idea behind enforcing the limit was to detect instances where the user forgot a closing quote. However, for how a beancount ledger is usually structured, it is very hard to hit the line count limit before the ledger contains an unrelated quote character that get interpreted as the closing quote.\r\n\r\nThere are multiple reports about the limit being to low to for valid input, for example in the case of long plugin configuration strings, and the limit is not effective in detecting invalid ledgers. Remove the limit.","closed_by":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/beancount/beancount/issues/785/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beancount/issues/785/timeline","performed_via_github_app":null,"state_reason":null},{"url":"https://api.github.com/repos/beancount/beancount/issues/784","repository_url":"https://api.github.com/repos/beancount/beancount","labels_url":"https://api.github.com/repos/beancount/beancount/issues/784/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beancount/issues/784/comments","events_url":"https://api.github.com/repos/beancount/beancount/issues/784/events","html_url":"https://github.com/beancount/beancount/pull/784","id":1948557917,"node_id":"PR_kwDOD91Bd85dE_o0","number":784,"title":"Bump urllib3 from 1.26.16 to 1.26.18 in /requirements","user":{"login":"dependabot[bot]","id":49699333,"node_id":"MDM6Qm90NDk2OTkzMzM=","avatar_url":"https://avatars.githubusercontent.com/in/29110?v=4","gravatar_id":"","url":"https://api.github.com/users/dependabot%5Bbot%5D","html_url":"https://github.com/apps/dependabot","followers_url":"https://api.github.com/users/dependabot%5Bbot%5D/followers","following_url":"https://api.github.com/users/dependabot%5Bbot%5D/following{/other_user}","gists_url":"https://api.github.com/users/dependabot%5Bbot%5D/gists{/gist_id}","starred_url":"https://api.github.com/users/dependabot%5Bbot%5D/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dependabot%5Bbot%5D/subscriptions","organizations_url":"https://api.github.com/users/dependabot%5Bbot%5D/orgs","repos_url":"https://api.github.com/users/dependabot%5Bbot%5D/repos","events_url":"https://api.github.com/users/dependabot%5Bbot%5D/events{/privacy}","received_events_url":"https://api.github.com/users/dependabot%5Bbot%5D/received_events","type":"Bot","user_view_type":"public","site_admin":false},"labels":[{"id":6035848709,"node_id":"LA_kwDOD91Bd88AAAABZ8O-BQ","url":"https://api.github.com/repos/beancount/beancount/labels/dependencies","name":"dependencies","color":"0366d6","default":false,"description":"Pull requests that update a dependency file"}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":0,"created_at":"2023-10-18T01:12:45Z","updated_at":"2023-10-19T01:27:24Z","closed_at":"2023-10-19T01:27:16Z","author_association":"CONTRIBUTOR","type":null,"active_lock_reason":null,"draft":false,"pull_request":{"url":"https://api.github.com/repos/beancount/beancount/pulls/784","html_url":"https://github.com/beancount/beancount/pull/784","diff_url":"https://github.com/beancount/beancount/pull/784.diff","patch_url":"https://github.com/beancount/beancount/pull/784.patch","merged_at":"2023-10-19T01:27:16Z"},"body":"Bumps [urllib3](https://github.com/urllib3/urllib3) from 1.26.16 to 1.26.18.\n<details>\n<summary>Release notes</summary>\n<p><em>Sourced from <a href=\"https://github.com/urllib3/urllib3/releases\">urllib3's releases</a>.</em></p>\n<blockquote>\n<h2>1.26.18</h2>\n<ul>\n<li>Made body stripped from HTTP requests changing the request method to GET after HTTP 303 &quot;See Other&quot; redirect responses. (GHSA-g4mx-q9vg-27p4)</li>\n</ul>\n<h2>1.26.17</h2>\n<ul>\n<li>Added the <code>Cookie</code> header to the list of headers to strip from requests when redirecting to a different host. As before, different headers can be set via <code>Retry.remove_headers_on_redirect</code>. (GHSA-v845-jxx5-vc9f)</li>\n</ul>\n</blockquote>\n</details>\n<details>\n<summary>Changelog</summary>\n<p><em>Sourced from <a href=\"https://github.com/urllib3/urllib3/blob/main/CHANGES.rst\">urllib3's changelog</a>.</em></p>\n<blockquote>\n<h1>1.26.18 (2023-10-17)</h1>\n<ul>\n<li>Made body stripped from HTTP requests changing the request method to GET after HTTP 303 &quot;See Other&quot; redirect responses.</li>\n</ul>\n<h1>1.26.17 (2023-10-02)</h1>\n<ul>\n<li>Added the <code>Cookie</code> header to the list of headers to strip from requests when redirecting to a different host. As before, different headers can be set via <code>Retry.remove_headers_on_redirect</code>. (<code>[#3139](https://github.com/urllib3/urllib3/issues/3139) &lt;https://github.com/urllib3/urllib3/pull/3139&gt;</code>_)</li>\n</ul>\n</blockquote>\n</details>\n<details>\n<summary>Commits</summary>\n<ul>\n<li><a href=\"https://github.com/urllib3/urllib3/commit/9c2c2307dd1d6af504e09aac0326d86ee3597a0b\"><code>9c2c230</code></a> Release 1.26.18 (<a href=\"https://redirect.github.com/urllib3/urllib3/issues/3159\">#3159</a>)</li>\n<li><a href=\"https://github.com/urllib3/urllib3/commit/b594c5ceaca38e1ac215f916538fb128e3526a36\"><code>b594c5c</code></a> Merge pull request from GHSA-g4mx-q9vg-27p4</li>\n<li><a href=\"https://github.com/urllib3/urllib3/commit/944f0eb134485f41bc531be52de12ba5a37bca73\"><code>944f0eb</code></a> [1.26] Use vendored six in urllib3.contrib.securetransport</li>\n<li><a href=\"https://github.com/urllib3/urllib3/commit/c9016bf464751a02b7e46f8b86504f47d4238784\"><code>c9016bf</code></a> Release 1.26.17</li>\n<li><a href=\"https://github.com/urllib3/urllib3/commit/01220354d389cd05474713f8c982d05c9b17aafb\"><code>0122035</code></a> Backport GHSA-v845-jxx5-vc9f (<a href=\"https://redirect.github.com/urllib3/urllib3/issues/3139\">#3139</a>)</li>\n<li><a href=\"https://github.com/urllib3/urllib3/commit/e63989f97d206e839ab9170c8a76e3e097cc60e8\"><code>e63989f</code></a> Fix installing <code>brotli</code> extra on Python 2.7</li>\n<li><a href=\"https://github.com/urllib3/urllib3/commit/2e7a24d08713a0131f0b3c7197889466d645cc49\"><code>2e7a24d</code></a> [1.26] Configure OS for RTD to fix building docs</li>\n<li><a href=\"https://github.com/urllib3/urllib3/commit/57181d6ea910ac7cb2ff83345d9e5e0eb816a0d0\"><code>57181d6</code></a> [1.26] Improve error message when calling urllib3.request() (<a href=\"https://redirect.github.com/urllib3/urllib3/issues/3058\">#3058</a>)</li>\n<li><a href=\"https://github.com/urllib3/urllib3/commit/3c0148048a523325819377b23fc67f8d46afc3aa\"><code>3c01480</code></a> [1.26] Run coverage even with failed jobs</li>\n<li>See full diff in <a href=\"https://github.com/urllib3/urllib3/compare/1.26.16...1.26.18\">compare view</a></li>\n</ul>\n</details>\n<br />\n\n\n[![Dependabot compatibility score](https://dependabot-badges.githubapp.com/badges/compatibility_score?dependency-name=urllib3&package-manager=pip&previous-version=1.26.16&new-version=1.26.18)](https://docs.github.com/en/github/managing-security-vulnerabilities/about-dependabot-security-updates#about-compatibility-scores)\n\nDependabot will resolve any conflicts with this PR as long as you don't alter it yourself. You can also trigger a rebase manually by commenting `@dependabot rebase`.\n\n[//]: # (dependabot-automerge-start)\n[//]: # (dependabot-automerge-end)\n\n---\n\n<details>\n<summary>Dependabot commands and options</summary>\n<br />\n\nYou can trigger Dependabot actions by commenting on this PR:\n- `@dependabot rebase` will rebase this PR\n- `@dependabot recreate` will recreate this PR, overwriting any edits that have been made to it\n- `@dependabot merge` will merge this PR after your CI passes on it\n- `@dependabot squash and merge` will squash and merge this PR after your CI passes on it\n- `@dependabot cancel merge` will cancel a previously requested merge and block automerging\n- `@dependabot reopen` will reopen this PR if it is closed\n- `@dependabot close` will close this PR and stop Dependabot recreating it. You can achieve the same result by closing it manually\n- `@dependabot show <dependency name> ignore conditions` will show all of the ignore conditions of the specified dependency\n- `@dependabot ignore this major version` will close this PR and stop Dependabot creating any more for this major version (unless you reopen the PR or upgrade to it yourself)\n- `@dependabot ignore this minor version` will close this PR and stop Dependabot creating any more for this minor version (unless you reopen the PR or upgrade to it yourself)\n- `@dependabot ignore this dependency` will close this PR and stop Dependabot creating any more for this dependency (unless you reopen the PR or upgrade to it yourself)\nYou can disable automated security fix PRs for this repo from the [Security Alerts page](https://github.com/beancount/beancount/network/alerts).\n\n</details>","closed_by":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/beancount/beancount/issues/784/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beancount/issues/784/timeline","performed_via_github_app":null,"state_reason":null},{"url":"https://api.github.com/repos/beancount/beancount/issues/782","repository_url":"https://api.github.com/repos/beancount/beancount","labels_url":"https://api.github.com/repos/beancount/beancount/issues/782/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beancount/issues/782/comments","events_url":"https://api.github.com/repos/beancount/beancount/issues/782/events","html_url":"https://github.com/beancount/beancount/pull/782","id":1928809390,"node_id":"PR_kwDOD91Bd85cCcLH","number":782,"title":"Prepare 2.3.6 release","user":{"login":"dnicolodi","id":987145,"node_id":"MDQ6VXNlcjk4NzE0NQ==","avatar_url":"https://avatars.githubusercontent.com/u/987145?v=4","gravatar_id":"","url":"https://api.github.com/users/dnicolodi","html_url":"https://github.com/dnicolodi","followers_url":"https://api.github.com/users/dnicolodi/followers","following_url":"https://api.github.com/users/dnicolodi/following{/other_user}","gists_url":"https://api.github.com/users/dnicolodi/gists{/gist_id}","starred_url":"https://api.github.com/users/dnicolodi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dnicolodi/subscriptions","organizations_url":"https://api.github.com/users/dnicolodi/orgs","repos_url":"https://api.github.com/users/dnicolodi/repos","events_url":"https://api.github.com/users/dnicolodi/events{/privacy}","received_events_url":"https://api.github.com/users/dnicolodi/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":11,"created_at":"2023-10-05T18:10:19Z","updated_at":"2023-10-07T22:50:07Z","closed_at":"2023-10-05T22:39:54Z","author_association":"COLLABORATOR","type":null,"active_lock_reason":null,"draft":false,"pull_request":{"url":"https://api.github.com/repos/beancount/beancount/pulls/782","html_url":"https://github.com/beancount/beancount/pull/782","diff_url":"https://github.com/beancount/beancount/pull/782.diff","patch_url":"https://github.com/beancount/beancount/pull/782.patch","merged_at":"2023-10-05T22:39:54Z"},"body":null,"closed_by":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/beancount/beancount/issues/782/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beancount/issues/782/timeline","performed_via_github_app":null,"state_reason":null},{"url":"https://api.github.com/repos/beancount/beancount/issues/781","repository_url":"https://api.github.com/repos/beancount/beancount","labels_url":"https://api.github.com/repos/beancount/beancount/issues/781/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beancount/issues/781/comments","events_url":"https://api.github.com/repos/beancount/beancount/issues/781/events","html_url":"https://github.com/beancount/beancount/pull/781","id":1923267764,"node_id":"PR_kwDOD91Bd85bvtVT","number":781,"title":"Bump urllib3 from 1.26.16 to 1.26.17 in /requirements","user":{"login":"dependabot[bot]","id":49699333,"node_id":"MDM6Qm90NDk2OTkzMzM=","avatar_url":"https://avatars.githubusercontent.com/in/29110?v=4","gravatar_id":"","url":"https://api.github.com/users/dependabot%5Bbot%5D","html_url":"https://github.com/apps/dependabot","followers_url":"https://api.github.com/users/dependabot%5Bbot%5D/followers","following_url":"https://api.github.com/users/dependabot%5Bbot%5D/following{/other_user}","gists_url":"https://api.github.com/users/dependabot%5Bbot%5D/gists{/gist_id}","starred_url":"https://api.github.com/users/dependabot%5Bbot%5D/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dependabot%5Bbot%5D/subscriptions","organizations_url":"https://api.github.com/users/dependabot%5Bbot%5D/orgs","repos_url":"https://api.github.com/users/dependabot%5Bbot%5D/repos","events_url":"https://api.github.com/users/dependabot%5Bbot%5D/events{/privacy}","received_events_url":"https://api.github.com/users/dependabot%5Bbot%5D/received_events","type":"Bot","user_view_type":"public","site_admin":false},"labels":[{"id":6035848709,"node_id":"LA_kwDOD91Bd88AAAABZ8O-BQ","url":"https://api.github.com/repos/beancount/beancount/labels/dependencies","name":"dependencies","color":"0366d6","default":false,"description":"Pull requests that update a dependency file"}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":1,"created_at":"2023-10-03T04:14:31Z","updated_at":"2023-10-18T01:12:50Z","closed_at":"2023-10-18T01:12:48Z","author_association":"CONTRIBUTOR","type":null,"active_lock_reason":null,"draft":false,"pull_request":{"url":"https://api.github.com/repos/beancount/beancount/pulls/781","html_url":"https://github.com/beancount/beancount/pull/781","diff_url":"https://github.com/beancount/beancount/pull/781.diff","patch_url":"https://github.com/beancount/beancount/pull/781.patch","merged_at":null},"body":"Bumps [urllib3](https://github.com/urllib3/urllib3) from 1.26.16 to 1.26.17.\n<details>\n<summary>Release notes</summary>\n<p><em>Sourced from <a href=\"https://github.com/urllib3/urllib3/releases\">urllib3's releases</a>.</em></p>\n<blockquote>\n<h2>1.26.17</h2>\n<ul>\n<li>Added the <code>Cookie</code> header to the list of headers to strip from requests when redirecting to a different host. As before, different headers can be set via <code>Retry.remove_headers_on_redirect</code>. (GHSA-v845-jxx5-vc9f)</li>\n</ul>\n</blockquote>\n</details>\n<details>\n<summary>Changelog</summary>\n<p><em>Sourced from <a href=\"https://github.com/urllib3/urllib3/blob/main/CHANGES.rst\">urllib3's changelog</a>.</em></p>\n<blockquote>\n<h1>1.26.17 (2023-10-02)</h1>\n<ul>\n<li>Added the <code>Cookie</code> header to the list of headers to strip from requests when redirecting to a different host. As before, different headers can be set via <code>Retry.remove_headers_on_redirect</code>. (<code>[#3139](https://github.com/urllib3/urllib3/issues/3139) &lt;https://github.com/urllib3/urllib3/pull/3139&gt;</code>_)</li>\n</ul>\n</blockquote>\n</details>\n<details>\n<summary>Commits</summary>\n<ul>\n<li><a href=\"https://github.com/urllib3/urllib3/commit/c9016bf464751a02b7e46f8b86504f47d4238784\"><code>c9016bf</code></a> Release 1.26.17</li>\n<li><a href=\"https://github.com/urllib3/urllib3/commit/01220354d389cd05474713f8c982d05c9b17aafb\"><code>0122035</code></a> Backport GHSA-v845-jxx5-vc9f (<a href=\"https://redirect.github.com/urllib3/urllib3/issues/3139\">#3139</a>)</li>\n<li><a href=\"https://github.com/urllib3/urllib3/commit/e63989f97d206e839ab9170c8a76e3e097cc60e8\"><code>e63989f</code></a> Fix installing <code>brotli</code> extra on Python 2.7</li>\n<li><a href=\"https://github.com/urllib3/urllib3/commit/2e7a24d08713a0131f0b3c7197889466d645cc49\"><code>2e7a24d</code></a> [1.26] Configure OS for RTD to fix building docs</li>\n<li><a href=\"https://github.com/urllib3/urllib3/commit/57181d6ea910ac7cb2ff83345d9e5e0eb816a0d0\"><code>57181d6</code></a> [1.26] Improve error message when calling urllib3.request() (<a href=\"https://redirect.github.com/urllib3/urllib3/issues/3058\">#3058</a>)</li>\n<li><a href=\"https://github.com/urllib3/urllib3/commit/3c0148048a523325819377b23fc67f8d46afc3aa\"><code>3c01480</code></a> [1.26] Run coverage even with failed jobs</li>\n<li>See full diff in <a href=\"https://github.com/urllib3/urllib3/compare/1.26.16...1.26.17\">compare view</a></li>\n</ul>\n</details>\n<br />\n\n\n[![Dependabot compatibility score](https://dependabot-badges.githubapp.com/badges/compatibility_score?dependency-name=urllib3&package-manager=pip&previous-version=1.26.16&new-version=1.26.17)](https://docs.github.com/en/github/managing-security-vulnerabilities/about-dependabot-security-updates#about-compatibility-scores)\n\nDependabot will resolve any conflicts with this PR as long as you don't alter it yourself. You can also trigger a rebase manually by commenting `@dependabot rebase`.\n\n[//]: # (dependabot-automerge-start)\n[//]: # (dependabot-automerge-end)\n\n---\n\n<details>\n<summary>Dependabot commands and options</summary>\n<br />\n\nYou can trigger Dependabot actions by commenting on this PR:\n- `@dependabot rebase` will rebase this PR\n- `@dependabot recreate` will recreate this PR, overwriting any edits that have been made to it\n- `@dependabot merge` will merge this PR after your CI passes on it\n- `@dependabot squash and merge` will squash and merge this PR after your CI passes on it\n- `@dependabot cancel merge` will cancel a previously requested merge and block automerging\n- `@dependabot reopen` will reopen this PR if it is closed\n- `@dependabot close` will close this PR and stop Dependabot recreating it. You can achieve the same result by closing it manually\n- `@dependabot show <dependency name> ignore conditions` will show all of the ignore conditions of the specified dependency\n- `@dependabot ignore this major version` will close this PR and stop Dependabot creating any more for this major version (unless you reopen the PR or upgrade to it yourself)\n- `@dependabot ignore this minor version` will close this PR and stop Dependabot creating any more for this minor version (unless you reopen the PR or upgrade to it yourself)\n- `@dependabot ignore this dependency` will close this PR and stop Dependabot creating any more for this dependency (unless you reopen the PR or upgrade to it yourself)\nYou can disable automated security fix PRs for this repo from the [Security Alerts page](https://github.com/beancount/beancount/network/alerts).\n\n</details>","closed_by":{"login":"dependabot[bot]","id":49699333,"node_id":"MDM6Qm90NDk2OTkzMzM=","avatar_url":"https://avatars.githubusercontent.com/in/29110?v=4","gravatar_id":"","url":"https://api.github.com/users/dependabot%5Bbot%5D","html_url":"https://github.com/apps/dependabot","followers_url":"https://api.github.com/users/dependabot%5Bbot%5D/followers","following_url":"https://api.github.com/users/dependabot%5Bbot%5D/following{/other_user}","gists_url":"https://api.github.com/users/dependabot%5Bbot%5D/gists{/gist_id}","starred_url":"https://api.github.com/users/dependabot%5Bbot%5D/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dependabot%5Bbot%5D/subscriptions","organizations_url":"https://api.github.com/users/dependabot%5Bbot%5D/orgs","repos_url":"https://api.github.com/users/dependabot%5Bbot%5D/repos","events_url":"https://api.github.com/users/dependabot%5Bbot%5D/events{/privacy}","received_events_url":"https://api.github.com/users/dependabot%5Bbot%5D/received_events","type":"Bot","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/beancount/beancount/issues/781/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beancount/issues/781/timeline","performed_via_github_app":null,"state_reason":null},{"url":"https://api.github.com/repos/beancount/beancount/issues/780","repository_url":"https://api.github.com/repos/beancount/beancount","labels_url":"https://api.github.com/repos/beancount/beancount/issues/780/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beancount/issues/780/comments","events_url":"https://api.github.com/repos/beancount/beancount/issues/780/events","html_url":"https://github.com/beancount/beancount/pull/780","id":1921562047,"node_id":"PR_kwDOD91Bd85bp3zJ","number":780,"title":"parser: Allow single uppercase character flags without quote prefix","user":{"login":"dnicolodi","id":987145,"node_id":"MDQ6VXNlcjk4NzE0NQ==","avatar_url":"https://avatars.githubusercontent.com/u/987145?v=4","gravatar_id":"","url":"https://api.github.com/users/dnicolodi","html_url":"https://github.com/dnicolodi","followers_url":"https://api.github.com/users/dnicolodi/followers","following_url":"https://api.github.com/users/dnicolodi/following{/other_user}","gists_url":"https://api.github.com/users/dnicolodi/gists{/gist_id}","starred_url":"https://api.github.com/users/dnicolodi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dnicolodi/subscriptions","organizations_url":"https://api.github.com/users/dnicolodi/orgs","repos_url":"https://api.github.com/users/dnicolodi/repos","events_url":"https://api.github.com/users/dnicolodi/events{/privacy}","received_events_url":"https://api.github.com/users/dnicolodi/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":2,"created_at":"2023-10-02T09:30:39Z","updated_at":"2023-10-08T04:28:45Z","closed_at":"2023-10-08T04:28:45Z","author_association":"COLLABORATOR","type":null,"active_lock_reason":null,"draft":false,"pull_request":{"url":"https://api.github.com/repos/beancount/beancount/pulls/780","html_url":"https://github.com/beancount/beancount/pull/780","diff_url":"https://github.com/beancount/beancount/pull/780.diff","patch_url":"https://github.com/beancount/beancount/pull/780.patch","merged_at":"2023-10-08T04:28:45Z"},"body":null,"closed_by":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/beancount/beancount/issues/780/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beancount/issues/780/timeline","performed_via_github_app":null,"state_reason":null},{"url":"https://api.github.com/repos/beancount/beancount/issues/779","repository_url":"https://api.github.com/repos/beancount/beancount","labels_url":"https://api.github.com/repos/beancount/beancount/issues/779/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beancount/issues/779/comments","events_url":"https://api.github.com/repos/beancount/beancount/issues/779/events","html_url":"https://github.com/beancount/beancount/pull/779","id":1920992096,"node_id":"PR_kwDOD91Bd85bn_Y4","number":779,"title":"Update CI job to build and upload release artifacts","user":{"login":"dnicolodi","id":987145,"node_id":"MDQ6VXNlcjk4NzE0NQ==","avatar_url":"https://avatars.githubusercontent.com/u/987145?v=4","gravatar_id":"","url":"https://api.github.com/users/dnicolodi","html_url":"https://github.com/dnicolodi","followers_url":"https://api.github.com/users/dnicolodi/followers","following_url":"https://api.github.com/users/dnicolodi/following{/other_user}","gists_url":"https://api.github.com/users/dnicolodi/gists{/gist_id}","starred_url":"https://api.github.com/users/dnicolodi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dnicolodi/subscriptions","organizations_url":"https://api.github.com/users/dnicolodi/orgs","repos_url":"https://api.github.com/users/dnicolodi/repos","events_url":"https://api.github.com/users/dnicolodi/events{/privacy}","received_events_url":"https://api.github.com/users/dnicolodi/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":5,"created_at":"2023-10-01T21:50:37Z","updated_at":"2023-10-02T02:10:44Z","closed_at":"2023-10-02T02:10:43Z","author_association":"COLLABORATOR","type":null,"active_lock_reason":null,"draft":false,"pull_request":{"url":"https://api.github.com/repos/beancount/beancount/pulls/779","html_url":"https://github.com/beancount/beancount/pull/779","diff_url":"https://github.com/beancount/beancount/pull/779.diff","patch_url":"https://github.com/beancount/beancount/pull/779.patch","merged_at":"2023-10-02T02:10:43Z"},"body":null,"closed_by":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/beancount/beancount/issues/779/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beancount/issues/779/timeline","performed_via_github_app":null,"state_reason":null},{"url":"https://api.github.com/repos/beancount/beancount/issues/778","repository_url":"https://api.github.com/repos/beancount/beancount","labels_url":"https://api.github.com/repos/beancount/beancount/issues/778/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beancount/issues/778/comments","events_url":"https://api.github.com/repos/beancount/beancount/issues/778/events","html_url":"https://github.com/beancount/beancount/issues/778","id":1920347998,"node_id":"I_kwDOD91Bd85ydi9e","number":778,"title":"new new v2 version for py311 windows pypi wheel","user":{"login":"trim21","id":13553903,"node_id":"MDQ6VXNlcjEzNTUzOTAz","avatar_url":"https://avatars.githubusercontent.com/u/13553903?v=4","gravatar_id":"","url":"https://api.github.com/users/trim21","html_url":"https://github.com/trim21","followers_url":"https://api.github.com/users/trim21/followers","following_url":"https://api.github.com/users/trim21/following{/other_user}","gists_url":"https://api.github.com/users/trim21/gists{/gist_id}","starred_url":"https://api.github.com/users/trim21/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/trim21/subscriptions","organizations_url":"https://api.github.com/users/trim21/orgs","repos_url":"https://api.github.com/users/trim21/repos","events_url":"https://api.github.com/users/trim21/events{/privacy}","received_events_url":"https://api.github.com/users/trim21/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":8,"created_at":"2023-09-30T17:54:51Z","updated_at":"2023-10-01T19:00:13Z","closed_at":"2023-10-01T18:05:07Z","author_association":"CONTRIBUTOR","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"https://pypi.org/project/beancount/#files\r\n\r\nlastest v2 version is released before python3.11 is released, so we didn't build beancount 2.3.5 py311 wheel.\r\n\r\nCan we have a new v2 release to trigger ci to release a new version for new python version?","closed_by":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/beancount/beancount/issues/778/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beancount/issues/778/timeline","performed_via_github_app":null,"state_reason":"completed"},{"url":"https://api.github.com/repos/beancount/beancount/issues/777","repository_url":"https://api.github.com/repos/beancount/beancount","labels_url":"https://api.github.com/repos/beancount/beancount/issues/777/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beancount/issues/777/comments","events_url":"https://api.github.com/repos/beancount/beancount/issues/777/events","html_url":"https://github.com/beancount/beancount/pull/777","id":1913383859,"node_id":"PR_kwDOD91Bd85bOXxP","number":777,"title":"remove merge conflict artefacts","user":{"login":"Zhong-z","id":5219229,"node_id":"MDQ6VXNlcjUyMTkyMjk=","avatar_url":"https://avatars.githubusercontent.com/u/5219229?v=4","gravatar_id":"","url":"https://api.github.com/users/Zhong-z","html_url":"https://github.com/Zhong-z","followers_url":"https://api.github.com/users/Zhong-z/followers","following_url":"https://api.github.com/users/Zhong-z/following{/other_user}","gists_url":"https://api.github.com/users/Zhong-z/gists{/gist_id}","starred_url":"https://api.github.com/users/Zhong-z/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Zhong-z/subscriptions","organizations_url":"https://api.github.com/users/Zhong-z/orgs","repos_url":"https://api.github.com/users/Zhong-z/repos","events_url":"https://api.github.com/users/Zhong-z/events{/privacy}","received_events_url":"https://api.github.com/users/Zhong-z/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":1,"created_at":"2023-09-26T12:16:05Z","updated_at":"2023-09-27T01:51:45Z","closed_at":"2023-09-27T01:50:58Z","author_association":"CONTRIBUTOR","type":null,"active_lock_reason":null,"draft":false,"pull_request":{"url":"https://api.github.com/repos/beancount/beancount/pulls/777","html_url":"https://github.com/beancount/beancount/pull/777","diff_url":"https://github.com/beancount/beancount/pull/777.diff","patch_url":"https://github.com/beancount/beancount/pull/777.patch","merged_at":"2023-09-27T01:50:58Z"},"body":"https://github.com/beancount/beancount/commit/44019a8786909480243f12577a1ff0b866ba8554#diff-654e5780b75900b5d82d75dc75cf4ca74f95744d8512781e142925c6fa5be952R5\r\n\r\nLooks like there were some merge conflicts text got accidentally merged. Removing them. ","closed_by":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/beancount/beancount/issues/777/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beancount/issues/777/timeline","performed_via_github_app":null,"state_reason":null},{"url":"https://api.github.com/repos/beancount/beancount/issues/775","repository_url":"https://api.github.com/repos/beancount/beancount","labels_url":"https://api.github.com/repos/beancount/beancount/issues/775/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beancount/issues/775/comments","events_url":"https://api.github.com/repos/beancount/beancount/issues/775/events","html_url":"https://github.com/beancount/beancount/pull/775","id":1900377331,"node_id":"PR_kwDOD91Bd85aiiFm","number":775,"title":"Use the regex module for Unicode character class aware regular expr","user":{"login":"dnicolodi","id":987145,"node_id":"MDQ6VXNlcjk4NzE0NQ==","avatar_url":"https://avatars.githubusercontent.com/u/987145?v=4","gravatar_id":"","url":"https://api.github.com/users/dnicolodi","html_url":"https://github.com/dnicolodi","followers_url":"https://api.github.com/users/dnicolodi/followers","following_url":"https://api.github.com/users/dnicolodi/following{/other_user}","gists_url":"https://api.github.com/users/dnicolodi/gists{/gist_id}","starred_url":"https://api.github.com/users/dnicolodi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dnicolodi/subscriptions","organizations_url":"https://api.github.com/users/dnicolodi/orgs","repos_url":"https://api.github.com/users/dnicolodi/repos","events_url":"https://api.github.com/users/dnicolodi/events{/privacy}","received_events_url":"https://api.github.com/users/dnicolodi/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":2,"created_at":"2023-09-18T07:58:35Z","updated_at":"2023-09-23T15:38:57Z","closed_at":"2023-09-23T15:38:57Z","author_association":"COLLABORATOR","type":null,"active_lock_reason":null,"draft":false,"pull_request":{"url":"https://api.github.com/repos/beancount/beancount/pulls/775","html_url":"https://github.com/beancount/beancount/pull/775","diff_url":"https://github.com/beancount/beancount/pull/775.diff","patch_url":"https://github.com/beancount/beancount/pull/775.patch","merged_at":"2023-09-23T15:38:57Z"},"body":null,"closed_by":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/beancount/beancount/issues/775/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beancount/issues/775/timeline","performed_via_github_app":null,"state_reason":null},{"url":"https://api.github.com/repos/beancount/beancount/issues/774","repository_url":"https://api.github.com/repos/beancount/beancount","labels_url":"https://api.github.com/repos/beancount/beancount/issues/774/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beancount/issues/774/comments","events_url":"https://api.github.com/repos/beancount/beancount/issues/774/events","html_url":"https://github.com/beancount/beancount/pull/774","id":1900302404,"node_id":"PR_kwDOD91Bd85aiR3A","number":774,"title":"Remove unused utility code and clarify dependency on python-dateutil","user":{"login":"dnicolodi","id":987145,"node_id":"MDQ6VXNlcjk4NzE0NQ==","avatar_url":"https://avatars.githubusercontent.com/u/987145?v=4","gravatar_id":"","url":"https://api.github.com/users/dnicolodi","html_url":"https://github.com/dnicolodi","followers_url":"https://api.github.com/users/dnicolodi/followers","following_url":"https://api.github.com/users/dnicolodi/following{/other_user}","gists_url":"https://api.github.com/users/dnicolodi/gists{/gist_id}","starred_url":"https://api.github.com/users/dnicolodi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dnicolodi/subscriptions","organizations_url":"https://api.github.com/users/dnicolodi/orgs","repos_url":"https://api.github.com/users/dnicolodi/repos","events_url":"https://api.github.com/users/dnicolodi/events{/privacy}","received_events_url":"https://api.github.com/users/dnicolodi/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":0,"created_at":"2023-09-18T07:06:41Z","updated_at":"2023-09-18T11:53:25Z","closed_at":"2023-09-18T11:53:25Z","author_association":"COLLABORATOR","type":null,"active_lock_reason":null,"draft":false,"pull_request":{"url":"https://api.github.com/repos/beancount/beancount/pulls/774","html_url":"https://github.com/beancount/beancount/pull/774","diff_url":"https://github.com/beancount/beancount/pull/774.diff","patch_url":"https://github.com/beancount/beancount/pull/774.patch","merged_at":"2023-09-18T11:53:25Z"},"body":"`beancount.utils.date_utils.parse_date_liberally()` is not used in the codebase. The only user was beanquery, which does not use this function anymore.\r\n\r\nClarify the reason for the dependency on `python-dateutil`.","closed_by":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/beancount/beancount/issues/774/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beancount/issues/774/timeline","performed_via_github_app":null,"state_reason":null},{"url":"https://api.github.com/repos/beancount/beancount/issues/773","repository_url":"https://api.github.com/repos/beancount/beancount","labels_url":"https://api.github.com/repos/beancount/beancount/issues/773/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beancount/issues/773/comments","events_url":"https://api.github.com/repos/beancount/beancount/issues/773/events","html_url":"https://github.com/beancount/beancount/pull/773","id":1899794368,"node_id":"PR_kwDOD91Bd85agnen","number":773,"title":"Fix meson.build","user":{"login":"dnicolodi","id":987145,"node_id":"MDQ6VXNlcjk4NzE0NQ==","avatar_url":"https://avatars.githubusercontent.com/u/987145?v=4","gravatar_id":"","url":"https://api.github.com/users/dnicolodi","html_url":"https://github.com/dnicolodi","followers_url":"https://api.github.com/users/dnicolodi/followers","following_url":"https://api.github.com/users/dnicolodi/following{/other_user}","gists_url":"https://api.github.com/users/dnicolodi/gists{/gist_id}","starred_url":"https://api.github.com/users/dnicolodi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dnicolodi/subscriptions","organizations_url":"https://api.github.com/users/dnicolodi/orgs","repos_url":"https://api.github.com/users/dnicolodi/repos","events_url":"https://api.github.com/users/dnicolodi/events{/privacy}","received_events_url":"https://api.github.com/users/dnicolodi/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":2,"created_at":"2023-09-17T14:02:35Z","updated_at":"2023-09-18T01:57:19Z","closed_at":"2023-09-18T01:57:18Z","author_association":"COLLABORATOR","type":null,"active_lock_reason":null,"draft":false,"pull_request":{"url":"https://api.github.com/repos/beancount/beancount/pulls/773","html_url":"https://github.com/beancount/beancount/pull/773","diff_url":"https://github.com/beancount/beancount/pull/773.diff","patch_url":"https://github.com/beancount/beancount/pull/773.patch","merged_at":"2023-09-18T01:57:18Z"},"body":null,"closed_by":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/beancount/beancount/issues/773/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beancount/issues/773/timeline","performed_via_github_app":null,"state_reason":null},{"url":"https://api.github.com/repos/beancount/beancount/issues/772","repository_url":"https://api.github.com/repos/beancount/beancount","labels_url":"https://api.github.com/repos/beancount/beancount/issues/772/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beancount/issues/772/comments","events_url":"https://api.github.com/repos/beancount/beancount/issues/772/events","html_url":"https://github.com/beancount/beancount/pull/772","id":1899776432,"node_id":"PR_kwDOD91Bd85agkGh","number":772,"title":"Packaging modernization","user":{"login":"dnicolodi","id":987145,"node_id":"MDQ6VXNlcjk4NzE0NQ==","avatar_url":"https://avatars.githubusercontent.com/u/987145?v=4","gravatar_id":"","url":"https://api.github.com/users/dnicolodi","html_url":"https://github.com/dnicolodi","followers_url":"https://api.github.com/users/dnicolodi/followers","following_url":"https://api.github.com/users/dnicolodi/following{/other_user}","gists_url":"https://api.github.com/users/dnicolodi/gists{/gist_id}","starred_url":"https://api.github.com/users/dnicolodi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dnicolodi/subscriptions","organizations_url":"https://api.github.com/users/dnicolodi/orgs","repos_url":"https://api.github.com/users/dnicolodi/repos","events_url":"https://api.github.com/users/dnicolodi/events{/privacy}","received_events_url":"https://api.github.com/users/dnicolodi/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":2,"created_at":"2023-09-17T13:00:48Z","updated_at":"2023-09-17T13:57:51Z","closed_at":"2023-09-17T13:51:45Z","author_association":"COLLABORATOR","type":null,"active_lock_reason":null,"draft":false,"pull_request":{"url":"https://api.github.com/repos/beancount/beancount/pulls/772","html_url":"https://github.com/beancount/beancount/pull/772","diff_url":"https://github.com/beancount/beancount/pull/772.diff","patch_url":"https://github.com/beancount/beancount/pull/772.patch","merged_at":"2023-09-17T13:51:45Z"},"body":null,"closed_by":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/beancount/beancount/issues/772/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beancount/issues/772/timeline","performed_via_github_app":null,"state_reason":null},{"url":"https://api.github.com/repos/beancount/beancount/issues/771","repository_url":"https://api.github.com/repos/beancount/beancount","labels_url":"https://api.github.com/repos/beancount/beancount/issues/771/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beancount/issues/771/comments","events_url":"https://api.github.com/repos/beancount/beancount/issues/771/events","html_url":"https://github.com/beancount/beancount/issues/771","id":1899560114,"node_id":"I_kwDOD91Bd85xOPyy","number":771,"title":"Attempting to install beancount from source results in an incomplete install of the 3.0.0.dev version","user":{"login":"FizzesShark","id":12519650,"node_id":"MDQ6VXNlcjEyNTE5NjUw","avatar_url":"https://avatars.githubusercontent.com/u/12519650?v=4","gravatar_id":"","url":"https://api.github.com/users/FizzesShark","html_url":"https://github.com/FizzesShark","followers_url":"https://api.github.com/users/FizzesShark/followers","following_url":"https://api.github.com/users/FizzesShark/following{/other_user}","gists_url":"https://api.github.com/users/FizzesShark/gists{/gist_id}","starred_url":"https://api.github.com/users/FizzesShark/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/FizzesShark/subscriptions","organizations_url":"https://api.github.com/users/FizzesShark/orgs","repos_url":"https://api.github.com/users/FizzesShark/repos","events_url":"https://api.github.com/users/FizzesShark/events{/privacy}","received_events_url":"https://api.github.com/users/FizzesShark/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":2,"created_at":"2023-09-16T20:33:25Z","updated_at":"2023-09-16T21:24:50Z","closed_at":"2023-09-16T21:24:50Z","author_association":"NONE","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"Following the instructions [here](https://beancount.github.io/docs/installing_beancount.html), I attempted to install beancount from source by cloning the repository and running the command `sudo -H python3 -m pip install .`\r\n\r\nThis resulted in a successful pip command call, but after looking through the installed packages, it looked very bare:\r\n<img width=\"358\" alt=\"Screenshot 2023-09-16 at 4 32 28 PM\" src=\"https://github.com/beancount/beancount/assets/12519650/e49e065e-512b-4b11-b9de-8977723c1ed7\">\r\nAnd indeed, after trying to run any command, such as for example, `bean-check`, I get an error as follows:\r\n<img width=\"449\" alt=\"Screenshot 2023-09-16 at 4 33 20 PM\" src=\"https://github.com/beancount/beancount/assets/12519650/989801f9-728a-42dc-bfde-89be39075258\">\r\n\r\nIn fact, the same error results when trying to install the pip package as well. For reference, I'm on Mac OS Ventura 13.1, and am using Python 3.11.\r\n","closed_by":{"login":"FizzesShark","id":12519650,"node_id":"MDQ6VXNlcjEyNTE5NjUw","avatar_url":"https://avatars.githubusercontent.com/u/12519650?v=4","gravatar_id":"","url":"https://api.github.com/users/FizzesShark","html_url":"https://github.com/FizzesShark","followers_url":"https://api.github.com/users/FizzesShark/followers","following_url":"https://api.github.com/users/FizzesShark/following{/other_user}","gists_url":"https://api.github.com/users/FizzesShark/gists{/gist_id}","starred_url":"https://api.github.com/users/FizzesShark/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/FizzesShark/subscriptions","organizations_url":"https://api.github.com/users/FizzesShark/orgs","repos_url":"https://api.github.com/users/FizzesShark/repos","events_url":"https://api.github.com/users/FizzesShark/events{/privacy}","received_events_url":"https://api.github.com/users/FizzesShark/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/beancount/beancount/issues/771/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beancount/issues/771/timeline","performed_via_github_app":null,"state_reason":"completed"},{"url":"https://api.github.com/repos/beancount/beancount/issues/769","repository_url":"https://api.github.com/repos/beancount/beancount","labels_url":"https://api.github.com/repos/beancount/beancount/issues/769/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beancount/issues/769/comments","events_url":"https://api.github.com/repos/beancount/beancount/issues/769/events","html_url":"https://github.com/beancount/beancount/issues/769","id":1882822260,"node_id":"I_kwDOD91Bd85wOZZ0","number":769,"title":"AttributeError: module 'scrape' has no attribute 'scrape'","user":{"login":"MaiF0212","id":143808773,"node_id":"U_kgDOCJJZBQ","avatar_url":"https://avatars.githubusercontent.com/u/143808773?v=4","gravatar_id":"","url":"https://api.github.com/users/MaiF0212","html_url":"https://github.com/MaiF0212","followers_url":"https://api.github.com/users/MaiF0212/followers","following_url":"https://api.github.com/users/MaiF0212/following{/other_user}","gists_url":"https://api.github.com/users/MaiF0212/gists{/gist_id}","starred_url":"https://api.github.com/users/MaiF0212/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/MaiF0212/subscriptions","organizations_url":"https://api.github.com/users/MaiF0212/orgs","repos_url":"https://api.github.com/users/MaiF0212/repos","events_url":"https://api.github.com/users/MaiF0212/events{/privacy}","received_events_url":"https://api.github.com/users/MaiF0212/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":0,"created_at":"2023-09-05T22:48:06Z","updated_at":"2023-10-07T07:09:29Z","closed_at":"2023-10-07T07:09:29Z","author_association":"NONE","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":null,"closed_by":{"login":"dnicolodi","id":987145,"node_id":"MDQ6VXNlcjk4NzE0NQ==","avatar_url":"https://avatars.githubusercontent.com/u/987145?v=4","gravatar_id":"","url":"https://api.github.com/users/dnicolodi","html_url":"https://github.com/dnicolodi","followers_url":"https://api.github.com/users/dnicolodi/followers","following_url":"https://api.github.com/users/dnicolodi/following{/other_user}","gists_url":"https://api.github.com/users/dnicolodi/gists{/gist_id}","starred_url":"https://api.github.com/users/dnicolodi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dnicolodi/subscriptions","organizations_url":"https://api.github.com/users/dnicolodi/orgs","repos_url":"https://api.github.com/users/dnicolodi/repos","events_url":"https://api.github.com/users/dnicolodi/events{/privacy}","received_events_url":"https://api.github.com/users/dnicolodi/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/beancount/beancount/issues/769/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beancount/issues/769/timeline","performed_via_github_app":null,"state_reason":"not_planned"},{"url":"https://api.github.com/repos/beancount/beancount/issues/768","repository_url":"https://api.github.com/repos/beancount/beancount","labels_url":"https://api.github.com/repos/beancount/beancount/issues/768/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beancount/issues/768/comments","events_url":"https://api.github.com/repos/beancount/beancount/issues/768/events","html_url":"https://github.com/beancount/beancount/pull/768","id":1853434021,"node_id":"PR_kwDOD91Bd85YEzdu","number":768,"title":"Ensure there is (empty) metadata on postings when generating pad transaction #767","user":{"login":"muonzoo","id":77228,"node_id":"MDQ6VXNlcjc3MjI4","avatar_url":"https://avatars.githubusercontent.com/u/77228?v=4","gravatar_id":"","url":"https://api.github.com/users/muonzoo","html_url":"https://github.com/muonzoo","followers_url":"https://api.github.com/users/muonzoo/followers","following_url":"https://api.github.com/users/muonzoo/following{/other_user}","gists_url":"https://api.github.com/users/muonzoo/gists{/gist_id}","starred_url":"https://api.github.com/users/muonzoo/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/muonzoo/subscriptions","organizations_url":"https://api.github.com/users/muonzoo/orgs","repos_url":"https://api.github.com/users/muonzoo/repos","events_url":"https://api.github.com/users/muonzoo/events{/privacy}","received_events_url":"https://api.github.com/users/muonzoo/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":8,"created_at":"2023-08-16T15:06:22Z","updated_at":"2023-09-17T20:52:50Z","closed_at":"2023-09-17T20:52:50Z","author_association":"NONE","type":null,"active_lock_reason":null,"draft":false,"pull_request":{"url":"https://api.github.com/repos/beancount/beancount/pulls/768","html_url":"https://github.com/beancount/beancount/pull/768","diff_url":"https://github.com/beancount/beancount/pull/768.diff","patch_url":"https://github.com/beancount/beancount/pull/768.patch","merged_at":"2023-09-17T20:52:50Z"},"body":"I'm proposing this as a fix to v2 for the missing metadata on the postings in the pad transactions. This fixes an invariant error (missing metadata). As discussed on bug report #767 ; `beanquery` has already been fixed with commit [2284f1](https://github.com/beancount/beanquery/commit/2284f11637856cac0fedd44f1a3d72d12a36f12a). ","closed_by":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/beancount/beancount/issues/768/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beancount/issues/768/timeline","performed_via_github_app":null,"state_reason":null},{"url":"https://api.github.com/repos/beancount/beancount/issues/767","repository_url":"https://api.github.com/repos/beancount/beancount","labels_url":"https://api.github.com/repos/beancount/beancount/issues/767/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beancount/issues/767/comments","events_url":"https://api.github.com/repos/beancount/beancount/issues/767/events","html_url":"https://github.com/beancount/beancount/issues/767","id":1852319771,"node_id":"I_kwDOD91Bd85uaCgb","number":767,"title":"Pad directive fails to add metadata to postings. Causes beanquery any_meta() to assert in queries.","user":{"login":"muonzoo","id":77228,"node_id":"MDQ6VXNlcjc3MjI4","avatar_url":"https://avatars.githubusercontent.com/u/77228?v=4","gravatar_id":"","url":"https://api.github.com/users/muonzoo","html_url":"https://github.com/muonzoo","followers_url":"https://api.github.com/users/muonzoo/followers","following_url":"https://api.github.com/users/muonzoo/following{/other_user}","gists_url":"https://api.github.com/users/muonzoo/gists{/gist_id}","starred_url":"https://api.github.com/users/muonzoo/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/muonzoo/subscriptions","organizations_url":"https://api.github.com/users/muonzoo/orgs","repos_url":"https://api.github.com/users/muonzoo/repos","events_url":"https://api.github.com/users/muonzoo/events{/privacy}","received_events_url":"https://api.github.com/users/muonzoo/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":4,"created_at":"2023-08-16T00:24:43Z","updated_at":"2024-11-09T20:11:26Z","closed_at":"2024-11-09T20:11:25Z","author_association":"NONE","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"# Description\r\n\r\nTL;DR: `bean-query` (standalone) throws an uncaught TypeError if you use  `any_meta()` in the query and have a `pad` directive in the ledger.\r\n\r\n    E           TypeError: 'NoneType' object is not subscriptable\r\n\r\nThis is an interesting bug because while I thought the problem was with the latest [`beanquery`](https://github.com/beancount/beanquery/blob/623a4d166d4a9915e47bb68f701c2a7a4468e411/beanquery/query_env.py#L338-L349) while chasing it I think the root cause was a [lack of metadata on the postings](https://github.com/beancount/beancount/blob/24df7465413ed22dc9c500f4d781430cb1c9e655/beancount/ops/pad.py#L139) created by the `Pad` directive within beancount v2 (lines 139 and 144).\r\n\r\nOne could argue that (if there is no invariant for metadata on a posting) this is only a bug in the new `beanquery` code. In which case simply mark this wont_fix and I'll pursue the fix in beanquery's repo.\r\n\r\n# Repro\r\n\r\n\r\nI've created a repro test case in my fork of `beanquery` that fails when run against the `v2` release of beancount.\r\n\r\nThis same test passes when run against my fork of `beancount` where I add metadata to the `Postings' for the transaction generated by the Pad directive. I chose to copy the directive's metadata but equally it could be set to being empty (vs None).\r\n\r\n## Environment\r\n\r\n* Make a clean Python virtual env (I used 3.10.8)\r\n* Install beancount v2\r\n* Install beanquery\r\n* Run the sample query below and the given sample file, `test.bc`.\r\n\r\n## Input File\r\n```\r\n# cat test-pad.bc\r\n2019-01-01 commodity USD\r\n2019-01-01 open Assets:Main USD\r\n2019-01-01 open Assets:Other USD\r\n2019-01-15 pad Assets:Main Assets:Other\r\n2019-01-16 balance Assets:Main 1000.00 USD\r\n```\r\n\r\n## Command to Run\r\n\r\n```shell\r\n❯ bean-query test-pad.bc 'SELECT ANY_META(\"X\")'\r\nTraceback (most recent call last):\r\n  File \"/.../versions/3.10.8/Library/Frameworks/Python.framework/Versions/3.10/lib/python3.10/cmd.py\", line 214, in onecmd\r\n    func = getattr(self, 'do_' + cmd)/\r\nAttributeError: 'BQLShell' object has no attribute 'do_select'. Did you mean: 'on_Select'?\r\n\r\nDuring handling of the above exception, another exception occurred:\r\n\r\nTraceback (most recent call last):\r\n  File \"/.../.pyenv/versions/bean24/bin/bean-query\", line 33, in <module>\r\n    sys.exit(load_entry_point('beanquery', 'console_scripts', 'bean-query')())\r\n  File \"/.../.pyenv/versions/3.10.8/envs/bean24/lib/python3.10/site-packages/click/core.py\", line 1128, in __call__\r\n    return self.main(*args, **kwargs)\r\n  File \"/.../.pyenv/versions/3.10.8/envs/bean24/lib/python3.10/site-packages/click/core.py\", line 1053, in main\r\n    rv = self.invoke(ctx)\r\n  File \"/.../.pyenv/versions/3.10.8/envs/bean24/lib/python3.10/site-packages/click/core.py\", line 1395, in invoke\r\n    return ctx.invoke(self.callback, **ctx.params)\r\n  File \"/.../.pyenv/versions/3.10.8/envs/bean24/lib/python3.10/site-packages/click/core.py\", line 754, in invoke\r\n    return __callback(*args, **kwargs)\r\n  File \"/.../Documents/scm/p/beanquery/beanquery/shell.py\", line 741, in main\r\n    shell.onecmd(query)\r\n  File \"/.../.pyenv/versions/3.10.8/Library/Frameworks/Python.framework/Versions/3.10/lib/python3.10/cmd.py\", line 216, in onecmd\r\n    return self.default(line)\r\n  File \"/.../Documents/scm/p/beanquery/beanquery/shell.py\", line 317, in default\r\n    self.execute(line)\r\n  File \"/.../Documents/scm/p/beanquery/beanquery/shell.py\", line 326, in execute\r\n    self.dispatch(statement)\r\n  File \"/.../Documents/scm/p/beanquery/beanquery/shell.py\", line 309, in dispatch\r\n    return method(statement)\r\n  File \"/.../Documents/scm/p/beanquery/beanquery/shell.py\", line 515, in on_Select\r\n    cursor = self.context.execute(statement)\r\n  File \"/.../Documents/scm/p/beanquery/beanquery/__init__.py\", line 45, in execute\r\n    return self.cursor().execute(query, params)\r\n  File \"/.../Documents/scm/p/beanquery/beanquery/cursor.py\", line 93, in execute\r\n    description, rows = query_execute.execute_query(query)\r\n  File \"/.../Documents/scm/p/beanquery/beanquery/query_execute.py\", line 135, in execute_query\r\n    return execute_select(query)\r\n  File \"/.../Documents/scm/p/beanquery/beanquery/query_execute.py\", line 213, in execute_select\r\n    values = [c_expr(context) for c_expr in c_target_exprs]\r\n  File \"/.../Documents/scm/p/beanquery/beanquery/query_execute.py\", line 213, in <listcomp>\r\n    values = [c_expr(context) for c_expr in c_target_exprs]\r\n  File \"/.../Documents/scm/p/beanquery/beanquery/query_env.py\", line 52, in __call__\r\n    return func(context, *args)\r\n  File \"/.../Documents/scm/p/beanquery/beanquery/query_env.py\", line 342, in any_meta\r\n    return context.posting.meta[key]\r\nTypeError: 'NoneType' object is not subscriptable\r\n```\r\n\r\n# Discussion \r\n\r\nI see a few options for resolving this and would like the maintainer's opinion on which is more acceptable (there are likely other options).\r\n\r\n1.  If all postings should have *some* kind of metadata as an invariant then this is a bug in beancount.\r\n2.  This is a bug in beanquery (and I'll move this to that project) as we can simply improve [`AnyMeta`](https://github.com/beancount/beanquery/blob/623a4d166d4a9915e47bb68f701c2a7a4468e411/beanquery/query_env.py#L338-L349)  to deal with the metadata being `None` - likely by adding TypeError to the 'safe' exceptions.\r\n3. Both - fair - we can do both.\r\n\r\nI have a test case and fix for case 1 but it might be more general a problem if there are other places in beancount where we create postings without metadata. I also have a test case for 2 (haven't implemented the trivial fix yet).\r\n\r\nThe test case and fix for 2 is also quite simple but would be done in `beanquery` not `beancount`'s repository.\r\n\r\n\r\n\r\n\r\n\r\n\r\n","closed_by":{"login":"dnicolodi","id":987145,"node_id":"MDQ6VXNlcjk4NzE0NQ==","avatar_url":"https://avatars.githubusercontent.com/u/987145?v=4","gravatar_id":"","url":"https://api.github.com/users/dnicolodi","html_url":"https://github.com/dnicolodi","followers_url":"https://api.github.com/users/dnicolodi/followers","following_url":"https://api.github.com/users/dnicolodi/following{/other_user}","gists_url":"https://api.github.com/users/dnicolodi/gists{/gist_id}","starred_url":"https://api.github.com/users/dnicolodi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dnicolodi/subscriptions","organizations_url":"https://api.github.com/users/dnicolodi/orgs","repos_url":"https://api.github.com/users/dnicolodi/repos","events_url":"https://api.github.com/users/dnicolodi/events{/privacy}","received_events_url":"https://api.github.com/users/dnicolodi/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/beancount/beancount/issues/767/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beancount/issues/767/timeline","performed_via_github_app":null,"state_reason":"completed"},{"url":"https://api.github.com/repos/beancount/beancount/issues/765","repository_url":"https://api.github.com/repos/beancount/beancount","labels_url":"https://api.github.com/repos/beancount/beancount/issues/765/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beancount/issues/765/comments","events_url":"https://api.github.com/repos/beancount/beancount/issues/765/events","html_url":"https://github.com/beancount/beancount/pull/765","id":1819792184,"node_id":"PR_kwDOD91Bd85WTfoD","number":765,"title":"Adds a hermetic setup for python 3.10","user":{"login":"filmil","id":246576,"node_id":"MDQ6VXNlcjI0NjU3Ng==","avatar_url":"https://avatars.githubusercontent.com/u/246576?v=4","gravatar_id":"","url":"https://api.github.com/users/filmil","html_url":"https://github.com/filmil","followers_url":"https://api.github.com/users/filmil/followers","following_url":"https://api.github.com/users/filmil/following{/other_user}","gists_url":"https://api.github.com/users/filmil/gists{/gist_id}","starred_url":"https://api.github.com/users/filmil/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/filmil/subscriptions","organizations_url":"https://api.github.com/users/filmil/orgs","repos_url":"https://api.github.com/users/filmil/repos","events_url":"https://api.github.com/users/filmil/events{/privacy}","received_events_url":"https://api.github.com/users/filmil/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":9,"created_at":"2023-07-25T08:15:07Z","updated_at":"2023-09-23T15:35:42Z","closed_at":"2023-09-23T15:35:42Z","author_association":"CONTRIBUTOR","type":null,"active_lock_reason":null,"draft":false,"pull_request":{"url":"https://api.github.com/repos/beancount/beancount/pulls/765","html_url":"https://github.com/beancount/beancount/pull/765","diff_url":"https://github.com/beancount/beancount/pull/765.diff","patch_url":"https://github.com/beancount/beancount/pull/765.patch","merged_at":"2023-09-23T15:35:42Z"},"body":"This allows downloading and compiling beancount latest without any special python package installation.\r\n\r\nHopefully that's something that we want to have.","closed_by":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/beancount/beancount/issues/765/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beancount/issues/765/timeline","performed_via_github_app":null,"state_reason":null},{"url":"https://api.github.com/repos/beancount/beancount/issues/764","repository_url":"https://api.github.com/repos/beancount/beancount","labels_url":"https://api.github.com/repos/beancount/beancount/issues/764/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beancount/issues/764/comments","events_url":"https://api.github.com/repos/beancount/beancount/issues/764/events","html_url":"https://github.com/beancount/beancount/issues/764","id":1816832327,"node_id":"I_kwDOD91Bd85sSqlH","number":764,"title":"Accounting equation violation","user":{"login":"tczajka","id":10446657,"node_id":"MDQ6VXNlcjEwNDQ2NjU3","avatar_url":"https://avatars.githubusercontent.com/u/10446657?v=4","gravatar_id":"","url":"https://api.github.com/users/tczajka","html_url":"https://github.com/tczajka","followers_url":"https://api.github.com/users/tczajka/followers","following_url":"https://api.github.com/users/tczajka/following{/other_user}","gists_url":"https://api.github.com/users/tczajka/gists{/gist_id}","starred_url":"https://api.github.com/users/tczajka/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tczajka/subscriptions","organizations_url":"https://api.github.com/users/tczajka/orgs","repos_url":"https://api.github.com/users/tczajka/repos","events_url":"https://api.github.com/users/tczajka/events{/privacy}","received_events_url":"https://api.github.com/users/tczajka/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":1,"created_at":"2023-07-22T17:03:10Z","updated_at":"2023-07-23T07:08:37Z","closed_at":"2023-07-23T07:08:36Z","author_association":"NONE","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"I am sure this is a known issue. But I couldn't find a ticket addressing this.\r\n\r\nThe [documentation](https://beancount.github.io/docs/the_double_entry_counting_method.html) claims:\r\n```\r\nA + L + E + X + I = 0\r\n```\r\nand then it provides a \"proof\":\r\n\r\n> This follows from the fact that\r\n> ```sum(all postings) = 0```\r\n> Which follows from the fact that each transaction is guaranteed to sum up to zero (**which is enforced by Beancount**):\r\n> ```for all transactions t, sum(postings of t) = 0```\r\n\r\nHowever, this doesn't actually work:\r\n```\r\n2023-01-01 open Assets:Checking:USD\r\n2023-01-01 open Assets:Checking:EUR\r\n2023-01-01 open Equity:Opening-Balances\r\n\r\n2023-06-15 * \"Opening balances\"\r\n  Assets:Checking:USD    100 USD\r\n  Equity:Opening-Balances\r\n\r\n2023-07-01 * \"Buy Euro\"\r\n  Assets:Checking:EUR   50 EUR @ 2 USD\r\n  Assets:Checking:USD   -100 USD\r\n\r\n2023-07-15 * \"Sell Euro\"\r\n  Assets:Checking:USD   150 USD\r\n  Assets:Checking:EUR   -50 EUR @ 3 USD\r\n```\r\n\r\n```\r\n$ bean-report a.beancount balances\r\nAssets:Checking:EUR     \r\nAssets:Checking:USD        150 USD\r\nEquity:Opening-Balances   -100 USD\r\nExpenses                \r\nIncome                  \r\nLiabilities             \r\n```","closed_by":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/beancount/beancount/issues/764/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beancount/issues/764/timeline","performed_via_github_app":null,"state_reason":"completed"},{"url":"https://api.github.com/repos/beancount/beancount/issues/760","repository_url":"https://api.github.com/repos/beancount/beancount","labels_url":"https://api.github.com/repos/beancount/beancount/issues/760/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beancount/issues/760/comments","events_url":"https://api.github.com/repos/beancount/beancount/issues/760/events","html_url":"https://github.com/beancount/beancount/issues/760","id":1768519233,"node_id":"I_kwDOD91Bd85paXZB","number":760,"title":"Discussions","user":{"login":"alensiljak","id":462445,"node_id":"MDQ6VXNlcjQ2MjQ0NQ==","avatar_url":"https://avatars.githubusercontent.com/u/462445?v=4","gravatar_id":"","url":"https://api.github.com/users/alensiljak","html_url":"https://github.com/alensiljak","followers_url":"https://api.github.com/users/alensiljak/followers","following_url":"https://api.github.com/users/alensiljak/following{/other_user}","gists_url":"https://api.github.com/users/alensiljak/gists{/gist_id}","starred_url":"https://api.github.com/users/alensiljak/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/alensiljak/subscriptions","organizations_url":"https://api.github.com/users/alensiljak/orgs","repos_url":"https://api.github.com/users/alensiljak/repos","events_url":"https://api.github.com/users/alensiljak/events{/privacy}","received_events_url":"https://api.github.com/users/alensiljak/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":0,"created_at":"2023-06-21T21:28:07Z","updated_at":"2023-06-22T01:46:37Z","closed_at":"2023-06-22T01:46:37Z","author_association":"NONE","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"Hi! Do you mind enabling discussions on the repo? I'd like to raise some topics that are quite abstract for the issues, which relate to the existing application. Tnis is mostly in relation to Rust and prototyping at this stage. ","closed_by":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/beancount/beancount/issues/760/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beancount/issues/760/timeline","performed_via_github_app":null,"state_reason":"completed"},{"url":"https://api.github.com/repos/beancount/beancount/issues/759","repository_url":"https://api.github.com/repos/beancount/beancount","labels_url":"https://api.github.com/repos/beancount/beancount/issues/759/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beancount/issues/759/comments","events_url":"https://api.github.com/repos/beancount/beancount/issues/759/events","html_url":"https://github.com/beancount/beancount/issues/759","id":1754559032,"node_id":"I_kwDOD91Bd85olHI4","number":759,"title":"Error \"Could not build wheels for beancount\" occurred when installing beancount","user":{"login":"ElvisUpUp","id":31996660,"node_id":"MDQ6VXNlcjMxOTk2NjYw","avatar_url":"https://avatars.githubusercontent.com/u/31996660?v=4","gravatar_id":"","url":"https://api.github.com/users/ElvisUpUp","html_url":"https://github.com/ElvisUpUp","followers_url":"https://api.github.com/users/ElvisUpUp/followers","following_url":"https://api.github.com/users/ElvisUpUp/following{/other_user}","gists_url":"https://api.github.com/users/ElvisUpUp/gists{/gist_id}","starred_url":"https://api.github.com/users/ElvisUpUp/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ElvisUpUp/subscriptions","organizations_url":"https://api.github.com/users/ElvisUpUp/orgs","repos_url":"https://api.github.com/users/ElvisUpUp/repos","events_url":"https://api.github.com/users/ElvisUpUp/events{/privacy}","received_events_url":"https://api.github.com/users/ElvisUpUp/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":8,"created_at":"2023-06-13T10:30:15Z","updated_at":"2023-10-07T22:51:46Z","closed_at":"2023-10-07T22:51:45Z","author_association":"NONE","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"Error \"Could not build wheels for beancount\" occurred when installing beancount\r\n\r\n![image](https://github.com/beancount/beancount/assets/31996660/6103e1c2-b0e2-425d-8748-7f72af417fcb)\r\n\r\n","closed_by":{"login":"dnicolodi","id":987145,"node_id":"MDQ6VXNlcjk4NzE0NQ==","avatar_url":"https://avatars.githubusercontent.com/u/987145?v=4","gravatar_id":"","url":"https://api.github.com/users/dnicolodi","html_url":"https://github.com/dnicolodi","followers_url":"https://api.github.com/users/dnicolodi/followers","following_url":"https://api.github.com/users/dnicolodi/following{/other_user}","gists_url":"https://api.github.com/users/dnicolodi/gists{/gist_id}","starred_url":"https://api.github.com/users/dnicolodi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dnicolodi/subscriptions","organizations_url":"https://api.github.com/users/dnicolodi/orgs","repos_url":"https://api.github.com/users/dnicolodi/repos","events_url":"https://api.github.com/users/dnicolodi/events{/privacy}","received_events_url":"https://api.github.com/users/dnicolodi/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/beancount/beancount/issues/759/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beancount/issues/759/timeline","performed_via_github_app":null,"state_reason":"completed"},{"url":"https://api.github.com/repos/beancount/beancount/issues/758","repository_url":"https://api.github.com/repos/beancount/beancount","labels_url":"https://api.github.com/repos/beancount/beancount/issues/758/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beancount/issues/758/comments","events_url":"https://api.github.com/repos/beancount/beancount/issues/758/events","html_url":"https://github.com/beancount/beancount/pull/758","id":1735656213,"node_id":"PR_kwDOD91Bd85R3c_t","number":758,"title":"v2: use new `NamedTuple` syntax","user":{"login":"trim21","id":13553903,"node_id":"MDQ6VXNlcjEzNTUzOTAz","avatar_url":"https://avatars.githubusercontent.com/u/13553903?v=4","gravatar_id":"","url":"https://api.github.com/users/trim21","html_url":"https://github.com/trim21","followers_url":"https://api.github.com/users/trim21/followers","following_url":"https://api.github.com/users/trim21/following{/other_user}","gists_url":"https://api.github.com/users/trim21/gists{/gist_id}","starred_url":"https://api.github.com/users/trim21/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/trim21/subscriptions","organizations_url":"https://api.github.com/users/trim21/orgs","repos_url":"https://api.github.com/users/trim21/repos","events_url":"https://api.github.com/users/trim21/events{/privacy}","received_events_url":"https://api.github.com/users/trim21/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":2,"created_at":"2023-06-01T07:22:34Z","updated_at":"2024-12-04T14:47:15Z","closed_at":"2023-06-05T03:39:53Z","author_association":"CONTRIBUTOR","type":null,"active_lock_reason":null,"draft":false,"pull_request":{"url":"https://api.github.com/repos/beancount/beancount/pulls/758","html_url":"https://github.com/beancount/beancount/pull/758","diff_url":"https://github.com/beancount/beancount/pull/758.diff","patch_url":"https://github.com/beancount/beancount/pull/758.patch","merged_at":null},"body":null,"closed_by":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/beancount/beancount/issues/758/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beancount/issues/758/timeline","performed_via_github_app":null,"state_reason":null},{"url":"https://api.github.com/repos/beancount/beancount/issues/757","repository_url":"https://api.github.com/repos/beancount/beancount","labels_url":"https://api.github.com/repos/beancount/beancount/issues/757/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beancount/issues/757/comments","events_url":"https://api.github.com/repos/beancount/beancount/issues/757/events","html_url":"https://github.com/beancount/beancount/issues/757","id":1698020421,"node_id":"I_kwDOD91Bd85lNbxF","number":757,"title":"\"Invalid Cookie\" when scraping prices from Yahoo","user":{"login":"noncrab","id":743059,"node_id":"MDQ6VXNlcjc0MzA1OQ==","avatar_url":"https://avatars.githubusercontent.com/u/743059?v=4","gravatar_id":"","url":"https://api.github.com/users/noncrab","html_url":"https://github.com/noncrab","followers_url":"https://api.github.com/users/noncrab/followers","following_url":"https://api.github.com/users/noncrab/following{/other_user}","gists_url":"https://api.github.com/users/noncrab/gists{/gist_id}","starred_url":"https://api.github.com/users/noncrab/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/noncrab/subscriptions","organizations_url":"https://api.github.com/users/noncrab/orgs","repos_url":"https://api.github.com/users/noncrab/repos","events_url":"https://api.github.com/users/noncrab/events{/privacy}","received_events_url":"https://api.github.com/users/noncrab/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":1,"created_at":"2023-05-05T18:29:19Z","updated_at":"2023-05-05T18:40:54Z","closed_at":"2023-05-05T18:40:54Z","author_association":"NONE","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"I'm running beancount 2.3.5, and it looks ilke Yahoo have changed their prices API (posisbly to prevent ad-hoc re-use). \r\n\r\nI'm seeing this when I run the price fetcher:\r\n\r\n```\r\nERROR   : Error fetching VUSA.L: Status 401: {'code': 'Unauthorized', 'description': 'Invalid Cookie'}\r\nERROR   : Could not fetch for job: DatedPrice(base='VUSA', quote='GBP', date=None, sources=[PriceSource(module=<module 'beancount.prices.sources.yahoo' from '/…/pypoetry/virtualenvs/accounts-M7Q96Fyn-py3.11/lib/python3.11/site-packages/beancount/prices/sources/yahoo.py'>, symbol='VUSA.L', invert=False)])\r\n```\r\n\r\nI've not looked into it myself yet, but if some kind has a fix, It'd be much appreciated!","closed_by":{"login":"noncrab","id":743059,"node_id":"MDQ6VXNlcjc0MzA1OQ==","avatar_url":"https://avatars.githubusercontent.com/u/743059?v=4","gravatar_id":"","url":"https://api.github.com/users/noncrab","html_url":"https://github.com/noncrab","followers_url":"https://api.github.com/users/noncrab/followers","following_url":"https://api.github.com/users/noncrab/following{/other_user}","gists_url":"https://api.github.com/users/noncrab/gists{/gist_id}","starred_url":"https://api.github.com/users/noncrab/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/noncrab/subscriptions","organizations_url":"https://api.github.com/users/noncrab/orgs","repos_url":"https://api.github.com/users/noncrab/repos","events_url":"https://api.github.com/users/noncrab/events{/privacy}","received_events_url":"https://api.github.com/users/noncrab/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/beancount/beancount/issues/757/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beancount/issues/757/timeline","performed_via_github_app":null,"state_reason":"completed"},{"url":"https://api.github.com/repos/beancount/beancount/issues/756","repository_url":"https://api.github.com/repos/beancount/beancount","labels_url":"https://api.github.com/repos/beancount/beancount/issues/756/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beancount/issues/756/comments","events_url":"https://api.github.com/repos/beancount/beancount/issues/756/events","html_url":"https://github.com/beancount/beancount/pull/756","id":1691076818,"node_id":"PR_kwDOD91Bd85Pg_N1","number":756,"title":"Fix option_map -> options_map typo in loader docstrings","user":{"login":"srstevenson","id":5845679,"node_id":"MDQ6VXNlcjU4NDU2Nzk=","avatar_url":"https://avatars.githubusercontent.com/u/5845679?v=4","gravatar_id":"","url":"https://api.github.com/users/srstevenson","html_url":"https://github.com/srstevenson","followers_url":"https://api.github.com/users/srstevenson/followers","following_url":"https://api.github.com/users/srstevenson/following{/other_user}","gists_url":"https://api.github.com/users/srstevenson/gists{/gist_id}","starred_url":"https://api.github.com/users/srstevenson/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/srstevenson/subscriptions","organizations_url":"https://api.github.com/users/srstevenson/orgs","repos_url":"https://api.github.com/users/srstevenson/repos","events_url":"https://api.github.com/users/srstevenson/events{/privacy}","received_events_url":"https://api.github.com/users/srstevenson/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":1,"created_at":"2023-05-01T17:08:30Z","updated_at":"2023-05-01T19:26:17Z","closed_at":"2023-05-01T18:22:53Z","author_association":"NONE","type":null,"active_lock_reason":null,"draft":false,"pull_request":{"url":"https://api.github.com/repos/beancount/beancount/pulls/756","html_url":"https://github.com/beancount/beancount/pull/756","diff_url":"https://github.com/beancount/beancount/pull/756.diff","patch_url":"https://github.com/beancount/beancount/pull/756.patch","merged_at":"2023-05-01T18:22:53Z"},"body":null,"closed_by":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/beancount/beancount/issues/756/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beancount/issues/756/timeline","performed_via_github_app":null,"state_reason":null},{"url":"https://api.github.com/repos/beancount/beancount/issues/755","repository_url":"https://api.github.com/repos/beancount/beancount","labels_url":"https://api.github.com/repos/beancount/beancount/issues/755/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beancount/issues/755/comments","events_url":"https://api.github.com/repos/beancount/beancount/issues/755/events","html_url":"https://github.com/beancount/beancount/issues/755","id":1659873930,"node_id":"I_kwDOD91Bd85i76qK","number":755,"title":"How to convert beancount file to parquet schema for visualization?","user":{"login":"jaanli","id":5317244,"node_id":"MDQ6VXNlcjUzMTcyNDQ=","avatar_url":"https://avatars.githubusercontent.com/u/5317244?v=4","gravatar_id":"","url":"https://api.github.com/users/jaanli","html_url":"https://github.com/jaanli","followers_url":"https://api.github.com/users/jaanli/followers","following_url":"https://api.github.com/users/jaanli/following{/other_user}","gists_url":"https://api.github.com/users/jaanli/gists{/gist_id}","starred_url":"https://api.github.com/users/jaanli/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jaanli/subscriptions","organizations_url":"https://api.github.com/users/jaanli/orgs","repos_url":"https://api.github.com/users/jaanli/repos","events_url":"https://api.github.com/users/jaanli/events{/privacy}","received_events_url":"https://api.github.com/users/jaanli/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":2,"created_at":"2023-04-09T13:19:09Z","updated_at":"2023-04-15T19:52:01Z","closed_at":"2023-04-15T19:52:00Z","author_association":"NONE","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"Hi! At our health AI nonprofit we need to have full transparency to engender trust.\n\nWe're considering using beancount - but haven't figured out how to visualize the transaction history.\n\nWe need to use Vega / Altair in Python -- but not sure how to convert the beancount format file into a parquet file for visualization.\n\nHas anyone used Vega / Altair for visualizing beancount data? \n\nHere's an example:\n\nhttps://vega.github.io/falcon/flights/\n\nThank you!!\nJaan","closed_by":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/beancount/beancount/issues/755/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beancount/issues/755/timeline","performed_via_github_app":null,"state_reason":"completed"},{"url":"https://api.github.com/repos/beancount/beancount/issues/754","repository_url":"https://api.github.com/repos/beancount/beancount","labels_url":"https://api.github.com/repos/beancount/beancount/issues/754/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beancount/issues/754/comments","events_url":"https://api.github.com/repos/beancount/beancount/issues/754/events","html_url":"https://github.com/beancount/beancount/issues/754","id":1659564824,"node_id":"I_kwDOD91Bd85i6vMY","number":754,"title":"exception in any query using get_account_sort_key  when localizing account names","user":{"login":"azrdev","id":5132647,"node_id":"MDQ6VXNlcjUxMzI2NDc=","avatar_url":"https://avatars.githubusercontent.com/u/5132647?v=4","gravatar_id":"","url":"https://api.github.com/users/azrdev","html_url":"https://github.com/azrdev","followers_url":"https://api.github.com/users/azrdev/followers","following_url":"https://api.github.com/users/azrdev/following{/other_user}","gists_url":"https://api.github.com/users/azrdev/gists{/gist_id}","starred_url":"https://api.github.com/users/azrdev/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/azrdev/subscriptions","organizations_url":"https://api.github.com/users/azrdev/orgs","repos_url":"https://api.github.com/users/azrdev/repos","events_url":"https://api.github.com/users/azrdev/events{/privacy}","received_events_url":"https://api.github.com/users/azrdev/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":2,"created_at":"2023-04-08T15:58:59Z","updated_at":"2024-11-09T19:07:39Z","closed_at":"2024-11-09T19:07:39Z","author_association":"NONE","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"I noticed the \"holdings\" tab in my fava only shows me the exception quoted below, clicking on \"Query\" and boiling down a minimal working example blames `get_account_sort_key` in conjunction with renamed (top-level) accounts.\r\n\r\nexception:\r\n~~~pytb\r\n$ bean-query mwe.beancount 'SELECT account, account_sortkey(account) '\r\nTraceback (most recent call last):\r\n  File \"/usr/lib/python3.10/cmd.py\", line 214, in onecmd\r\n    func = getattr(self, 'do_' + cmd)\r\nAttributeError: 'BQLShell' object has no attribute 'do_SELECT'\r\n\r\nDuring handling of the above exception, another exception occurred:\r\n\r\nTraceback (most recent call last):\r\n  File \"/usr/lib/python3.10/site-packages/beancount/query/shell.py\", line 271, in run_parser\r\n    self.dispatch(statement)\r\n  File \"/usr/lib/python3.10/site-packages/beancount/query/shell.py\", line 251, in dispatch\r\n    return method(statement)\r\n  File \"/usr/lib/python3.10/site-packages/beancount/query/shell.py\", line 416, in on_Select\r\n    rtypes, rrows = query_execute.execute_query(c_query,\r\n  File \"/usr/lib/python3.10/site-packages/beancount/query/query_execute.py\", line 282, in execute_query\r\n    values = [c_expr(context) for c_expr in c_target_exprs]\r\n  File \"/usr/lib/python3.10/site-packages/beancount/query/query_execute.py\", line 282, in <listcomp>\r\n    values = [c_expr(context) for c_expr in c_target_exprs]\r\n  File \"/usr/lib/python3.10/site-packages/beancount/query/query_env.py\", line 421, in __call__\r\n    index, name = account_types.get_account_sort_key(context.account_types, args[0])\r\n  File \"/usr/lib/python3.10/site-packages/beancount/core/account_types.py\", line 46, in get_account_sort_key\r\n    return (account_types.index(get_account_type(account_name)), account_name)\r\nValueError: tuple.index(x): x not in tuple\r\n~~~\r\n\r\nMWE:\r\n~~~ledger\r\noption \"title\" \"MWE\"\r\noption \"operating_currency\" \"EUR\"\r\n1992-01-01 custom \"fava-option\" \"language\" \"de\"\r\n\r\n* Bilanzkonten\r\noption \"name_assets\" \"Aktiva\"\r\noption \"name_liabilities\" \"Verbindlichkeiten\"\r\noption \"name_equity\" \"Passiva:Eigenkapital\"\r\noption \"account_previous_balances\" \"Passiva:Eigenkapital:Eröffnungssaldo\"\r\noption \"account_current_earnings\" \"Gewinn\"  ; net income\r\noption \"account_previous_earnings\" \"Rücklagen\"  ; retained earnings\r\n* Erfolgskonten\r\noption \"name_income\" \"EK:Einnahmen\"\r\noption \"name_expenses\" \"EK:Ausgaben\"\r\n\r\n1992-01-01 open Passiva:Eigenkapital:Eröffnungssaldo\r\n1992-01-01 open Aktiva:Giro\r\n\r\n2000-01-01 * \"\"\r\n  Aktiva:Giro  1000 EUR\r\n  Passiva:Eigenkapital:Eröffnungssaldo\r\n~~~","closed_by":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/beancount/beancount/issues/754/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beancount/issues/754/timeline","performed_via_github_app":null,"state_reason":"completed"},{"url":"https://api.github.com/repos/beancount/beancount/issues/753","repository_url":"https://api.github.com/repos/beancount/beancount","labels_url":"https://api.github.com/repos/beancount/beancount/issues/753/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beancount/issues/753/comments","events_url":"https://api.github.com/repos/beancount/beancount/issues/753/events","html_url":"https://github.com/beancount/beancount/issues/753","id":1650351423,"node_id":"I_kwDOD91Bd85iXl0_","number":753,"title":"I'll use Ledger instead. I know some Python and thought it might have been fun to get involved. Thanks anyway.","user":{"login":"tsc-pygy","id":80622556,"node_id":"MDQ6VXNlcjgwNjIyNTU2","avatar_url":"https://avatars.githubusercontent.com/u/80622556?v=4","gravatar_id":"","url":"https://api.github.com/users/tsc-pygy","html_url":"https://github.com/tsc-pygy","followers_url":"https://api.github.com/users/tsc-pygy/followers","following_url":"https://api.github.com/users/tsc-pygy/following{/other_user}","gists_url":"https://api.github.com/users/tsc-pygy/gists{/gist_id}","starred_url":"https://api.github.com/users/tsc-pygy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tsc-pygy/subscriptions","organizations_url":"https://api.github.com/users/tsc-pygy/orgs","repos_url":"https://api.github.com/users/tsc-pygy/repos","events_url":"https://api.github.com/users/tsc-pygy/events{/privacy}","received_events_url":"https://api.github.com/users/tsc-pygy/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":1,"created_at":"2023-04-01T07:52:29Z","updated_at":"2023-04-01T15:02:23Z","closed_at":"2023-04-01T15:02:22Z","author_association":"NONE","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"I just opened this because when I edited the subject line of Issue #752 it wasn't saved. Only the body of the post retained the changes I made. I became suspicious that someone might have tampered with it.\r\n\r\nBye.","closed_by":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/beancount/beancount/issues/753/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beancount/issues/753/timeline","performed_via_github_app":null,"state_reason":"completed"},{"url":"https://api.github.com/repos/beancount/beancount/issues/752","repository_url":"https://api.github.com/repos/beancount/beancount","labels_url":"https://api.github.com/repos/beancount/beancount/issues/752/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beancount/issues/752/comments","events_url":"https://api.github.com/repos/beancount/beancount/issues/752/events","html_url":"https://github.com/beancount/beancount/issues/752","id":1646398483,"node_id":"I_kwDOD91Bd85iIgwT","number":752,"title":"PyPi install errors : testresources, pip3.8","user":{"login":"tsc-pygy","id":80622556,"node_id":"MDQ6VXNlcjgwNjIyNTU2","avatar_url":"https://avatars.githubusercontent.com/u/80622556?v=4","gravatar_id":"","url":"https://api.github.com/users/tsc-pygy","html_url":"https://github.com/tsc-pygy","followers_url":"https://api.github.com/users/tsc-pygy/followers","following_url":"https://api.github.com/users/tsc-pygy/following{/other_user}","gists_url":"https://api.github.com/users/tsc-pygy/gists{/gist_id}","starred_url":"https://api.github.com/users/tsc-pygy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tsc-pygy/subscriptions","organizations_url":"https://api.github.com/users/tsc-pygy/orgs","repos_url":"https://api.github.com/users/tsc-pygy/repos","events_url":"https://api.github.com/users/tsc-pygy/events{/privacy}","received_events_url":"https://api.github.com/users/tsc-pygy/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":1,"created_at":"2023-03-29T19:35:01Z","updated_at":"2023-04-01T15:02:14Z","closed_at":"2023-04-01T15:02:13Z","author_association":"NONE","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"To the people who probably won't read this...\r\n\r\nNow that my system is bloated from trying to install the long list of dependencies for beancount, I guess I'll quit while I'm behind. Just ignore everything below. I'll use Ledger instead.\r\n\r\nThe message \"Successfully built beancount\" did occur (below), which seemed promising, but the errors threw me off.\r\n\r\nIf the errors regarding testresources and pip3.8 won't affect the functionality of the program, please let me know. My concern is that I don't want to trust my financial information to a faulty installation of beancount.\r\n\r\nPlease let me know if you need more information.\r\nThank you for any assistance you can provide!\r\n\r\nOS : Linux Mint 20.1\r\nDevice : Lenovo Ideapad 310\r\n\r\n$ apt install python3-dev\r\n\r\n[sudo] password:\r\nReading package lists... Done\r\nBuilding dependency tree       \r\nReading state information... Done\r\npython3-dev is already the newest version (3.8.2-0ubuntu2).\r\npython3-dev set to manually installed.\r\n0 upgraded, 0 newly installed, 0 to remove and 0 not upgraded.\r\n\r\n$ pip3 \r\n   (also tried pip3.8 -> same output)\r\n\r\nUsage:   \r\n  pip3 <command> [options]\r\n\r\nCommands:\r\n  install                     Install packages.\r\n  download                    Download packages.\r\n  uninstall                   Uninstall packages.\r\n  freeze                      Output installed packages in requirements format.\r\n  list                        List installed packages.\r\n  ... etc.\r\n \r\nGeneral Options:\r\n  -h, --help                  Show help.\r\n  --debug                     Let unhandled exceptions propagate outside the main subroutine, instead of logging them to\r\n                              stderr.\r\n  --isolated                  Run pip in an isolated mode, ignoring environment variables and user configuration.\r\n  --require-virtualenv        Allow pip to only run in a virtual environment; exit with an error otherwise.\r\n  -v, --verbose               Give more output. Option is additive, and can be used up to 3 times.\r\n  ...etc.\r\n\r\n$ sudo -H python3 -m pip install beancount\r\n\r\nCollecting beancount\r\n  Downloading beancount-2.3.5.tar.gz (638 kB)\r\n     |████████████████████████████████| 638 kB 491 kB/s \r\nRequirement already satisfied: beautifulsoup4 in /usr/lib/python3/dist-packages (from beancount) (4.8.2)\r\nCollecting bottle\r\n  Downloading bottle-0.12.25-py3-none-any.whl (90 kB)\r\n     |████████████████████████████████| 90 kB 846 kB/s \r\nRequirement already satisfied: chardet in /usr/lib/python3/dist-packages (from beancount) (3.0.4)\r\nCollecting google-api-python-client\r\n  Downloading google_api_python_client-2.83.0-py2.py3-none-any.whl (11.2 MB)\r\n     |████████████████████████████████| 11.2 MB 3.4 MB/s \r\nCollecting lxml\r\n  Downloading lxml-4.9.2-cp38-cp38-manylinux_2_17_x86_64.manylinux2014_x86_64.manylinux_2_24_x86_64.whl (7.1 MB)\r\n     |████████████████████████████████| 7.1 MB 3.9 MB/s \r\nCollecting ply\r\n  Downloading ply-3.11-py2.py3-none-any.whl (49 kB)\r\n     |████████████████████████████████| 49 kB 1.8 MB/s \r\nCollecting pytest\r\n  Downloading pytest-7.2.2-py3-none-any.whl (317 kB)\r\n     |████████████████████████████████| 317 kB 3.7 MB/s \r\nRequirement already satisfied: python-dateutil in /usr/lib/python3/dist-packages (from beancount) (2.7.3)\r\nRequirement already satisfied: requests in /usr/lib/python3/dist-packages (from beancount) (2.22.0)\r\nRequirement already satisfied: python-magic>=0.4.12 in /usr/lib/python3/dist-packages (from beancount) (0.4.16)\r\nCollecting google-auth-httplib2>=0.1.0\r\n  Downloading google_auth_httplib2-0.1.0-py2.py3-none-any.whl (9.3 kB)\r\nCollecting google-auth<3.0.0dev,>=1.19.0\r\n  Downloading google_auth-2.17.0-py2.py3-none-any.whl (178 kB)\r\n     |████████████████████████████████| 178 kB 5.3 MB/s \r\nCollecting uritemplate<5,>=3.0.1\r\n  Downloading uritemplate-4.1.1-py2.py3-none-any.whl (10 kB)\r\nCollecting google-api-core!=2.0.*,!=2.1.*,!=2.2.*,!=2.3.0,<3.0.0dev,>=1.31.5\r\n  Downloading google_api_core-2.11.0-py3-none-any.whl (120 kB)\r\n     |████████████████████████████████| 120 kB 4.1 MB/s \r\nCollecting httplib2<1dev,>=0.15.0\r\n  Downloading httplib2-0.22.0-py3-none-any.whl (96 kB)\r\n     |████████████████████████████████| 96 kB 2.1 MB/s \r\nCollecting tomli>=1.0.0; python_version < \"3.11\"\r\n  Downloading tomli-2.0.1-py3-none-any.whl (12 kB)\r\nCollecting iniconfig\r\n  Downloading iniconfig-2.0.0-py3-none-any.whl (5.9 kB)\r\nCollecting exceptiongroup>=1.0.0rc8; python_version < \"3.11\"\r\n  Downloading exceptiongroup-1.1.1-py3-none-any.whl (14 kB)\r\nRequirement already satisfied: packaging in /usr/lib/python3/dist-packages (from pytest->beancount) (20.3)\r\nCollecting attrs>=19.2.0\r\n  Downloading attrs-22.2.0-py3-none-any.whl (60 kB)\r\n     |████████████████████████████████| 60 kB 2.2 MB/s \r\nCollecting pluggy<2.0,>=0.12\r\n  Downloading pluggy-1.0.0-py2.py3-none-any.whl (13 kB)\r\nRequirement already satisfied: six in /usr/lib/python3/dist-packages (from google-auth-httplib2>=0.1.0->google-api-python-client->beancount) (1.14.0)\r\nCollecting cachetools<6.0,>=2.0.0\r\n  Downloading cachetools-5.3.0-py3-none-any.whl (9.3 kB)\r\nCollecting rsa<5,>=3.1.4; python_version >= \"3.6\"\r\n  Downloading rsa-4.9-py3-none-any.whl (34 kB)\r\nCollecting pyasn1-modules>=0.2.1\r\n  Downloading pyasn1_modules-0.2.8-py2.py3-none-any.whl (155 kB)\r\n     |████████████████████████████████| 155 kB 4.2 MB/s \r\nCollecting googleapis-common-protos<2.0dev,>=1.56.2\r\n  Downloading googleapis_common_protos-1.59.0-py2.py3-none-any.whl (223 kB)\r\n     |████████████████████████████████| 223 kB 4.1 MB/s \r\nCollecting protobuf!=3.20.0,!=3.20.1,!=4.21.0,!=4.21.1,!=4.21.2,!=4.21.3,!=4.21.4,!=4.21.5,<5.0.0dev,>=3.19.5\r\n  Downloading protobuf-4.22.1-cp37-abi3-manylinux2014_x86_64.whl (302 kB)\r\n     |████████████████████████████████| 302 kB 3.8 MB/s \r\nRequirement already satisfied: pyparsing!=3.0.0,!=3.0.1,!=3.0.2,!=3.0.3,<4,>=2.4.2; python_version > \"3.0\" in /usr/lib/python3/dist-packages (from httplib2<1dev,>=0.15.0->google-api-python-client->beancount) (2.4.6)\r\nCollecting pyasn1>=0.1.3\r\n  Downloading pyasn1-0.4.8-py2.py3-none-any.whl (77 kB)\r\n     |████████████████████████████████| 77 kB 2.6 MB/s \r\nBuilding wheels for collected packages: beancount\r\n  Building wheel for beancount (setup.py) ... done\r\n  Created wheel for beancount: filename=beancount-2.3.5-cp38-cp38-linux_x86_64.whl size=823145 sha256=b4897d530bd72c4c3ddd9b1ed095f19403aa27c133f9df327fc328f9189612c6\r\n  Stored in directory: /root/.cache/pip/wheels/c2/3b/b5/8eee05eeda6eacd53404016a9aeb28ced036c8e29a6c1670c5\r\n\r\nSuccessfully built beancount\r\n\r\nERROR: launchpadlib 1.10.13 requires testresources, which is not installed.\r\n\r\nInstalling collected packages: bottle, httplib2, cachetools, pyasn1, rsa, pyasn1-modules, google-auth, google-auth-httplib2, uritemplate, protobuf, googleapis-common-protos, google-api-core, google-api-python-client, lxml, ply, tomli, iniconfig, exceptiongroup, attrs, pluggy, pytest, beancount\r\n  Attempting uninstall: httplib2\r\n    Found existing installation: httplib2 0.14.0\r\n    Not uninstalling httplib2 at /usr/lib/python3/dist-packages, outside environment /usr\r\n    Can't uninstall 'httplib2'. No files were found to uninstall.\r\n  Attempting uninstall: protobuf\r\n    Found existing installation: protobuf 3.6.1\r\n    Not uninstalling protobuf at /usr/lib/python3/dist-packages, outside environment /usr\r\n    Can't uninstall 'protobuf'. No files were found to uninstall.\r\nSuccessfully installed attrs-22.2.0 beancount-2.3.5 bottle-0.12.25 cachetools-5.3.0 exceptiongroup-1.1.1 google-api-core-2.11.0 google-api-python-client-2.83.0 google-auth-2.17.0 google-auth-httplib2-0.1.0 googleapis-common-protos-1.59.0 httplib2-0.22.0 iniconfig-2.0.0 lxml-4.9.2 pluggy-1.0.0 ply-3.11 protobuf-4.22.1 pyasn1-0.4.8 pyasn1-modules-0.2.8 pytest-7.2.2 rsa-4.9 tomli-2.0.1 uritemplate-4.1.1\r\n\r\n$ pip install testresources\r\n\r\nDefaulting to user installation because normal site-packages is not writeable\r\nRequirement already satisfied: testresources in ./.local/lib/python3.8/site-packages (2.0.1)\r\nRequirement already satisfied: pbr>=1.8 in ./.local/lib/python3.8/site-packages (from testresources) (5.6.0)\r\n\r\n--- Logging error ---\r\nTraceback (most recent call last):\r\n  File \"/home/<user>/.local/lib/python3.8/site-packages/pip/_internal/utils/logging.py\", line 177, in emit\r\n    self.console.print(renderable, overflow=\"ignore\", crop=False, style=style)\r\n  File \"/home/<user>/.local/lib/python3.8/site-packages/pip/_vendor/rich/console.py\", line 1752, in print\r\n    extend(render(renderable, render_options))\r\n  File \"/home/<user>/.local/lib/python3.8/site-packages/pip/_vendor/rich/console.py\", line 1390, in render\r\n    for render_output in iter_render:\r\n  File \"/home/<user>/.local/lib/python3.8/site-packages/pip/_internal/utils/logging.py\", line 134, in __rich_console__\r\n    for line in lines:\r\n  File \"/home/<user>/.local/lib/python3.8/site-packages/pip/_vendor/rich/segment.py\", line 245, in split_lines\r\n    for segment in segments:\r\n  File \"/home/<user>/.local/lib/python3.8/site-packages/pip/_vendor/rich/console.py\", line 1368, in render\r\n    renderable = rich_cast(renderable)\r\n  File \"/home/<user>/.local/lib/python3.8/site-packages/pip/_vendor/rich/protocol.py\", line 36, in rich_cast\r\n    renderable = cast_method()\r\n  File \"/home/<user>/.local/lib/python3.8/site-packages/pip/_internal/self_outdated_check.py\", line 130, in __rich__\r\n    pip_cmd = get_best_invocation_for_this_pip()\r\n  File \"/home/<user>/.local/lib/python3.8/site-packages/pip/_internal/utils/entrypoints.py\", line 58, in get_best_invocation_for_this_pip\r\n    if found_executable and os.path.samefile(\r\n  File \"/usr/lib/python3.8/genericpath.py\", line 101, in samefile\r\n    s2 = os.stat(f2)\r\n\r\nFileNotFoundError: [Errno 2] No such file or directory: '/usr/bin/pip3.8'\r\n\r\nCall stack:\r\n  File \"/home/<user>/.local/bin/pip\", line 8, in <module>\r\n    sys.exit(main())\r\n  File \"/home/<user>/.local/lib/python3.8/site-packages/pip/_internal/cli/main.py\", line 70, in main\r\n    return command.main(cmd_args)\r\n  File \"/home/<user>/.local/lib/python3.8/site-packages/pip/_internal/cli/base_command.py\", line 101, in main\r\n    return self._main(args)\r\n  File \"/home/<user>/.local/lib/python3.8/site-packages/pip/_internal/cli/base_command.py\", line 223, in _main\r\n    self.handle_pip_version_check(options)\r\n  File \"/home/<user>/.local/lib/python3.8/site-packages/pip/_internal/cli/req_command.py\", line 148, in handle_pip_version_check\r\n    pip_self_version_check(session, options)\r\n  File \"/home/<user>/.local/lib/python3.8/site-packages/pip/_internal/self_outdated_check.py\", line 237, in pip_self_version_check\r\n    logger.info(\"[present-rich] %s\", upgrade_prompt)\r\n  File \"/usr/lib/python3.8/logging/__init__.py\", line 1446, in info\r\n    self._log(INFO, msg, args, **kwargs)\r\n  File \"/usr/lib/python3.8/logging/__init__.py\", line 1589, in _log\r\n    self.handle(record)\r\n  File \"/usr/lib/python3.8/logging/__init__.py\", line 1599, in handle\r\n    self.callHandlers(record)\r\n  File \"/usr/lib/python3.8/logging/__init__.py\", line 1661, in callHandlers\r\n    hdlr.handle(record)\r\n  File \"/usr/lib/python3.8/logging/__init__.py\", line 954, in handle\r\n    self.emit(record)\r\n  File \"/home/<user>/.local/lib/python3.8/site-packages/pip/_internal/utils/logging.py\", line 179, in emit\r\n    self.handleError(record)\r\n\r\nMessage: '[present-rich] %s'\r\nArguments: (UpgradePrompt(old='22.1.2', new='23.0.1'),)\r\n\r\n$ python3 -m beancount.scripts.deps -> no ouput\r\n\r\nThanks for your time!","closed_by":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/beancount/beancount/issues/752/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beancount/issues/752/timeline","performed_via_github_app":null,"state_reason":"completed"},{"url":"https://api.github.com/repos/beancount/beancount/issues/751","repository_url":"https://api.github.com/repos/beancount/beancount","labels_url":"https://api.github.com/repos/beancount/beancount/issues/751/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beancount/issues/751/comments","events_url":"https://api.github.com/repos/beancount/beancount/issues/751/events","html_url":"https://github.com/beancount/beancount/pull/751","id":1626945414,"node_id":"PR_kwDOD91Bd85MLm0k","number":751,"title":"Add a new 'close_tree' plugin to close entire trees by closing the pa…","user":{"login":"redstreet","id":691755,"node_id":"MDQ6VXNlcjY5MTc1NQ==","avatar_url":"https://avatars.githubusercontent.com/u/691755?v=4","gravatar_id":"","url":"https://api.github.com/users/redstreet","html_url":"https://github.com/redstreet","followers_url":"https://api.github.com/users/redstreet/followers","following_url":"https://api.github.com/users/redstreet/following{/other_user}","gists_url":"https://api.github.com/users/redstreet/gists{/gist_id}","starred_url":"https://api.github.com/users/redstreet/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/redstreet/subscriptions","organizations_url":"https://api.github.com/users/redstreet/orgs","repos_url":"https://api.github.com/users/redstreet/repos","events_url":"https://api.github.com/users/redstreet/events{/privacy}","received_events_url":"https://api.github.com/users/redstreet/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":0,"created_at":"2023-03-16T08:22:12Z","updated_at":"2023-04-29T21:21:28Z","closed_at":"2023-04-29T21:21:28Z","author_association":"CONTRIBUTOR","type":null,"active_lock_reason":null,"draft":false,"pull_request":{"url":"https://api.github.com/repos/beancount/beancount/pulls/751","html_url":"https://github.com/beancount/beancount/pull/751","diff_url":"https://github.com/beancount/beancount/pull/751.diff","patch_url":"https://github.com/beancount/beancount/pull/751.patch","merged_at":"2023-04-29T21:21:28Z"},"body":" Add a new 'close_tree' plugin to close entire trees by closing the parent.\r\n\r\nSee https://groups.google.com/g/beancount/c/c0Fm4hrxpUQ","closed_by":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/beancount/beancount/issues/751/reactions","total_count":1,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":1,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beancount/issues/751/timeline","performed_via_github_app":null,"state_reason":null},{"url":"https://api.github.com/repos/beancount/beancount/issues/750","repository_url":"https://api.github.com/repos/beancount/beancount","labels_url":"https://api.github.com/repos/beancount/beancount/issues/750/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beancount/issues/750/comments","events_url":"https://api.github.com/repos/beancount/beancount/issues/750/events","html_url":"https://github.com/beancount/beancount/issues/750","id":1625169430,"node_id":"I_kwDOD91Bd85g3h4W","number":750,"title":"Document directives scanner only accepts A–Z, a–z, ß, æ, ø directory names","user":{"login":"sefsh","id":346211,"node_id":"MDQ6VXNlcjM0NjIxMQ==","avatar_url":"https://avatars.githubusercontent.com/u/346211?v=4","gravatar_id":"","url":"https://api.github.com/users/sefsh","html_url":"https://github.com/sefsh","followers_url":"https://api.github.com/users/sefsh/followers","following_url":"https://api.github.com/users/sefsh/following{/other_user}","gists_url":"https://api.github.com/users/sefsh/gists{/gist_id}","starred_url":"https://api.github.com/users/sefsh/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sefsh/subscriptions","organizations_url":"https://api.github.com/users/sefsh/orgs","repos_url":"https://api.github.com/users/sefsh/repos","events_url":"https://api.github.com/users/sefsh/events{/privacy}","received_events_url":"https://api.github.com/users/sefsh/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":7,"created_at":"2023-03-15T09:58:38Z","updated_at":"2023-10-06T10:01:37Z","closed_at":"2023-09-23T15:38:59Z","author_association":"NONE","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"### Description of Issue\r\n\r\nUsing a documents option to generate document journal entries from a directory, as in [https://beancount.github.io/docs/beancount_language_syntax.html#documents-from-a-directory ](https://beancount.github.io/docs/beancount_language_syntax.html#documents-from-a-directory) works only if accounts and therefore its subsequent directory names are written in the character ranges of A–Z and a–z. The rest of Beancount (and Fava) works fine with nordic and german characters, emojis etc.\r\n\r\n### Software versions used for testing\r\n\r\n    beancount==2.3.5\r\n    fava==1.24\r\n\r\n### Other software used:\r\n\r\n    VSCodium 1.76.1\r\n    Firefox 110.0.1 (1 (64-bit)\r\n    macOS 13\r\n\r\n### Steps to reproduce\r\n\r\n1. Create this file as `test.bean`\r\n```\r\noption \"documents\" \"docs\"\r\noption \"operating_currency\" \"THARNI\"\r\n\r\n2020-01-01 open Assets:Cash\r\n2020-01-01 open Liabilities:Debts\r\n\r\n2023-03-14 * \"Pippin\" \"Settle debt\"\r\n  document: \"2020-01-01.ProofOfPippin.jpg\"\r\n  Assets:Cash        -100 THARNI\r\n  Liabilities:Debts   100 THARNI\r\n```\r\n2. Create the directory structure: `mkdir -p docs/Assets/Cash`\r\n3. Add a file to it: `touch docs/Assets/Cash/2020-01-01.ProofOfPippin.jpg`\r\n4. Run `bean-report test.bean print`. Output:\r\n```\r\n2020-01-01 open Assets:Cash\r\n2020-01-01 open Liabilities:Debts\r\n\r\n2020-01-01 document Assets:Cash \"/Users/sef/docs/Assets/Cash/2020-01-01.ProofOfPippin.jpg\"\r\n\r\n2023-03-14 * \"Pippin\" \"Settle debt\"\r\n  document: \"2020-01-01.ProofOfPippin.jpg\"\r\n  Assets:Cash        -100 THARNI\r\n  Liabilities:Debts   100 THARNI\r\n\r\n```\r\n5. **Now \"Break it\"**\r\n6. Adapt `Cash` to the local tongue: `Cäsh`:\r\n```\r\noption \"documents\" \"docs\"\r\noption \"operating_currency\" \"THARNI\"\r\n\r\n2020-01-01 open Assets:Cäsh\r\n2020-01-01 open Liabilities:Debts\r\n\r\n2023-03-14 * \"Pippin\" \"Settle debt\"\r\n  document: \"2020-01-01.ProofOfPippin.jpg\"\r\n  Assets:Cäsh        -100 THARNI\r\n  Liabilities:Debts   100 THARNI\r\n```\r\n7. Rename directory: `mv docs/Assets/Cash docs/Assets/Cäsh`\r\n8. Run `bean-report test.bean print` again. Output:\r\n```\r\n2020-01-01 open Assets:Cäsh\r\n2020-01-01 open Liabilities:Debts\r\n\r\n2023-03-14 * \"Pippin\" \"Settle debt\"\r\n  document: \"2020-01-01.ProofOfPippin.jpg\"\r\n  Assets:Cäsh        -100 THARNI\r\n  Liabilities:Debts   100 THARNI\r\n```\r\n\r\nAs we can see Beancount accepts this account name, but cannot traverse directories replicating this naming, or at least it doesn't produce a document directive in the end. Document scanning breaks if accounts are using for example `å`, `ä`, `ö`, `ü`, `·` in their names. Oddly enough `ß`, `æ`, `ø` works fine.\r\n\r\n(This issue started out in https://github.com/beancount/fava/issues/1480)","closed_by":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/beancount/beancount/issues/750/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beancount/issues/750/timeline","performed_via_github_app":null,"state_reason":"completed"},{"url":"https://api.github.com/repos/beancount/beancount/issues/748","repository_url":"https://api.github.com/repos/beancount/beancount","labels_url":"https://api.github.com/repos/beancount/beancount/issues/748/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beancount/issues/748/comments","events_url":"https://api.github.com/repos/beancount/beancount/issues/748/events","html_url":"https://github.com/beancount/beancount/issues/748","id":1616032369,"node_id":"I_kwDOD91Bd85gUrJx","number":748,"title":"Step-by-step tutorial needed: How to compute CGT tax?","user":{"login":"iirekm","id":789523,"node_id":"MDQ6VXNlcjc4OTUyMw==","avatar_url":"https://avatars.githubusercontent.com/u/789523?v=4","gravatar_id":"","url":"https://api.github.com/users/iirekm","html_url":"https://github.com/iirekm","followers_url":"https://api.github.com/users/iirekm/followers","following_url":"https://api.github.com/users/iirekm/following{/other_user}","gists_url":"https://api.github.com/users/iirekm/gists{/gist_id}","starred_url":"https://api.github.com/users/iirekm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/iirekm/subscriptions","organizations_url":"https://api.github.com/users/iirekm/orgs","repos_url":"https://api.github.com/users/iirekm/repos","events_url":"https://api.github.com/users/iirekm/events{/privacy}","received_events_url":"https://api.github.com/users/iirekm/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":1,"created_at":"2023-03-08T22:17:24Z","updated_at":"2023-03-09T02:17:32Z","closed_at":"2023-03-09T02:17:32Z","author_association":"NONE","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"I found some documentation on 'Inventories' at https://beancount.github.io/docs/how_inventories_work.html, but I don't get it, it's too 'theoretical', doesn't show how to use it to compute yearly CGT report with FIFO method?. \r\n\r\nMore step-by-step instructions would be needed:\r\n- prepare directives in format  `.....`\r\n- issue the command `.....` to generate CGT report\r\n\r\n","closed_by":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/beancount/beancount/issues/748/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beancount/issues/748/timeline","performed_via_github_app":null,"state_reason":"completed"},{"url":"https://api.github.com/repos/beancount/beancount/issues/747","repository_url":"https://api.github.com/repos/beancount/beancount","labels_url":"https://api.github.com/repos/beancount/beancount/issues/747/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beancount/issues/747/comments","events_url":"https://api.github.com/repos/beancount/beancount/issues/747/events","html_url":"https://github.com/beancount/beancount/issues/747","id":1603467511,"node_id":"I_kwDOD91Bd85fkvj3","number":747,"title":"CSV importer regular expressions only match content and not filename","user":{"login":"doughepi","id":14059149,"node_id":"MDQ6VXNlcjE0MDU5MTQ5","avatar_url":"https://avatars.githubusercontent.com/u/14059149?v=4","gravatar_id":"","url":"https://api.github.com/users/doughepi","html_url":"https://github.com/doughepi","followers_url":"https://api.github.com/users/doughepi/followers","following_url":"https://api.github.com/users/doughepi/following{/other_user}","gists_url":"https://api.github.com/users/doughepi/gists{/gist_id}","starred_url":"https://api.github.com/users/doughepi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/doughepi/subscriptions","organizations_url":"https://api.github.com/users/doughepi/orgs","repos_url":"https://api.github.com/users/doughepi/repos","events_url":"https://api.github.com/users/doughepi/events{/privacy}","received_events_url":"https://api.github.com/users/doughepi/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":2,"created_at":"2023-02-28T17:12:55Z","updated_at":"2023-02-28T18:58:26Z","closed_at":"2023-02-28T18:57:09Z","author_association":"NONE","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"Unless I'm missing something or using CSV importer incorrectly, the content of a file is the only thing that is matched against the regular expressions passed into the CSV importer constructor.\r\n\r\nhttps://github.com/beancount/beancount/blob/6d64d56b2e04dd164cd117c124d703da89783ee1/beancount/ingest/importers/csv.py#L180\r\n\r\nI believe this is useful, but falls short in instances where the data directory you're importing from contains files with similar CSV structures, but represent different accounts. In such a case, no account specific information is available in the content of the CSV, only the title (i.e. a 4 digit account postfix like ChaseXXXX). The CSV importer would match multiple files representing different accounts because the current `regexps` parameter only allows regular expression matching on file content (usually the CSV header row is matched). \r\n\r\nSuggested improvement would be to allow for a `content_regexps` and `filename_regexp` to be specified in the csv.Importer constructor, instead of just the `regexes` list that is currently implemented.","closed_by":{"login":"doughepi","id":14059149,"node_id":"MDQ6VXNlcjE0MDU5MTQ5","avatar_url":"https://avatars.githubusercontent.com/u/14059149?v=4","gravatar_id":"","url":"https://api.github.com/users/doughepi","html_url":"https://github.com/doughepi","followers_url":"https://api.github.com/users/doughepi/followers","following_url":"https://api.github.com/users/doughepi/following{/other_user}","gists_url":"https://api.github.com/users/doughepi/gists{/gist_id}","starred_url":"https://api.github.com/users/doughepi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/doughepi/subscriptions","organizations_url":"https://api.github.com/users/doughepi/orgs","repos_url":"https://api.github.com/users/doughepi/repos","events_url":"https://api.github.com/users/doughepi/events{/privacy}","received_events_url":"https://api.github.com/users/doughepi/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/beancount/beancount/issues/747/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beancount/issues/747/timeline","performed_via_github_app":null,"state_reason":"completed"},{"url":"https://api.github.com/repos/beancount/beancount/issues/746","repository_url":"https://api.github.com/repos/beancount/beancount","labels_url":"https://api.github.com/repos/beancount/beancount/issues/746/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beancount/issues/746/comments","events_url":"https://api.github.com/repos/beancount/beancount/issues/746/events","html_url":"https://github.com/beancount/beancount/pull/746","id":1548601526,"node_id":"PR_kwDOD91Bd85IGEzw","number":746,"title":"Tailor CI configuration","user":{"login":"omasanori","id":167209,"node_id":"MDQ6VXNlcjE2NzIwOQ==","avatar_url":"https://avatars.githubusercontent.com/u/167209?v=4","gravatar_id":"","url":"https://api.github.com/users/omasanori","html_url":"https://github.com/omasanori","followers_url":"https://api.github.com/users/omasanori/followers","following_url":"https://api.github.com/users/omasanori/following{/other_user}","gists_url":"https://api.github.com/users/omasanori/gists{/gist_id}","starred_url":"https://api.github.com/users/omasanori/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/omasanori/subscriptions","organizations_url":"https://api.github.com/users/omasanori/orgs","repos_url":"https://api.github.com/users/omasanori/repos","events_url":"https://api.github.com/users/omasanori/events{/privacy}","received_events_url":"https://api.github.com/users/omasanori/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":1,"created_at":"2023-01-19T06:45:03Z","updated_at":"2023-06-05T03:52:25Z","closed_at":"2023-06-05T03:46:30Z","author_association":"CONTRIBUTOR","type":null,"active_lock_reason":null,"draft":false,"pull_request":{"url":"https://api.github.com/repos/beancount/beancount/pulls/746","html_url":"https://github.com/beancount/beancount/pull/746","diff_url":"https://github.com/beancount/beancount/pull/746.diff","patch_url":"https://github.com/beancount/beancount/pull/746.patch","merged_at":"2023-06-05T03:46:30Z"},"body":"- [x] Drop Python 3.6\r\n- [x] Use `actions/checkout@v3`\r\n- [x] Use `actions/setup-python@v4`\r\n- [x] Use bazelisk instead of .deb package","closed_by":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/beancount/beancount/issues/746/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beancount/issues/746/timeline","performed_via_github_app":null,"state_reason":null},{"url":"https://api.github.com/repos/beancount/beancount/issues/745","repository_url":"https://api.github.com/repos/beancount/beancount","labels_url":"https://api.github.com/repos/beancount/beancount/issues/745/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beancount/issues/745/comments","events_url":"https://api.github.com/repos/beancount/beancount/issues/745/events","html_url":"https://github.com/beancount/beancount/pull/745","id":1548583964,"node_id":"PR_kwDOD91Bd85IGA_t","number":745,"title":"Fix a build failure in SystemError on all but macOS","user":{"login":"omasanori","id":167209,"node_id":"MDQ6VXNlcjE2NzIwOQ==","avatar_url":"https://avatars.githubusercontent.com/u/167209?v=4","gravatar_id":"","url":"https://api.github.com/users/omasanori","html_url":"https://github.com/omasanori","followers_url":"https://api.github.com/users/omasanori/followers","following_url":"https://api.github.com/users/omasanori/following{/other_user}","gists_url":"https://api.github.com/users/omasanori/gists{/gist_id}","starred_url":"https://api.github.com/users/omasanori/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/omasanori/subscriptions","organizations_url":"https://api.github.com/users/omasanori/orgs","repos_url":"https://api.github.com/users/omasanori/repos","events_url":"https://api.github.com/users/omasanori/events{/privacy}","received_events_url":"https://api.github.com/users/omasanori/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":3,"created_at":"2023-01-19T06:25:51Z","updated_at":"2023-01-26T03:21:51Z","closed_at":"2023-01-26T03:18:17Z","author_association":"CONTRIBUTOR","type":null,"active_lock_reason":null,"draft":false,"pull_request":{"url":"https://api.github.com/repos/beancount/beancount/pulls/745","html_url":"https://github.com/beancount/beancount/pull/745","diff_url":"https://github.com/beancount/beancount/pull/745.diff","patch_url":"https://github.com/beancount/beancount/pull/745.patch","merged_at":"2023-01-26T03:18:17Z"},"body":null,"closed_by":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/beancount/beancount/issues/745/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beancount/issues/745/timeline","performed_via_github_app":null,"state_reason":null},{"url":"https://api.github.com/repos/beancount/beancount/issues/744","repository_url":"https://api.github.com/repos/beancount/beancount","labels_url":"https://api.github.com/repos/beancount/beancount/issues/744/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beancount/issues/744/comments","events_url":"https://api.github.com/repos/beancount/beancount/issues/744/events","html_url":"https://github.com/beancount/beancount/issues/744","id":1534511088,"node_id":"I_kwDOD91Bd85bdsfw","number":744,"title":"Transaction with Cost with currency only not working in output to file","user":{"login":"hswong","id":413117,"node_id":"MDQ6VXNlcjQxMzExNw==","avatar_url":"https://avatars.githubusercontent.com/u/413117?v=4","gravatar_id":"","url":"https://api.github.com/users/hswong","html_url":"https://github.com/hswong","followers_url":"https://api.github.com/users/hswong/followers","following_url":"https://api.github.com/users/hswong/following{/other_user}","gists_url":"https://api.github.com/users/hswong/gists{/gist_id}","starred_url":"https://api.github.com/users/hswong/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hswong/subscriptions","organizations_url":"https://api.github.com/users/hswong/orgs","repos_url":"https://api.github.com/users/hswong/repos","events_url":"https://api.github.com/users/hswong/events{/privacy}","received_events_url":"https://api.github.com/users/hswong/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":3,"created_at":"2023-01-16T08:34:50Z","updated_at":"2026-01-19T16:26:28Z","closed_at":"2026-01-18T20:38:38Z","author_association":"NONE","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"The following beancount transaction cannot be generated using the code directly as cost_to_str in position.py does not properly handle a Cost object with currency but no amount.\r\n\r\n`\r\n\r\n        posting1 = self._create_posting(transaction_date,\r\n                                        account='Assets:Stock',\r\n                                        units=BAmount(-1, 'AAPL'),\r\n                                        cost=_Cost(None, currency, None, None),_\r\n                                        price=None,\r\n                                        flag=None,\r\n                                        meta={})\r\n\r\n        transaction = Transaction(meta={},\r\n                                             date=transaction_date,\r\n                                             flag=\"*\",\r\n                                             payee=None,\r\n                                             narration='',\r\n                                             tags=None,\r\n                                             links=None,\r\n                                             postings=[posting1, posting2])\r\n`\r\n\r\n**Target output**\r\n2019-05-29 * \"Sell a stock\"\r\n  Assets:Stock                                                      -1 AAPL {USD}\r\n  Assets:Cash                                                      150 USD\r\n\r\n**Actual output**\r\n2019-05-29 * \"Sell a stock\"\r\n  Assets:Stock                                                      -1 AAPL {}\r\n  Assets:Cash                                                      150 USD\r\n\r\nI had to patch position.py (in red) to be able to handle the above code and generate the target output above.\r\n\r\n![Screenshot from 2023-01-16 16-33-51](https://user-images.githubusercontent.com/413117/212633020-1b1dab2c-ce96-442e-8d01-ea4f8101633a.png)\r\n","closed_by":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/beancount/beancount/issues/744/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beancount/issues/744/timeline","performed_via_github_app":null,"state_reason":"completed"},{"url":"https://api.github.com/repos/beancount/beancount/issues/743","repository_url":"https://api.github.com/repos/beancount/beancount","labels_url":"https://api.github.com/repos/beancount/beancount/issues/743/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beancount/issues/743/comments","events_url":"https://api.github.com/repos/beancount/beancount/issues/743/events","html_url":"https://github.com/beancount/beancount/issues/743","id":1534078831,"node_id":"I_kwDOD91Bd85bcC9v","number":743,"title":"What is the official guidance on indentation in Beancount's syntax?","user":{"login":"MTPeyton","id":13069044,"node_id":"MDQ6VXNlcjEzMDY5MDQ0","avatar_url":"https://avatars.githubusercontent.com/u/13069044?v=4","gravatar_id":"","url":"https://api.github.com/users/MTPeyton","html_url":"https://github.com/MTPeyton","followers_url":"https://api.github.com/users/MTPeyton/followers","following_url":"https://api.github.com/users/MTPeyton/following{/other_user}","gists_url":"https://api.github.com/users/MTPeyton/gists{/gist_id}","starred_url":"https://api.github.com/users/MTPeyton/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/MTPeyton/subscriptions","organizations_url":"https://api.github.com/users/MTPeyton/orgs","repos_url":"https://api.github.com/users/MTPeyton/repos","events_url":"https://api.github.com/users/MTPeyton/events{/privacy}","received_events_url":"https://api.github.com/users/MTPeyton/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":2,"created_at":"2023-01-16T00:41:32Z","updated_at":"2023-01-17T06:51:36Z","closed_at":"2023-01-17T06:51:35Z","author_association":"NONE","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"Hi all! I've been trying to figure out the ideal way of organizing my Beancount file via indentation. Right now it follows this format:\r\n\r\n```\r\n;# 2020 Transactions\r\n;# 2021 Transactions\r\n;# 2022 Transactions\r\n    ;# 2022-01\r\n    ;# 2022-02\r\n    ;# 2022-03\r\n        ;# Cash\r\n        ;# Banking\r\n            2022-03-15 * \"Move money from checking to savings\"\r\n                Assets:Checking -1 USD\r\n                Assets:Savings 1 USD\r\n\r\n            2022-03-16 * \"Withdraw money from ATM\"\r\n                Assets:Checking -1 USD\r\n                Assets:Wallet 1 USD\r\n\r\n        ;# Credit Cards\r\n    ;# 2022-04\r\n;# 2023 Transactions\r\n```\r\n\r\nThe benefit of this format is that it allows me to use the folding feature of https://github.com/Lencerf/vscode-beancount to collapse sections I'm not working on. (e.g. If I'm working on March 2022, then I only have that section open, with the rest folded/collapsed. If I want to compare to March 2021, I could just unfold the 2021 Transactions section, then unfold 2021-03)\r\n\r\nHowever, this means that transactions and postings can have an arbitrary (multiple of 4) amount of spaces indenting them. `bean-check` does NOT like this, and returns thousands of \"syntax error, unexpected INDENT\" errors. Some tools like `fava` are robust against this, and still work fine. Even the VSCode extension doesn't complain about this format. However other tools, like `bean-price`, are not robust against this.\r\n\r\n**My main question is: what are the official standards around indentation (and whitespace in general) for Beancount's syntax?** I tried to search for \"indent\" and \"whitespace\" in the official documentation... but I didn't find much guidance.","closed_by":{"login":"MTPeyton","id":13069044,"node_id":"MDQ6VXNlcjEzMDY5MDQ0","avatar_url":"https://avatars.githubusercontent.com/u/13069044?v=4","gravatar_id":"","url":"https://api.github.com/users/MTPeyton","html_url":"https://github.com/MTPeyton","followers_url":"https://api.github.com/users/MTPeyton/followers","following_url":"https://api.github.com/users/MTPeyton/following{/other_user}","gists_url":"https://api.github.com/users/MTPeyton/gists{/gist_id}","starred_url":"https://api.github.com/users/MTPeyton/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/MTPeyton/subscriptions","organizations_url":"https://api.github.com/users/MTPeyton/orgs","repos_url":"https://api.github.com/users/MTPeyton/repos","events_url":"https://api.github.com/users/MTPeyton/events{/privacy}","received_events_url":"https://api.github.com/users/MTPeyton/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/beancount/beancount/issues/743/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beancount/issues/743/timeline","performed_via_github_app":null,"state_reason":"completed"},{"url":"https://api.github.com/repos/beancount/beancount/issues/742","repository_url":"https://api.github.com/repos/beancount/beancount","labels_url":"https://api.github.com/repos/beancount/beancount/issues/742/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beancount/issues/742/comments","events_url":"https://api.github.com/repos/beancount/beancount/issues/742/events","html_url":"https://github.com/beancount/beancount/issues/742","id":1509965639,"node_id":"I_kwDOD91Bd85aAD9H","number":742,"title":"Pad gets incorrect difference with forecast plugin","user":{"login":"mutoo","id":710607,"node_id":"MDQ6VXNlcjcxMDYwNw==","avatar_url":"https://avatars.githubusercontent.com/u/710607?v=4","gravatar_id":"","url":"https://api.github.com/users/mutoo","html_url":"https://github.com/mutoo","followers_url":"https://api.github.com/users/mutoo/followers","following_url":"https://api.github.com/users/mutoo/following{/other_user}","gists_url":"https://api.github.com/users/mutoo/gists{/gist_id}","starred_url":"https://api.github.com/users/mutoo/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mutoo/subscriptions","organizations_url":"https://api.github.com/users/mutoo/orgs","repos_url":"https://api.github.com/users/mutoo/repos","events_url":"https://api.github.com/users/mutoo/events{/privacy}","received_events_url":"https://api.github.com/users/mutoo/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":1,"created_at":"2022-12-24T06:41:58Z","updated_at":"2024-01-14T19:53:28Z","closed_at":"2024-01-14T19:53:28Z","author_association":"NONE","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"I am using the forecast plugin to set down some income, and when I try adding pad/balance at the end of the year, it's not generating the correct amount to match the given balance.\r\n\r\nversions: \r\nbeancount 2.3.5\r\npython 3.10.4\r\n\r\nHere is the sample beancount file for testing:\r\n\r\n```\r\nplugin \"beancount.plugins.forecast\"\r\n\r\n2022-01-01 open Assets:Income\r\n2022-01-01 open Income:Fulltime\r\n2022-01-01 open Equity:Opening-Balances\r\n\r\n2022-01-01 # \"Income [MONTHLY UNTIL 2022-03-01]\"\r\n    Income:Fulltime               -1000 AUD\r\n    Assets:Income                  1000 AUD\r\n\r\n2022-12-24 pad Assets:Income Equity:Opening-Balances\r\n2022-12-25 balance Assets:Income   3000 AUD\r\n\r\n```\r\n\r\nresults for `bean-check`\r\n\r\n```\r\nBalance failed for 'Assets:Income': expected 3000 AUD != accumulated 5000 AUD (2000 too much)\r\n\r\n   2022-12-25 balance Assets:Income                                   3000 AUD\r\n```\r\n\r\nthe generated pad transaction:\r\n\r\n```\r\n** Balances before transaction --------------------------------\r\n\r\n  Assets:Income                                                     3000 AUD\r\n\r\n  Equity:Opening-Balances                                                   \r\n\r\n\r\n** Unbooked Transaction --------------------------------\r\n\r\n2022-12-24 P \"(Padding inserted for Balance of 3000 AUD for difference 2000 AUD)\"\r\n  Assets:Income             2000 AUD\r\n  Equity:Opening-Balances  -2000 AUD\r\n\r\n\r\n** Transaction --------------------------------\r\n\r\n2022-12-24 P \"(Padding inserted for Balance of 3000 AUD for difference 2000 AUD)\"\r\n  Assets:Income             2000 AUD\r\n  Equity:Opening-Balances  -2000 AUD\r\n\r\n\r\n** Residual and Tolerances --------------------------------\r\n\r\n\r\n\r\n** Balances after transaction --------------------------------\r\n\r\n* Assets:Income                                                     5000 AUD\r\n\r\n* Equity:Opening-Balances                                          -2000 AUD\r\n```\r\n\r\nI expect a unused pad entry in above case, which it should report:\r\n```\r\nUnused Pad entry\r\n  2022-12-24 pad Assets:Income Equity:Opening-Balances\r\n```","closed_by":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/beancount/beancount/issues/742/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beancount/issues/742/timeline","performed_via_github_app":null,"state_reason":"completed"},{"url":"https://api.github.com/repos/beancount/beancount/issues/741","repository_url":"https://api.github.com/repos/beancount/beancount","labels_url":"https://api.github.com/repos/beancount/beancount/issues/741/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beancount/issues/741/comments","events_url":"https://api.github.com/repos/beancount/beancount/issues/741/events","html_url":"https://github.com/beancount/beancount/issues/741","id":1500298208,"node_id":"I_kwDOD91Bd85ZbLvg","number":741,"title":"\"syntax error, unexpected ASTERISK\" on a comment line with just asterisk","user":{"login":"bstpierre","id":44734,"node_id":"MDQ6VXNlcjQ0NzM0","avatar_url":"https://avatars.githubusercontent.com/u/44734?v=4","gravatar_id":"","url":"https://api.github.com/users/bstpierre","html_url":"https://github.com/bstpierre","followers_url":"https://api.github.com/users/bstpierre/followers","following_url":"https://api.github.com/users/bstpierre/following{/other_user}","gists_url":"https://api.github.com/users/bstpierre/gists{/gist_id}","starred_url":"https://api.github.com/users/bstpierre/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bstpierre/subscriptions","organizations_url":"https://api.github.com/users/bstpierre/orgs","repos_url":"https://api.github.com/users/bstpierre/repos","events_url":"https://api.github.com/users/bstpierre/events{/privacy}","received_events_url":"https://api.github.com/users/bstpierre/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"open","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":2,"created_at":"2022-12-16T14:12:47Z","updated_at":"2022-12-18T16:00:16Z","closed_at":null,"author_association":"NONE","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"I recently upgraded an installation from beancount 2.0rc1 on 2.3.5 and several of my files started getting `syntax error, unexpected ASTERISK` from `bean-check test.bean`. (With python 3.9 on debian.)\r\n\r\nLine 2 gets the error, it is just an asterisk on a line by itself.\r\n\r\nLine 6 does NOT get the error, it is an asterisk followed by a space.\r\n\r\ntest.bean:\r\n\r\n```\r\n* this is a comment\r\n*\r\n* The line above is part of a commented-series of lines, it does not have a\r\n* trailing space. The line below has a trailing space.\r\n* \r\n\r\n2022-01-01 open Assets:Cash USD\r\n2022-01-01 open Expenses:Misc USD\r\n\r\n2022-01-02 * \"blah\"\r\n    Assets:Cash   -1.00 USD\r\n    Expenses:Misc  1.00 USD\r\n```\r\n\r\nThe workaround appears to be to replace a lone asterisk on a line with asterisk+space (`:%s/^\\*$/* /`) -- or delete these lines.\r\n\r\nI created a python 3.9 venv to test, and it appears that this change occurred between 2.3.2 and 2.3.3.","closed_by":null,"reactions":{"url":"https://api.github.com/repos/beancount/beancount/issues/741/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beancount/issues/741/timeline","performed_via_github_app":null,"state_reason":null},{"url":"https://api.github.com/repos/beancount/beancount/issues/740","repository_url":"https://api.github.com/repos/beancount/beancount","labels_url":"https://api.github.com/repos/beancount/beancount/issues/740/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beancount/issues/740/comments","events_url":"https://api.github.com/repos/beancount/beancount/issues/740/events","html_url":"https://github.com/beancount/beancount/pull/740","id":1494624973,"node_id":"PR_kwDOD91Bd85FVx_g","number":740,"title":"Fix onecommodity plugin","user":{"login":"korrat","id":22543341,"node_id":"MDQ6VXNlcjIyNTQzMzQx","avatar_url":"https://avatars.githubusercontent.com/u/22543341?v=4","gravatar_id":"","url":"https://api.github.com/users/korrat","html_url":"https://github.com/korrat","followers_url":"https://api.github.com/users/korrat/followers","following_url":"https://api.github.com/users/korrat/following{/other_user}","gists_url":"https://api.github.com/users/korrat/gists{/gist_id}","starred_url":"https://api.github.com/users/korrat/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/korrat/subscriptions","organizations_url":"https://api.github.com/users/korrat/orgs","repos_url":"https://api.github.com/users/korrat/repos","events_url":"https://api.github.com/users/korrat/events{/privacy}","received_events_url":"https://api.github.com/users/korrat/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":0,"created_at":"2022-12-13T16:22:34Z","updated_at":"2022-12-18T05:04:25Z","closed_at":"2022-12-18T05:04:25Z","author_association":"CONTRIBUTOR","type":null,"active_lock_reason":null,"draft":false,"pull_request":{"url":"https://api.github.com/repos/beancount/beancount/pulls/740","html_url":"https://github.com/beancount/beancount/pull/740","diff_url":"https://github.com/beancount/beancount/pull/740.diff","patch_url":"https://github.com/beancount/beancount/pull/740.patch","merged_at":"2022-12-18T05:04:25Z"},"body":"The `onecommodity` plugin failed for me with a `KeyError` when an account is used with duplicate cost currencies. It seems that the issue is due to a copy-paste-error, where the variable name has not been updated to match the variable tracking the error.\r\n\r\nI have not performed extensive testing, but when running the modified plugin in Fava, it seemed the error has been fixed.","closed_by":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/beancount/beancount/issues/740/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beancount/issues/740/timeline","performed_via_github_app":null,"state_reason":null},{"url":"https://api.github.com/repos/beancount/beancount/issues/739","repository_url":"https://api.github.com/repos/beancount/beancount","labels_url":"https://api.github.com/repos/beancount/beancount/issues/739/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beancount/issues/739/comments","events_url":"https://api.github.com/repos/beancount/beancount/issues/739/events","html_url":"https://github.com/beancount/beancount/issues/739","id":1477596928,"node_id":"I_kwDOD91Bd85YElcA","number":739,"title":"`csv.Sniffer().has_header()` is called when not needed and returns the wrong result","user":{"login":"michaellenaghan","id":176481,"node_id":"MDQ6VXNlcjE3NjQ4MQ==","avatar_url":"https://avatars.githubusercontent.com/u/176481?v=4","gravatar_id":"","url":"https://api.github.com/users/michaellenaghan","html_url":"https://github.com/michaellenaghan","followers_url":"https://api.github.com/users/michaellenaghan/followers","following_url":"https://api.github.com/users/michaellenaghan/following{/other_user}","gists_url":"https://api.github.com/users/michaellenaghan/gists{/gist_id}","starred_url":"https://api.github.com/users/michaellenaghan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/michaellenaghan/subscriptions","organizations_url":"https://api.github.com/users/michaellenaghan/orgs","repos_url":"https://api.github.com/users/michaellenaghan/repos","events_url":"https://api.github.com/users/michaellenaghan/events{/privacy}","received_events_url":"https://api.github.com/users/michaellenaghan/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"open","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":2,"created_at":"2022-12-05T22:35:55Z","updated_at":"2023-02-26T14:53:57Z","closed_at":null,"author_association":"NONE","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"`csv.Importer()` calls `normalize_config()` in `file_date()` and `extract()`. After skipping the requested number of lines, `normalize_config()` calls `csv.Sniffer().has_header()`:\r\n\r\nhttps://github.com/beancount/beancount/blob/79da2f90d7c8d969b59359ede66c2b1cced8cffd/beancount/ingest/importers/csv.py#L397\r\n\r\nI have a CSV file for which `has_header()` returns `True` when it should return `False`; here's the *entire* file:\r\n\r\n```csv\r\n01/05/2022,E-TRANSFER ***b3y   ,,23.00,25.00\r\n```\r\n\r\n`beancount` can't do anything about the fact that `has_header()` is returning the wrong result. But! But it can, in this case, avoid calling `has_header()` in the first place.\r\n\r\nHere's the description of `normalize_config()`:\r\n\r\n> Using the header line, convert the configuration field name lookups to int indexes.\r\n\r\nFor this CSV file, the `config` field name lookups are *already* int indexes when `normalize_config()` is called:\r\n\r\n```python\r\n           config = {\r\n                csv.Col.DATE: 0,\r\n                csv.Col.PAYEE: 1,\r\n                csv.Col.AMOUNT_DEBIT: 2,\r\n                csv.Col.AMOUNT_CREDIT: 3,\r\n                csv.Col.BALANCE: 4,\r\n            }\r\n```\r\n\r\nWhen the field name lookups are already all int indexes `normalize_config()` should, I think, bail early.\r\n\r\n(When `has_header()` returns `False` `normalize_config()` asserts that all indexes are ints. Basically, it should perform that check before sniffing the file. If all indexes are ints `normalize_config()` can return `config, False` and avoid `has_header()` entirely.)","closed_by":null,"reactions":{"url":"https://api.github.com/repos/beancount/beancount/issues/739/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beancount/issues/739/timeline","performed_via_github_app":null,"state_reason":null},{"url":"https://api.github.com/repos/beancount/beancount/issues/738","repository_url":"https://api.github.com/repos/beancount/beancount","labels_url":"https://api.github.com/repos/beancount/beancount/issues/738/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beancount/issues/738/comments","events_url":"https://api.github.com/repos/beancount/beancount/issues/738/events","html_url":"https://github.com/beancount/beancount/pull/738","id":1474310801,"node_id":"PR_kwDOD91Bd85EOBmZ","number":738,"title":"Support PyPy","user":{"login":"dnicolodi","id":987145,"node_id":"MDQ6VXNlcjk4NzE0NQ==","avatar_url":"https://avatars.githubusercontent.com/u/987145?v=4","gravatar_id":"","url":"https://api.github.com/users/dnicolodi","html_url":"https://github.com/dnicolodi","followers_url":"https://api.github.com/users/dnicolodi/followers","following_url":"https://api.github.com/users/dnicolodi/following{/other_user}","gists_url":"https://api.github.com/users/dnicolodi/gists{/gist_id}","starred_url":"https://api.github.com/users/dnicolodi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dnicolodi/subscriptions","organizations_url":"https://api.github.com/users/dnicolodi/orgs","repos_url":"https://api.github.com/users/dnicolodi/repos","events_url":"https://api.github.com/users/dnicolodi/events{/privacy}","received_events_url":"https://api.github.com/users/dnicolodi/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":1,"created_at":"2022-12-04T01:22:34Z","updated_at":"2022-12-04T14:23:29Z","closed_at":"2022-12-04T14:23:29Z","author_association":"COLLABORATOR","type":null,"active_lock_reason":null,"draft":false,"pull_request":{"url":"https://api.github.com/repos/beancount/beancount/pulls/738","html_url":"https://github.com/beancount/beancount/pull/738","diff_url":"https://github.com/beancount/beancount/pull/738.diff","patch_url":"https://github.com/beancount/beancount/pull/738.patch","merged_at":"2022-12-04T14:23:29Z"},"body":null,"closed_by":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/beancount/beancount/issues/738/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beancount/issues/738/timeline","performed_via_github_app":null,"state_reason":null},{"url":"https://api.github.com/repos/beancount/beancount/issues/737","repository_url":"https://api.github.com/repos/beancount/beancount","labels_url":"https://api.github.com/repos/beancount/beancount/issues/737/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beancount/issues/737/comments","events_url":"https://api.github.com/repos/beancount/beancount/issues/737/events","html_url":"https://github.com/beancount/beancount/issues/737","id":1474251022,"node_id":"I_kwDOD91Bd85X30kO","number":737,"title":"undefined symbol: PyExceptionClass_Name when running on Pypy","user":{"login":"ang-st","id":1777820,"node_id":"MDQ6VXNlcjE3Nzc4MjA=","avatar_url":"https://avatars.githubusercontent.com/u/1777820?v=4","gravatar_id":"","url":"https://api.github.com/users/ang-st","html_url":"https://github.com/ang-st","followers_url":"https://api.github.com/users/ang-st/followers","following_url":"https://api.github.com/users/ang-st/following{/other_user}","gists_url":"https://api.github.com/users/ang-st/gists{/gist_id}","starred_url":"https://api.github.com/users/ang-st/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ang-st/subscriptions","organizations_url":"https://api.github.com/users/ang-st/orgs","repos_url":"https://api.github.com/users/ang-st/repos","events_url":"https://api.github.com/users/ang-st/events{/privacy}","received_events_url":"https://api.github.com/users/ang-st/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":7,"created_at":"2022-12-03T22:01:26Z","updated_at":"2023-10-08T13:54:11Z","closed_at":"2023-10-08T13:54:11Z","author_association":"NONE","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"Hello, \r\n\r\nI wanted to give a try running beancount  2.3.5 with latest Pypy version  and get the following error at startup\r\n\r\n```\r\n└─[$] <> python -V\r\nPython 3.9.12 (05fbe3aa5b0845e6c37239768aa455451aa5faba, Mar 29 2022, 08:15:34)\r\n[PyPy 7.3.9 with GCC 10.2.1 20210130 (Red Hat 10.2.1-11)]\r\n\r\n```\r\n\r\n```\r\n└─[$] <> bean-check bean_files/dge-header.bean      \r\nTraceback (most recent call last):\r\n  File \"/home/ang-st/.pyenv/versions/pypy3.9-7.3.9/bin/bean-check\", line 33, in <module>\r\n    sys.exit(load_entry_point('beancount==2.3.5', 'console_scripts', 'bean-check')())\r\n  File \"/home/ang-st/.pyenv/versions/pypy3.9-7.3.9/bin/bean-check\", line 25, in importlib_load_entry_point\r\n    return next(matches).load()\r\n  File \"/home/ang-st/.pyenv/versions/pypy3.9-7.3.9/lib/pypy3.9/importlib/metadata.py\", line 86, in load\r\n    module = import_module(match.group('module'))\r\n  File \"/home/ang-st/.pyenv/versions/pypy3.9-7.3.9/lib/pypy3.9/importlib/__init__.py\", line 127, in import_module\r\n    return _bootstrap._gcd_import(name[level:], package, level)\r\n  File \"<frozen importlib._bootstrap>\", line 1030, in _gcd_import\r\n  File \"<frozen importlib._bootstrap>\", line 1007, in _find_and_load\r\n  File \"<frozen importlib._bootstrap>\", line 986, in _find_and_load_unlocked\r\n  File \"<frozen importlib._bootstrap>\", line 680, in _load_unlocked\r\n  File \"<builtin>/frozen importlib._bootstrap_external\", line 863, in exec_module\r\n  File \"<frozen importlib._bootstrap>\", line 228, in _call_with_frames_removed\r\n  File \"/home/ang-st/.pyenv/versions/pypy3.9-7.3.9/lib/pypy3.9/site-packages/beancount/scripts/check.py\", line 11, in <module>\r\n    from beancount import loader\r\n  File \"<frozen importlib._bootstrap>\", line 1058, in _handle_fromlist\r\n  File \"<frozen importlib._bootstrap>\", line 228, in _call_with_frames_removed\r\n  File \"/home/ang-st/.pyenv/versions/pypy3.9-7.3.9/lib/pypy3.9/site-packages/beancount/loader.py\", line 26, in <module>\r\n    from beancount.parser import parser\r\n  File \"/home/ang-st/.pyenv/versions/pypy3.9-7.3.9/lib/pypy3.9/site-packages/beancount/parser/parser.py\", line 119, in <module>\r\n    from beancount.parser import _parser\r\n  File \"<frozen importlib._bootstrap>\", line 1058, in _handle_fromlist\r\n  File \"<frozen importlib._bootstrap>\", line 228, in _call_with_frames_removed\r\nImportError: /home/ang-st/.pyenv/versions/pypy3.9-7.3.9/lib/pypy3.9/site-packages/beancount/parser/_parser.pypy39-pp73-x86_64-linux-gnu.so: undefined symbol: PyExceptionClass_Name\r\n```\r\n\r\nI tried with an earlier version  and I still get the same error.  Any chance I could make beancount running on Pypy ? \r\n\r\nThank you \r\n","closed_by":{"login":"dnicolodi","id":987145,"node_id":"MDQ6VXNlcjk4NzE0NQ==","avatar_url":"https://avatars.githubusercontent.com/u/987145?v=4","gravatar_id":"","url":"https://api.github.com/users/dnicolodi","html_url":"https://github.com/dnicolodi","followers_url":"https://api.github.com/users/dnicolodi/followers","following_url":"https://api.github.com/users/dnicolodi/following{/other_user}","gists_url":"https://api.github.com/users/dnicolodi/gists{/gist_id}","starred_url":"https://api.github.com/users/dnicolodi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dnicolodi/subscriptions","organizations_url":"https://api.github.com/users/dnicolodi/orgs","repos_url":"https://api.github.com/users/dnicolodi/repos","events_url":"https://api.github.com/users/dnicolodi/events{/privacy}","received_events_url":"https://api.github.com/users/dnicolodi/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/beancount/beancount/issues/737/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beancount/issues/737/timeline","performed_via_github_app":null,"state_reason":"completed"},{"url":"https://api.github.com/repos/beancount/beancount/issues/736","repository_url":"https://api.github.com/repos/beancount/beancount","labels_url":"https://api.github.com/repos/beancount/beancount/issues/736/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beancount/issues/736/comments","events_url":"https://api.github.com/repos/beancount/beancount/issues/736/events","html_url":"https://github.com/beancount/beancount/issues/736","id":1474013978,"node_id":"I_kwDOD91Bd85X26sa","number":736,"title":"Add a bazel module to bazel-central-registry for beancount3","user":{"login":"doug","id":3379,"node_id":"MDQ6VXNlcjMzNzk=","avatar_url":"https://avatars.githubusercontent.com/u/3379?v=4","gravatar_id":"","url":"https://api.github.com/users/doug","html_url":"https://github.com/doug","followers_url":"https://api.github.com/users/doug/followers","following_url":"https://api.github.com/users/doug/following{/other_user}","gists_url":"https://api.github.com/users/doug/gists{/gist_id}","starred_url":"https://api.github.com/users/doug/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/doug/subscriptions","organizations_url":"https://api.github.com/users/doug/orgs","repos_url":"https://api.github.com/users/doug/repos","events_url":"https://api.github.com/users/doug/events{/privacy}","received_events_url":"https://api.github.com/users/doug/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":1,"created_at":"2022-12-03T13:15:50Z","updated_at":"2024-11-09T20:13:20Z","closed_at":"2024-11-09T20:13:20Z","author_association":"NONE","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"Would be helpful to add a bazel module to https://bazel.build/build/bzlmod via https://github.com/bazelbuild/bazel-central-registry. So that beancount3 can be experimented on as bazel module. Would need a tagged v3 release and some configuration setup in the bazel-central-registry.\r\n","closed_by":{"login":"dnicolodi","id":987145,"node_id":"MDQ6VXNlcjk4NzE0NQ==","avatar_url":"https://avatars.githubusercontent.com/u/987145?v=4","gravatar_id":"","url":"https://api.github.com/users/dnicolodi","html_url":"https://github.com/dnicolodi","followers_url":"https://api.github.com/users/dnicolodi/followers","following_url":"https://api.github.com/users/dnicolodi/following{/other_user}","gists_url":"https://api.github.com/users/dnicolodi/gists{/gist_id}","starred_url":"https://api.github.com/users/dnicolodi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dnicolodi/subscriptions","organizations_url":"https://api.github.com/users/dnicolodi/orgs","repos_url":"https://api.github.com/users/dnicolodi/repos","events_url":"https://api.github.com/users/dnicolodi/events{/privacy}","received_events_url":"https://api.github.com/users/dnicolodi/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/beancount/beancount/issues/736/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beancount/issues/736/timeline","performed_via_github_app":null,"state_reason":"completed"},{"url":"https://api.github.com/repos/beancount/beancount/issues/735","repository_url":"https://api.github.com/repos/beancount/beancount","labels_url":"https://api.github.com/repos/beancount/beancount/issues/735/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beancount/issues/735/comments","events_url":"https://api.github.com/repos/beancount/beancount/issues/735/events","html_url":"https://github.com/beancount/beancount/issues/735","id":1442226028,"node_id":"I_kwDOD91Bd85V9p9s","number":735,"title":"bean-web shows a different Balance Sheet and Trial Balance ","user":{"login":"itpetarabia","id":89512629,"node_id":"MDQ6VXNlcjg5NTEyNjI5","avatar_url":"https://avatars.githubusercontent.com/u/89512629?v=4","gravatar_id":"","url":"https://api.github.com/users/itpetarabia","html_url":"https://github.com/itpetarabia","followers_url":"https://api.github.com/users/itpetarabia/followers","following_url":"https://api.github.com/users/itpetarabia/following{/other_user}","gists_url":"https://api.github.com/users/itpetarabia/gists{/gist_id}","starred_url":"https://api.github.com/users/itpetarabia/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/itpetarabia/subscriptions","organizations_url":"https://api.github.com/users/itpetarabia/orgs","repos_url":"https://api.github.com/users/itpetarabia/repos","events_url":"https://api.github.com/users/itpetarabia/events{/privacy}","received_events_url":"https://api.github.com/users/itpetarabia/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":2080994900,"node_id":"MDU6TGFiZWwyMDgwOTk0OTAw","url":"https://api.github.com/repos/beancount/beancount/labels/web","name":"web","color":"ededed","default":false,"description":"Component: bean-web built-in server"}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":1,"created_at":"2022-11-09T14:41:38Z","updated_at":"2024-11-09T20:23:51Z","closed_at":"2024-11-09T20:20:47Z","author_association":"NONE","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"I'm running the following beancount file\r\n```\r\noption \"operating_currency\" \"USD\"\r\noption \"operating_currency\" \"GBP\"\r\n\r\nplugin \"beancount.plugins.implicit_prices\"\r\n\r\n2020-01-01 open Expenses:Things\r\n2020-01-01 open Assets:Current\r\n2020-01-01 open Equity:Conversions:Current\r\n\r\n2020-06-01 * \"Bought a widget online\"\r\n  Expenses:Things   50.00 USD @@ 100.00 GBP\r\n  Assets:Current                -100.00 GBP\r\n\r\n2020-07-01 * \"Bought a widget online\"\r\n  Expenses:Things   50.00 USD @@ 110.00 GBP\r\n  Assets:Current                -110.00 GBP\r\n\r\n2020-08-01 * \"Bought a widget online (in GBP)\"\r\n  Expenses:Things                 90.00 GBP\r\n  Assets:Current                 -90.00 GBP\r\n```\r\n\r\n\r\nBelow is the generated balance sheet for that file, with a new account created -> Equity:Conversions:Current\r\n![Screenshot from 2022-11-09 17-25-57](https://user-images.githubusercontent.com/89512629/200857970-5a239e3a-5b92-44be-8a82-9f3de22c865e.png)\r\n\r\nHowever I don't see the same set of Equity accounts under the Trial Balance. I even tried to be explicit and write an open directive. The missing conversions account is frustrating because I can't seem to make the TB balance\r\n![Screenshot from 2022-11-09 17-25-40](https://user-images.githubusercontent.com/89512629/200858543-b2a7a872-dd90-4891-b7e3-3bb4c742ab0b.png)\r\n","closed_by":{"login":"dnicolodi","id":987145,"node_id":"MDQ6VXNlcjk4NzE0NQ==","avatar_url":"https://avatars.githubusercontent.com/u/987145?v=4","gravatar_id":"","url":"https://api.github.com/users/dnicolodi","html_url":"https://github.com/dnicolodi","followers_url":"https://api.github.com/users/dnicolodi/followers","following_url":"https://api.github.com/users/dnicolodi/following{/other_user}","gists_url":"https://api.github.com/users/dnicolodi/gists{/gist_id}","starred_url":"https://api.github.com/users/dnicolodi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dnicolodi/subscriptions","organizations_url":"https://api.github.com/users/dnicolodi/orgs","repos_url":"https://api.github.com/users/dnicolodi/repos","events_url":"https://api.github.com/users/dnicolodi/events{/privacy}","received_events_url":"https://api.github.com/users/dnicolodi/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/beancount/beancount/issues/735/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beancount/issues/735/timeline","performed_via_github_app":null,"state_reason":"not_planned"},{"url":"https://api.github.com/repos/beancount/beancount/issues/734","repository_url":"https://api.github.com/repos/beancount/beancount","labels_url":"https://api.github.com/repos/beancount/beancount/issues/734/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beancount/issues/734/comments","events_url":"https://api.github.com/repos/beancount/beancount/issues/734/events","html_url":"https://github.com/beancount/beancount/issues/734","id":1441312856,"node_id":"I_kwDOD91Bd85V6LBY","number":734,"title":"decimal.InvalidOperation without inferred_tolerance_default","user":{"login":"wzyboy","id":459384,"node_id":"MDQ6VXNlcjQ1OTM4NA==","avatar_url":"https://avatars.githubusercontent.com/u/459384?v=4","gravatar_id":"","url":"https://api.github.com/users/wzyboy","html_url":"https://github.com/wzyboy","followers_url":"https://api.github.com/users/wzyboy/followers","following_url":"https://api.github.com/users/wzyboy/following{/other_user}","gists_url":"https://api.github.com/users/wzyboy/gists{/gist_id}","starred_url":"https://api.github.com/users/wzyboy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wzyboy/subscriptions","organizations_url":"https://api.github.com/users/wzyboy/orgs","repos_url":"https://api.github.com/users/wzyboy/repos","events_url":"https://api.github.com/users/wzyboy/events{/privacy}","received_events_url":"https://api.github.com/users/wzyboy/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"open","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":0,"created_at":"2022-11-09T03:39:23Z","updated_at":"2022-11-09T03:39:23Z","closed_at":null,"author_association":"CONTRIBUTOR","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"I encountered this on a bean file generated by a script. Here's a minimal reproducible example:\r\n\r\n```\r\nplugin \"beancount.plugins.auto\"\r\n;option \"inferred_tolerance_default\" \"CAD:0.01\"\r\n\r\n2022-10-20 * \"\"\r\n  Assets:A  -23.71666666666666666666666667 CAD\r\n  Assets:A  -94.86666666666666666666666668 CAD\r\n  Expenses:B\r\n```\r\n\r\nDoing `bean-check` raises `decimal.InvalidOperation: [<class 'decimal.InvalidOperation'>]` exception:\r\n\r\n```\r\nTraceback (most recent call last):\r\n  File \"/usr/bin/bean-check\", line 33, in <module>\r\n    sys.exit(load_entry_point('beancount==2.3.5', 'console_scripts', 'bean-check')())\r\n  File \"/usr/lib/python3.10/site-packages/beancount/scripts/check.py\", line 49, in main\r\n    entries, errors, _ = loader.load_file(\r\n  File \"/usr/lib/python3.10/site-packages/beancount/loader.py\", line 90, in load_file\r\n    entries, errors, options_map = _load_file(\r\n  File \"/usr/lib/python3.10/site-packages/beancount/loader.py\", line 215, in wrapped\r\n    result = function(toplevel_filename, *args, **kw)\r\n  File \"/usr/lib/python3.10/site-packages/beancount/loader.py\", line 256, in _uncached_load_file\r\n    return _load([(filename, True)], *args, **kw)\r\n  File \"/usr/lib/python3.10/site-packages/beancount/loader.py\", line 507, in _load\r\n    entries, balance_errors = booking.book(entries, options_map)\r\n  File \"/usr/lib/python3.10/site-packages/beancount/parser/booking.py\", line 40, in book\r\n    entries, booking_errors = booking_full.book(incomplete_entries, options_map,\r\n  File \"/usr/lib/python3.10/site-packages/beancount/parser/booking_full.py\", line 112, in book\r\n    entries, errors, _ = _book(entries, options_map, methods)\r\n  File \"/usr/lib/python3.10/site-packages/beancount/parser/booking_full.py\", line 193, in _book\r\n    interpolated) = interpolate_group(booked_postings, balances, currency,\r\n  File \"/usr/lib/python3.10/site-packages/beancount/parser/booking_full.py\", line 855, in interpolate_group\r\n    units_number = interpolate.quantize_with_tolerance(tolerances,\r\n  File \"/usr/lib/python3.10/site-packages/beancount/core/interpolate.py\", line 354, in quantize_with_tolerance\r\n    number = number.quantize(quantum)\r\ndecimal.InvalidOperation: [<class 'decimal.InvalidOperation'>]\r\n```\r\n\r\nBeancount version: `Beancount 2.3.5 (git:b40819f4; 2022-07-28)`\r\n\r\nThe exception is not raised if `option \"inferred_tolerance_default\" \"CAD:0.01\"` is enabled.\r\n\r\nI'm not sure but this issue might be related to: https://github.com/beancount/beancount/issues/584","closed_by":null,"reactions":{"url":"https://api.github.com/repos/beancount/beancount/issues/734/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beancount/issues/734/timeline","performed_via_github_app":null,"state_reason":null},{"url":"https://api.github.com/repos/beancount/beancount/issues/733","repository_url":"https://api.github.com/repos/beancount/beancount","labels_url":"https://api.github.com/repos/beancount/beancount/issues/733/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beancount/issues/733/comments","events_url":"https://api.github.com/repos/beancount/beancount/issues/733/events","html_url":"https://github.com/beancount/beancount/issues/733","id":1438552233,"node_id":"I_kwDOD91Bd85VvpCp","number":733,"title":"account names support utf-8 characters?","user":{"login":"seyoatda","id":24985838,"node_id":"MDQ6VXNlcjI0OTg1ODM4","avatar_url":"https://avatars.githubusercontent.com/u/24985838?v=4","gravatar_id":"","url":"https://api.github.com/users/seyoatda","html_url":"https://github.com/seyoatda","followers_url":"https://api.github.com/users/seyoatda/followers","following_url":"https://api.github.com/users/seyoatda/following{/other_user}","gists_url":"https://api.github.com/users/seyoatda/gists{/gist_id}","starred_url":"https://api.github.com/users/seyoatda/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/seyoatda/subscriptions","organizations_url":"https://api.github.com/users/seyoatda/orgs","repos_url":"https://api.github.com/users/seyoatda/repos","events_url":"https://api.github.com/users/seyoatda/events{/privacy}","received_events_url":"https://api.github.com/users/seyoatda/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"open","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":7,"created_at":"2022-11-07T15:29:22Z","updated_at":"2025-10-05T03:13:14Z","closed_at":null,"author_association":"NONE","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"for now, it seems that the name not starting with `a-zA-Z0-9` failed to be recognized.\r\n\r\n`1账户` or `A账户` will be recognized, but `账户` will not be recognized.\r\n\r\nI've seen someone post a similar issue before, but utf-8 name is still not fully supported.\r\n\r\nany plan on this kind of issue?","closed_by":null,"reactions":{"url":"https://api.github.com/repos/beancount/beancount/issues/733/reactions","total_count":4,"+1":4,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beancount/issues/733/timeline","performed_via_github_app":null,"state_reason":null},{"url":"https://api.github.com/repos/beancount/beancount/issues/732","repository_url":"https://api.github.com/repos/beancount/beancount","labels_url":"https://api.github.com/repos/beancount/beancount/issues/732/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beancount/issues/732/comments","events_url":"https://api.github.com/repos/beancount/beancount/issues/732/events","html_url":"https://github.com/beancount/beancount/issues/732","id":1403862617,"node_id":"I_kwDOD91Bd85TrT5Z","number":732,"title":"beancount-asset-transfer-plugin bug","user":{"login":"aduarterengifo","id":35483400,"node_id":"MDQ6VXNlcjM1NDgzNDAw","avatar_url":"https://avatars.githubusercontent.com/u/35483400?v=4","gravatar_id":"","url":"https://api.github.com/users/aduarterengifo","html_url":"https://github.com/aduarterengifo","followers_url":"https://api.github.com/users/aduarterengifo/followers","following_url":"https://api.github.com/users/aduarterengifo/following{/other_user}","gists_url":"https://api.github.com/users/aduarterengifo/gists{/gist_id}","starred_url":"https://api.github.com/users/aduarterengifo/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/aduarterengifo/subscriptions","organizations_url":"https://api.github.com/users/aduarterengifo/orgs","repos_url":"https://api.github.com/users/aduarterengifo/repos","events_url":"https://api.github.com/users/aduarterengifo/events{/privacy}","received_events_url":"https://api.github.com/users/aduarterengifo/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"open","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":0,"created_at":"2022-10-11T01:02:11Z","updated_at":"2022-10-11T01:02:11Z","closed_at":null,"author_association":"NONE","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"hoostus/beancount-asset-transfer-plugin#1\r\n\r\n\r\nBeancount doesn't see transactions generated by beancount-asset-transfer-plugin and thinks there's not enough lots to reduce. ","closed_by":null,"reactions":{"url":"https://api.github.com/repos/beancount/beancount/issues/732/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beancount/issues/732/timeline","performed_via_github_app":null,"state_reason":null},{"url":"https://api.github.com/repos/beancount/beancount/issues/731","repository_url":"https://api.github.com/repos/beancount/beancount","labels_url":"https://api.github.com/repos/beancount/beancount/issues/731/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beancount/issues/731/comments","events_url":"https://api.github.com/repos/beancount/beancount/issues/731/events","html_url":"https://github.com/beancount/beancount/issues/731","id":1397250317,"node_id":"I_kwDOD91Bd85TSFkN","number":731,"title":"Feature Request: Commodity Conversion Directive","user":{"login":"korrat","id":22543341,"node_id":"MDQ6VXNlcjIyNTQzMzQx","avatar_url":"https://avatars.githubusercontent.com/u/22543341?v=4","gravatar_id":"","url":"https://api.github.com/users/korrat","html_url":"https://github.com/korrat","followers_url":"https://api.github.com/users/korrat/followers","following_url":"https://api.github.com/users/korrat/following{/other_user}","gists_url":"https://api.github.com/users/korrat/gists{/gist_id}","starred_url":"https://api.github.com/users/korrat/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/korrat/subscriptions","organizations_url":"https://api.github.com/users/korrat/orgs","repos_url":"https://api.github.com/users/korrat/repos","events_url":"https://api.github.com/users/korrat/events{/privacy}","received_events_url":"https://api.github.com/users/korrat/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"open","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":3,"created_at":"2022-10-05T05:24:48Z","updated_at":"2022-11-09T14:44:31Z","closed_at":null,"author_association":"CONTRIBUTOR","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"Ledger supports a commodity conversion directive, which can be used to define two commodities as interchangeable for display purposes (see [section 4.7 of the Ledger manual](https://www.ledger-cli.org/3.0/doc/ledger3.html#Command-Directives)). \r\n\r\nIs there something similar in beancount, or perhaps in a plugin?\r\n\r\nIf not, what would be the best way to introduce it eventually? From what I can see, the path goes something like\r\n1. prototype as a plugin\r\n2. validate feasibility & demand\r\n3. get it merged.\r\n\r\nIs that correct?","closed_by":null,"reactions":{"url":"https://api.github.com/repos/beancount/beancount/issues/731/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beancount/issues/731/timeline","performed_via_github_app":null,"state_reason":null},{"url":"https://api.github.com/repos/beancount/beancount/issues/730","repository_url":"https://api.github.com/repos/beancount/beancount","labels_url":"https://api.github.com/repos/beancount/beancount/issues/730/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beancount/issues/730/comments","events_url":"https://api.github.com/repos/beancount/beancount/issues/730/events","html_url":"https://github.com/beancount/beancount/pull/730","id":1371541605,"node_id":"PR_kwDOD91Bd84-3qo8","number":730,"title":"Don't set quotechar in csv register_dialect","user":{"login":"kanru","id":17571,"node_id":"MDQ6VXNlcjE3NTcx","avatar_url":"https://avatars.githubusercontent.com/u/17571?v=4","gravatar_id":"","url":"https://api.github.com/users/kanru","html_url":"https://github.com/kanru","followers_url":"https://api.github.com/users/kanru/followers","following_url":"https://api.github.com/users/kanru/following{/other_user}","gists_url":"https://api.github.com/users/kanru/gists{/gist_id}","starred_url":"https://api.github.com/users/kanru/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kanru/subscriptions","organizations_url":"https://api.github.com/users/kanru/orgs","repos_url":"https://api.github.com/users/kanru/repos","events_url":"https://api.github.com/users/kanru/events{/privacy}","received_events_url":"https://api.github.com/users/kanru/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":1,"created_at":"2022-09-13T14:22:28Z","updated_at":"2023-06-05T03:48:21Z","closed_at":"2023-06-05T03:48:13Z","author_association":"NONE","type":null,"active_lock_reason":null,"draft":false,"pull_request":{"url":"https://api.github.com/repos/beancount/beancount/pulls/730","html_url":"https://github.com/beancount/beancount/pull/730","diff_url":"https://github.com/beancount/beancount/pull/730.diff","patch_url":"https://github.com/beancount/beancount/pull/730.patch","merged_at":null},"body":"quotechar is not allowed to be empty after [Python 3.11](https://docs.python.org/3.11/library/csv.html#csv.Dialect.quotechar)\r\n\r\nquoting is already QUOTE_NONE so quotechar is not relevant and can be safely ignored.","closed_by":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/beancount/beancount/issues/730/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beancount/issues/730/timeline","performed_via_github_app":null,"state_reason":null},{"url":"https://api.github.com/repos/beancount/beancount/issues/729","repository_url":"https://api.github.com/repos/beancount/beancount","labels_url":"https://api.github.com/repos/beancount/beancount/issues/729/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beancount/issues/729/comments","events_url":"https://api.github.com/repos/beancount/beancount/issues/729/events","html_url":"https://github.com/beancount/beancount/pull/729","id":1368989203,"node_id":"PR_kwDOD91Bd84-vHYB","number":729,"title":"bean-doctor: Fix parse subcommand","user":{"login":"dnicolodi","id":987145,"node_id":"MDQ6VXNlcjk4NzE0NQ==","avatar_url":"https://avatars.githubusercontent.com/u/987145?v=4","gravatar_id":"","url":"https://api.github.com/users/dnicolodi","html_url":"https://github.com/dnicolodi","followers_url":"https://api.github.com/users/dnicolodi/followers","following_url":"https://api.github.com/users/dnicolodi/following{/other_user}","gists_url":"https://api.github.com/users/dnicolodi/gists{/gist_id}","starred_url":"https://api.github.com/users/dnicolodi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dnicolodi/subscriptions","organizations_url":"https://api.github.com/users/dnicolodi/orgs","repos_url":"https://api.github.com/users/dnicolodi/repos","events_url":"https://api.github.com/users/dnicolodi/events{/privacy}","received_events_url":"https://api.github.com/users/dnicolodi/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":0,"created_at":"2022-09-11T16:02:22Z","updated_at":"2022-09-11T16:28:53Z","closed_at":"2022-09-11T16:28:53Z","author_association":"COLLABORATOR","type":null,"active_lock_reason":null,"draft":false,"pull_request":{"url":"https://api.github.com/repos/beancount/beancount/pulls/729","html_url":"https://github.com/beancount/beancount/pull/729","diff_url":"https://github.com/beancount/beancount/pull/729.diff","patch_url":"https://github.com/beancount/beancount/pull/729.patch","merged_at":"2022-09-11T16:28:53Z"},"body":"This has been broken for a long time.","closed_by":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/beancount/beancount/issues/729/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beancount/issues/729/timeline","performed_via_github_app":null,"state_reason":null},{"url":"https://api.github.com/repos/beancount/beancount/issues/728","repository_url":"https://api.github.com/repos/beancount/beancount","labels_url":"https://api.github.com/repos/beancount/beancount/issues/728/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beancount/issues/728/comments","events_url":"https://api.github.com/repos/beancount/beancount/issues/728/events","html_url":"https://github.com/beancount/beancount/pull/728","id":1339617147,"node_id":"PR_kwDOD91Bd849NnbP","number":728,"title":"ci(v2): add python 3.10 and remove 3.6","user":{"login":"trim21","id":13553903,"node_id":"MDQ6VXNlcjEzNTUzOTAz","avatar_url":"https://avatars.githubusercontent.com/u/13553903?v=4","gravatar_id":"","url":"https://api.github.com/users/trim21","html_url":"https://github.com/trim21","followers_url":"https://api.github.com/users/trim21/followers","following_url":"https://api.github.com/users/trim21/following{/other_user}","gists_url":"https://api.github.com/users/trim21/gists{/gist_id}","starred_url":"https://api.github.com/users/trim21/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/trim21/subscriptions","organizations_url":"https://api.github.com/users/trim21/orgs","repos_url":"https://api.github.com/users/trim21/repos","events_url":"https://api.github.com/users/trim21/events{/privacy}","received_events_url":"https://api.github.com/users/trim21/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":1,"created_at":"2022-08-15T23:05:37Z","updated_at":"2022-08-15T23:09:01Z","closed_at":"2022-08-15T23:08:52Z","author_association":"CONTRIBUTOR","type":null,"active_lock_reason":null,"draft":false,"pull_request":{"url":"https://api.github.com/repos/beancount/beancount/pulls/728","html_url":"https://github.com/beancount/beancount/pull/728","diff_url":"https://github.com/beancount/beancount/pull/728.diff","patch_url":"https://github.com/beancount/beancount/pull/728.patch","merged_at":null},"body":"some options are removed from pylint's new version, also remove them from pylintrc.","closed_by":{"login":"trim21","id":13553903,"node_id":"MDQ6VXNlcjEzNTUzOTAz","avatar_url":"https://avatars.githubusercontent.com/u/13553903?v=4","gravatar_id":"","url":"https://api.github.com/users/trim21","html_url":"https://github.com/trim21","followers_url":"https://api.github.com/users/trim21/followers","following_url":"https://api.github.com/users/trim21/following{/other_user}","gists_url":"https://api.github.com/users/trim21/gists{/gist_id}","starred_url":"https://api.github.com/users/trim21/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/trim21/subscriptions","organizations_url":"https://api.github.com/users/trim21/orgs","repos_url":"https://api.github.com/users/trim21/repos","events_url":"https://api.github.com/users/trim21/events{/privacy}","received_events_url":"https://api.github.com/users/trim21/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/beancount/beancount/issues/728/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beancount/issues/728/timeline","performed_via_github_app":null,"state_reason":null},{"url":"https://api.github.com/repos/beancount/beancount/issues/727","repository_url":"https://api.github.com/repos/beancount/beancount","labels_url":"https://api.github.com/repos/beancount/beancount/issues/727/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beancount/issues/727/comments","events_url":"https://api.github.com/repos/beancount/beancount/issues/727/events","html_url":"https://github.com/beancount/beancount/issues/727","id":1339168171,"node_id":"I_kwDOD91Bd85P0hWr","number":727,"title":"Links to custom plugin and extract_sheets in Shared Expenses are broken","user":{"login":"vahidmah","id":24546202,"node_id":"MDQ6VXNlcjI0NTQ2MjAy","avatar_url":"https://avatars.githubusercontent.com/u/24546202?v=4","gravatar_id":"","url":"https://api.github.com/users/vahidmah","html_url":"https://github.com/vahidmah","followers_url":"https://api.github.com/users/vahidmah/followers","following_url":"https://api.github.com/users/vahidmah/following{/other_user}","gists_url":"https://api.github.com/users/vahidmah/gists{/gist_id}","starred_url":"https://api.github.com/users/vahidmah/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vahidmah/subscriptions","organizations_url":"https://api.github.com/users/vahidmah/orgs","repos_url":"https://api.github.com/users/vahidmah/repos","events_url":"https://api.github.com/users/vahidmah/events{/privacy}","received_events_url":"https://api.github.com/users/vahidmah/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"open","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":0,"created_at":"2022-08-15T15:52:28Z","updated_at":"2022-08-15T17:07:10Z","closed_at":null,"author_association":"NONE","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"2 links in the docs are broken.\r\n\r\n1. In [My Shared Expenses](https://beancount.github.io/docs/how_we_share_expenses.html#my-shared-expenses) section the link to [custom plugin](https://github.com/beancount/beancount/tree/master/experiments/sharing)\r\n2. In [Her Shared Expenses](https://beancount.github.io/docs/how_we_share_expenses.html#her-shared-expenses) section the link for [extract_sheets.py](http://github.com/beancount/beancount/tree/master/experiments/sharing/extract_sheets.py)","closed_by":null,"reactions":{"url":"https://api.github.com/repos/beancount/beancount/issues/727/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beancount/issues/727/timeline","performed_via_github_app":null,"state_reason":null},{"url":"https://api.github.com/repos/beancount/beancount/issues/726","repository_url":"https://api.github.com/repos/beancount/beancount","labels_url":"https://api.github.com/repos/beancount/beancount/issues/726/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beancount/issues/726/comments","events_url":"https://api.github.com/repos/beancount/beancount/issues/726/events","html_url":"https://github.com/beancount/beancount/pull/726","id":1333293389,"node_id":"PR_kwDOD91Bd84846I3","number":726,"title":"printer: do not sort metadata key upon printing","user":{"login":"zacchiro","id":216766,"node_id":"MDQ6VXNlcjIxNjc2Ng==","avatar_url":"https://avatars.githubusercontent.com/u/216766?v=4","gravatar_id":"","url":"https://api.github.com/users/zacchiro","html_url":"https://github.com/zacchiro","followers_url":"https://api.github.com/users/zacchiro/followers","following_url":"https://api.github.com/users/zacchiro/following{/other_user}","gists_url":"https://api.github.com/users/zacchiro/gists{/gist_id}","starred_url":"https://api.github.com/users/zacchiro/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/zacchiro/subscriptions","organizations_url":"https://api.github.com/users/zacchiro/orgs","repos_url":"https://api.github.com/users/zacchiro/repos","events_url":"https://api.github.com/users/zacchiro/events{/privacy}","received_events_url":"https://api.github.com/users/zacchiro/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":5,"created_at":"2022-08-09T13:51:43Z","updated_at":"2023-09-17T21:01:23Z","closed_at":"2023-09-17T21:01:23Z","author_association":"CONTRIBUTOR","type":null,"active_lock_reason":null,"draft":false,"pull_request":{"url":"https://api.github.com/repos/beancount/beancount/pulls/726","html_url":"https://github.com/beancount/beancount/pull/726","diff_url":"https://github.com/beancount/beancount/pull/726.diff","patch_url":"https://github.com/beancount/beancount/pull/726.patch","merged_at":"2023-09-17T21:01:23Z"},"body":"This makes the metadata key ordering fall back to the \"natural\" dictionary\r\nordering that, sarting with Python 3.7, is insertion order (as it was the case\r\nfor OrderedDicts with Python < 3.7).\r\n\r\nAs part of this change we hence also bump up Python required version to 3.7, so\r\nthat Beancount importers can impose a desired metadata ordering.\r\n\r\nCloses #420.","closed_by":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/beancount/beancount/issues/726/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beancount/issues/726/timeline","performed_via_github_app":null,"state_reason":null},{"url":"https://api.github.com/repos/beancount/beancount/issues/725","repository_url":"https://api.github.com/repos/beancount/beancount","labels_url":"https://api.github.com/repos/beancount/beancount/issues/725/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beancount/issues/725/comments","events_url":"https://api.github.com/repos/beancount/beancount/issues/725/events","html_url":"https://github.com/beancount/beancount/issues/725","id":1298497605,"node_id":"I_kwDOD91Bd85NZYBF","number":725,"title":"Keeping price conversion syntax when using `bean-report`","user":{"login":"papageno","id":14852702,"node_id":"MDQ6VXNlcjE0ODUyNzAy","avatar_url":"https://avatars.githubusercontent.com/u/14852702?v=4","gravatar_id":"","url":"https://api.github.com/users/papageno","html_url":"https://github.com/papageno","followers_url":"https://api.github.com/users/papageno/followers","following_url":"https://api.github.com/users/papageno/following{/other_user}","gists_url":"https://api.github.com/users/papageno/gists{/gist_id}","starred_url":"https://api.github.com/users/papageno/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/papageno/subscriptions","organizations_url":"https://api.github.com/users/papageno/orgs","repos_url":"https://api.github.com/users/papageno/repos","events_url":"https://api.github.com/users/papageno/events{/privacy}","received_events_url":"https://api.github.com/users/papageno/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"open","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":1,"created_at":"2022-07-08T05:11:44Z","updated_at":"2022-07-09T14:07:22Z","closed_at":null,"author_association":"NONE","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"Price conversion syntax will be formatted as rate of conversion despite that the total cost syntax is used in the original posting.\r\n\r\nFor example,  `691.00 JPY @@ 5.00 USD` will become `691.00 JPY @ 0.007235890014471780028943560058 USD`.\r\n\r\nThe command I originally used was `bean-report [-f beancount] [-o OUTPUT] FILENAME.beancount {print}`. I always use this command to 'prettify' my ledger file, i.e., to automatically add commas to amounts, or to re-order postings by their dates...\r\n\r\nIs there a workaround to keep the original price conversion syntax used in the posting when using `bean-report`?\r\n\r\nThank you.","closed_by":null,"reactions":{"url":"https://api.github.com/repos/beancount/beancount/issues/725/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beancount/issues/725/timeline","performed_via_github_app":null,"state_reason":null},{"url":"https://api.github.com/repos/beancount/beancount/issues/724","repository_url":"https://api.github.com/repos/beancount/beancount","labels_url":"https://api.github.com/repos/beancount/beancount/issues/724/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beancount/issues/724/comments","events_url":"https://api.github.com/repos/beancount/beancount/issues/724/events","html_url":"https://github.com/beancount/beancount/issues/724","id":1296902811,"node_id":"I_kwDOD91Bd85NTSqb","number":724,"title":"beancount app crash when i click 'quick add' button in home page","user":{"login":"shinyruo177","id":40891772,"node_id":"MDQ6VXNlcjQwODkxNzcy","avatar_url":"https://avatars.githubusercontent.com/u/40891772?v=4","gravatar_id":"","url":"https://api.github.com/users/shinyruo177","html_url":"https://github.com/shinyruo177","followers_url":"https://api.github.com/users/shinyruo177/followers","following_url":"https://api.github.com/users/shinyruo177/following{/other_user}","gists_url":"https://api.github.com/users/shinyruo177/gists{/gist_id}","starred_url":"https://api.github.com/users/shinyruo177/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/shinyruo177/subscriptions","organizations_url":"https://api.github.com/users/shinyruo177/orgs","repos_url":"https://api.github.com/users/shinyruo177/repos","events_url":"https://api.github.com/users/shinyruo177/events{/privacy}","received_events_url":"https://api.github.com/users/shinyruo177/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":1,"created_at":"2022-07-07T06:32:40Z","updated_at":"2022-07-09T16:21:26Z","closed_at":"2022-07-09T16:21:26Z","author_association":"NONE","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"environment: Andriod 12","closed_by":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/beancount/beancount/issues/724/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beancount/issues/724/timeline","performed_via_github_app":null,"state_reason":"completed"},{"url":"https://api.github.com/repos/beancount/beancount/issues/722","repository_url":"https://api.github.com/repos/beancount/beancount","labels_url":"https://api.github.com/repos/beancount/beancount/issues/722/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beancount/issues/722/comments","events_url":"https://api.github.com/repos/beancount/beancount/issues/722/events","html_url":"https://github.com/beancount/beancount/pull/722","id":1280991171,"node_id":"PR_kwDOD91Bd846Kqx5","number":722,"title":"Add HIFO booking method","user":{"login":"einarsi","id":2356425,"node_id":"MDQ6VXNlcjIzNTY0MjU=","avatar_url":"https://avatars.githubusercontent.com/u/2356425?v=4","gravatar_id":"","url":"https://api.github.com/users/einarsi","html_url":"https://github.com/einarsi","followers_url":"https://api.github.com/users/einarsi/followers","following_url":"https://api.github.com/users/einarsi/following{/other_user}","gists_url":"https://api.github.com/users/einarsi/gists{/gist_id}","starred_url":"https://api.github.com/users/einarsi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/einarsi/subscriptions","organizations_url":"https://api.github.com/users/einarsi/orgs","repos_url":"https://api.github.com/users/einarsi/repos","events_url":"https://api.github.com/users/einarsi/events{/privacy}","received_events_url":"https://api.github.com/users/einarsi/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":1,"created_at":"2022-06-22T21:47:43Z","updated_at":"2022-06-24T04:32:38Z","closed_at":"2022-06-24T04:32:38Z","author_association":"CONTRIBUTOR","type":null,"active_lock_reason":null,"draft":false,"pull_request":{"url":"https://api.github.com/repos/beancount/beancount/pulls/722","html_url":"https://github.com/beancount/beancount/pull/722","diff_url":"https://github.com/beancount/beancount/pull/722.diff","patch_url":"https://github.com/beancount/beancount/pull/722.patch","merged_at":"2022-06-24T04:32:38Z"},"body":"This adds a new booking method called HIFO (Highest In, First Out). With HIFO you sell the lots with the highest cost basis first. HIFO is commonly used for crypto, which in many countries has arbitrary booking requirements for tax reporting. HIFO is often a better choice than other booking methods since it leads to the lowest gains and largest losses, thus minimizing taxes for for the year you are reporting.","closed_by":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/beancount/beancount/issues/722/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beancount/issues/722/timeline","performed_via_github_app":null,"state_reason":null},{"url":"https://api.github.com/repos/beancount/beancount/issues/723","repository_url":"https://api.github.com/repos/beancount/beancount","labels_url":"https://api.github.com/repos/beancount/beancount/issues/723/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beancount/issues/723/comments","events_url":"https://api.github.com/repos/beancount/beancount/issues/723/events","html_url":"https://github.com/beancount/beancount/issues/723","id":1290042739,"node_id":"I_kwDOD91Bd85M5H1z","number":723,"title":"beancount assumes commodity from previous transaction to same account","user":{"login":"tbm","id":1556037,"node_id":"MDQ6VXNlcjE1NTYwMzc=","avatar_url":"https://avatars.githubusercontent.com/u/1556037?v=4","gravatar_id":"","url":"https://api.github.com/users/tbm","html_url":"https://github.com/tbm","followers_url":"https://api.github.com/users/tbm/followers","following_url":"https://api.github.com/users/tbm/following{/other_user}","gists_url":"https://api.github.com/users/tbm/gists{/gist_id}","starred_url":"https://api.github.com/users/tbm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tbm/subscriptions","organizations_url":"https://api.github.com/users/tbm/orgs","repos_url":"https://api.github.com/users/tbm/repos","events_url":"https://api.github.com/users/tbm/events{/privacy}","received_events_url":"https://api.github.com/users/tbm/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"open","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":4,"created_at":"2022-06-15T07:56:29Z","updated_at":"2025-05-05T00:35:36Z","closed_at":null,"author_association":"CONTRIBUTOR","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"I thought beancount *always* required a commodity to be specified alongside a number, but I found a testcase where beancount appears to assume the commodity from a previous transaction to the same account.\r\n\r\nIs that intentional?  Personally, I don't like this behaviour but maybe it's intentional?  It's the first time I heard of this.\r\n\r\nTest case:\r\n\r\n```\r\n1970-01-01 open Expenses:Test\r\n1970-01-01 open Assets:Bank\r\n\r\n2022-02-01 txn \"Foo\"\r\n  Expenses:Test     100.00 USD\r\n  Assets:Bank\r\n\r\n2022-02-10 * \"Bar\"\r\n  Expenses:Test      12.34\r\n  Assets:Bank\r\n```\r\n\r\nThis passes `bean-check` even though imho it should complain about `12.34` not having a commodity.\r\n\r\nIf I remove the first transaction or I use a different `Expenses` account for both transactions, `bean-check` starts to complain, so it seems beancount assumes the commodity from what's in the account already.\r\n","closed_by":null,"reactions":{"url":"https://api.github.com/repos/beancount/beancount/issues/723/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beancount/issues/723/timeline","performed_via_github_app":null,"state_reason":null},{"url":"https://api.github.com/repos/beancount/beancount/issues/721","repository_url":"https://api.github.com/repos/beancount/beancount","labels_url":"https://api.github.com/repos/beancount/beancount/issues/721/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beancount/issues/721/comments","events_url":"https://api.github.com/repos/beancount/beancount/issues/721/events","html_url":"https://github.com/beancount/beancount/pull/721","id":1268084071,"node_id":"PR_kwDOD91Bd845fsU8","number":721,"title":"elide position string if it was interpolated","user":{"login":"shaunlebron","id":116838,"node_id":"MDQ6VXNlcjExNjgzOA==","avatar_url":"https://avatars.githubusercontent.com/u/116838?v=4","gravatar_id":"","url":"https://api.github.com/users/shaunlebron","html_url":"https://github.com/shaunlebron","followers_url":"https://api.github.com/users/shaunlebron/followers","following_url":"https://api.github.com/users/shaunlebron/following{/other_user}","gists_url":"https://api.github.com/users/shaunlebron/gists{/gist_id}","starred_url":"https://api.github.com/users/shaunlebron/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/shaunlebron/subscriptions","organizations_url":"https://api.github.com/users/shaunlebron/orgs","repos_url":"https://api.github.com/users/shaunlebron/repos","events_url":"https://api.github.com/users/shaunlebron/events{/privacy}","received_events_url":"https://api.github.com/users/shaunlebron/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":6,"created_at":"2022-06-10T22:59:02Z","updated_at":"2022-06-16T23:37:27Z","closed_at":"2022-06-16T23:37:27Z","author_association":"NONE","type":null,"active_lock_reason":null,"draft":false,"pull_request":{"url":"https://api.github.com/repos/beancount/beancount/pulls/721","html_url":"https://github.com/beancount/beancount/pull/721","diff_url":"https://github.com/beancount/beancount/pull/721.diff","patch_url":"https://github.com/beancount/beancount/pull/721.patch","merged_at":null},"body":"If I try to print a transaction entry that was parsed with an interpolated amount, I’d prefer that it not insert that interpolated amount in the printed posting—but to leave it blank as parsed.  Would this be okay?\r\n\r\nParsing:\r\n```\r\n2014-05-05 txn \"Cafe Mogador\" \"Lamb tagine with wine\"\r\n  Liabilities:CreditCard:CapitalOne         -37.45 USD\r\n  Expenses:Restaurant\r\n```\r\n\r\nPrinting:\r\n```\r\n2014-05-05 txn \"Cafe Mogador\" \"Lamb tagine with wine\"\r\n  Liabilities:CreditCard:CapitalOne         -37.45 USD\r\n  Expenses:Restaurant                        37.45 USD    # <--- I’d prefer this to be left blank\r\n```","closed_by":{"login":"shaunlebron","id":116838,"node_id":"MDQ6VXNlcjExNjgzOA==","avatar_url":"https://avatars.githubusercontent.com/u/116838?v=4","gravatar_id":"","url":"https://api.github.com/users/shaunlebron","html_url":"https://github.com/shaunlebron","followers_url":"https://api.github.com/users/shaunlebron/followers","following_url":"https://api.github.com/users/shaunlebron/following{/other_user}","gists_url":"https://api.github.com/users/shaunlebron/gists{/gist_id}","starred_url":"https://api.github.com/users/shaunlebron/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/shaunlebron/subscriptions","organizations_url":"https://api.github.com/users/shaunlebron/orgs","repos_url":"https://api.github.com/users/shaunlebron/repos","events_url":"https://api.github.com/users/shaunlebron/events{/privacy}","received_events_url":"https://api.github.com/users/shaunlebron/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/beancount/beancount/issues/721/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beancount/issues/721/timeline","performed_via_github_app":null,"state_reason":null},{"url":"https://api.github.com/repos/beancount/beancount/issues/719","repository_url":"https://api.github.com/repos/beancount/beancount","labels_url":"https://api.github.com/repos/beancount/beancount/issues/719/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beancount/issues/719/comments","events_url":"https://api.github.com/repos/beancount/beancount/issues/719/events","html_url":"https://github.com/beancount/beancount/issues/719","id":1215790789,"node_id":"I_kwDOD91Bd85Id37F","number":719,"title":"Iterated padding fails","user":{"login":"philipp-harms","id":1047626,"node_id":"MDQ6VXNlcjEwNDc2MjY=","avatar_url":"https://avatars.githubusercontent.com/u/1047626?v=4","gravatar_id":"","url":"https://api.github.com/users/philipp-harms","html_url":"https://github.com/philipp-harms","followers_url":"https://api.github.com/users/philipp-harms/followers","following_url":"https://api.github.com/users/philipp-harms/following{/other_user}","gists_url":"https://api.github.com/users/philipp-harms/gists{/gist_id}","starred_url":"https://api.github.com/users/philipp-harms/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/philipp-harms/subscriptions","organizations_url":"https://api.github.com/users/philipp-harms/orgs","repos_url":"https://api.github.com/users/philipp-harms/repos","events_url":"https://api.github.com/users/philipp-harms/events{/privacy}","received_events_url":"https://api.github.com/users/philipp-harms/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"open","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":6,"created_at":"2022-04-26T11:08:07Z","updated_at":"2022-04-28T05:17:43Z","closed_at":null,"author_association":"NONE","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"In two consecutive pad commands, the second one doesn't work.\r\n\r\n```\r\noption \"operating_currency\" \"USD\"\r\n\r\n2020-01-01 commodity USD\r\n2022-01-01 open Assets:A\r\n2022-01-01 open Assets:B\r\n2022-01-01 open Assets:C\r\n\r\n; transfer 50 USD from A to B \r\n2022-01-03 pad Assets:A Assets:B\r\n2022-01-04 balance Assets:A -50 USD\r\n; as expected, there are now -50 USD in Assets:A and 50 USD in Assets:B\r\n\r\n; transfer 50 USD from B to C\r\n2022-01-05 pad Assets:B Assets:C\r\n2022-01-06 balance Assets:B 0 USD\r\n; this pad command has no effect, and the balance assertion fails\r\n```","closed_by":null,"reactions":{"url":"https://api.github.com/repos/beancount/beancount/issues/719/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beancount/issues/719/timeline","performed_via_github_app":null,"state_reason":null},{"url":"https://api.github.com/repos/beancount/beancount/issues/718","repository_url":"https://api.github.com/repos/beancount/beancount","labels_url":"https://api.github.com/repos/beancount/beancount/issues/718/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beancount/issues/718/comments","events_url":"https://api.github.com/repos/beancount/beancount/issues/718/events","html_url":"https://github.com/beancount/beancount/issues/718","id":1211878493,"node_id":"I_kwDOD91Bd85IO8xd","number":718,"title":"first-month argument for bean-report","user":{"login":"muks","id":59651,"node_id":"MDQ6VXNlcjU5NjUx","avatar_url":"https://avatars.githubusercontent.com/u/59651?v=4","gravatar_id":"","url":"https://api.github.com/users/muks","html_url":"https://github.com/muks","followers_url":"https://api.github.com/users/muks/followers","following_url":"https://api.github.com/users/muks/following{/other_user}","gists_url":"https://api.github.com/users/muks/gists{/gist_id}","starred_url":"https://api.github.com/users/muks/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/muks/subscriptions","organizations_url":"https://api.github.com/users/muks/orgs","repos_url":"https://api.github.com/users/muks/repos","events_url":"https://api.github.com/users/muks/events{/privacy}","received_events_url":"https://api.github.com/users/muks/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"open","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":1,"created_at":"2022-04-22T06:24:31Z","updated_at":"2022-04-22T08:17:32Z","closed_at":null,"author_association":"NONE","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"`bean-web` accepts a `--first-month` argument. This is a very useful argument as our financial year begins on April 1 and ends on March 31. In fact, it's essential to get correct balance sheet and income statements for a particular financial year.\r\n\r\nIf `bean-web` is ever removed in a future version, we might try to get similar reports using the `bean-report` tool. But `bean-report` lacks the `--first-month` argument. Please can you add a `--first-month` argument to `bean-report`?","closed_by":null,"reactions":{"url":"https://api.github.com/repos/beancount/beancount/issues/718/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beancount/issues/718/timeline","performed_via_github_app":null,"state_reason":null},{"url":"https://api.github.com/repos/beancount/beancount/issues/717","repository_url":"https://api.github.com/repos/beancount/beancount","labels_url":"https://api.github.com/repos/beancount/beancount/issues/717/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beancount/issues/717/comments","events_url":"https://api.github.com/repos/beancount/beancount/issues/717/events","html_url":"https://github.com/beancount/beancount/issues/717","id":1211871644,"node_id":"I_kwDOD91Bd85IO7Gc","number":717,"title":"Show booked date in holdings report in bean-web","user":{"login":"muks","id":59651,"node_id":"MDQ6VXNlcjU5NjUx","avatar_url":"https://avatars.githubusercontent.com/u/59651?v=4","gravatar_id":"","url":"https://api.github.com/users/muks","html_url":"https://github.com/muks","followers_url":"https://api.github.com/users/muks/followers","following_url":"https://api.github.com/users/muks/following{/other_user}","gists_url":"https://api.github.com/users/muks/gists{/gist_id}","starred_url":"https://api.github.com/users/muks/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/muks/subscriptions","organizations_url":"https://api.github.com/users/muks/orgs","repos_url":"https://api.github.com/users/muks/repos","events_url":"https://api.github.com/users/muks/events{/privacy}","received_events_url":"https://api.github.com/users/muks/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":2080994900,"node_id":"MDU6TGFiZWwyMDgwOTk0OTAw","url":"https://api.github.com/repos/beancount/beancount/labels/web","name":"web","color":"ededed","default":false,"description":"Component: bean-web built-in server"}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":2,"created_at":"2022-04-22T06:15:52Z","updated_at":"2024-11-09T20:24:06Z","closed_at":"2024-11-09T20:19:38Z","author_association":"NONE","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"In the holdings report from `bean-web`, is it possible to also show the booked date alongside the book value, so that it is possible to quickly identify the transaction that acquired the holding?\r\n\r\n(I also request you to preserve `bean-web` and not remove it in a future version of beancount. Although there are other UIs such as Fava, `bean-web` is simple, light, clean and presents sufficient information.)\r\n","closed_by":{"login":"dnicolodi","id":987145,"node_id":"MDQ6VXNlcjk4NzE0NQ==","avatar_url":"https://avatars.githubusercontent.com/u/987145?v=4","gravatar_id":"","url":"https://api.github.com/users/dnicolodi","html_url":"https://github.com/dnicolodi","followers_url":"https://api.github.com/users/dnicolodi/followers","following_url":"https://api.github.com/users/dnicolodi/following{/other_user}","gists_url":"https://api.github.com/users/dnicolodi/gists{/gist_id}","starred_url":"https://api.github.com/users/dnicolodi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dnicolodi/subscriptions","organizations_url":"https://api.github.com/users/dnicolodi/orgs","repos_url":"https://api.github.com/users/dnicolodi/repos","events_url":"https://api.github.com/users/dnicolodi/events{/privacy}","received_events_url":"https://api.github.com/users/dnicolodi/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/beancount/beancount/issues/717/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beancount/issues/717/timeline","performed_via_github_app":null,"state_reason":"not_planned"},{"url":"https://api.github.com/repos/beancount/beancount/issues/716","repository_url":"https://api.github.com/repos/beancount/beancount","labels_url":"https://api.github.com/repos/beancount/beancount/issues/716/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beancount/issues/716/comments","events_url":"https://api.github.com/repos/beancount/beancount/issues/716/events","html_url":"https://github.com/beancount/beancount/issues/716","id":1205416054,"node_id":"I_kwDOD91Bd85H2TB2","number":716,"title":"Incorrect number of `fractional_max` in `dcontext` in Beancount 2.3.5","user":{"login":"cvcore","id":4695324,"node_id":"MDQ6VXNlcjQ2OTUzMjQ=","avatar_url":"https://avatars.githubusercontent.com/u/4695324?v=4","gravatar_id":"","url":"https://api.github.com/users/cvcore","html_url":"https://github.com/cvcore","followers_url":"https://api.github.com/users/cvcore/followers","following_url":"https://api.github.com/users/cvcore/following{/other_user}","gists_url":"https://api.github.com/users/cvcore/gists{/gist_id}","starred_url":"https://api.github.com/users/cvcore/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cvcore/subscriptions","organizations_url":"https://api.github.com/users/cvcore/orgs","repos_url":"https://api.github.com/users/cvcore/repos","events_url":"https://api.github.com/users/cvcore/events{/privacy}","received_events_url":"https://api.github.com/users/cvcore/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"open","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":1,"created_at":"2022-04-15T09:09:28Z","updated_at":"2022-07-03T18:28:22Z","closed_at":null,"author_association":"NONE","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"Hi,\r\n\r\nI've been using since long the `v2` branch of beancount and recently after an update to version `2.3.5` I observed an undesired behavior of beancount showing many unwanted decimal places.\r\n\r\n![Bildschirmfoto 2022-04-15 um 10 54 42](https://user-images.githubusercontent.com/4695324/163551071-3cb57ed1-e27c-4a82-a512-5fbde2f157ed.png)\r\n\r\nI'm able to reproduce this behavior with the following MRE:\r\n\r\n```beancount\r\nplugin \"beancount.plugins.implicit_prices\"\r\n\r\n2000-01-01 custom \"fava-option\" \"language\" \"en\"\r\n\r\noption \"operating_currency\" \"USD\"\r\noption \"operating_currency\" \"EUR\"\r\n\r\n2000-01-01 open Liabilities:CreditCard EUR\r\n2000-01-01 open Expenses:Others USD\r\n\r\n2022-04-15 * \"Anonymous\" \"Bill in USD paid by EUR\"\r\n    Liabilities:CreditCard  3 EUR @             3.33333333333333333333333333 USD ; please ignore the currency rate here\r\n    Expenses:Others\r\n```\r\n\r\nThe above file will generate a `dcontext` of (note that `fraction_max=26` here):\r\n```\r\nEUR             : sign=0   integer_max=1   fractional_common=0   fractional_max=0   \"0\" \"0\"\r\nUSD             : sign=0   integer_max=1   fractional_common=26  fractional_max=26  \"0.00000000000000000000000000\" \"0.00000000000000000000000000\"\r\n__default__     : sign=0   integer_max=1   fractional_common=_   fractional_max=_   \"0.*\" \"0.*\"\r\n```\r\n\r\nIn fact, changing the currency conversion into the following form, the problem will be solved:\r\n\r\n```\r\n2022-04-15 * \"Anonymous\" \"Bill in USD paid by EUR\"\r\n    Liabilities:CreditCard  3 EUR @@ 10 USD\r\n        date: 2022-04-15\r\n    Expenses:Others\r\n```\r\n\r\n`dcontext`:\r\n```\r\nEUR             : sign=0   integer_max=1   fractional_common=0   fractional_max=0   \"0\" \"0\"\r\nUSD             : sign=0   integer_max=2   fractional_common=0   fractional_max=0   \"00\" \"00\"\r\n__default__     : sign=0   integer_max=1   fractional_common=_   fractional_max=_   \"0.*\" \"0.*\"\r\n```\r\n\r\n![Bildschirmfoto 2022-04-15 um 10 54 04](https://user-images.githubusercontent.com/4695324/163551089-06c39940-7a40-4b94-90bf-82226f92120e.png)\r\n\r\nPotentially related to beancount/fava#1438 ","closed_by":null,"reactions":{"url":"https://api.github.com/repos/beancount/beancount/issues/716/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beancount/issues/716/timeline","performed_via_github_app":null,"state_reason":null},{"url":"https://api.github.com/repos/beancount/beancount/issues/715","repository_url":"https://api.github.com/repos/beancount/beancount","labels_url":"https://api.github.com/repos/beancount/beancount/issues/715/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beancount/issues/715/comments","events_url":"https://api.github.com/repos/beancount/beancount/issues/715/events","html_url":"https://github.com/beancount/beancount/pull/715","id":1199084677,"node_id":"PR_kwDOD91Bd8419SPB","number":715,"title":"format: add support for parenthesized expressions","user":{"login":"ambroisie","id":12465195,"node_id":"MDQ6VXNlcjEyNDY1MTk1","avatar_url":"https://avatars.githubusercontent.com/u/12465195?v=4","gravatar_id":"","url":"https://api.github.com/users/ambroisie","html_url":"https://github.com/ambroisie","followers_url":"https://api.github.com/users/ambroisie/followers","following_url":"https://api.github.com/users/ambroisie/following{/other_user}","gists_url":"https://api.github.com/users/ambroisie/gists{/gist_id}","starred_url":"https://api.github.com/users/ambroisie/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ambroisie/subscriptions","organizations_url":"https://api.github.com/users/ambroisie/orgs","repos_url":"https://api.github.com/users/ambroisie/repos","events_url":"https://api.github.com/users/ambroisie/events{/privacy}","received_events_url":"https://api.github.com/users/ambroisie/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":2,"created_at":"2022-04-10T16:04:22Z","updated_at":"2022-06-26T03:34:22Z","closed_at":"2022-06-26T03:34:21Z","author_association":"CONTRIBUTOR","type":null,"active_lock_reason":null,"draft":false,"pull_request":{"url":"https://api.github.com/repos/beancount/beancount/pulls/715","html_url":"https://github.com/beancount/beancount/pull/715","diff_url":"https://github.com/beancount/beancount/pull/715.diff","patch_url":"https://github.com/beancount/beancount/pull/715.patch","merged_at":"2022-06-26T03:34:21Z"},"body":"Closes #714 with *very* limited support for arithmetic expressions: only parenthesized, binary operations are matched.","closed_by":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/beancount/beancount/issues/715/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beancount/issues/715/timeline","performed_via_github_app":null,"state_reason":null},{"url":"https://api.github.com/repos/beancount/beancount/issues/714","repository_url":"https://api.github.com/repos/beancount/beancount","labels_url":"https://api.github.com/repos/beancount/beancount/issues/714/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beancount/issues/714/comments","events_url":"https://api.github.com/repos/beancount/beancount/issues/714/events","html_url":"https://github.com/beancount/beancount/issues/714","id":1199057854,"node_id":"I_kwDOD91Bd85HeCu-","number":714,"title":"`bean-format` does not support arithmetic expressions in balance assertions","user":{"login":"ambroisie","id":12465195,"node_id":"MDQ6VXNlcjEyNDY1MTk1","avatar_url":"https://avatars.githubusercontent.com/u/12465195?v=4","gravatar_id":"","url":"https://api.github.com/users/ambroisie","html_url":"https://github.com/ambroisie","followers_url":"https://api.github.com/users/ambroisie/followers","following_url":"https://api.github.com/users/ambroisie/following{/other_user}","gists_url":"https://api.github.com/users/ambroisie/gists{/gist_id}","starred_url":"https://api.github.com/users/ambroisie/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ambroisie/subscriptions","organizations_url":"https://api.github.com/users/ambroisie/orgs","repos_url":"https://api.github.com/users/ambroisie/repos","events_url":"https://api.github.com/users/ambroisie/events{/privacy}","received_events_url":"https://api.github.com/users/ambroisie/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":4,"created_at":"2022-04-10T14:40:10Z","updated_at":"2022-06-26T03:34:21Z","closed_at":"2022-06-26T03:34:21Z","author_association":"CONTRIBUTOR","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"The following input:\r\n\r\n```beancount\r\n2000-01-01 balance Assets:Example (10.00 - 0.01) EUR\r\n2000-01-01 balance Assets:Example 9.99 EUR\r\n```\r\n\r\nRun through `bean-format -c 80`, leads to the following output;\r\n\r\n```beancount\r\n2000-01-01 balance Assets:Example (10.00 - 0.01) EUR\r\n2000-01-01 balance Assets:Example                                         9.99 EUR\r\n```","closed_by":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/beancount/beancount/issues/714/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beancount/issues/714/timeline","performed_via_github_app":null,"state_reason":"completed"},{"url":"https://api.github.com/repos/beancount/beancount/issues/712","repository_url":"https://api.github.com/repos/beancount/beancount","labels_url":"https://api.github.com/repos/beancount/beancount/issues/712/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beancount/issues/712/comments","events_url":"https://api.github.com/repos/beancount/beancount/issues/712/events","html_url":"https://github.com/beancount/beancount/issues/712","id":1168875114,"node_id":"I_kwDOD91Bd85Fq55q","number":712,"title":"bean-price formatting issue in 2.3.5","user":{"login":"capi","id":254852,"node_id":"MDQ6VXNlcjI1NDg1Mg==","avatar_url":"https://avatars.githubusercontent.com/u/254852?v=4","gravatar_id":"","url":"https://api.github.com/users/capi","html_url":"https://github.com/capi","followers_url":"https://api.github.com/users/capi/followers","following_url":"https://api.github.com/users/capi/following{/other_user}","gists_url":"https://api.github.com/users/capi/gists{/gist_id}","starred_url":"https://api.github.com/users/capi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/capi/subscriptions","organizations_url":"https://api.github.com/users/capi/orgs","repos_url":"https://api.github.com/users/capi/repos","events_url":"https://api.github.com/users/capi/events{/privacy}","received_events_url":"https://api.github.com/users/capi/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"open","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":0,"created_at":"2022-03-14T20:33:35Z","updated_at":"2022-03-14T20:33:35Z","closed_at":null,"author_association":"NONE","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"Fetching prices with `bean-price --update --update-rate daily --inactive main.bean` produces a lot of trailing zeros in 2.3.5.\r\n```\r\n2022-03-07 price LU0659579063           50.770000000000000000000000000 EUR\r\n2022-03-07 price MSFT                   259.899994000000000000000000000 EUR\r\n2022-03-07 price USD                    1.089500000000000000000000000 EUR\r\n```\r\nwhereas in 2.3.4 the formatting is as expected:\r\n```\r\n2022-03-07 price LU0659579063                    50.770000 EUR\r\n2022-03-07 price MSFT                           259.899994 EUR\r\n2022-03-07 price USD                                1.0895 EUR\r\n```\r\n\r\nI tracked this down to the changes in `display_context.py`: ([git diff](https://github.com/beancount/beancount/compare/2.3.4...2.3.5#diff-964d5a48eb7de50fd5adaf73ac07c1f2a688809b656bf8fa0781480dc4df2873R158))\r\nI'm not that deep into the code to know if this is intended or an unintended side-effect.\r\n\r\nA fix would be highly appreciated!","closed_by":null,"reactions":{"url":"https://api.github.com/repos/beancount/beancount/issues/712/reactions","total_count":2,"+1":2,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beancount/issues/712/timeline","performed_via_github_app":null,"state_reason":null},{"url":"https://api.github.com/repos/beancount/beancount/issues/711","repository_url":"https://api.github.com/repos/beancount/beancount","labels_url":"https://api.github.com/repos/beancount/beancount/issues/711/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beancount/issues/711/comments","events_url":"https://api.github.com/repos/beancount/beancount/issues/711/events","html_url":"https://github.com/beancount/beancount/issues/711","id":1157287718,"node_id":"I_kwDOD91Bd85E-s8m","number":711,"title":"failed build master branch on macOS (bazel m1)","user":{"login":"shuxiao9058","id":3312525,"node_id":"MDQ6VXNlcjMzMTI1MjU=","avatar_url":"https://avatars.githubusercontent.com/u/3312525?v=4","gravatar_id":"","url":"https://api.github.com/users/shuxiao9058","html_url":"https://github.com/shuxiao9058","followers_url":"https://api.github.com/users/shuxiao9058/followers","following_url":"https://api.github.com/users/shuxiao9058/following{/other_user}","gists_url":"https://api.github.com/users/shuxiao9058/gists{/gist_id}","starred_url":"https://api.github.com/users/shuxiao9058/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/shuxiao9058/subscriptions","organizations_url":"https://api.github.com/users/shuxiao9058/orgs","repos_url":"https://api.github.com/users/shuxiao9058/repos","events_url":"https://api.github.com/users/shuxiao9058/events{/privacy}","received_events_url":"https://api.github.com/users/shuxiao9058/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":9,"created_at":"2022-03-02T14:42:15Z","updated_at":"2024-11-09T20:15:14Z","closed_at":"2024-11-09T20:15:14Z","author_association":"NONE","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":null,"closed_by":{"login":"dnicolodi","id":987145,"node_id":"MDQ6VXNlcjk4NzE0NQ==","avatar_url":"https://avatars.githubusercontent.com/u/987145?v=4","gravatar_id":"","url":"https://api.github.com/users/dnicolodi","html_url":"https://github.com/dnicolodi","followers_url":"https://api.github.com/users/dnicolodi/followers","following_url":"https://api.github.com/users/dnicolodi/following{/other_user}","gists_url":"https://api.github.com/users/dnicolodi/gists{/gist_id}","starred_url":"https://api.github.com/users/dnicolodi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dnicolodi/subscriptions","organizations_url":"https://api.github.com/users/dnicolodi/orgs","repos_url":"https://api.github.com/users/dnicolodi/repos","events_url":"https://api.github.com/users/dnicolodi/events{/privacy}","received_events_url":"https://api.github.com/users/dnicolodi/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/beancount/beancount/issues/711/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beancount/issues/711/timeline","performed_via_github_app":null,"state_reason":"completed"},{"url":"https://api.github.com/repos/beancount/beancount/issues/710","repository_url":"https://api.github.com/repos/beancount/beancount","labels_url":"https://api.github.com/repos/beancount/beancount/issues/710/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beancount/issues/710/comments","events_url":"https://api.github.com/repos/beancount/beancount/issues/710/events","html_url":"https://github.com/beancount/beancount/issues/710","id":1153982011,"node_id":"I_kwDOD91Bd85EyF47","number":710,"title":"Allow balance assertions against root accounts [feature]","user":{"login":"jpluscplusm","id":224508,"node_id":"MDQ6VXNlcjIyNDUwOA==","avatar_url":"https://avatars.githubusercontent.com/u/224508?v=4","gravatar_id":"","url":"https://api.github.com/users/jpluscplusm","html_url":"https://github.com/jpluscplusm","followers_url":"https://api.github.com/users/jpluscplusm/followers","following_url":"https://api.github.com/users/jpluscplusm/following{/other_user}","gists_url":"https://api.github.com/users/jpluscplusm/gists{/gist_id}","starred_url":"https://api.github.com/users/jpluscplusm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jpluscplusm/subscriptions","organizations_url":"https://api.github.com/users/jpluscplusm/orgs","repos_url":"https://api.github.com/users/jpluscplusm/repos","events_url":"https://api.github.com/users/jpluscplusm/events{/privacy}","received_events_url":"https://api.github.com/users/jpluscplusm/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"open","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":0,"created_at":"2022-02-28T11:31:53Z","updated_at":"2022-02-28T13:06:49Z","closed_at":null,"author_association":"CONTRIBUTOR","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"As part of my company's year-end books, my accountant gives me point-in-time \"net worth\" figure.\r\n\r\nThe only account I can `balance`-assert this value against is `Equity`, but both `Equity` and `Equity:` aren't accepted as valid accounts in a balance assertion:\r\n\r\n```\r\n$ grep Equity year-end/fy2021.beancount | tr '0-9' X\r\nXXXX-XX-XX balance Equity XXX,XXX.XX GBP\r\n$ bean-check company.beancount\r\n/home/user/code/beancount/company/year-end/fy2021.beancount:3:       Invalid token: 'Equity'\r\n[...]\r\n$ grep Equity year-end/fy2021.beancount | tr '0-9' X\r\nXXXX-XX-XX balance Equity: XXX,XXX.XX GBP\r\n$ bean-check company.beancount\r\n/home/user/code/beancount/company/year-end/fy2021.beancount:3:       Invalid token: 'Equity:'\r\n```\r\n\r\nPlease consider allowing balance assertions against top-level/root accounts :heart:","closed_by":null,"reactions":{"url":"https://api.github.com/repos/beancount/beancount/issues/710/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beancount/issues/710/timeline","performed_via_github_app":null,"state_reason":null},{"url":"https://api.github.com/repos/beancount/beancount/issues/709","repository_url":"https://api.github.com/repos/beancount/beancount","labels_url":"https://api.github.com/repos/beancount/beancount/issues/709/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beancount/issues/709/comments","events_url":"https://api.github.com/repos/beancount/beancount/issues/709/events","html_url":"https://github.com/beancount/beancount/pull/709","id":1146024889,"node_id":"PR_kwDOD91Bd84zPYHJ","number":709,"title":"ci: Fix workflow to upload wheels to PyPI","user":{"login":"dnicolodi","id":987145,"node_id":"MDQ6VXNlcjk4NzE0NQ==","avatar_url":"https://avatars.githubusercontent.com/u/987145?v=4","gravatar_id":"","url":"https://api.github.com/users/dnicolodi","html_url":"https://github.com/dnicolodi","followers_url":"https://api.github.com/users/dnicolodi/followers","following_url":"https://api.github.com/users/dnicolodi/following{/other_user}","gists_url":"https://api.github.com/users/dnicolodi/gists{/gist_id}","starred_url":"https://api.github.com/users/dnicolodi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dnicolodi/subscriptions","organizations_url":"https://api.github.com/users/dnicolodi/orgs","repos_url":"https://api.github.com/users/dnicolodi/repos","events_url":"https://api.github.com/users/dnicolodi/events{/privacy}","received_events_url":"https://api.github.com/users/dnicolodi/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":0,"created_at":"2022-02-21T16:44:50Z","updated_at":"2022-02-21T17:00:31Z","closed_at":"2022-02-21T17:00:31Z","author_association":"COLLABORATOR","type":null,"active_lock_reason":null,"draft":false,"pull_request":{"url":"https://api.github.com/repos/beancount/beancount/pulls/709","html_url":"https://github.com/beancount/beancount/pull/709","diff_url":"https://github.com/beancount/beancount/pull/709.diff","patch_url":"https://github.com/beancount/beancount/pull/709.patch","merged_at":"2022-02-21T17:00:31Z"},"body":"Ok, this time is the good one. I tested the previous version, but only on macOS and of course the default shell on Windows is not bash but powershell... Writing the test in python is the simplest way out.\r\n\r\nAnd I am very happy to have written the version check: the 2.3.5 tag points to the wrong place! It points to a recent commit on the master branch and not to the tip of the v2 branch.","closed_by":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/beancount/beancount/issues/709/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beancount/issues/709/timeline","performed_via_github_app":null,"state_reason":null},{"url":"https://api.github.com/repos/beancount/beancount/issues/708","repository_url":"https://api.github.com/repos/beancount/beancount","labels_url":"https://api.github.com/repos/beancount/beancount/issues/708/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beancount/issues/708/comments","events_url":"https://api.github.com/repos/beancount/beancount/issues/708/events","html_url":"https://github.com/beancount/beancount/pull/708","id":1145590380,"node_id":"PR_kwDOD91Bd84zN763","number":708,"title":"ci: Fix workflow to upload wheels to PyPI","user":{"login":"dnicolodi","id":987145,"node_id":"MDQ6VXNlcjk4NzE0NQ==","avatar_url":"https://avatars.githubusercontent.com/u/987145?v=4","gravatar_id":"","url":"https://api.github.com/users/dnicolodi","html_url":"https://github.com/dnicolodi","followers_url":"https://api.github.com/users/dnicolodi/followers","following_url":"https://api.github.com/users/dnicolodi/following{/other_user}","gists_url":"https://api.github.com/users/dnicolodi/gists{/gist_id}","starred_url":"https://api.github.com/users/dnicolodi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dnicolodi/subscriptions","organizations_url":"https://api.github.com/users/dnicolodi/orgs","repos_url":"https://api.github.com/users/dnicolodi/repos","events_url":"https://api.github.com/users/dnicolodi/events{/privacy}","received_events_url":"https://api.github.com/users/dnicolodi/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":0,"created_at":"2022-02-21T10:14:01Z","updated_at":"2022-02-21T15:08:30Z","closed_at":"2022-02-21T15:08:30Z","author_association":"COLLABORATOR","type":null,"active_lock_reason":null,"draft":false,"pull_request":{"url":"https://api.github.com/repos/beancount/beancount/pulls/708","html_url":"https://github.com/beancount/beancount/pull/708","diff_url":"https://github.com/beancount/beancount/pull/708.diff","patch_url":"https://github.com/beancount/beancount/pull/708.patch","merged_at":"2022-02-21T15:08:30Z"},"body":"Fix for the fix. I somehow botched the indentation of the yaml file. @blais the workflow would have to be triggered manually once more.","closed_by":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/beancount/beancount/issues/708/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beancount/issues/708/timeline","performed_via_github_app":null,"state_reason":null},{"url":"https://api.github.com/repos/beancount/beancount/issues/707","repository_url":"https://api.github.com/repos/beancount/beancount","labels_url":"https://api.github.com/repos/beancount/beancount/issues/707/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beancount/issues/707/comments","events_url":"https://api.github.com/repos/beancount/beancount/issues/707/events","html_url":"https://github.com/beancount/beancount/pull/707","id":1144958373,"node_id":"PR_kwDOD91Bd84zL9te","number":707,"title":"ci: Fix workflow to upload wheels to PyPI","user":{"login":"dnicolodi","id":987145,"node_id":"MDQ6VXNlcjk4NzE0NQ==","avatar_url":"https://avatars.githubusercontent.com/u/987145?v=4","gravatar_id":"","url":"https://api.github.com/users/dnicolodi","html_url":"https://github.com/dnicolodi","followers_url":"https://api.github.com/users/dnicolodi/followers","following_url":"https://api.github.com/users/dnicolodi/following{/other_user}","gists_url":"https://api.github.com/users/dnicolodi/gists{/gist_id}","starred_url":"https://api.github.com/users/dnicolodi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dnicolodi/subscriptions","organizations_url":"https://api.github.com/users/dnicolodi/orgs","repos_url":"https://api.github.com/users/dnicolodi/repos","events_url":"https://api.github.com/users/dnicolodi/events{/privacy}","received_events_url":"https://api.github.com/users/dnicolodi/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":2,"created_at":"2022-02-20T08:48:07Z","updated_at":"2022-02-21T10:10:15Z","closed_at":"2022-02-20T22:48:58Z","author_association":"COLLABORATOR","type":null,"active_lock_reason":null,"draft":false,"pull_request":{"url":"https://api.github.com/repos/beancount/beancount/pulls/707","html_url":"https://github.com/beancount/beancount/pull/707","diff_url":"https://github.com/beancount/beancount/pull/707.diff","patch_url":"https://github.com/beancount/beancount/pull/707.patch","merged_at":"2022-02-20T22:48:58Z"},"body":"This should fix publishing wheels when a tag is pushed that does not point to HEAD and when the workflow is triggered manually. @blais you should be able to push wheels for the 2.3.5 release going to the project Actions tab, selecting \"upload-wheel\" then \"Run workflow\" and punching in \"2.3.5\" in the \"Release tag\" field.","closed_by":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/beancount/beancount/issues/707/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beancount/issues/707/timeline","performed_via_github_app":null,"state_reason":null},{"url":"https://api.github.com/repos/beancount/beancount/issues/706","repository_url":"https://api.github.com/repos/beancount/beancount","labels_url":"https://api.github.com/repos/beancount/beancount/issues/706/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beancount/issues/706/comments","events_url":"https://api.github.com/repos/beancount/beancount/issues/706/events","html_url":"https://github.com/beancount/beancount/pull/706","id":1141021786,"node_id":"PR_kwDOD91Bd84y-VZK","number":706,"title":"Add CJK character set \"Lu_and_CJK\" to beancount/utils/regexp_utils.py.","user":{"login":"RenLangMan","id":34146131,"node_id":"MDQ6VXNlcjM0MTQ2MTMx","avatar_url":"https://avatars.githubusercontent.com/u/34146131?v=4","gravatar_id":"","url":"https://api.github.com/users/RenLangMan","html_url":"https://github.com/RenLangMan","followers_url":"https://api.github.com/users/RenLangMan/followers","following_url":"https://api.github.com/users/RenLangMan/following{/other_user}","gists_url":"https://api.github.com/users/RenLangMan/gists{/gist_id}","starred_url":"https://api.github.com/users/RenLangMan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/RenLangMan/subscriptions","organizations_url":"https://api.github.com/users/RenLangMan/orgs","repos_url":"https://api.github.com/users/RenLangMan/repos","events_url":"https://api.github.com/users/RenLangMan/events{/privacy}","received_events_url":"https://api.github.com/users/RenLangMan/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"open","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":6,"created_at":"2022-02-17T08:31:03Z","updated_at":"2023-09-23T15:40:48Z","closed_at":null,"author_association":"NONE","type":null,"active_lock_reason":null,"draft":false,"pull_request":{"url":"https://api.github.com/repos/beancount/beancount/pulls/706","html_url":"https://github.com/beancount/beancount/pull/706","diff_url":"https://github.com/beancount/beancount/pull/706.diff","patch_url":"https://github.com/beancount/beancount/pull/706.patch","merged_at":null},"body":"Add **CJK character set** \"Lu_and_CJK\" to `beancount/utils/regexp_utils.py`\r\n\r\nModify `beancount/core/account.py` `ACC_COMP_NAME_RE` defined in the file, make the account name can contain **CJK** characters:\r\n\r\n- The **account type** must begin with an **uppercase letter** A-Z;\r\n\r\n- The **account name** can contain **CJK characters**, but must be in uppercase or CJK character or digit **beginning**.","closed_by":null,"reactions":{"url":"https://api.github.com/repos/beancount/beancount/issues/706/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beancount/issues/706/timeline","performed_via_github_app":null,"state_reason":null},{"url":"https://api.github.com/repos/beancount/beancount/issues/705","repository_url":"https://api.github.com/repos/beancount/beancount","labels_url":"https://api.github.com/repos/beancount/beancount/issues/705/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beancount/issues/705/comments","events_url":"https://api.github.com/repos/beancount/beancount/issues/705/events","html_url":"https://github.com/beancount/beancount/pull/705","id":1140350232,"node_id":"PR_kwDOD91Bd84y8Qi9","number":705,"title":"Feat chinese account","user":{"login":"RenLangMan","id":34146131,"node_id":"MDQ6VXNlcjM0MTQ2MTMx","avatar_url":"https://avatars.githubusercontent.com/u/34146131?v=4","gravatar_id":"","url":"https://api.github.com/users/RenLangMan","html_url":"https://github.com/RenLangMan","followers_url":"https://api.github.com/users/RenLangMan/followers","following_url":"https://api.github.com/users/RenLangMan/following{/other_user}","gists_url":"https://api.github.com/users/RenLangMan/gists{/gist_id}","starred_url":"https://api.github.com/users/RenLangMan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/RenLangMan/subscriptions","organizations_url":"https://api.github.com/users/RenLangMan/orgs","repos_url":"https://api.github.com/users/RenLangMan/repos","events_url":"https://api.github.com/users/RenLangMan/events{/privacy}","received_events_url":"https://api.github.com/users/RenLangMan/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":2,"created_at":"2022-02-16T17:33:49Z","updated_at":"2022-02-18T07:07:53Z","closed_at":"2022-02-18T07:07:53Z","author_association":"NONE","type":null,"active_lock_reason":null,"draft":false,"pull_request":{"url":"https://api.github.com/repos/beancount/beancount/pulls/705","html_url":"https://github.com/beancount/beancount/pull/705","diff_url":"https://github.com/beancount/beancount/pull/705.diff","patch_url":"https://github.com/beancount/beancount/pull/705.patch","merged_at":null},"body":"The account type regex rule remains unchanged\r\n\r\nAdd CJK character support for account name subjects","closed_by":{"login":"RenLangMan","id":34146131,"node_id":"MDQ6VXNlcjM0MTQ2MTMx","avatar_url":"https://avatars.githubusercontent.com/u/34146131?v=4","gravatar_id":"","url":"https://api.github.com/users/RenLangMan","html_url":"https://github.com/RenLangMan","followers_url":"https://api.github.com/users/RenLangMan/followers","following_url":"https://api.github.com/users/RenLangMan/following{/other_user}","gists_url":"https://api.github.com/users/RenLangMan/gists{/gist_id}","starred_url":"https://api.github.com/users/RenLangMan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/RenLangMan/subscriptions","organizations_url":"https://api.github.com/users/RenLangMan/orgs","repos_url":"https://api.github.com/users/RenLangMan/repos","events_url":"https://api.github.com/users/RenLangMan/events{/privacy}","received_events_url":"https://api.github.com/users/RenLangMan/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/beancount/beancount/issues/705/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beancount/issues/705/timeline","performed_via_github_app":null,"state_reason":null},{"url":"https://api.github.com/repos/beancount/beancount/issues/704","repository_url":"https://api.github.com/repos/beancount/beancount","labels_url":"https://api.github.com/repos/beancount/beancount/issues/704/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beancount/issues/704/comments","events_url":"https://api.github.com/repos/beancount/beancount/issues/704/events","html_url":"https://github.com/beancount/beancount/issues/704","id":1139790015,"node_id":"I_kwDOD91Bd85D79C_","number":704,"title":"Source package for 2.3.5 is broken and fails to install","user":{"login":"mmoya","id":36318,"node_id":"MDQ6VXNlcjM2MzE4","avatar_url":"https://avatars.githubusercontent.com/u/36318?v=4","gravatar_id":"","url":"https://api.github.com/users/mmoya","html_url":"https://github.com/mmoya","followers_url":"https://api.github.com/users/mmoya/followers","following_url":"https://api.github.com/users/mmoya/following{/other_user}","gists_url":"https://api.github.com/users/mmoya/gists{/gist_id}","starred_url":"https://api.github.com/users/mmoya/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mmoya/subscriptions","organizations_url":"https://api.github.com/users/mmoya/orgs","repos_url":"https://api.github.com/users/mmoya/repos","events_url":"https://api.github.com/users/mmoya/events{/privacy}","received_events_url":"https://api.github.com/users/mmoya/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":7,"created_at":"2022-02-16T09:55:25Z","updated_at":"2022-02-19T22:35:16Z","closed_at":"2022-02-17T03:02:15Z","author_association":"NONE","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"I tried to install version 2.3.5 today. It failed with:\r\n```\r\nfile:///home/mmoya/.cache/pypoetry/artifacts/ce/81/e4/943083bbfb3260eb8b48574894bb1f9c0b75bec54ab0d2165d61f4b62d/beancount-2.3.5.linux-x86_64.tar.gz\r\ndoes not appear to be a Python project: neither 'setup.py' nor 'pyproject.toml' found.\r\n```\r\n\r\nThe source package is broken. It contains an archive of a local installation with full paths and cache files:\r\n```\r\n$ curl https://files.pythonhosted.org/packages/3b/a5/480a45d85327460cba050cac3db594575ea8ccf7f91654e7b44c8c825899/beancount-2.3.5.linux-x86_64.tar.gz | tar -tz\r\n./usr/                                                                                                                                        \r\n./usr/local/                                                                                                                                  \r\n./usr/local/bin/                                                                                                                              \r\n./usr/local/bin/bean-bake                                                                                                                     \r\n./usr/local/bin/bean-check                                                                                                                    \r\n./usr/local/bin/bean-doctor                                                                                                                   \r\n...\r\n./usr/local/lib/python3.10/site-packages/beancount/__pycache__/__init__.cpython-310.pyc                                                       \r\n./usr/local/lib/python3.10/site-packages/beancount/__pycache__/loader.cpython-310.pyc                                                         \r\n./usr/local/lib/python3.10/site-packages/beancount/__pycache__/loader_test.cpython-310.pyc                                                                                                                                                                                                  \r\n...\r\n```","closed_by":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/beancount/beancount/issues/704/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beancount/issues/704/timeline","performed_via_github_app":null,"state_reason":"completed"},{"url":"https://api.github.com/repos/beancount/beancount/issues/703","repository_url":"https://api.github.com/repos/beancount/beancount","labels_url":"https://api.github.com/repos/beancount/beancount/issues/703/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beancount/issues/703/comments","events_url":"https://api.github.com/repos/beancount/beancount/issues/703/events","html_url":"https://github.com/beancount/beancount/pull/703","id":1125323775,"node_id":"PR_kwDOD91Bd84yIxSC","number":703,"title":"bean-check: Fix auto plugins feature","user":{"login":"dnicolodi","id":987145,"node_id":"MDQ6VXNlcjk4NzE0NQ==","avatar_url":"https://avatars.githubusercontent.com/u/987145?v=4","gravatar_id":"","url":"https://api.github.com/users/dnicolodi","html_url":"https://github.com/dnicolodi","followers_url":"https://api.github.com/users/dnicolodi/followers","following_url":"https://api.github.com/users/dnicolodi/following{/other_user}","gists_url":"https://api.github.com/users/dnicolodi/gists{/gist_id}","starred_url":"https://api.github.com/users/dnicolodi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dnicolodi/subscriptions","organizations_url":"https://api.github.com/users/dnicolodi/orgs","repos_url":"https://api.github.com/users/dnicolodi/repos","events_url":"https://api.github.com/users/dnicolodi/events{/privacy}","received_events_url":"https://api.github.com/users/dnicolodi/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":1,"created_at":"2022-02-06T21:32:55Z","updated_at":"2022-02-07T02:07:41Z","closed_at":"2022-02-07T02:07:41Z","author_association":"COLLABORATOR","type":null,"active_lock_reason":null,"draft":false,"pull_request":{"url":"https://api.github.com/repos/beancount/beancount/pulls/703","html_url":"https://github.com/beancount/beancount/pull/703","diff_url":"https://github.com/beancount/beancount/pull/703.diff","patch_url":"https://github.com/beancount/beancount/pull/703.patch","merged_at":"2022-02-07T02:07:41Z"},"body":"Modifying the module variable holding the list of the plugins to run interferes with running the code as part of the test suite. We probably need a better interface to enable plugins programmatically.\r\n\r\nThis had me scratching my head for a while when looking at the test results.","closed_by":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/beancount/beancount/issues/703/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beancount/issues/703/timeline","performed_via_github_app":null,"state_reason":null},{"url":"https://api.github.com/repos/beancount/beancount/issues/702","repository_url":"https://api.github.com/repos/beancount/beancount","labels_url":"https://api.github.com/repos/beancount/beancount/issues/702/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beancount/issues/702/comments","events_url":"https://api.github.com/repos/beancount/beancount/issues/702/events","html_url":"https://github.com/beancount/beancount/pull/702","id":1125302271,"node_id":"PR_kwDOD91Bd84yItbh","number":702,"title":"query: Remove","user":{"login":"dnicolodi","id":987145,"node_id":"MDQ6VXNlcjk4NzE0NQ==","avatar_url":"https://avatars.githubusercontent.com/u/987145?v=4","gravatar_id":"","url":"https://api.github.com/users/dnicolodi","html_url":"https://github.com/dnicolodi","followers_url":"https://api.github.com/users/dnicolodi/followers","following_url":"https://api.github.com/users/dnicolodi/following{/other_user}","gists_url":"https://api.github.com/users/dnicolodi/gists{/gist_id}","starred_url":"https://api.github.com/users/dnicolodi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dnicolodi/subscriptions","organizations_url":"https://api.github.com/users/dnicolodi/orgs","repos_url":"https://api.github.com/users/dnicolodi/repos","events_url":"https://api.github.com/users/dnicolodi/events{/privacy}","received_events_url":"https://api.github.com/users/dnicolodi/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":0,"created_at":"2022-02-06T20:05:15Z","updated_at":"2022-04-10T13:40:34Z","closed_at":"2022-04-10T13:40:34Z","author_association":"COLLABORATOR","type":null,"active_lock_reason":null,"draft":false,"pull_request":{"url":"https://api.github.com/repos/beancount/beancount/pulls/702","html_url":"https://github.com/beancount/beancount/pull/702","diff_url":"https://github.com/beancount/beancount/pull/702.diff","patch_url":"https://github.com/beancount/beancount/pull/702.patch","merged_at":"2022-04-10T13:40:34Z"},"body":"bean-query and the associated code has moved to the beanquery project.","closed_by":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/beancount/beancount/issues/702/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beancount/issues/702/timeline","performed_via_github_app":null,"state_reason":null},{"url":"https://api.github.com/repos/beancount/beancount/issues/701","repository_url":"https://api.github.com/repos/beancount/beancount","labels_url":"https://api.github.com/repos/beancount/beancount/issues/701/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beancount/issues/701/comments","events_url":"https://api.github.com/repos/beancount/beancount/issues/701/events","html_url":"https://github.com/beancount/beancount/pull/701","id":1125302216,"node_id":"PR_kwDOD91Bd84yIta5","number":701,"title":"bean-sql: Remove","user":{"login":"dnicolodi","id":987145,"node_id":"MDQ6VXNlcjk4NzE0NQ==","avatar_url":"https://avatars.githubusercontent.com/u/987145?v=4","gravatar_id":"","url":"https://api.github.com/users/dnicolodi","html_url":"https://github.com/dnicolodi","followers_url":"https://api.github.com/users/dnicolodi/followers","following_url":"https://api.github.com/users/dnicolodi/following{/other_user}","gists_url":"https://api.github.com/users/dnicolodi/gists{/gist_id}","starred_url":"https://api.github.com/users/dnicolodi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dnicolodi/subscriptions","organizations_url":"https://api.github.com/users/dnicolodi/orgs","repos_url":"https://api.github.com/users/dnicolodi/repos","events_url":"https://api.github.com/users/dnicolodi/events{/privacy}","received_events_url":"https://api.github.com/users/dnicolodi/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":2,"created_at":"2022-02-06T20:05:05Z","updated_at":"2022-04-10T14:01:46Z","closed_at":"2022-04-10T13:59:05Z","author_association":"COLLABORATOR","type":null,"active_lock_reason":null,"draft":false,"pull_request":{"url":"https://api.github.com/repos/beancount/beancount/pulls/701","html_url":"https://github.com/beancount/beancount/pull/701","diff_url":"https://github.com/beancount/beancount/pull/701.diff","patch_url":"https://github.com/beancount/beancount/pull/701.patch","merged_at":null},"body":"bean-sql is an attempt to adapt the Beancount data scheme to an SQL\r\ndatabase to provide a way to extract data from the ledger through SQL\r\nqueries, using SQLite as backing SQL engine. SQLite however does not\r\nsupport a real decimal data type, making any serious use of the tool\r\nchallenging.\r\n\r\nUsers interested in a SQL-like way to query the ledger should look at\r\nbean-query instad. To avoid false starts for new users, remove this\r\ntool from the repository.","closed_by":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/beancount/beancount/issues/701/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beancount/issues/701/timeline","performed_via_github_app":null,"state_reason":null},{"url":"https://api.github.com/repos/beancount/beancount/issues/700","repository_url":"https://api.github.com/repos/beancount/beancount","labels_url":"https://api.github.com/repos/beancount/beancount/issues/700/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beancount/issues/700/comments","events_url":"https://api.github.com/repos/beancount/beancount/issues/700/events","html_url":"https://github.com/beancount/beancount/pull/700","id":1125290932,"node_id":"PR_kwDOD91Bd84yIriv","number":700,"title":"core: Remove requirement for filename and lineno metadata entries","user":{"login":"dnicolodi","id":987145,"node_id":"MDQ6VXNlcjk4NzE0NQ==","avatar_url":"https://avatars.githubusercontent.com/u/987145?v=4","gravatar_id":"","url":"https://api.github.com/users/dnicolodi","html_url":"https://github.com/dnicolodi","followers_url":"https://api.github.com/users/dnicolodi/followers","following_url":"https://api.github.com/users/dnicolodi/following{/other_user}","gists_url":"https://api.github.com/users/dnicolodi/gists{/gist_id}","starred_url":"https://api.github.com/users/dnicolodi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dnicolodi/subscriptions","organizations_url":"https://api.github.com/users/dnicolodi/orgs","repos_url":"https://api.github.com/users/dnicolodi/repos","events_url":"https://api.github.com/users/dnicolodi/events{/privacy}","received_events_url":"https://api.github.com/users/dnicolodi/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"open","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":5,"created_at":"2022-02-06T19:19:05Z","updated_at":"2025-05-23T21:22:45Z","closed_at":null,"author_association":"COLLABORATOR","type":null,"active_lock_reason":null,"draft":false,"pull_request":{"url":"https://api.github.com/repos/beancount/beancount/pulls/700","html_url":"https://github.com/beancount/beancount/pull/700","diff_url":"https://github.com/beancount/beancount/pull/700.diff","patch_url":"https://github.com/beancount/beancount/pull/700.patch","merged_at":null},"body":"See also https://github.com/beancount/beangulp/pull/101","closed_by":null,"reactions":{"url":"https://api.github.com/repos/beancount/beancount/issues/700/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beancount/issues/700/timeline","performed_via_github_app":null,"state_reason":null},{"url":"https://api.github.com/repos/beancount/beancount/issues/699","repository_url":"https://api.github.com/repos/beancount/beancount","labels_url":"https://api.github.com/repos/beancount/beancount/issues/699/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beancount/issues/699/comments","events_url":"https://api.github.com/repos/beancount/beancount/issues/699/events","html_url":"https://github.com/beancount/beancount/pull/699","id":1125009534,"node_id":"PR_kwDOD91Bd84yH3qU","number":699,"title":"Fix auto_accounts plugin docstring","user":{"login":"ChristopherKi","id":8135318,"node_id":"MDQ6VXNlcjgxMzUzMTg=","avatar_url":"https://avatars.githubusercontent.com/u/8135318?v=4","gravatar_id":"","url":"https://api.github.com/users/ChristopherKi","html_url":"https://github.com/ChristopherKi","followers_url":"https://api.github.com/users/ChristopherKi/followers","following_url":"https://api.github.com/users/ChristopherKi/following{/other_user}","gists_url":"https://api.github.com/users/ChristopherKi/gists{/gist_id}","starred_url":"https://api.github.com/users/ChristopherKi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ChristopherKi/subscriptions","organizations_url":"https://api.github.com/users/ChristopherKi/orgs","repos_url":"https://api.github.com/users/ChristopherKi/repos","events_url":"https://api.github.com/users/ChristopherKi/events{/privacy}","received_events_url":"https://api.github.com/users/ChristopherKi/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":0,"created_at":"2022-02-05T19:15:04Z","updated_at":"2022-02-05T22:41:06Z","closed_at":"2022-02-05T22:41:06Z","author_association":"CONTRIBUTOR","type":null,"active_lock_reason":null,"draft":false,"pull_request":{"url":"https://api.github.com/repos/beancount/beancount/pulls/699","html_url":"https://github.com/beancount/beancount/pull/699","diff_url":"https://github.com/beancount/beancount/pull/699.diff","patch_url":"https://github.com/beancount/beancount/pull/699.patch","merged_at":"2022-02-05T22:41:06Z"},"body":"The docstring contains the description of the `implicit_prices` plugin.","closed_by":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/beancount/beancount/issues/699/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beancount/issues/699/timeline","performed_via_github_app":null,"state_reason":null},{"url":"https://api.github.com/repos/beancount/beancount/issues/697","repository_url":"https://api.github.com/repos/beancount/beancount","labels_url":"https://api.github.com/repos/beancount/beancount/issues/697/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beancount/issues/697/comments","events_url":"https://api.github.com/repos/beancount/beancount/issues/697/events","html_url":"https://github.com/beancount/beancount/issues/697","id":1111662298,"node_id":"I_kwDOD91Bd85CQp7a","number":697,"title":"Different \"event\" name suggestion","user":{"login":"jenicek","id":1938490,"node_id":"MDQ6VXNlcjE5Mzg0OTA=","avatar_url":"https://avatars.githubusercontent.com/u/1938490?v=4","gravatar_id":"","url":"https://api.github.com/users/jenicek","html_url":"https://github.com/jenicek","followers_url":"https://api.github.com/users/jenicek/followers","following_url":"https://api.github.com/users/jenicek/following{/other_user}","gists_url":"https://api.github.com/users/jenicek/gists{/gist_id}","starred_url":"https://api.github.com/users/jenicek/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jenicek/subscriptions","organizations_url":"https://api.github.com/users/jenicek/orgs","repos_url":"https://api.github.com/users/jenicek/repos","events_url":"https://api.github.com/users/jenicek/events{/privacy}","received_events_url":"https://api.github.com/users/jenicek/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":1,"created_at":"2022-01-22T19:14:34Z","updated_at":"2022-01-22T22:03:31Z","closed_at":"2022-01-22T22:03:31Z","author_association":"NONE","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"Hi, I was reading through the comprehensive documentation (which I really appreciate as a beginner) and came across the [appeal](https://beancount.github.io/docs/beancount_language_syntax.html#fn:3) for a different name for \"event\". I believe the best-suited name would be \"log\", as it is used commonly even outside of IT for exactly this purpose - keeping track of some \"variable\", where the records are usually related to a change of position, weather, or time.","closed_by":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/beancount/beancount/issues/697/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beancount/issues/697/timeline","performed_via_github_app":null,"state_reason":"completed"},{"url":"https://api.github.com/repos/beancount/beancount/issues/696","repository_url":"https://api.github.com/repos/beancount/beancount","labels_url":"https://api.github.com/repos/beancount/beancount/issues/696/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beancount/issues/696/comments","events_url":"https://api.github.com/repos/beancount/beancount/issues/696/events","html_url":"https://github.com/beancount/beancount/issues/696","id":1108803738,"node_id":"I_kwDOD91Bd85CFwCa","number":696,"title":"bean-extract fails to import transaction depending on arbitrary fields","user":{"login":"mtlynch","id":7783288,"node_id":"MDQ6VXNlcjc3ODMyODg=","avatar_url":"https://avatars.githubusercontent.com/u/7783288?v=4","gravatar_id":"","url":"https://api.github.com/users/mtlynch","html_url":"https://github.com/mtlynch","followers_url":"https://api.github.com/users/mtlynch/followers","following_url":"https://api.github.com/users/mtlynch/following{/other_user}","gists_url":"https://api.github.com/users/mtlynch/gists{/gist_id}","starred_url":"https://api.github.com/users/mtlynch/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mtlynch/subscriptions","organizations_url":"https://api.github.com/users/mtlynch/orgs","repos_url":"https://api.github.com/users/mtlynch/repos","events_url":"https://api.github.com/users/mtlynch/events{/privacy}","received_events_url":"https://api.github.com/users/mtlynch/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":3,"created_at":"2022-01-20T03:24:30Z","updated_at":"2022-01-20T10:50:12Z","closed_at":"2022-01-20T10:35:53Z","author_association":"NONE","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"I'm running into strange behavior with an importer, and it seems like it may be a bug in Beancount.\r\n\r\nMy importer has an `extract` method that I've simplified for debugging purposes to return a single transaction:\r\n\r\n```python\r\n    def extract(self, f):\r\n        d = data.Transaction(meta=data.new_metadata(\"dummy\", 1),\r\n                             date=datetime.date(2021, 12, 2),\r\n                             flag=self.FLAG,\r\n                             payee='Dummy Payee',\r\n                             narration=None,\r\n                             tags=data.EMPTY_SET,\r\n                             links=data.EMPTY_SET,\r\n                             postings=[\r\n                                 data.Posting(account=self._account,\r\n                                              units=amount.Amount(\r\n                                                  number.D('1868.26'), 'USD'),\r\n                                              cost=None,\r\n                                              price=None,\r\n                                              flag=None,\r\n                                              meta=None),\r\n                                 data.Posting(account='Income:Dummy',\r\n                                              units=None,\r\n                                              cost=None,\r\n                                              price=None,\r\n                                              flag=None,\r\n                                              meta=None)\r\n                             ])\r\n        return [d]\r\n```\r\n\r\nAnd my ledger looks like this:\r\n\r\n```text\r\noption \"title\" \"Dummy Ledger\"\r\noption \"operating_currency\" \"USD\"\r\n\r\n2021-01-01 open Assets:Checking\r\n2021-01-01 open Income:Dummy\r\n\r\n2021-11-30 * \"Dummy\" \"\"\r\n  Assets:Checking  1779.31 USD\r\n  Income:Dummy\r\n```\r\n\r\nWhen I run my importer, I'd expect it to emit the hardcoded transaction from my importer, but it just emits a blank line. But what's interesting is that if I change seemingly unimportant fields, it *does* emit the transaction.\r\n\r\nFor example, if I change the existing transaction in the ledger to `21779.31`, then run the importer, it correctly emits the transaction in the `extract` method. Same thing if I change the date in the `extract` method's transaction to `2021, 10, 2`. That emits the transaction.\r\n\r\n## To repro\r\n\r\n```bash\r\ncd $(mktemp -d) && \\\r\n  git clone https://github.com/mtlynch/beancount-repro.git . && \\\r\n  docker build -t beancount . && \\\r\n  docker run -it -v \"${PWD}:/app\" -w /app --entrypoint /app/repro beancount\r\n```\r\n\r\n### Expected\r\n\r\n```text\r\n;; -*- mode: beancount -*-\r\n**** /app/downloads/transactions.csv\r\n\r\n2021-12-02 * \"Dummy Payee\" \"\"\r\n  Assets:Checking  1868.26 USD\r\n  Income:Dummy\r\n```\r\n\r\n### Actual\r\n\r\n```text\r\n;; -*- mode: beancount -*-\r\n**** /app/downloads/transactions.csv\r\n\r\n; 2021-12-02 * \"Dummy Payee\" \"\"\r\n;   Assets:Checking  1868.26 USD\r\n;   Income:Dummy\r\n```\r\n\r\nBut then change the amount of the transaction in `repro.beancount`, and re-run `docker run -it -v \"${PWD}:/app\" -w /app --entrypoint /app/repro beancount` - the transactions will be emitted.","closed_by":{"login":"mtlynch","id":7783288,"node_id":"MDQ6VXNlcjc3ODMyODg=","avatar_url":"https://avatars.githubusercontent.com/u/7783288?v=4","gravatar_id":"","url":"https://api.github.com/users/mtlynch","html_url":"https://github.com/mtlynch","followers_url":"https://api.github.com/users/mtlynch/followers","following_url":"https://api.github.com/users/mtlynch/following{/other_user}","gists_url":"https://api.github.com/users/mtlynch/gists{/gist_id}","starred_url":"https://api.github.com/users/mtlynch/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mtlynch/subscriptions","organizations_url":"https://api.github.com/users/mtlynch/orgs","repos_url":"https://api.github.com/users/mtlynch/repos","events_url":"https://api.github.com/users/mtlynch/events{/privacy}","received_events_url":"https://api.github.com/users/mtlynch/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/beancount/beancount/issues/696/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beancount/issues/696/timeline","performed_via_github_app":null,"state_reason":"completed"},{"url":"https://api.github.com/repos/beancount/beancount/issues/695","repository_url":"https://api.github.com/repos/beancount/beancount","labels_url":"https://api.github.com/repos/beancount/beancount/issues/695/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beancount/issues/695/comments","events_url":"https://api.github.com/repos/beancount/beancount/issues/695/events","html_url":"https://github.com/beancount/beancount/issues/695","id":1108386414,"node_id":"I_kwDOD91Bd85CEKJu","number":695,"title":"[Bug]: `file.head` happed to break at half or a full byte","user":{"login":"trim21","id":13553903,"node_id":"MDQ6VXNlcjEzNTUzOTAz","avatar_url":"https://avatars.githubusercontent.com/u/13553903?v=4","gravatar_id":"","url":"https://api.github.com/users/trim21","html_url":"https://github.com/trim21","followers_url":"https://api.github.com/users/trim21/followers","following_url":"https://api.github.com/users/trim21/following{/other_user}","gists_url":"https://api.github.com/users/trim21/gists{/gist_id}","starred_url":"https://api.github.com/users/trim21/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/trim21/subscriptions","organizations_url":"https://api.github.com/users/trim21/orgs","repos_url":"https://api.github.com/users/trim21/repos","events_url":"https://api.github.com/users/trim21/events{/privacy}","received_events_url":"https://api.github.com/users/trim21/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":2,"created_at":"2022-01-19T17:46:28Z","updated_at":"2022-01-19T18:32:16Z","closed_at":"2022-01-19T18:32:16Z","author_association":"CONTRIBUTOR","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"`file.head` has ability to decode encoding automaticly\r\n```python\r\n    def head_reader(filename):\r\n        with open(filename, 'rb') as file:\r\n            rawdata = file.read(num_bytes)\r\n            file_encoding = encoding or chardet.detect(rawdata)['encoding']\r\n            return rawdata.decode(file_encoding)\r\n```\r\n\r\nBut I get a encoding error at cornercase:\r\n\r\n```text\r\nUnicodeDecodeError: 'gbk' codec can't decode byte 0xc3 in position 8191: incomplete multibyte sequence\r\n```\r\n\r\nA multibyte sequence is brak beacuse of `num_bytes=8192`\r\n","closed_by":{"login":"trim21","id":13553903,"node_id":"MDQ6VXNlcjEzNTUzOTAz","avatar_url":"https://avatars.githubusercontent.com/u/13553903?v=4","gravatar_id":"","url":"https://api.github.com/users/trim21","html_url":"https://github.com/trim21","followers_url":"https://api.github.com/users/trim21/followers","following_url":"https://api.github.com/users/trim21/following{/other_user}","gists_url":"https://api.github.com/users/trim21/gists{/gist_id}","starred_url":"https://api.github.com/users/trim21/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/trim21/subscriptions","organizations_url":"https://api.github.com/users/trim21/orgs","repos_url":"https://api.github.com/users/trim21/repos","events_url":"https://api.github.com/users/trim21/events{/privacy}","received_events_url":"https://api.github.com/users/trim21/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/beancount/beancount/issues/695/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beancount/issues/695/timeline","performed_via_github_app":null,"state_reason":"completed"},{"url":"https://api.github.com/repos/beancount/beancount/issues/694","repository_url":"https://api.github.com/repos/beancount/beancount","labels_url":"https://api.github.com/repos/beancount/beancount/issues/694/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beancount/issues/694/comments","events_url":"https://api.github.com/repos/beancount/beancount/issues/694/events","html_url":"https://github.com/beancount/beancount/pull/694","id":1105407839,"node_id":"PR_kwDOD91Bd84xIE00","number":694,"title":"Fix syntax errors on Windows due to missing ssize_t","user":{"login":"simonla","id":14934570,"node_id":"MDQ6VXNlcjE0OTM0NTcw","avatar_url":"https://avatars.githubusercontent.com/u/14934570?v=4","gravatar_id":"","url":"https://api.github.com/users/simonla","html_url":"https://github.com/simonla","followers_url":"https://api.github.com/users/simonla/followers","following_url":"https://api.github.com/users/simonla/following{/other_user}","gists_url":"https://api.github.com/users/simonla/gists{/gist_id}","starred_url":"https://api.github.com/users/simonla/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/simonla/subscriptions","organizations_url":"https://api.github.com/users/simonla/orgs","repos_url":"https://api.github.com/users/simonla/repos","events_url":"https://api.github.com/users/simonla/events{/privacy}","received_events_url":"https://api.github.com/users/simonla/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":2,"created_at":"2022-01-17T05:53:11Z","updated_at":"2022-02-15T08:23:11Z","closed_at":"2022-01-31T02:03:07Z","author_association":"NONE","type":null,"active_lock_reason":null,"draft":false,"pull_request":{"url":"https://api.github.com/repos/beancount/beancount/pulls/694","html_url":"https://github.com/beancount/beancount/pull/694","diff_url":"https://github.com/beancount/beancount/pull/694.diff","patch_url":"https://github.com/beancount/beancount/pull/694.patch","merged_at":"2022-01-31T02:03:07Z"},"body":"pick https://github.com/beancount/beancount/pull/679 for v2","closed_by":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/beancount/beancount/issues/694/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beancount/issues/694/timeline","performed_via_github_app":null,"state_reason":null},{"url":"https://api.github.com/repos/beancount/beancount/issues/693","repository_url":"https://api.github.com/repos/beancount/beancount","labels_url":"https://api.github.com/repos/beancount/beancount/issues/693/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beancount/issues/693/comments","events_url":"https://api.github.com/repos/beancount/beancount/issues/693/events","html_url":"https://github.com/beancount/beancount/issues/693","id":1103711518,"node_id":"I_kwDOD91Bd85ByU0e","number":693,"title":"Should `pad` sort before `balance` directives?","user":{"login":"dnicolodi","id":987145,"node_id":"MDQ6VXNlcjk4NzE0NQ==","avatar_url":"https://avatars.githubusercontent.com/u/987145?v=4","gravatar_id":"","url":"https://api.github.com/users/dnicolodi","html_url":"https://github.com/dnicolodi","followers_url":"https://api.github.com/users/dnicolodi/followers","following_url":"https://api.github.com/users/dnicolodi/following{/other_user}","gists_url":"https://api.github.com/users/dnicolodi/gists{/gist_id}","starred_url":"https://api.github.com/users/dnicolodi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dnicolodi/subscriptions","organizations_url":"https://api.github.com/users/dnicolodi/orgs","repos_url":"https://api.github.com/users/dnicolodi/repos","events_url":"https://api.github.com/users/dnicolodi/events{/privacy}","received_events_url":"https://api.github.com/users/dnicolodi/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"open","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":0,"created_at":"2022-01-14T14:26:55Z","updated_at":"2022-01-14T14:29:48Z","closed_at":null,"author_association":"COLLABORATOR","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"Currently, the following ledger is not valid:\r\n```\r\n1970-01-01 open Equity:Opening-Balances\r\n2022-01-01 open Assets:Foo\r\n\r\n2022-01-01 pad Assets:Foo Equity:Opening-Balances\r\n\r\n2022-01-01 balance Assets:Foo  1.00 USD\r\n```\r\nbecause the `pad` directive is sorted after the `balance` directive.\r\n\r\nTo make this work, the `pad` (and thus the `open` directive) needs to be dated on the previous day or the `balance` directive needs to be dated on the next day. The first solution has the drawback that when computing the account balance per year, the end balance for 2021 will be incorrect. The latter solution has the drawback that transactions on 2022-01-01 cannot be recorded with the right date, otherwise the balance would be the wrong one.\r\n\r\nI think sorting `pad` directives before `balance` directives is the most elegant solution. Namely, `SORT_ORDER` in https://github.com/beancount/beancount/blob/master/beancount/core/data.py#L623 should be redefined to be\r\n```python\r\nSORT_ORDER = {Open: -3, Pad: -2, Balance: -1, Document: 1, Close: 2}\r\n```\r\n\r\nThe obvious drawback to this change is that it would break ledgers where `pad` and `balance` directives are inserted on the same date and the current semantic is expected. I expect that this is extremely rare in practice, but the backward compatibility break makes this material for v3 only.","closed_by":null,"reactions":{"url":"https://api.github.com/repos/beancount/beancount/issues/693/reactions","total_count":7,"+1":7,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beancount/issues/693/timeline","performed_via_github_app":null,"state_reason":null},{"url":"https://api.github.com/repos/beancount/beancount/issues/692","repository_url":"https://api.github.com/repos/beancount/beancount","labels_url":"https://api.github.com/repos/beancount/beancount/issues/692/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beancount/issues/692/comments","events_url":"https://api.github.com/repos/beancount/beancount/issues/692/events","html_url":"https://github.com/beancount/beancount/pull/692","id":1097255497,"node_id":"PR_kwDOD91Bd84ws6BD","number":692,"title":"bean-query: decimal(str, [int]) - convert str to decimal, round(decimal, int)","user":{"login":"mbafford","id":713813,"node_id":"MDQ6VXNlcjcxMzgxMw==","avatar_url":"https://avatars.githubusercontent.com/u/713813?v=4","gravatar_id":"","url":"https://api.github.com/users/mbafford","html_url":"https://github.com/mbafford","followers_url":"https://api.github.com/users/mbafford/followers","following_url":"https://api.github.com/users/mbafford/following{/other_user}","gists_url":"https://api.github.com/users/mbafford/gists{/gist_id}","starred_url":"https://api.github.com/users/mbafford/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mbafford/subscriptions","organizations_url":"https://api.github.com/users/mbafford/orgs","repos_url":"https://api.github.com/users/mbafford/repos","events_url":"https://api.github.com/users/mbafford/events{/privacy}","received_events_url":"https://api.github.com/users/mbafford/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":2,"created_at":"2022-01-09T17:33:18Z","updated_at":"2022-01-10T01:41:19Z","closed_at":"2022-01-10T01:41:19Z","author_association":"NONE","type":null,"active_lock_reason":null,"draft":false,"pull_request":{"url":"https://api.github.com/repos/beancount/beancount/pulls/692","html_url":"https://github.com/beancount/beancount/pull/692","diff_url":"https://github.com/beancount/beancount/pull/692.diff","patch_url":"https://github.com/beancount/beancount/pull/692.patch","merged_at":null},"body":"**Summary**\r\n\r\nAdds `decimal(<str>)`, `decimal(<str>, <Decimal>)` and `round(<Decimal>, <int>)` functions to bean-query.\r\n\r\nMerges fine into HEAD and seems to run fine on v3, but I'm not as confident on how to test v3, or the roadmap for bean-query for v3, or if it makes sense to extend bean-query for v3 in this manner.\r\n\r\n----\r\n**Background:**\r\n\r\nPortfolio balance check-in time - I set up my commodities as follows, and wanted to get a quick summary of US/non-US, stocks/bonds exposure.\r\n\r\n```\r\n2016-11-19 commodity INDX\r\n    pcnt_stocks_us: 0.60\r\n    pcnt_stocks_int: 0.40\r\n```\r\n\r\nThis is *almost* usable out of the box, but `getitem(commodity_meta(<commodity>), <key>)` returns a `str`, so I can't multiply out the values. I worked around this by creating many rows with `group by` and then using Google Sheets to do the final calculations, but with these two functions a nice report portfolio allocation report can easily be done just with bean-query.\r\n\r\nWith these two functions, I can instead write a query like:\r\n\r\n```\r\nselect\r\n    sum(convert(position, 'USD')) as total_value,\r\n    round(safediv(\r\n        sum(getprice(commodity(units(position)), 'USD') * decimal(getitem(commodity_meta(commodity(units(position))), 'pcnt_stocks_us'), 0.0) * number(units(position))),\r\n        sum(getprice(commodity(units(position)), 'USD') * number(units(position)))\r\n    )*100.0, 2) as pcnt_value_us_stocks\r\n    where account ~ 'Assets:Retirement' and commodity(units(position)) != 'USD'\r\n```\r\n\r\n----\r\n\r\n**More Functions?**\r\n\r\nAs an aside, there are some convenience functions I can see adding, like `commodity_meta(<commodity>, <key>)` to simplify `getitem(commodity_meta(<commodity>), <key>)` , and I'd really love to be able to just do `commodity_meta(<position>, <key>)`.  If PRs for more Python-based functions for bean-query make sense for the v3 roadmap, what's the best way to handle proposing these convenience functions? PR with implementation, GitHub issue, Google Groups email?","closed_by":{"login":"mbafford","id":713813,"node_id":"MDQ6VXNlcjcxMzgxMw==","avatar_url":"https://avatars.githubusercontent.com/u/713813?v=4","gravatar_id":"","url":"https://api.github.com/users/mbafford","html_url":"https://github.com/mbafford","followers_url":"https://api.github.com/users/mbafford/followers","following_url":"https://api.github.com/users/mbafford/following{/other_user}","gists_url":"https://api.github.com/users/mbafford/gists{/gist_id}","starred_url":"https://api.github.com/users/mbafford/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mbafford/subscriptions","organizations_url":"https://api.github.com/users/mbafford/orgs","repos_url":"https://api.github.com/users/mbafford/repos","events_url":"https://api.github.com/users/mbafford/events{/privacy}","received_events_url":"https://api.github.com/users/mbafford/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/beancount/beancount/issues/692/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beancount/issues/692/timeline","performed_via_github_app":null,"state_reason":null},{"url":"https://api.github.com/repos/beancount/beancount/issues/691","repository_url":"https://api.github.com/repos/beancount/beancount","labels_url":"https://api.github.com/repos/beancount/beancount/issues/691/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beancount/issues/691/comments","events_url":"https://api.github.com/repos/beancount/beancount/issues/691/events","html_url":"https://github.com/beancount/beancount/issues/691","id":1092946719,"node_id":"I_kwDOD91Bd85BJQsf","number":691,"title":"tag in multiple file?","user":{"login":"cnut1648","id":37067883,"node_id":"MDQ6VXNlcjM3MDY3ODgz","avatar_url":"https://avatars.githubusercontent.com/u/37067883?v=4","gravatar_id":"","url":"https://api.github.com/users/cnut1648","html_url":"https://github.com/cnut1648","followers_url":"https://api.github.com/users/cnut1648/followers","following_url":"https://api.github.com/users/cnut1648/following{/other_user}","gists_url":"https://api.github.com/users/cnut1648/gists{/gist_id}","starred_url":"https://api.github.com/users/cnut1648/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cnut1648/subscriptions","organizations_url":"https://api.github.com/users/cnut1648/orgs","repos_url":"https://api.github.com/users/cnut1648/repos","events_url":"https://api.github.com/users/cnut1648/events{/privacy}","received_events_url":"https://api.github.com/users/cnut1648/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"open","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":1,"created_at":"2022-01-04T02:01:53Z","updated_at":"2022-01-14T14:14:17Z","closed_at":null,"author_association":"NONE","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"Hi, my workflow is to have 1 `.bean` file for each year, for example I would have `2021.bean` and `2022.bean`.\r\n\r\nAnd in the `2021.bean` I have pushed a tag `pushtag #2021-Winter-Beak`, and would like to pop the tag in `2022.bean`. However it seems that beancount doesn't recognize this tag across multiple file. And I had the warning as below \r\n```\r\nUnbalanced pushed tag: '2021-Winter-Break'\r\nAttempting to pop absent tag: '2021-Winter-Break'\r\n```\r\n\r\nI am wondering what is the best workaround for this issue? Thanks!","closed_by":null,"reactions":{"url":"https://api.github.com/repos/beancount/beancount/issues/691/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beancount/issues/691/timeline","performed_via_github_app":null,"state_reason":null},{"url":"https://api.github.com/repos/beancount/beancount/issues/690","repository_url":"https://api.github.com/repos/beancount/beancount","labels_url":"https://api.github.com/repos/beancount/beancount/issues/690/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beancount/issues/690/comments","events_url":"https://api.github.com/repos/beancount/beancount/issues/690/events","html_url":"https://github.com/beancount/beancount/issues/690","id":1089085464,"node_id":"I_kwDOD91Bd85A6iAY","number":690,"title":"Feed existing entries to importer in regression tests","user":{"login":"manuelprinz","id":8405042,"node_id":"MDQ6VXNlcjg0MDUwNDI=","avatar_url":"https://avatars.githubusercontent.com/u/8405042?v=4","gravatar_id":"","url":"https://api.github.com/users/manuelprinz","html_url":"https://github.com/manuelprinz","followers_url":"https://api.github.com/users/manuelprinz/followers","following_url":"https://api.github.com/users/manuelprinz/following{/other_user}","gists_url":"https://api.github.com/users/manuelprinz/gists{/gist_id}","starred_url":"https://api.github.com/users/manuelprinz/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/manuelprinz/subscriptions","organizations_url":"https://api.github.com/users/manuelprinz/orgs","repos_url":"https://api.github.com/users/manuelprinz/repos","events_url":"https://api.github.com/users/manuelprinz/events{/privacy}","received_events_url":"https://api.github.com/users/manuelprinz/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"open","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":1,"created_at":"2021-12-27T09:03:15Z","updated_at":"2022-01-14T14:16:53Z","closed_at":null,"author_association":"NONE","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"Im relatively new to Beancount and have started to use regression testing for my beancount importers lately. I like this feature very much! I was wondering if it is possible to pass existing entries to the test to test? (My understanding from https://github.com/beancount/beancount/blob/0003608ebf635a5fb6bad9b6d1886220d23ab0ff/beancount/ingest/regression_pytest.py#L127 is that it is not.) It would be really nice to be able to feed entries in from a `.existing_entries` file (if present) in order to also verify the logic on exsting entries.\r\n\r\nI am not particularly great with Python, but I could give it a go if this is a wanted addition.\r\n\r\nThank you all for developing Beancount! It is really great!\r\n","closed_by":null,"reactions":{"url":"https://api.github.com/repos/beancount/beancount/issues/690/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beancount/issues/690/timeline","performed_via_github_app":null,"state_reason":null},{"url":"https://api.github.com/repos/beancount/beancount/issues/689","repository_url":"https://api.github.com/repos/beancount/beancount","labels_url":"https://api.github.com/repos/beancount/beancount/issues/689/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beancount/issues/689/comments","events_url":"https://api.github.com/repos/beancount/beancount/issues/689/events","html_url":"https://github.com/beancount/beancount/issues/689","id":1081117931,"node_id":"I_kwDOD91Bd85AcIzr","number":689,"title":"bean-format: accept multiple files at once","user":{"login":"blaggacao","id":7548295,"node_id":"MDQ6VXNlcjc1NDgyOTU=","avatar_url":"https://avatars.githubusercontent.com/u/7548295?v=4","gravatar_id":"","url":"https://api.github.com/users/blaggacao","html_url":"https://github.com/blaggacao","followers_url":"https://api.github.com/users/blaggacao/followers","following_url":"https://api.github.com/users/blaggacao/following{/other_user}","gists_url":"https://api.github.com/users/blaggacao/gists{/gist_id}","starred_url":"https://api.github.com/users/blaggacao/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blaggacao/subscriptions","organizations_url":"https://api.github.com/users/blaggacao/orgs","repos_url":"https://api.github.com/users/blaggacao/repos","events_url":"https://api.github.com/users/blaggacao/events{/privacy}","received_events_url":"https://api.github.com/users/blaggacao/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":3,"created_at":"2021-12-15T14:38:09Z","updated_at":"2021-12-16T22:22:47Z","closed_at":"2021-12-15T21:52:32Z","author_association":"NONE","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"According to nascent https://github.com/numtide/treefmt/blob/master/docs/formatters-spec.md, formatters should accept `[...<files>]`.\r\n\r\nSee also: https://github.com/numtide/treefmt/issues/77#issuecomment-994823444\r\n\r\n^^ I know it is bold to postulate that spec as authoritative. I thought, it's worth trying, though, since the big majority of formatters already \"complied\" ex ante.","closed_by":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/beancount/beancount/issues/689/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beancount/issues/689/timeline","performed_via_github_app":null,"state_reason":"completed"},{"url":"https://api.github.com/repos/beancount/beancount/issues/688","repository_url":"https://api.github.com/repos/beancount/beancount","labels_url":"https://api.github.com/repos/beancount/beancount/issues/688/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beancount/issues/688/comments","events_url":"https://api.github.com/repos/beancount/beancount/issues/688/events","html_url":"https://github.com/beancount/beancount/pull/688","id":1080532189,"node_id":"PR_kwDOD91Bd84v3TDd","number":688,"title":"Enable addition and subtraction on two Amounts.","user":{"login":"IguanaBen","id":8941130,"node_id":"MDQ6VXNlcjg5NDExMzA=","avatar_url":"https://avatars.githubusercontent.com/u/8941130?v=4","gravatar_id":"","url":"https://api.github.com/users/IguanaBen","html_url":"https://github.com/IguanaBen","followers_url":"https://api.github.com/users/IguanaBen/followers","following_url":"https://api.github.com/users/IguanaBen/following{/other_user}","gists_url":"https://api.github.com/users/IguanaBen/gists{/gist_id}","starred_url":"https://api.github.com/users/IguanaBen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/IguanaBen/subscriptions","organizations_url":"https://api.github.com/users/IguanaBen/orgs","repos_url":"https://api.github.com/users/IguanaBen/repos","events_url":"https://api.github.com/users/IguanaBen/events{/privacy}","received_events_url":"https://api.github.com/users/IguanaBen/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":7,"created_at":"2021-12-15T03:50:53Z","updated_at":"2022-04-10T13:50:32Z","closed_at":"2022-04-10T13:50:32Z","author_association":"NONE","type":null,"active_lock_reason":null,"draft":false,"pull_request":{"url":"https://api.github.com/repos/beancount/beancount/pulls/688","html_url":"https://github.com/beancount/beancount/pull/688","diff_url":"https://github.com/beancount/beancount/pull/688.diff","patch_url":"https://github.com/beancount/beancount/pull/688.patch","merged_at":null},"body":"I would like to be able to do addition and subtraction of Amounts in the bql language. This code lets python know how to add and subtract Amounts using add/sub functions that already exist but weren't linked to the class. EvalAdd and EvalSub no longer force the output to be Decimal as they can now be Amounts (or maybe Positions as well in the future).  To test, I added a EvalAmount to create an Amount similar to how EvalConstant is defined. ","closed_by":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/beancount/beancount/issues/688/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beancount/issues/688/timeline","performed_via_github_app":null,"state_reason":null},{"url":"https://api.github.com/repos/beancount/beancount/issues/687","repository_url":"https://api.github.com/repos/beancount/beancount","labels_url":"https://api.github.com/repos/beancount/beancount/issues/687/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beancount/issues/687/comments","events_url":"https://api.github.com/repos/beancount/beancount/issues/687/events","html_url":"https://github.com/beancount/beancount/pull/687","id":1063058148,"node_id":"PR_kwDOD91Bd84u_lCW","number":687,"title":"Make parse_file retain original file order","user":{"login":"josephw","id":71541,"node_id":"MDQ6VXNlcjcxNTQx","avatar_url":"https://avatars.githubusercontent.com/u/71541?v=4","gravatar_id":"","url":"https://api.github.com/users/josephw","html_url":"https://github.com/josephw","followers_url":"https://api.github.com/users/josephw/followers","following_url":"https://api.github.com/users/josephw/following{/other_user}","gists_url":"https://api.github.com/users/josephw/gists{/gist_id}","starred_url":"https://api.github.com/users/josephw/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/josephw/subscriptions","organizations_url":"https://api.github.com/users/josephw/orgs","repos_url":"https://api.github.com/users/josephw/repos","events_url":"https://api.github.com/users/josephw/events{/privacy}","received_events_url":"https://api.github.com/users/josephw/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"open","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":2,"created_at":"2021-11-25T01:12:06Z","updated_at":"2025-05-23T21:22:45Z","closed_at":null,"author_association":"CONTRIBUTOR","type":null,"active_lock_reason":null,"draft":false,"pull_request":{"url":"https://api.github.com/repos/beancount/beancount/pulls/687","html_url":"https://github.com/beancount/beancount/pull/687","diff_url":"https://github.com/beancount/beancount/pull/687.diff","patch_url":"https://github.com/beancount/beancount/pull/687.patch","merged_at":null},"body":"The discussion in #649 suggests that there's no specific reason for sorting directly after parsing. Looking at the code, it appears to be a relatively surface-level decision to sort the results. This PR adds a small test for ordering, and removes the sorting from `get_entries`.\r\n\r\nThe original discussion [says](https://github.com/beancount/beancount/issues/649#issuecomment-825893407):\r\n> A deep code inspection would be required through.\r\n\r\nWhile this change doesn't cause any tests to fail, I'm unclear on whether there are other subtleties here that I've missed.\r\n\r\nresolves #649","closed_by":null,"reactions":{"url":"https://api.github.com/repos/beancount/beancount/issues/687/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beancount/issues/687/timeline","performed_via_github_app":null,"state_reason":null},{"url":"https://api.github.com/repos/beancount/beancount/issues/686","repository_url":"https://api.github.com/repos/beancount/beancount","labels_url":"https://api.github.com/repos/beancount/beancount/issues/686/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beancount/issues/686/comments","events_url":"https://api.github.com/repos/beancount/beancount/issues/686/events","html_url":"https://github.com/beancount/beancount/issues/686","id":1058928210,"node_id":"I_kwDOD91Bd84_HfZS","number":686,"title":"Bug: Flags on individual legs of a transaction are not honored by queries","user":{"login":"ranjeethmahankali","id":14364474,"node_id":"MDQ6VXNlcjE0MzY0NDc0","avatar_url":"https://avatars.githubusercontent.com/u/14364474?v=4","gravatar_id":"","url":"https://api.github.com/users/ranjeethmahankali","html_url":"https://github.com/ranjeethmahankali","followers_url":"https://api.github.com/users/ranjeethmahankali/followers","following_url":"https://api.github.com/users/ranjeethmahankali/following{/other_user}","gists_url":"https://api.github.com/users/ranjeethmahankali/gists{/gist_id}","starred_url":"https://api.github.com/users/ranjeethmahankali/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ranjeethmahankali/subscriptions","organizations_url":"https://api.github.com/users/ranjeethmahankali/orgs","repos_url":"https://api.github.com/users/ranjeethmahankali/repos","events_url":"https://api.github.com/users/ranjeethmahankali/events{/privacy}","received_events_url":"https://api.github.com/users/ranjeethmahankali/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":2,"created_at":"2021-11-19T21:24:14Z","updated_at":"2021-12-22T12:01:58Z","closed_at":"2021-12-22T12:01:58Z","author_association":"NONE","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"While I use `bean-query`, I realized that postings inherit the flag from the parent transaction, and the flags set on postings are ignored.\r\nBelow is a minimal repro:\r\nThe input file:\r\n```\r\n; tempfile.beancount\r\n2021-11-19 open Assets:Checking\r\n  \r\n2021-11-19 open Expenses:Food\r\n\r\n2021-11-19 * \"Parent cleared\"\r\n  Expenses:Food                                   10 EUR\r\n  Assets:Checking                                -10 EUR\r\n\r\n2021-11-19 ! \"Parent not cleared\"\r\n  Expenses:Food                                   11 EUR\r\n  Assets:Checking                                -11 EUR\r\n\r\n2021-11-19 * \"Parent cleared but leg not cleared\"\r\n  Expenses:Food                                   12 EUR\r\n  ! Assets:Checking                                -12 EUR\r\n```\r\nQuery:\r\n```\r\nbean-query tempfile.beancount \"select account, position, narration, flag where account ~ 'Checking'\"\r\n```\r\nOutput:\r\n```\r\n    account     positio             narration              f\r\n--------------- ------- ---------------------------------- -\r\nAssets:Checking -10 EUR Parent cleared                     *\r\nAssets:Checking -11 EUR Parent not cleared                 !\r\nAssets:Checking -12 EUR Parent cleared but leg not cleared *\r\n```\r\nCorrect me if I am wrong, but shouldn't the last row's flag be `!` instead of `*`?","closed_by":{"login":"ranjeethmahankali","id":14364474,"node_id":"MDQ6VXNlcjE0MzY0NDc0","avatar_url":"https://avatars.githubusercontent.com/u/14364474?v=4","gravatar_id":"","url":"https://api.github.com/users/ranjeethmahankali","html_url":"https://github.com/ranjeethmahankali","followers_url":"https://api.github.com/users/ranjeethmahankali/followers","following_url":"https://api.github.com/users/ranjeethmahankali/following{/other_user}","gists_url":"https://api.github.com/users/ranjeethmahankali/gists{/gist_id}","starred_url":"https://api.github.com/users/ranjeethmahankali/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ranjeethmahankali/subscriptions","organizations_url":"https://api.github.com/users/ranjeethmahankali/orgs","repos_url":"https://api.github.com/users/ranjeethmahankali/repos","events_url":"https://api.github.com/users/ranjeethmahankali/events{/privacy}","received_events_url":"https://api.github.com/users/ranjeethmahankali/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/beancount/beancount/issues/686/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beancount/issues/686/timeline","performed_via_github_app":null,"state_reason":"completed"},{"url":"https://api.github.com/repos/beancount/beancount/issues/685","repository_url":"https://api.github.com/repos/beancount/beancount","labels_url":"https://api.github.com/repos/beancount/beancount/issues/685/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beancount/issues/685/comments","events_url":"https://api.github.com/repos/beancount/beancount/issues/685/events","html_url":"https://github.com/beancount/beancount/pull/685","id":1049360185,"node_id":"PR_kwDOD91Bd84uUwuV","number":685,"title":"Fix transaction alignment in parser (ValueError: '=' alignment not allowed in string format specifier)","user":{"login":"ArthurFDLR","id":41486077,"node_id":"MDQ6VXNlcjQxNDg2MDc3","avatar_url":"https://avatars.githubusercontent.com/u/41486077?v=4","gravatar_id":"","url":"https://api.github.com/users/ArthurFDLR","html_url":"https://github.com/ArthurFDLR","followers_url":"https://api.github.com/users/ArthurFDLR/followers","following_url":"https://api.github.com/users/ArthurFDLR/following{/other_user}","gists_url":"https://api.github.com/users/ArthurFDLR/gists{/gist_id}","starred_url":"https://api.github.com/users/ArthurFDLR/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ArthurFDLR/subscriptions","organizations_url":"https://api.github.com/users/ArthurFDLR/orgs","repos_url":"https://api.github.com/users/ArthurFDLR/repos","events_url":"https://api.github.com/users/ArthurFDLR/events{/privacy}","received_events_url":"https://api.github.com/users/ArthurFDLR/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":4,"created_at":"2021-11-10T03:23:26Z","updated_at":"2022-05-15T01:45:35Z","closed_at":"2022-05-15T01:45:35Z","author_association":"NONE","type":null,"active_lock_reason":null,"draft":false,"pull_request":{"url":"https://api.github.com/repos/beancount/beancount/pulls/685","html_url":"https://github.com/beancount/beancount/pull/685","diff_url":"https://github.com/beancount/beancount/pull/685.diff","patch_url":"https://github.com/beancount/beancount/pull/685.patch","merged_at":null},"body":"I encounter the following error using the ```context``` command of bean-doctor:\r\n```\r\n[...]\r\n  File \"[...]\\venv\\lib\\site-packages\\beancount\\parser\\printer.py\", line 210, in Transaction\r\n    oss.write(fmt(account,\r\nValueError: '=' alignment not allowed in string format specifier\r\n```\r\nI did not manage to locate the precise source of the error but adding [left justifier specifiers](https://docs.python.org/3/library/string.html#formatspec) ```<``` to the formatter string seems to solve the issue.","closed_by":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/beancount/beancount/issues/685/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beancount/issues/685/timeline","performed_via_github_app":null,"state_reason":null},{"url":"https://api.github.com/repos/beancount/beancount/issues/684","repository_url":"https://api.github.com/repos/beancount/beancount","labels_url":"https://api.github.com/repos/beancount/beancount/issues/684/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beancount/issues/684/comments","events_url":"https://api.github.com/repos/beancount/beancount/issues/684/events","html_url":"https://github.com/beancount/beancount/pull/684","id":1038868596,"node_id":"PR_kwDOD91Bd84t0LO7","number":684,"title":"perf: Don't do many copies without need","user":{"login":"mikebryant","id":1478103,"node_id":"MDQ6VXNlcjE0NzgxMDM=","avatar_url":"https://avatars.githubusercontent.com/u/1478103?v=4","gravatar_id":"","url":"https://api.github.com/users/mikebryant","html_url":"https://github.com/mikebryant","followers_url":"https://api.github.com/users/mikebryant/followers","following_url":"https://api.github.com/users/mikebryant/following{/other_user}","gists_url":"https://api.github.com/users/mikebryant/gists{/gist_id}","starred_url":"https://api.github.com/users/mikebryant/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mikebryant/subscriptions","organizations_url":"https://api.github.com/users/mikebryant/orgs","repos_url":"https://api.github.com/users/mikebryant/repos","events_url":"https://api.github.com/users/mikebryant/events{/privacy}","received_events_url":"https://api.github.com/users/mikebryant/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":0,"created_at":"2021-10-28T19:12:50Z","updated_at":"2021-10-29T01:09:49Z","closed_at":"2021-10-29T01:09:49Z","author_association":"CONTRIBUTOR","type":null,"active_lock_reason":null,"draft":false,"pull_request":{"url":"https://api.github.com/repos/beancount/beancount/pulls/684","html_url":"https://github.com/beancount/beancount/pull/684","diff_url":"https://github.com/beancount/beancount/pull/684.diff","patch_url":"https://github.com/beancount/beancount/pull/684.patch","merged_at":"2021-10-29T01:09:49Z"},"body":"I have a single account with 5000+ different commodities (MTG collection)\r\nThis copy makes my `bean-check` take 92s\r\n\r\nWith this change it now takes 38.5s (going from 87545 copies to 59130)\r\n\r\nBefore: \r\n![before](https://user-images.githubusercontent.com/1478103/139320893-ea417795-bf9d-4d74-90dd-89274a18da30.png)\r\nAfter:\r\n![after](https://user-images.githubusercontent.com/1478103/139320891-2d55029b-36b5-4a71-8129-e22b9a59625c.png)\r\n","closed_by":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/beancount/beancount/issues/684/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beancount/issues/684/timeline","performed_via_github_app":null,"state_reason":null},{"url":"https://api.github.com/repos/beancount/beancount/issues/683","repository_url":"https://api.github.com/repos/beancount/beancount","labels_url":"https://api.github.com/repos/beancount/beancount/issues/683/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beancount/issues/683/comments","events_url":"https://api.github.com/repos/beancount/beancount/issues/683/events","html_url":"https://github.com/beancount/beancount/issues/683","id":1037387748,"node_id":"I_kwDOD91Bd8491Ufk","number":683,"title":"Compilation error when building v3","user":{"login":"mbkamble","id":6557925,"node_id":"MDQ6VXNlcjY1NTc5MjU=","avatar_url":"https://avatars.githubusercontent.com/u/6557925?v=4","gravatar_id":"","url":"https://api.github.com/users/mbkamble","html_url":"https://github.com/mbkamble","followers_url":"https://api.github.com/users/mbkamble/followers","following_url":"https://api.github.com/users/mbkamble/following{/other_user}","gists_url":"https://api.github.com/users/mbkamble/gists{/gist_id}","starred_url":"https://api.github.com/users/mbkamble/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mbkamble/subscriptions","organizations_url":"https://api.github.com/users/mbkamble/orgs","repos_url":"https://api.github.com/users/mbkamble/repos","events_url":"https://api.github.com/users/mbkamble/events{/privacy}","received_events_url":"https://api.github.com/users/mbkamble/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":3,"created_at":"2021-10-27T12:54:56Z","updated_at":"2021-11-08T16:20:23Z","closed_at":"2021-11-08T12:47:48Z","author_association":"NONE","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"This is my first attempt at building beancount v3. So the entirebuild flow, bazel etc. is completely new to me. Following the instructions in the Installing Beancount (v3) googledoc, I installed the latest version fo bazel (version 6.0.0-pre.20211019.1) and ran the build command on the default branch\r\nThe build fails with an error while compiling `gnulib/lib/c-stack.c`\r\n\r\nUpon searching, it seems I am hitting this issue:  https://lists.gnu.org/archive/html/bug-m4/2021-03/msg00000.html\r\nElse where I also got a clue that it is clashing with the define in `/usr/include/bits/sigstksz.h`\r\n```\r\n26:/* Default stack size for a signal handler: sysconf (SC_SIGSTKSZ).  */\r\n27:# undef SIGSTKSZ\r\n28:# define SIGSTKSZ sysconf (_SC_SIGSTKSZ)\r\n```\r\n\r\nBut I have no clue how to resolve this. My linux distro is ClearLinux.\r\n\r\n```\r\nsh> bazel build //bin:all\r\nINFO: Analyzed 14 targets (0 packages loaded, 0 targets configured).\r\nINFO: Found 14 targets...\r\nINFO: From CcConfigureMakeRule external/mpdecimal/mpdecimal/include:\r\n\r\nINFO: From CcConfigureMakeRule third_party/parser/reflex/include:\r\n\r\nERROR: /home/mbkamble/.cache/bazel/_bazel_mbkamble/e2971710160b36005629c2cbd7fcfdca/external/m4_v1.4.18/gnulib/BUILD.bazel:192:11: Compiling gnulib/lib/c-stack.c [for host] failed: (Exit 1): cc failed: error executing command /usr/bin/cc -U_FORTIFY_SOURCE -fstack-protector -Wall -Wunused-but-set-parameter -Wno-free-nonheap-object -fno-omit-frame-pointer -g0 -O2 '-D_FORTIFY_SOURCE=1' -DNDEBUG -ffunction-sections ... (remaining 25 arguments skipped)\r\n\r\nUse --sandbox_debug to see verbose messages from the sandbox\r\nIn file included from /usr/include/signal.h:328,\r\n                 from external/m4_v1.4.18/gnulib/lib/c-stack.c:49:\r\nexternal/m4_v1.4.18/gnulib/lib/c-stack.c:55:26: error: missing binary operator before token \"(\"\r\n   55 | #elif HAVE_LIBSIGSEGV && SIGSTKSZ < 16384\r\n      |                          ^~~~~~~~\r\nexternal/m4_v1.4.18/gnulib/lib/c-stack.c:139:8: error: variably modified 'buffer' at file scope\r\n  139 |   char buffer[SIGSTKSZ];\r\n      |        ^~~~~~\r\nERROR: /home/mbkamble/opensource/beancount/beancount/cparser/BUILD:36:11 Middleman _middlemen/_S_Sbeancount_Scparser_Cparser_Uheaders-BazelCppSemantics_build_arch_k8-fastbuild failed: (Exit 1): cc failed: error executing command /usr/bin/cc -U_FORTIFY_SOURCE -fstack-protector -Wall -Wunused-but-set-parameter -Wno-free-nonheap-object -fno-omit-frame-pointer -g0 -O2 '-D_FORTIFY_SOURCE=1' -DNDEBUG -ffunction-sections ... (remaining 25 arguments skipped)\r\n\r\nUse --sandbox_debug to see verbose messages from the sandbox\r\nINFO: Elapsed time: 166.782s, Critical Path: 61.16s\r\nINFO: 177 processes: 6 internal, 171 linux-sandbox.\r\nFAILED: Build did NOT complete successfully\r\n```","closed_by":{"login":"mbkamble","id":6557925,"node_id":"MDQ6VXNlcjY1NTc5MjU=","avatar_url":"https://avatars.githubusercontent.com/u/6557925?v=4","gravatar_id":"","url":"https://api.github.com/users/mbkamble","html_url":"https://github.com/mbkamble","followers_url":"https://api.github.com/users/mbkamble/followers","following_url":"https://api.github.com/users/mbkamble/following{/other_user}","gists_url":"https://api.github.com/users/mbkamble/gists{/gist_id}","starred_url":"https://api.github.com/users/mbkamble/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mbkamble/subscriptions","organizations_url":"https://api.github.com/users/mbkamble/orgs","repos_url":"https://api.github.com/users/mbkamble/repos","events_url":"https://api.github.com/users/mbkamble/events{/privacy}","received_events_url":"https://api.github.com/users/mbkamble/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/beancount/beancount/issues/683/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beancount/issues/683/timeline","performed_via_github_app":null,"state_reason":"completed"},{"url":"https://api.github.com/repos/beancount/beancount/issues/682","repository_url":"https://api.github.com/repos/beancount/beancount","labels_url":"https://api.github.com/repos/beancount/beancount/issues/682/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beancount/issues/682/comments","events_url":"https://api.github.com/repos/beancount/beancount/issues/682/events","html_url":"https://github.com/beancount/beancount/issues/682","id":1033567228,"node_id":"I_kwDOD91Bd849mvv8","number":682,"title":"Idea: SHA1 hash for linking transactions","user":{"login":"nils-werner","id":88704,"node_id":"MDQ6VXNlcjg4NzA0","avatar_url":"https://avatars.githubusercontent.com/u/88704?v=4","gravatar_id":"","url":"https://api.github.com/users/nils-werner","html_url":"https://github.com/nils-werner","followers_url":"https://api.github.com/users/nils-werner/followers","following_url":"https://api.github.com/users/nils-werner/following{/other_user}","gists_url":"https://api.github.com/users/nils-werner/gists{/gist_id}","starred_url":"https://api.github.com/users/nils-werner/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nils-werner/subscriptions","organizations_url":"https://api.github.com/users/nils-werner/orgs","repos_url":"https://api.github.com/users/nils-werner/repos","events_url":"https://api.github.com/users/nils-werner/events{/privacy}","received_events_url":"https://api.github.com/users/nils-werner/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":3,"created_at":"2021-10-22T13:11:09Z","updated_at":"2021-11-24T15:52:33Z","closed_at":"2021-11-24T15:52:33Z","author_association":"NONE","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"I just came across a situation in which I would like to add an \"unimportant link\" between two transactions. Unimportant means I would like to link them, but don't necessarily want to create a `^handle` for them.\r\n\r\n```\r\n2021-10-13 * \"Coffee\"\r\n  Assets:Creditcard                           -53.80 EUR\r\n  Expenses:Food:Coffee\r\n\r\n2021-10-13 * \"Coffee Reimbursement\"\r\n  Assets:AccountsReceivable                   -53.80 EUR\r\n  Expenses:Food:Coffee\r\n```\r\n\r\nThis made me think that maybe it would be nice if beancount could create transaction link handles from the SHA1 sum of some key values of the transaction, i.e.\r\n\r\n```\r\nSHA256(\"2021-10-13 Coffee\") = ffbebdc01b5df28551aba6532bb2a22eb53133e225e3eca22693450275e8ae0e\r\n```\r\n\r\nSo that I can link them using the truncated hash\r\n\r\n```\r\n2021-10-13 * \"Coffee\"\r\n  Assets:Creditcard                           -53.80 EUR\r\n  Expenses:Food:Coffee\r\n\r\n2021-10-13 * \"Coffee Reimbursement\" ^ffbebdc\r\n  Assets:AccountsReceivable                   -53.80 EUR\r\n  Expenses:Food:Coffee\r\n```\r\n\r\nI haven't thought about the UI, e.g. where you would get the hash of the transaction in question. But disregarding that, could this be an interesting idea?","closed_by":{"login":"nils-werner","id":88704,"node_id":"MDQ6VXNlcjg4NzA0","avatar_url":"https://avatars.githubusercontent.com/u/88704?v=4","gravatar_id":"","url":"https://api.github.com/users/nils-werner","html_url":"https://github.com/nils-werner","followers_url":"https://api.github.com/users/nils-werner/followers","following_url":"https://api.github.com/users/nils-werner/following{/other_user}","gists_url":"https://api.github.com/users/nils-werner/gists{/gist_id}","starred_url":"https://api.github.com/users/nils-werner/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nils-werner/subscriptions","organizations_url":"https://api.github.com/users/nils-werner/orgs","repos_url":"https://api.github.com/users/nils-werner/repos","events_url":"https://api.github.com/users/nils-werner/events{/privacy}","received_events_url":"https://api.github.com/users/nils-werner/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/beancount/beancount/issues/682/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beancount/issues/682/timeline","performed_via_github_app":null,"state_reason":"completed"},{"url":"https://api.github.com/repos/beancount/beancount/issues/681","repository_url":"https://api.github.com/repos/beancount/beancount","labels_url":"https://api.github.com/repos/beancount/beancount/issues/681/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beancount/issues/681/comments","events_url":"https://api.github.com/repos/beancount/beancount/issues/681/events","html_url":"https://github.com/beancount/beancount/pull/681","id":1028277579,"node_id":"PR_kwDOD91Bd84tSbsM","number":681,"title":"tests: Fix random test failures in core/number_test.py","user":{"login":"dnicolodi","id":987145,"node_id":"MDQ6VXNlcjk4NzE0NQ==","avatar_url":"https://avatars.githubusercontent.com/u/987145?v=4","gravatar_id":"","url":"https://api.github.com/users/dnicolodi","html_url":"https://github.com/dnicolodi","followers_url":"https://api.github.com/users/dnicolodi/followers","following_url":"https://api.github.com/users/dnicolodi/following{/other_user}","gists_url":"https://api.github.com/users/dnicolodi/gists{/gist_id}","starred_url":"https://api.github.com/users/dnicolodi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dnicolodi/subscriptions","organizations_url":"https://api.github.com/users/dnicolodi/orgs","repos_url":"https://api.github.com/users/dnicolodi/repos","events_url":"https://api.github.com/users/dnicolodi/events{/privacy}","received_events_url":"https://api.github.com/users/dnicolodi/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":1,"created_at":"2021-10-17T10:11:21Z","updated_at":"2021-10-17T20:12:27Z","closed_at":"2021-10-17T20:12:21Z","author_association":"COLLABORATOR","type":null,"active_lock_reason":null,"draft":false,"pull_request":{"url":"https://api.github.com/repos/beancount/beancount/pulls/681","html_url":"https://github.com/beancount/beancount/pull/681","diff_url":"https://github.com/beancount/beancount/pull/681.diff","patch_url":"https://github.com/beancount/beancount/pull/681.patch","merged_at":"2021-10-17T20:12:21Z"},"body":"Some of the quantization tests assume that all numbers in the test\r\ncorpus have a non zero integer part. Fix the generation of the random\r\nnumbers composing the test corpus to always be larger than one.","closed_by":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/beancount/beancount/issues/681/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beancount/issues/681/timeline","performed_via_github_app":null,"state_reason":null},{"url":"https://api.github.com/repos/beancount/beancount/issues/680","repository_url":"https://api.github.com/repos/beancount/beancount","labels_url":"https://api.github.com/repos/beancount/beancount/issues/680/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beancount/issues/680/comments","events_url":"https://api.github.com/repos/beancount/beancount/issues/680/events","html_url":"https://github.com/beancount/beancount/pull/680","id":1027718365,"node_id":"PR_kwDOD91Bd84tQ9YJ","number":680,"title":"ci: Add Python 3.10 to the testing and wheel compilation matrix","user":{"login":"dnicolodi","id":987145,"node_id":"MDQ6VXNlcjk4NzE0NQ==","avatar_url":"https://avatars.githubusercontent.com/u/987145?v=4","gravatar_id":"","url":"https://api.github.com/users/dnicolodi","html_url":"https://github.com/dnicolodi","followers_url":"https://api.github.com/users/dnicolodi/followers","following_url":"https://api.github.com/users/dnicolodi/following{/other_user}","gists_url":"https://api.github.com/users/dnicolodi/gists{/gist_id}","starred_url":"https://api.github.com/users/dnicolodi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dnicolodi/subscriptions","organizations_url":"https://api.github.com/users/dnicolodi/orgs","repos_url":"https://api.github.com/users/dnicolodi/repos","events_url":"https://api.github.com/users/dnicolodi/events{/privacy}","received_events_url":"https://api.github.com/users/dnicolodi/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":0,"created_at":"2021-10-15T18:45:29Z","updated_at":"2021-10-15T18:52:21Z","closed_at":"2021-10-15T18:52:21Z","author_association":"COLLABORATOR","type":null,"active_lock_reason":null,"draft":false,"pull_request":{"url":"https://api.github.com/repos/beancount/beancount/pulls/680","html_url":"https://github.com/beancount/beancount/pull/680","diff_url":"https://github.com/beancount/beancount/pull/680.diff","patch_url":"https://github.com/beancount/beancount/pull/680.patch","merged_at":"2021-10-15T18:52:20Z"},"body":null,"closed_by":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/beancount/beancount/issues/680/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beancount/issues/680/timeline","performed_via_github_app":null,"state_reason":null},{"url":"https://api.github.com/repos/beancount/beancount/issues/679","repository_url":"https://api.github.com/repos/beancount/beancount","labels_url":"https://api.github.com/repos/beancount/beancount/issues/679/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beancount/issues/679/comments","events_url":"https://api.github.com/repos/beancount/beancount/issues/679/events","html_url":"https://github.com/beancount/beancount/pull/679","id":1027596948,"node_id":"PR_kwDOD91Bd84tQoGg","number":679,"title":"Fix syntax errors on Windows due to missing ssize_t","user":{"login":"w1ndy","id":652068,"node_id":"MDQ6VXNlcjY1MjA2OA==","avatar_url":"https://avatars.githubusercontent.com/u/652068?v=4","gravatar_id":"","url":"https://api.github.com/users/w1ndy","html_url":"https://github.com/w1ndy","followers_url":"https://api.github.com/users/w1ndy/followers","following_url":"https://api.github.com/users/w1ndy/following{/other_user}","gists_url":"https://api.github.com/users/w1ndy/gists{/gist_id}","starred_url":"https://api.github.com/users/w1ndy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/w1ndy/subscriptions","organizations_url":"https://api.github.com/users/w1ndy/orgs","repos_url":"https://api.github.com/users/w1ndy/repos","events_url":"https://api.github.com/users/w1ndy/events{/privacy}","received_events_url":"https://api.github.com/users/w1ndy/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":2,"created_at":"2021-10-15T16:17:02Z","updated_at":"2021-12-15T02:12:16Z","closed_at":"2021-10-15T18:34:45Z","author_association":"CONTRIBUTOR","type":null,"active_lock_reason":null,"draft":false,"pull_request":{"url":"https://api.github.com/repos/beancount/beancount/pulls/679","html_url":"https://github.com/beancount/beancount/pull/679","diff_url":"https://github.com/beancount/beancount/pull/679.diff","patch_url":"https://github.com/beancount/beancount/pull/679.patch","merged_at":"2021-10-15T18:34:45Z"},"body":"``pip install beancount`` on Windows & Python 3.10 returns the following results:\r\n\r\n```\r\n...\r\n  C:\\Program Files (x86)\\Microsoft Visual Studio\\2019\\BuildTools\\VC\\Tools\\MSVC\\14.29.30133\\bin\\HostX86\\x64\\cl.exe /c /nologo /Ox /W3 /GL /DNDEBUG /MD -DBEANCOUNT_VERSION=2.3.4 -DVC_CHANGESET= -DVC_TIMESTAMP=0 -DPARSER_SOURCE_HASH -I. -IC:\\Users\\dweng\\AppData\\Local\\Programs\\Python\\Python310\\include -IC:\\Users\\dweng\\AppData\\Local\\Programs\\Python\\Python310\\Include -IC:\\Program Files (x86)\\Microsoft Visual Studio\\2019\\BuildTools\\VC\\Tools\\MSVC\\14.29.30133\\include -IC:\\Program Files (x86)\\Windows Kits\\10\\include\\10.0.19041.0\\ucrt -IC:\\Program Files (x86)\\Windows Kits\\10\\include\\10.0.19041.0\\shared -IC:\\Program Files (x86)\\Windows Kits\\10\\include\\10.0.19041.0\\um -IC:\\Program Files (x86)\\Windows Kits\\10\\include\\10.0.19041.0\\winrt -IC:\\Program Files (x86)\\Windows Kits\\10\\include\\10.0.19041.0\\cppwinrt /Tcbeancount/parser/grammar.c /Fobuild\\temp.win-amd64-3.10\\Release\\beancount/parser/grammar.obj -DYY_NO_UNISTD_H\r\n  grammar.c\r\n  C:\\Program Files (x86)\\Microsoft Visual Studio\\2019\\BuildTools\\VC\\Tools\\MSVC\\14.29.30133\\bin\\HostX86\\x64\\cl.exe /c /nologo /Ox /W3 /GL /DNDEBUG /MD -DBEANCOUNT_VERSION=2.3.4 -DVC_CHANGESET= -DVC_TIMESTAMP=0 -DPARSER_SOURCE_HASH -I. -IC:\\Users\\dweng\\AppData\\Local\\Programs\\Python\\Python310\\include -IC:\\Users\\dweng\\AppData\\Local\\Programs\\Python\\Python310\\Include -IC:\\Program Files (x86)\\Microsoft Visual Studio\\2019\\BuildTools\\VC\\Tools\\MSVC\\14.29.30133\\include -IC:\\Program Files (x86)\\Windows Kits\\10\\include\\10.0.19041.0\\ucrt -IC:\\Program Files (x86)\\Windows Kits\\10\\include\\10.0.19041.0\\shared -IC:\\Program Files (x86)\\Windows Kits\\10\\include\\10.0.19041.0\\um -IC:\\Program Files (x86)\\Windows Kits\\10\\include\\10.0.19041.0\\winrt -IC:\\Program Files (x86)\\Windows Kits\\10\\include\\10.0.19041.0\\cppwinrt /Tcbeancount/parser/lexer.c /Fobuild\\temp.win-amd64-3.10\\Release\\beancount/parser/lexer.obj -DYY_NO_UNISTD_H\r\n  lexer.c\r\n  .\\beancount/parser/tokens.h(52): error C2061: 语法错误: 标识符“validate_decimal_number”\r\n  .\\beancount/parser/tokens.h(52): error C2059: 语法错误:“;”\r\n  .\\beancount/parser/tokens.h(52): error C2059: 语法错误:“<parameter-list>”\r\n  .\\beancount/parser/tokens.h(75): error C2061: 语法错误: 标识符“cunescape”\r\n  .\\beancount/parser/tokens.h(75): error C2059: 语法错误:“;”\r\n  .\\beancount/parser/tokens.h(75): error C2059: 语法错误:“<parameter-list>”\r\n  beancount/parser/lexer.l(420): warning C4267: “=”: 从“size_t”转换到“int”，可能丢失数据\r\n  error: command 'C:\\\\Program Files (x86)\\\\Microsoft Visual Studio\\\\2019\\\\BuildTools\\\\VC\\\\Tools\\\\MSVC\\\\14.29.30133\\\\bin\\\\HostX86\\\\x64\\\\cl.exe' failed with exit code 2\r\n  ----------------------------------------\r\n  ERROR: Failed building wheel for beancount\r\n```\r\n\r\nThe above messages (reported in Chinese due to locale settings) indicate that there were syntax errors with ``validate_decimal_number`` and ``cunescape`` in the file ``beancount/parser/tokens.h``. I googled it up and found that similar issues were also reported in other libraries (https://github.com/jpype-project/jpype/issues/1009) because Python 3.10 seemed to have dropped support for ``ssize_t`` on Windows. So I wrote this fix based on this issue (https://groups.google.com/g/snappy-compression/c/xzKxBNeAREc) and now it would compile on Windows.","closed_by":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/beancount/beancount/issues/679/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beancount/issues/679/timeline","performed_via_github_app":null,"state_reason":null},{"url":"https://api.github.com/repos/beancount/beancount/issues/678","repository_url":"https://api.github.com/repos/beancount/beancount","labels_url":"https://api.github.com/repos/beancount/beancount/issues/678/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beancount/issues/678/comments","events_url":"https://api.github.com/repos/beancount/beancount/issues/678/events","html_url":"https://github.com/beancount/beancount/issues/678","id":1009273889,"node_id":"I_kwDOD91Bd848KEwh","number":678,"title":"Display Context (dcontext) option does not format known currencies when transactions are not directly declared in the main beancount file","user":{"login":"papageno","id":14852702,"node_id":"MDQ6VXNlcjE0ODUyNzAy","avatar_url":"https://avatars.githubusercontent.com/u/14852702?v=4","gravatar_id":"","url":"https://api.github.com/users/papageno","html_url":"https://github.com/papageno","followers_url":"https://api.github.com/users/papageno/followers","following_url":"https://api.github.com/users/papageno/following{/other_user}","gists_url":"https://api.github.com/users/papageno/gists{/gist_id}","starred_url":"https://api.github.com/users/papageno/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/papageno/subscriptions","organizations_url":"https://api.github.com/users/papageno/orgs","repos_url":"https://api.github.com/users/papageno/repos","events_url":"https://api.github.com/users/papageno/events{/privacy}","received_events_url":"https://api.github.com/users/papageno/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":1,"created_at":"2021-09-28T05:30:39Z","updated_at":"2021-09-28T06:33:19Z","closed_at":"2021-09-28T06:33:19Z","author_association":"NONE","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"Hi.\r\n\r\nAs stated in title, Display Context (dcontext) option does not format known currencies, i.e. USD, EUR, etc. when transactions are not in the main beancount file (usually `main.bean` in the root of ledger folder, or saying the file that is executed within `bean-check` or `bean-web` script).\r\n\r\nI am using 'fava' to check whether `dcontext` option is applied. (Maybe this is not a good idea, but I'm still struggling with reading beancount's API docs 😂)\r\n\r\nGiven the following `main.bean` where transactions are directly declared.\r\n\r\n```\r\nmain.bean\r\n...\r\n2021-09-28 *\r\n  Assets:Cash                                       100,000 JPY\r\n  Assets:Cash                                      1,000.00 USD\r\n  Assets:Cash                                        500.25 EUR\r\n  Equity:Opening-Balances\r\n...\r\n```\r\n\r\n`fava`'s option page (`http://localhost:5000/ledger-title/options/`) indicates the `dcontext` option as\r\n\r\n```\t\r\nEUR             : sign=0   integer_max=3   fractional_common=2   fractional_max=2   \"000.00\" \"000.00\"\r\nJPY             : sign=0   integer_max=6   fractional_common=0   fractional_max=0   \"000000\" \"000000\"\r\nUSD             : sign=0   integer_max=4   fractional_common=2   fractional_max=2   \"0000.00\" \"0000.00\"\r\n__default__     : sign=0   integer_max=1   fractional_common=_   fractional_max=_   \"0.*\" \"0.*\"\r\n```\r\n\r\nWhile if transactions are '`include`d' from another file (saying `transactions.bean`), instead of being directly declared in `main.bean`,\r\n\r\n```\r\nmain.bean\r\n...\r\ninclude \"transactions.bean\"\r\n...\r\n```\r\n\r\n```\r\ntransactions.bean\r\n...\r\n2021-09-28 *\r\n  Assets:Cash                                       100,000 JPY\r\n  Assets:Cash                                      1,000.00 USD\r\n  Assets:Cash                                        500.25 EUR\r\n  Equity:Opening-Balances\r\n...\r\n```\r\n\r\n`fava`'s option page (`http://localhost:5000/ledger-title/options/`) will indicate the `dcontext` option as\r\n\r\n```\r\n__default__     : sign=0   integer_max=1   fractional_common=_   fractional_max=_   \"0.*\" \"0.*\"\r\n```\r\n\r\nThose formatting options for known currencies are gone.","closed_by":{"login":"papageno","id":14852702,"node_id":"MDQ6VXNlcjE0ODUyNzAy","avatar_url":"https://avatars.githubusercontent.com/u/14852702?v=4","gravatar_id":"","url":"https://api.github.com/users/papageno","html_url":"https://github.com/papageno","followers_url":"https://api.github.com/users/papageno/followers","following_url":"https://api.github.com/users/papageno/following{/other_user}","gists_url":"https://api.github.com/users/papageno/gists{/gist_id}","starred_url":"https://api.github.com/users/papageno/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/papageno/subscriptions","organizations_url":"https://api.github.com/users/papageno/orgs","repos_url":"https://api.github.com/users/papageno/repos","events_url":"https://api.github.com/users/papageno/events{/privacy}","received_events_url":"https://api.github.com/users/papageno/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/beancount/beancount/issues/678/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beancount/issues/678/timeline","performed_via_github_app":null,"state_reason":"completed"},{"url":"https://api.github.com/repos/beancount/beancount/issues/677","repository_url":"https://api.github.com/repos/beancount/beancount","labels_url":"https://api.github.com/repos/beancount/beancount/issues/677/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beancount/issues/677/comments","events_url":"https://api.github.com/repos/beancount/beancount/issues/677/events","html_url":"https://github.com/beancount/beancount/issues/677","id":1000131727,"node_id":"I_kwDOD91Bd847nMyP","number":677,"title":"Multiple price definitions in commodity to be used by bean-price?","user":{"login":"mclate","id":2183014,"node_id":"MDQ6VXNlcjIxODMwMTQ=","avatar_url":"https://avatars.githubusercontent.com/u/2183014?v=4","gravatar_id":"","url":"https://api.github.com/users/mclate","html_url":"https://github.com/mclate","followers_url":"https://api.github.com/users/mclate/followers","following_url":"https://api.github.com/users/mclate/following{/other_user}","gists_url":"https://api.github.com/users/mclate/gists{/gist_id}","starred_url":"https://api.github.com/users/mclate/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mclate/subscriptions","organizations_url":"https://api.github.com/users/mclate/orgs","repos_url":"https://api.github.com/users/mclate/repos","events_url":"https://api.github.com/users/mclate/events{/privacy}","received_events_url":"https://api.github.com/users/mclate/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"open","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":5,"created_at":"2021-09-18T20:52:15Z","updated_at":"2021-10-13T18:24:20Z","closed_at":null,"author_association":"NONE","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"The issue is mostly related to bean-price and the way price is defined in commodities that allows only one price definition.\r\n\r\nTo give an example: i have a multi-currency ledger with USD, EUR and, say, CAD. With the way current commodity price is defined, for each commodity i can define only one price pair (say, USD/EUR, EUR/CAD and CAD/USD). With this example i'm unable to make bean-price to fetch CAD/EUR pair as there is no such definition in commodity.\r\n\r\nSo i wonder if there is anything that can be done to work this around?","closed_by":null,"reactions":{"url":"https://api.github.com/repos/beancount/beancount/issues/677/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beancount/issues/677/timeline","performed_via_github_app":null,"state_reason":null},{"url":"https://api.github.com/repos/beancount/beancount/issues/676","repository_url":"https://api.github.com/repos/beancount/beancount","labels_url":"https://api.github.com/repos/beancount/beancount/issues/676/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beancount/issues/676/comments","events_url":"https://api.github.com/repos/beancount/beancount/issues/676/events","html_url":"https://github.com/beancount/beancount/issues/676","id":985288243,"node_id":"MDU6SXNzdWU5ODUyODgyNDM=","number":676,"title":"？","user":{"login":"frombegin","id":1281594,"node_id":"MDQ6VXNlcjEyODE1OTQ=","avatar_url":"https://avatars.githubusercontent.com/u/1281594?v=4","gravatar_id":"","url":"https://api.github.com/users/frombegin","html_url":"https://github.com/frombegin","followers_url":"https://api.github.com/users/frombegin/followers","following_url":"https://api.github.com/users/frombegin/following{/other_user}","gists_url":"https://api.github.com/users/frombegin/gists{/gist_id}","starred_url":"https://api.github.com/users/frombegin/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/frombegin/subscriptions","organizations_url":"https://api.github.com/users/frombegin/orgs","repos_url":"https://api.github.com/users/frombegin/repos","events_url":"https://api.github.com/users/frombegin/events{/privacy}","received_events_url":"https://api.github.com/users/frombegin/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":0,"created_at":"2021-09-01T15:22:47Z","updated_at":"2021-09-01T15:23:37Z","closed_at":"2021-09-01T15:23:37Z","author_association":"NONE","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":null,"closed_by":{"login":"frombegin","id":1281594,"node_id":"MDQ6VXNlcjEyODE1OTQ=","avatar_url":"https://avatars.githubusercontent.com/u/1281594?v=4","gravatar_id":"","url":"https://api.github.com/users/frombegin","html_url":"https://github.com/frombegin","followers_url":"https://api.github.com/users/frombegin/followers","following_url":"https://api.github.com/users/frombegin/following{/other_user}","gists_url":"https://api.github.com/users/frombegin/gists{/gist_id}","starred_url":"https://api.github.com/users/frombegin/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/frombegin/subscriptions","organizations_url":"https://api.github.com/users/frombegin/orgs","repos_url":"https://api.github.com/users/frombegin/repos","events_url":"https://api.github.com/users/frombegin/events{/privacy}","received_events_url":"https://api.github.com/users/frombegin/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/beancount/beancount/issues/676/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beancount/issues/676/timeline","performed_via_github_app":null,"state_reason":"completed"},{"url":"https://api.github.com/repos/beancount/beancount/issues/675","repository_url":"https://api.github.com/repos/beancount/beancount","labels_url":"https://api.github.com/repos/beancount/beancount/issues/675/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beancount/issues/675/comments","events_url":"https://api.github.com/repos/beancount/beancount/issues/675/events","html_url":"https://github.com/beancount/beancount/issues/675","id":983535869,"node_id":"MDU6SXNzdWU5ODM1MzU4Njk=","number":675,"title":"option long_string_maxlines doesn't work","user":{"login":"jaki","id":16715704,"node_id":"MDQ6VXNlcjE2NzE1NzA0","avatar_url":"https://avatars.githubusercontent.com/u/16715704?v=4","gravatar_id":"","url":"https://api.github.com/users/jaki","html_url":"https://github.com/jaki","followers_url":"https://api.github.com/users/jaki/followers","following_url":"https://api.github.com/users/jaki/following{/other_user}","gists_url":"https://api.github.com/users/jaki/gists{/gist_id}","starred_url":"https://api.github.com/users/jaki/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jaki/subscriptions","organizations_url":"https://api.github.com/users/jaki/orgs","repos_url":"https://api.github.com/users/jaki/repos","events_url":"https://api.github.com/users/jaki/events{/privacy}","received_events_url":"https://api.github.com/users/jaki/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":7,"created_at":"2021-08-31T07:26:37Z","updated_at":"2024-11-09T20:23:31Z","closed_at":"2024-11-09T20:23:30Z","author_association":"NONE","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"Option \"long_string_maxlines\" does not work these days because the default value 64 is hardcoded into compiled code (`tokens.c`):\r\n\r\n```c\r\n#define LONG_STRING_LINES_MAX 64\r\n```\r\n\r\nSome artifacts for the option remain, like `def get_long_string_maxlines` in `grammar.py`.  Either get rid of the artifacts and mark the option deprecated, or fix it.  I do not think it is feasible to provide the option in the same way since it affects the lexing/parsing in the middle of lexing/parsing.  Ideally, this is an option that can be set after compilation so that users don't need to compile with edited source code.\r\n\r\nOne alternative is to add another type of token \"docstring\" that don't have a line length limit, but this may add too much complexity to the lexer/parser.\r\n\r\nPlease post other ideas if you have any.","closed_by":{"login":"dnicolodi","id":987145,"node_id":"MDQ6VXNlcjk4NzE0NQ==","avatar_url":"https://avatars.githubusercontent.com/u/987145?v=4","gravatar_id":"","url":"https://api.github.com/users/dnicolodi","html_url":"https://github.com/dnicolodi","followers_url":"https://api.github.com/users/dnicolodi/followers","following_url":"https://api.github.com/users/dnicolodi/following{/other_user}","gists_url":"https://api.github.com/users/dnicolodi/gists{/gist_id}","starred_url":"https://api.github.com/users/dnicolodi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dnicolodi/subscriptions","organizations_url":"https://api.github.com/users/dnicolodi/orgs","repos_url":"https://api.github.com/users/dnicolodi/repos","events_url":"https://api.github.com/users/dnicolodi/events{/privacy}","received_events_url":"https://api.github.com/users/dnicolodi/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/beancount/beancount/issues/675/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beancount/issues/675/timeline","performed_via_github_app":null,"state_reason":"completed"},{"url":"https://api.github.com/repos/beancount/beancount/issues/674","repository_url":"https://api.github.com/repos/beancount/beancount","labels_url":"https://api.github.com/repos/beancount/beancount/issues/674/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beancount/issues/674/comments","events_url":"https://api.github.com/repos/beancount/beancount/issues/674/events","html_url":"https://github.com/beancount/beancount/pull/674","id":958031704,"node_id":"MDExOlB1bGxSZXF1ZXN0NzAxMzY4NTY4","number":674,"title":"Fix docs for ABS() in bean-query","user":{"login":"mhansen","id":105529,"node_id":"MDQ6VXNlcjEwNTUyOQ==","avatar_url":"https://avatars.githubusercontent.com/u/105529?v=4","gravatar_id":"","url":"https://api.github.com/users/mhansen","html_url":"https://github.com/mhansen","followers_url":"https://api.github.com/users/mhansen/followers","following_url":"https://api.github.com/users/mhansen/following{/other_user}","gists_url":"https://api.github.com/users/mhansen/gists{/gist_id}","starred_url":"https://api.github.com/users/mhansen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mhansen/subscriptions","organizations_url":"https://api.github.com/users/mhansen/orgs","repos_url":"https://api.github.com/users/mhansen/repos","events_url":"https://api.github.com/users/mhansen/events{/privacy}","received_events_url":"https://api.github.com/users/mhansen/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":1,"created_at":"2021-08-02T11:09:58Z","updated_at":"2021-08-02T20:12:35Z","closed_at":"2021-08-02T20:11:58Z","author_association":"CONTRIBUTOR","type":null,"active_lock_reason":null,"draft":false,"pull_request":{"url":"https://api.github.com/repos/beancount/beancount/pulls/674","html_url":"https://github.com/beancount/beancount/pull/674","diff_url":"https://github.com/beancount/beancount/pull/674.diff","patch_url":"https://github.com/beancount/beancount/pull/674.patch","merged_at":"2021-08-02T20:11:58Z"},"body":"Should fix #673","closed_by":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/beancount/beancount/issues/674/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beancount/issues/674/timeline","performed_via_github_app":null,"state_reason":null},{"url":"https://api.github.com/repos/beancount/beancount/issues/673","repository_url":"https://api.github.com/repos/beancount/beancount","labels_url":"https://api.github.com/repos/beancount/beancount/issues/673/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beancount/issues/673/comments","events_url":"https://api.github.com/repos/beancount/beancount/issues/673/events","html_url":"https://github.com/beancount/beancount/issues/673","id":958023980,"node_id":"MDU6SXNzdWU5NTgwMjM5ODA=","number":673,"title":"Copy/paste error in documentation for ABS bean-query function","user":{"login":"mhansen","id":105529,"node_id":"MDQ6VXNlcjEwNTUyOQ==","avatar_url":"https://avatars.githubusercontent.com/u/105529?v=4","gravatar_id":"","url":"https://api.github.com/users/mhansen","html_url":"https://github.com/mhansen","followers_url":"https://api.github.com/users/mhansen/followers","following_url":"https://api.github.com/users/mhansen/following{/other_user}","gists_url":"https://api.github.com/users/mhansen/gists{/gist_id}","starred_url":"https://api.github.com/users/mhansen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mhansen/subscriptions","organizations_url":"https://api.github.com/users/mhansen/orgs","repos_url":"https://api.github.com/users/mhansen/repos","events_url":"https://api.github.com/users/mhansen/events{/privacy}","received_events_url":"https://api.github.com/users/mhansen/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":1,"created_at":"2021-08-02T11:01:56Z","updated_at":"2021-08-02T20:11:58Z","closed_at":"2021-08-02T20:11:58Z","author_association":"CONTRIBUTOR","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"```\r\n$ bean-query /dev/null\r\nInput file: \"Beancount\"\r\nReady with 0 directives (0 postings in 0 transactions).\r\nbeancount> help targets\r\n\r\nSimple functions:                                                                                                                                                                                           \r\n  'ABS(Decimal)': Compute the length of the argument. This works on sequences.                                                                                                                              \r\n  'ABS(Inventory)': Compute the length of the argument. This works on sequences.                                                                                                                            \r\n  'ABS(Position)': Compute the length of the argument. This works on sequences.                                                                                                                             \r\n```\r\n\r\nLooks like this has been copied inadvertently from\r\n\r\n```\r\n  'LENGTH(list|set|str)': Compute the length of the argument. This works on                                                                                                                                 \r\n    sequences.                                                                                                                                                                                              \r\n```\r\n\r\nI'm guessing these are absolute value rather than Length?","closed_by":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/beancount/beancount/issues/673/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beancount/issues/673/timeline","performed_via_github_app":null,"state_reason":"completed"},{"url":"https://api.github.com/repos/beancount/beancount/issues/672","repository_url":"https://api.github.com/repos/beancount/beancount","labels_url":"https://api.github.com/repos/beancount/beancount/issues/672/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beancount/issues/672/comments","events_url":"https://api.github.com/repos/beancount/beancount/issues/672/events","html_url":"https://github.com/beancount/beancount/pull/672","id":952026392,"node_id":"MDExOlB1bGxSZXF1ZXN0Njk2MzE0MTE0","number":672,"title":"Let bean-identify catch UnicodeDecodeError","user":{"login":"nils-werner","id":88704,"node_id":"MDQ6VXNlcjg4NzA0","avatar_url":"https://avatars.githubusercontent.com/u/88704?v=4","gravatar_id":"","url":"https://api.github.com/users/nils-werner","html_url":"https://github.com/nils-werner","followers_url":"https://api.github.com/users/nils-werner/followers","following_url":"https://api.github.com/users/nils-werner/following{/other_user}","gists_url":"https://api.github.com/users/nils-werner/gists{/gist_id}","starred_url":"https://api.github.com/users/nils-werner/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nils-werner/subscriptions","organizations_url":"https://api.github.com/users/nils-werner/orgs","repos_url":"https://api.github.com/users/nils-werner/repos","events_url":"https://api.github.com/users/nils-werner/events{/privacy}","received_events_url":"https://api.github.com/users/nils-werner/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":2,"created_at":"2021-07-24T08:07:57Z","updated_at":"2022-04-10T13:52:36Z","closed_at":"2022-04-10T13:52:36Z","author_association":"NONE","type":null,"active_lock_reason":null,"draft":false,"pull_request":{"url":"https://api.github.com/repos/beancount/beancount/pulls/672","html_url":"https://github.com/beancount/beancount/pull/672","diff_url":"https://github.com/beancount/beancount/pull/672.diff","patch_url":"https://github.com/beancount/beancount/pull/672.patch","merged_at":null},"body":"Right now you have to provide an encoding parameter to most importers, signifying how to interpret the file that is being imported. However, when you have multiple importers and *multiple files with different encodings*, all importers start complaining loudly during identify, showing `UnicodeDecodeError`s.\r\n\r\nThe import will still succeed, but the terminal output is a mess and not readable anymore.\r\n\r\nThis PR mitigates that by simply ignoring those exceptions. This means if an importer raises a `UnicodeDecodeError`, the file under investigation is simply considered a non-match for this importer, and will have to be imported by another one.","closed_by":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/beancount/beancount/issues/672/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beancount/issues/672/timeline","performed_via_github_app":null,"state_reason":null},{"url":"https://api.github.com/repos/beancount/beancount/issues/671","repository_url":"https://api.github.com/repos/beancount/beancount","labels_url":"https://api.github.com/repos/beancount/beancount/issues/671/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beancount/issues/671/comments","events_url":"https://api.github.com/repos/beancount/beancount/issues/671/events","html_url":"https://github.com/beancount/beancount/pull/671","id":946231833,"node_id":"MDExOlB1bGxSZXF1ZXN0NjkxNDM3ODg1","number":671,"title":"Handle edge case","user":{"login":"ibigbug","id":543405,"node_id":"MDQ6VXNlcjU0MzQwNQ==","avatar_url":"https://avatars.githubusercontent.com/u/543405?v=4","gravatar_id":"","url":"https://api.github.com/users/ibigbug","html_url":"https://github.com/ibigbug","followers_url":"https://api.github.com/users/ibigbug/followers","following_url":"https://api.github.com/users/ibigbug/following{/other_user}","gists_url":"https://api.github.com/users/ibigbug/gists{/gist_id}","starred_url":"https://api.github.com/users/ibigbug/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ibigbug/subscriptions","organizations_url":"https://api.github.com/users/ibigbug/orgs","repos_url":"https://api.github.com/users/ibigbug/repos","events_url":"https://api.github.com/users/ibigbug/events{/privacy}","received_events_url":"https://api.github.com/users/ibigbug/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":1,"created_at":"2021-07-16T12:05:25Z","updated_at":"2021-07-16T20:03:00Z","closed_at":"2021-07-16T15:20:37Z","author_association":"CONTRIBUTOR","type":null,"active_lock_reason":null,"draft":false,"pull_request":{"url":"https://api.github.com/repos/beancount/beancount/pulls/671","html_url":"https://github.com/beancount/beancount/pull/671","diff_url":"https://github.com/beancount/beancount/pull/671.diff","patch_url":"https://github.com/beancount/beancount/pull/671.patch","merged_at":"2021-07-16T15:20:37Z"},"body":"the return value doesn't have a `timestamp` field for stock **515050.SS** on date **2020-01-01** for example","closed_by":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/beancount/beancount/issues/671/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beancount/issues/671/timeline","performed_via_github_app":null,"state_reason":null},{"url":"https://api.github.com/repos/beancount/beancount/issues/670","repository_url":"https://api.github.com/repos/beancount/beancount","labels_url":"https://api.github.com/repos/beancount/beancount/issues/670/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beancount/issues/670/comments","events_url":"https://api.github.com/repos/beancount/beancount/issues/670/events","html_url":"https://github.com/beancount/beancount/pull/670","id":945304509,"node_id":"MDExOlB1bGxSZXF1ZXN0NjkwNjUyNDMz","number":670,"title":"Test files are deleted before they can be opened.","user":{"login":"michelgb","id":1178788,"node_id":"MDQ6VXNlcjExNzg3ODg=","avatar_url":"https://avatars.githubusercontent.com/u/1178788?v=4","gravatar_id":"","url":"https://api.github.com/users/michelgb","html_url":"https://github.com/michelgb","followers_url":"https://api.github.com/users/michelgb/followers","following_url":"https://api.github.com/users/michelgb/following{/other_user}","gists_url":"https://api.github.com/users/michelgb/gists{/gist_id}","starred_url":"https://api.github.com/users/michelgb/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/michelgb/subscriptions","organizations_url":"https://api.github.com/users/michelgb/orgs","repos_url":"https://api.github.com/users/michelgb/repos","events_url":"https://api.github.com/users/michelgb/events{/privacy}","received_events_url":"https://api.github.com/users/michelgb/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":1,"created_at":"2021-07-15T11:58:42Z","updated_at":"2021-07-18T12:25:02Z","closed_at":"2021-07-18T12:25:02Z","author_association":"NONE","type":null,"active_lock_reason":null,"draft":false,"pull_request":{"url":"https://api.github.com/repos/beancount/beancount/pulls/670","html_url":"https://github.com/beancount/beancount/pull/670","diff_url":"https://github.com/beancount/beancount/pull/670.diff","patch_url":"https://github.com/beancount/beancount/pull/670.patch","merged_at":null},"body":"In Windows test files are deleted before they can be used by the test code.\r\n\r\nSee https://stackoverflow.com/questions/6416782/what-is-namedtemporaryfile-useful-for-on-windows","closed_by":{"login":"michelgb","id":1178788,"node_id":"MDQ6VXNlcjExNzg3ODg=","avatar_url":"https://avatars.githubusercontent.com/u/1178788?v=4","gravatar_id":"","url":"https://api.github.com/users/michelgb","html_url":"https://github.com/michelgb","followers_url":"https://api.github.com/users/michelgb/followers","following_url":"https://api.github.com/users/michelgb/following{/other_user}","gists_url":"https://api.github.com/users/michelgb/gists{/gist_id}","starred_url":"https://api.github.com/users/michelgb/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/michelgb/subscriptions","organizations_url":"https://api.github.com/users/michelgb/orgs","repos_url":"https://api.github.com/users/michelgb/repos","events_url":"https://api.github.com/users/michelgb/events{/privacy}","received_events_url":"https://api.github.com/users/michelgb/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/beancount/beancount/issues/670/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beancount/issues/670/timeline","performed_via_github_app":null,"state_reason":null},{"url":"https://api.github.com/repos/beancount/beancount/issues/669","repository_url":"https://api.github.com/repos/beancount/beancount","labels_url":"https://api.github.com/repos/beancount/beancount/issues/669/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beancount/issues/669/comments","events_url":"https://api.github.com/repos/beancount/beancount/issues/669/events","html_url":"https://github.com/beancount/beancount/pull/669","id":941465007,"node_id":"MDExOlB1bGxSZXF1ZXN0Njg3MzQzNzQ5","number":669,"title":"Remove User-Agent sent to yahoo finance chart api.","user":{"login":"SEIAROTg","id":3611446,"node_id":"MDQ6VXNlcjM2MTE0NDY=","avatar_url":"https://avatars.githubusercontent.com/u/3611446?v=4","gravatar_id":"","url":"https://api.github.com/users/SEIAROTg","html_url":"https://github.com/SEIAROTg","followers_url":"https://api.github.com/users/SEIAROTg/followers","following_url":"https://api.github.com/users/SEIAROTg/following{/other_user}","gists_url":"https://api.github.com/users/SEIAROTg/gists{/gist_id}","starred_url":"https://api.github.com/users/SEIAROTg/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/SEIAROTg/subscriptions","organizations_url":"https://api.github.com/users/SEIAROTg/orgs","repos_url":"https://api.github.com/users/SEIAROTg/repos","events_url":"https://api.github.com/users/SEIAROTg/events{/privacy}","received_events_url":"https://api.github.com/users/SEIAROTg/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":3,"created_at":"2021-07-11T14:31:48Z","updated_at":"2021-07-11T16:44:52Z","closed_at":"2021-07-11T16:44:15Z","author_association":"CONTRIBUTOR","type":null,"active_lock_reason":null,"draft":false,"pull_request":{"url":"https://api.github.com/repos/beancount/beancount/pulls/669","html_url":"https://github.com/beancount/beancount/pull/669","diff_url":"https://github.com/beancount/beancount/pull/669.diff","patch_url":"https://github.com/beancount/beancount/pull/669.patch","merged_at":"2021-07-11T16:44:15Z"},"body":"This invocation also has 403 issue but was missed in the earlier fix.\r\n\r\nhttps://github.com/beancount/beancount/issues/667","closed_by":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/beancount/beancount/issues/669/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beancount/issues/669/timeline","performed_via_github_app":null,"state_reason":null},{"url":"https://api.github.com/repos/beancount/beancount/issues/668","repository_url":"https://api.github.com/repos/beancount/beancount","labels_url":"https://api.github.com/repos/beancount/beancount/issues/668/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beancount/issues/668/comments","events_url":"https://api.github.com/repos/beancount/beancount/issues/668/events","html_url":"https://github.com/beancount/beancount/pull/668","id":941246955,"node_id":"MDExOlB1bGxSZXF1ZXN0Njg3MTgxMDIw","number":668,"title":"Remove User-Agent sent to yahoo finance api.","user":{"login":"SEIAROTg","id":3611446,"node_id":"MDQ6VXNlcjM2MTE0NDY=","avatar_url":"https://avatars.githubusercontent.com/u/3611446?v=4","gravatar_id":"","url":"https://api.github.com/users/SEIAROTg","html_url":"https://github.com/SEIAROTg","followers_url":"https://api.github.com/users/SEIAROTg/followers","following_url":"https://api.github.com/users/SEIAROTg/following{/other_user}","gists_url":"https://api.github.com/users/SEIAROTg/gists{/gist_id}","starred_url":"https://api.github.com/users/SEIAROTg/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/SEIAROTg/subscriptions","organizations_url":"https://api.github.com/users/SEIAROTg/orgs","repos_url":"https://api.github.com/users/SEIAROTg/repos","events_url":"https://api.github.com/users/SEIAROTg/events{/privacy}","received_events_url":"https://api.github.com/users/SEIAROTg/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":1,"created_at":"2021-07-10T13:06:55Z","updated_at":"2021-07-11T14:13:43Z","closed_at":"2021-07-11T14:13:42Z","author_association":"CONTRIBUTOR","type":null,"active_lock_reason":null,"draft":false,"pull_request":{"url":"https://api.github.com/repos/beancount/beancount/pulls/668","html_url":"https://github.com/beancount/beancount/pull/668","diff_url":"https://github.com/beancount/beancount/pull/668.diff","patch_url":"https://github.com/beancount/beancount/pull/668.patch","merged_at":"2021-07-11T14:13:42Z"},"body":"The default \"python-requests/$VERSION\" is causing 403.\r\n\r\nhttps://github.com/beancount/beancount/issues/667","closed_by":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/beancount/beancount/issues/668/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beancount/issues/668/timeline","performed_via_github_app":null,"state_reason":null},{"url":"https://api.github.com/repos/beancount/beancount/issues/667","repository_url":"https://api.github.com/repos/beancount/beancount","labels_url":"https://api.github.com/repos/beancount/beancount/issues/667/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beancount/issues/667/comments","events_url":"https://api.github.com/repos/beancount/beancount/issues/667/events","html_url":"https://github.com/beancount/beancount/issues/667","id":941143309,"node_id":"MDU6SXNzdWU5NDExNDMzMDk=","number":667,"title":"bean-price failed to fetch prices from yahoo","user":{"login":"SEIAROTg","id":3611446,"node_id":"MDQ6VXNlcjM2MTE0NDY=","avatar_url":"https://avatars.githubusercontent.com/u/3611446?v=4","gravatar_id":"","url":"https://api.github.com/users/SEIAROTg","html_url":"https://github.com/SEIAROTg","followers_url":"https://api.github.com/users/SEIAROTg/followers","following_url":"https://api.github.com/users/SEIAROTg/following{/other_user}","gists_url":"https://api.github.com/users/SEIAROTg/gists{/gist_id}","starred_url":"https://api.github.com/users/SEIAROTg/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/SEIAROTg/subscriptions","organizations_url":"https://api.github.com/users/SEIAROTg/orgs","repos_url":"https://api.github.com/users/SEIAROTg/repos","events_url":"https://api.github.com/users/SEIAROTg/events{/privacy}","received_events_url":"https://api.github.com/users/SEIAROTg/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":4,"created_at":"2021-07-10T01:23:39Z","updated_at":"2021-09-03T02:22:36Z","closed_at":"2021-09-03T02:22:35Z","author_association":"CONTRIBUTOR","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"Today my usual `bean-price commodities.bean -i` run failed with:\r\n```\r\nERROR   : Error fetching GOOG: Expecting value: line 1 column 1 (char 0)\r\nERROR   : Could not fetch for job: DatedPrice(base='GOOG', quote='USD', date=None, sources=[PriceSource(module=<module 'beancount.prices.sources.yahoo' from '/usr/local/lib/python3.9/site-packages/beancount/prices/sources/yahoo.py'>, symbol='GOOG', invert=False)])\r\n```\r\n\r\nI did some print-debugging in `yahoo.py` and found it returns 403 with contents `Forbidden` which failed to be parsed as json. Some curl attempts show that yahoo no longer likes a user agent that contains `python-requests\\S`:\r\n```\r\n$ curl -H \"User-Agent: python-requests/2.25.1\" -H \"Accept-Encoding: gzip, deflate\" -H \"Accept: */*\" -H \"Connection: keep-alive\" 'https://query1.finance.yahoo.com/v7/finance/quote?symbols=GOOG&fields=symbol%2CregularMarketPrice%2CregularMarketTime&exchange=NYSE&lang=en-US&corsDomain=finance.yahoo.com&.tsrc=finance'\r\nForbidden\r\n\r\n$ curl -H \"User-Agent: python-requests\" -H \"Accept-Encoding: gzip, deflate\" -H \"Accept: */*\" -H \"Connection: keep-alive\" 'https://query1.finance.yahoo.com/v7/finance/quote?symbols=GOOG&fields=symbol%2CregularMarketPrice%2CregularMarketTime&exchange=NYSE&lang=en-US&corsDomain=finance.yahoo.com&.tsrc=finance'\r\n{\"quoteResponse\":{\"result\":[{\"language\":\"en-US\",\"region\":\"US\",\"quoteType\":\"EQUITY\",\"quoteSourceName\":\"Delayed Quote\",\"triggerable\":true,\"sourceInterval\":15,\"exchangeDataDelayedBy\":0,\"tradeable\":false,\"marketState\":\"POSTPOST\",\"firstTradeDateMilliseconds\":1092922200000,\"priceHint\":2,\"regularMarketTime\":1625860802,\"regularMarketPrice\":2591.49,\"fullExchangeName\":\"NasdaqGS\",\"exchange\":\"NMS\",\"exchangeTimezoneName\":\"America/New_York\",\"exchangeTimezoneShortName\":\"EDT\",\"gmtOffSetMilliseconds\":-14400000,\"market\":\"us_market\",\"esgPopulated\":false,\"symbol\":\"GOOG\"}],\"error\":null}}\r\n```\r\n\r\nIt's also reproduced with https://reqbin.com/curl so it's unlikely just me.","closed_by":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/beancount/beancount/issues/667/reactions","total_count":5,"+1":5,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beancount/issues/667/timeline","performed_via_github_app":null,"state_reason":"completed"},{"url":"https://api.github.com/repos/beancount/beancount/issues/666","repository_url":"https://api.github.com/repos/beancount/beancount","labels_url":"https://api.github.com/repos/beancount/beancount/issues/666/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beancount/issues/666/comments","events_url":"https://api.github.com/repos/beancount/beancount/issues/666/events","html_url":"https://github.com/beancount/beancount/issues/666","id":936850892,"node_id":"MDU6SXNzdWU5MzY4NTA4OTI=","number":666,"title":"bean-price return value rounded depending on unrelated ledger data","user":{"login":"nils-werner","id":88704,"node_id":"MDQ6VXNlcjg4NzA0","avatar_url":"https://avatars.githubusercontent.com/u/88704?v=4","gravatar_id":"","url":"https://api.github.com/users/nils-werner","html_url":"https://github.com/nils-werner","followers_url":"https://api.github.com/users/nils-werner/followers","following_url":"https://api.github.com/users/nils-werner/following{/other_user}","gists_url":"https://api.github.com/users/nils-werner/gists{/gist_id}","starred_url":"https://api.github.com/users/nils-werner/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nils-werner/subscriptions","organizations_url":"https://api.github.com/users/nils-werner/orgs","repos_url":"https://api.github.com/users/nils-werner/repos","events_url":"https://api.github.com/users/nils-werner/events{/privacy}","received_events_url":"https://api.github.com/users/nils-werner/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"open","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":1,"created_at":"2021-07-05T08:48:49Z","updated_at":"2021-07-06T08:51:46Z","closed_at":null,"author_association":"NONE","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"I have found out that `bean-price personal.beancount` produces rounded and incorrect values when my ledger has a certain format, i.e. I have included files or a balance set in the far future.\r\n\r\n## Affected version\r\n\r\n - Latest Arch Linux\r\n - Python 3.8.11\r\n - Beancount 2.3.4\r\n\r\n## Steps to reproduce\r\n\r\n`personal.beancount`\r\n```\r\n;; -*- mode: beancount; coding: utf-8; fill-column: 400; -*-\r\noption \"title\" \"Bean Price Reproduction Ledger\"\r\noption \"operating_currency\" \"EUR\"\r\n\r\n\r\n2002-01-01 commodity EUR\r\n  export: \"CASH\"\r\n  name: \"Euro\"\r\n\r\n2009-09-25 commodity MSCIW\r\n  export: \"EUNL.DE\"\r\n  name: \"iShares Core MSCI World UCITS ETF USD (Acc)\"\r\n  price: \"EUR:yahoo/EUNL.DE\"\r\n\r\n2017-06-21 commodity MSCIEM\r\n  export: \"XMME.DE\"\r\n  name: \"Xtrackers MSCI Emerging Markets UCITS ETF 1C\"\r\n  price: \"EUR:yahoo/XMME.DE\"\r\n\r\n2021-01-01 open Assets:Checking\r\n2021-01-01 open Assets:Broker\r\n\r\n1986-02-22 open Equity:In-Flight\r\n2100-01-01 balance Equity:In-Flight             0 EUR\r\n\r\ninclude \"checking.beancount\"\r\ninclude \"prices.beancount\"\r\n```\r\n\r\n`checking.beancount`\r\n```\r\n2021-06-22 * \"Broker\" \"Buy MSCIEM\"\r\n  Assets:Checking                            -135.0 EUR\r\n  Assets:Broker                                 2.4569 MSCIEM {54.94744 EUR, 2021-06-21}\r\n```\r\n\r\n`prices.beancount`\r\n```\r\n2021-07-02 price MSCIEM                           55.39000 EUR\r\n```\r\n\r\nWith these files I get the following output\r\n\r\n```\r\n$ bean-price personal.beancount\r\n2021-07-05 price MSCIEM                                 55 EUR\r\n```\r\n\r\nBut if I now do one of the following three, I get a different output:\r\n\r\n 1. Remove the line `2100-01-01 balance Equity:In-Flight             0 EUR` line\r\n 1. Replace the line `2100-01-01 balance Equity:In-Flight             0 EUR` line with `2100-01-01 balance Equity:In-Flight             0.00000 EUR`\r\n 1. Replace `include \"checking.beancount\"` with the contents of that file\r\n 1. Replace `include \"prices.beancount\"` with the contents of that file\r\n\r\nIf I do 1, I get the output\r\n\r\n```\r\n021-07-05 price MSCIEM                             55.278 EUR\r\n```\r\n\r\nIf I do 2, 3, or 4 I get the output\r\n\r\n```\r\n2021-07-05 price MSCIEM                           55.27800 EUR\r\n```","closed_by":null,"reactions":{"url":"https://api.github.com/repos/beancount/beancount/issues/666/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beancount/issues/666/timeline","performed_via_github_app":null,"state_reason":null},{"url":"https://api.github.com/repos/beancount/beancount/issues/665","repository_url":"https://api.github.com/repos/beancount/beancount","labels_url":"https://api.github.com/repos/beancount/beancount/issues/665/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beancount/issues/665/comments","events_url":"https://api.github.com/repos/beancount/beancount/issues/665/events","html_url":"https://github.com/beancount/beancount/pull/665","id":936281596,"node_id":"MDExOlB1bGxSZXF1ZXN0NjgzMDQzNTMw","number":665,"title":"printer: Fix printing transaction when postings have empty weight","user":{"login":"dnicolodi","id":987145,"node_id":"MDQ6VXNlcjk4NzE0NQ==","avatar_url":"https://avatars.githubusercontent.com/u/987145?v=4","gravatar_id":"","url":"https://api.github.com/users/dnicolodi","html_url":"https://github.com/dnicolodi","followers_url":"https://api.github.com/users/dnicolodi/followers","following_url":"https://api.github.com/users/dnicolodi/following{/other_user}","gists_url":"https://api.github.com/users/dnicolodi/gists{/gist_id}","starred_url":"https://api.github.com/users/dnicolodi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dnicolodi/subscriptions","organizations_url":"https://api.github.com/users/dnicolodi/orgs","repos_url":"https://api.github.com/users/dnicolodi/repos","events_url":"https://api.github.com/users/dnicolodi/events{/privacy}","received_events_url":"https://api.github.com/users/dnicolodi/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":0,"created_at":"2021-07-03T15:58:30Z","updated_at":"2021-07-03T16:18:45Z","closed_at":"2021-07-03T16:18:45Z","author_association":"COLLABORATOR","type":null,"active_lock_reason":null,"draft":false,"pull_request":{"url":"https://api.github.com/repos/beancount/beancount/pulls/665","html_url":"https://github.com/beancount/beancount/pull/665","diff_url":"https://github.com/beancount/beancount/pull/665.diff","patch_url":"https://github.com/beancount/beancount/pull/665.patch","merged_at":"2021-07-03T16:18:45Z"},"body":"Fix #360.","closed_by":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/beancount/beancount/issues/665/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beancount/issues/665/timeline","performed_via_github_app":null,"state_reason":null},{"url":"https://api.github.com/repos/beancount/beancount/issues/664","repository_url":"https://api.github.com/repos/beancount/beancount","labels_url":"https://api.github.com/repos/beancount/beancount/issues/664/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beancount/issues/664/comments","events_url":"https://api.github.com/repos/beancount/beancount/issues/664/events","html_url":"https://github.com/beancount/beancount/pull/664","id":933649530,"node_id":"MDExOlB1bGxSZXF1ZXN0NjgwODI1ODU3","number":664,"title":"Fix meta handling of check_closing plugin","user":{"login":"upsuper","id":333750,"node_id":"MDQ6VXNlcjMzMzc1MA==","avatar_url":"https://avatars.githubusercontent.com/u/333750?v=4","gravatar_id":"","url":"https://api.github.com/users/upsuper","html_url":"https://github.com/upsuper","followers_url":"https://api.github.com/users/upsuper/followers","following_url":"https://api.github.com/users/upsuper/following{/other_user}","gists_url":"https://api.github.com/users/upsuper/gists{/gist_id}","starred_url":"https://api.github.com/users/upsuper/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/upsuper/subscriptions","organizations_url":"https://api.github.com/users/upsuper/orgs","repos_url":"https://api.github.com/users/upsuper/repos","events_url":"https://api.github.com/users/upsuper/events{/privacy}","received_events_url":"https://api.github.com/users/upsuper/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":2,"created_at":"2021-06-30T12:22:13Z","updated_at":"2021-06-30T12:42:53Z","closed_at":"2021-06-30T12:41:26Z","author_association":"CONTRIBUTOR","type":null,"active_lock_reason":null,"draft":false,"pull_request":{"url":"https://api.github.com/repos/beancount/beancount/pulls/664","html_url":"https://github.com/beancount/beancount/pull/664","diff_url":"https://github.com/beancount/beancount/pull/664.diff","patch_url":"https://github.com/beancount/beancount/pull/664.patch","merged_at":"2021-06-30T12:41:26Z"},"body":"I believe the intention of the replace is to remove the `closing` from the posting, rather than overriding the meta of `entry` with the meta from `posting`. The current overriding just doesn't make any sense to me. It also causes issues like beancount/fava#1301.","closed_by":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/beancount/beancount/issues/664/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beancount/issues/664/timeline","performed_via_github_app":null,"state_reason":null},{"url":"https://api.github.com/repos/beancount/beancount/issues/663","repository_url":"https://api.github.com/repos/beancount/beancount","labels_url":"https://api.github.com/repos/beancount/beancount/issues/663/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beancount/issues/663/comments","events_url":"https://api.github.com/repos/beancount/beancount/issues/663/events","html_url":"https://github.com/beancount/beancount/issues/663","id":918989684,"node_id":"MDU6SXNzdWU5MTg5ODk2ODQ=","number":663,"title":"many of doc links are broker in importing_external_data","user":{"login":"broven","id":12854613,"node_id":"MDQ6VXNlcjEyODU0NjEz","avatar_url":"https://avatars.githubusercontent.com/u/12854613?v=4","gravatar_id":"","url":"https://api.github.com/users/broven","html_url":"https://github.com/broven","followers_url":"https://api.github.com/users/broven/followers","following_url":"https://api.github.com/users/broven/following{/other_user}","gists_url":"https://api.github.com/users/broven/gists{/gist_id}","starred_url":"https://api.github.com/users/broven/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/broven/subscriptions","organizations_url":"https://api.github.com/users/broven/orgs","repos_url":"https://api.github.com/users/broven/repos","events_url":"https://api.github.com/users/broven/events{/privacy}","received_events_url":"https://api.github.com/users/broven/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":1,"created_at":"2021-06-11T17:02:03Z","updated_at":"2021-08-01T17:38:57Z","closed_at":"2021-08-01T17:38:57Z","author_association":"NONE","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"like \r\n- [writing an importer](https://beancount.github.io/docs/importing_external_data.html#writing-an-importer) section importer.py\r\n- [[Importing External Data - Beancount Documentation](https://beancount.github.io/docs/importing_external_data.html#writing-an-importer)] beancount.ingest.regression\r\n\r\nI want help fix this, so I search in master, can`t find information about importer.py","closed_by":{"login":"broven","id":12854613,"node_id":"MDQ6VXNlcjEyODU0NjEz","avatar_url":"https://avatars.githubusercontent.com/u/12854613?v=4","gravatar_id":"","url":"https://api.github.com/users/broven","html_url":"https://github.com/broven","followers_url":"https://api.github.com/users/broven/followers","following_url":"https://api.github.com/users/broven/following{/other_user}","gists_url":"https://api.github.com/users/broven/gists{/gist_id}","starred_url":"https://api.github.com/users/broven/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/broven/subscriptions","organizations_url":"https://api.github.com/users/broven/orgs","repos_url":"https://api.github.com/users/broven/repos","events_url":"https://api.github.com/users/broven/events{/privacy}","received_events_url":"https://api.github.com/users/broven/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/beancount/beancount/issues/663/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beancount/issues/663/timeline","performed_via_github_app":null,"state_reason":"completed"},{"url":"https://api.github.com/repos/beancount/beancount/issues/662","repository_url":"https://api.github.com/repos/beancount/beancount","labels_url":"https://api.github.com/repos/beancount/beancount/issues/662/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beancount/issues/662/comments","events_url":"https://api.github.com/repos/beancount/beancount/issues/662/events","html_url":"https://github.com/beancount/beancount/pull/662","id":908989131,"node_id":"MDExOlB1bGxSZXF1ZXN0NjU5NjIyNzQ4","number":662,"title":"Amount units cannot be None","user":{"login":"lijunle","id":1296500,"node_id":"MDQ6VXNlcjEyOTY1MDA=","avatar_url":"https://avatars.githubusercontent.com/u/1296500?v=4","gravatar_id":"","url":"https://api.github.com/users/lijunle","html_url":"https://github.com/lijunle","followers_url":"https://api.github.com/users/lijunle/followers","following_url":"https://api.github.com/users/lijunle/following{/other_user}","gists_url":"https://api.github.com/users/lijunle/gists{/gist_id}","starred_url":"https://api.github.com/users/lijunle/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/lijunle/subscriptions","organizations_url":"https://api.github.com/users/lijunle/orgs","repos_url":"https://api.github.com/users/lijunle/repos","events_url":"https://api.github.com/users/lijunle/events{/privacy}","received_events_url":"https://api.github.com/users/lijunle/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":1,"created_at":"2021-06-02T02:13:41Z","updated_at":"2022-04-10T13:49:11Z","closed_at":"2022-04-10T13:49:11Z","author_association":"NONE","type":null,"active_lock_reason":null,"draft":false,"pull_request":{"url":"https://api.github.com/repos/beancount/beancount/pulls/662","html_url":"https://github.com/beancount/beancount/pull/662","diff_url":"https://github.com/beancount/beancount/pull/662.diff","patch_url":"https://github.com/beancount/beancount/pull/662.patch","merged_at":null},"body":"Instead, we should use `NULL_AMOUNT` for it.","closed_by":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/beancount/beancount/issues/662/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beancount/issues/662/timeline","performed_via_github_app":null,"state_reason":null},{"url":"https://api.github.com/repos/beancount/beancount/issues/661","repository_url":"https://api.github.com/repos/beancount/beancount","labels_url":"https://api.github.com/repos/beancount/beancount/issues/661/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beancount/issues/661/comments","events_url":"https://api.github.com/repos/beancount/beancount/issues/661/events","html_url":"https://github.com/beancount/beancount/issues/661","id":907451586,"node_id":"MDU6SXNzdWU5MDc0NTE1ODY=","number":661,"title":"Should `bean-sql` be removed in v3?","user":{"login":"dnicolodi","id":987145,"node_id":"MDQ6VXNlcjk4NzE0NQ==","avatar_url":"https://avatars.githubusercontent.com/u/987145?v=4","gravatar_id":"","url":"https://api.github.com/users/dnicolodi","html_url":"https://github.com/dnicolodi","followers_url":"https://api.github.com/users/dnicolodi/followers","following_url":"https://api.github.com/users/dnicolodi/following{/other_user}","gists_url":"https://api.github.com/users/dnicolodi/gists{/gist_id}","starred_url":"https://api.github.com/users/dnicolodi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dnicolodi/subscriptions","organizations_url":"https://api.github.com/users/dnicolodi/orgs","repos_url":"https://api.github.com/users/dnicolodi/repos","events_url":"https://api.github.com/users/dnicolodi/events{/privacy}","received_events_url":"https://api.github.com/users/dnicolodi/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":1,"created_at":"2021-05-31T13:02:22Z","updated_at":"2022-04-10T14:05:09Z","closed_at":"2022-04-10T14:05:09Z","author_association":"COLLABORATOR","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"It is a tool to convert a Beancount ledger into a SQL database. However, the only supporter database is SQLite which has the major drawback of not supporting a real decimal type: SQLite is happy to accept column definitions with `DECIMAL` SQL type definition but it would effectively threat it as a `REAL` column https://www.sqlite.org/datatype3.html#storage_classes_and_datatypes. For this reason I think that `bean-sql` is of limited use and should probably be phased out in favor of `bean-query`. At least a big fat warning should be added to `bean-sql`. \r\n\r\nWDYT?\r\n\r\nIf `bean-sql` can be useful is some form, maybe it can be moved to beanlabs.","closed_by":{"login":"dnicolodi","id":987145,"node_id":"MDQ6VXNlcjk4NzE0NQ==","avatar_url":"https://avatars.githubusercontent.com/u/987145?v=4","gravatar_id":"","url":"https://api.github.com/users/dnicolodi","html_url":"https://github.com/dnicolodi","followers_url":"https://api.github.com/users/dnicolodi/followers","following_url":"https://api.github.com/users/dnicolodi/following{/other_user}","gists_url":"https://api.github.com/users/dnicolodi/gists{/gist_id}","starred_url":"https://api.github.com/users/dnicolodi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dnicolodi/subscriptions","organizations_url":"https://api.github.com/users/dnicolodi/orgs","repos_url":"https://api.github.com/users/dnicolodi/repos","events_url":"https://api.github.com/users/dnicolodi/events{/privacy}","received_events_url":"https://api.github.com/users/dnicolodi/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/beancount/beancount/issues/661/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beancount/issues/661/timeline","performed_via_github_app":null,"state_reason":"completed"},{"url":"https://api.github.com/repos/beancount/beancount/issues/660","repository_url":"https://api.github.com/repos/beancount/beancount","labels_url":"https://api.github.com/repos/beancount/beancount/issues/660/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beancount/issues/660/comments","events_url":"https://api.github.com/repos/beancount/beancount/issues/660/events","html_url":"https://github.com/beancount/beancount/pull/660","id":906544966,"node_id":"MDExOlB1bGxSZXF1ZXN0NjU3NTI0NDQ2","number":660,"title":"Implement the inlcude directive as a literal include","user":{"login":"dnicolodi","id":987145,"node_id":"MDQ6VXNlcjk4NzE0NQ==","avatar_url":"https://avatars.githubusercontent.com/u/987145?v=4","gravatar_id":"","url":"https://api.github.com/users/dnicolodi","html_url":"https://github.com/dnicolodi","followers_url":"https://api.github.com/users/dnicolodi/followers","following_url":"https://api.github.com/users/dnicolodi/following{/other_user}","gists_url":"https://api.github.com/users/dnicolodi/gists{/gist_id}","starred_url":"https://api.github.com/users/dnicolodi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dnicolodi/subscriptions","organizations_url":"https://api.github.com/users/dnicolodi/orgs","repos_url":"https://api.github.com/users/dnicolodi/repos","events_url":"https://api.github.com/users/dnicolodi/events{/privacy}","received_events_url":"https://api.github.com/users/dnicolodi/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"open","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":0,"created_at":"2021-05-29T19:37:15Z","updated_at":"2025-05-23T21:22:45Z","closed_at":null,"author_association":"COLLABORATOR","type":null,"active_lock_reason":null,"draft":false,"pull_request":{"url":"https://api.github.com/repos/beancount/beancount/pulls/660","html_url":"https://github.com/beancount/beancount/pull/660","diff_url":"https://github.com/beancount/beancount/pull/660.diff","patch_url":"https://github.com/beancount/beancount/pull/660.patch","merged_at":null},"body":"I went ahead and implemented the `include` directive as a literal include. The code is simpler than the existing and the end result should be much less surprising. I cannot think to an use case where the current implementation is better. This replaces #657.","closed_by":null,"reactions":{"url":"https://api.github.com/repos/beancount/beancount/issues/660/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beancount/issues/660/timeline","performed_via_github_app":null,"state_reason":null},{"url":"https://api.github.com/repos/beancount/beancount/issues/659","repository_url":"https://api.github.com/repos/beancount/beancount","labels_url":"https://api.github.com/repos/beancount/beancount/issues/659/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beancount/issues/659/comments","events_url":"https://api.github.com/repos/beancount/beancount/issues/659/events","html_url":"https://github.com/beancount/beancount/pull/659","id":902881641,"node_id":"MDExOlB1bGxSZXF1ZXN0NjU0MjAxMDQx","number":659,"title":"parser: Stop pretending we support encodings other than UTF-8","user":{"login":"dnicolodi","id":987145,"node_id":"MDQ6VXNlcjk4NzE0NQ==","avatar_url":"https://avatars.githubusercontent.com/u/987145?v=4","gravatar_id":"","url":"https://api.github.com/users/dnicolodi","html_url":"https://github.com/dnicolodi","followers_url":"https://api.github.com/users/dnicolodi/followers","following_url":"https://api.github.com/users/dnicolodi/following{/other_user}","gists_url":"https://api.github.com/users/dnicolodi/gists{/gist_id}","starred_url":"https://api.github.com/users/dnicolodi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dnicolodi/subscriptions","organizations_url":"https://api.github.com/users/dnicolodi/orgs","repos_url":"https://api.github.com/users/dnicolodi/repos","events_url":"https://api.github.com/users/dnicolodi/events{/privacy}","received_events_url":"https://api.github.com/users/dnicolodi/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":2,"created_at":"2021-05-26T20:23:37Z","updated_at":"2021-05-31T09:09:25Z","closed_at":"2021-05-31T02:06:30Z","author_association":"COLLABORATOR","type":null,"active_lock_reason":null,"draft":false,"pull_request":{"url":"https://api.github.com/repos/beancount/beancount/pulls/659","html_url":"https://github.com/beancount/beancount/pull/659","diff_url":"https://github.com/beancount/beancount/pull/659.diff","patch_url":"https://github.com/beancount/beancount/pull/659.patch","merged_at":"2021-05-31T02:06:29Z"},"body":"During the work on the include directive I had to think about which encoding to use for the included files. And I realized that our encoding support is mostly a joke. Ripping it out completely is easier and more honest.\r\n\r\nThe parser does not really understand any encoding other than UTF-8. Support for other encodings is limited to string literals, which makes sense only for a very limited subset of encodings.\r\n\r\nThe limited support for other encodings is not exposed to the command line tools and no one ever complained, so I assume that all Beancount users use systems with UTF-8 default encoding or arrange for their ledgers to be encoded in UTF-8 or in an encoding which is subset equivalent to UTF-8 like ascii or latin1.\r\n\r\nI stopped at the innermost interface layer in removing the `encoding` argument to parser functions. It can be removed all the way and we can be happy supporting UTF-8 only (which is not a bad choice in 2021, IMHO) or we can support ether encodings via transparent recoding using, for example, `codecs.EncodedFile`.","closed_by":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/beancount/beancount/issues/659/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beancount/issues/659/timeline","performed_via_github_app":null,"state_reason":null},{"url":"https://api.github.com/repos/beancount/beancount/issues/657","repository_url":"https://api.github.com/repos/beancount/beancount","labels_url":"https://api.github.com/repos/beancount/beancount/issues/657/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beancount/issues/657/comments","events_url":"https://api.github.com/repos/beancount/beancount/issues/657/events","html_url":"https://github.com/beancount/beancount/pull/657","id":900026497,"node_id":"MDExOlB1bGxSZXF1ZXN0NjUxNjQyNjE1","number":657,"title":"parser: Implement an #include directive","user":{"login":"dnicolodi","id":987145,"node_id":"MDQ6VXNlcjk4NzE0NQ==","avatar_url":"https://avatars.githubusercontent.com/u/987145?v=4","gravatar_id":"","url":"https://api.github.com/users/dnicolodi","html_url":"https://github.com/dnicolodi","followers_url":"https://api.github.com/users/dnicolodi/followers","following_url":"https://api.github.com/users/dnicolodi/following{/other_user}","gists_url":"https://api.github.com/users/dnicolodi/gists{/gist_id}","starred_url":"https://api.github.com/users/dnicolodi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dnicolodi/subscriptions","organizations_url":"https://api.github.com/users/dnicolodi/orgs","repos_url":"https://api.github.com/users/dnicolodi/repos","events_url":"https://api.github.com/users/dnicolodi/events{/privacy}","received_events_url":"https://api.github.com/users/dnicolodi/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"open","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":5,"created_at":"2021-05-24T21:24:48Z","updated_at":"2025-12-22T02:33:45Z","closed_at":null,"author_association":"COLLABORATOR","type":null,"active_lock_reason":null,"draft":false,"pull_request":{"url":"https://api.github.com/repos/beancount/beancount/pulls/657","html_url":"https://github.com/beancount/beancount/pull/657","diff_url":"https://github.com/beancount/beancount/pull/657.diff","patch_url":"https://github.com/beancount/beancount/pull/657.patch","merged_at":null},"body":"The existing `include` directive has several limitations and its behavior is counterintuitive. Add an `#include` directive that works similarly as the C preprocessor homonym directive and hopefully less surprisingly. Other options could be `!include` or `.include` or simply rework the existing `include` directive to work this way. I vote for the latter option for v3. If we want to merge this into v2 maybe one of the other options is best for backward compatibility.\r\n\r\nThe cache invalidation part is not implemented yet, but this should give a flavor of the required parser changes.\r\n\r\nAlso the validation of the `#include` line needs to be improved somehow. Handling the include directly in the lexer makes it transparent to the other parts of the parser (which I think is a good thing) but makes the parsing of the include directive itself more cumbersome.\r\n\r\nIt currently does not support including encrypted files. Adding support for this is straightforward, but I have no idea of how much this feature is used and whether it makes sense to keep supporting it in v3.\r\n\r\nSee #653.","closed_by":null,"reactions":{"url":"https://api.github.com/repos/beancount/beancount/issues/657/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beancount/issues/657/timeline","performed_via_github_app":null,"state_reason":null},{"url":"https://api.github.com/repos/beancount/beancount/issues/656","repository_url":"https://api.github.com/repos/beancount/beancount","labels_url":"https://api.github.com/repos/beancount/beancount/issues/656/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beancount/issues/656/comments","events_url":"https://api.github.com/repos/beancount/beancount/issues/656/events","html_url":"https://github.com/beancount/beancount/pull/656","id":899060882,"node_id":"MDExOlB1bGxSZXF1ZXN0NjUwODE5OTUw","number":656,"title":"Assorted cleanups","user":{"login":"dnicolodi","id":987145,"node_id":"MDQ6VXNlcjk4NzE0NQ==","avatar_url":"https://avatars.githubusercontent.com/u/987145?v=4","gravatar_id":"","url":"https://api.github.com/users/dnicolodi","html_url":"https://github.com/dnicolodi","followers_url":"https://api.github.com/users/dnicolodi/followers","following_url":"https://api.github.com/users/dnicolodi/following{/other_user}","gists_url":"https://api.github.com/users/dnicolodi/gists{/gist_id}","starred_url":"https://api.github.com/users/dnicolodi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dnicolodi/subscriptions","organizations_url":"https://api.github.com/users/dnicolodi/orgs","repos_url":"https://api.github.com/users/dnicolodi/repos","events_url":"https://api.github.com/users/dnicolodi/events{/privacy}","received_events_url":"https://api.github.com/users/dnicolodi/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":1,"created_at":"2021-05-23T16:47:30Z","updated_at":"2021-05-23T17:35:16Z","closed_at":"2021-05-23T17:35:16Z","author_association":"COLLABORATOR","type":null,"active_lock_reason":null,"draft":false,"pull_request":{"url":"https://api.github.com/repos/beancount/beancount/pulls/656","html_url":"https://github.com/beancount/beancount/pull/656","diff_url":"https://github.com/beancount/beancount/pull/656.diff","patch_url":"https://github.com/beancount/beancount/pull/656.patch","merged_at":"2021-05-23T17:35:16Z"},"body":"","closed_by":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/beancount/beancount/issues/656/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beancount/issues/656/timeline","performed_via_github_app":null,"state_reason":null},{"url":"https://api.github.com/repos/beancount/beancount/issues/655","repository_url":"https://api.github.com/repos/beancount/beancount","labels_url":"https://api.github.com/repos/beancount/beancount/issues/655/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beancount/issues/655/comments","events_url":"https://api.github.com/repos/beancount/beancount/issues/655/events","html_url":"https://github.com/beancount/beancount/pull/655","id":898990704,"node_id":"MDExOlB1bGxSZXF1ZXN0NjUwNzY2ODQ3","number":655,"title":"Reduce dependencies","user":{"login":"dnicolodi","id":987145,"node_id":"MDQ6VXNlcjk4NzE0NQ==","avatar_url":"https://avatars.githubusercontent.com/u/987145?v=4","gravatar_id":"","url":"https://api.github.com/users/dnicolodi","html_url":"https://github.com/dnicolodi","followers_url":"https://api.github.com/users/dnicolodi/followers","following_url":"https://api.github.com/users/dnicolodi/following{/other_user}","gists_url":"https://api.github.com/users/dnicolodi/gists{/gist_id}","starred_url":"https://api.github.com/users/dnicolodi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dnicolodi/subscriptions","organizations_url":"https://api.github.com/users/dnicolodi/orgs","repos_url":"https://api.github.com/users/dnicolodi/repos","events_url":"https://api.github.com/users/dnicolodi/events{/privacy}","received_events_url":"https://api.github.com/users/dnicolodi/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":1,"created_at":"2021-05-23T10:48:34Z","updated_at":"2021-05-23T13:31:19Z","closed_at":"2021-05-23T13:31:19Z","author_association":"COLLABORATOR","type":null,"active_lock_reason":null,"draft":false,"pull_request":{"url":"https://api.github.com/repos/beancount/beancount/pulls/655","html_url":"https://github.com/beancount/beancount/pull/655","diff_url":"https://github.com/beancount/beancount/pull/655.diff","patch_url":"https://github.com/beancount/beancount/pull/655.patch","merged_at":"2021-05-23T13:31:18Z"},"body":"Now that `upload-to-sheets` has been moved we can reduce the list of dependencies significantly. There is still an optional but somehow large and somehow obscure dependency on `lxml` that may need some more thought.","closed_by":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/beancount/beancount/issues/655/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beancount/issues/655/timeline","performed_via_github_app":null,"state_reason":null},{"url":"https://api.github.com/repos/beancount/beancount/issues/654","repository_url":"https://api.github.com/repos/beancount/beancount","labels_url":"https://api.github.com/repos/beancount/beancount/issues/654/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beancount/issues/654/comments","events_url":"https://api.github.com/repos/beancount/beancount/issues/654/events","html_url":"https://github.com/beancount/beancount/issues/654","id":898155429,"node_id":"MDU6SXNzdWU4OTgxNTU0Mjk=","number":654,"title":"Move `upload-to-sheets` somewhere else and slim down dependencies","user":{"login":"dnicolodi","id":987145,"node_id":"MDQ6VXNlcjk4NzE0NQ==","avatar_url":"https://avatars.githubusercontent.com/u/987145?v=4","gravatar_id":"","url":"https://api.github.com/users/dnicolodi","html_url":"https://github.com/dnicolodi","followers_url":"https://api.github.com/users/dnicolodi/followers","following_url":"https://api.github.com/users/dnicolodi/following{/other_user}","gists_url":"https://api.github.com/users/dnicolodi/gists{/gist_id}","starred_url":"https://api.github.com/users/dnicolodi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dnicolodi/subscriptions","organizations_url":"https://api.github.com/users/dnicolodi/orgs","repos_url":"https://api.github.com/users/dnicolodi/repos","events_url":"https://api.github.com/users/dnicolodi/events{/privacy}","received_events_url":"https://api.github.com/users/dnicolodi/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":4,"created_at":"2021-05-21T15:28:06Z","updated_at":"2021-05-23T16:56:36Z","closed_at":"2021-05-23T16:56:36Z","author_association":"COLLABORATOR","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"With bits and pieces splitting off the main beancount repository and package, it would be nice to move `upload-to-sheets` somewhere else (beanlabs?). I don't think this tool belongs with the rest of the beancount and removing it would allow to slim down considerably the (transitive) dependencies.\r\n\r\nWith `upload-to-sheets` gone, the only dependencies would be `python-dateutil` (which we can consider ditching once we can switch to the timezone handling in recent Python releases), `ply` (which also goes away once we promote the `beanquery` package as official source for the `bean-query` utility), `pytest` (that can be reduced to an optional dependency to run the test, although this requires adjusting some code that depends on it), and `click` (which does not have dependencies outside the standard library). In contrast the `google-api-python-client` required by `upload-to-sheets` brings in a couple of dozen packages.","closed_by":{"login":"dnicolodi","id":987145,"node_id":"MDQ6VXNlcjk4NzE0NQ==","avatar_url":"https://avatars.githubusercontent.com/u/987145?v=4","gravatar_id":"","url":"https://api.github.com/users/dnicolodi","html_url":"https://github.com/dnicolodi","followers_url":"https://api.github.com/users/dnicolodi/followers","following_url":"https://api.github.com/users/dnicolodi/following{/other_user}","gists_url":"https://api.github.com/users/dnicolodi/gists{/gist_id}","starred_url":"https://api.github.com/users/dnicolodi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dnicolodi/subscriptions","organizations_url":"https://api.github.com/users/dnicolodi/orgs","repos_url":"https://api.github.com/users/dnicolodi/repos","events_url":"https://api.github.com/users/dnicolodi/events{/privacy}","received_events_url":"https://api.github.com/users/dnicolodi/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/beancount/beancount/issues/654/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beancount/issues/654/timeline","performed_via_github_app":null,"state_reason":"completed"},{"url":"https://api.github.com/repos/beancount/beancount/issues/653","repository_url":"https://api.github.com/repos/beancount/beancount","labels_url":"https://api.github.com/repos/beancount/beancount/issues/653/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beancount/issues/653/comments","events_url":"https://api.github.com/repos/beancount/beancount/issues/653/events","html_url":"https://github.com/beancount/beancount/issues/653","id":897545843,"node_id":"MDU6SXNzdWU4OTc1NDU4NDM=","number":653,"title":"Different behavior when using \"include\"","user":{"login":"hellige","id":14448,"node_id":"MDQ6VXNlcjE0NDQ4","avatar_url":"https://avatars.githubusercontent.com/u/14448?v=4","gravatar_id":"","url":"https://api.github.com/users/hellige","html_url":"https://github.com/hellige","followers_url":"https://api.github.com/users/hellige/followers","following_url":"https://api.github.com/users/hellige/following{/other_user}","gists_url":"https://api.github.com/users/hellige/gists{/gist_id}","starred_url":"https://api.github.com/users/hellige/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hellige/subscriptions","organizations_url":"https://api.github.com/users/hellige/orgs","repos_url":"https://api.github.com/users/hellige/repos","events_url":"https://api.github.com/users/hellige/events{/privacy}","received_events_url":"https://api.github.com/users/hellige/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"open","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":11,"created_at":"2021-05-20T23:25:40Z","updated_at":"2025-03-09T13:12:10Z","closed_at":null,"author_association":"NONE","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"I'm exploring beancount, hoping to migrate a few different projects from ledger, some personal books as well as the bookkeeping system that I handle for a non-profit. There are a bunch of things I find very attractive about beancount, but there are a few sticking points and trade-offs, especially in the non-profit scenario. So, most likely I'll have other questions while I try to figure out whether I can make this transition successfully.\r\n\r\nBut right away I ran into something very strange. I use the include directive heavily, organizing things into sub-directories by year, transaction type, etc. But right away, I see several behavioral differences when I  move transactions into include files. The number of decimal places changes, as well as the output alignment of bean-report.\r\n\r\nIn bar.beancount:\r\n\r\n```\r\n    2021-01-01 open Assets:Cash\r\n    2021-01-01 open Expenses:Blah\r\n\r\n    2021-01-01 * \"Test\"\r\n      Assets:Cash         -100.00 USD\r\n      Expenses:Blah\r\n```\r\n\r\nAnd in foo.beancount:\r\n\r\n`    include \"bar.beancount\"`\r\n\r\nThen:\r\n\r\n```\r\n    $ bean-report bar.beancount bal\r\n    Assets:Cash     -100.00 USD\r\n    Equity\r\n    Expenses:Blah    100.00 USD\r\n    Income\r\n    Liabilities\r\n```\r\n\r\nBut:\r\n\r\n```\r\n    $ bean-report foo.beancount bal\r\n    Assets:Cash   -100.00000000 USD\r\n    Equity\r\n    Expenses:Blah 100.00000000 USD\r\n    Income\r\n    Liabilities\r\n\r\n```\r\nThis seems totally bizarre... Googling, I found a few discussions of this type of issue, but no firm conclusions about whether or not it's a bug. I found that I can fix the decimal inference by adding a bogus transaction to the root file (but this is not really a long-term solution for a collection of books, where the root file is mostly just global options and accounts can be opened/closed as needed, by date, in individual years). And even so, I still can't fix the alignment issue.\r\n\r\nMore generally, this is concerning to me, because it seems to completely violate the stream-processing date-ordered philosophy of beancount, which is one of the things that really appealed to me in the first place. In fact, the beancount docs themselves explictly say: \"All directives are parsed and then basically stably sorted before any calculation or validation occurs. This also makes it trivial to implement inclusions of multiple files (you can just concatenate the files if you want).\" But this is certainly not true!\r\n\r\nSo, is this the expected behavior, or is this a bug? Is there any way to add explicit options to the top-level file to guarantee that the file-location of transactions really makes absolutely no difference? It doesn't seem to happen in `bean-query`, so maybe I should just presume that that's the future...","closed_by":null,"reactions":{"url":"https://api.github.com/repos/beancount/beancount/issues/653/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beancount/issues/653/timeline","performed_via_github_app":null,"state_reason":null},{"url":"https://api.github.com/repos/beancount/beancount/issues/652","repository_url":"https://api.github.com/repos/beancount/beancount","labels_url":"https://api.github.com/repos/beancount/beancount/issues/652/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beancount/issues/652/comments","events_url":"https://api.github.com/repos/beancount/beancount/issues/652/events","html_url":"https://github.com/beancount/beancount/pull/652","id":892319408,"node_id":"MDExOlB1bGxSZXF1ZXN0NjQ1MDUyMTI1","number":652,"title":"Aggregate the state of DisplayContext across parsed files","user":{"login":"upsuper","id":333750,"node_id":"MDQ6VXNlcjMzMzc1MA==","avatar_url":"https://avatars.githubusercontent.com/u/333750?v=4","gravatar_id":"","url":"https://api.github.com/users/upsuper","html_url":"https://github.com/upsuper","followers_url":"https://api.github.com/users/upsuper/followers","following_url":"https://api.github.com/users/upsuper/following{/other_user}","gists_url":"https://api.github.com/users/upsuper/gists{/gist_id}","starred_url":"https://api.github.com/users/upsuper/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/upsuper/subscriptions","organizations_url":"https://api.github.com/users/upsuper/orgs","repos_url":"https://api.github.com/users/upsuper/repos","events_url":"https://api.github.com/users/upsuper/events{/privacy}","received_events_url":"https://api.github.com/users/upsuper/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":2,"created_at":"2021-05-15T00:41:02Z","updated_at":"2021-05-28T11:52:59Z","closed_at":"2021-05-15T02:59:44Z","author_association":"CONTRIBUTOR","type":null,"active_lock_reason":null,"draft":false,"pull_request":{"url":"https://api.github.com/repos/beancount/beancount/pulls/652","html_url":"https://github.com/beancount/beancount/pull/652","diff_url":"https://github.com/beancount/beancount/pull/652.diff","patch_url":"https://github.com/beancount/beancount/pull/652.patch","merged_at":"2021-05-15T02:59:44Z"},"body":"This fixes #131.","closed_by":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/beancount/beancount/issues/652/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beancount/issues/652/timeline","performed_via_github_app":null,"state_reason":null},{"url":"https://api.github.com/repos/beancount/beancount/issues/651","repository_url":"https://api.github.com/repos/beancount/beancount","labels_url":"https://api.github.com/repos/beancount/beancount/issues/651/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beancount/issues/651/comments","events_url":"https://api.github.com/repos/beancount/beancount/issues/651/events","html_url":"https://github.com/beancount/beancount/issues/651","id":875840197,"node_id":"MDU6SXNzdWU4NzU4NDAxOTc=","number":651,"title":"Did `ingest` disappear ?","user":{"login":"gagbo","id":10496163,"node_id":"MDQ6VXNlcjEwNDk2MTYz","avatar_url":"https://avatars.githubusercontent.com/u/10496163?v=4","gravatar_id":"","url":"https://api.github.com/users/gagbo","html_url":"https://github.com/gagbo","followers_url":"https://api.github.com/users/gagbo/followers","following_url":"https://api.github.com/users/gagbo/following{/other_user}","gists_url":"https://api.github.com/users/gagbo/gists{/gist_id}","starred_url":"https://api.github.com/users/gagbo/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gagbo/subscriptions","organizations_url":"https://api.github.com/users/gagbo/orgs","repos_url":"https://api.github.com/users/gagbo/repos","events_url":"https://api.github.com/users/gagbo/events{/privacy}","received_events_url":"https://api.github.com/users/gagbo/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":2,"created_at":"2021-05-04T21:09:53Z","updated_at":"2021-05-05T11:02:11Z","closed_at":"2021-05-05T11:02:10Z","author_association":"NONE","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"Hello,\r\n\r\nI installed Beancount with git on master just right now (assuming e1716b4 ), on a fresh-ish install of Fedora 34, just in `~/.local/lib/`, using `pip install --user git+https://github.com/beancount/beancount#egg=beancount`, and I installed fava using the Pypi package.\r\n\r\nWhen I try to start fava (for anything, either `fava ledger.beancount` or `fava --help`) I have\r\n\r\n```\r\nTraceback (most recent call last):\r\n  File \"/home/gagbo/.local/bin/fava\", line 5, in <module>\r\n    from fava.cli import main\r\n  File \"/home/gagbo/.local/lib/python3.9/site-packages/fava/cli.py\", line 11, in <module>\r\n    from fava.application import app\r\n  File \"/home/gagbo/.local/lib/python3.9/site-packages/fava/application.py\", line 40, in <module>\r\n    from fava import template_filters\r\n  File \"/home/gagbo/.local/lib/python3.9/site-packages/fava/template_filters.py\", line 21, in <module>\r\n    from fava.context import g\r\n  File \"/home/gagbo/.local/lib/python3.9/site-packages/fava/context.py\", line 6, in <module>\r\n    from fava.core import FavaLedger\r\n  File \"/home/gagbo/.local/lib/python3.9/site-packages/fava/core/__init__.py\", line 58, in <module>\r\n    from fava.core.ingest import IngestModule\r\n  File \"/home/gagbo/.local/lib/python3.9/site-packages/fava/core/ingest.py\", line 12, in <module>\r\n    from beancount.ingest import cache  # type: ignore\r\nModuleNotFoundError: No module named 'beancount.ingest'\r\n```\r\n\r\nIs there anything I can do to make it work ?\r\n\r\nThanks for your work on beancount, it really helps me a lot","closed_by":{"login":"gagbo","id":10496163,"node_id":"MDQ6VXNlcjEwNDk2MTYz","avatar_url":"https://avatars.githubusercontent.com/u/10496163?v=4","gravatar_id":"","url":"https://api.github.com/users/gagbo","html_url":"https://github.com/gagbo","followers_url":"https://api.github.com/users/gagbo/followers","following_url":"https://api.github.com/users/gagbo/following{/other_user}","gists_url":"https://api.github.com/users/gagbo/gists{/gist_id}","starred_url":"https://api.github.com/users/gagbo/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gagbo/subscriptions","organizations_url":"https://api.github.com/users/gagbo/orgs","repos_url":"https://api.github.com/users/gagbo/repos","events_url":"https://api.github.com/users/gagbo/events{/privacy}","received_events_url":"https://api.github.com/users/gagbo/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/beancount/beancount/issues/651/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beancount/issues/651/timeline","performed_via_github_app":null,"state_reason":"completed"},{"url":"https://api.github.com/repos/beancount/beancount/issues/650","repository_url":"https://api.github.com/repos/beancount/beancount","labels_url":"https://api.github.com/repos/beancount/beancount/issues/650/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beancount/issues/650/comments","events_url":"https://api.github.com/repos/beancount/beancount/issues/650/events","html_url":"https://github.com/beancount/beancount/issues/650","id":866684588,"node_id":"MDU6SXNzdWU4NjY2ODQ1ODg=","number":650,"title":"Surprising sort behaviour for inventories","user":{"login":"yagebu","id":2482259,"node_id":"MDQ6VXNlcjI0ODIyNTk=","avatar_url":"https://avatars.githubusercontent.com/u/2482259?v=4","gravatar_id":"","url":"https://api.github.com/users/yagebu","html_url":"https://github.com/yagebu","followers_url":"https://api.github.com/users/yagebu/followers","following_url":"https://api.github.com/users/yagebu/following{/other_user}","gists_url":"https://api.github.com/users/yagebu/gists{/gist_id}","starred_url":"https://api.github.com/users/yagebu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/yagebu/subscriptions","organizations_url":"https://api.github.com/users/yagebu/orgs","repos_url":"https://api.github.com/users/yagebu/repos","events_url":"https://api.github.com/users/yagebu/events{/privacy}","received_events_url":"https://api.github.com/users/yagebu/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":2080994777,"node_id":"MDU6TGFiZWwyMDgwOTk0Nzc3","url":"https://api.github.com/repos/beancount/beancount/labels/P1","name":"P1","color":"ff6666","default":false,"description":"High priority, not breaking but hindering or lessening existing functionality"},{"id":2080995603,"node_id":"MDU6TGFiZWwyMDgwOTk1NjAz","url":"https://api.github.com/repos/beancount/beancount/labels/core-ops","name":"core-ops","color":"ededed","default":false,"description":"Component: Core data structures and stream ops"},{"id":2082671637,"node_id":"MDU6TGFiZWwyMDgyNjcxNjM3","url":"https://api.github.com/repos/beancount/beancount/labels/V3","name":"V3","color":"1762b2","default":false,"description":"Issues that will be addressed in the V3 C++ rewrite."}],"state":"open","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":2,"created_at":"2021-04-24T07:39:38Z","updated_at":"2021-04-25T09:12:53Z","closed_at":null,"author_association":"MEMBER","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"When Beancount compares two inventories (`__lt__`), it compares the sorted lists of positions in those inventories. Positions are sorted by currency ([with major currencies first and then by length)](https://github.com/beancount/beancount/blob/e1716b492c7619682a6d7c33c4873aa41954af1e/beancount/core/position.py#L216)) so that leads to the following surprising result:\r\n\r\n```python\r\nfrom beancount.core.inventory import Inventory\r\n\r\ninv = Inventory.from_string('10 AA, 10 BB')\r\ninv2 = Inventory.from_string('10 BB')\r\n\r\nprint(inv > inv2)  # False\r\n```\r\n\r\nI believe the more \"correct\" thing here would be to ensure that when comparing, we match up positions in the compared inventories. So in the above example, we'd not compare `10 AA` to `10 BB` but rather to `0 AA`.\r\n\r\nSince I don't really think that there's a very meaningful total order on all inventories, I'm not too fussed by this, but this could be considered for v3.","closed_by":null,"reactions":{"url":"https://api.github.com/repos/beancount/beancount/issues/650/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beancount/issues/650/timeline","performed_via_github_app":null,"state_reason":null},{"url":"https://api.github.com/repos/beancount/beancount/issues/649","repository_url":"https://api.github.com/repos/beancount/beancount","labels_url":"https://api.github.com/repos/beancount/beancount/issues/649/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beancount/issues/649/comments","events_url":"https://api.github.com/repos/beancount/beancount/issues/649/events","html_url":"https://github.com/beancount/beancount/issues/649","id":866252078,"node_id":"MDU6SXNzdWU4NjYyNTIwNzg=","number":649,"title":"Is there a reason why parse.parse_file() sorts entries by date?","user":{"login":"dnicolodi","id":987145,"node_id":"MDQ6VXNlcjk4NzE0NQ==","avatar_url":"https://avatars.githubusercontent.com/u/987145?v=4","gravatar_id":"","url":"https://api.github.com/users/dnicolodi","html_url":"https://github.com/dnicolodi","followers_url":"https://api.github.com/users/dnicolodi/followers","following_url":"https://api.github.com/users/dnicolodi/following{/other_user}","gists_url":"https://api.github.com/users/dnicolodi/gists{/gist_id}","starred_url":"https://api.github.com/users/dnicolodi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dnicolodi/subscriptions","organizations_url":"https://api.github.com/users/dnicolodi/orgs","repos_url":"https://api.github.com/users/dnicolodi/repos","events_url":"https://api.github.com/users/dnicolodi/events{/privacy}","received_events_url":"https://api.github.com/users/dnicolodi/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"open","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":4,"created_at":"2021-04-23T16:13:20Z","updated_at":"2021-05-04T16:23:07Z","closed_at":null,"author_association":"COLLABORATOR","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"The sorting gets in the way of scripts that try to programmatically update the ledger. It is not a big deal because the original order can be obtained sorting again the entries by line number `entries.sort(key=lambda x: x.meta['lineno'])` but it is a bit surprising that the parsed entries are returned in an order different than the file order.","closed_by":null,"reactions":{"url":"https://api.github.com/repos/beancount/beancount/issues/649/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beancount/issues/649/timeline","performed_via_github_app":null,"state_reason":null},{"url":"https://api.github.com/repos/beancount/beancount/issues/648","repository_url":"https://api.github.com/repos/beancount/beancount","labels_url":"https://api.github.com/repos/beancount/beancount/issues/648/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beancount/issues/648/comments","events_url":"https://api.github.com/repos/beancount/beancount/issues/648/events","html_url":"https://github.com/beancount/beancount/pull/648","id":860165383,"node_id":"MDExOlB1bGxSZXF1ZXN0NjE3MTE5MjMx","number":648,"title":"query: Fix meta() BQL function when used in the FROM clause","user":{"login":"dnicolodi","id":987145,"node_id":"MDQ6VXNlcjk4NzE0NQ==","avatar_url":"https://avatars.githubusercontent.com/u/987145?v=4","gravatar_id":"","url":"https://api.github.com/users/dnicolodi","html_url":"https://github.com/dnicolodi","followers_url":"https://api.github.com/users/dnicolodi/followers","following_url":"https://api.github.com/users/dnicolodi/following{/other_user}","gists_url":"https://api.github.com/users/dnicolodi/gists{/gist_id}","starred_url":"https://api.github.com/users/dnicolodi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dnicolodi/subscriptions","organizations_url":"https://api.github.com/users/dnicolodi/orgs","repos_url":"https://api.github.com/users/dnicolodi/repos","events_url":"https://api.github.com/users/dnicolodi/events{/privacy}","received_events_url":"https://api.github.com/users/dnicolodi/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":0,"created_at":"2021-04-16T20:53:03Z","updated_at":"2021-04-17T05:36:30Z","closed_at":"2021-04-17T05:36:30Z","author_association":"COLLABORATOR","type":null,"active_lock_reason":null,"draft":false,"pull_request":{"url":"https://api.github.com/repos/beancount/beancount/pulls/648","html_url":"https://github.com/beancount/beancount/pull/648","diff_url":"https://github.com/beancount/beancount/pull/648.diff","patch_url":"https://github.com/beancount/beancount/pull/648.patch","merged_at":"2021-04-17T05:36:30Z"},"body":"Using the BQL meta() function is the query FROM clause does not make\r\nmuch sense as there are no posting to operate on in this context, only\r\nentries, but raising an exception does not seem useful. Make meta()\r\nsimply return None in this context.\r\n\r\nThe issue in in master and in beanquery too, but these start to be too many places where to apply the same fix.","closed_by":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/beancount/beancount/issues/648/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beancount/issues/648/timeline","performed_via_github_app":null,"state_reason":null},{"url":"https://api.github.com/repos/beancount/beancount/issues/647","repository_url":"https://api.github.com/repos/beancount/beancount","labels_url":"https://api.github.com/repos/beancount/beancount/issues/647/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beancount/issues/647/comments","events_url":"https://api.github.com/repos/beancount/beancount/issues/647/events","html_url":"https://github.com/beancount/beancount/pull/647","id":855328711,"node_id":"MDExOlB1bGxSZXF1ZXN0NjEzMDkwMTc0","number":647,"title":"bean-example: Fix one more corner case of iterator exhaustion","user":{"login":"dnicolodi","id":987145,"node_id":"MDQ6VXNlcjk4NzE0NQ==","avatar_url":"https://avatars.githubusercontent.com/u/987145?v=4","gravatar_id":"","url":"https://api.github.com/users/dnicolodi","html_url":"https://github.com/dnicolodi","followers_url":"https://api.github.com/users/dnicolodi/followers","following_url":"https://api.github.com/users/dnicolodi/following{/other_user}","gists_url":"https://api.github.com/users/dnicolodi/gists{/gist_id}","starred_url":"https://api.github.com/users/dnicolodi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dnicolodi/subscriptions","organizations_url":"https://api.github.com/users/dnicolodi/orgs","repos_url":"https://api.github.com/users/dnicolodi/repos","events_url":"https://api.github.com/users/dnicolodi/events{/privacy}","received_events_url":"https://api.github.com/users/dnicolodi/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":1,"created_at":"2021-04-11T15:02:33Z","updated_at":"2021-04-11T18:05:37Z","closed_at":"2021-04-11T18:05:37Z","author_association":"COLLABORATOR","type":null,"active_lock_reason":null,"draft":false,"pull_request":{"url":"https://api.github.com/repos/beancount/beancount/pulls/647","html_url":"https://github.com/beancount/beancount/pull/647","diff_url":"https://github.com/beancount/beancount/pull/647.diff","patch_url":"https://github.com/beancount/beancount/pull/647.patch","merged_at":"2021-04-11T18:05:36Z"},"body":"This was merged into v2 but not into master.\r\n\r\nFixes #642.","closed_by":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/beancount/beancount/issues/647/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beancount/issues/647/timeline","performed_via_github_app":null,"state_reason":null},{"url":"https://api.github.com/repos/beancount/beancount/issues/646","repository_url":"https://api.github.com/repos/beancount/beancount","labels_url":"https://api.github.com/repos/beancount/beancount/issues/646/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beancount/issues/646/comments","events_url":"https://api.github.com/repos/beancount/beancount/issues/646/events","html_url":"https://github.com/beancount/beancount/pull/646","id":855327878,"node_id":"MDExOlB1bGxSZXF1ZXN0NjEzMDg5NTgy","number":646,"title":"cache: Fix head() decoding","user":{"login":"dnicolodi","id":987145,"node_id":"MDQ6VXNlcjk4NzE0NQ==","avatar_url":"https://avatars.githubusercontent.com/u/987145?v=4","gravatar_id":"","url":"https://api.github.com/users/dnicolodi","html_url":"https://github.com/dnicolodi","followers_url":"https://api.github.com/users/dnicolodi/followers","following_url":"https://api.github.com/users/dnicolodi/following{/other_user}","gists_url":"https://api.github.com/users/dnicolodi/gists{/gist_id}","starred_url":"https://api.github.com/users/dnicolodi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dnicolodi/subscriptions","organizations_url":"https://api.github.com/users/dnicolodi/orgs","repos_url":"https://api.github.com/users/dnicolodi/repos","events_url":"https://api.github.com/users/dnicolodi/events{/privacy}","received_events_url":"https://api.github.com/users/dnicolodi/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":1,"created_at":"2021-04-11T14:59:08Z","updated_at":"2021-04-11T18:06:57Z","closed_at":"2021-04-11T18:06:57Z","author_association":"COLLABORATOR","type":null,"active_lock_reason":null,"draft":false,"pull_request":{"url":"https://api.github.com/repos/beancount/beancount/pulls/646","html_url":"https://github.com/beancount/beancount/pull/646","diff_url":"https://github.com/beancount/beancount/pull/646.diff","patch_url":"https://github.com/beancount/beancount/pull/646.patch","merged_at":"2021-04-11T18:06:57Z"},"body":"Fix file head byte data decoding when the byte string read from the\r\nfile terminates in the middle of an unicode character represented by\r\nmore than une byte. This is likely to occur for vaiable width\r\nencodings such as utf8 with languages that uses characters beyond the\r\nascii set.\r\n\r\nFixes #645.","closed_by":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/beancount/beancount/issues/646/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beancount/issues/646/timeline","performed_via_github_app":null,"state_reason":null},{"url":"https://api.github.com/repos/beancount/beancount/issues/645","repository_url":"https://api.github.com/repos/beancount/beancount","labels_url":"https://api.github.com/repos/beancount/beancount/issues/645/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beancount/issues/645/comments","events_url":"https://api.github.com/repos/beancount/beancount/issues/645/events","html_url":"https://github.com/beancount/beancount/issues/645","id":852976872,"node_id":"MDU6SXNzdWU4NTI5NzY4NzI=","number":645,"title":"[v2] cache.head decode error sometimes when using with csv.Importer","user":{"login":"blackhuman","id":2269615,"node_id":"MDQ6VXNlcjIyNjk2MTU=","avatar_url":"https://avatars.githubusercontent.com/u/2269615?v=4","gravatar_id":"","url":"https://api.github.com/users/blackhuman","html_url":"https://github.com/blackhuman","followers_url":"https://api.github.com/users/blackhuman/followers","following_url":"https://api.github.com/users/blackhuman/following{/other_user}","gists_url":"https://api.github.com/users/blackhuman/gists{/gist_id}","starred_url":"https://api.github.com/users/blackhuman/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blackhuman/subscriptions","organizations_url":"https://api.github.com/users/blackhuman/orgs","repos_url":"https://api.github.com/users/blackhuman/repos","events_url":"https://api.github.com/users/blackhuman/events{/privacy}","received_events_url":"https://api.github.com/users/blackhuman/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":2,"created_at":"2021-04-08T01:49:01Z","updated_at":"2021-04-10T15:23:36Z","closed_at":"2021-04-10T15:23:35Z","author_association":"NONE","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"I'm using csv.Importer to import bills from some csv file, but encountered some issues when the csv file is utf8 encoded and has the 8192th bytes right in the middle of some 3-bytes(or 4-bytes) coded utf8 code. \r\nTable below as an example, 0-index based. The full demo text file is in 8192length.txt at the bottom of issue.\r\n| 0     |...8190|8191|8192 |8193   | 8194 |\r\n| ---  | ---      |---   |---    |---      | ---     |\r\n| \\x31| ...\\x31     |\\xF0 |  \\x9F|  \\x98 |  \\x81  |\r\n| 1| 1|😁|..|..|..|\r\n\r\n![image](https://user-images.githubusercontent.com/2269615/113953713-faf08280-984a-11eb-808d-a9dc9cbd7047.png)\r\nAfter some debug, I found that **csv.Importer** eventually invoke **cache.head** method to get contents from first 8192 bytes of the csv file for head checking purpose. At line 91 in cache.py file, `rawdata.decode(file_encoding)` raises the error in the above circumstances.\r\nhttps://github.com/beancount/beancount/blob/d0a3c1f145e48cfef48d32dcaf5d472668650f9c/beancount/ingest/importers/csv.py#L218\r\n\r\nhttps://github.com/beancount/beancount/blob/d0a3c1f145e48cfef48d32dcaf5d472668650f9c/beancount/ingest/cache.py#L79-L92\r\n\r\nTo deal with it in this case, is that possible to change\r\n```\r\nrawdata.decode(file_encoding)\r\n```\r\nto\r\n```\r\nrawdata.decode(file_encoding, errors='ignore')\r\n```\r\nBecuase the main purpose of cache.head method is refer to the right head, and one or two char loss is not a big deal in this case.\r\nMaybe the branch v2 is stale now, and should not be modified, I just thought if there is any chance before v3 is officially released.\r\n<details>\r\n  <summary>\r\n    8192length.txt\r\n  </summary>\r\n  <pre>\r\n111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111\r\n111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111\r\n111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111\r\n111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111\r\n111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111\r\n111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111\r\n111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111\r\n111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111\r\n111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111\r\n111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111\r\n111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111\r\n111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111\r\n111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111\r\n111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111\r\n111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111\r\n111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111\r\n111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111\r\n111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111\r\n111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111\r\n111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111\r\n111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111\r\n111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111\r\n111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111\r\n111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111\r\n111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111\r\n111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111\r\n111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111\r\n111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111\r\n111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111\r\n111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111\r\n111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111\r\n111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111\r\n111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111\r\n111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111\r\n111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111\r\n111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111\r\n111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111\r\n111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111\r\n111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111\r\n111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111\r\n111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111\r\n111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111\r\n111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111\r\n111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111\r\n111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111\r\n111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111\r\n111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111\r\n111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111\r\n111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111\r\n111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111\r\n111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111\r\n111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111\r\n111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111\r\n111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111\r\n111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111\r\n111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111\r\n111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111\r\n111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111\r\n111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111\r\n111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111\r\n111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111\r\n111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111\r\n111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111\r\n111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111\r\n111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111\r\n111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111\r\n111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111\r\n111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111\r\n111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111\r\n111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111\r\n111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111\r\n111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111\r\n111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111\r\n111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111\r\n111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111\r\n111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111\r\n111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111\r\n111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111\r\n111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111\r\n111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111\r\n111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111\r\n1111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111😁\r\n  </pre>\r\n</details>\r\n\r\nTest code [gist](https://gist.github.com/blackhuman/365ed05efc5758b475e95b21f5fcc00d)","closed_by":{"login":"blackhuman","id":2269615,"node_id":"MDQ6VXNlcjIyNjk2MTU=","avatar_url":"https://avatars.githubusercontent.com/u/2269615?v=4","gravatar_id":"","url":"https://api.github.com/users/blackhuman","html_url":"https://github.com/blackhuman","followers_url":"https://api.github.com/users/blackhuman/followers","following_url":"https://api.github.com/users/blackhuman/following{/other_user}","gists_url":"https://api.github.com/users/blackhuman/gists{/gist_id}","starred_url":"https://api.github.com/users/blackhuman/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blackhuman/subscriptions","organizations_url":"https://api.github.com/users/blackhuman/orgs","repos_url":"https://api.github.com/users/blackhuman/repos","events_url":"https://api.github.com/users/blackhuman/events{/privacy}","received_events_url":"https://api.github.com/users/blackhuman/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/beancount/beancount/issues/645/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beancount/issues/645/timeline","performed_via_github_app":null,"state_reason":"completed"},{"url":"https://api.github.com/repos/beancount/beancount/issues/644","repository_url":"https://api.github.com/repos/beancount/beancount","labels_url":"https://api.github.com/repos/beancount/beancount/issues/644/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beancount/issues/644/comments","events_url":"https://api.github.com/repos/beancount/beancount/issues/644/events","html_url":"https://github.com/beancount/beancount/pull/644","id":851764947,"node_id":"MDExOlB1bGxSZXF1ZXN0NjEwMTMxOTYw","number":644,"title":"bean-example: Fix one more corner case of iterator exhaustion","user":{"login":"dnicolodi","id":987145,"node_id":"MDQ6VXNlcjk4NzE0NQ==","avatar_url":"https://avatars.githubusercontent.com/u/987145?v=4","gravatar_id":"","url":"https://api.github.com/users/dnicolodi","html_url":"https://github.com/dnicolodi","followers_url":"https://api.github.com/users/dnicolodi/followers","following_url":"https://api.github.com/users/dnicolodi/following{/other_user}","gists_url":"https://api.github.com/users/dnicolodi/gists{/gist_id}","starred_url":"https://api.github.com/users/dnicolodi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dnicolodi/subscriptions","organizations_url":"https://api.github.com/users/dnicolodi/orgs","repos_url":"https://api.github.com/users/dnicolodi/repos","events_url":"https://api.github.com/users/dnicolodi/events{/privacy}","received_events_url":"https://api.github.com/users/dnicolodi/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":2,"created_at":"2021-04-06T19:56:54Z","updated_at":"2021-04-07T06:17:17Z","closed_at":"2021-04-06T22:09:43Z","author_association":"COLLABORATOR","type":null,"active_lock_reason":null,"draft":false,"pull_request":{"url":"https://api.github.com/repos/beancount/beancount/pulls/644","html_url":"https://github.com/beancount/beancount/pull/644","diff_url":"https://github.com/beancount/beancount/pull/644.diff","patch_url":"https://github.com/beancount/beancount/pull/644.patch","merged_at":"2021-04-06T22:09:43Z"},"body":"Fixes #642.\r\n\r\nShould be merged to v2 and master.","closed_by":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/beancount/beancount/issues/644/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beancount/issues/644/timeline","performed_via_github_app":null,"state_reason":null},{"url":"https://api.github.com/repos/beancount/beancount/issues/643","repository_url":"https://api.github.com/repos/beancount/beancount","labels_url":"https://api.github.com/repos/beancount/beancount/issues/643/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beancount/issues/643/comments","events_url":"https://api.github.com/repos/beancount/beancount/issues/643/events","html_url":"https://github.com/beancount/beancount/pull/643","id":848953110,"node_id":"MDExOlB1bGxSZXF1ZXN0NjA3ODA1OTAy","number":643,"title":"use env marker in `install_require`","user":{"login":"trim21","id":13553903,"node_id":"MDQ6VXNlcjEzNTUzOTAz","avatar_url":"https://avatars.githubusercontent.com/u/13553903?v=4","gravatar_id":"","url":"https://api.github.com/users/trim21","html_url":"https://github.com/trim21","followers_url":"https://api.github.com/users/trim21/followers","following_url":"https://api.github.com/users/trim21/following{/other_user}","gists_url":"https://api.github.com/users/trim21/gists{/gist_id}","starred_url":"https://api.github.com/users/trim21/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/trim21/subscriptions","organizations_url":"https://api.github.com/users/trim21/orgs","repos_url":"https://api.github.com/users/trim21/repos","events_url":"https://api.github.com/users/trim21/events{/privacy}","received_events_url":"https://api.github.com/users/trim21/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":11,"created_at":"2021-04-02T04:40:00Z","updated_at":"2021-04-02T09:09:13Z","closed_at":"2021-04-02T04:43:28Z","author_association":"CONTRIBUTOR","type":null,"active_lock_reason":null,"draft":false,"pull_request":{"url":"https://api.github.com/repos/beancount/beancount/pulls/643","html_url":"https://github.com/beancount/beancount/pull/643","diff_url":"https://github.com/beancount/beancount/pull/643.diff","patch_url":"https://github.com/beancount/beancount/pull/643.patch","merged_at":"2021-04-02T04:43:27Z"},"body":"This avoids some installer dependence resolve bug that can't detect `python-magic` isn't required on windows.","closed_by":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/beancount/beancount/issues/643/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beancount/issues/643/timeline","performed_via_github_app":null,"state_reason":null},{"url":"https://api.github.com/repos/beancount/beancount/issues/642","repository_url":"https://api.github.com/repos/beancount/beancount","labels_url":"https://api.github.com/repos/beancount/beancount/issues/642/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beancount/issues/642/comments","events_url":"https://api.github.com/repos/beancount/beancount/issues/642/events","html_url":"https://github.com/beancount/beancount/issues/642","id":847097366,"node_id":"MDU6SXNzdWU4NDcwOTczNjY=","number":642,"title":"bean-example date range floor","user":{"login":"radnonymous","id":74389363,"node_id":"MDQ6VXNlcjc0Mzg5MzYz","avatar_url":"https://avatars.githubusercontent.com/u/74389363?v=4","gravatar_id":"","url":"https://api.github.com/users/radnonymous","html_url":"https://github.com/radnonymous","followers_url":"https://api.github.com/users/radnonymous/followers","following_url":"https://api.github.com/users/radnonymous/following{/other_user}","gists_url":"https://api.github.com/users/radnonymous/gists{/gist_id}","starred_url":"https://api.github.com/users/radnonymous/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/radnonymous/subscriptions","organizations_url":"https://api.github.com/users/radnonymous/orgs","repos_url":"https://api.github.com/users/radnonymous/repos","events_url":"https://api.github.com/users/radnonymous/events{/privacy}","received_events_url":"https://api.github.com/users/radnonymous/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":0,"created_at":"2021-03-31T18:27:06Z","updated_at":"2021-04-11T18:05:37Z","closed_at":"2021-04-11T18:05:37Z","author_association":"NONE","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"A followup to #628 . \r\nThe minimum date range requirement when using bean-example has decreased to 1 month and 7 days.\r\n\r\n```\r\nbean-example>main.beancount --end-date 2019-02-06\r\nINFO    : Generating Salary Employment Income\r\nINFO    : Generating Expenses from Banking Accounts\r\nINFO    : Generating Regular Expenses via Credit Card\r\nINFO    : Generating Credit Card Expenses for Trips\r\nINFO    : Generating Credit Card Payment Entries\r\nTraceback (most recent call last):\r\n  File \"/usr/local/bin/bean-example\", line 33, in <module>\r\n    sys.exit(load_entry_point('beancount==2.3.3', 'console_scripts', 'bean-example')())\r\n  File \"/home/radnonymous/.local/lib/python3.6/site-packages/beancount/scripts/example.py\", line 1782, in main\r\n    file=output_file)\r\n  File \"/home/radnonymous/.local/lib/python3.6/site-packages/beancount/scripts/example.py\", line 1589, in write_example_file\r\n    account_credit, account_checking)\r\n  File \"/home/radnonymous/.local/lib/python3.6/site-packages/beancount/scripts/example.py\", line 963, in generate_clearing_entries\r\n    next_date = next(date_iter)\r\nStopIteration\r\n```","closed_by":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/beancount/beancount/issues/642/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beancount/issues/642/timeline","performed_via_github_app":null,"state_reason":"completed"},{"url":"https://api.github.com/repos/beancount/beancount/issues/641","repository_url":"https://api.github.com/repos/beancount/beancount","labels_url":"https://api.github.com/repos/beancount/beancount/issues/641/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beancount/issues/641/comments","events_url":"https://api.github.com/repos/beancount/beancount/issues/641/events","html_url":"https://github.com/beancount/beancount/issues/641","id":837083192,"node_id":"MDU6SXNzdWU4MzcwODMxOTI=","number":641,"title":"Is there a get_balance function in beancount?","user":{"login":"xfer44","id":44650030,"node_id":"MDQ6VXNlcjQ0NjUwMDMw","avatar_url":"https://avatars.githubusercontent.com/u/44650030?v=4","gravatar_id":"","url":"https://api.github.com/users/xfer44","html_url":"https://github.com/xfer44","followers_url":"https://api.github.com/users/xfer44/followers","following_url":"https://api.github.com/users/xfer44/following{/other_user}","gists_url":"https://api.github.com/users/xfer44/gists{/gist_id}","starred_url":"https://api.github.com/users/xfer44/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/xfer44/subscriptions","organizations_url":"https://api.github.com/users/xfer44/orgs","repos_url":"https://api.github.com/users/xfer44/repos","events_url":"https://api.github.com/users/xfer44/events{/privacy}","received_events_url":"https://api.github.com/users/xfer44/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":2,"created_at":"2021-03-21T13:50:43Z","updated_at":"2021-03-22T13:20:53Z","closed_at":"2021-03-21T14:21:51Z","author_association":"NONE","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"Hi,\r\n\r\nSorry for this very basic question.\r\nI looked around (ops/balance.py, core/account.py, or core/data.py) but I'm not able to find it in the source code or the documentation.\r\n\r\nIs there a function to get the balance of an account? Ideally, something like this pseudocode:\r\n\r\n```\r\nfrom beancount import loader\r\nentries, errors, options_map = loader.load_file(\"beancount file\")\r\nbalance_amount = get_balance(\"account_name\", entries)\r\n```\r\n\r\nThanks","closed_by":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/beancount/beancount/issues/641/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beancount/issues/641/timeline","performed_via_github_app":null,"state_reason":"completed"},{"url":"https://api.github.com/repos/beancount/beancount/issues/640","repository_url":"https://api.github.com/repos/beancount/beancount","labels_url":"https://api.github.com/repos/beancount/beancount/issues/640/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beancount/issues/640/comments","events_url":"https://api.github.com/repos/beancount/beancount/issues/640/events","html_url":"https://github.com/beancount/beancount/issues/640","id":836951272,"node_id":"MDU6SXNzdWU4MzY5NTEyNzI=","number":640,"title":"Settlement Date","user":{"login":"jvasile","id":211863,"node_id":"MDQ6VXNlcjIxMTg2Mw==","avatar_url":"https://avatars.githubusercontent.com/u/211863?v=4","gravatar_id":"","url":"https://api.github.com/users/jvasile","html_url":"https://github.com/jvasile","followers_url":"https://api.github.com/users/jvasile/followers","following_url":"https://api.github.com/users/jvasile/following{/other_user}","gists_url":"https://api.github.com/users/jvasile/gists{/gist_id}","starred_url":"https://api.github.com/users/jvasile/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jvasile/subscriptions","organizations_url":"https://api.github.com/users/jvasile/orgs","repos_url":"https://api.github.com/users/jvasile/repos","events_url":"https://api.github.com/users/jvasile/events{/privacy}","received_events_url":"https://api.github.com/users/jvasile/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":2,"created_at":"2021-03-21T00:27:00Z","updated_at":"2021-03-23T19:57:26Z","closed_at":"2021-03-21T02:07:09Z","author_association":"NONE","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"I frequently have the task of reconciling a beancount file against a set of transactions exported from my bank.  I've written some scripts to help identify discrepancies, and they operate by trying to match daily balances between my account and my beancount ledger.\r\n\r\nI have found that the bulk of the mismatch (other than actual mistakes in my record-keeping) is that the transaction date and the settlement date don't line up.  I buy a piece of equipment with a debit card, but the charge doesn't appear for a few days.  I deposit a check, and it hits my account 24 hours later.  I pay a contractor by check, and she doesn't cash the check for a month.\r\n\r\nIn these cases, I end up changing the beancount entry's date to match the date the transaction hits the bank.  That's fine, but it removes a piece of information, which is the actual date I made payment.  Usually this doesn't matter.  But sometimes it does, and I'm left without much recourse in the files except to start adding comments with that data, which feels suboptimal.\r\n\r\nI saw that this issue is raised in https://beancount.github.io/docs/settlement_dates_in_beancount.html and I'm wondering about current status of that discussion.  I quite like the \"=settlement date\" notation (ledger used it too) and the \"S\" prefix on a posting seems like a neat data entry solution.\r\n\r\nThank you!","closed_by":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/beancount/beancount/issues/640/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beancount/issues/640/timeline","performed_via_github_app":null,"state_reason":"completed"},{"url":"https://api.github.com/repos/beancount/beancount/issues/639","repository_url":"https://api.github.com/repos/beancount/beancount","labels_url":"https://api.github.com/repos/beancount/beancount/issues/639/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beancount/issues/639/comments","events_url":"https://api.github.com/repos/beancount/beancount/issues/639/events","html_url":"https://github.com/beancount/beancount/issues/639","id":836778885,"node_id":"MDU6SXNzdWU4MzY3Nzg4ODU=","number":639,"title":"Bump v2 to next minor version.","user":{"login":"doriath","id":150959,"node_id":"MDQ6VXNlcjE1MDk1OQ==","avatar_url":"https://avatars.githubusercontent.com/u/150959?v=4","gravatar_id":"","url":"https://api.github.com/users/doriath","html_url":"https://github.com/doriath","followers_url":"https://api.github.com/users/doriath/followers","following_url":"https://api.github.com/users/doriath/following{/other_user}","gists_url":"https://api.github.com/users/doriath/gists{/gist_id}","starred_url":"https://api.github.com/users/doriath/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/doriath/subscriptions","organizations_url":"https://api.github.com/users/doriath/orgs","repos_url":"https://api.github.com/users/doriath/repos","events_url":"https://api.github.com/users/doriath/events{/privacy}","received_events_url":"https://api.github.com/users/doriath/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":1,"created_at":"2021-03-20T10:52:45Z","updated_at":"2021-03-21T06:45:39Z","closed_at":"2021-03-20T19:27:00Z","author_association":"NONE","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"Would it be possible to bump v2 to 2.3.4 and upload it to pypi? The beanprice repo depends on some newer code that is not available in 2.3.3 and makes installation hard.","closed_by":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/beancount/beancount/issues/639/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beancount/issues/639/timeline","performed_via_github_app":null,"state_reason":"completed"},{"url":"https://api.github.com/repos/beancount/beancount/issues/638","repository_url":"https://api.github.com/repos/beancount/beancount","labels_url":"https://api.github.com/repos/beancount/beancount/issues/638/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beancount/issues/638/comments","events_url":"https://api.github.com/repos/beancount/beancount/issues/638/events","html_url":"https://github.com/beancount/beancount/pull/638","id":835578358,"node_id":"MDExOlB1bGxSZXF1ZXN0NTk2MjE3NjI5","number":638,"title":"Remove moved examples from examples/README.md","user":{"login":"ngzhian","id":1749303,"node_id":"MDQ6VXNlcjE3NDkzMDM=","avatar_url":"https://avatars.githubusercontent.com/u/1749303?v=4","gravatar_id":"","url":"https://api.github.com/users/ngzhian","html_url":"https://github.com/ngzhian","followers_url":"https://api.github.com/users/ngzhian/followers","following_url":"https://api.github.com/users/ngzhian/following{/other_user}","gists_url":"https://api.github.com/users/ngzhian/gists{/gist_id}","starred_url":"https://api.github.com/users/ngzhian/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ngzhian/subscriptions","organizations_url":"https://api.github.com/users/ngzhian/orgs","repos_url":"https://api.github.com/users/ngzhian/repos","events_url":"https://api.github.com/users/ngzhian/events{/privacy}","received_events_url":"https://api.github.com/users/ngzhian/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":0,"created_at":"2021-03-19T05:21:51Z","updated_at":"2021-03-20T05:35:20Z","closed_at":"2021-03-20T04:57:38Z","author_association":"CONTRIBUTOR","type":null,"active_lock_reason":null,"draft":false,"pull_request":{"url":"https://api.github.com/repos/beancount/beancount/pulls/638","html_url":"https://github.com/beancount/beancount/pull/638","diff_url":"https://github.com/beancount/beancount/pull/638.diff","patch_url":"https://github.com/beancount/beancount/pull/638.patch","merged_at":"2021-03-20T04:57:38Z"},"body":"These examples have been moved to either beangulp or beanlabs.","closed_by":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/beancount/beancount/issues/638/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beancount/issues/638/timeline","performed_via_github_app":null,"state_reason":null},{"url":"https://api.github.com/repos/beancount/beancount/issues/637","repository_url":"https://api.github.com/repos/beancount/beancount","labels_url":"https://api.github.com/repos/beancount/beancount/issues/637/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beancount/issues/637/comments","events_url":"https://api.github.com/repos/beancount/beancount/issues/637/events","html_url":"https://github.com/beancount/beancount/issues/637","id":832168629,"node_id":"MDU6SXNzdWU4MzIxNjg2Mjk=","number":637,"title":"Cannot use full stop / period in commodity name as part of \"commodity\" or \"price\" directives","user":{"login":"JaneSmith","id":10216091,"node_id":"MDQ6VXNlcjEwMjE2MDkx","avatar_url":"https://avatars.githubusercontent.com/u/10216091?v=4","gravatar_id":"","url":"https://api.github.com/users/JaneSmith","html_url":"https://github.com/JaneSmith","followers_url":"https://api.github.com/users/JaneSmith/followers","following_url":"https://api.github.com/users/JaneSmith/following{/other_user}","gists_url":"https://api.github.com/users/JaneSmith/gists{/gist_id}","starred_url":"https://api.github.com/users/JaneSmith/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/JaneSmith/subscriptions","organizations_url":"https://api.github.com/users/JaneSmith/orgs","repos_url":"https://api.github.com/users/JaneSmith/repos","events_url":"https://api.github.com/users/JaneSmith/events{/privacy}","received_events_url":"https://api.github.com/users/JaneSmith/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":1,"created_at":"2021-03-15T20:30:49Z","updated_at":"2021-03-15T20:37:04Z","closed_at":"2021-03-15T20:37:04Z","author_association":"NONE","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"I have some commodities where the name contains a full stop character, e.g. `AMD.F`. The Beancount Language Syntax document states that this is a valid name, as far as I can tell:\r\n\r\n> Technically: up to 24 characters long, beginning with a capital letter and ending with a capital letter or a number. The middle characters may include “`_-’.`”\r\n\r\nIf I just use these commodities in transactions, no errors are reported. For example, the following appears to work fine:\r\n\r\n```\r\n2021-03-15 * \"Broker\" \"Purchased shares in AMD.F\"\r\n\tAssets:Broker   1 AMD.F {70 EUR}\r\n\tAssets:Broker  -70 EUR\r\n```\r\n\r\nHowever, as soon as I start using \"commodity\" and \"price\" directives, I start getting errors. Take the following example:\r\n\r\n```\r\n2021-02-01 commodity AMD.F\r\n\tname: \"AMD\"\r\n\tasset-class: \"Stock\"\r\n\r\n2021-03-15 price AMD.F  70 EUR\r\n```\r\n\r\nThis gives me error messages saying \"syntax error, unexpected NUMBER, expecting CURRENCY\".\r\n\r\nIs this a bug, or am I missing something?","closed_by":{"login":"JaneSmith","id":10216091,"node_id":"MDQ6VXNlcjEwMjE2MDkx","avatar_url":"https://avatars.githubusercontent.com/u/10216091?v=4","gravatar_id":"","url":"https://api.github.com/users/JaneSmith","html_url":"https://github.com/JaneSmith","followers_url":"https://api.github.com/users/JaneSmith/followers","following_url":"https://api.github.com/users/JaneSmith/following{/other_user}","gists_url":"https://api.github.com/users/JaneSmith/gists{/gist_id}","starred_url":"https://api.github.com/users/JaneSmith/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/JaneSmith/subscriptions","organizations_url":"https://api.github.com/users/JaneSmith/orgs","repos_url":"https://api.github.com/users/JaneSmith/repos","events_url":"https://api.github.com/users/JaneSmith/events{/privacy}","received_events_url":"https://api.github.com/users/JaneSmith/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/beancount/beancount/issues/637/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beancount/issues/637/timeline","performed_via_github_app":null,"state_reason":"completed"},{"url":"https://api.github.com/repos/beancount/beancount/issues/635","repository_url":"https://api.github.com/repos/beancount/beancount","labels_url":"https://api.github.com/repos/beancount/beancount/issues/635/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beancount/issues/635/comments","events_url":"https://api.github.com/repos/beancount/beancount/issues/635/events","html_url":"https://github.com/beancount/beancount/pull/635","id":826657104,"node_id":"MDExOlB1bGxSZXF1ZXN0NTg4NjQxNjE4","number":635,"title":"printer: Ignore all metadata fields whose key starts with \"__\"","user":{"login":"dnicolodi","id":987145,"node_id":"MDQ6VXNlcjk4NzE0NQ==","avatar_url":"https://avatars.githubusercontent.com/u/987145?v=4","gravatar_id":"","url":"https://api.github.com/users/dnicolodi","html_url":"https://github.com/dnicolodi","followers_url":"https://api.github.com/users/dnicolodi/followers","following_url":"https://api.github.com/users/dnicolodi/following{/other_user}","gists_url":"https://api.github.com/users/dnicolodi/gists{/gist_id}","starred_url":"https://api.github.com/users/dnicolodi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dnicolodi/subscriptions","organizations_url":"https://api.github.com/users/dnicolodi/orgs","repos_url":"https://api.github.com/users/dnicolodi/repos","events_url":"https://api.github.com/users/dnicolodi/events{/privacy}","received_events_url":"https://api.github.com/users/dnicolodi/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":0,"created_at":"2021-03-09T21:25:50Z","updated_at":"2021-03-10T02:49:29Z","closed_at":"2021-03-10T02:49:29Z","author_association":"COLLABORATOR","type":null,"active_lock_reason":null,"draft":false,"pull_request":{"url":"https://api.github.com/repos/beancount/beancount/pulls/635","html_url":"https://github.com/beancount/beancount/pull/635","diff_url":"https://github.com/beancount/beancount/pull/635.diff","patch_url":"https://github.com/beancount/beancount/pull/635.patch","merged_at":"2021-03-10T02:49:29Z"},"body":"Fields with key `__automatic__` are already ignored. Extend this to\r\nall field with a key starting with `__`. This allows to to use such\r\nentries for attaching extra information to the entries, without having\r\nto explicitly remove it before serializing the entries to file. The\r\nimmediate use is for markign duplicate entries identified during the\r\nimport process with a `__duplicate__` metadata field.\r\n\r\nThe `filename` and `lineno` metadata fields could be renamed to obey\r\nto this scheme too and the special handling removed, but this requires\r\nmodifying the parser.","closed_by":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/beancount/beancount/issues/635/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beancount/issues/635/timeline","performed_via_github_app":null,"state_reason":null},{"url":"https://api.github.com/repos/beancount/beancount/issues/634","repository_url":"https://api.github.com/repos/beancount/beancount","labels_url":"https://api.github.com/repos/beancount/beancount/issues/634/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beancount/issues/634/comments","events_url":"https://api.github.com/repos/beancount/beancount/issues/634/events","html_url":"https://github.com/beancount/beancount/issues/634","id":820198652,"node_id":"MDU6SXNzdWU4MjAxOTg2NTI=","number":634,"title":" Build of v2.3.3 fails because of google-auth dependency","user":{"login":"codedump","id":858390,"node_id":"MDQ6VXNlcjg1ODM5MA==","avatar_url":"https://avatars.githubusercontent.com/u/858390?v=4","gravatar_id":"","url":"https://api.github.com/users/codedump","html_url":"https://github.com/codedump","followers_url":"https://api.github.com/users/codedump/followers","following_url":"https://api.github.com/users/codedump/following{/other_user}","gists_url":"https://api.github.com/users/codedump/gists{/gist_id}","starred_url":"https://api.github.com/users/codedump/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codedump/subscriptions","organizations_url":"https://api.github.com/users/codedump/orgs","repos_url":"https://api.github.com/users/codedump/repos","events_url":"https://api.github.com/users/codedump/events{/privacy}","received_events_url":"https://api.github.com/users/codedump/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":6,"created_at":"2021-03-02T16:51:11Z","updated_at":"2021-03-03T17:42:07Z","closed_at":"2021-03-03T11:19:02Z","author_association":"NONE","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"Hello,\r\n\r\nI'm trying to build `beancount` v2 from source. I have a `Dockerfile` that's built before, but now it fails. The relevant part of the build log I think is this:\r\n\r\n```\r\nSearching for google-auth>=1.16.0\r\nReading https://pypi.org/simple/google-auth/\r\nDownloading https://files.pythonhosted.org/packages/68/c3/6851ad3e029ac11e4beb6470b9465f4affce345cba8ef7cbf7fbd647c89a/google_auth-2.0.0.dev0-py2.py3-none-any.whl#sha256=50eda7bbeaed36ad17a87a94a770b9ec97e9a64add701942a4cd4dcbe291f3df \r\nBest match: google-auth 2.0.0.dev0\r\nProcessing google_auth-2.0.0.dev0-py2.py3-none-any.whl\r\nInstalling google_auth-2.0.0.dev0-py2.py3-none-any.whl to /usr/local/lib64/python3.9/site-packages\r\nAdding google-auth 2.0.0.dev0 to easy-install.pth file\r\n...\r\nInstalled /usr/local/lib64/python3.9/site-packages/googleapis_common_protos-1.53.0-py3.9.eg\r\nerror: google-auth 2.0.0.dev0 is installed but google-auth<2.0dev,>=1.21.1 is required by {'google-api-core'}\r\nError: error building at STEP \"RUN cd /opt...\"\r\n```\r\n\r\nThe first part tells me that the installer wants google-auth>=1.16.0, and finds 2.0.0.dev0, and thinks it's good.\r\n\r\nThe 2nd part tells me that it tries to build google-common-protos, but chokes on the too recent google-auth version. I'm not sure if this is a bug in Beancount or in a Google API package.\r\n\r\nThe last line is (the beginning of) the `podman` error message, you can safely ignore that. I'm just including it for reference.\r\n\r\nThe `Dockerfile` I'm using is [this](https://gitlab.com/codedump2/fin-tools/-/blob/master/Dockerfile), the relevant build script is:\r\n```\r\ncd /opt\r\ngit clone --recurse-submodule https://github.com/beancount/beancount beancount-v2\r\ncd beancount-v2\r\ngit checkout 2.3.3\r\ngit submodule update\r\npython3 setup.py install\r\n```\r\n\r\nI'm aware that the submodule part is probably not needed, but shouldn't hurt. I successfully built an image about 2 months ago with a similar script:\r\n```\r\ngit clone --recurse-submodule https://github.com/beancount/beancount beancount-v2\r\ncd beancount-v2\r\ngit checkout v2\r\n...\r\n```\r\n\r\nThe reason I made the change in `checkout` from `v2` to `2.3.3` is because I hoped that the build issue would be an issue of the HEAD of the v2 branch, but apparently isn't. It looks to me as if one of the dependency specification(s) for `google-auth` was sloppy, it didn't account for the package version to ever changing above v1 at a specific location (while downloading), but specifically *excluded* v2 at another location.\r\n\r\nI'm not proficient enough with Python build systems to fix this, but maybe someone can? :-)\r\n\r\nCheers,\r\nF.\r\n\r\nPS: Oh, and BTW, thanks for writing Beancount, awesome piece of work :-)\r\n","closed_by":{"login":"codedump","id":858390,"node_id":"MDQ6VXNlcjg1ODM5MA==","avatar_url":"https://avatars.githubusercontent.com/u/858390?v=4","gravatar_id":"","url":"https://api.github.com/users/codedump","html_url":"https://github.com/codedump","followers_url":"https://api.github.com/users/codedump/followers","following_url":"https://api.github.com/users/codedump/following{/other_user}","gists_url":"https://api.github.com/users/codedump/gists{/gist_id}","starred_url":"https://api.github.com/users/codedump/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codedump/subscriptions","organizations_url":"https://api.github.com/users/codedump/orgs","repos_url":"https://api.github.com/users/codedump/repos","events_url":"https://api.github.com/users/codedump/events{/privacy}","received_events_url":"https://api.github.com/users/codedump/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/beancount/beancount/issues/634/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beancount/issues/634/timeline","performed_via_github_app":null,"state_reason":"completed"},{"url":"https://api.github.com/repos/beancount/beancount/issues/633","repository_url":"https://api.github.com/repos/beancount/beancount","labels_url":"https://api.github.com/repos/beancount/beancount/issues/633/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beancount/issues/633/comments","events_url":"https://api.github.com/repos/beancount/beancount/issues/633/events","html_url":"https://github.com/beancount/beancount/issues/633","id":819219296,"node_id":"MDU6SXNzdWU4MTkyMTkyOTY=","number":633,"title":"The sellgains plugin does not handle commodity conversions","user":{"login":"asciipip","id":1462266,"node_id":"MDQ6VXNlcjE0NjIyNjY=","avatar_url":"https://avatars.githubusercontent.com/u/1462266?v=4","gravatar_id":"","url":"https://api.github.com/users/asciipip","html_url":"https://github.com/asciipip","followers_url":"https://api.github.com/users/asciipip/followers","following_url":"https://api.github.com/users/asciipip/following{/other_user}","gists_url":"https://api.github.com/users/asciipip/gists{/gist_id}","starred_url":"https://api.github.com/users/asciipip/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/asciipip/subscriptions","organizations_url":"https://api.github.com/users/asciipip/orgs","repos_url":"https://api.github.com/users/asciipip/repos","events_url":"https://api.github.com/users/asciipip/events{/privacy}","received_events_url":"https://api.github.com/users/asciipip/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":2080994777,"node_id":"MDU6TGFiZWwyMDgwOTk0Nzc3","url":"https://api.github.com/repos/beancount/beancount/labels/P1","name":"P1","color":"ff6666","default":false,"description":"High priority, not breaking but hindering or lessening existing functionality"},{"id":2081004612,"node_id":"MDU6TGFiZWwyMDgxMDA0NjEy","url":"https://api.github.com/repos/beancount/beancount/labels/booking","name":"booking","color":"ededed","default":false,"description":"Component: Booking algorithms"},{"id":2082671637,"node_id":"MDU6TGFiZWwyMDgyNjcxNjM3","url":"https://api.github.com/repos/beancount/beancount/labels/V3","name":"V3","color":"1762b2","default":false,"description":"Issues that will be addressed in the V3 C++ rewrite."}],"state":"open","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":1,"created_at":"2021-03-01T20:19:30Z","updated_at":"2021-03-12T04:48:26Z","closed_at":null,"author_association":"NONE","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"Suppose we have the following transaction:\r\n\r\n    2021-03-01 * \"Convert Bitcoin to Ethereum\"\r\n      Assets:Wallet:BTC   -0.00207016 BTC {33470.71 USD} @ 48328.61 USD\r\n      Assets:Wallet:ETH    0.06574965 ETH {1521.65 USD}\r\n      Income:Capital-Gains\r\n\r\nIt would be nice to use the sellgains plugin to verify that the prices balance.  Unfortunately, that doesn't work.  As written, the plugin ignores this transaction (and would fail to detect a pricing error) because the ETH posting lacks a price.  If an explicit price is given (e.g. `0.06574965 ETH {1521.65 USD} @ 1521.65 USD`), the plugin reports an error because it cannot find any postings with a currency to check against.\r\n\r\nSo there are probably two things that should be changed:\r\n\r\n * For position augmentations without a price, the sellgains plugin should treat the cost basis as the price.  (So it would check any transaction where (1) at least one posting has a commodity with a price, and (2) every posting with a commodity reduction has a price.)\r\n\r\n * If all of the applicable (non-income) postings contain commodities, the plugin should balance against a quantity of zero of the price currency.","closed_by":null,"reactions":{"url":"https://api.github.com/repos/beancount/beancount/issues/633/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beancount/issues/633/timeline","performed_via_github_app":null,"state_reason":null},{"url":"https://api.github.com/repos/beancount/beancount/issues/632","repository_url":"https://api.github.com/repos/beancount/beancount","labels_url":"https://api.github.com/repos/beancount/beancount/issues/632/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beancount/issues/632/comments","events_url":"https://api.github.com/repos/beancount/beancount/issues/632/events","html_url":"https://github.com/beancount/beancount/pull/632","id":816642178,"node_id":"MDExOlB1bGxSZXF1ZXN0NTgwMjY5Njcx","number":632,"title":"setup: Use -std=gnu99 when compiling Python extension","user":{"login":"dnicolodi","id":987145,"node_id":"MDQ6VXNlcjk4NzE0NQ==","avatar_url":"https://avatars.githubusercontent.com/u/987145?v=4","gravatar_id":"","url":"https://api.github.com/users/dnicolodi","html_url":"https://github.com/dnicolodi","followers_url":"https://api.github.com/users/dnicolodi/followers","following_url":"https://api.github.com/users/dnicolodi/following{/other_user}","gists_url":"https://api.github.com/users/dnicolodi/gists{/gist_id}","starred_url":"https://api.github.com/users/dnicolodi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dnicolodi/subscriptions","organizations_url":"https://api.github.com/users/dnicolodi/orgs","repos_url":"https://api.github.com/users/dnicolodi/repos","events_url":"https://api.github.com/users/dnicolodi/events{/privacy}","received_events_url":"https://api.github.com/users/dnicolodi/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":0,"created_at":"2021-02-25T17:26:52Z","updated_at":"2021-02-26T00:46:35Z","closed_at":"2021-02-26T00:46:35Z","author_association":"COLLABORATOR","type":null,"active_lock_reason":null,"draft":false,"pull_request":{"url":"https://api.github.com/repos/beancount/beancount/pulls/632","html_url":"https://github.com/beancount/beancount/pull/632","diff_url":"https://github.com/beancount/beancount/pull/632.diff","patch_url":"https://github.com/beancount/beancount/pull/632.patch","merged_at":"2021-02-26T00:46:35Z"},"body":"This should fix compilation with old GCCs.","closed_by":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/beancount/beancount/issues/632/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beancount/issues/632/timeline","performed_via_github_app":null,"state_reason":null},{"url":"https://api.github.com/repos/beancount/beancount/issues/631","repository_url":"https://api.github.com/repos/beancount/beancount","labels_url":"https://api.github.com/repos/beancount/beancount/issues/631/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beancount/issues/631/comments","events_url":"https://api.github.com/repos/beancount/beancount/issues/631/events","html_url":"https://github.com/beancount/beancount/pull/631","id":816630357,"node_id":"MDExOlB1bGxSZXF1ZXN0NTgwMjU5Njg4","number":631,"title":"bean-example: Deal with exausted iterators","user":{"login":"dnicolodi","id":987145,"node_id":"MDQ6VXNlcjk4NzE0NQ==","avatar_url":"https://avatars.githubusercontent.com/u/987145?v=4","gravatar_id":"","url":"https://api.github.com/users/dnicolodi","html_url":"https://github.com/dnicolodi","followers_url":"https://api.github.com/users/dnicolodi/followers","following_url":"https://api.github.com/users/dnicolodi/following{/other_user}","gists_url":"https://api.github.com/users/dnicolodi/gists{/gist_id}","starred_url":"https://api.github.com/users/dnicolodi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dnicolodi/subscriptions","organizations_url":"https://api.github.com/users/dnicolodi/orgs","repos_url":"https://api.github.com/users/dnicolodi/repos","events_url":"https://api.github.com/users/dnicolodi/events{/privacy}","received_events_url":"https://api.github.com/users/dnicolodi/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":0,"created_at":"2021-02-25T17:11:06Z","updated_at":"2021-02-26T00:45:26Z","closed_at":"2021-02-26T00:45:26Z","author_association":"COLLABORATOR","type":null,"active_lock_reason":null,"draft":false,"pull_request":{"url":"https://api.github.com/repos/beancount/beancount/pulls/631","html_url":"https://github.com/beancount/beancount/pull/631","diff_url":"https://github.com/beancount/beancount/pull/631.diff","patch_url":"https://github.com/beancount/beancount/pull/631.patch","merged_at":"2021-02-26T00:45:26Z"},"body":"Fixes #628. This time for v2.3","closed_by":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/beancount/beancount/issues/631/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beancount/issues/631/timeline","performed_via_github_app":null,"state_reason":null},{"url":"https://api.github.com/repos/beancount/beancount/issues/630","repository_url":"https://api.github.com/repos/beancount/beancount","labels_url":"https://api.github.com/repos/beancount/beancount/issues/630/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beancount/issues/630/comments","events_url":"https://api.github.com/repos/beancount/beancount/issues/630/events","html_url":"https://github.com/beancount/beancount/pull/630","id":816612909,"node_id":"MDExOlB1bGxSZXF1ZXN0NTgwMjQ1MTI3","number":630,"title":"Pylint","user":{"login":"dnicolodi","id":987145,"node_id":"MDQ6VXNlcjk4NzE0NQ==","avatar_url":"https://avatars.githubusercontent.com/u/987145?v=4","gravatar_id":"","url":"https://api.github.com/users/dnicolodi","html_url":"https://github.com/dnicolodi","followers_url":"https://api.github.com/users/dnicolodi/followers","following_url":"https://api.github.com/users/dnicolodi/following{/other_user}","gists_url":"https://api.github.com/users/dnicolodi/gists{/gist_id}","starred_url":"https://api.github.com/users/dnicolodi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dnicolodi/subscriptions","organizations_url":"https://api.github.com/users/dnicolodi/orgs","repos_url":"https://api.github.com/users/dnicolodi/repos","events_url":"https://api.github.com/users/dnicolodi/events{/privacy}","received_events_url":"https://api.github.com/users/dnicolodi/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":0,"created_at":"2021-02-25T16:50:15Z","updated_at":"2021-02-26T00:46:15Z","closed_at":"2021-02-26T00:46:15Z","author_association":"COLLABORATOR","type":null,"active_lock_reason":null,"draft":false,"pull_request":{"url":"https://api.github.com/repos/beancount/beancount/pulls/630","html_url":"https://github.com/beancount/beancount/pull/630","diff_url":"https://github.com/beancount/beancount/pull/630.diff","patch_url":"https://github.com/beancount/beancount/pull/630.patch","merged_at":"2021-02-26T00:46:15Z"},"body":"Some hints from the new pylint version","closed_by":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/beancount/beancount/issues/630/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beancount/issues/630/timeline","performed_via_github_app":null,"state_reason":null},{"url":"https://api.github.com/repos/beancount/beancount/issues/629","repository_url":"https://api.github.com/repos/beancount/beancount","labels_url":"https://api.github.com/repos/beancount/beancount/issues/629/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beancount/issues/629/comments","events_url":"https://api.github.com/repos/beancount/beancount/issues/629/events","html_url":"https://github.com/beancount/beancount/pull/629","id":816503476,"node_id":"MDExOlB1bGxSZXF1ZXN0NTgwMTUzNDUz","number":629,"title":"bean-example: Deal with exausted iterators","user":{"login":"dnicolodi","id":987145,"node_id":"MDQ6VXNlcjk4NzE0NQ==","avatar_url":"https://avatars.githubusercontent.com/u/987145?v=4","gravatar_id":"","url":"https://api.github.com/users/dnicolodi","html_url":"https://github.com/dnicolodi","followers_url":"https://api.github.com/users/dnicolodi/followers","following_url":"https://api.github.com/users/dnicolodi/following{/other_user}","gists_url":"https://api.github.com/users/dnicolodi/gists{/gist_id}","starred_url":"https://api.github.com/users/dnicolodi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dnicolodi/subscriptions","organizations_url":"https://api.github.com/users/dnicolodi/orgs","repos_url":"https://api.github.com/users/dnicolodi/repos","events_url":"https://api.github.com/users/dnicolodi/events{/privacy}","received_events_url":"https://api.github.com/users/dnicolodi/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":2,"created_at":"2021-02-25T14:45:57Z","updated_at":"2021-02-25T16:20:25Z","closed_at":"2021-02-25T14:57:36Z","author_association":"COLLABORATOR","type":null,"active_lock_reason":null,"draft":false,"pull_request":{"url":"https://api.github.com/repos/beancount/beancount/pulls/629","html_url":"https://github.com/beancount/beancount/pull/629","diff_url":"https://github.com/beancount/beancount/pull/629.diff","patch_url":"https://github.com/beancount/beancount/pull/629.patch","merged_at":"2021-02-25T14:57:36Z"},"body":"Fixes #628 ","closed_by":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/beancount/beancount/issues/629/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beancount/issues/629/timeline","performed_via_github_app":null,"state_reason":null},{"url":"https://api.github.com/repos/beancount/beancount/issues/628","repository_url":"https://api.github.com/repos/beancount/beancount","labels_url":"https://api.github.com/repos/beancount/beancount/issues/628/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beancount/issues/628/comments","events_url":"https://api.github.com/repos/beancount/beancount/issues/628/events","html_url":"https://github.com/beancount/beancount/issues/628","id":814918652,"node_id":"MDU6SXNzdWU4MTQ5MTg2NTI=","number":628,"title":"bean-example error ","user":{"login":"radnonymous","id":74389363,"node_id":"MDQ6VXNlcjc0Mzg5MzYz","avatar_url":"https://avatars.githubusercontent.com/u/74389363?v=4","gravatar_id":"","url":"https://api.github.com/users/radnonymous","html_url":"https://github.com/radnonymous","followers_url":"https://api.github.com/users/radnonymous/followers","following_url":"https://api.github.com/users/radnonymous/following{/other_user}","gists_url":"https://api.github.com/users/radnonymous/gists{/gist_id}","starred_url":"https://api.github.com/users/radnonymous/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/radnonymous/subscriptions","organizations_url":"https://api.github.com/users/radnonymous/orgs","repos_url":"https://api.github.com/users/radnonymous/repos","events_url":"https://api.github.com/users/radnonymous/events{/privacy}","received_events_url":"https://api.github.com/users/radnonymous/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":0,"created_at":"2021-02-23T23:25:43Z","updated_at":"2021-02-25T14:57:36Z","closed_at":"2021-02-25T14:57:36Z","author_association":"NONE","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"This issue seems similar to #322 . When attempting to run bean-example that's smaller than 9 months and 19 days\r\n```\r\nbean-example>test.beancount --date-end 2019-09-18\r\n```\r\n\r\nthis issue comes up:\r\nI'm on WSL.\r\n```\r\nINFO    : Generating Taxes Investments\r\nTraceback (most recent call last):\r\n  File \"/usr/local/bin/bean-example\", line 8, in <module>\r\n    sys.exit(main())\r\n  File \"/usr/local/lib/python3.8/dist-packages/beancount/scripts/example.py\", line 1781, in main\r\n    write_example_file(opts.date_birth,\r\n  File \"/usr/local/lib/python3.8/dist-packages/beancount/scripts/example.py\", line 1660, in write_example_file\r\n    investment_entries = generate_taxable_investment(date_begin, date_end,\r\n  File \"/usr/local/lib/python3.8/dist-packages/beancount/scripts/example.py\", line 799, in generate_taxable_investment\r\n    next_dividend_date = next(dividend_date_iter)\r\nStopIteration\r\n```\r\n","closed_by":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/beancount/beancount/issues/628/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beancount/issues/628/timeline","performed_via_github_app":null,"state_reason":"completed"},{"url":"https://api.github.com/repos/beancount/beancount/issues/627","repository_url":"https://api.github.com/repos/beancount/beancount","labels_url":"https://api.github.com/repos/beancount/beancount/issues/627/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beancount/issues/627/comments","events_url":"https://api.github.com/repos/beancount/beancount/issues/627/events","html_url":"https://github.com/beancount/beancount/issues/627","id":807846055,"node_id":"MDU6SXNzdWU4MDc4NDYwNTU=","number":627,"title":"Beancount project donations?","user":{"login":"mtlynch","id":7783288,"node_id":"MDQ6VXNlcjc3ODMyODg=","avatar_url":"https://avatars.githubusercontent.com/u/7783288?v=4","gravatar_id":"","url":"https://api.github.com/users/mtlynch","html_url":"https://github.com/mtlynch","followers_url":"https://api.github.com/users/mtlynch/followers","following_url":"https://api.github.com/users/mtlynch/following{/other_user}","gists_url":"https://api.github.com/users/mtlynch/gists{/gist_id}","starred_url":"https://api.github.com/users/mtlynch/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mtlynch/subscriptions","organizations_url":"https://api.github.com/users/mtlynch/orgs","repos_url":"https://api.github.com/users/mtlynch/repos","events_url":"https://api.github.com/users/mtlynch/events{/privacy}","received_events_url":"https://api.github.com/users/mtlynch/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":2,"created_at":"2021-02-13T22:58:39Z","updated_at":"2021-02-15T21:00:43Z","closed_at":"2021-02-14T00:12:05Z","author_association":"NONE","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"Does this project accept donations?\r\n\r\nIf you want to offer a way for users to support the project financially, you can add a file called [`.github/FUNDING.yml`](https://docs.github.com/en/github/administering-a-repository/displaying-a-sponsor-button-in-your-repository#about-funding-files).\r\n\r\nIt can be as simple as a PayPal address like:\r\n\r\n```yaml\r\ncustom: https://paypal.me/your-paypal-address-here\r\n```","closed_by":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/beancount/beancount/issues/627/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beancount/issues/627/timeline","performed_via_github_app":null,"state_reason":"completed"},{"url":"https://api.github.com/repos/beancount/beancount/issues/625","repository_url":"https://api.github.com/repos/beancount/beancount","labels_url":"https://api.github.com/repos/beancount/beancount/issues/625/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beancount/issues/625/comments","events_url":"https://api.github.com/repos/beancount/beancount/issues/625/events","html_url":"https://github.com/beancount/beancount/pull/625","id":802087414,"node_id":"MDExOlB1bGxSZXF1ZXN0NTY4Mjg5NzE4","number":625,"title":"setup: fix gcc error","user":{"login":"simonla","id":14934570,"node_id":"MDQ6VXNlcjE0OTM0NTcw","avatar_url":"https://avatars.githubusercontent.com/u/14934570?v=4","gravatar_id":"","url":"https://api.github.com/users/simonla","html_url":"https://github.com/simonla","followers_url":"https://api.github.com/users/simonla/followers","following_url":"https://api.github.com/users/simonla/following{/other_user}","gists_url":"https://api.github.com/users/simonla/gists{/gist_id}","starred_url":"https://api.github.com/users/simonla/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/simonla/subscriptions","organizations_url":"https://api.github.com/users/simonla/orgs","repos_url":"https://api.github.com/users/simonla/repos","events_url":"https://api.github.com/users/simonla/events{/privacy}","received_events_url":"https://api.github.com/users/simonla/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":5,"created_at":"2021-02-05T11:26:27Z","updated_at":"2021-02-07T01:46:37Z","closed_at":"2021-02-05T11:34:16Z","author_association":"NONE","type":null,"active_lock_reason":null,"draft":false,"pull_request":{"url":"https://api.github.com/repos/beancount/beancount/pulls/625","html_url":"https://github.com/beancount/beancount/pull/625","diff_url":"https://github.com/beancount/beancount/pull/625.diff","patch_url":"https://github.com/beancount/beancount/pull/625.patch","merged_at":null},"body":"beancount/parser/tokens.c:174:5:error: 'for' loop initial declaration used outside C99 mode","closed_by":{"login":"simonla","id":14934570,"node_id":"MDQ6VXNlcjE0OTM0NTcw","avatar_url":"https://avatars.githubusercontent.com/u/14934570?v=4","gravatar_id":"","url":"https://api.github.com/users/simonla","html_url":"https://github.com/simonla","followers_url":"https://api.github.com/users/simonla/followers","following_url":"https://api.github.com/users/simonla/following{/other_user}","gists_url":"https://api.github.com/users/simonla/gists{/gist_id}","starred_url":"https://api.github.com/users/simonla/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/simonla/subscriptions","organizations_url":"https://api.github.com/users/simonla/orgs","repos_url":"https://api.github.com/users/simonla/repos","events_url":"https://api.github.com/users/simonla/events{/privacy}","received_events_url":"https://api.github.com/users/simonla/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/beancount/beancount/issues/625/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beancount/issues/625/timeline","performed_via_github_app":null,"state_reason":null},{"url":"https://api.github.com/repos/beancount/beancount/issues/624","repository_url":"https://api.github.com/repos/beancount/beancount","labels_url":"https://api.github.com/repos/beancount/beancount/issues/624/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beancount/issues/624/comments","events_url":"https://api.github.com/repos/beancount/beancount/issues/624/events","html_url":"https://github.com/beancount/beancount/pull/624","id":800772661,"node_id":"MDExOlB1bGxSZXF1ZXN0NTY3MjA0MzAy","number":624,"title":"Update setup.py","user":{"login":"dnicolodi","id":987145,"node_id":"MDQ6VXNlcjk4NzE0NQ==","avatar_url":"https://avatars.githubusercontent.com/u/987145?v=4","gravatar_id":"","url":"https://api.github.com/users/dnicolodi","html_url":"https://github.com/dnicolodi","followers_url":"https://api.github.com/users/dnicolodi/followers","following_url":"https://api.github.com/users/dnicolodi/following{/other_user}","gists_url":"https://api.github.com/users/dnicolodi/gists{/gist_id}","starred_url":"https://api.github.com/users/dnicolodi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dnicolodi/subscriptions","organizations_url":"https://api.github.com/users/dnicolodi/orgs","repos_url":"https://api.github.com/users/dnicolodi/repos","events_url":"https://api.github.com/users/dnicolodi/events{/privacy}","received_events_url":"https://api.github.com/users/dnicolodi/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":0,"created_at":"2021-02-03T23:07:15Z","updated_at":"2021-02-04T20:53:55Z","closed_at":"2021-02-04T00:20:13Z","author_association":"COLLABORATOR","type":null,"active_lock_reason":null,"draft":false,"pull_request":{"url":"https://api.github.com/repos/beancount/beancount/pulls/624","html_url":"https://github.com/beancount/beancount/pull/624","diff_url":"https://github.com/beancount/beancount/pull/624.diff","patch_url":"https://github.com/beancount/beancount/pull/624.patch","merged_at":"2021-02-04T00:20:13Z"},"body":"Drop dependencies that are no longer required  and bump version to 3.0.dev0\r\n","closed_by":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/beancount/beancount/issues/624/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beancount/issues/624/timeline","performed_via_github_app":null,"state_reason":null},{"url":"https://api.github.com/repos/beancount/beancount/issues/623","repository_url":"https://api.github.com/repos/beancount/beancount","labels_url":"https://api.github.com/repos/beancount/beancount/issues/623/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beancount/issues/623/comments","events_url":"https://api.github.com/repos/beancount/beancount/issues/623/events","html_url":"https://github.com/beancount/beancount/pull/623","id":800772123,"node_id":"MDExOlB1bGxSZXF1ZXN0NTY3MjAzODQ0","number":623,"title":"Assorted cleanups","user":{"login":"dnicolodi","id":987145,"node_id":"MDQ6VXNlcjk4NzE0NQ==","avatar_url":"https://avatars.githubusercontent.com/u/987145?v=4","gravatar_id":"","url":"https://api.github.com/users/dnicolodi","html_url":"https://github.com/dnicolodi","followers_url":"https://api.github.com/users/dnicolodi/followers","following_url":"https://api.github.com/users/dnicolodi/following{/other_user}","gists_url":"https://api.github.com/users/dnicolodi/gists{/gist_id}","starred_url":"https://api.github.com/users/dnicolodi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dnicolodi/subscriptions","organizations_url":"https://api.github.com/users/dnicolodi/orgs","repos_url":"https://api.github.com/users/dnicolodi/repos","events_url":"https://api.github.com/users/dnicolodi/events{/privacy}","received_events_url":"https://api.github.com/users/dnicolodi/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":3,"created_at":"2021-02-03T23:06:06Z","updated_at":"2021-02-04T20:53:47Z","closed_at":"2021-02-04T02:10:47Z","author_association":"COLLABORATOR","type":null,"active_lock_reason":null,"draft":false,"pull_request":{"url":"https://api.github.com/repos/beancount/beancount/pulls/623","html_url":"https://github.com/beancount/beancount/pull/623","diff_url":"https://github.com/beancount/beancount/pull/623.diff","patch_url":"https://github.com/beancount/beancount/pull/623.patch","merged_at":"2021-02-04T02:10:47Z"},"body":"This has been obsoleted with the switch to Click","closed_by":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/beancount/beancount/issues/623/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beancount/issues/623/timeline","performed_via_github_app":null,"state_reason":null},{"url":"https://api.github.com/repos/beancount/beancount/issues/622","repository_url":"https://api.github.com/repos/beancount/beancount","labels_url":"https://api.github.com/repos/beancount/beancount/issues/622/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beancount/issues/622/comments","events_url":"https://api.github.com/repos/beancount/beancount/issues/622/events","html_url":"https://github.com/beancount/beancount/issues/622","id":799760338,"node_id":"MDU6SXNzdWU3OTk3NjAzMzg=","number":622,"title":"Installation link dead","user":{"login":"radnonymous","id":74389363,"node_id":"MDQ6VXNlcjc0Mzg5MzYz","avatar_url":"https://avatars.githubusercontent.com/u/74389363?v=4","gravatar_id":"","url":"https://api.github.com/users/radnonymous","html_url":"https://github.com/radnonymous","followers_url":"https://api.github.com/users/radnonymous/followers","following_url":"https://api.github.com/users/radnonymous/following{/other_user}","gists_url":"https://api.github.com/users/radnonymous/gists{/gist_id}","starred_url":"https://api.github.com/users/radnonymous/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/radnonymous/subscriptions","organizations_url":"https://api.github.com/users/radnonymous/orgs","repos_url":"https://api.github.com/users/radnonymous/repos","events_url":"https://api.github.com/users/radnonymous/events{/privacy}","received_events_url":"https://api.github.com/users/radnonymous/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":3,"created_at":"2021-02-02T22:23:41Z","updated_at":"2021-10-17T17:30:01Z","closed_at":"2021-02-04T02:26:40Z","author_association":"NONE","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"The link for installation instructions (http://furius.ca/beancount/doc/install) cannot be reached.\r\n","closed_by":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/beancount/beancount/issues/622/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beancount/issues/622/timeline","performed_via_github_app":null,"state_reason":"completed"},{"url":"https://api.github.com/repos/beancount/beancount/issues/621","repository_url":"https://api.github.com/repos/beancount/beancount","labels_url":"https://api.github.com/repos/beancount/beancount/issues/621/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beancount/issues/621/comments","events_url":"https://api.github.com/repos/beancount/beancount/issues/621/events","html_url":"https://github.com/beancount/beancount/pull/621","id":795114029,"node_id":"MDExOlB1bGxSZXF1ZXN0NTYyNTE2NTQz","number":621,"title":"Ingest framework rework","user":{"login":"dnicolodi","id":987145,"node_id":"MDQ6VXNlcjk4NzE0NQ==","avatar_url":"https://avatars.githubusercontent.com/u/987145?v=4","gravatar_id":"","url":"https://api.github.com/users/dnicolodi","html_url":"https://github.com/dnicolodi","followers_url":"https://api.github.com/users/dnicolodi/followers","following_url":"https://api.github.com/users/dnicolodi/following{/other_user}","gists_url":"https://api.github.com/users/dnicolodi/gists{/gist_id}","starred_url":"https://api.github.com/users/dnicolodi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dnicolodi/subscriptions","organizations_url":"https://api.github.com/users/dnicolodi/orgs","repos_url":"https://api.github.com/users/dnicolodi/repos","events_url":"https://api.github.com/users/dnicolodi/events{/privacy}","received_events_url":"https://api.github.com/users/dnicolodi/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":3,"created_at":"2021-01-27T13:45:00Z","updated_at":"2021-02-02T13:22:04Z","closed_at":"2021-02-02T06:01:38Z","author_association":"COLLABORATOR","type":null,"active_lock_reason":null,"draft":false,"pull_request":{"url":"https://api.github.com/repos/beancount/beancount/pulls/621","html_url":"https://github.com/beancount/beancount/pull/621","diff_url":"https://github.com/beancount/beancount/pull/621.diff","patch_url":"https://github.com/beancount/beancount/pull/621.patch","merged_at":null},"body":"This builds on #620 and #616 to rework substantially the ingest framework. The goal is to simplify while increase extensibility and customizability. It is just a proposal of how things could look like to get a discussion going. \r\n\r\nIn this framework, the minimal ingest script would look like:\r\n\r\n```python\r\nfrom beancount.ingest import Ingest\r\nimport example_importer\r\n\r\ningest = Ingest([\r\n    example_importer.Importer('Account:Example'),\r\n])\r\n\r\ningest()\r\n```\r\n\r\nThis implement a command line interface like this:\r\n```\r\n$ python ingest.py --help\r\nUsage: ingest.py [OPTIONS] COMMAND [ARGS]...\r\n\r\n  Import data from and file away documents from finantial institutions.\r\n\r\nOptions:\r\n  --version  Show the version and exit.\r\n  --help     Show this message and exit.\r\n\r\nCommands:\r\n  extract   Extract transactions from documents.\r\n  file      File away documents.\r\n  identify  Identify files for import.\r\n\r\n$ python ingest.py extract --help\r\nUsage: ingest.py extract [OPTIONS] [SRC]...\r\n\r\n  Extract transactions from documents.\r\n\r\nOptions:\r\n  -o, --output FILENAME  Output file.\r\n  -e, --existing PATH    Existing Beancount ledger for de-duplication.\r\n  -r, --reverse          Sort entries in reverse order.\r\n  --help                 Show this message and exit.\r\n```\r\netc... The help text needs to be extended a bit.\r\n\r\nAn example that modifies the behavior more substantially could be:\r\n\r\n```python\r\nfrom beancount.ingest import Ingest as Base\r\nimport example_importer\r\n\r\nclass Ingest(Base):\r\n    def extract(self, what, *args, **kwargs):\r\n        entries = super().extract(what, *args, **kwargs)\r\n        # do something with entries...\r\n        return entries\r\n\r\ningest = Ingest([\r\n    example_importer.Importer('Account:Example'),\r\n])\r\n\r\nif __name__ == '__main__':\r\n    ingest()\r\n```\r\n\r\nHowever, the changes required to make the second example work are not there yet, it requires splitting up the implementation of `extract()`.\r\n\r\nAnother pattern I like quite a bit is the possibility to easily extend the command line interface with custom commands. For example,\r\n\r\n```python\r\nimport click\r\nimport example_importer\r\nfrom beancount.ingest import Ingest\r\n\r\ningest = Ingest([\r\n    example_importer.Importer('Account:Example'),\r\n])\r\n\r\ncli = ingest().cli()\r\n\r\n@cli.command()\r\n@click.pass_obj\r\ndef download(ctx):\r\n    \"\"\"Download documents.\"\"\"\r\n    for importer in ctx.importers:\r\n        if not hasattr(importer, 'download'):\r\n            continue\r\n        importer.download()\r\n\r\nif __name__ == '__main__':\r\n    cli()\r\n```\r\ngives a command line:\r\n```\r\n$ python ingest.py --help\r\nUsage: ingest.py [OPTIONS] COMMAND [ARGS]...\r\n\r\n  Import data from and file away documents from finantial institutions.\r\n\r\nOptions:\r\n  --version  Show the version and exit.\r\n  --help     Show this message and exit.\r\n\r\nCommands:\r\n  download  Download documents.\r\n  extract   Extract transactions from documents.\r\n  file      File away documents.\r\n  identify  Identify files for import.\r\n```\r\nI am debated whether keeping the magic low and require the `cli()` method call in `cli = Ingest(...).cli()` in this example is a good or a bad thing.","closed_by":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/beancount/beancount/issues/621/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beancount/issues/621/timeline","performed_via_github_app":null,"state_reason":null},{"url":"https://api.github.com/repos/beancount/beancount/issues/620","repository_url":"https://api.github.com/repos/beancount/beancount","labels_url":"https://api.github.com/repos/beancount/beancount/issues/620/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beancount/issues/620/comments","events_url":"https://api.github.com/repos/beancount/beancount/issues/620/events","html_url":"https://github.com/beancount/beancount/pull/620","id":794433257,"node_id":"MDExOlB1bGxSZXF1ZXN0NTYxOTUwODQ5","number":620,"title":"bean-extract, bean-file, bean-identify: Remove deprecated scripts","user":{"login":"dnicolodi","id":987145,"node_id":"MDQ6VXNlcjk4NzE0NQ==","avatar_url":"https://avatars.githubusercontent.com/u/987145?v=4","gravatar_id":"","url":"https://api.github.com/users/dnicolodi","html_url":"https://github.com/dnicolodi","followers_url":"https://api.github.com/users/dnicolodi/followers","following_url":"https://api.github.com/users/dnicolodi/following{/other_user}","gists_url":"https://api.github.com/users/dnicolodi/gists{/gist_id}","starred_url":"https://api.github.com/users/dnicolodi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dnicolodi/subscriptions","organizations_url":"https://api.github.com/users/dnicolodi/orgs","repos_url":"https://api.github.com/users/dnicolodi/repos","events_url":"https://api.github.com/users/dnicolodi/events{/privacy}","received_events_url":"https://api.github.com/users/dnicolodi/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":0,"created_at":"2021-01-26T17:46:33Z","updated_at":"2021-02-04T20:55:29Z","closed_at":"2021-02-02T04:52:28Z","author_association":"COLLABORATOR","type":null,"active_lock_reason":null,"draft":false,"pull_request":{"url":"https://api.github.com/repos/beancount/beancount/pulls/620","html_url":"https://github.com/beancount/beancount/pull/620","diff_url":"https://github.com/beancount/beancount/pull/620.diff","patch_url":"https://github.com/beancount/beancount/pull/620.patch","merged_at":"2021-02-02T04:52:28Z"},"body":"Remove the dedicated binaries entry points to the ingest framework. This allows substantial simplification and better extensibility of the ingestion framework.\r\n\r\nAdjust the tests that relied on the removed interfaces.\r\n\r\nThis is a first pass at removing some cruft, there is probably more.\r\n\r\n","closed_by":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/beancount/beancount/issues/620/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beancount/issues/620/timeline","performed_via_github_app":null,"state_reason":null},{"url":"https://api.github.com/repos/beancount/beancount/issues/619","repository_url":"https://api.github.com/repos/beancount/beancount","labels_url":"https://api.github.com/repos/beancount/beancount/issues/619/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beancount/issues/619/comments","events_url":"https://api.github.com/repos/beancount/beancount/issues/619/events","html_url":"https://github.com/beancount/beancount/pull/619","id":794280473,"node_id":"MDExOlB1bGxSZXF1ZXN0NTYxODIzNzc1","number":619,"title":"Trivial fixes","user":{"login":"dnicolodi","id":987145,"node_id":"MDQ6VXNlcjk4NzE0NQ==","avatar_url":"https://avatars.githubusercontent.com/u/987145?v=4","gravatar_id":"","url":"https://api.github.com/users/dnicolodi","html_url":"https://github.com/dnicolodi","followers_url":"https://api.github.com/users/dnicolodi/followers","following_url":"https://api.github.com/users/dnicolodi/following{/other_user}","gists_url":"https://api.github.com/users/dnicolodi/gists{/gist_id}","starred_url":"https://api.github.com/users/dnicolodi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dnicolodi/subscriptions","organizations_url":"https://api.github.com/users/dnicolodi/orgs","repos_url":"https://api.github.com/users/dnicolodi/repos","events_url":"https://api.github.com/users/dnicolodi/events{/privacy}","received_events_url":"https://api.github.com/users/dnicolodi/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":0,"created_at":"2021-01-26T14:34:39Z","updated_at":"2021-02-04T20:56:02Z","closed_at":"2021-01-26T15:03:27Z","author_association":"COLLABORATOR","type":null,"active_lock_reason":null,"draft":false,"pull_request":{"url":"https://api.github.com/repos/beancount/beancount/pulls/619","html_url":"https://github.com/beancount/beancount/pull/619","diff_url":"https://github.com/beancount/beancount/pull/619.diff","patch_url":"https://github.com/beancount/beancount/pull/619.patch","merged_at":"2021-01-26T15:03:27Z"},"body":"Moved them out of #616 ","closed_by":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/beancount/beancount/issues/619/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beancount/issues/619/timeline","performed_via_github_app":null,"state_reason":null},{"url":"https://api.github.com/repos/beancount/beancount/issues/618","repository_url":"https://api.github.com/repos/beancount/beancount","labels_url":"https://api.github.com/repos/beancount/beancount/issues/618/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beancount/issues/618/comments","events_url":"https://api.github.com/repos/beancount/beancount/issues/618/events","html_url":"https://github.com/beancount/beancount/issues/618","id":794270239,"node_id":"MDU6SXNzdWU3OTQyNzAyMzk=","number":618,"title":"beancount.utils.misc_utils.log_time doesn't append newline at the end.","user":{"login":"emowen4","id":6215985,"node_id":"MDQ6VXNlcjYyMTU5ODU=","avatar_url":"https://avatars.githubusercontent.com/u/6215985?v=4","gravatar_id":"","url":"https://api.github.com/users/emowen4","html_url":"https://github.com/emowen4","followers_url":"https://api.github.com/users/emowen4/followers","following_url":"https://api.github.com/users/emowen4/following{/other_user}","gists_url":"https://api.github.com/users/emowen4/gists{/gist_id}","starred_url":"https://api.github.com/users/emowen4/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/emowen4/subscriptions","organizations_url":"https://api.github.com/users/emowen4/orgs","repos_url":"https://api.github.com/users/emowen4/repos","events_url":"https://api.github.com/users/emowen4/events{/privacy}","received_events_url":"https://api.github.com/users/emowen4/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":3,"created_at":"2021-01-26T14:21:55Z","updated_at":"2021-01-26T18:12:43Z","closed_at":"2021-01-26T15:02:38Z","author_association":"NONE","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"Here is the link to the log_time function. Is it on purpose that not appending \\n here?\r\n\r\nhttps://github.com/beancount/beancount/blob/master/beancount/utils/misc_utils.py#L50\r\n\r\n```python3\r\ndef log_time(operation_name, log_timings, indent=0):\r\n    time1 = time()\r\n    yield time1\r\n    time2 = time()\r\n    if log_timings:\r\n        log_timings(\"Operation: {:48} Time: {}{:6.0f} ms\".format(\r\n            \"'{}'\".format(operation_name), '      '*indent, (time2 - time1) * 1000))\r\n```\r\n","closed_by":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/beancount/beancount/issues/618/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beancount/issues/618/timeline","performed_via_github_app":null,"state_reason":"completed"},{"url":"https://api.github.com/repos/beancount/beancount/issues/617","repository_url":"https://api.github.com/repos/beancount/beancount","labels_url":"https://api.github.com/repos/beancount/beancount/issues/617/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beancount/issues/617/comments","events_url":"https://api.github.com/repos/beancount/beancount/issues/617/events","html_url":"https://github.com/beancount/beancount/pull/617","id":794174509,"node_id":"MDExOlB1bGxSZXF1ZXN0NTYxNzM1NDc3","number":617,"title":"ci: Move pylint to its own CI job","user":{"login":"dnicolodi","id":987145,"node_id":"MDQ6VXNlcjk4NzE0NQ==","avatar_url":"https://avatars.githubusercontent.com/u/987145?v=4","gravatar_id":"","url":"https://api.github.com/users/dnicolodi","html_url":"https://github.com/dnicolodi","followers_url":"https://api.github.com/users/dnicolodi/followers","following_url":"https://api.github.com/users/dnicolodi/following{/other_user}","gists_url":"https://api.github.com/users/dnicolodi/gists{/gist_id}","starred_url":"https://api.github.com/users/dnicolodi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dnicolodi/subscriptions","organizations_url":"https://api.github.com/users/dnicolodi/orgs","repos_url":"https://api.github.com/users/dnicolodi/repos","events_url":"https://api.github.com/users/dnicolodi/events{/privacy}","received_events_url":"https://api.github.com/users/dnicolodi/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":0,"created_at":"2021-01-26T11:58:06Z","updated_at":"2021-02-04T20:56:23Z","closed_at":"2021-01-26T14:14:35Z","author_association":"COLLABORATOR","type":null,"active_lock_reason":null,"draft":false,"pull_request":{"url":"https://api.github.com/repos/beancount/beancount/pulls/617","html_url":"https://github.com/beancount/beancount/pull/617","diff_url":"https://github.com/beancount/beancount/pull/617.diff","patch_url":"https://github.com/beancount/beancount/pull/617.patch","merged_at":"2021-01-26T14:14:35Z"},"body":"This should allow pyling to run in parrallel to the other CI jobs and\r\nprovide more immediate feedback whether the test failure is due to\r\npylint or something else.","closed_by":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/beancount/beancount/issues/617/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beancount/issues/617/timeline","performed_via_github_app":null,"state_reason":null},{"url":"https://api.github.com/repos/beancount/beancount/issues/616","repository_url":"https://api.github.com/repos/beancount/beancount","labels_url":"https://api.github.com/repos/beancount/beancount/issues/616/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beancount/issues/616/comments","events_url":"https://api.github.com/repos/beancount/beancount/issues/616/events","html_url":"https://github.com/beancount/beancount/pull/616","id":793386712,"node_id":"MDExOlB1bGxSZXF1ZXN0NTYxMDgzNDcx","number":616,"title":"Use Click library for command line parsing","user":{"login":"dnicolodi","id":987145,"node_id":"MDQ6VXNlcjk4NzE0NQ==","avatar_url":"https://avatars.githubusercontent.com/u/987145?v=4","gravatar_id":"","url":"https://api.github.com/users/dnicolodi","html_url":"https://github.com/dnicolodi","followers_url":"https://api.github.com/users/dnicolodi/followers","following_url":"https://api.github.com/users/dnicolodi/following{/other_user}","gists_url":"https://api.github.com/users/dnicolodi/gists{/gist_id}","starred_url":"https://api.github.com/users/dnicolodi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dnicolodi/subscriptions","organizations_url":"https://api.github.com/users/dnicolodi/orgs","repos_url":"https://api.github.com/users/dnicolodi/repos","events_url":"https://api.github.com/users/dnicolodi/events{/privacy}","received_events_url":"https://api.github.com/users/dnicolodi/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":7,"created_at":"2021-01-25T13:34:10Z","updated_at":"2021-02-04T20:54:55Z","closed_at":"2021-02-02T04:45:43Z","author_association":"COLLABORATOR","type":null,"active_lock_reason":null,"draft":false,"pull_request":{"url":"https://api.github.com/repos/beancount/beancount/pulls/616","html_url":"https://github.com/beancount/beancount/pull/616","diff_url":"https://github.com/beancount/beancount/pull/616.diff","patch_url":"https://github.com/beancount/beancount/pull/616.patch","merged_at":"2021-02-02T04:45:43Z"},"body":"This converts the ingest mechanism and `bean-doctor` to use Click for command line parsing. Other scripts can be converted later. I did some copy editing of the help strings for the commands of `bean-doctor` but some more could be done.\r\n\r\nI haven't decided yet if it is better to name the file argument `FILENAME` or `LEDGER`. The first may be a tiny bit clearer, but the second allows for nicer help text: `Read transaction from ledger FILENAME` vs `Read transactions from LEDGER`.\r\n\r\nI hope I haven't introduced any bug rebasing the PR.","closed_by":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/beancount/beancount/issues/616/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beancount/issues/616/timeline","performed_via_github_app":null,"state_reason":null},{"url":"https://api.github.com/repos/beancount/beancount/issues/615","repository_url":"https://api.github.com/repos/beancount/beancount","labels_url":"https://api.github.com/repos/beancount/beancount/issues/615/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beancount/issues/615/comments","events_url":"https://api.github.com/repos/beancount/beancount/issues/615/events","html_url":"https://github.com/beancount/beancount/pull/615","id":792836744,"node_id":"MDExOlB1bGxSZXF1ZXN0NTYwNjMyNTEw","number":615,"title":"Infer number_per and number_total simultaneously in costspec #598","user":{"login":"javiertury","id":1520320,"node_id":"MDQ6VXNlcjE1MjAzMjA=","avatar_url":"https://avatars.githubusercontent.com/u/1520320?v=4","gravatar_id":"","url":"https://api.github.com/users/javiertury","html_url":"https://github.com/javiertury","followers_url":"https://api.github.com/users/javiertury/followers","following_url":"https://api.github.com/users/javiertury/following{/other_user}","gists_url":"https://api.github.com/users/javiertury/gists{/gist_id}","starred_url":"https://api.github.com/users/javiertury/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/javiertury/subscriptions","organizations_url":"https://api.github.com/users/javiertury/orgs","repos_url":"https://api.github.com/users/javiertury/repos","events_url":"https://api.github.com/users/javiertury/events{/privacy}","received_events_url":"https://api.github.com/users/javiertury/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"open","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":6,"created_at":"2021-01-24T16:27:09Z","updated_at":"2025-05-23T21:22:45Z","closed_at":null,"author_association":"CONTRIBUTOR","type":null,"active_lock_reason":null,"draft":false,"pull_request":{"url":"https://api.github.com/repos/beancount/beancount/pulls/615","html_url":"https://github.com/beancount/beancount/pull/615","diff_url":"https://github.com/beancount/beancount/pull/615.diff","patch_url":"https://github.com/beancount/beancount/pull/615.patch","merged_at":null},"body":"This is a small inference improvement for #598. It treats costspec quantities (number_per and number_total) as a single datum and makes beancount inference work in case both of these quantities are missing instead of raising a \"Too many missing numbers\" error.","closed_by":{"login":"javiertury","id":1520320,"node_id":"MDQ6VXNlcjE1MjAzMjA=","avatar_url":"https://avatars.githubusercontent.com/u/1520320?v=4","gravatar_id":"","url":"https://api.github.com/users/javiertury","html_url":"https://github.com/javiertury","followers_url":"https://api.github.com/users/javiertury/followers","following_url":"https://api.github.com/users/javiertury/following{/other_user}","gists_url":"https://api.github.com/users/javiertury/gists{/gist_id}","starred_url":"https://api.github.com/users/javiertury/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/javiertury/subscriptions","organizations_url":"https://api.github.com/users/javiertury/orgs","repos_url":"https://api.github.com/users/javiertury/repos","events_url":"https://api.github.com/users/javiertury/events{/privacy}","received_events_url":"https://api.github.com/users/javiertury/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/beancount/beancount/issues/615/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beancount/issues/615/timeline","performed_via_github_app":null,"state_reason":null},{"url":"https://api.github.com/repos/beancount/beancount/issues/614","repository_url":"https://api.github.com/repos/beancount/beancount","labels_url":"https://api.github.com/repos/beancount/beancount/issues/614/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beancount/issues/614/comments","events_url":"https://api.github.com/repos/beancount/beancount/issues/614/events","html_url":"https://github.com/beancount/beancount/issues/614","id":792039868,"node_id":"MDU6SXNzdWU3OTIwMzk4Njg=","number":614,"title":"Add syntax for automatically transferring lots at cost (crypto users).","user":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":2080994022,"node_id":"MDU6TGFiZWwyMDgwOTk0MDIy","url":"https://api.github.com/repos/beancount/beancount/labels/P2","name":"P2","color":"ffaaaa","default":false,"description":"Low priority, addressing would result in useful improvements"},{"id":2081004612,"node_id":"MDU6TGFiZWwyMDgxMDA0NjEy","url":"https://api.github.com/repos/beancount/beancount/labels/booking","name":"booking","color":"ededed","default":false,"description":"Component: Booking algorithms"}],"state":"open","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":8,"created_at":"2021-01-22T14:17:25Z","updated_at":"2024-06-20T21:44:03Z","closed_at":null,"author_association":"MEMBER","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"This type of transfer is a recurring question on the mailling-list from the part of Crypto users.\r\n```\r\n2021-01-04 * \"Tranfer BTC from Coinbase to CoinbasePro\"\r\n  Assets:US:Crypto:CoinbasePro:BTC        0.20778508 BTC {18078.87 USD, 2020-11-28}\r\n  Assets:US:Crypto:Coinbase:BTC          -0.20778508 BTC {18078.87 USD, 2020-11-28}\r\n  Assets:US:Crypto:CoinbasePro:BTC        0.02109060 BTC {23707.24 USD, 2020-12-17}\r\n  Assets:US:Crypto:Coinbase:BTC          -0.02109060 BTC {23707.24 USD, 2020-12-17}\r\n```\r\n\r\nSomething like this (or better, probably better) could be implemented, with constraints:\r\n```\r\n2021-01-04 * \"Tranfer BTC from Coinbase to CoinbasePro\"\r\n  Assets:US:Crypto:Coinbase:BTC          -0.20778508 BTC {18078.87 USD, 2020-11-28}\r\n  Assets:US:Crypto:Coinbase:BTC          -0.02109060 BTC {23707.24 USD, 2020-12-17}\r\n  Assets:US:Crypto:CoinbasePro:BTC        {}\r\n```\r\n\r\n\r\n\r\n","closed_by":null,"reactions":{"url":"https://api.github.com/repos/beancount/beancount/issues/614/reactions","total_count":10,"+1":10,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beancount/issues/614/timeline","performed_via_github_app":null,"state_reason":null},{"url":"https://api.github.com/repos/beancount/beancount/issues/613","repository_url":"https://api.github.com/repos/beancount/beancount","labels_url":"https://api.github.com/repos/beancount/beancount/issues/613/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beancount/issues/613/comments","events_url":"https://api.github.com/repos/beancount/beancount/issues/613/events","html_url":"https://github.com/beancount/beancount/pull/613","id":787074005,"node_id":"MDExOlB1bGxSZXF1ZXN0NTU1ODQ2Mjk3","number":613,"title":"validation: allow reopening closed accounts","user":{"login":"alarsyo","id":15170378,"node_id":"MDQ6VXNlcjE1MTcwMzc4","avatar_url":"https://avatars.githubusercontent.com/u/15170378?v=4","gravatar_id":"","url":"https://api.github.com/users/alarsyo","html_url":"https://github.com/alarsyo","followers_url":"https://api.github.com/users/alarsyo/followers","following_url":"https://api.github.com/users/alarsyo/following{/other_user}","gists_url":"https://api.github.com/users/alarsyo/gists{/gist_id}","starred_url":"https://api.github.com/users/alarsyo/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/alarsyo/subscriptions","organizations_url":"https://api.github.com/users/alarsyo/orgs","repos_url":"https://api.github.com/users/alarsyo/repos","events_url":"https://api.github.com/users/alarsyo/events{/privacy}","received_events_url":"https://api.github.com/users/alarsyo/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":2,"created_at":"2021-01-15T17:44:09Z","updated_at":"2021-01-16T07:12:20Z","closed_at":"2021-01-16T07:11:40Z","author_association":"NONE","type":null,"active_lock_reason":null,"draft":false,"pull_request":{"url":"https://api.github.com/repos/beancount/beancount/pulls/613","html_url":"https://github.com/beancount/beancount/pull/613","diff_url":"https://github.com/beancount/beancount/pull/613.diff","patch_url":"https://github.com/beancount/beancount/pull/613.patch","merged_at":null},"body":"Fixes #611\r\n\r\nFirst draft to allow re-opening a previously closed account. This only prevents the error from appearing, but allowing this may have effects elsewhere, I'll play around with my ledger to see if anything breaks!\r\n\r\nFeedback welcome, feel free to point me to places where additional tests should be written for this use case.","closed_by":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/beancount/beancount/issues/613/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beancount/issues/613/timeline","performed_via_github_app":null,"state_reason":null},{"url":"https://api.github.com/repos/beancount/beancount/issues/612","repository_url":"https://api.github.com/repos/beancount/beancount","labels_url":"https://api.github.com/repos/beancount/beancount/issues/612/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beancount/issues/612/comments","events_url":"https://api.github.com/repos/beancount/beancount/issues/612/events","html_url":"https://github.com/beancount/beancount/pull/612","id":787063674,"node_id":"MDExOlB1bGxSZXF1ZXN0NTU1ODM3NjM4","number":612,"title":"Meson","user":{"login":"dnicolodi","id":987145,"node_id":"MDQ6VXNlcjk4NzE0NQ==","avatar_url":"https://avatars.githubusercontent.com/u/987145?v=4","gravatar_id":"","url":"https://api.github.com/users/dnicolodi","html_url":"https://github.com/dnicolodi","followers_url":"https://api.github.com/users/dnicolodi/followers","following_url":"https://api.github.com/users/dnicolodi/following{/other_user}","gists_url":"https://api.github.com/users/dnicolodi/gists{/gist_id}","starred_url":"https://api.github.com/users/dnicolodi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dnicolodi/subscriptions","organizations_url":"https://api.github.com/users/dnicolodi/orgs","repos_url":"https://api.github.com/users/dnicolodi/repos","events_url":"https://api.github.com/users/dnicolodi/events{/privacy}","received_events_url":"https://api.github.com/users/dnicolodi/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"open","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":4,"created_at":"2021-01-15T17:28:45Z","updated_at":"2025-05-23T21:22:45Z","closed_at":null,"author_association":"COLLABORATOR","type":null,"active_lock_reason":null,"draft":false,"pull_request":{"url":"https://api.github.com/repos/beancount/beancount/pulls/612","html_url":"https://github.com/beancount/beancount/pull/612","diff_url":"https://github.com/beancount/beancount/pull/612.diff","patch_url":"https://github.com/beancount/beancount/pull/612.patch","merged_at":null},"body":"Technology preview of how the Meson build looks like.\r\n\r\nI gave up on integrating the Bison build, it is a build time only dependence and I compile it on the build machine. It takes about 1 minute to build and install, notably with a sizeable fraction of it spent in the configure script. This time can be reduced with some clever use of the cache or producing a deb package for Bison 3.7.4 for Ubuntu 20.04.\r\n\r\nIt also uses an oldish version of protobuf, 3.12.2. Updating to a newer release should be easy. However, tests pass with the old version too.\r\n\r\nThis does not build the Python protobuf modules or a Python package, mostly because I haven't yet understood how to test it.\r\n\r\nIt would be nice to see if this does something sensible on Windows, but I don't know if there is an easy way to get Bison on Windows.\r\n\r\nOh, this includes the commit form #610 to make things a tiny bit easier.","closed_by":null,"reactions":{"url":"https://api.github.com/repos/beancount/beancount/issues/612/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beancount/issues/612/timeline","performed_via_github_app":null,"state_reason":null},{"url":"https://api.github.com/repos/beancount/beancount/issues/611","repository_url":"https://api.github.com/repos/beancount/beancount","labels_url":"https://api.github.com/repos/beancount/beancount/issues/611/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beancount/issues/611/comments","events_url":"https://api.github.com/repos/beancount/beancount/issues/611/events","html_url":"https://github.com/beancount/beancount/issues/611","id":787053895,"node_id":"MDU6SXNzdWU3ODcwNTM4OTU=","number":611,"title":"Allow reopening an account ?","user":{"login":"alarsyo","id":15170378,"node_id":"MDQ6VXNlcjE1MTcwMzc4","avatar_url":"https://avatars.githubusercontent.com/u/15170378?v=4","gravatar_id":"","url":"https://api.github.com/users/alarsyo","html_url":"https://github.com/alarsyo","followers_url":"https://api.github.com/users/alarsyo/followers","following_url":"https://api.github.com/users/alarsyo/following{/other_user}","gists_url":"https://api.github.com/users/alarsyo/gists{/gist_id}","starred_url":"https://api.github.com/users/alarsyo/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/alarsyo/subscriptions","organizations_url":"https://api.github.com/users/alarsyo/orgs","repos_url":"https://api.github.com/users/alarsyo/repos","events_url":"https://api.github.com/users/alarsyo/events{/privacy}","received_events_url":"https://api.github.com/users/alarsyo/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":4,"created_at":"2021-01-15T17:13:22Z","updated_at":"2021-01-16T06:51:06Z","closed_at":"2021-01-15T18:21:29Z","author_association":"NONE","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"For quick debts with friends, I'd like to just dynamically open and close debt accounts in my ledger, like so:\r\n\r\n```\r\n2021-01-15 open Liabilities:Dette:Firstname-Lastname\r\n\r\n2021-01-15 * \"Firstname bought me lunch\"\r\n  Liabilities:Dette:Firstname-Lastname    -8.00 EUR\r\n  Expenses:Food\r\n\r\n2021-01-15 * \"Firstname Lastname\" \"Reimbursement for lunch\"\r\n  Assets:Checking                         -8.00 EUR\r\n  Liabilities:Dette:Firstname-Lastname\r\n\r\n2021-01-16 balance Liabilities:Dette:Firstname-Lastname 0.00 EUR\r\n\r\n2021-01-16 close Liabilities:Dette:Firstname-Lastname\r\n```\r\n\r\nUnfortunately that only works the first time, if I have a second debt with the same person then I can't reopen that account, I get a `Duplicate open directive for...` error.\r\n\r\n[Relevant code here](https://github.com/beancount/beancount/blob/41f0d5209f92962fe8857ff3813b74fb413615e6/beancount/ops/validation.py#L70-L78)\r\n\r\nIs this really a behavior you want ? I can definitely think of situations where reopening a previously closed account makes sense (the simplest one being, you change banks, then come back to your previous bank, for whatever reason).\r\n\r\nIt definitely makes the implementation of the validation a bit more complex though, but from what I can see the code linked above already assumes that the list of entries is sorted chronologically (otherwise validating `close` directives would need to process all `open` directives first).","closed_by":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/beancount/beancount/issues/611/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beancount/issues/611/timeline","performed_via_github_app":null,"state_reason":"completed"},{"url":"https://api.github.com/repos/beancount/beancount/issues/610","repository_url":"https://api.github.com/repos/beancount/beancount","labels_url":"https://api.github.com/repos/beancount/beancount/issues/610/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beancount/issues/610/comments","events_url":"https://api.github.com/repos/beancount/beancount/issues/610/events","html_url":"https://github.com/beancount/beancount/pull/610","id":787050084,"node_id":"MDExOlB1bGxSZXF1ZXN0NTU1ODI2MzM4","number":610,"title":"cparser: std::filesystem is not experimental anymore in c++17","user":{"login":"dnicolodi","id":987145,"node_id":"MDQ6VXNlcjk4NzE0NQ==","avatar_url":"https://avatars.githubusercontent.com/u/987145?v=4","gravatar_id":"","url":"https://api.github.com/users/dnicolodi","html_url":"https://github.com/dnicolodi","followers_url":"https://api.github.com/users/dnicolodi/followers","following_url":"https://api.github.com/users/dnicolodi/following{/other_user}","gists_url":"https://api.github.com/users/dnicolodi/gists{/gist_id}","starred_url":"https://api.github.com/users/dnicolodi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dnicolodi/subscriptions","organizations_url":"https://api.github.com/users/dnicolodi/orgs","repos_url":"https://api.github.com/users/dnicolodi/repos","events_url":"https://api.github.com/users/dnicolodi/events{/privacy}","received_events_url":"https://api.github.com/users/dnicolodi/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":7,"created_at":"2021-01-15T17:07:31Z","updated_at":"2021-01-18T03:08:15Z","closed_at":"2021-01-17T19:57:22Z","author_association":"COLLABORATOR","type":null,"active_lock_reason":null,"draft":false,"pull_request":{"url":"https://api.github.com/repos/beancount/beancount/pulls/610","html_url":"https://github.com/beancount/beancount/pull/610","diff_url":"https://github.com/beancount/beancount/pull/610.diff","patch_url":"https://github.com/beancount/beancount/pull/610.patch","merged_at":null},"body":"Other c++17 features like std::string_view are already used in the codebase. There is no reason to do not use this one too.","closed_by":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/beancount/beancount/issues/610/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beancount/issues/610/timeline","performed_via_github_app":null,"state_reason":null},{"url":"https://api.github.com/repos/beancount/beancount/issues/609","repository_url":"https://api.github.com/repos/beancount/beancount","labels_url":"https://api.github.com/repos/beancount/beancount/issues/609/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beancount/issues/609/comments","events_url":"https://api.github.com/repos/beancount/beancount/issues/609/events","html_url":"https://github.com/beancount/beancount/issues/609","id":786968844,"node_id":"MDU6SXNzdWU3ODY5Njg4NDQ=","number":609,"title":"Cannot add transaction with missing currency in plugin","user":{"login":"ksesong","id":940567,"node_id":"MDQ6VXNlcjk0MDU2Nw==","avatar_url":"https://avatars.githubusercontent.com/u/940567?v=4","gravatar_id":"","url":"https://api.github.com/users/ksesong","html_url":"https://github.com/ksesong","followers_url":"https://api.github.com/users/ksesong/followers","following_url":"https://api.github.com/users/ksesong/following{/other_user}","gists_url":"https://api.github.com/users/ksesong/gists{/gist_id}","starred_url":"https://api.github.com/users/ksesong/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ksesong/subscriptions","organizations_url":"https://api.github.com/users/ksesong/orgs","repos_url":"https://api.github.com/users/ksesong/repos","events_url":"https://api.github.com/users/ksesong/events{/privacy}","received_events_url":"https://api.github.com/users/ksesong/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":1,"created_at":"2021-01-15T15:12:12Z","updated_at":"2021-01-15T15:28:02Z","closed_at":"2021-01-15T15:28:02Z","author_association":"NONE","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"I am trying to make a plugin that creates directives based on some external files. These files may change over time, and so the resulting directives will change as well (some may be removed, others may be added), see it as a 1-way synchronization.\r\n\r\nThe main ledger test file is basic:\r\n```beancount\r\noption \"operating_currency\" \"EUR\"\r\n\r\nplugin \"plugin-test\"\r\n```\r\n\r\nThe plugin itself has been simplified to highlight the issue:\r\n```python3\r\nfrom beancount.parser import parser\r\n\r\n__plugins__ = ['run']\r\n\r\n\r\ndef run(entries, options_map):\r\n    return (\r\n        entries\r\n        + [\r\n            parser.parse_one(\"2020-01-15 open Expenses:Test\"),\r\n            parser.parse_one(\"2020-01-15 open Assets:Account\"),\r\n            parser.parse_one(\r\n                \"\"\"\r\n2020-01-15 * \"\" \"Test\"\r\n  Expenses:Test 100 EUR\r\n  Assets:Account\r\n\"\"\"\r\n            ),\r\n        ],\r\n        [],\r\n    )\r\n```\r\n\r\nWhen running `bean-check`, the following error appears: \r\n```\r\nAttributeError: type object 'MISSING' has no attribute 'currency'\r\n```\r\nIf I were to copy these different directives onto the main ledger manually, there would be no error.","closed_by":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/beancount/beancount/issues/609/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beancount/issues/609/timeline","performed_via_github_app":null,"state_reason":"completed"},{"url":"https://api.github.com/repos/beancount/beancount/issues/608","repository_url":"https://api.github.com/repos/beancount/beancount","labels_url":"https://api.github.com/repos/beancount/beancount/issues/608/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beancount/issues/608/comments","events_url":"https://api.github.com/repos/beancount/beancount/issues/608/events","html_url":"https://github.com/beancount/beancount/pull/608","id":785367591,"node_id":"MDExOlB1bGxSZXF1ZXN0NTU0NDA2MTI3","number":608,"title":"Fix typo in beancount.ingrest.regression","user":{"login":"siddhantgoel","id":79892,"node_id":"MDQ6VXNlcjc5ODky","avatar_url":"https://avatars.githubusercontent.com/u/79892?v=4","gravatar_id":"","url":"https://api.github.com/users/siddhantgoel","html_url":"https://github.com/siddhantgoel","followers_url":"https://api.github.com/users/siddhantgoel/followers","following_url":"https://api.github.com/users/siddhantgoel/following{/other_user}","gists_url":"https://api.github.com/users/siddhantgoel/gists{/gist_id}","starred_url":"https://api.github.com/users/siddhantgoel/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/siddhantgoel/subscriptions","organizations_url":"https://api.github.com/users/siddhantgoel/orgs","repos_url":"https://api.github.com/users/siddhantgoel/repos","events_url":"https://api.github.com/users/siddhantgoel/events{/privacy}","received_events_url":"https://api.github.com/users/siddhantgoel/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":2,"created_at":"2021-01-13T19:09:41Z","updated_at":"2021-01-13T22:17:11Z","closed_at":"2021-01-13T22:16:27Z","author_association":"CONTRIBUTOR","type":null,"active_lock_reason":null,"draft":false,"pull_request":{"url":"https://api.github.com/repos/beancount/beancount/pulls/608","html_url":"https://github.com/beancount/beancount/pull/608","diff_url":"https://github.com/beancount/beancount/pull/608.diff","patch_url":"https://github.com/beancount/beancount/pull/608.patch","merged_at":"2021-01-13T22:16:27Z"},"body":"`regression_ptest` -> `regression_pytest`","closed_by":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/beancount/beancount/issues/608/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beancount/issues/608/timeline","performed_via_github_app":null,"state_reason":null},{"url":"https://api.github.com/repos/beancount/beancount/issues/607","repository_url":"https://api.github.com/repos/beancount/beancount","labels_url":"https://api.github.com/repos/beancount/beancount/issues/607/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beancount/issues/607/comments","events_url":"https://api.github.com/repos/beancount/beancount/issues/607/events","html_url":"https://github.com/beancount/beancount/issues/607","id":785047087,"node_id":"MDU6SXNzdWU3ODUwNDcwODc=","number":607,"title":"Test: doesn't work with non-standard python path","user":{"login":"tecosaur","id":20903656,"node_id":"MDQ6VXNlcjIwOTAzNjU2","avatar_url":"https://avatars.githubusercontent.com/u/20903656?v=4","gravatar_id":"","url":"https://api.github.com/users/tecosaur","html_url":"https://github.com/tecosaur","followers_url":"https://api.github.com/users/tecosaur/followers","following_url":"https://api.github.com/users/tecosaur/following{/other_user}","gists_url":"https://api.github.com/users/tecosaur/gists{/gist_id}","starred_url":"https://api.github.com/users/tecosaur/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tecosaur/subscriptions","organizations_url":"https://api.github.com/users/tecosaur/orgs","repos_url":"https://api.github.com/users/tecosaur/repos","events_url":"https://api.github.com/users/tecosaur/events{/privacy}","received_events_url":"https://api.github.com/users/tecosaur/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":5,"created_at":"2021-01-13T12:04:03Z","updated_at":"2021-05-23T17:35:17Z","closed_at":"2021-05-23T17:35:17Z","author_association":"NONE","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"Oh some distros / build-servers, the python path is non-standard.\r\n\r\nQuite frankly I have no idea about this, maybe @dcermak might be able to help.\r\n\r\nhttps://github.com/beancount/beancount/blob/a576ae368aff3b6eec3420a01b785b97dc45490c/beancount/scripts/setup_test.py#L33-L44","closed_by":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/beancount/beancount/issues/607/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beancount/issues/607/timeline","performed_via_github_app":null,"state_reason":"completed"},{"url":"https://api.github.com/repos/beancount/beancount/issues/606","repository_url":"https://api.github.com/repos/beancount/beancount","labels_url":"https://api.github.com/repos/beancount/beancount/issues/606/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beancount/issues/606/comments","events_url":"https://api.github.com/repos/beancount/beancount/issues/606/events","html_url":"https://github.com/beancount/beancount/issues/606","id":785042464,"node_id":"MDU6SXNzdWU3ODUwNDI0NjQ=","number":606,"title":"Test: Support alternative csv/sh mimetypes","user":{"login":"tecosaur","id":20903656,"node_id":"MDQ6VXNlcjIwOTAzNjU2","avatar_url":"https://avatars.githubusercontent.com/u/20903656?v=4","gravatar_id":"","url":"https://api.github.com/users/tecosaur","html_url":"https://github.com/tecosaur","followers_url":"https://api.github.com/users/tecosaur/followers","following_url":"https://api.github.com/users/tecosaur/following{/other_user}","gists_url":"https://api.github.com/users/tecosaur/gists{/gist_id}","starred_url":"https://api.github.com/users/tecosaur/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tecosaur/subscriptions","organizations_url":"https://api.github.com/users/tecosaur/orgs","repos_url":"https://api.github.com/users/tecosaur/repos","events_url":"https://api.github.com/users/tecosaur/events{/privacy}","received_events_url":"https://api.github.com/users/tecosaur/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":0,"created_at":"2021-01-13T11:56:57Z","updated_at":"2021-01-14T05:49:14Z","closed_at":"2021-01-14T05:49:14Z","author_association":"NONE","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"This is needed to have the tests succeed when building on OpenSuSE.\r\n\r\nhttps://github.com/beancount/beancount/blob/ca0501e5df2b73058a1dad5156b937d1c99f0c7e/beancount/utils/file_type_test.py#L23\r\n\r\nhttps://github.com/beancount/beancount/blob/ca0501e5df2b73058a1dad5156b937d1c99f0c7e/beancount/utils/file_type_test.py#L53-L54\r\n\r\n```diff\r\n--- a/beancount/utils/file_type_test.py\r\n+++ b/beancount/utils/file_type_test.py\r\n@@ -22,3 +22,4 @@ class TestFileType(unittest.TestCase):\r\n     def test_csv(self):\r\n-        self.check_mime_type('example.csv', 'text/csv')\r\n+        self.check_mime_type('example.csv', ['text/csv',\r\n+                                             'text/x-comma-separated-values'])\r\n\r\n@@ -52,4 +52,5 @@ class TestFileType(unittest.TestCase):\r\n     def test_sh(self):\r\n         self.check_mime_type('example.sh', ['text/x-sh',\r\n+                                            'application/x-shellscript',\r\n                                             'application/x-sh'])\r\n```","closed_by":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/beancount/beancount/issues/606/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beancount/issues/606/timeline","performed_via_github_app":null,"state_reason":"completed"},{"url":"https://api.github.com/repos/beancount/beancount/issues/605","repository_url":"https://api.github.com/repos/beancount/beancount","labels_url":"https://api.github.com/repos/beancount/beancount/issues/605/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beancount/issues/605/comments","events_url":"https://api.github.com/repos/beancount/beancount/issues/605/events","html_url":"https://github.com/beancount/beancount/pull/605","id":782801122,"node_id":"MDExOlB1bGxSZXF1ZXN0NTUyMjcwNjc2","number":605,"title":"typing: booking key is optional","user":{"login":"javiertury","id":1520320,"node_id":"MDQ6VXNlcjE1MjAzMjA=","avatar_url":"https://avatars.githubusercontent.com/u/1520320?v=4","gravatar_id":"","url":"https://api.github.com/users/javiertury","html_url":"https://github.com/javiertury","followers_url":"https://api.github.com/users/javiertury/followers","following_url":"https://api.github.com/users/javiertury/following{/other_user}","gists_url":"https://api.github.com/users/javiertury/gists{/gist_id}","starred_url":"https://api.github.com/users/javiertury/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/javiertury/subscriptions","organizations_url":"https://api.github.com/users/javiertury/orgs","repos_url":"https://api.github.com/users/javiertury/repos","events_url":"https://api.github.com/users/javiertury/events{/privacy}","received_events_url":"https://api.github.com/users/javiertury/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":0,"created_at":"2021-01-10T11:48:03Z","updated_at":"2021-01-10T18:59:09Z","closed_at":"2021-01-10T18:59:08Z","author_association":"CONTRIBUTOR","type":null,"active_lock_reason":null,"draft":false,"pull_request":{"url":"https://api.github.com/repos/beancount/beancount/pulls/605","html_url":"https://github.com/beancount/beancount/pull/605","diff_url":"https://github.com/beancount/beancount/pull/605.diff","patch_url":"https://github.com/beancount/beancount/pull/605.patch","merged_at":"2021-01-10T18:59:08Z"},"body":"According to the documentation, the \"booking\" key of the directive \"Open\" is optional.","closed_by":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/beancount/beancount/issues/605/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beancount/issues/605/timeline","performed_via_github_app":null,"state_reason":null},{"url":"https://api.github.com/repos/beancount/beancount/issues/604","repository_url":"https://api.github.com/repos/beancount/beancount","labels_url":"https://api.github.com/repos/beancount/beancount/issues/604/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beancount/issues/604/comments","events_url":"https://api.github.com/repos/beancount/beancount/issues/604/events","html_url":"https://github.com/beancount/beancount/issues/604","id":782061550,"node_id":"MDU6SXNzdWU3ODIwNjE1NTA=","number":604,"title":"Can I make a balance assertion about market value?","user":{"login":"AakashM0","id":71141073,"node_id":"MDQ6VXNlcjcxMTQxMDcz","avatar_url":"https://avatars.githubusercontent.com/u/71141073?v=4","gravatar_id":"","url":"https://api.github.com/users/AakashM0","html_url":"https://github.com/AakashM0","followers_url":"https://api.github.com/users/AakashM0/followers","following_url":"https://api.github.com/users/AakashM0/following{/other_user}","gists_url":"https://api.github.com/users/AakashM0/gists{/gist_id}","starred_url":"https://api.github.com/users/AakashM0/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/AakashM0/subscriptions","organizations_url":"https://api.github.com/users/AakashM0/orgs","repos_url":"https://api.github.com/users/AakashM0/repos","events_url":"https://api.github.com/users/AakashM0/events{/privacy}","received_events_url":"https://api.github.com/users/AakashM0/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":2,"created_at":"2021-01-08T11:44:13Z","updated_at":"2021-01-08T14:25:27Z","closed_at":"2021-01-08T13:08:29Z","author_association":"NONE","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"I have an investment account (as background information, it's non-taxable so I use the NONE booking method) in which I buy units of a mutual fund. My broker provides an account summary which lists my current holding, latest market price, and current market value. I can enter a `balance` assertion to confirm that my file agrees with my broker in respect of the number of units of the fund.\r\n\r\nI also put the latest price into my beancount file with a `price` directive. Can I use a `balance` assertion to confirm that my file agrees with my broker in respect of the current market value?\r\n\r\nExample:\r\n\r\n```\r\noption \"operating_currency\" \"GBP\"\r\nplugin \"beancount.plugins.unrealized\" \"Unrealized\"\r\nplugin \"beancount.plugins.implicit_prices\"\r\n\r\n* Commodities\r\n2012-09-07 commodity GBP\r\n  name: \"Pound Sterling\"\r\n\r\n2012-09-07 commodity B41XG30\r\n  name: \"Vanguard LifeStrategy 100% Equity Accumulation (GBP)\"\r\n  \r\n* Accounts\r\n2012-09-07 open Assets:ISA \r\n2012-09-07 open Assets:ISA:Cash GBP\r\n2012-09-07 open Assets:ISA:B41XG30 B41XG30 \"NONE\"\r\n2012-09-07 open Income:BankAccount:2783\t\tGBP\r\n\r\n\r\n* Transactions\r\n\r\n;topup\r\n2012-09-07 * \"REG. SAVER // Transfer From Bank Account Bank A/C : ****2783\"\r\n  Assets:ISA:Cash 75 GBP\r\n  Income:BankAccount:2783\r\n  \r\n;purchase\r\n2012-09-10 *   \"B346530501 // Vanguard LifeStrategy 100% Equity Accumulation (GBP) .7242 @  10356.66380\"\r\n  Assets:ISA:B41XG30 0.7242 B41XG30 { 103.56638 GBP }\r\n  Assets:ISA:Cash -75.00 GBP\r\n  \r\n; final price point\r\n2021-01-07 price B41XG30 260.188 GBP\r\n\r\n; balance assertion about units held\r\n2021-01-07 balance Assets:ISA:B41XG30 0.7242 B41XG30\r\n\r\n; balance assertion about market value - doesn't work, want to find out how to do this \r\n2021-01-07 balance Assets:ISA 188.43 GBP\r\n```\r\n\r\nWith the above file, both bean_web and fava know that the market value of `Assets:ISA` is 188.43 GBP - is there a way I can assert this fact within the beancount file itself?\r\n","closed_by":{"login":"AakashM0","id":71141073,"node_id":"MDQ6VXNlcjcxMTQxMDcz","avatar_url":"https://avatars.githubusercontent.com/u/71141073?v=4","gravatar_id":"","url":"https://api.github.com/users/AakashM0","html_url":"https://github.com/AakashM0","followers_url":"https://api.github.com/users/AakashM0/followers","following_url":"https://api.github.com/users/AakashM0/following{/other_user}","gists_url":"https://api.github.com/users/AakashM0/gists{/gist_id}","starred_url":"https://api.github.com/users/AakashM0/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/AakashM0/subscriptions","organizations_url":"https://api.github.com/users/AakashM0/orgs","repos_url":"https://api.github.com/users/AakashM0/repos","events_url":"https://api.github.com/users/AakashM0/events{/privacy}","received_events_url":"https://api.github.com/users/AakashM0/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/beancount/beancount/issues/604/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beancount/issues/604/timeline","performed_via_github_app":null,"state_reason":"completed"},{"url":"https://api.github.com/repos/beancount/beancount/issues/603","repository_url":"https://api.github.com/repos/beancount/beancount","labels_url":"https://api.github.com/repos/beancount/beancount/issues/603/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beancount/issues/603/comments","events_url":"https://api.github.com/repos/beancount/beancount/issues/603/events","html_url":"https://github.com/beancount/beancount/issues/603","id":778340031,"node_id":"MDU6SXNzdWU3NzgzNDAwMzE=","number":603,"title":"cannot install in Ubuntu 16.04","user":{"login":"ouboub","id":5957203,"node_id":"MDQ6VXNlcjU5NTcyMDM=","avatar_url":"https://avatars.githubusercontent.com/u/5957203?v=4","gravatar_id":"","url":"https://api.github.com/users/ouboub","html_url":"https://github.com/ouboub","followers_url":"https://api.github.com/users/ouboub/followers","following_url":"https://api.github.com/users/ouboub/following{/other_user}","gists_url":"https://api.github.com/users/ouboub/gists{/gist_id}","starred_url":"https://api.github.com/users/ouboub/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ouboub/subscriptions","organizations_url":"https://api.github.com/users/ouboub/orgs","repos_url":"https://api.github.com/users/ouboub/repos","events_url":"https://api.github.com/users/ouboub/events{/privacy}","received_events_url":"https://api.github.com/users/ouboub/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":2,"created_at":"2021-01-04T20:21:03Z","updated_at":"2021-02-02T06:10:18Z","closed_at":"2021-02-02T06:10:18Z","author_association":"NONE","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"Hi\r\n\r\nright now it is difficult for me to upgrade my Ubuntu 16.04 distro (which ships python 3.5)\r\nI tried out various beancount version, but I always obtain the following error:\r\n\r\n\r\npip3 install --user beancount==2.2.0\r\n\r\n\r\nDEPRECATION: Python 3.5 reached the end of its life on September 13th, 2020. Please upgrade your Python as Python 3.5 is no longer maintained. pip 21.0 will drop support for Python 3.5 in January 2021. pip 21.0 will remove support for this functionality.\r\nCollecting beancount==2.2.0\r\n  Using cached beancount-2.2.0.tar.gz (597 kB)\r\n    ERROR: Command errored out with exit status 1:\r\n     command: /usr/bin/python3 -c 'import sys, setuptools, tokenize; sys.argv[0] = '\"'\"'/tmp/pip-install-c7jyqi8b/beancount_75ddebbf215447ce9d81b84d4eccac3a/setup.py'\"'\"'; __file__='\"'\"'/tmp/pip-install-c7jyqi8b/beancount_75ddebbf215447ce9d81b84d4eccac3a/setup.py'\"'\"';f=getattr(tokenize, '\"'\"'open'\"'\"', open)(__file__);code=f.read().replace('\"'\"'\\r\\n'\"'\"', '\"'\"'\\n'\"'\"');f.close();exec(compile(code, __file__, '\"'\"'exec'\"'\"'))' egg_info --egg-base /tmp/pip-pip-egg-info-2wi4v5ia\r\n         cwd: /tmp/pip-install-c7jyqi8b/beancount_75ddebbf215447ce9d81b84d4eccac3a/\r\n    Complete output (25 lines):\r\n    Traceback (most recent call last):\r\n      File \"<string>\", line 1, in <module>\r\n      File \"/usr/lib/python3/dist-packages/setuptools/__init__.py\", line 11, in <module>\r\n        from setuptools.extern.six.moves import filterfalse, map\r\n      File \"/usr/lib/python3/dist-packages/setuptools/extern/__init__.py\", line 1, in <module>\r\n        from pkg_resources.extern import VendorImporter\r\n      File \"/usr/lib/python3/dist-packages/pkg_resources/__init__.py\", line 2927, in <module>\r\n        @_call_aside\r\n      File \"/usr/lib/python3/dist-packages/pkg_resources/__init__.py\", line 2913, in _call_aside\r\n        f(*args, **kwargs)\r\n      File \"/usr/lib/python3/dist-packages/pkg_resources/__init__.py\", line 2952, in _initialize_master_working_set\r\n        add_activation_listener(lambda dist: dist.activate())\r\n      File \"/usr/lib/python3/dist-packages/pkg_resources/__init__.py\", line 956, in subscribe\r\n        callback(dist)\r\n      File \"/usr/lib/python3/dist-packages/pkg_resources/__init__.py\", line 2952, in <lambda>\r\n        add_activation_listener(lambda dist: dist.activate())\r\n      File \"/usr/lib/python3/dist-packages/pkg_resources/__init__.py\", line 2515, in activate\r\n        declare_namespace(pkg)\r\n      File \"/usr/lib/python3/dist-packages/pkg_resources/__init__.py\", line 2097, in declare_namespace\r\n        _handle_ns(packageName, path_item)\r\n      File \"/usr/lib/python3/dist-packages/pkg_resources/__init__.py\", line 2047, in _handle_ns\r\n        _rebuild_mod_path(path, packageName, module)\r\n      File \"/usr/lib/python3/dist-packages/pkg_resources/__init__.py\", line 2066, in _rebuild_mod_path\r\n        orig_path.sort(key=position_in_sys_path)\r\n    AttributeError: '_NamespacePath' object has no attribute 'sort'\r\n    ----------------------------------------\r\nERROR: Command errored out with exit status 1: python setup.py egg_info Check the logs for full command output.\r\n","closed_by":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/beancount/beancount/issues/603/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beancount/issues/603/timeline","performed_via_github_app":null,"state_reason":"completed"},{"url":"https://api.github.com/repos/beancount/beancount/issues/602","repository_url":"https://api.github.com/repos/beancount/beancount","labels_url":"https://api.github.com/repos/beancount/beancount/issues/602/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beancount/issues/602/comments","events_url":"https://api.github.com/repos/beancount/beancount/issues/602/events","html_url":"https://github.com/beancount/beancount/issues/602","id":778217518,"node_id":"MDU6SXNzdWU3NzgyMTc1MTg=","number":602,"title":"Handle self-reductions","user":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":2080994777,"node_id":"MDU6TGFiZWwyMDgwOTk0Nzc3","url":"https://api.github.com/repos/beancount/beancount/labels/P1","name":"P1","color":"ff6666","default":false,"description":"High priority, not breaking but hindering or lessening existing functionality"},{"id":2081004612,"node_id":"MDU6TGFiZWwyMDgxMDA0NjEy","url":"https://api.github.com/repos/beancount/beancount/labels/booking","name":"booking","color":"ededed","default":false,"description":"Component: Booking algorithms"}],"state":"open","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":0,"created_at":"2021-01-04T16:39:01Z","updated_at":"2021-01-04T16:39:16Z","closed_at":null,"author_association":"MEMBER","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"Review self-reduction experiment and prioritize in v3.\r\nSee discussion in:\r\nhttps://groups.google.com/d/msgid/beancount/aa5b7b54-9bd1-4308-b872-7d3e52b1ef71n%40googlegroups.com?utm_medium=email&utm_source=footer","closed_by":null,"reactions":{"url":"https://api.github.com/repos/beancount/beancount/issues/602/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beancount/issues/602/timeline","performed_via_github_app":null,"state_reason":null},{"url":"https://api.github.com/repos/beancount/beancount/issues/601","repository_url":"https://api.github.com/repos/beancount/beancount","labels_url":"https://api.github.com/repos/beancount/beancount/issues/601/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beancount/issues/601/comments","events_url":"https://api.github.com/repos/beancount/beancount/issues/601/events","html_url":"https://github.com/beancount/beancount/issues/601","id":777626717,"node_id":"MDU6SXNzdWU3Nzc2MjY3MTc=","number":601,"title":"\"Calculating Portfolio Returns\" scripts doesn't exist","user":{"login":"lama-pacos","id":6497903,"node_id":"MDQ6VXNlcjY0OTc5MDM=","avatar_url":"https://avatars.githubusercontent.com/u/6497903?v=4","gravatar_id":"","url":"https://api.github.com/users/lama-pacos","html_url":"https://github.com/lama-pacos","followers_url":"https://api.github.com/users/lama-pacos/followers","following_url":"https://api.github.com/users/lama-pacos/following{/other_user}","gists_url":"https://api.github.com/users/lama-pacos/gists{/gist_id}","starred_url":"https://api.github.com/users/lama-pacos/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/lama-pacos/subscriptions","organizations_url":"https://api.github.com/users/lama-pacos/orgs","repos_url":"https://api.github.com/users/lama-pacos/repos","events_url":"https://api.github.com/users/lama-pacos/events{/privacy}","received_events_url":"https://api.github.com/users/lama-pacos/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":8,"created_at":"2021-01-03T12:17:24Z","updated_at":"2022-05-07T05:53:58Z","closed_at":"2021-01-03T23:44:06Z","author_association":"NONE","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"The source code can be found here.\r\n\r\nhttps://github.com/beancount/beancount/blob/v2/experiments/returns/compute_returns.py\r\n\r\nthe link is not found","closed_by":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/beancount/beancount/issues/601/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beancount/issues/601/timeline","performed_via_github_app":null,"state_reason":"completed"},{"url":"https://api.github.com/repos/beancount/beancount/issues/600","repository_url":"https://api.github.com/repos/beancount/beancount","labels_url":"https://api.github.com/repos/beancount/beancount/issues/600/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beancount/issues/600/comments","events_url":"https://api.github.com/repos/beancount/beancount/issues/600/events","html_url":"https://github.com/beancount/beancount/pull/600","id":777596131,"node_id":"MDExOlB1bGxSZXF1ZXN0NTQ3ODQ4NjAz","number":600,"title":"add UPPER() and LOWER() to BQL","user":{"login":"redstreet","id":691755,"node_id":"MDQ6VXNlcjY5MTc1NQ==","avatar_url":"https://avatars.githubusercontent.com/u/691755?v=4","gravatar_id":"","url":"https://api.github.com/users/redstreet","html_url":"https://github.com/redstreet","followers_url":"https://api.github.com/users/redstreet/followers","following_url":"https://api.github.com/users/redstreet/following{/other_user}","gists_url":"https://api.github.com/users/redstreet/gists{/gist_id}","starred_url":"https://api.github.com/users/redstreet/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/redstreet/subscriptions","organizations_url":"https://api.github.com/users/redstreet/orgs","repos_url":"https://api.github.com/users/redstreet/repos","events_url":"https://api.github.com/users/redstreet/events{/privacy}","received_events_url":"https://api.github.com/users/redstreet/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":0,"created_at":"2021-01-03T08:29:14Z","updated_at":"2021-01-03T13:52:11Z","closed_at":"2021-01-03T13:52:10Z","author_association":"CONTRIBUTOR","type":null,"active_lock_reason":null,"draft":false,"pull_request":{"url":"https://api.github.com/repos/beancount/beancount/pulls/600","html_url":"https://github.com/beancount/beancount/pull/600","diff_url":"https://github.com/beancount/beancount/pull/600.diff","patch_url":"https://github.com/beancount/beancount/pull/600.patch","merged_at":"2021-01-03T13:52:10Z"},"body":"Functions to convert strings to uppercase and lowercase.","closed_by":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/beancount/beancount/issues/600/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beancount/issues/600/timeline","performed_via_github_app":null,"state_reason":null},{"url":"https://api.github.com/repos/beancount/beancount/issues/599","repository_url":"https://api.github.com/repos/beancount/beancount","labels_url":"https://api.github.com/repos/beancount/beancount/issues/599/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beancount/issues/599/comments","events_url":"https://api.github.com/repos/beancount/beancount/issues/599/events","html_url":"https://github.com/beancount/beancount/issues/599","id":777266316,"node_id":"MDU6SXNzdWU3NzcyNjYzMTY=","number":599,"title":"docs: guidance for plugin writers on `__automatic__` meta usage","user":{"login":"Akuukis","id":7459419,"node_id":"MDQ6VXNlcjc0NTk0MTk=","avatar_url":"https://avatars.githubusercontent.com/u/7459419?v=4","gravatar_id":"","url":"https://api.github.com/users/Akuukis","html_url":"https://github.com/Akuukis","followers_url":"https://api.github.com/users/Akuukis/followers","following_url":"https://api.github.com/users/Akuukis/following{/other_user}","gists_url":"https://api.github.com/users/Akuukis/gists{/gist_id}","starred_url":"https://api.github.com/users/Akuukis/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Akuukis/subscriptions","organizations_url":"https://api.github.com/users/Akuukis/orgs","repos_url":"https://api.github.com/users/Akuukis/repos","events_url":"https://api.github.com/users/Akuukis/events{/privacy}","received_events_url":"https://api.github.com/users/Akuukis/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"open","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":0,"created_at":"2021-01-01T11:12:07Z","updated_at":"2021-01-01T11:12:07Z","closed_at":null,"author_association":"NONE","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"Happy New Year!\r\n\r\nI've noticed that beancount sometimes have the meta `__automatic__` to transactions or postings, and existence of that meta looks like to have a difference as shown in searches for [`__automatic__`](https://github.com/beancount/beancount/search?q=__automatic__) and [`AUTOMATIC_META`](https://github.com/beancount/beancount/search?q=AUTOMATIC_META). Unfortunately I can't wrap my head around what exactly it represents and how to handle it. I wish my plugins to play well together with the beancount core, hence this issue to clarify it.\r\n\r\nIn the big picture, I assume, that meta indicates that transaction or posting was created not by user directly. As good as the guess may sound, it's too vague. Here's a list of specific questions:\r\n\r\n1. Plugin [oneliner](https://github.com/Akuukis/beancount_oneliner) transforms one-line note directives into multi-line transaction directives. No fancy logic or assumptions, pure syntax stuff.\r\n \r\n    1. Does the resulting transaction require `__automatic__` meta?\r\n\r\n2. Plugin [share](https://github.com/Akuukis/beancount_share) modifies a transaction and it's postings according to meta.\r\n\r\n    1. Does modified transaction requires `__automatic__` meta?\r\n    2. Does modified postings require `__automatic__` meta? \r\n    3. Does created postings require `__automatic__` meta?\r\n    4. Does created `open` directives require `__automatic__` meta?\r\n\r\n3. Sub-plugin [recur](https://github.com/Akuukis/beancount_interpolate#details-recur) slightly modifies a transaction (narrative & tags, not postings) and creates new transactions. Very simple, on the borderline of \"logic to create new transactions\" and \"syntactic sugar for copy-pasting the transaction\".\r\n\r\n    1. Does the modified transaction require `__automatic__` meta?\r\n    2. Does new transactions require `__automatic__` meta?\r\n\r\n4. Sub-plugin [split](https://github.com/Akuukis/beancount_interpolate#details-split) deletes the transactions and creates new ones. Similarly on edge between logic and syntactic sugar like above but has some assumptions on rounding amounts and edits postings.\r\n\r\n    1. Does the new transactions require `__automatic__` meta?\r\n\r\n5. Sub-plugins [spread](https://github.com/Akuukis/beancount_interpolate#details-spread) and [depr](https://github.com/Akuukis/beancount_interpolate#details-depreciate) modifies a transaction and creates new transactions. Much logic and assumptions involved.\r\n\r\n    1. Does the modified transaction requires `__automatic__` meta?\r\n    2. Does created postings require `__automatic__` meta?\r\n    3. Does created transactions require `__automatic__` meta?\r\n\r\n6. Furthermore, It's possible to combine `oneliner` with any of other plugins. How to determine whenever the resulting transaction requires `__automatic__` meta?\r\n\r\n","closed_by":null,"reactions":{"url":"https://api.github.com/repos/beancount/beancount/issues/599/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beancount/issues/599/timeline","performed_via_github_app":null,"state_reason":null},{"url":"https://api.github.com/repos/beancount/beancount/issues/598","repository_url":"https://api.github.com/repos/beancount/beancount","labels_url":"https://api.github.com/repos/beancount/beancount/issues/598/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beancount/issues/598/comments","events_url":"https://api.github.com/repos/beancount/beancount/issues/598/events","html_url":"https://github.com/beancount/beancount/issues/598","id":775548611,"node_id":"MDU6SXNzdWU3NzU1NDg2MTE=","number":598,"title":"Too many missing numbers on valid FIFO transaction should resolve.","user":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":2080994777,"node_id":"MDU6TGFiZWwyMDgwOTk0Nzc3","url":"https://api.github.com/repos/beancount/beancount/labels/P1","name":"P1","color":"ff6666","default":false,"description":"High priority, not breaking but hindering or lessening existing functionality"},{"id":2081004612,"node_id":"MDU6TGFiZWwyMDgxMDA0NjEy","url":"https://api.github.com/repos/beancount/beancount/labels/booking","name":"booking","color":"ededed","default":false,"description":"Component: Booking algorithms"}],"state":"open","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":2,"created_at":"2020-12-28T19:16:32Z","updated_at":"2023-01-21T18:34:46Z","closed_at":null,"author_association":"MEMBER","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"```\r\noption \"booking_method\" \"FIFO\"\r\nplugin \"beancount.plugins.book_conversions\" \"Assets:Bitcoin,Income:Bitcoin\"\r\nplugin \"beancount.plugins.auto_accounts\"\r\n\r\noption \"insert_pythonpath\" \"True\"\r\nplugin \"plugins.transfer_lots\" \"transfer\"\r\n\r\n2020-12-01 * \"\"\t\"Buy BTC\"\r\n          Assets:Cash:Coinbase-Pro         -1500.00 EUR\r\n          Assets:Crypto:BTC:Coinbase-Pro       0.15 BTC\t{10,000 EUR} @ 10,000 EUR\r\n\r\n2020-12-17 * \"\"\t\"Buy BTC\"\r\n          Assets:Cash:Coinbase-Pro        -6,000.00 EUR\r\n          Assets:Crypto:BTC:Coinbase-Pro        0.3 BTC\t{20,000 EUR} @ 20,000 EUR\r\n\r\n2020-12-18 * \"\"\t\"Transfer BTC\" #transfer\r\n          Assets:Crypto:BTC:Coinbase-Pro     -0.175 BTC {}\r\n          Assets:Crypto:BTC:Binance         \r\n\r\n2020-12-20 * \"\" \"Swap BTC => USDT (1/2)\"\r\n; assumed BTC sell\r\n          Assets:Crypto:BTC:Binance           -0.16 BTC {} @ 16,000 EUR\r\n          Assets:Cash:Binance                 2,560 EUR\r\n          Income:Trading\r\n```\r\n","closed_by":null,"reactions":{"url":"https://api.github.com/repos/beancount/beancount/issues/598/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beancount/issues/598/timeline","performed_via_github_app":null,"state_reason":null},{"url":"https://api.github.com/repos/beancount/beancount/issues/597","repository_url":"https://api.github.com/repos/beancount/beancount","labels_url":"https://api.github.com/repos/beancount/beancount/issues/597/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beancount/issues/597/comments","events_url":"https://api.github.com/repos/beancount/beancount/issues/597/events","html_url":"https://github.com/beancount/beancount/issues/597","id":775248349,"node_id":"MDU6SXNzdWU3NzUyNDgzNDk=","number":597,"title":"Different depreciation rules for the same item.","user":{"login":"jahagirdar","id":1273287,"node_id":"MDQ6VXNlcjEyNzMyODc=","avatar_url":"https://avatars.githubusercontent.com/u/1273287?v=4","gravatar_id":"","url":"https://api.github.com/users/jahagirdar","html_url":"https://github.com/jahagirdar","followers_url":"https://api.github.com/users/jahagirdar/followers","following_url":"https://api.github.com/users/jahagirdar/following{/other_user}","gists_url":"https://api.github.com/users/jahagirdar/gists{/gist_id}","starred_url":"https://api.github.com/users/jahagirdar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jahagirdar/subscriptions","organizations_url":"https://api.github.com/users/jahagirdar/orgs","repos_url":"https://api.github.com/users/jahagirdar/repos","events_url":"https://api.github.com/users/jahagirdar/events{/privacy}","received_events_url":"https://api.github.com/users/jahagirdar/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"open","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":4,"created_at":"2020-12-28T07:21:15Z","updated_at":"2021-01-04T10:56:24Z","closed_at":null,"author_association":"NONE","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"In India, The Tax department and the Corporate affairs department have different rules for depreciation. Companies are required to maintain two types of depreciation calculation – one for accounting purpose following Schedule II to the Companies Act, 2013 and the other for taxation purpose according to the provisions of Sec. 32 of Income Tax Act, 1961.\r\n\r\nNow for a transaction, I need to calculate two set's of depreciation and at year end generate two sets of reports one for MCA and another for IT dept\r\n\r\ne.g.\r\n\r\n2020-03-24 * \"Amazon\" \"Laptop\" ;\r\n        Assets:INR:Equipment 44250     \r\n        Liabilities:INR:CreditCard\r\n        ; depreciation_itr: 0.6 ; 60% depreciation, half yearly, WDV method\r\n        ; depreciation_mca: 0.4 ; depreciation, monthly Straight line method\r\n\r\nWhat is the best way to handle this scenario? I noticed that there is a depreciation plugin, Can that be used here? Can I define a flag and depending on whether it is set or not make beancount pick one value or another for report generation?\r\n\r\nRef: https://cleartax.in/s/depreciation-income-tax-act\r\n**Note:**\r\nA list of differences are\r\n\r\n1.  Income tax rates are higher than companies act rates.\r\n2.  Income tax method of depreciation is WDV ( except power  plant) but in companies act it is based on life of asset and straight  line method\r\n3.  There is no option to change rates of depreciation given  by income tax act, but under companies act you can adopt different life  and consequently different rates based on justification\r\n4.  Income tax depreciation is 50% if asset used for less  than 180 days otherwise depreciation for full year. Companies act  depreciation is proportionate to the period of use.\r\n5.  Under companies act , major components of machine are  depreciated separately if they have different useful life but in income  tax act no separate depreciation on components","closed_by":null,"reactions":{"url":"https://api.github.com/repos/beancount/beancount/issues/597/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beancount/issues/597/timeline","performed_via_github_app":null,"state_reason":null},{"url":"https://api.github.com/repos/beancount/beancount/issues/596","repository_url":"https://api.github.com/repos/beancount/beancount","labels_url":"https://api.github.com/repos/beancount/beancount/issues/596/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beancount/issues/596/comments","events_url":"https://api.github.com/repos/beancount/beancount/issues/596/events","html_url":"https://github.com/beancount/beancount/issues/596","id":775071605,"node_id":"MDU6SXNzdWU3NzUwNzE2MDU=","number":596,"title":"Documents from a directory Option does not work as expected from an include","user":{"login":"samjcarter","id":35503137,"node_id":"MDQ6VXNlcjM1NTAzMTM3","avatar_url":"https://avatars.githubusercontent.com/u/35503137?v=4","gravatar_id":"","url":"https://api.github.com/users/samjcarter","html_url":"https://github.com/samjcarter","followers_url":"https://api.github.com/users/samjcarter/followers","following_url":"https://api.github.com/users/samjcarter/following{/other_user}","gists_url":"https://api.github.com/users/samjcarter/gists{/gist_id}","starred_url":"https://api.github.com/users/samjcarter/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/samjcarter/subscriptions","organizations_url":"https://api.github.com/users/samjcarter/orgs","repos_url":"https://api.github.com/users/samjcarter/repos","events_url":"https://api.github.com/users/samjcarter/events{/privacy}","received_events_url":"https://api.github.com/users/samjcarter/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":2,"created_at":"2020-12-27T16:53:03Z","updated_at":"2021-01-15T18:08:10Z","closed_at":"2021-01-15T18:08:10Z","author_association":"NONE","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"### Description of Issue\r\n\r\nUsing a documents option to generate document journal entries from a directory, as in [https://beancount.github.io/docs/beancount_language_syntax.html#documents-from-a-directory ](https://beancount.github.io/docs/beancount_language_syntax.html#documents-from-a-directory) works if the option is **not** written in a file that is an include to your main file. It does work when written directly in to your main file.\r\n\r\n### Software versions used for testing\r\n\r\n- beancount==2.3.3\r\n- fava==1.17\r\n\r\nOther software used:\r\n\r\n- Visual Studio Code 1.52.1\r\n- Firefox 84.0.1 (64-bit)\r\n- Ubuntu 20.10\r\n\r\n### Steps to reproduce\r\n\r\n1. Set up a new beancount project in a new directory with a fresh python virtual environment `python -m venv .venv` \r\n2. activate virtual environment `source .venv/bin/activate`\r\n3. install beancount and fava `pip install beancount fava`\r\n4. create a new empty beancount file `touch main.bean`\r\n5. in `main.bean` add an option to a docs directory `option \"documents\" \"docs\"`\r\n6. create that directory. `mkdir docs`\r\n7. in main.bean add an account. `2020-12-26 open Assets:Bank`\r\n8. create a hierarchy of directories mirroring the bank account. `mkdir docs/Assets` and `mkdir docs/Assets/Bank`\r\n9. place a correctly named document inside the bank directory `docs/Assets/Bank/2020-12-27_filename.pdf` or similar.\r\n10. open the Beancount file in Fava `fava main.bean` and go to the documents or journal link, and you should see the automatically created entry for that document.\r\n11. **Now \"Break it\"**\r\n12. create a new beancount file called `options.bean`\r\n13. cut the `option \"documents\" \"docs\"` line out of `main.bean` and paste it into `options.bean`.\r\n14. add an include to the first line of  `main.bean`:  `include \"options.bean\"` \r\n15. now refresh or re-open `main.bean` in fava and the document placed in `\"docs\"` disappears.\r\n16. reverse the steps after \"**Break it**\" by commenting out the `include` and putting the `option \"documents\" \"docs\"` line back into the `main.bean` file. Check that the documents re-appear in Fava or `bean-report main.bean journal`","closed_by":{"login":"samjcarter","id":35503137,"node_id":"MDQ6VXNlcjM1NTAzMTM3","avatar_url":"https://avatars.githubusercontent.com/u/35503137?v=4","gravatar_id":"","url":"https://api.github.com/users/samjcarter","html_url":"https://github.com/samjcarter","followers_url":"https://api.github.com/users/samjcarter/followers","following_url":"https://api.github.com/users/samjcarter/following{/other_user}","gists_url":"https://api.github.com/users/samjcarter/gists{/gist_id}","starred_url":"https://api.github.com/users/samjcarter/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/samjcarter/subscriptions","organizations_url":"https://api.github.com/users/samjcarter/orgs","repos_url":"https://api.github.com/users/samjcarter/repos","events_url":"https://api.github.com/users/samjcarter/events{/privacy}","received_events_url":"https://api.github.com/users/samjcarter/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/beancount/beancount/issues/596/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beancount/issues/596/timeline","performed_via_github_app":null,"state_reason":"completed"},{"url":"https://api.github.com/repos/beancount/beancount/issues/595","repository_url":"https://api.github.com/repos/beancount/beancount","labels_url":"https://api.github.com/repos/beancount/beancount/issues/595/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beancount/issues/595/comments","events_url":"https://api.github.com/repos/beancount/beancount/issues/595/events","html_url":"https://github.com/beancount/beancount/pull/595","id":774004682,"node_id":"MDExOlB1bGxSZXF1ZXN0NTQ0OTk3NDU3","number":595,"title":"Provide SSL context on request.urlopen()","user":{"login":"gpoul","id":161626,"node_id":"MDQ6VXNlcjE2MTYyNg==","avatar_url":"https://avatars.githubusercontent.com/u/161626?v=4","gravatar_id":"","url":"https://api.github.com/users/gpoul","html_url":"https://github.com/gpoul","followers_url":"https://api.github.com/users/gpoul/followers","following_url":"https://api.github.com/users/gpoul/following{/other_user}","gists_url":"https://api.github.com/users/gpoul/gists{/gist_id}","starred_url":"https://api.github.com/users/gpoul/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gpoul/subscriptions","organizations_url":"https://api.github.com/users/gpoul/orgs","repos_url":"https://api.github.com/users/gpoul/repos","events_url":"https://api.github.com/users/gpoul/events{/privacy}","received_events_url":"https://api.github.com/users/gpoul/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":8,"created_at":"2020-12-23T19:36:39Z","updated_at":"2022-04-10T13:56:20Z","closed_at":"2022-04-10T13:56:20Z","author_association":"NONE","type":null,"active_lock_reason":null,"draft":false,"pull_request":{"url":"https://api.github.com/repos/beancount/beancount/pulls/595","html_url":"https://github.com/beancount/beancount/pull/595","diff_url":"https://github.com/beancount/beancount/pull/595.diff","patch_url":"https://github.com/beancount/beancount/pull/595.patch","merged_at":null},"body":"This fixes an error returned with newer OpenSSL default settings\r\nwith some beanprice sources where a URLError is now raised with message\r\n<urlopen error [SSL: DH_KEY_TOO_SMALL] dh key too small (_ssl.c:1123)>","closed_by":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/beancount/beancount/issues/595/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beancount/issues/595/timeline","performed_via_github_app":null,"state_reason":null},{"url":"https://api.github.com/repos/beancount/beancount/issues/594","repository_url":"https://api.github.com/repos/beancount/beancount","labels_url":"https://api.github.com/repos/beancount/beancount/issues/594/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beancount/issues/594/comments","events_url":"https://api.github.com/repos/beancount/beancount/issues/594/events","html_url":"https://github.com/beancount/beancount/issues/594","id":773620160,"node_id":"MDU6SXNzdWU3NzM2MjAxNjA=","number":594,"title":"Multiple values for a metadata.","user":{"login":"jahagirdar","id":1273287,"node_id":"MDQ6VXNlcjEyNzMyODc=","avatar_url":"https://avatars.githubusercontent.com/u/1273287?v=4","gravatar_id":"","url":"https://api.github.com/users/jahagirdar","html_url":"https://github.com/jahagirdar","followers_url":"https://api.github.com/users/jahagirdar/followers","following_url":"https://api.github.com/users/jahagirdar/following{/other_user}","gists_url":"https://api.github.com/users/jahagirdar/gists{/gist_id}","starred_url":"https://api.github.com/users/jahagirdar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jahagirdar/subscriptions","organizations_url":"https://api.github.com/users/jahagirdar/orgs","repos_url":"https://api.github.com/users/jahagirdar/repos","events_url":"https://api.github.com/users/jahagirdar/events{/privacy}","received_events_url":"https://api.github.com/users/jahagirdar/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"open","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":6,"created_at":"2020-12-23T09:35:49Z","updated_at":"2021-02-14T09:45:49Z","closed_at":null,"author_association":"NONE","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"In my workflow, All invoices are uploaded to google drive and a link to the invoice is added to the transaction via `url: \"...\"` metadata.\r\nIn some cases a single transaction can have multiple invoices, I tried capturing it \r\n\r\n1. via 2 url entries got error of `Duplicate posting metadata field: KeyValue(key='url', value='https://drive.google.com...`\r\n2. Via a single url entry with 2 values and got `syntax error, unexpected COMMA,`\r\n\r\nThe metadata section of the document specifies strings (plural) for the valid value field, What is the right way to record the transaction?","closed_by":null,"reactions":{"url":"https://api.github.com/repos/beancount/beancount/issues/594/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beancount/issues/594/timeline","performed_via_github_app":null,"state_reason":null},{"url":"https://api.github.com/repos/beancount/beancount/issues/593","repository_url":"https://api.github.com/repos/beancount/beancount","labels_url":"https://api.github.com/repos/beancount/beancount/issues/593/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beancount/issues/593/comments","events_url":"https://api.github.com/repos/beancount/beancount/issues/593/events","html_url":"https://github.com/beancount/beancount/issues/593","id":772821349,"node_id":"MDU6SXNzdWU3NzI4MjEzNDk=","number":593,"title":"Support DR and CR abbreviations","user":{"login":"jcooter","id":60133,"node_id":"MDQ6VXNlcjYwMTMz","avatar_url":"https://avatars.githubusercontent.com/u/60133?v=4","gravatar_id":"","url":"https://api.github.com/users/jcooter","html_url":"https://github.com/jcooter","followers_url":"https://api.github.com/users/jcooter/followers","following_url":"https://api.github.com/users/jcooter/following{/other_user}","gists_url":"https://api.github.com/users/jcooter/gists{/gist_id}","starred_url":"https://api.github.com/users/jcooter/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jcooter/subscriptions","organizations_url":"https://api.github.com/users/jcooter/orgs","repos_url":"https://api.github.com/users/jcooter/repos","events_url":"https://api.github.com/users/jcooter/events{/privacy}","received_events_url":"https://api.github.com/users/jcooter/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":2080994022,"node_id":"MDU6TGFiZWwyMDgwOTk0MDIy","url":"https://api.github.com/repos/beancount/beancount/labels/P2","name":"P2","color":"ffaaaa","default":false,"description":"Low priority, addressing would result in useful improvements"},{"id":2080995647,"node_id":"MDU6TGFiZWwyMDgwOTk1NjQ3","url":"https://api.github.com/repos/beancount/beancount/labels/parser-loader","name":"parser-loader","color":"ededed","default":false,"description":"Component: Parser and loader"},{"id":2081004612,"node_id":"MDU6TGFiZWwyMDgxMDA0NjEy","url":"https://api.github.com/repos/beancount/beancount/labels/booking","name":"booking","color":"ededed","default":false,"description":"Component: Booking algorithms"}],"state":"open","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":29,"created_at":"2020-12-22T10:12:13Z","updated_at":"2021-07-02T08:40:52Z","closed_at":null,"author_association":"NONE","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"I'm used to seeing accounting transactions represented as explicit debits and credits (which, for some strange accounting voodoo reason are abbreviated as DR and CR, respectively), rather than positive and negative numbers.  It would be nice if the parser could parse a transaction that looks like this:\r\n```\r\n2014-05-05 txn \"Cafe Mogador\" \"Lamb tagine with wine\"\r\n  Liabilities:CreditCard:CapitalOne         DR 37.45 USD\r\n  Expenses:Restaurant                       CR 37.45 USD\r\n```\r\nWould be interpreted the same as this:\r\n```\r\n2014-05-05 txn \"Cafe Mogador\" \"Lamb tagine with wine\"\r\n  Liabilities:CreditCard:CapitalOne         -37.45 USD\r\n  Expenses:Restaurant\r\n```","closed_by":null,"reactions":{"url":"https://api.github.com/repos/beancount/beancount/issues/593/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beancount/issues/593/timeline","performed_via_github_app":null,"state_reason":null},{"url":"https://api.github.com/repos/beancount/beancount/issues/592","repository_url":"https://api.github.com/repos/beancount/beancount","labels_url":"https://api.github.com/repos/beancount/beancount/issues/592/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beancount/issues/592/comments","events_url":"https://api.github.com/repos/beancount/beancount/issues/592/events","html_url":"https://github.com/beancount/beancount/pull/592","id":771318248,"node_id":"MDExOlB1bGxSZXF1ZXN0NTQyODg1MDE4","number":592,"title":"Add google_auth_oauthlib to requirements to fix CI","user":{"login":"bayesianmind","id":2622905,"node_id":"MDQ6VXNlcjI2MjI5MDU=","avatar_url":"https://avatars.githubusercontent.com/u/2622905?v=4","gravatar_id":"","url":"https://api.github.com/users/bayesianmind","html_url":"https://github.com/bayesianmind","followers_url":"https://api.github.com/users/bayesianmind/followers","following_url":"https://api.github.com/users/bayesianmind/following{/other_user}","gists_url":"https://api.github.com/users/bayesianmind/gists{/gist_id}","starred_url":"https://api.github.com/users/bayesianmind/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bayesianmind/subscriptions","organizations_url":"https://api.github.com/users/bayesianmind/orgs","repos_url":"https://api.github.com/users/bayesianmind/repos","events_url":"https://api.github.com/users/bayesianmind/events{/privacy}","received_events_url":"https://api.github.com/users/bayesianmind/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":4,"created_at":"2020-12-19T06:21:30Z","updated_at":"2025-11-25T04:36:38Z","closed_at":"2020-12-19T06:28:00Z","author_association":"CONTRIBUTOR","type":null,"active_lock_reason":null,"draft":false,"pull_request":{"url":"https://api.github.com/repos/beancount/beancount/pulls/592","html_url":"https://github.com/beancount/beancount/pull/592","diff_url":"https://github.com/beancount/beancount/pull/592.diff","patch_url":"https://github.com/beancount/beancount/pull/592.patch","merged_at":"2020-12-19T06:28:00Z"},"body":"Fix CI by adding a missing dependency required by `beancount/tools/sheets_upload.py`\r\n\r\nThis could also be just added to requirements_dev.txt if preferred. I put it in requirements.txt based on google-api-python-client already being present.","closed_by":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/beancount/beancount/issues/592/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beancount/issues/592/timeline","performed_via_github_app":null,"state_reason":null},{"url":"https://api.github.com/repos/beancount/beancount/issues/591","repository_url":"https://api.github.com/repos/beancount/beancount","labels_url":"https://api.github.com/repos/beancount/beancount/issues/591/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beancount/issues/591/comments","events_url":"https://api.github.com/repos/beancount/beancount/issues/591/events","html_url":"https://github.com/beancount/beancount/pull/591","id":771315121,"node_id":"MDExOlB1bGxSZXF1ZXN0NTQyODgyOTMy","number":591,"title":"Implement AVERAGE booking and lot merging via {*}","user":{"login":"bayesianmind","id":2622905,"node_id":"MDQ6VXNlcjI2MjI5MDU=","avatar_url":"https://avatars.githubusercontent.com/u/2622905?v=4","gravatar_id":"","url":"https://api.github.com/users/bayesianmind","html_url":"https://github.com/bayesianmind","followers_url":"https://api.github.com/users/bayesianmind/followers","following_url":"https://api.github.com/users/bayesianmind/following{/other_user}","gists_url":"https://api.github.com/users/bayesianmind/gists{/gist_id}","starred_url":"https://api.github.com/users/bayesianmind/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bayesianmind/subscriptions","organizations_url":"https://api.github.com/users/bayesianmind/orgs","repos_url":"https://api.github.com/users/bayesianmind/repos","events_url":"https://api.github.com/users/bayesianmind/events{/privacy}","received_events_url":"https://api.github.com/users/bayesianmind/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":10,"created_at":"2020-12-19T05:58:39Z","updated_at":"2021-02-16T04:29:43Z","closed_at":"2021-02-15T03:40:47Z","author_association":"CONTRIBUTOR","type":null,"active_lock_reason":null,"draft":false,"pull_request":{"url":"https://api.github.com/repos/beancount/beancount/pulls/591","html_url":"https://github.com/beancount/beancount/pull/591","diff_url":"https://github.com/beancount/beancount/pull/591.diff","patch_url":"https://github.com/beancount/beancount/pull/591.patch","merged_at":"2021-02-15T03:40:46Z"},"body":"This PR adds the AVERAGE booking method. Since the current booking methods are only capable of disambiguating lots, some minor tweaks were needed to the booking algorithm. I've attempted to carry on Martin's excellent example and make those as maintainable and clear as possible.\r\n\r\nUsage:\r\n- If you add a * in a CostSpec, we will merge the matching inventory as part of applying that transaction. That works for both augmentations and reductions. This works no matter what booking method is set on the account.\r\n- If you append \"AVERAGE\" to the open account directive, all postings to that account held at cost will be merged at average cost as you post changes to the account.\r\n- When attempting to reduce an position held at average cost, it's recommended to let Beancount select the lot:\r\n`Assets:Account -1 HOOL {}`  instead of `Assets:Account -1 HOOL {9.3333333333333333333 USD}`. The reason is that it's very easy to get long fractional digits and currently Beancount will require you to use the full precision to match the lot.  #589 uses tolerances to make matching more natural so one could say `Assets:Account -1 HOOL {9.33 USD}` instead.\r\n\r\nFor background on the implementation, see https://docs.google.com/document/d/1rclTmxJzq-4Na1UPY0XfS9Yzuv_SuHpdfHtabNsUH0E\r\n\r\nSome important notes:\r\n- There were 2 testcases such as `test_ambiguous__AVERAGE__mixed_currencies__unambi_date` that I disagree with the behavior. If I understand their intent, it is to provide the ability to match specific lots even when we are otherwise holding the account at AVERAGE. Implementing this would've been much more complex, and I am skeptical that such complex functionality is in line with the goals of AVERAGE cost booking.\r\n- Likewise, I see some evidence that Martin intends to use a user-provided basis on reductions to modify the existing inventory. Consider the following transaction:\r\n```\r\n2020-11-16 * \"Buy HOOL\"\r\n  Assets:Broker 1 HOOL {1 USD}\r\n  Assets:Broker 1 HOOL {1.2 USD} ; price varies on the same day\r\n \r\n2020-11-17 * \"Sell HOOL\"\r\n  Assets:Broker -1 HOOL {1.5 USD} @ 2 USD ; not at all average basis\r\n  Income:StockPnL:Taxable:HOOL  ; If indeed the 1.5 USD basis is right, we can compute this. BUT our ex-inventory will then be wrong! If 1.5 USD was a typo, the user will now have a wrong ex-inventory that might make a future correctly written transaction wrong. That'd be trickier to debug for the user.\r\n  Assets:Checking 2 USD\r\n ; the ex-inventory is now 1 HOOL {0.7 USD} since the total basis was 2.2 USD and we reduced 1.5 USD of that. This is almost surely not what the institution has for the ex-inventory. If beancount's computed average is off it's likely due to missing history, so we should throw an error so the user can fix this.\r\n```\r\n\r\nI have not come up with a useful reason to support this. NOT supporting it lets us provide useful validation - the user can put the basis they expected they were selling the stock at and if it differs from our computations, it will fail to match and the error will show the average price we computed for that commodity.\r\n\r\nFixes #213 ","closed_by":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/beancount/beancount/issues/591/reactions","total_count":2,"+1":2,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beancount/issues/591/timeline","performed_via_github_app":null,"state_reason":null},{"url":"https://api.github.com/repos/beancount/beancount/issues/590","repository_url":"https://api.github.com/repos/beancount/beancount","labels_url":"https://api.github.com/repos/beancount/beancount/issues/590/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beancount/issues/590/comments","events_url":"https://api.github.com/repos/beancount/beancount/issues/590/events","html_url":"https://github.com/beancount/beancount/issues/590","id":770760791,"node_id":"MDU6SXNzdWU3NzA3NjA3OTE=","number":590,"title":"Recording future liabilities.","user":{"login":"jahagirdar","id":1273287,"node_id":"MDQ6VXNlcjEyNzMyODc=","avatar_url":"https://avatars.githubusercontent.com/u/1273287?v=4","gravatar_id":"","url":"https://api.github.com/users/jahagirdar","html_url":"https://github.com/jahagirdar","followers_url":"https://api.github.com/users/jahagirdar/followers","following_url":"https://api.github.com/users/jahagirdar/following{/other_user}","gists_url":"https://api.github.com/users/jahagirdar/gists{/gist_id}","starred_url":"https://api.github.com/users/jahagirdar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jahagirdar/subscriptions","organizations_url":"https://api.github.com/users/jahagirdar/orgs","repos_url":"https://api.github.com/users/jahagirdar/repos","events_url":"https://api.github.com/users/jahagirdar/events{/privacy}","received_events_url":"https://api.github.com/users/jahagirdar/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":3,"created_at":"2020-12-18T10:13:16Z","updated_at":"2020-12-24T03:22:01Z","closed_at":"2020-12-18T18:11:20Z","author_association":"NONE","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"At end of financial year, I need to record liabilities that will be incurred for auditing the account. The actual audit and related payments take place a few months down the line,\r\nRight now I am doing this through an intermediate \"futureExpenses\" and \"futureLiabilities\" account. Transfering money from futureExpenses to futureLiabilities at year end. and Bank to futureExpenses at the date when the payment is made.\r\n\r\nIs it possible to record this as a single transaction instead of two separate transactions?","closed_by":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/beancount/beancount/issues/590/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beancount/issues/590/timeline","performed_via_github_app":null,"state_reason":"completed"},{"url":"https://api.github.com/repos/beancount/beancount/issues/589","repository_url":"https://api.github.com/repos/beancount/beancount","labels_url":"https://api.github.com/repos/beancount/beancount/issues/589/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beancount/issues/589/comments","events_url":"https://api.github.com/repos/beancount/beancount/issues/589/events","html_url":"https://github.com/beancount/beancount/pull/589","id":765797727,"node_id":"MDExOlB1bGxSZXF1ZXN0NTM5MDg1OTQ5","number":589,"title":"Improve matching of lots with computed cost basis.","user":{"login":"bayesianmind","id":2622905,"node_id":"MDQ6VXNlcjI2MjI5MDU=","avatar_url":"https://avatars.githubusercontent.com/u/2622905?v=4","gravatar_id":"","url":"https://api.github.com/users/bayesianmind","html_url":"https://github.com/bayesianmind","followers_url":"https://api.github.com/users/bayesianmind/followers","following_url":"https://api.github.com/users/bayesianmind/following{/other_user}","gists_url":"https://api.github.com/users/bayesianmind/gists{/gist_id}","starred_url":"https://api.github.com/users/bayesianmind/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bayesianmind/subscriptions","organizations_url":"https://api.github.com/users/bayesianmind/orgs","repos_url":"https://api.github.com/users/bayesianmind/repos","events_url":"https://api.github.com/users/bayesianmind/events{/privacy}","received_events_url":"https://api.github.com/users/bayesianmind/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":2,"created_at":"2020-12-14T02:35:58Z","updated_at":"2021-02-13T17:10:33Z","closed_at":"2021-02-13T17:10:33Z","author_association":"CONTRIBUTOR","type":null,"active_lock_reason":null,"draft":true,"pull_request":{"url":"https://api.github.com/repos/beancount/beancount/pulls/589","html_url":"https://github.com/beancount/beancount/pull/589","diff_url":"https://github.com/beancount/beancount/pull/589.diff","patch_url":"https://github.com/beancount/beancount/pull/589.patch","merged_at":null},"body":"When basis is computed, either via the {{ }} total cost syntax, an\r\nexpression, or when using average cook booking one can easily get \r\nlarge fractional unit basis. If a user attempts to match that lot, they\r\nneed to know the exact number of digits beancount uses\r\nfor quantizing digits to match the lot. By using tolerance, users can\r\nuse specify a fractional cost in a human-readable way:\r\n3.33 USD for 0.01 tolerance will match 10 / 3.\r\n\r\nFor example:\r\n```\r\n        2016-01-01 * #ante\r\n          Assets:Account              3 HOOL {{ 10 USD }}\r\n; can today only be reduced via:\r\n          Assets:Account              -1 HOOL { 3.333333333333333333333333333 USD }\r\n\r\n; but with this PR, the user can now write\r\n         option \"inferred_tolerance_default\" \"USD:0.01\" \r\n         Assets:Account              -1 HOOL { 3.33 USD }\r\n```\r\n\r\nA downside of this change: If a user specifies an absurdly large\r\ntolerance, it will make lot matching by cost overly broad.\r\n\r\nNote, reusing tolerances on balance seems OK to me but has some\r\ndownsides. Specifically, we're using the configured tolerance for a currency,\r\nwhich is currently used to resolve ambiguous precision when that context\r\nis unavailble locally, per http://furius.ca/beancount/doc/tolerances and\r\n`infer_tolerances()`. I think in practice these values are similar\r\nenough to reuse this config, but am open to feedback.","closed_by":{"login":"bayesianmind","id":2622905,"node_id":"MDQ6VXNlcjI2MjI5MDU=","avatar_url":"https://avatars.githubusercontent.com/u/2622905?v=4","gravatar_id":"","url":"https://api.github.com/users/bayesianmind","html_url":"https://github.com/bayesianmind","followers_url":"https://api.github.com/users/bayesianmind/followers","following_url":"https://api.github.com/users/bayesianmind/following{/other_user}","gists_url":"https://api.github.com/users/bayesianmind/gists{/gist_id}","starred_url":"https://api.github.com/users/bayesianmind/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bayesianmind/subscriptions","organizations_url":"https://api.github.com/users/bayesianmind/orgs","repos_url":"https://api.github.com/users/bayesianmind/repos","events_url":"https://api.github.com/users/bayesianmind/events{/privacy}","received_events_url":"https://api.github.com/users/bayesianmind/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/beancount/beancount/issues/589/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beancount/issues/589/timeline","performed_via_github_app":null,"state_reason":null},{"url":"https://api.github.com/repos/beancount/beancount/issues/588","repository_url":"https://api.github.com/repos/beancount/beancount","labels_url":"https://api.github.com/repos/beancount/beancount/issues/588/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beancount/issues/588/comments","events_url":"https://api.github.com/repos/beancount/beancount/issues/588/events","html_url":"https://github.com/beancount/beancount/issues/588","id":765705012,"node_id":"MDU6SXNzdWU3NjU3MDUwMTI=","number":588,"title":"Why doesn't this plugin error give a stack trace?","user":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":2080994022,"node_id":"MDU6TGFiZWwyMDgwOTk0MDIy","url":"https://api.github.com/repos/beancount/beancount/labels/P2","name":"P2","color":"ffaaaa","default":false,"description":"Low priority, addressing would result in useful improvements"},{"id":2081000893,"node_id":"MDU6TGFiZWwyMDgxMDAwODkz","url":"https://api.github.com/repos/beancount/beancount/labels/plugins","name":"plugins","color":"ededed","default":false,"description":"Component: Plug-ins"}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":1,"created_at":"2020-12-13T23:43:44Z","updated_at":"2020-12-14T06:19:16Z","closed_at":"2020-12-14T06:19:16Z","author_association":"MEMBER","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"I've noticed that sometimes when plugin code triggers a runtime error, I don't get a stack trace. Here's a made-up minimal-ish example:\r\n\r\n```\r\nfrom beancount.core import amount, data, number\r\n__plugins__ = (\"foo\",)\r\ndef foo(entries, _options):\r\n    return [data.Transaction(\r\n        flag = \"*\",\r\n        payee = None,\r\n        narration = \"\",\r\n        tags = \"\",\r\n        links = set(),\r\n        postings = [data.Posting(\"Equity:Foo\", amount.Amount(number.D(\"10\"), \"CAD\") + \"X\", None, None, None, None)]\r\n    )], ()\r\n```\r\n\r\nIf I run bean-check on a file that imports that plugin, I just get this output:\r\n```\r\nfalsifian angel beancount $ PYTHONPATH=./plugins bean-check main.beancount  \r\n<load>:0:       Error importing \"foo\": can only concatenate tuple (not \"str\") to tuple\r\n```\r\nOn the other hand, if I replace the body of foo() with 'raise BaseException(\"error\")', I get a nice stack trace:\r\n```\r\nfalsifian angel beancount $ PYTHONPATH=./plugins bean-check main.beancount  \r\nTraceback (most recent call last):\r\n  File \"/home/falsifian/.local/bin/bean-check\", line 11, in <module>\r\n    load_entry_point('beancount==2.3.3', 'console_scripts', 'bean-check')()\r\n  File \"/home/falsifian/.local/lib/python3.8/site-packages/beancount/scripts/check.py\", line 49, in main\r\n    entries, errors, _ = loader.load_file(\r\n  File \"/home/falsifian/.local/lib/python3.8/site-packages/beancount/loader.py\", line 89, in load_file\r\n    entries, errors, options_map = _load_file(\r\n  File \"/home/falsifian/.local/lib/python3.8/site-packages/beancount/loader.py\", line 214, in wrapped\r\n    result = function(toplevel_filename, *args, **kw)\r\n  File \"/home/falsifian/.local/lib/python3.8/site-packages/beancount/loader.py\", line 255, in _uncached_loa\r\nd_file\r\n    return _load([(filename, True)], *args, **kw)\r\n  File \"/home/falsifian/.local/lib/python3.8/site-packages/beancount/loader.py\", line 510, in _load\r\n    entries, errors = run_transformations(entries, parse_errors, options_map,\r\n  File \"/home/falsifian/.local/lib/python3.8/site-packages/beancount/loader.py\", line 588, in run_transform\r\nations\r\n    entries, plugin_errors = callback(entries, options_map)\r\n  File \"/home/falsifian/w/colin_and_james/accounting/beancount/plugins/foo.py\", line 4, in foo\r\n    raise BaseException(\"error\")\r\nBaseException: error\r\n```\r\nWhy does that happen? Is there a way I can get a stack trace more consistently? It would help me debug.\r\n","closed_by":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/beancount/beancount/issues/588/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beancount/issues/588/timeline","performed_via_github_app":null,"state_reason":"completed"},{"url":"https://api.github.com/repos/beancount/beancount/issues/587","repository_url":"https://api.github.com/repos/beancount/beancount","labels_url":"https://api.github.com/repos/beancount/beancount/issues/587/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beancount/issues/587/comments","events_url":"https://api.github.com/repos/beancount/beancount/issues/587/events","html_url":"https://github.com/beancount/beancount/issues/587","id":763801617,"node_id":"MDU6SXNzdWU3NjM4MDE2MTc=","number":587,"title":"docs: add a new plugin beancount_share","user":{"login":"Akuukis","id":7459419,"node_id":"MDQ6VXNlcjc0NTk0MTk=","avatar_url":"https://avatars.githubusercontent.com/u/7459419?v=4","gravatar_id":"","url":"https://api.github.com/users/Akuukis","html_url":"https://github.com/Akuukis","followers_url":"https://api.github.com/users/Akuukis/followers","following_url":"https://api.github.com/users/Akuukis/following{/other_user}","gists_url":"https://api.github.com/users/Akuukis/gists{/gist_id}","starred_url":"https://api.github.com/users/Akuukis/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Akuukis/subscriptions","organizations_url":"https://api.github.com/users/Akuukis/orgs","repos_url":"https://api.github.com/users/Akuukis/repos","events_url":"https://api.github.com/users/Akuukis/events{/privacy}","received_events_url":"https://api.github.com/users/Akuukis/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":1,"created_at":"2020-12-12T13:11:00Z","updated_at":"2020-12-12T22:58:34Z","closed_at":"2020-12-12T22:58:34Z","author_association":"NONE","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"Please add my beancount [plugin `beancount_share`](https://github.com/Akuukis/beancount_share) to [Beancount - Contributions](https://docs.google.com/document/d/1Z37bQ45wDtjTPaMQ_x-f33p1trH9fNosEAUgbQXwp30/edit#heading=h.pmdvjaaz2xcr).\r\n\r\nIt is inspired by your snippet at our [previous conversation](https://github.com/beancount/beancount/issues/474) about partial expense diverts within one ledger based on [\"How We Share Expenses\"](https://docs.google.com/document/d/1MjSpGoJVdgyg8rhKD9otSKo4iSD2VkSYELMWDBbsBiU/edit) cookbook. This plugin is generic enough for public use, and can cover the usecases described in the cookbook (see [tests](https://github.com/Akuukis/beancount_share/blob/master/tests/features/usecases.feature#L27-L76)).\r\n\r\nI hope you find this plugin good enough to mention it in cookbook too, instead of current comment \"exporting this externally is TBD, [..]\". Let me know if it works for you! \r\n","closed_by":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/beancount/beancount/issues/587/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beancount/issues/587/timeline","performed_via_github_app":null,"state_reason":"completed"},{"url":"https://api.github.com/repos/beancount/beancount/issues/586","repository_url":"https://api.github.com/repos/beancount/beancount","labels_url":"https://api.github.com/repos/beancount/beancount/issues/586/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beancount/issues/586/comments","events_url":"https://api.github.com/repos/beancount/beancount/issues/586/events","html_url":"https://github.com/beancount/beancount/issues/586","id":754490596,"node_id":"MDU6SXNzdWU3NTQ0OTA1OTY=","number":586,"title":"v3: Support Programmatically Rewriting Ledger","user":{"login":"aclindsa","id":362852,"node_id":"MDQ6VXNlcjM2Mjg1Mg==","avatar_url":"https://avatars.githubusercontent.com/u/362852?v=4","gravatar_id":"","url":"https://api.github.com/users/aclindsa","html_url":"https://github.com/aclindsa","followers_url":"https://api.github.com/users/aclindsa/followers","following_url":"https://api.github.com/users/aclindsa/following{/other_user}","gists_url":"https://api.github.com/users/aclindsa/gists{/gist_id}","starred_url":"https://api.github.com/users/aclindsa/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/aclindsa/subscriptions","organizations_url":"https://api.github.com/users/aclindsa/orgs","repos_url":"https://api.github.com/users/aclindsa/repos","events_url":"https://api.github.com/users/aclindsa/events{/privacy}","received_events_url":"https://api.github.com/users/aclindsa/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"open","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":6,"created_at":"2020-12-01T15:24:29Z","updated_at":"2024-06-27T04:21:28Z","closed_at":null,"author_association":"CONTRIBUTOR","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"As discussed in https://groups.google.com/g/beancount/c/w-LBWdSbmLw/m/JqKn8dR-AwAJ, it would be nice to provide a mechanism to allow users to programmatically re-write their ledgers. A few potential use cases I'm thinking of:\r\n\r\n1. Re-ordering imported transactions by date\r\n2. Re-formatting a hand-edited ledger (possibly replacing `bean-format`?)\r\n3. Splitting transactions into different files by type (i.e. ledger.beancount, prices.beancount, and balances.beancount) or associated accounts (i.e. maintaining credit_card.beancount for all credit card transactions)\r\n4. More sophisticated transformations (find all transactions with a posting against `Income:PnL`, and change them to be of the form `Income:PnL:Personal-Brokerage`, where `Personal-Brokerage` corresponds to the other postings in the transaction)\r\n5. Cleaning up old data (maybe you realized that many transactions you imported a while ago from GnuCash have metadata which partially duplicates their narration and you want to remove it if so)\r\n\r\n@blais 's initial suggestion on the mailing list was to \r\n> provide some library function to accept a file and produce a mapping of\r\n> \r\n>   (parser-directive, text)\r\n>\r\n> whereby the parser directive is the unprocessed, straightforward translation of your input text to the intermediate data structure\r\n\r\nMy current understanding is that there are likely 2-3 primary changes to allow this:\r\n\r\n1. Update the parser to parse comments into a simple data structure representing them\r\n2. Adding a library function which would expose the intermediate representation of all parsed directives (including comments and config options) given an input file\r\n3. A printer/formatter for the exposed intermediate data structures\r\n\r\nNote: The third (printer for intermediate data structures) is perhaps a stretch goal of mine beyond what was previously discussed, but I believe it would be needed to allow some of the more sophisticated transformations I mentioned above.","closed_by":null,"reactions":{"url":"https://api.github.com/repos/beancount/beancount/issues/586/reactions","total_count":7,"+1":7,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beancount/issues/586/timeline","performed_via_github_app":null,"state_reason":null},{"url":"https://api.github.com/repos/beancount/beancount/issues/585","repository_url":"https://api.github.com/repos/beancount/beancount","labels_url":"https://api.github.com/repos/beancount/beancount/issues/585/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beancount/issues/585/comments","events_url":"https://api.github.com/repos/beancount/beancount/issues/585/events","html_url":"https://github.com/beancount/beancount/pull/585","id":751648824,"node_id":"MDExOlB1bGxSZXF1ZXN0NTI4MTIzNzYx","number":585,"title":"parser: Apply the missiing close() fix to lex_iter() function too","user":{"login":"dnicolodi","id":987145,"node_id":"MDQ6VXNlcjk4NzE0NQ==","avatar_url":"https://avatars.githubusercontent.com/u/987145?v=4","gravatar_id":"","url":"https://api.github.com/users/dnicolodi","html_url":"https://github.com/dnicolodi","followers_url":"https://api.github.com/users/dnicolodi/followers","following_url":"https://api.github.com/users/dnicolodi/following{/other_user}","gists_url":"https://api.github.com/users/dnicolodi/gists{/gist_id}","starred_url":"https://api.github.com/users/dnicolodi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dnicolodi/subscriptions","organizations_url":"https://api.github.com/users/dnicolodi/orgs","repos_url":"https://api.github.com/users/dnicolodi/repos","events_url":"https://api.github.com/users/dnicolodi/events{/privacy}","received_events_url":"https://api.github.com/users/dnicolodi/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":0,"created_at":"2020-11-26T14:49:24Z","updated_at":"2020-11-26T15:56:28Z","closed_at":"2020-11-26T15:56:28Z","author_association":"COLLABORATOR","type":null,"active_lock_reason":null,"draft":false,"pull_request":{"url":"https://api.github.com/repos/beancount/beancount/pulls/585","html_url":"https://github.com/beancount/beancount/pull/585","diff_url":"https://github.com/beancount/beancount/pull/585.diff","patch_url":"https://github.com/beancount/beancount/pull/585.patch","merged_at":"2020-11-26T15:56:28Z"},"body":"Using a context manager to close the open file is more idiomatic and works also in the (unusual) case in which the parsing raises an exception. Apply the same fix to the `lex_iter()` function too.","closed_by":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/beancount/beancount/issues/585/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beancount/issues/585/timeline","performed_via_github_app":null,"state_reason":null},{"url":"https://api.github.com/repos/beancount/beancount/issues/584","repository_url":"https://api.github.com/repos/beancount/beancount","labels_url":"https://api.github.com/repos/beancount/beancount/issues/584/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beancount/issues/584/comments","events_url":"https://api.github.com/repos/beancount/beancount/issues/584/events","html_url":"https://github.com/beancount/beancount/issues/584","id":750907193,"node_id":"MDU6SXNzdWU3NTA5MDcxOTM=","number":584,"title":"Limit quantization on pathological cases","user":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":2080994022,"node_id":"MDU6TGFiZWwyMDgwOTk0MDIy","url":"https://api.github.com/repos/beancount/beancount/labels/P2","name":"P2","color":"ffaaaa","default":false,"description":"Low priority, addressing would result in useful improvements"},{"id":2080994252,"node_id":"MDU6TGFiZWwyMDgwOTk0MjUy","url":"https://api.github.com/repos/beancount/beancount/labels/query-sql","name":"query-sql","color":"ededed","default":false,"description":"Component: SQL query engine"},{"id":2080995603,"node_id":"MDU6TGFiZWwyMDgwOTk1NjAz","url":"https://api.github.com/repos/beancount/beancount/labels/core-ops","name":"core-ops","color":"ededed","default":false,"description":"Component: Core data structures and stream ops"}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":0,"created_at":"2020-11-25T15:20:06Z","updated_at":"2020-11-26T22:09:02Z","closed_at":"2020-11-26T22:09:02Z","author_association":"MEMBER","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"This is a bug.\r\nHere's why this happens:\r\nThe error condition described in this method is hit:\r\nhttps://docs.python.org/3/library/decimal.html#decimal.Decimal.quantize\r\n\r\n\"Unlike other operations, if the length of the coefficient after the quantize operation would be greater than precision, then an InvalidOperation is signaled. This guarantees that, unless there is an error condition, the quantized exponent is always equal to that of the right-hand operand.\"\r\n\r\nWhat's happening is that the precision automatically inferred from the numbers you've provided (the ones with the large fraction) exceed that of the context.\r\ne.g. with this patch it runs:\r\n```\r\nbergamot [git|v2]:~/p/beancount$ git diff\r\ndiff --git a/beancount/core/display_context.py b/beancount/core/display_context.py\r\nindex cfed0188..9a9dbfce 100644\r\n--- a/beancount/core/display_context.py\r\n+++ b/beancount/core/display_context.py\r\n@@ -217,6 +217,10 @@ class DisplayContext:\r\n             # Note: We could probably logging.warn() this situation here.\r\n             return number\r\n         qdigit = Decimal(1).scaleb(-num_fractional_digits)\r\n+\r\n+        import decimal; decimal.getcontext().prec = 30\r\n+        print(\"XXX\", qdigit, decimal.getcontext().prec)\r\n+\r\n         return number.quantize(qdigit)\r\n```\r\n\r\nI'll have to find a solution.\r\n\r\n\r\n\r\n\r\n\r\n\r\nOn Sun, Nov 15, 2020 at 12:26 PM François <francois-oss@avalenn.eu> wrote:\r\nHello,\r\n\r\nThere is some strange behaviour with include directive.\r\n\r\nFor example with those two files\r\n```\r\ncat <<EOF >example.beancount\r\n1970-01-01 open Expenses:MyExpense\r\n1970-01-01 open Assets:MyAccount\r\n\r\n1970-01-02 *\r\n  Expenses:MyExpense   1000.00 EUR\r\n  Assets:MyAccount    -1000.00 EUR\r\n\r\n1970-01-02 * \"Verif \"\r\n  Expenses:MyExpense     333.0000000000000182076576039 EUR\r\n  Assets:MyAccount      -333.0000000000000182076576039 EUR\r\nEOF\r\n\r\ncat <<EOF >example_with_include.beancount\r\ninclude \"example.beancount\"\r\nEOF\r\n```\r\nThe results differ when we use the include file or not.\r\n\r\nIn the case without include (bean-query example.beancount 'SELECT *')\r\nI have a stack trace with this error\r\n```\r\n   decimal.InvalidOperation: [<class 'decimal.InvalidOperation'>]\r\n```\r\n\r\nIn the case with include I have an output\r\n```\r\n$ bean-query example_with_include.beancount 'SELECT *'\r\n   date    f  narrat              position             \r\n---------- - - ------ -----------------------------------\r\n1970-01-02 *           1000.00                        EUR\r\n1970-01-02 *          -1000.00                        EUR\r\n1970-01-02 *   Verif    333.0000000000000182076576039 EUR\r\n1970-01-02 *   Verif   -333.0000000000000182076576039 EUR\r\n```\r\n\r\n\r\n\r\n\r\n\r\nI stumbled on this while splitting some beancount ledger on multiple\r\nfiles. In my case the transaction with a lot of decimal is generated by\r\na plugin which makes some division of existing postings to split them\r\nbetween several accounts.\r\n```\r\n        dest_amount=core.amount.mul(original_posting.units, core.number.D(1/3))\r\n```\r\nIn this case I have the following outputs :\r\n```\r\n$ bean-query exPlugin.beancount 'SELECT * WHERE account ~ \":A\"'\r\n   date    f  narrat  position\r\n---------- - - ------ ----------\r\n1970-01-02 *   Verif  333.33 EUR\r\n\r\n$ bean-query exPlugin_with_include.beancount 'SELECT * WHERE account ~ \":A\"'\r\n   date    f  narrat             position             \r\n---------- - - ------ ---------------------------------\r\n1970-01-02 *   Verif  333.3333333333333148296162562 EUR\r\n\r\n```\r\nThe directive are exactly the same in both cases. The only change is\r\nthat in the first case I have only one file and in the second case I\r\nhave the transaction in an included file.\r\n\r\nI like more the first version (with proper rounding) but what triggers\r\nme is the lack of coherence.\r\n\r\n\r\nHave you any explanation or workaround about this ?\r\n\r\n\r\nI use Beancount 2.2.3+hg20200223.0.3af921a\r\n\r\nFrançois\r\n\r\n--\r\nYou received this message because you are subscribed to the Google Groups \"Beancount\" group.\r\nTo unsubscribe from this group and stop receiving emails from it, send an email to beancount+unsubscribe@googlegroups.com.\r\nTo view this discussion on the web visit https://groups.google.com/d/msgid/beancount/20201115172254.7xtksqidbiwp2kjd%40fjo-extia-HPdeb.example.avalenn.eu.","closed_by":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/beancount/beancount/issues/584/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beancount/issues/584/timeline","performed_via_github_app":null,"state_reason":"completed"},{"url":"https://api.github.com/repos/beancount/beancount/issues/583","repository_url":"https://api.github.com/repos/beancount/beancount","labels_url":"https://api.github.com/repos/beancount/beancount/issues/583/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beancount/issues/583/comments","events_url":"https://api.github.com/repos/beancount/beancount/issues/583/events","html_url":"https://github.com/beancount/beancount/pull/583","id":748252906,"node_id":"MDExOlB1bGxSZXF1ZXN0NTI1MjkwNzQx","number":583,"title":"Fix pylint error","user":{"login":"dnicolodi","id":987145,"node_id":"MDQ6VXNlcjk4NzE0NQ==","avatar_url":"https://avatars.githubusercontent.com/u/987145?v=4","gravatar_id":"","url":"https://api.github.com/users/dnicolodi","html_url":"https://github.com/dnicolodi","followers_url":"https://api.github.com/users/dnicolodi/followers","following_url":"https://api.github.com/users/dnicolodi/following{/other_user}","gists_url":"https://api.github.com/users/dnicolodi/gists{/gist_id}","starred_url":"https://api.github.com/users/dnicolodi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dnicolodi/subscriptions","organizations_url":"https://api.github.com/users/dnicolodi/orgs","repos_url":"https://api.github.com/users/dnicolodi/repos","events_url":"https://api.github.com/users/dnicolodi/events{/privacy}","received_events_url":"https://api.github.com/users/dnicolodi/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":0,"created_at":"2020-11-22T14:18:30Z","updated_at":"2020-11-22T16:56:33Z","closed_at":"2020-11-22T16:56:33Z","author_association":"COLLABORATOR","type":null,"active_lock_reason":null,"draft":false,"pull_request":{"url":"https://api.github.com/repos/beancount/beancount/pulls/583","html_url":"https://github.com/beancount/beancount/pull/583","diff_url":"https://github.com/beancount/beancount/pull/583.diff","patch_url":"https://github.com/beancount/beancount/pull/583.patch","merged_at":"2020-11-22T16:56:33Z"},"body":"","closed_by":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/beancount/beancount/issues/583/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beancount/issues/583/timeline","performed_via_github_app":null,"state_reason":null},{"url":"https://api.github.com/repos/beancount/beancount/issues/582","repository_url":"https://api.github.com/repos/beancount/beancount","labels_url":"https://api.github.com/repos/beancount/beancount/issues/582/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beancount/issues/582/comments","events_url":"https://api.github.com/repos/beancount/beancount/issues/582/events","html_url":"https://github.com/beancount/beancount/pull/582","id":748142380,"node_id":"MDExOlB1bGxSZXF1ZXN0NTI1MjE3MjA0","number":582,"title":"Stricter parser","user":{"login":"dnicolodi","id":987145,"node_id":"MDQ6VXNlcjk4NzE0NQ==","avatar_url":"https://avatars.githubusercontent.com/u/987145?v=4","gravatar_id":"","url":"https://api.github.com/users/dnicolodi","html_url":"https://github.com/dnicolodi","followers_url":"https://api.github.com/users/dnicolodi/followers","following_url":"https://api.github.com/users/dnicolodi/following{/other_user}","gists_url":"https://api.github.com/users/dnicolodi/gists{/gist_id}","starred_url":"https://api.github.com/users/dnicolodi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dnicolodi/subscriptions","organizations_url":"https://api.github.com/users/dnicolodi/orgs","repos_url":"https://api.github.com/users/dnicolodi/repos","events_url":"https://api.github.com/users/dnicolodi/events{/privacy}","received_events_url":"https://api.github.com/users/dnicolodi/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"open","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":4,"created_at":"2020-11-22T01:55:24Z","updated_at":"2021-01-16T10:18:02Z","closed_at":null,"author_association":"COLLABORATOR","type":null,"active_lock_reason":null,"draft":false,"pull_request":{"url":"https://api.github.com/repos/beancount/beancount/pulls/582","html_url":"https://github.com/beancount/beancount/pull/582","diff_url":"https://github.com/beancount/beancount/pull/582.diff","patch_url":"https://github.com/beancount/beancount/pull/582.patch","merged_at":null},"body":"This is mostly a proposal to understand if something like this may be desirable. The idea would be to have a way to disable strict parsing in v2 and make it the only mode in v3. I decided to make it default and have an environment variable to disable it. If we agree that this is a good thing, this may be material for a 2.4 (or 2.90 or something) release.","closed_by":null,"reactions":{"url":"https://api.github.com/repos/beancount/beancount/issues/582/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beancount/issues/582/timeline","performed_via_github_app":null,"state_reason":null},{"url":"https://api.github.com/repos/beancount/beancount/issues/581","repository_url":"https://api.github.com/repos/beancount/beancount","labels_url":"https://api.github.com/repos/beancount/beancount/issues/581/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beancount/issues/581/comments","events_url":"https://api.github.com/repos/beancount/beancount/issues/581/events","html_url":"https://github.com/beancount/beancount/pull/581","id":748106983,"node_id":"MDExOlB1bGxSZXF1ZXN0NTI1MTkyNjcx","number":581,"title":"Parser: port lexer from Flex to RE/flex","user":{"login":"dnicolodi","id":987145,"node_id":"MDQ6VXNlcjk4NzE0NQ==","avatar_url":"https://avatars.githubusercontent.com/u/987145?v=4","gravatar_id":"","url":"https://api.github.com/users/dnicolodi","html_url":"https://github.com/dnicolodi","followers_url":"https://api.github.com/users/dnicolodi/followers","following_url":"https://api.github.com/users/dnicolodi/following{/other_user}","gists_url":"https://api.github.com/users/dnicolodi/gists{/gist_id}","starred_url":"https://api.github.com/users/dnicolodi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dnicolodi/subscriptions","organizations_url":"https://api.github.com/users/dnicolodi/orgs","repos_url":"https://api.github.com/users/dnicolodi/repos","events_url":"https://api.github.com/users/dnicolodi/events{/privacy}","received_events_url":"https://api.github.com/users/dnicolodi/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":18,"created_at":"2020-11-21T21:33:42Z","updated_at":"2021-01-17T19:56:10Z","closed_at":"2021-01-17T19:56:10Z","author_association":"COLLABORATOR","type":null,"active_lock_reason":null,"draft":false,"pull_request":{"url":"https://api.github.com/repos/beancount/beancount/pulls/581","html_url":"https://github.com/beancount/beancount/pull/581","diff_url":"https://github.com/beancount/beancount/pull/581.diff","patch_url":"https://github.com/beancount/beancount/pull/581.patch","merged_at":null},"body":"@blais this is the port of the lexer to RE/flex. I updated the classical build (ie not the Bazel one) to compile the code and I haven't tried to integrate it into the Bazel build. Therefore the CI will fail miserably.\r\n\r\nI tested the code against v2 and it works just the same as the Flex one. Let me know if you have any question. You need RE/flex version 2.1.5 or later.\r\n\r\nI have a couple more patches on top that rework the input handling. I was hoping to get support for encodings other than UTF-8, but that is implemented in RE/flex only for `FILE*` type input sources and not for `std::istream` ones (see Genivia/RE-flex#94).\r\n\r\nThis contains also the commits in #580: #580 should be merged into v2 and this into master.","closed_by":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/beancount/beancount/issues/581/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beancount/issues/581/timeline","performed_via_github_app":null,"state_reason":null},{"url":"https://api.github.com/repos/beancount/beancount/issues/580","repository_url":"https://api.github.com/repos/beancount/beancount","labels_url":"https://api.github.com/repos/beancount/beancount/issues/580/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beancount/issues/580/comments","events_url":"https://api.github.com/repos/beancount/beancount/issues/580/events","html_url":"https://github.com/beancount/beancount/pull/580","id":748102017,"node_id":"MDExOlB1bGxSZXF1ZXN0NTI1MTg5MTI5","number":580,"title":"Parser: more cleanup","user":{"login":"dnicolodi","id":987145,"node_id":"MDQ6VXNlcjk4NzE0NQ==","avatar_url":"https://avatars.githubusercontent.com/u/987145?v=4","gravatar_id":"","url":"https://api.github.com/users/dnicolodi","html_url":"https://github.com/dnicolodi","followers_url":"https://api.github.com/users/dnicolodi/followers","following_url":"https://api.github.com/users/dnicolodi/following{/other_user}","gists_url":"https://api.github.com/users/dnicolodi/gists{/gist_id}","starred_url":"https://api.github.com/users/dnicolodi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dnicolodi/subscriptions","organizations_url":"https://api.github.com/users/dnicolodi/orgs","repos_url":"https://api.github.com/users/dnicolodi/repos","events_url":"https://api.github.com/users/dnicolodi/events{/privacy}","received_events_url":"https://api.github.com/users/dnicolodi/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":3,"created_at":"2020-11-21T20:59:56Z","updated_at":"2020-11-22T00:18:42Z","closed_at":"2020-11-21T21:41:01Z","author_association":"COLLABORATOR","type":null,"active_lock_reason":null,"draft":false,"pull_request":{"url":"https://api.github.com/repos/beancount/beancount/pulls/580","html_url":"https://github.com/beancount/beancount/pull/580","diff_url":"https://github.com/beancount/beancount/pull/580.diff","patch_url":"https://github.com/beancount/beancount/pull/580.patch","merged_at":"2020-11-21T21:41:01Z"},"body":"Some minor stuff that annoyed me during the port of the lexer from Flex to RE/flex.","closed_by":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/beancount/beancount/issues/580/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beancount/issues/580/timeline","performed_via_github_app":null,"state_reason":null},{"url":"https://api.github.com/repos/beancount/beancount/issues/579","repository_url":"https://api.github.com/repos/beancount/beancount","labels_url":"https://api.github.com/repos/beancount/beancount/issues/579/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beancount/issues/579/comments","events_url":"https://api.github.com/repos/beancount/beancount/issues/579/events","html_url":"https://github.com/beancount/beancount/issues/579","id":747930031,"node_id":"MDU6SXNzdWU3NDc5MzAwMzE=","number":579,"title":"plugin \"beancount.plugins.unrealized\" does not finish calculating unrealized gains if prices are missing","user":{"login":"Rudd-O","id":346306,"node_id":"MDQ6VXNlcjM0NjMwNg==","avatar_url":"https://avatars.githubusercontent.com/u/346306?v=4","gravatar_id":"","url":"https://api.github.com/users/Rudd-O","html_url":"https://github.com/Rudd-O","followers_url":"https://api.github.com/users/Rudd-O/followers","following_url":"https://api.github.com/users/Rudd-O/following{/other_user}","gists_url":"https://api.github.com/users/Rudd-O/gists{/gist_id}","starred_url":"https://api.github.com/users/Rudd-O/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Rudd-O/subscriptions","organizations_url":"https://api.github.com/users/Rudd-O/orgs","repos_url":"https://api.github.com/users/Rudd-O/repos","events_url":"https://api.github.com/users/Rudd-O/events{/privacy}","received_events_url":"https://api.github.com/users/Rudd-O/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":1,"created_at":"2020-11-21T05:20:27Z","updated_at":"2020-11-21T05:26:44Z","closed_at":"2020-11-21T05:26:44Z","author_association":"NONE","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"Not all commodities have current prices.  For those that don't, any transaction that carries a purchase of that commodity causes the plugin to stop processing the unrealized computation, leaving only the computations that happened before the appearance of that commodity with entries in the unrealized ledger.\r\n\r\nPerhaps it should be configurable in the plugin that commodities without current prices should skip the computation altogether.","closed_by":{"login":"Rudd-O","id":346306,"node_id":"MDQ6VXNlcjM0NjMwNg==","avatar_url":"https://avatars.githubusercontent.com/u/346306?v=4","gravatar_id":"","url":"https://api.github.com/users/Rudd-O","html_url":"https://github.com/Rudd-O","followers_url":"https://api.github.com/users/Rudd-O/followers","following_url":"https://api.github.com/users/Rudd-O/following{/other_user}","gists_url":"https://api.github.com/users/Rudd-O/gists{/gist_id}","starred_url":"https://api.github.com/users/Rudd-O/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Rudd-O/subscriptions","organizations_url":"https://api.github.com/users/Rudd-O/orgs","repos_url":"https://api.github.com/users/Rudd-O/repos","events_url":"https://api.github.com/users/Rudd-O/events{/privacy}","received_events_url":"https://api.github.com/users/Rudd-O/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/beancount/beancount/issues/579/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beancount/issues/579/timeline","performed_via_github_app":null,"state_reason":"completed"},{"url":"https://api.github.com/repos/beancount/beancount/issues/578","repository_url":"https://api.github.com/repos/beancount/beancount","labels_url":"https://api.github.com/repos/beancount/beancount/issues/578/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beancount/issues/578/comments","events_url":"https://api.github.com/repos/beancount/beancount/issues/578/events","html_url":"https://github.com/beancount/beancount/pull/578","id":743062603,"node_id":"MDExOlB1bGxSZXF1ZXN0NTIxMDQ4NDMz","number":578,"title":"Add alwayslink = 1 to the decimal library.","user":{"login":"jbeder","id":1059334,"node_id":"MDQ6VXNlcjEwNTkzMzQ=","avatar_url":"https://avatars.githubusercontent.com/u/1059334?v=4","gravatar_id":"","url":"https://api.github.com/users/jbeder","html_url":"https://github.com/jbeder","followers_url":"https://api.github.com/users/jbeder/followers","following_url":"https://api.github.com/users/jbeder/following{/other_user}","gists_url":"https://api.github.com/users/jbeder/gists{/gist_id}","starred_url":"https://api.github.com/users/jbeder/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jbeder/subscriptions","organizations_url":"https://api.github.com/users/jbeder/orgs","repos_url":"https://api.github.com/users/jbeder/repos","events_url":"https://api.github.com/users/jbeder/events{/privacy}","received_events_url":"https://api.github.com/users/jbeder/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":0,"created_at":"2020-11-14T19:15:06Z","updated_at":"2020-11-28T21:56:39Z","closed_at":"2020-11-28T21:56:39Z","author_association":"CONTRIBUTOR","type":null,"active_lock_reason":null,"draft":false,"pull_request":{"url":"https://api.github.com/repos/beancount/beancount/pulls/578","html_url":"https://github.com/beancount/beancount/pull/578","diff_url":"https://github.com/beancount/beancount/pull/578.diff","patch_url":"https://github.com/beancount/beancount/pull/578.patch","merged_at":"2020-11-28T21:56:39Z"},"body":"This ensures that the symbol defined in the .c file (decimal_type) is always present.\r\n\r\nWithout it, on Mac OS, it produces the error:\r\n\r\nTraceback (most recent call last):\r\nFile \"/private/var/tmp/_bazel_beder/cb97eb509905f10b4b346a1d0556de4a/execroot/beancount/bazel-out/darwin-opt/bin/bin/bean_check.runfiles/beancount/bin/bean_check.py\", line 5, in\r\nfrom beancount.scripts.check import main\r\nFile \"/private/var/tmp/_bazel_beder/cb97eb509905f10b4b346a1d0556de4a/execroot/beancount/bazel-out/darwin-opt/bin/bin/bean_check.runfiles/beancount/beancount/scripts/check.py\", line 11, in\r\nfrom beancount import loader\r\nFile \"/private/var/tmp/_bazel_beder/cb97eb509905f10b4b346a1d0556de4a/execroot/beancount/bazel-out/darwin-opt/bin/bin/bean_check.runfiles/beancount/beancount/loader.py\", line 25, in\r\nfrom beancount.parser import parser\r\nFile \"/private/var/tmp/_bazel_beder/cb97eb509905f10b4b346a1d0556de4a/execroot/beancount/bazel-out/darwin-opt/bin/bin/bean_check.runfiles/beancount/beancount/parser/parser.py\", line 118, in\r\nfrom beancount.parser import _parser\r\nImportError: dlopen(/private/var/tmp/_bazel_beder/cb97eb509905f10b4b346a1d0556de4a/execroot/beancount/bazel-out/darwin-opt/bin/bin/bean_check.runfiles/beancount/beancount/parser/_parser.so, 2): Symbol not found: _decimal_type\r\nReferenced from: /private/var/tmp/_bazel_beder/cb97eb509905f10b4b346a1d0556de4a/execroot/beancount/bazel-out/darwin-opt/bin/bin/bean_check.runfiles/beancount/beancount/parser/_parser.so\r\nExpected in: flat namespace\r\nin /private/var/tmp/_bazel_beder/cb97eb509905f10b4b346a1d0556de4a/execroot/beancount/bazel-out/darwin-opt/bin/bin/bean_check.runfiles/beancount/beancount/parser/_parser.so\r\n\r\n#573","closed_by":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/beancount/beancount/issues/578/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beancount/issues/578/timeline","performed_via_github_app":null,"state_reason":null},{"url":"https://api.github.com/repos/beancount/beancount/issues/577","repository_url":"https://api.github.com/repos/beancount/beancount","labels_url":"https://api.github.com/repos/beancount/beancount/issues/577/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beancount/issues/577/comments","events_url":"https://api.github.com/repos/beancount/beancount/issues/577/events","html_url":"https://github.com/beancount/beancount/pull/577","id":742944638,"node_id":"MDExOlB1bGxSZXF1ZXN0NTIwOTcwMDMy","number":577,"title":"Combine parser C sources and headers into a single Bazel rule.","user":{"login":"jbeder","id":1059334,"node_id":"MDQ6VXNlcjEwNTkzMzQ=","avatar_url":"https://avatars.githubusercontent.com/u/1059334?v=4","gravatar_id":"","url":"https://api.github.com/users/jbeder","html_url":"https://github.com/jbeder","followers_url":"https://api.github.com/users/jbeder/followers","following_url":"https://api.github.com/users/jbeder/following{/other_user}","gists_url":"https://api.github.com/users/jbeder/gists{/gist_id}","starred_url":"https://api.github.com/users/jbeder/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jbeder/subscriptions","organizations_url":"https://api.github.com/users/jbeder/orgs","repos_url":"https://api.github.com/users/jbeder/repos","events_url":"https://api.github.com/users/jbeder/events{/privacy}","received_events_url":"https://api.github.com/users/jbeder/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":8,"created_at":"2020-11-14T06:48:58Z","updated_at":"2020-11-28T21:56:34Z","closed_at":"2020-11-28T21:56:33Z","author_association":"CONTRIBUTOR","type":null,"active_lock_reason":null,"draft":false,"pull_request":{"url":"https://api.github.com/repos/beancount/beancount/pulls/577","html_url":"https://github.com/beancount/beancount/pull/577","diff_url":"https://github.com/beancount/beancount/pull/577.diff","patch_url":"https://github.com/beancount/beancount/pull/577.patch","merged_at":null},"body":"There are circular dependencies which prevent each pair of .h/.c files from being its own c_library. The existing BUILD rules split each pair into two libraries, one for the C files and one for the headers; but this causes Bazel to get confused with file-scope symbols. On Mac OS, it produces the error:\r\n\r\n```\r\nTraceback (most recent call last):\r\nFile \"/private/var/tmp/_bazel_beder/cb97eb509905f10b4b346a1d0556de4a/execroot/beancount/bazel-out/darwin-opt/bin/bin/bean_check.runfiles/beancount/bin/bean_check.py\", line 5, in\r\nfrom beancount.scripts.check import main\r\nFile \"/private/var/tmp/_bazel_beder/cb97eb509905f10b4b346a1d0556de4a/execroot/beancount/bazel-out/darwin-opt/bin/bin/bean_check.runfiles/beancount/beancount/scripts/check.py\", line 11, in\r\nfrom beancount import loader\r\nFile \"/private/var/tmp/_bazel_beder/cb97eb509905f10b4b346a1d0556de4a/execroot/beancount/bazel-out/darwin-opt/bin/bin/bean_check.runfiles/beancount/beancount/loader.py\", line 25, in\r\nfrom beancount.parser import parser\r\nFile \"/private/var/tmp/_bazel_beder/cb97eb509905f10b4b346a1d0556de4a/execroot/beancount/bazel-out/darwin-opt/bin/bin/bean_check.runfiles/beancount/beancount/parser/parser.py\", line 118, in\r\nfrom beancount.parser import _parser\r\nImportError: dlopen(/private/var/tmp/_bazel_beder/cb97eb509905f10b4b346a1d0556de4a/execroot/beancount/bazel-out/darwin-opt/bin/bin/bean_check.runfiles/beancount/beancount/parser/_parser.so, 2): Symbol not found: _decimal_type\r\nReferenced from: /private/var/tmp/_bazel_beder/cb97eb509905f10b4b346a1d0556de4a/execroot/beancount/bazel-out/darwin-opt/bin/bin/bean_check.runfiles/beancount/beancount/parser/_parser.so\r\nExpected in: flat namespace\r\nin /private/var/tmp/_bazel_beder/cb97eb509905f10b4b346a1d0556de4a/execroot/beancount/bazel-out/darwin-opt/bin/bin/bean_check.runfiles/beancount/beancount/parser/_parser.so\r\n```\r\n\r\n#573","closed_by":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/beancount/beancount/issues/577/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beancount/issues/577/timeline","performed_via_github_app":null,"state_reason":null},{"url":"https://api.github.com/repos/beancount/beancount/issues/576","repository_url":"https://api.github.com/repos/beancount/beancount","labels_url":"https://api.github.com/repos/beancount/beancount/issues/576/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beancount/issues/576/comments","events_url":"https://api.github.com/repos/beancount/beancount/issues/576/events","html_url":"https://github.com/beancount/beancount/pull/576","id":742903738,"node_id":"MDExOlB1bGxSZXF1ZXN0NTIwOTQ0OTI3","number":576,"title":"parser: Print balance tolerances","user":{"login":"aclindsa","id":362852,"node_id":"MDQ6VXNlcjM2Mjg1Mg==","avatar_url":"https://avatars.githubusercontent.com/u/362852?v=4","gravatar_id":"","url":"https://api.github.com/users/aclindsa","html_url":"https://github.com/aclindsa","followers_url":"https://api.github.com/users/aclindsa/followers","following_url":"https://api.github.com/users/aclindsa/following{/other_user}","gists_url":"https://api.github.com/users/aclindsa/gists{/gist_id}","starred_url":"https://api.github.com/users/aclindsa/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/aclindsa/subscriptions","organizations_url":"https://api.github.com/users/aclindsa/orgs","repos_url":"https://api.github.com/users/aclindsa/repos","events_url":"https://api.github.com/users/aclindsa/events{/privacy}","received_events_url":"https://api.github.com/users/aclindsa/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":4,"created_at":"2020-11-14T02:16:35Z","updated_at":"2020-11-15T15:57:28Z","closed_at":"2020-11-15T14:46:03Z","author_association":"CONTRIBUTOR","type":null,"active_lock_reason":null,"draft":false,"pull_request":{"url":"https://api.github.com/repos/beancount/beancount/pulls/576","html_url":"https://github.com/beancount/beancount/pull/576","diff_url":"https://github.com/beancount/beancount/pull/576.diff","patch_url":"https://github.com/beancount/beancount/pull/576.patch","merged_at":"2020-11-15T14:46:03Z"},"body":"I noticed that balance tolerances were not printed with `bean-query example.beancount print`\r\n\r\nI'm not sure my fix is the cleanest, but it wasn't immediately obvious to me how to better break up the traditional way the amounts are printed (which have the number and currency paired) in order to stick the tolerance between them. Suggestions welcome!","closed_by":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/beancount/beancount/issues/576/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beancount/issues/576/timeline","performed_via_github_app":null,"state_reason":null},{"url":"https://api.github.com/repos/beancount/beancount/issues/575","repository_url":"https://api.github.com/repos/beancount/beancount","labels_url":"https://api.github.com/repos/beancount/beancount/issues/575/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beancount/issues/575/comments","events_url":"https://api.github.com/repos/beancount/beancount/issues/575/events","html_url":"https://github.com/beancount/beancount/pull/575","id":742145520,"node_id":"MDExOlB1bGxSZXF1ZXN0NTIwMzM2ODU3","number":575,"title":"Condition py_extension linker flag --export-dynamic-symbol on compiling for Linux.","user":{"login":"jbeder","id":1059334,"node_id":"MDQ6VXNlcjEwNTkzMzQ=","avatar_url":"https://avatars.githubusercontent.com/u/1059334?v=4","gravatar_id":"","url":"https://api.github.com/users/jbeder","html_url":"https://github.com/jbeder","followers_url":"https://api.github.com/users/jbeder/followers","following_url":"https://api.github.com/users/jbeder/following{/other_user}","gists_url":"https://api.github.com/users/jbeder/gists{/gist_id}","starred_url":"https://api.github.com/users/jbeder/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jbeder/subscriptions","organizations_url":"https://api.github.com/users/jbeder/orgs","repos_url":"https://api.github.com/users/jbeder/repos","events_url":"https://api.github.com/users/jbeder/events{/privacy}","received_events_url":"https://api.github.com/users/jbeder/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":1,"created_at":"2020-11-13T05:03:40Z","updated_at":"2020-11-27T05:20:33Z","closed_at":"2020-11-27T05:20:32Z","author_association":"CONTRIBUTOR","type":null,"active_lock_reason":null,"draft":false,"pull_request":{"url":"https://api.github.com/repos/beancount/beancount/pulls/575","html_url":"https://github.com/beancount/beancount/pull/575","diff_url":"https://github.com/beancount/beancount/pull/575.diff","patch_url":"https://github.com/beancount/beancount/pull/575.patch","merged_at":"2020-11-27T05:20:32Z"},"body":"On Mac OS, for example, these flags are not defined in clang, and produce the error:\r\n\r\nERROR: beancount/parser/BUILD:359:13: Linking of rule '//beancount/parser:_parser.so' failed (Exit 1) cc_wrapper.sh failed: error executing command external/local_config_cc/cc_wrapper.sh -lc++ -fobjc-link-runtime -shared -o bazel-out/darwin-opt/bin/beancount/parser/_parser.so ... (remaining 11 argument(s) skipped)\r\n\r\nUse --sandbox_debug to see verbose messages from the sandbox\r\nld: unknown option: --export-dynamic-symbol=PyInit__parser\r\nclang: error: linker command failed with exit code 1 (use -v to see invocation)\r\n\r\nFixes #573.","closed_by":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/beancount/beancount/issues/575/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beancount/issues/575/timeline","performed_via_github_app":null,"state_reason":null},{"url":"https://api.github.com/repos/beancount/beancount/issues/574","repository_url":"https://api.github.com/repos/beancount/beancount","labels_url":"https://api.github.com/repos/beancount/beancount/issues/574/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beancount/issues/574/comments","events_url":"https://api.github.com/repos/beancount/beancount/issues/574/events","html_url":"https://github.com/beancount/beancount/pull/574","id":742121302,"node_id":"MDExOlB1bGxSZXF1ZXN0NTIwMzE2NTg5","number":574,"title":"Initialize decimal_type to NULL.","user":{"login":"jbeder","id":1059334,"node_id":"MDQ6VXNlcjEwNTkzMzQ=","avatar_url":"https://avatars.githubusercontent.com/u/1059334?v=4","gravatar_id":"","url":"https://api.github.com/users/jbeder","html_url":"https://github.com/jbeder","followers_url":"https://api.github.com/users/jbeder/followers","following_url":"https://api.github.com/users/jbeder/following{/other_user}","gists_url":"https://api.github.com/users/jbeder/gists{/gist_id}","starred_url":"https://api.github.com/users/jbeder/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jbeder/subscriptions","organizations_url":"https://api.github.com/users/jbeder/orgs","repos_url":"https://api.github.com/users/jbeder/repos","events_url":"https://api.github.com/users/jbeder/events{/privacy}","received_events_url":"https://api.github.com/users/jbeder/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":7,"created_at":"2020-11-13T04:15:26Z","updated_at":"2020-11-14T19:16:35Z","closed_at":"2020-11-14T06:50:53Z","author_association":"CONTRIBUTOR","type":null,"active_lock_reason":null,"draft":false,"pull_request":{"url":"https://api.github.com/repos/beancount/beancount/pulls/574","html_url":"https://github.com/beancount/beancount/pull/574","diff_url":"https://github.com/beancount/beancount/pull/574.diff","patch_url":"https://github.com/beancount/beancount/pull/574.patch","merged_at":null},"body":"Partially fixes #573.\n\nOn Mac OS, without this initialization, using decimal_type produces the error \"Symbol not found: _decimal_type\". Full error:\n\nTraceback (most recent call last):\n  File \"/private/var/tmp/_bazel_beder/cb97eb509905f10b4b346a1d0556de4a/execroot/beancount/bazel-out/darwin-opt/bin/bin/bean_check.runfiles/beancount/bin/bean_check.py\", line 5, in <module>\n    from beancount.scripts.check import main\n  File \"/private/var/tmp/_bazel_beder/cb97eb509905f10b4b346a1d0556de4a/execroot/beancount/bazel-out/darwin-opt/bin/bin/bean_check.runfiles/beancount/beancount/scripts/check.py\", line 11, in <module>\n    from beancount import loader\n  File \"/private/var/tmp/_bazel_beder/cb97eb509905f10b4b346a1d0556de4a/execroot/beancount/bazel-out/darwin-opt/bin/bin/bean_check.runfiles/beancount/beancount/loader.py\", line 25, in <module>\n    from beancount.parser import parser\n  File \"/private/var/tmp/_bazel_beder/cb97eb509905f10b4b346a1d0556de4a/execroot/beancount/bazel-out/darwin-opt/bin/bin/bean_check.runfiles/beancount/beancount/parser/parser.py\", line 118, in <module>\n    from beancount.parser import _parser\nImportError: dlopen(/private/var/tmp/_bazel_beder/cb97eb509905f10b4b346a1d0556de4a/execroot/beancount/bazel-out/darwin-opt/bin/bin/bean_check.runfiles/beancount/beancount/parser/_parser.so, 2): Symbol not found: _decimal_type\n  Referenced from: /private/var/tmp/_bazel_beder/cb97eb509905f10b4b346a1d0556de4a/execroot/beancount/bazel-out/darwin-opt/bin/bin/bean_check.runfiles/beancount/beancount/parser/_parser.so\n  Expected in: flat namespace\n in /private/var/tmp/_bazel_beder/cb97eb509905f10b4b346a1d0556de4a/execroot/beancount/bazel-out/darwin-opt/bin/bin/bean_check.runfiles/beancount/beancount/parser/_parser.so","closed_by":{"login":"jbeder","id":1059334,"node_id":"MDQ6VXNlcjEwNTkzMzQ=","avatar_url":"https://avatars.githubusercontent.com/u/1059334?v=4","gravatar_id":"","url":"https://api.github.com/users/jbeder","html_url":"https://github.com/jbeder","followers_url":"https://api.github.com/users/jbeder/followers","following_url":"https://api.github.com/users/jbeder/following{/other_user}","gists_url":"https://api.github.com/users/jbeder/gists{/gist_id}","starred_url":"https://api.github.com/users/jbeder/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jbeder/subscriptions","organizations_url":"https://api.github.com/users/jbeder/orgs","repos_url":"https://api.github.com/users/jbeder/repos","events_url":"https://api.github.com/users/jbeder/events{/privacy}","received_events_url":"https://api.github.com/users/jbeder/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/beancount/beancount/issues/574/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beancount/issues/574/timeline","performed_via_github_app":null,"state_reason":null},{"url":"https://api.github.com/repos/beancount/beancount/issues/573","repository_url":"https://api.github.com/repos/beancount/beancount","labels_url":"https://api.github.com/repos/beancount/beancount/issues/573/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beancount/issues/573/comments","events_url":"https://api.github.com/repos/beancount/beancount/issues/573/events","html_url":"https://github.com/beancount/beancount/issues/573","id":740476187,"node_id":"MDU6SXNzdWU3NDA0NzYxODc=","number":573,"title":"Bazel does not compile on Mac OS","user":{"login":"jbeder","id":1059334,"node_id":"MDQ6VXNlcjEwNTkzMzQ=","avatar_url":"https://avatars.githubusercontent.com/u/1059334?v=4","gravatar_id":"","url":"https://api.github.com/users/jbeder","html_url":"https://github.com/jbeder","followers_url":"https://api.github.com/users/jbeder/followers","following_url":"https://api.github.com/users/jbeder/following{/other_user}","gists_url":"https://api.github.com/users/jbeder/gists{/gist_id}","starred_url":"https://api.github.com/users/jbeder/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jbeder/subscriptions","organizations_url":"https://api.github.com/users/jbeder/orgs","repos_url":"https://api.github.com/users/jbeder/repos","events_url":"https://api.github.com/users/jbeder/events{/privacy}","received_events_url":"https://api.github.com/users/jbeder/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"open","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":8,"created_at":"2020-11-11T05:32:37Z","updated_at":"2020-11-28T22:00:49Z","closed_at":null,"author_association":"CONTRIBUTOR","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"Steps to reproduce:\r\n\r\n1. Environment:\r\n  - OS 10.15.7\r\n  - python version 3.8.5\r\n  - beancount 2.3.3\r\n2. Run `bazel build //bin:all`\r\n\r\nFull output:\r\n\r\n```\r\nINFO: Analyzed 30 targets (38 packages loaded, 550 targets configured).\r\nINFO: Found 30 targets...\r\nINFO: From Linking beancount/parser/libdecimal_c.a:\r\nwarning: /Applications/Xcode.app/Contents/Developer/Toolchains/XcodeDefault.xctoolchain/usr/bin/libtool: archive library: bazel-out/darwin-opt/bin/beancount/parser/libdecimal_c.a the table of contents is empty (no object file members in the library define global symbols)\r\nINFO: From Compiling beancount/parser/lexer.c:\r\nbeancount/parser/lexer.c:2212:16: warning: function 'input' is not needed and will not be emitted [-Wunneeded-internal-declaration]\r\n    static int input  (yyscan_t yyscanner)\r\n               ^\r\n1 warning generated.\r\nERROR: /Users/beder/Downloads/beancount-2.3.3/beancount/parser/BUILD:359:13: Linking of rule '//beancount/parser:_parser.so' failed (Exit 1) cc_wrapper.sh failed: error executing command external/local_config_cc/cc_wrapper.sh -lc++ -fobjc-link-runtime -shared -o bazel-out/darwin-opt/bin/beancount/parser/_parser.so ... (remaining 11 argument(s) skipped)\r\n\r\nUse --sandbox_debug to see verbose messages from the sandbox\r\nld: unknown option: --export-dynamic-symbol=PyInit__parser\r\nclang: error: linker command failed with exit code 1 (use -v to see invocation)\r\nINFO: Elapsed time: 4.274s, Critical Path: 1.51s\r\nINFO: 28 processes: 28 darwin-sandbox.\r\nFAILED: Build did NOT complete successfully\r\n```\r\n\r\nI believe the `--export-dynamic-symbol` flag comes from `third_party/python/py_extension.bzl`, and there's a comment there:\r\n\r\n> Ensure that the init function is exported. Required for gold.\r\n\r\nI'm not sure what this means, but if I remove the flag, the build compiles and links, but then fails with missing symbols if I run any binary, e.g.:\r\n\r\n```\r\n$ bazel run //bin:bean_check\r\nINFO: Analyzed target //bin:bean_check (1 packages loaded, 67 targets configured).\r\nINFO: Found 1 target...\r\nTarget //bin:bean_check up-to-date:\r\n  bazel-bin/bin/bean_check.py\r\n  bazel-bin/bin/bean_check\r\nINFO: Elapsed time: 0.262s, Critical Path: 0.10s\r\nINFO: 1 process: 1 darwin-sandbox.\r\nINFO: Build completed successfully, 2 total actions\r\nINFO: Build completed successfully, 2 total actions\r\nTraceback (most recent call last):\r\n  File \"/private/var/tmp/_bazel_beder/cb97eb509905f10b4b346a1d0556de4a/execroot/beancount/bazel-out/darwin-opt/bin/bin/bean_check.runfiles/beancount/bin/bean_check.py\", line 5, in <module>\r\n    from beancount.scripts.check import main\r\n  File \"/private/var/tmp/_bazel_beder/cb97eb509905f10b4b346a1d0556de4a/execroot/beancount/bazel-out/darwin-opt/bin/bin/bean_check.runfiles/beancount/beancount/scripts/check.py\", line 11, in <module>\r\n    from beancount import loader\r\n  File \"/private/var/tmp/_bazel_beder/cb97eb509905f10b4b346a1d0556de4a/execroot/beancount/bazel-out/darwin-opt/bin/bin/bean_check.runfiles/beancount/beancount/loader.py\", line 25, in <module>\r\n    from beancount.parser import parser\r\n  File \"/private/var/tmp/_bazel_beder/cb97eb509905f10b4b346a1d0556de4a/execroot/beancount/bazel-out/darwin-opt/bin/bin/bean_check.runfiles/beancount/beancount/parser/parser.py\", line 118, in <module>\r\n    from beancount.parser import _parser\r\nImportError: dlopen(/private/var/tmp/_bazel_beder/cb97eb509905f10b4b346a1d0556de4a/execroot/beancount/bazel-out/darwin-opt/bin/bin/bean_check.runfiles/beancount/beancount/parser/_parser.so, 2): Symbol not found: _decimal_type\r\n  Referenced from: /private/var/tmp/_bazel_beder/cb97eb509905f10b4b346a1d0556de4a/execroot/beancount/bazel-out/darwin-opt/bin/bin/bean_check.runfiles/beancount/beancount/parser/_parser.so\r\n  Expected in: flat namespace\r\n in /private/var/tmp/_bazel_beder/cb97eb509905f10b4b346a1d0556de4a/execroot/beancount/bazel-out/darwin-opt/bin/bin/bean_check.runfiles/beancount/beancount/parser/_parser.so\r\n```","closed_by":null,"reactions":{"url":"https://api.github.com/repos/beancount/beancount/issues/573/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beancount/issues/573/timeline","performed_via_github_app":null,"state_reason":null},{"url":"https://api.github.com/repos/beancount/beancount/issues/572","repository_url":"https://api.github.com/repos/beancount/beancount","labels_url":"https://api.github.com/repos/beancount/beancount/issues/572/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beancount/issues/572/comments","events_url":"https://api.github.com/repos/beancount/beancount/issues/572/events","html_url":"https://github.com/beancount/beancount/pull/572","id":739728102,"node_id":"MDExOlB1bGxSZXF1ZXN0NTE4MzM4MjEz","number":572,"title":"Limit format alignment to directives and postings","user":{"login":"tbm","id":1556037,"node_id":"MDQ6VXNlcjE1NTYwMzc=","avatar_url":"https://avatars.githubusercontent.com/u/1556037?v=4","gravatar_id":"","url":"https://api.github.com/users/tbm","html_url":"https://github.com/tbm","followers_url":"https://api.github.com/users/tbm/followers","following_url":"https://api.github.com/users/tbm/following{/other_user}","gists_url":"https://api.github.com/users/tbm/gists{/gist_id}","starred_url":"https://api.github.com/users/tbm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tbm/subscriptions","organizations_url":"https://api.github.com/users/tbm/orgs","repos_url":"https://api.github.com/users/tbm/repos","events_url":"https://api.github.com/users/tbm/events{/privacy}","received_events_url":"https://api.github.com/users/tbm/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":4,"created_at":"2020-11-10T09:12:20Z","updated_at":"2020-11-11T04:44:29Z","closed_at":"2020-11-11T04:44:29Z","author_association":"CONTRIBUTOR","type":null,"active_lock_reason":null,"draft":false,"pull_request":{"url":"https://api.github.com/repos/beancount/beancount/pulls/572","html_url":"https://github.com/beancount/beancount/pull/572","diff_url":"https://github.com/beancount/beancount/pull/572.diff","patch_url":"https://github.com/beancount/beancount/pull/572.patch","merged_at":"2020-11-11T04:44:29Z"},"body":"Restrict format alignment to directives and postings, but don't\r\napply it to metadata.\r\n\r\nFixes #400","closed_by":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/beancount/beancount/issues/572/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beancount/issues/572/timeline","performed_via_github_app":null,"state_reason":null},{"url":"https://api.github.com/repos/beancount/beancount/issues/570","repository_url":"https://api.github.com/repos/beancount/beancount","labels_url":"https://api.github.com/repos/beancount/beancount/issues/570/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beancount/issues/570/comments","events_url":"https://api.github.com/repos/beancount/beancount/issues/570/events","html_url":"https://github.com/beancount/beancount/issues/570","id":731976501,"node_id":"MDU6SXNzdWU3MzE5NzY1MDE=","number":570,"title":"get_commodity_map removal breaks code","user":{"login":"tbm","id":1556037,"node_id":"MDQ6VXNlcjE1NTYwMzc=","avatar_url":"https://avatars.githubusercontent.com/u/1556037?v=4","gravatar_id":"","url":"https://api.github.com/users/tbm","html_url":"https://github.com/tbm","followers_url":"https://api.github.com/users/tbm/followers","following_url":"https://api.github.com/users/tbm/following{/other_user}","gists_url":"https://api.github.com/users/tbm/gists{/gist_id}","starred_url":"https://api.github.com/users/tbm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tbm/subscriptions","organizations_url":"https://api.github.com/users/tbm/orgs","repos_url":"https://api.github.com/users/tbm/repos","events_url":"https://api.github.com/users/tbm/events{/privacy}","received_events_url":"https://api.github.com/users/tbm/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":6,"created_at":"2020-10-29T03:57:11Z","updated_at":"2020-10-30T05:03:04Z","closed_at":"2020-10-30T03:00:36Z","author_association":"CONTRIBUTOR","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"Commit  renamed get_commodity_map() to rename get_commodity_directives():\r\n\r\n>  To clarify the purpose of the function and to avoid possible\r\n>  sublte breakage in external code, rename the function to\r\n>  get_commodity_directives().\r\n\r\nUnfortunately, this leads to very \"unsubtle\" breakage of real code that calls _map().\r\n\r\nI don't think removing a function in a point release is a good idea.  Can we have _map()\r\nfor backwards compatibility with a note somewhere that this will go away in the future.\r\n\r\n@dnicolodi ","closed_by":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/beancount/beancount/issues/570/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beancount/issues/570/timeline","performed_via_github_app":null,"state_reason":"completed"},{"url":"https://api.github.com/repos/beancount/beancount/issues/569","repository_url":"https://api.github.com/repos/beancount/beancount","labels_url":"https://api.github.com/repos/beancount/beancount/issues/569/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beancount/issues/569/comments","events_url":"https://api.github.com/repos/beancount/beancount/issues/569/events","html_url":"https://github.com/beancount/beancount/pull/569","id":729074329,"node_id":"MDExOlB1bGxSZXF1ZXN0NTA5NjMyMzEw","number":569,"title":"core.data: create data classes directly with NamedTuple","user":{"login":"yagebu","id":2482259,"node_id":"MDQ6VXNlcjI0ODIyNTk=","avatar_url":"https://avatars.githubusercontent.com/u/2482259?v=4","gravatar_id":"","url":"https://api.github.com/users/yagebu","html_url":"https://github.com/yagebu","followers_url":"https://api.github.com/users/yagebu/followers","following_url":"https://api.github.com/users/yagebu/following{/other_user}","gists_url":"https://api.github.com/users/yagebu/gists{/gist_id}","starred_url":"https://api.github.com/users/yagebu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/yagebu/subscriptions","organizations_url":"https://api.github.com/users/yagebu/orgs","repos_url":"https://api.github.com/users/yagebu/repos","events_url":"https://api.github.com/users/yagebu/events{/privacy}","received_events_url":"https://api.github.com/users/yagebu/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":7,"created_at":"2020-10-25T17:50:27Z","updated_at":"2020-12-15T08:20:31Z","closed_at":"2020-11-15T14:30:50Z","author_association":"MEMBER","type":null,"active_lock_reason":null,"draft":false,"pull_request":{"url":"https://api.github.com/repos/beancount/beancount/pulls/569","html_url":"https://github.com/beancount/beancount/pull/569","diff_url":"https://github.com/beancount/beancount/pull/569.diff","patch_url":"https://github.com/beancount/beancount/pull/569.patch","merged_at":"2020-11-15T14:30:49Z"},"body":"This should fix the issue of pylint not recognising all these classes as\r\ncallable, apparently the function creating and returning a NamedTuple\r\nconfused it too much.\r\n\r\nThis also fixes the typing of these central data structures, which was\r\nquite incorrect. `new_directive` claimed to return an instance (of\r\nNamedTuple) without any further typings but indeed returned a class. At\r\nleast with mypy, the typings further down the file all produced errors.\r\n\r\nFor these central data structures, I think the more explicit (and in my\r\neyes simpler) definition trumps the succinctness of not having to repeat\r\nthe shared first two fields meta and date.","closed_by":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/beancount/beancount/issues/569/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beancount/issues/569/timeline","performed_via_github_app":null,"state_reason":null},{"url":"https://api.github.com/repos/beancount/beancount/issues/568","repository_url":"https://api.github.com/repos/beancount/beancount","labels_url":"https://api.github.com/repos/beancount/beancount/issues/568/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beancount/issues/568/comments","events_url":"https://api.github.com/repos/beancount/beancount/issues/568/events","html_url":"https://github.com/beancount/beancount/issues/568","id":726221911,"node_id":"MDU6SXNzdWU3MjYyMjE5MTE=","number":568,"title":"Limit width out output","user":{"login":"varac","id":488213,"node_id":"MDQ6VXNlcjQ4ODIxMw==","avatar_url":"https://avatars.githubusercontent.com/u/488213?v=4","gravatar_id":"","url":"https://api.github.com/users/varac","html_url":"https://github.com/varac","followers_url":"https://api.github.com/users/varac/followers","following_url":"https://api.github.com/users/varac/following{/other_user}","gists_url":"https://api.github.com/users/varac/gists{/gist_id}","starred_url":"https://api.github.com/users/varac/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/varac/subscriptions","organizations_url":"https://api.github.com/users/varac/orgs","repos_url":"https://api.github.com/users/varac/repos","events_url":"https://api.github.com/users/varac/events{/privacy}","received_events_url":"https://api.github.com/users/varac/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"open","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":1,"created_at":"2020-10-21T07:34:39Z","updated_at":"2020-10-27T19:35:16Z","closed_at":null,"author_association":"NONE","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"Especially for reports it would be great to be able to limit the output width, similar to hledger does:\r\n\r\n```\r\n❯ hledger reg --help | grep width\r\n  -w --width=N              set output width (default: terminal width or\r\n                            $COLUMNS). -wN,M sets description width as well.\r\n```","closed_by":null,"reactions":{"url":"https://api.github.com/repos/beancount/beancount/issues/568/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beancount/issues/568/timeline","performed_via_github_app":null,"state_reason":null},{"url":"https://api.github.com/repos/beancount/beancount/issues/567","repository_url":"https://api.github.com/repos/beancount/beancount","labels_url":"https://api.github.com/repos/beancount/beancount/issues/567/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beancount/issues/567/comments","events_url":"https://api.github.com/repos/beancount/beancount/issues/567/events","html_url":"https://github.com/beancount/beancount/issues/567","id":724561627,"node_id":"MDU6SXNzdWU3MjQ1NjE2Mjc=","number":567,"title":"Postings should inherit metadata from account (optionally ?)","user":{"login":"varac","id":488213,"node_id":"MDQ6VXNlcjQ4ODIxMw==","avatar_url":"https://avatars.githubusercontent.com/u/488213?v=4","gravatar_id":"","url":"https://api.github.com/users/varac","html_url":"https://github.com/varac","followers_url":"https://api.github.com/users/varac/followers","following_url":"https://api.github.com/users/varac/following{/other_user}","gists_url":"https://api.github.com/users/varac/gists{/gist_id}","starred_url":"https://api.github.com/users/varac/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/varac/subscriptions","organizations_url":"https://api.github.com/users/varac/orgs","repos_url":"https://api.github.com/users/varac/repos","events_url":"https://api.github.com/users/varac/events{/privacy}","received_events_url":"https://api.github.com/users/varac/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"open","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":2,"created_at":"2020-10-19T12:23:57Z","updated_at":"2021-05-28T00:08:48Z","closed_at":null,"author_association":"NONE","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"I'd like to assign metadata to accounts which every posting will inherit.\r\n\r\ni.e. if I like to assign a VAT value to an account all postings should inherit it so I can query for it.\r\n\r\nGiven this example journal:\r\n\r\n```\r\n2010-01-01 open Assets:Bank\r\n2010-01-01 open Expenses:Foo\r\n  mwst: \"19\"\r\n\r\n2019-01-24 * \"Test1\"\r\n    Assets:Bank            10.00 EUR\r\n    Expenses:Foo\r\n    mwst: \"19\"\r\n\r\n2019-01-25 * \"Test2\"\r\n    Assets:Bank            10.00 EUR\r\n    Expenses:Foo\r\n```\r\n\r\nI'd like that the `Test2` posting will inherit the `mwst` metadata from account `Expenses:Foo`. But it doesn't:\r\n\r\n```\r\n❯ bean-query metadata-inheritance.beancount \"SELECT account, sum(position) WHERE any_meta('mwst') = '19'\"  \r\n  account    sum_positi\r\n------------ ----------\r\nExpenses:Foo -10.00 EUR\r\n```\r\n\r\nIt gets tricky when both/all accounts have metadata assigned, in this case I propose that the last specified account overrides the earlier accounts.\r\nThis new behaviour could get made configurable / opt-in by configuration.","closed_by":null,"reactions":{"url":"https://api.github.com/repos/beancount/beancount/issues/567/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beancount/issues/567/timeline","performed_via_github_app":null,"state_reason":null},{"url":"https://api.github.com/repos/beancount/beancount/issues/566","repository_url":"https://api.github.com/repos/beancount/beancount","labels_url":"https://api.github.com/repos/beancount/beancount/issues/566/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beancount/issues/566/comments","events_url":"https://api.github.com/repos/beancount/beancount/issues/566/events","html_url":"https://github.com/beancount/beancount/issues/566","id":723458614,"node_id":"MDU6SXNzdWU3MjM0NTg2MTQ=","number":566,"title":"hash_entry produced equal hashes for different transactions","user":{"login":"Akuukis","id":7459419,"node_id":"MDQ6VXNlcjc0NTk0MTk=","avatar_url":"https://avatars.githubusercontent.com/u/7459419?v=4","gravatar_id":"","url":"https://api.github.com/users/Akuukis","html_url":"https://github.com/Akuukis","followers_url":"https://api.github.com/users/Akuukis/followers","following_url":"https://api.github.com/users/Akuukis/following{/other_user}","gists_url":"https://api.github.com/users/Akuukis/gists{/gist_id}","starred_url":"https://api.github.com/users/Akuukis/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Akuukis/subscriptions","organizations_url":"https://api.github.com/users/Akuukis/orgs","repos_url":"https://api.github.com/users/Akuukis/repos","events_url":"https://api.github.com/users/Akuukis/events{/privacy}","received_events_url":"https://api.github.com/users/Akuukis/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":1,"created_at":"2020-10-16T19:01:20Z","updated_at":"2020-10-25T20:00:38Z","closed_at":"2020-10-25T20:00:38Z","author_association":"NONE","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"## Expected behavior\r\n\r\n`hash_entry` is reliable to compare two transactions.\r\n\r\n## Actual behavior\r\n\r\n`hash_entry` produced equal hash for two different transactions (see in the repro below). Note that only difference is that tx B have one leg less. One of them are obviously invalid, but frankly it doesn't matter which one - value for `Assets:Cash` can be changed either to `-10.00 EUR` or `-5.00 EUR` and hashes will still match.\r\n\r\n## Context\r\n\r\nI'm making a plugin with tests, where it compares produced and expected transactions by `hash_entry`. This one wasn't produced correctly but test passed due matching hashes, thus caused a false-positive case.\r\n\r\n## Repro\r\n\r\ncode\r\n```python3\r\n#!/usr/bin/env python3\r\n\r\nfrom beancount.core.compare import hash_entry\r\nfrom beancount.loader import load_string\r\nfrom beancount.parser import printer\r\n\r\na = load_string('''\r\n2020-01-01 * \"SomePayee\" \"SomeNarration\"\r\n  Assets:Cash           -10.00 EUR\r\n  Expenses:Random         5.00 EUR\r\n  Expenses:Random         5.00 EUR\r\n''')[0][0]\r\n\r\nb = load_string('''\r\n2020-01-01 * \"SomePayee\" \"SomeNarration\"\r\n  Assets:Cash           -10.00 EUR\r\n  Expenses:Random         5.00 EUR\r\n''')[0][0]\r\n\r\nfor tx in (a, b):\r\n    del tx.meta['filename']\r\n    del tx.meta['lineno']\r\n    for posting in tx.postings:\r\n        if 'filename' in posting.meta:\r\n            del posting.meta['filename']\r\n        if 'lineno' in posting.meta:\r\n            del posting.meta['lineno']\r\n        if '__automatic__' in posting.meta:\r\n            del posting.meta['__automatic__']\r\n        pass\r\n\r\nfor tx in (a, b):\r\n    print('; hash_entry(tx) -> ' + hash_entry(tx))\r\n    print(printer.format_entry(tx))\r\n\r\nassert hash_entry(a) == hash_entry(b)\r\n\r\n```\r\n\r\noutput\r\n```beancount\r\n; hash_entry(tx) -> f926942038e6a7f2615565b6ea064b71\r\n2020-01-01 * \"SomePayee\" \"SomeNarration\"\r\n  Assets:Cash      -10.00 EUR\r\n  Expenses:Random    5.00 EUR\r\n  Expenses:Random    5.00 EUR\r\n\r\n; hash_entry(tx) -> f926942038e6a7f2615565b6ea064b71\r\n2020-01-01 * \"SomePayee\" \"SomeNarration\"\r\n  Assets:Cash      -10.00 EUR\r\n  Expenses:Random    5.00 EUR\r\n```","closed_by":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/beancount/beancount/issues/566/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beancount/issues/566/timeline","performed_via_github_app":null,"state_reason":"completed"},{"url":"https://api.github.com/repos/beancount/beancount/issues/565","repository_url":"https://api.github.com/repos/beancount/beancount","labels_url":"https://api.github.com/repos/beancount/beancount/issues/565/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beancount/issues/565/comments","events_url":"https://api.github.com/repos/beancount/beancount/issues/565/events","html_url":"https://github.com/beancount/beancount/pull/565","id":723405239,"node_id":"MDExOlB1bGxSZXF1ZXN0NTA0OTk2NDg4","number":565,"title":"Use the same python binary to run testimport.py","user":{"login":"stefanor","id":442117,"node_id":"MDQ6VXNlcjQ0MjExNw==","avatar_url":"https://avatars.githubusercontent.com/u/442117?v=4","gravatar_id":"","url":"https://api.github.com/users/stefanor","html_url":"https://github.com/stefanor","followers_url":"https://api.github.com/users/stefanor/followers","following_url":"https://api.github.com/users/stefanor/following{/other_user}","gists_url":"https://api.github.com/users/stefanor/gists{/gist_id}","starred_url":"https://api.github.com/users/stefanor/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/stefanor/subscriptions","organizations_url":"https://api.github.com/users/stefanor/orgs","repos_url":"https://api.github.com/users/stefanor/repos","events_url":"https://api.github.com/users/stefanor/events{/privacy}","received_events_url":"https://api.github.com/users/stefanor/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":0,"created_at":"2020-10-16T17:30:57Z","updated_at":"2020-10-17T20:03:01Z","closed_at":"2020-10-17T19:41:26Z","author_association":"CONTRIBUTOR","type":null,"active_lock_reason":null,"draft":false,"pull_request":{"url":"https://api.github.com/repos/beancount/beancount/pulls/565","html_url":"https://github.com/beancount/beancount/pull/565","diff_url":"https://github.com/beancount/beancount/pull/565.diff","patch_url":"https://github.com/beancount/beancount/pull/565.patch","merged_at":"2020-10-17T19:41:26Z"},"body":"Rather than relying on the shebang of `testimport.py` (which will load the first `python3` on `PATH`), use the same binary that the test suite is running under.\r\n\r\nOn Debian, multiple versions of cPython can be installed concurrently and this lets us test under a non-default version, e.g.:\r\n\r\n```\r\n$ python3.9 -m pytest beancount/\r\n```\r\n\r\nDebian Bug: https://bugs.debian.org/972328","closed_by":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/beancount/beancount/issues/565/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beancount/issues/565/timeline","performed_via_github_app":null,"state_reason":null},{"url":"https://api.github.com/repos/beancount/beancount/issues/564","repository_url":"https://api.github.com/repos/beancount/beancount","labels_url":"https://api.github.com/repos/beancount/beancount/issues/564/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beancount/issues/564/comments","events_url":"https://api.github.com/repos/beancount/beancount/issues/564/events","html_url":"https://github.com/beancount/beancount/issues/564","id":719341452,"node_id":"MDU6SXNzdWU3MTkzNDE0NTI=","number":564,"title":"Feature request for v3: Lot transfers","user":{"login":"jes-carr","id":28097,"node_id":"MDQ6VXNlcjI4MDk3","avatar_url":"https://avatars.githubusercontent.com/u/28097?v=4","gravatar_id":"","url":"https://api.github.com/users/jes-carr","html_url":"https://github.com/jes-carr","followers_url":"https://api.github.com/users/jes-carr/followers","following_url":"https://api.github.com/users/jes-carr/following{/other_user}","gists_url":"https://api.github.com/users/jes-carr/gists{/gist_id}","starred_url":"https://api.github.com/users/jes-carr/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jes-carr/subscriptions","organizations_url":"https://api.github.com/users/jes-carr/orgs","repos_url":"https://api.github.com/users/jes-carr/repos","events_url":"https://api.github.com/users/jes-carr/events{/privacy}","received_events_url":"https://api.github.com/users/jes-carr/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"open","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":1,"created_at":"2020-10-12T12:29:54Z","updated_at":"2021-06-06T06:05:14Z","closed_at":null,"author_association":"NONE","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"It is a common practice when trading cryptocurrency to transfer the commodity to your own wallet, and then back to the exchange, and it'd be useful to keep the cost basis. It is very tedious to specify the lots manually, but it seems that at the moment it is the only way.\r\n\r\nAt the moment I need to do:\r\n\r\n\r\n      option \"booking_method\" \"FIFO\"\r\n\r\n      2015-01-01 open Assets:Exchange\r\n      2015-01-01 open Assets:Wallet\r\n      2015-01-01 open Assets:Bank\r\n      2015-01-01 open Expenses:Something\r\n      2015-09-04 * \"Buy some bitcoins\"\r\n        Assets:Exchange       4 BTC {250 USD, 2015-09-04}\r\n        Assets:Bank          -1000.00 USD\r\n      2015-09-05 * \"Buy some more bitcoins\"\r\n        Assets:Exchange       2 BTC {300 USD, 2015-09-05}\r\n        Assets:Bank          -600.00 USD\r\n      2015-09-10 * \"Move to wallet\"\r\n        Assets:Exchange       -5 BTC {}\r\n        Assets:Wallet         4 BTC {250 USD, 2015-09-04}\r\n        Assets:Wallet         1 BTC {300 USD, 2015-09-05} \r\n      2015-09-11 * \"Move to exchange\"\r\n        Assets:Wallet       -5 BTC {}\r\n        Assets:Exchange         4 BTC {250 USD, 2015-09-04}\r\n        Assets:Exchange         1 BTC {300 USD, 2015-09-05} \r\n\r\n\r\nI want to add those augmentations in the last two transactions automatically, using the same lots as the reduction. This is my idea for a possible syntax:\r\n\r\n\r\n    2015-09-10 * \"Move to wallet\" \r\n        Assets:Exchange       -5 BTC {} \r\n        Assets:Wallet         {}\r\n\r\n    2015-09-11 * \"Move to exchange\"\r\n        Assets:Wallet       -5 BTC {}\r\n        Assets:Exchange         {}\r\n\r\n\r\nI'm not sure about all the possible use cases, for my use case I guess it would be sufficient to support only one augmenting leg, so it just needs to take the lots from the reducing legs and add them in the augmenting leg.","closed_by":null,"reactions":{"url":"https://api.github.com/repos/beancount/beancount/issues/564/reactions","total_count":14,"+1":14,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beancount/issues/564/timeline","performed_via_github_app":null,"state_reason":null},{"url":"https://api.github.com/repos/beancount/beancount/issues/562","repository_url":"https://api.github.com/repos/beancount/beancount","labels_url":"https://api.github.com/repos/beancount/beancount/issues/562/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beancount/issues/562/comments","events_url":"https://api.github.com/repos/beancount/beancount/issues/562/events","html_url":"https://github.com/beancount/beancount/pull/562","id":707964568,"node_id":"MDExOlB1bGxSZXF1ZXN0NDkyMjc0MjE2","number":562,"title":"refactor: use py3.6 typing syntax to define directive","user":{"login":"trim21","id":13553903,"node_id":"MDQ6VXNlcjEzNTUzOTAz","avatar_url":"https://avatars.githubusercontent.com/u/13553903?v=4","gravatar_id":"","url":"https://api.github.com/users/trim21","html_url":"https://github.com/trim21","followers_url":"https://api.github.com/users/trim21/followers","following_url":"https://api.github.com/users/trim21/following{/other_user}","gists_url":"https://api.github.com/users/trim21/gists{/gist_id}","starred_url":"https://api.github.com/users/trim21/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/trim21/subscriptions","organizations_url":"https://api.github.com/users/trim21/orgs","repos_url":"https://api.github.com/users/trim21/repos","events_url":"https://api.github.com/users/trim21/events{/privacy}","received_events_url":"https://api.github.com/users/trim21/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":1,"created_at":"2020-09-24T08:23:38Z","updated_at":"2020-10-05T00:27:05Z","closed_at":"2020-09-24T08:45:09Z","author_association":"CONTRIBUTOR","type":null,"active_lock_reason":null,"draft":true,"pull_request":{"url":"https://api.github.com/repos/beancount/beancount/pulls/562","html_url":"https://github.com/beancount/beancount/pull/562","diff_url":"https://github.com/beancount/beancount/pull/562.diff","patch_url":"https://github.com/beancount/beancount/pull/562.patch","merged_at":null},"body":"consider now beancount require python>=3.6, it is possible to defina directives in beancount.core.data with new python typing syntax, and it's possible to define default value for all optional attribute(I didn't do it in this pr, not show if you want it).\r\n\r\nThis will make editor be able to suggest better completions for `__init__` args, and all `NamedTuple` method.","closed_by":{"login":"trim21","id":13553903,"node_id":"MDQ6VXNlcjEzNTUzOTAz","avatar_url":"https://avatars.githubusercontent.com/u/13553903?v=4","gravatar_id":"","url":"https://api.github.com/users/trim21","html_url":"https://github.com/trim21","followers_url":"https://api.github.com/users/trim21/followers","following_url":"https://api.github.com/users/trim21/following{/other_user}","gists_url":"https://api.github.com/users/trim21/gists{/gist_id}","starred_url":"https://api.github.com/users/trim21/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/trim21/subscriptions","organizations_url":"https://api.github.com/users/trim21/orgs","repos_url":"https://api.github.com/users/trim21/repos","events_url":"https://api.github.com/users/trim21/events{/privacy}","received_events_url":"https://api.github.com/users/trim21/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/beancount/beancount/issues/562/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beancount/issues/562/timeline","performed_via_github_app":null,"state_reason":null},{"url":"https://api.github.com/repos/beancount/beancount/issues/561","repository_url":"https://api.github.com/repos/beancount/beancount","labels_url":"https://api.github.com/repos/beancount/beancount/issues/561/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beancount/issues/561/comments","events_url":"https://api.github.com/repos/beancount/beancount/issues/561/events","html_url":"https://github.com/beancount/beancount/pull/561","id":704985695,"node_id":"MDExOlB1bGxSZXF1ZXN0NDg5ODE0MDc1","number":561,"title":"parser: Fix make ctest","user":{"login":"dnicolodi","id":987145,"node_id":"MDQ6VXNlcjk4NzE0NQ==","avatar_url":"https://avatars.githubusercontent.com/u/987145?v=4","gravatar_id":"","url":"https://api.github.com/users/dnicolodi","html_url":"https://github.com/dnicolodi","followers_url":"https://api.github.com/users/dnicolodi/followers","following_url":"https://api.github.com/users/dnicolodi/following{/other_user}","gists_url":"https://api.github.com/users/dnicolodi/gists{/gist_id}","starred_url":"https://api.github.com/users/dnicolodi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dnicolodi/subscriptions","organizations_url":"https://api.github.com/users/dnicolodi/orgs","repos_url":"https://api.github.com/users/dnicolodi/repos","events_url":"https://api.github.com/users/dnicolodi/events{/privacy}","received_events_url":"https://api.github.com/users/dnicolodi/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":3,"created_at":"2020-09-19T19:32:47Z","updated_at":"2020-11-21T17:22:37Z","closed_at":"2020-09-20T14:12:46Z","author_association":"COLLABORATOR","type":null,"active_lock_reason":null,"draft":false,"pull_request":{"url":"https://api.github.com/repos/beancount/beancount/pulls/561","html_url":"https://github.com/beancount/beancount/pull/561","diff_url":"https://github.com/beancount/beancount/pull/561.diff","patch_url":"https://github.com/beancount/beancount/pull/561.patch","merged_at":"2020-09-20T14:12:46Z"},"body":"Adjust compilation options and CI job definition.\r\n","closed_by":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/beancount/beancount/issues/561/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beancount/issues/561/timeline","performed_via_github_app":null,"state_reason":null},{"url":"https://api.github.com/repos/beancount/beancount/issues/560","repository_url":"https://api.github.com/repos/beancount/beancount","labels_url":"https://api.github.com/repos/beancount/beancount/issues/560/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beancount/issues/560/comments","events_url":"https://api.github.com/repos/beancount/beancount/issues/560/events","html_url":"https://github.com/beancount/beancount/pull/560","id":704871168,"node_id":"MDExOlB1bGxSZXF1ZXN0NDg5NzE4NzA1","number":560,"title":"Minor Makefile fix","user":{"login":"dnicolodi","id":987145,"node_id":"MDQ6VXNlcjk4NzE0NQ==","avatar_url":"https://avatars.githubusercontent.com/u/987145?v=4","gravatar_id":"","url":"https://api.github.com/users/dnicolodi","html_url":"https://github.com/dnicolodi","followers_url":"https://api.github.com/users/dnicolodi/followers","following_url":"https://api.github.com/users/dnicolodi/following{/other_user}","gists_url":"https://api.github.com/users/dnicolodi/gists{/gist_id}","starred_url":"https://api.github.com/users/dnicolodi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dnicolodi/subscriptions","organizations_url":"https://api.github.com/users/dnicolodi/orgs","repos_url":"https://api.github.com/users/dnicolodi/repos","events_url":"https://api.github.com/users/dnicolodi/events{/privacy}","received_events_url":"https://api.github.com/users/dnicolodi/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":0,"created_at":"2020-09-19T12:11:24Z","updated_at":"2020-11-21T17:24:58Z","closed_at":"2020-09-19T16:03:18Z","author_association":"COLLABORATOR","type":null,"active_lock_reason":null,"draft":false,"pull_request":{"url":"https://api.github.com/repos/beancount/beancount/pulls/560","html_url":"https://github.com/beancount/beancount/pull/560","diff_url":"https://github.com/beancount/beancount/pull/560.diff","patch_url":"https://github.com/beancount/beancount/pull/560.patch","merged_at":"2020-09-19T16:03:18Z"},"body":"Do not descend into `__pycache__` directories when removing them.","closed_by":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/beancount/beancount/issues/560/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beancount/issues/560/timeline","performed_via_github_app":null,"state_reason":null},{"url":"https://api.github.com/repos/beancount/beancount/issues/559","repository_url":"https://api.github.com/repos/beancount/beancount","labels_url":"https://api.github.com/repos/beancount/beancount/issues/559/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beancount/issues/559/comments","events_url":"https://api.github.com/repos/beancount/beancount/issues/559/events","html_url":"https://github.com/beancount/beancount/pull/559","id":704860207,"node_id":"MDExOlB1bGxSZXF1ZXN0NDg5NzEwNjk4","number":559,"title":"ci: Add Bazel build to the Github Actions CI jobs","user":{"login":"dnicolodi","id":987145,"node_id":"MDQ6VXNlcjk4NzE0NQ==","avatar_url":"https://avatars.githubusercontent.com/u/987145?v=4","gravatar_id":"","url":"https://api.github.com/users/dnicolodi","html_url":"https://github.com/dnicolodi","followers_url":"https://api.github.com/users/dnicolodi/followers","following_url":"https://api.github.com/users/dnicolodi/following{/other_user}","gists_url":"https://api.github.com/users/dnicolodi/gists{/gist_id}","starred_url":"https://api.github.com/users/dnicolodi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dnicolodi/subscriptions","organizations_url":"https://api.github.com/users/dnicolodi/orgs","repos_url":"https://api.github.com/users/dnicolodi/repos","events_url":"https://api.github.com/users/dnicolodi/events{/privacy}","received_events_url":"https://api.github.com/users/dnicolodi/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":0,"created_at":"2020-09-19T10:55:16Z","updated_at":"2020-11-21T17:24:35Z","closed_at":"2020-09-19T16:03:59Z","author_association":"COLLABORATOR","type":null,"active_lock_reason":null,"draft":false,"pull_request":{"url":"https://api.github.com/repos/beancount/beancount/pulls/559","html_url":"https://github.com/beancount/beancount/pull/559","diff_url":"https://github.com/beancount/beancount/pull/559.diff","patch_url":"https://github.com/beancount/beancount/pull/559.patch","merged_at":"2020-09-19T16:03:59Z"},"body":"The build fails. Someone more familiar with Bazel should look into this.","closed_by":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/beancount/beancount/issues/559/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beancount/issues/559/timeline","performed_via_github_app":null,"state_reason":null},{"url":"https://api.github.com/repos/beancount/beancount/issues/558","repository_url":"https://api.github.com/repos/beancount/beancount","labels_url":"https://api.github.com/repos/beancount/beancount/issues/558/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beancount/issues/558/comments","events_url":"https://api.github.com/repos/beancount/beancount/issues/558/events","html_url":"https://github.com/beancount/beancount/pull/558","id":704846043,"node_id":"MDExOlB1bGxSZXF1ZXN0NDg5NzAwMzUy","number":558,"title":"parser: Move functions defined in tokens.h to own compilation unit","user":{"login":"dnicolodi","id":987145,"node_id":"MDQ6VXNlcjk4NzE0NQ==","avatar_url":"https://avatars.githubusercontent.com/u/987145?v=4","gravatar_id":"","url":"https://api.github.com/users/dnicolodi","html_url":"https://github.com/dnicolodi","followers_url":"https://api.github.com/users/dnicolodi/followers","following_url":"https://api.github.com/users/dnicolodi/following{/other_user}","gists_url":"https://api.github.com/users/dnicolodi/gists{/gist_id}","starred_url":"https://api.github.com/users/dnicolodi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dnicolodi/subscriptions","organizations_url":"https://api.github.com/users/dnicolodi/orgs","repos_url":"https://api.github.com/users/dnicolodi/repos","events_url":"https://api.github.com/users/dnicolodi/events{/privacy}","received_events_url":"https://api.github.com/users/dnicolodi/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":1,"created_at":"2020-09-19T09:14:57Z","updated_at":"2020-11-21T17:23:48Z","closed_at":"2020-09-19T16:06:27Z","author_association":"COLLABORATOR","type":null,"active_lock_reason":null,"draft":false,"pull_request":{"url":"https://api.github.com/repos/beancount/beancount/pulls/558","html_url":"https://github.com/beancount/beancount/pull/558","diff_url":"https://github.com/beancount/beancount/pull/558.diff","patch_url":"https://github.com/beancount/beancount/pull/558.patch","merged_at":"2020-09-19T16:06:27Z"},"body":"This requires hacking around the limitations of the Python C-API to\r\nthe datetime module to avoid having to initialize it in every\r\ncompilation unit using it.","closed_by":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/beancount/beancount/issues/558/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beancount/issues/558/timeline","performed_via_github_app":null,"state_reason":null},{"url":"https://api.github.com/repos/beancount/beancount/issues/557","repository_url":"https://api.github.com/repos/beancount/beancount","labels_url":"https://api.github.com/repos/beancount/beancount/issues/557/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beancount/issues/557/comments","events_url":"https://api.github.com/repos/beancount/beancount/issues/557/events","html_url":"https://github.com/beancount/beancount/pull/557","id":704593156,"node_id":"MDExOlB1bGxSZXF1ZXN0NDg5NDkxMTU3","number":557,"title":"setup, ci: Explicitly drop support for Python 3.5","user":{"login":"dnicolodi","id":987145,"node_id":"MDQ6VXNlcjk4NzE0NQ==","avatar_url":"https://avatars.githubusercontent.com/u/987145?v=4","gravatar_id":"","url":"https://api.github.com/users/dnicolodi","html_url":"https://github.com/dnicolodi","followers_url":"https://api.github.com/users/dnicolodi/followers","following_url":"https://api.github.com/users/dnicolodi/following{/other_user}","gists_url":"https://api.github.com/users/dnicolodi/gists{/gist_id}","starred_url":"https://api.github.com/users/dnicolodi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dnicolodi/subscriptions","organizations_url":"https://api.github.com/users/dnicolodi/orgs","repos_url":"https://api.github.com/users/dnicolodi/repos","events_url":"https://api.github.com/users/dnicolodi/events{/privacy}","received_events_url":"https://api.github.com/users/dnicolodi/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":0,"created_at":"2020-09-18T19:05:14Z","updated_at":"2020-11-21T17:24:01Z","closed_at":"2020-09-19T16:04:43Z","author_association":"COLLABORATOR","type":null,"active_lock_reason":null,"draft":false,"pull_request":{"url":"https://api.github.com/repos/beancount/beancount/pulls/557","html_url":"https://github.com/beancount/beancount/pull/557","diff_url":"https://github.com/beancount/beancount/pull/557.diff","patch_url":"https://github.com/beancount/beancount/pull/557.patch","merged_at":"2020-09-19T16:04:43Z"},"body":"The codebase uses APIs and features introduced only with Python 3.6.\r\nPython 3.5 is reaching its end of life at the end of September 2020,\r\nthus it is unlikely to be in whidespread use.\r\n\r\nCloses #556.","closed_by":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/beancount/beancount/issues/557/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beancount/issues/557/timeline","performed_via_github_app":null,"state_reason":null},{"url":"https://api.github.com/repos/beancount/beancount/issues/556","repository_url":"https://api.github.com/repos/beancount/beancount","labels_url":"https://api.github.com/repos/beancount/beancount/issues/556/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beancount/issues/556/comments","events_url":"https://api.github.com/repos/beancount/beancount/issues/556/events","html_url":"https://github.com/beancount/beancount/issues/556","id":704302014,"node_id":"MDU6SXNzdWU3MDQzMDIwMTQ=","number":556,"title":"Tests fail with Python 3.5","user":{"login":"dnicolodi","id":987145,"node_id":"MDQ6VXNlcjk4NzE0NQ==","avatar_url":"https://avatars.githubusercontent.com/u/987145?v=4","gravatar_id":"","url":"https://api.github.com/users/dnicolodi","html_url":"https://github.com/dnicolodi","followers_url":"https://api.github.com/users/dnicolodi/followers","following_url":"https://api.github.com/users/dnicolodi/following{/other_user}","gists_url":"https://api.github.com/users/dnicolodi/gists{/gist_id}","starred_url":"https://api.github.com/users/dnicolodi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dnicolodi/subscriptions","organizations_url":"https://api.github.com/users/dnicolodi/orgs","repos_url":"https://api.github.com/users/dnicolodi/repos","events_url":"https://api.github.com/users/dnicolodi/events{/privacy}","received_events_url":"https://api.github.com/users/dnicolodi/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":1,"created_at":"2020-09-18T11:21:32Z","updated_at":"2020-09-19T19:39:20Z","closed_at":"2020-09-19T19:39:20Z","author_association":"COLLABORATOR","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"There are 20 unit tests failing when the test suite is run with Python 3.5. I haven't investigated the reasons. I am tempted to simply bump the required Python version to 3.6.","closed_by":{"login":"dnicolodi","id":987145,"node_id":"MDQ6VXNlcjk4NzE0NQ==","avatar_url":"https://avatars.githubusercontent.com/u/987145?v=4","gravatar_id":"","url":"https://api.github.com/users/dnicolodi","html_url":"https://github.com/dnicolodi","followers_url":"https://api.github.com/users/dnicolodi/followers","following_url":"https://api.github.com/users/dnicolodi/following{/other_user}","gists_url":"https://api.github.com/users/dnicolodi/gists{/gist_id}","starred_url":"https://api.github.com/users/dnicolodi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dnicolodi/subscriptions","organizations_url":"https://api.github.com/users/dnicolodi/orgs","repos_url":"https://api.github.com/users/dnicolodi/repos","events_url":"https://api.github.com/users/dnicolodi/events{/privacy}","received_events_url":"https://api.github.com/users/dnicolodi/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/beancount/beancount/issues/556/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beancount/issues/556/timeline","performed_via_github_app":null,"state_reason":"completed"},{"url":"https://api.github.com/repos/beancount/beancount/issues/555","repository_url":"https://api.github.com/repos/beancount/beancount","labels_url":"https://api.github.com/repos/beancount/beancount/issues/555/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beancount/issues/555/comments","events_url":"https://api.github.com/repos/beancount/beancount/issues/555/events","html_url":"https://github.com/beancount/beancount/pull/555","id":704249813,"node_id":"MDExOlB1bGxSZXF1ZXN0NDg5MjA4NjU5","number":555,"title":"ci: Run tests as Github Actions","user":{"login":"dnicolodi","id":987145,"node_id":"MDQ6VXNlcjk4NzE0NQ==","avatar_url":"https://avatars.githubusercontent.com/u/987145?v=4","gravatar_id":"","url":"https://api.github.com/users/dnicolodi","html_url":"https://github.com/dnicolodi","followers_url":"https://api.github.com/users/dnicolodi/followers","following_url":"https://api.github.com/users/dnicolodi/following{/other_user}","gists_url":"https://api.github.com/users/dnicolodi/gists{/gist_id}","starred_url":"https://api.github.com/users/dnicolodi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dnicolodi/subscriptions","organizations_url":"https://api.github.com/users/dnicolodi/orgs","repos_url":"https://api.github.com/users/dnicolodi/repos","events_url":"https://api.github.com/users/dnicolodi/events{/privacy}","received_events_url":"https://api.github.com/users/dnicolodi/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":0,"created_at":"2020-09-18T09:56:12Z","updated_at":"2020-11-21T17:23:22Z","closed_at":"2020-09-19T16:07:21Z","author_association":"COLLABORATOR","type":null,"active_lock_reason":null,"draft":false,"pull_request":{"url":"https://api.github.com/repos/beancount/beancount/pulls/555","html_url":"https://github.com/beancount/beancount/pull/555","diff_url":"https://github.com/beancount/beancount/pull/555.diff","patch_url":"https://github.com/beancount/beancount/pull/555.patch","merged_at":"2020-09-19T16:07:21Z"},"body":"I don't know what happened to the Travis CI integration. Bring back tests as Github Actions.","closed_by":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/beancount/beancount/issues/555/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beancount/issues/555/timeline","performed_via_github_app":null,"state_reason":null},{"url":"https://api.github.com/repos/beancount/beancount/issues/554","repository_url":"https://api.github.com/repos/beancount/beancount","labels_url":"https://api.github.com/repos/beancount/beancount/issues/554/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beancount/issues/554/comments","events_url":"https://api.github.com/repos/beancount/beancount/issues/554/events","html_url":"https://github.com/beancount/beancount/pull/554","id":704195187,"node_id":"MDExOlB1bGxSZXF1ZXN0NDg5MTYzMzQy","number":554,"title":"parser: Fix #include guard name","user":{"login":"dnicolodi","id":987145,"node_id":"MDQ6VXNlcjk4NzE0NQ==","avatar_url":"https://avatars.githubusercontent.com/u/987145?v=4","gravatar_id":"","url":"https://api.github.com/users/dnicolodi","html_url":"https://github.com/dnicolodi","followers_url":"https://api.github.com/users/dnicolodi/followers","following_url":"https://api.github.com/users/dnicolodi/following{/other_user}","gists_url":"https://api.github.com/users/dnicolodi/gists{/gist_id}","starred_url":"https://api.github.com/users/dnicolodi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dnicolodi/subscriptions","organizations_url":"https://api.github.com/users/dnicolodi/orgs","repos_url":"https://api.github.com/users/dnicolodi/repos","events_url":"https://api.github.com/users/dnicolodi/events{/privacy}","received_events_url":"https://api.github.com/users/dnicolodi/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":0,"created_at":"2020-09-18T08:32:39Z","updated_at":"2020-11-21T17:24:20Z","closed_at":"2020-09-19T16:04:18Z","author_association":"COLLABORATOR","type":null,"active_lock_reason":null,"draft":false,"pull_request":{"url":"https://api.github.com/repos/beancount/beancount/pulls/554","html_url":"https://github.com/beancount/beancount/pull/554","diff_url":"https://github.com/beancount/beancount/pull/554.diff","patch_url":"https://github.com/beancount/beancount/pull/554.patch","merged_at":"2020-09-19T16:04:18Z"},"body":"OCD kicking in...","closed_by":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/beancount/beancount/issues/554/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beancount/issues/554/timeline","performed_via_github_app":null,"state_reason":null},{"url":"https://api.github.com/repos/beancount/beancount/issues/553","repository_url":"https://api.github.com/repos/beancount/beancount","labels_url":"https://api.github.com/repos/beancount/beancount/issues/553/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beancount/issues/553/comments","events_url":"https://api.github.com/repos/beancount/beancount/issues/553/events","html_url":"https://github.com/beancount/beancount/pull/553","id":703856699,"node_id":"MDExOlB1bGxSZXF1ZXN0NDg4ODg3NTgy","number":553,"title":"Lexer cleanup","user":{"login":"dnicolodi","id":987145,"node_id":"MDQ6VXNlcjk4NzE0NQ==","avatar_url":"https://avatars.githubusercontent.com/u/987145?v=4","gravatar_id":"","url":"https://api.github.com/users/dnicolodi","html_url":"https://github.com/dnicolodi","followers_url":"https://api.github.com/users/dnicolodi/followers","following_url":"https://api.github.com/users/dnicolodi/following{/other_user}","gists_url":"https://api.github.com/users/dnicolodi/gists{/gist_id}","starred_url":"https://api.github.com/users/dnicolodi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dnicolodi/subscriptions","organizations_url":"https://api.github.com/users/dnicolodi/orgs","repos_url":"https://api.github.com/users/dnicolodi/repos","events_url":"https://api.github.com/users/dnicolodi/events{/privacy}","received_events_url":"https://api.github.com/users/dnicolodi/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":4,"created_at":"2020-09-17T19:35:42Z","updated_at":"2020-11-21T17:23:00Z","closed_at":"2020-10-25T18:56:57Z","author_association":"COLLABORATOR","type":null,"active_lock_reason":null,"draft":false,"pull_request":{"url":"https://api.github.com/repos/beancount/beancount/pulls/553","html_url":"https://github.com/beancount/beancount/pull/553","diff_url":"https://github.com/beancount/beancount/pull/553.diff","patch_url":"https://github.com/beancount/beancount/pull/553.patch","merged_at":"2020-10-25T18:56:57Z"},"body":"Some more simplifications in the parser. Some more steps toward porting the lexer to RE/flex.","closed_by":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/beancount/beancount/issues/553/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beancount/issues/553/timeline","performed_via_github_app":null,"state_reason":null},{"url":"https://api.github.com/repos/beancount/beancount/issues/551","repository_url":"https://api.github.com/repos/beancount/beancount","labels_url":"https://api.github.com/repos/beancount/beancount/issues/551/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beancount/issues/551/comments","events_url":"https://api.github.com/repos/beancount/beancount/issues/551/events","html_url":"https://github.com/beancount/beancount/issues/551","id":695812232,"node_id":"MDU6SXNzdWU2OTU4MTIyMzI=","number":551,"title":"Convert remaining BitBucket links to Github in docs","user":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":2080994777,"node_id":"MDU6TGFiZWwyMDgwOTk0Nzc3","url":"https://api.github.com/repos/beancount/beancount/labels/P1","name":"P1","color":"ff6666","default":false,"description":"High priority, not breaking but hindering or lessening existing functionality"},{"id":2081000198,"node_id":"MDU6TGFiZWwyMDgxMDAwMTk4","url":"https://api.github.com/repos/beancount/beancount/labels/documentation","name":"documentation","color":"ededed","default":true,"description":"Component: Improvements or additions to documentation"}],"state":"closed","locked":false,"assignee":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"assignees":[{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false}],"milestone":null,"comments":5,"created_at":"2020-09-08T12:04:37Z","updated_at":"2020-11-15T15:06:30Z","closed_at":"2020-11-08T04:03:12Z","author_association":"MEMBER","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"These remain, and should be converted to a base of http://github.com/beancount/beancount/tree/v2\r\n```\r\ndocs/beancount_design_doc.md\r\ndocs/beancount_query_language.md\r\ndocs/beancount_scripting_plugins.md\r\ndocs/sharing_expenses_with_beancount.md\r\ndocs/installing_beancount.md\r\ndocs/importing_external_data.md\r\n```\r\n\r\n```\r\n\r\ndocs/beancount_design_doc.md:309:A class is defined in [<span class=\"underline\">beancount.core.amount</span>](https://bitbucket.org/blais/beancount/src/tip/src/python/beancount/core/amount.py) as a simple tuple-like object. Functions exist to perform simple math operations directly on instances of Amount. You can also create Amount instance using `amount.from_string()`, for example:\r\ndocs/beancount_design_doc.md:347:*Units* is an instance of *Amount*, and *Cost* is an instance of *Cost*, or a null value if the commodity is not held at cost. Inventories contain lists of *Position* instances. See its definition in [<span class=\"underline\">beancount.core.position</span>](https://bitbucket.org/blais/beancount/src/tip/src/python/beancount/core/position.py)`.`\r\ndocs/beancount_design_doc.md:361:The Posting type is defined in [<span class=\"underline\">beancount.core.data</span>](https://bitbucket.org/blais/beancount/src/tip/src/python/beancount/core/data.py), along with all the directive types.\r\ndocs/beancount_design_doc.md:373:For testing, you can create initialized instances of Inventory using `inventory.from_string()`. All the inventory code is written in [<span class=\"underline\">beancount.core.inventory</span>](https://bitbucket.org/blais/beancount/src/tip/src/python/beancount/core/inventory.py).\r\ndocs/beancount_design_doc.md:387:These properties are especially true for all the small objects: Amount, Lot, Position, Posting objects, and all the directives types from [<span class=\"underline\">beancount.core.data</span>](https://bitbucket.org/blais/beancount/src/tip/src/python/beancount/core/data.py).\r\ndocs/beancount_design_doc.md:609:-   [<span class=\"underline\">Summarization</span>](http://bitbucket.org/blais/beancount/src/tip/src/python/beancount/ops/summarize.py) operations (open books, close books, clear net income to equity) are all implemented this way, as functional operators on the list of streams. For example, opening the books at a particular date is implemented by summing all balances before a certain date$\r\ndocs/beancount_design_doc.md:613:-   Many types of verifications are also implemented this way; the [<span class=\"underline\">sellgains</span>](https://bitbucket.org/blais/beancount/src/tip/src/python/beancount/plugins/sellgains.py) plugin verifies that non-income balances check against the converted price of postings disregarding the cost. This one does not insert any new directives, but may generate new errors.\r\ndocs/beancount_design_doc.md:644:The [<span class=\"underline\">beancount.loader</span>](https://bitbucket.org/blais/beancount/src/tip/src/python/beancount/loader.py) module orchestrates this processing. **In the code and documents, I’m careful to distinguish between the terms “parsing” and “loading” carefully.** These two concepts are distinct. “Parsing” is only a part of “loading.”\r\ndocs/beancount_design_doc.md:727:-   Some directives contain derived data, e.g. the Balance directive has a “diff\\_amount” field that contains the difference when there is a failure in asserting a balance. This is used to report errors more easily. I probably need to remove these [<span class=\"underline\">exceptions</span>](https://bitbucket.org/blais/beancount/src/24acbceb37aef8ab6bc6f324599fe434b7bad31c/src/python/bean$\r\ndocs/beancount_design_doc.md:733:In order to make it possible to compare directives quickly, we support unique hashing of all directives, that is, from each directive we should be able to produce a short and unique id. We can then use these ids to [<span class=\"underline\">perform set inclusion/exclusion/comparison tests</span>](https://bitbucket.org/blais/beancount/src/tip/src/python/beancount/core/compare.py) for our u$\r\ndocs/beancount_design_doc.md:737:Note that the hashing of directives currently [<span class=\"underline\">does not include user meta-data</span>](https://bitbucket.org/blais/beancount/src/24acbceb37aef8ab6bc6f324599fe434b7bad31c/src/python/beancount/core/compare.py?at=default#cl-14).\r\ndocs/beancount_design_doc.md:762:In order to deal with this thorny problem, I built a kind of accumulator which is used to record all numbers seen from some input and tally statistics about the precisions witnessed for each currency. I call this a [<span class=\"underline\">DisplayContext</span>](https://bitbucket.org/blais/beancount/src/tip/src/python/beancount/core/display_context.py). From this object one can request t$\r\ndocs/beancount_design_doc.md:774:For the purpose of creating hierarchical renderings, I provide a process called a “[<span class=\"underline\">realization</span>](https://bitbucket.org/blais/beancount/src/tip/src/python/beancount/core/realization.py).” A realization is a tree of nodes, each of which contains\r\ndocs/beancount_design_doc.md:784:The nodes are of type “RealAccount,” which is also a dict of its children. All variables of type RealAccount in the codebase are by convention prefixed by “real\\_\\*”. The [<span class=\"underline\">realization</span>](https://bitbucket.org/blais/beancount/src/tip/src/python/beancount/core/realization.py) module provides functions to iterate and produce hierarchical reports on these trees o$\r\ndocs/beancount_design_doc.md:803:One of the important characteristics of bean-web is that it should just be a thin dispatching shell that serves reports generated from the [<span class=\"underline\">beancount.reports</span>](https://bitbucket.org/blais/beancount/src/tip/src/python/beancount/reports/) layer. It used to contain the report rendering code itself, but at some point I began to factor out all the reporting code $\r\n\r\ndocs/beancount_query_language.md:24:Well, we have done that (see the [<span class=\"underline\">bean-sql</span>](https://bitbucket.org/blais/beancount/src/tip/src/python/beancount/scripts/sql.py) script which converts your Beancount ledger into an SQLite database) and the results are not great. Writing queries is painful and carrying out operations on lots that are held at cost is difficult. By taking advantage of a few a$\r\ndocs/beancount_query_language.md:200:However, one reason that our SQL-like client exists in the first place is for its ability to carry out aggregation operations on inventories of positions, the data structures at the core of Beancount, that implements its balancing semantics. Internally, Beancount defines [<span class=\"underline\">Position</span>](https://bitbucket.org/blais/beancount/src/tip/src/python/beancount/core/$\r\ndocs/beancount_query_language.md:285:Note that it is [<span class=\"underline\">exceedingly easy</span>](https://bitbucket.org/blais/beancount/src/5ac80aea64bfd9ee1d7a23b9bf0d875559d91b62/src/python/beancount/query/query_env.py?at=shell) to add new functions to this list. As of December 2014, we are just beginning using the shell widely and we expect to be adding new functions as needed. If you need a function, please add$\r\ndocs/beancount_query_language.md:308:Note: You cannot filter (using a `WHERE` clause) the results of aggregation functions; this requires the implementation offering a `HAVING` clause, and at the moment, [<span class=\"underline\">HAVING filtering is not yet implemented</span>](https://bitbucket.org/blais/beancount/src/de8cf9a6a8).\r\ndocs/beancount_query_language.md:380:The shell provides a few operators designed to facilitate the generation of balance sheets and income statements. The particular methodology used to define these operations should be described in detail in the “[<span class=\"underline\">introduction to double-entry bookkeeping</span>](the_double_entry_counting_method.md)” document that accompanies Beancount and is mostly located in th$\r\ndocs/beancount_query_language.md:648:This document attempts to provide a good high-level summary of the features supported in our query language. However, should you find you need more information, you may take a look at the [<span class=\"underline\">original proposal</span>](http://furius.ca/beancount/doc/proposal-query), or consult the source code under the [<span class=\"underline\">beancount.query</span>](https://githu$\r\n\r\ndocs/beancount_scripting_plugins.md:53:The list of entries generated by this pipeline are of the various types defined in [<span class=\"underline\">beancount.core.data</span>](https://bitbucket.org/blais/beancount/src/tip/src/python/beancount/core/data.py?at=default#cl-12), and in a typical input file, most of them will be of type *Transaction*. Beancount’s own filtering and reporting programs directly process those, and$\r\ndocs/beancount_scripting_plugins.md:94:You then invoke the usual tools provided by Beancount on your input file. The various filters and reports will then operate on the list of entries output by your plugin. Refer to the source code in [<span class=\"underline\">beancount.core</span>](https://bitbucket.org/blais/beancount/src/tip/beancount/core/) for details and examples of how to manipulate entries.\r\ndocs/beancount_scripting_plugins.md:120:At this point you can process the entries as you like, print them out, generate HTML, call out to Python libraries, etc. (I recommend that you use best programming practices and use docstrings on your script and a main function; the script above is meant to be minimal). Once again, refer to the source code in [<span class=\"underline\">beancount.core</span>](https://bitbucket.org/bl$\r\ndocs/beancount_scripting_plugins.md:203:-   [<span class=\"underline\">beancount.core.data</span>](https://bitbucket.org/blais/beancount/src/tip/beancount/core/data.py)\r\ndocs/beancount_scripting_plugins.md:205:-   [<span class=\"underline\">beancount.core.account</span>](https://bitbucket.org/blais/beancount/src/tip/beancount/core/account.py)\r\ndocs/beancount_scripting_plugins.md:207:-   [<span class=\"underline\">beancount.core.number</span>](https://bitbucket.org/blais/beancount/src/tip/beancount/core/number.py)\r\ndocs/beancount_scripting_plugins.md:209:-   [<span class=\"underline\">beancount.core.amount</span>](https://bitbucket.org/blais/beancount/src/tip/beancount/core/amount.py)\r\ndocs/beancount_scripting_plugins.md:211:-   [<span class=\"underline\">beancount.core.position</span>](https://bitbucket.org/blais/beancount/src/tip/beancount/core/position.py)\r\ndocs/beancount_scripting_plugins.md:213:-   [<span class=\"underline\">beancount.core.inventory</span>](https://bitbucket.org/blais/beancount/src/tip/beancount/core/inventory.py)\r\n\r\ndocs/sharing_expenses_with_beancount.md:67:In order to write down all expenses for this trip we will open a brand new Beancount input file. Despite the fact that the expenses will come from each person’s personal accounts, it is useful to think of the trip as a special project, as if it were a separate entity, e.g., a company that exists only for the duration of the trip. The example file we wrote for our trip [<span cl$\r\ndocs/sharing_expenses_with_beancount.md:280:After our trip, I sat down at the computer and typed [<span class=\"underline\">the corresponding Beancount file</span>](http://www.google.com/url?q=http%3A%2F%2Fbitbucket.org%2Fblais%2Fbeancount%2Fsrc%2Ftip%2Fexamples%2Fsharing%2Fcozumel2015.beancount&sa=D&sntz=1&usg=AFQjCNEPaKdOQ8UzCsGwRksl6sbCp6J2ZA). If I had a computer during my vacation I probably would have typed it as we$\r\ndocs/sharing_expenses_with_beancount.md:588:Finally, it will also generate a final balance for each person, which you can use to send final reconciling transfers to each other. Try it now on one of the [<span class=\"underline\">example files</span>](https://bitbucket.org/blais/beancount/src/tip/examples/sharing/) provided with Beancount.\r\ndocs/sharing_expenses_with_beancount.md:593:There is another example file that shows how to share expenses between three participants in [<span class=\"underline\">duxbury2015.beancount</span>](https://bitbucket.org/blais/beancount/src/66e85c8343d8704745ae16cb6ac622f4b6246c3c/examples/sharing/duxbury2015.beancount?at=default&fileviewer=file-view-default). Look to more example files to be introduced over time.\r\n\r\ndocs/installing_beancount.md:17:I’m still working on this Beancount code every weekend these days, so it is very much in active development and evolving, though the great majority of the basic features are basically unchanging. I’ve built an extensive suite of tests so you can consider the “default” branch of the repository as stable. New features are developed in branches and only merged in the “default” branch when fu$\r\ndocs/installing_beancount.md:57:Note, however, that this will install the latest version that was pushed to the [<span class=\"underline\">PyPI repository</span>](https://pypi.python.org/pypi/beancount/) and not the very latest version available from source. Releases to PyPI are made sporadically but frequently enough not to be too far behind. Consult the [<span class=\"underline\">CHANGES file</span>](https://bitbucket.org$\r\ndocs/installing_beancount.md:239:-   Emacs support is [<span class=\"underline\">provided in the distribution</span>](https://bitbucket.org/blais/beancount/src/tip/src/elisp/). See the [<span class=\"underline\">Getting Started</span>](getting_started_with_beancount.md) text for installation instruction.\r\ndocs/installing_beancount.md:254:If you run into any installation problems, [<span class=\"underline\">file a ticket</span>](https://bitbucket.org/blais/beancount/issues), [<span class=\"underline\">email me</span>](mailto:blais@furius.ca), or hit the [<span class=\"underline\">mailing-list</span>](https://groups.google.com/forum/#!forum/beancount).\r\ndocs/installing_beancount.md:259:Normally the [<span class=\"underline\">scripts located under beancount/bin</span>](https://bitbucket.org/blais/beancount/src/tip/bin/) should be automatically installed somewhere in your executable path. For example, you should be able to just run “bean-check” on the command-line.\r\n\r\ndocs/importing_external_data.md:119:1.  [**<span class=\"underline\">bean-identify</span>**](http://bitbucket.org/blais/beancount/src/tip/bin/bean-identify): Given a messy list of downloaded files (e.g. in ~/Downloads), automatically identify which of your configured importers is able to handle them and print them out. This is to be used for debugging and figuring out if your configuration is properly associating a suitab$\r\ndocs/importing_external_data.md:121:2.  [**<span class=\"underline\">bean-extract</span>**](https://bitbucket.org/blais/beancount/src/tip/bin/bean-extract): Extracting transactions and statement date from each file, if at all possible. This produces some Beancount input text to be moved to your input file;\r\ndocs/importing_external_data.md:123:3.  [**<span class=\"underline\">bean-file</span>**](https://bitbucket.org/blais/beancount/src/tip/bin/bean-file): Filing away the downloaded files to a directory hierarchy which mirrors the chart of accounts, for preservation, e.g. in a personal git repo. The filenames are cleaned, the files are moved and an appropriate statement date is prepended to each of them so that Beancount may $\r\ndocs/importing_external_data.md:174:Each of the importers must comply with a particular protocol and implement at least some of its methods. The full detail of this protocol is best found in the source code itself: [<span class=\"underline\">importer.py</span>](https://bitbucket.org/blais/beancount/src/tip/beancount/ingest/importer.py). The tools above will take care of finding the downloads and invoking the appropriate m$\r\ndocs/importing_external_data.md:209:There is some support for automating this process in [<span class=\"underline\">beancount.ingest.regression</span>](https://bitbucket.org/blais/beancount/src/tip/src/python/beancount/ingest/regression.py). What we want is some routine that will list the importer’s package directory, identify the input files which are to be used for testing, and generate a suite of unit tests which compa$\r\ndocs/importing_external_data.md:281:At the moment. Beancount only implements (1). On-disk caching will be implemented later. *Track this [<span class=\"underline\">ticket</span>](https://bitbucket.org/blais/beancount/issues/113/implement-on-disk-caching-of-conversions) for status updates.*\r\ndocs/importing_external_data.md:346:Beyond the documentation above, I cooked up an example importer for a made-up CSV file format for a made-up investment account. See [<span class=\"underline\">this directory</span>](https://bitbucket.org/blais/beancount/src/tip/examples/ingest/office/importers/utrade/).\r\ndocs/importing_external_data.md:348:There’s also an example of an importer which uses an external tool (PDFMiner2) to convert a PDF file to text to identify it and to extract the statement date from it. See [<span class=\"underline\">this directory</span>](https://bitbucket.org/blais/beancount/src/tip/examples/ingest/office/importers/acme/).\r\ndocs/importing_external_data.md:350:Beancount also comes with some very basic generic importers. See [<span class=\"underline\">this directory</span>](https://bitbucket.org/blais/beancount/src/tip/beancount/ingest/importers/).\r\ndocs/importing_external_data.md:417:There once was a first implementation of the process described in this document. The project was called LedgerHub and has been decommissioned in February 2016, rewritten and the resulting code integrated in Beancount itself, into this [<span class=\"underline\">beancount.ingest</span>](https://bitbucket.org/blais/beancount/src/tip/src/python/beancount/ingest/) library. The original proj$\r\n\r\n\r\n\r\n```","closed_by":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/beancount/beancount/issues/551/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beancount/issues/551/timeline","performed_via_github_app":null,"state_reason":"completed"},{"url":"https://api.github.com/repos/beancount/beancount/issues/550","repository_url":"https://api.github.com/repos/beancount/beancount","labels_url":"https://api.github.com/repos/beancount/beancount/issues/550/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beancount/issues/550/comments","events_url":"https://api.github.com/repos/beancount/beancount/issues/550/events","html_url":"https://github.com/beancount/beancount/issues/550","id":694903485,"node_id":"MDU6SXNzdWU2OTQ5MDM0ODU=","number":550,"title":"A lot of unittests tests fail under Windows due to usage of NamedTemporaryFile","user":{"login":"Chary314","id":61437829,"node_id":"MDQ6VXNlcjYxNDM3ODI5","avatar_url":"https://avatars.githubusercontent.com/u/61437829?v=4","gravatar_id":"","url":"https://api.github.com/users/Chary314","html_url":"https://github.com/Chary314","followers_url":"https://api.github.com/users/Chary314/followers","following_url":"https://api.github.com/users/Chary314/following{/other_user}","gists_url":"https://api.github.com/users/Chary314/gists{/gist_id}","starred_url":"https://api.github.com/users/Chary314/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Chary314/subscriptions","organizations_url":"https://api.github.com/users/Chary314/orgs","repos_url":"https://api.github.com/users/Chary314/repos","events_url":"https://api.github.com/users/Chary314/events{/privacy}","received_events_url":"https://api.github.com/users/Chary314/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"open","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":4,"created_at":"2020-09-07T09:21:24Z","updated_at":"2024-02-27T14:27:00Z","closed_at":null,"author_association":"NONE","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"I noticed, that a lot of tests fail under Windows due to usage of NamedTemporaryFile.\r\n\r\ne.g.\r\n```\r\n  File \"C:\\_code\\py\\2009 beancount fix\\beancount\\beancount\\utils\\text_utils_test.py\", line 28, in test_fix_ampersand\r\n    tidy_file = text_utils.entitize_ampersand(input_file.name)\r\n  File \"C:\\_code\\py\\2009 beancount fix\\beancount\\beancount\\utils\\text_utils.py\", line 51, in entitize_ampersand\r\n    with open(filename) as infile:\r\nPermissionError: [Errno 13] Permission denied: 'C:\\\\Users\\\\chary\\\\AppData\\\\Local\\\\Temp\\\\tmpgas9aode'\r\n```\r\n\r\nMost likely it is related to different functionality of **NamedTemporaryFile** under Linux and Windows \r\nAs described [here](https://stackoverflow.com/a/23212515/4432107),  ```NamedTemporaryFile``` actually creates **and opens** the file for you. Unix allows you to open it second time, Windows (starting from NT) apparently not. \r\n\r\nBut I can see in the code, that the usage of  **NamedTemporaryFile** in tests already opens the file, hence operational code does not work later (on Windows)\r\n\r\nE.g.:\r\n[beancount/utils/text_utils_test.py](https://github.com/beancount/beancount/blob/553d097c935fa3312c1c70f2b23713fa581afd6e/beancount/utils/text_utils_test.py#L24)\r\n```python\r\n    def test_fix_ampersand(self):\r\n        #Chary: Temporary file with the name input_file is created and open here \r\n        with tempfile.NamedTemporaryFile('w') as input_file:  \r\n            input_file.write('S&P 500. Some other thing and &entity;')\r\n            input_file.flush()\r\n            # Chary: The name of the temporary file is then gets passed to operational code, whilst the file itself is still open\r\n            # one can try to do a input_file.close() here, but this is not the solution, \r\n            # as NamedTemporaryFile functionality is that file gets deleted immediately on closure \r\n            tidy_file = text_utils.entitize_ampersand(input_file.name) \r\n```\r\n\r\nand then in operational code\r\n[beancount/utils/text_utils.py](https://github.com/beancount/beancount/blob/553d097c935fa3312c1c70f2b23713fa581afd6e/beancount/utils/text_utils.py#L38)\r\n```python\r\ndef entitize_ampersand(filename):\r\n   \"\"\"    \r\n    Chary: some code removed here\r\n   \"\"\"\r\n    # Chary: an attempt to open file again is done here, in operational code. This attempt fails on Windows \r\n    with open(filename) as infile: \r\n```\r\n\r\nApparently it has been recognized, that it is difficult to write a cross-platform code with NamedTemporaryFile and there is an existing enhancement [14243](https://bugs.python.org/issue14243) for python open since 2012\r\n\r\nOne of the possible googled solutions is not to use ```NamedTemporaryFile``` to open the file but only to generate candidate name as  described [here](https://stackoverflow.com/a/26541521/4432107).\r\n\r\nThis will require however to manually take care of deleting file afterwards, which is in the current code a job of a context manager","closed_by":null,"reactions":{"url":"https://api.github.com/repos/beancount/beancount/issues/550/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beancount/issues/550/timeline","performed_via_github_app":null,"state_reason":null},{"url":"https://api.github.com/repos/beancount/beancount/issues/549","repository_url":"https://api.github.com/repos/beancount/beancount","labels_url":"https://api.github.com/repos/beancount/beancount/issues/549/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beancount/issues/549/comments","events_url":"https://api.github.com/repos/beancount/beancount/issues/549/events","html_url":"https://github.com/beancount/beancount/pull/549","id":694161856,"node_id":"MDExOlB1bGxSZXF1ZXN0NDgwNTc4OTgw","number":549,"title":"Lexer cleanup","user":{"login":"dnicolodi","id":987145,"node_id":"MDQ6VXNlcjk4NzE0NQ==","avatar_url":"https://avatars.githubusercontent.com/u/987145?v=4","gravatar_id":"","url":"https://api.github.com/users/dnicolodi","html_url":"https://github.com/dnicolodi","followers_url":"https://api.github.com/users/dnicolodi/followers","following_url":"https://api.github.com/users/dnicolodi/following{/other_user}","gists_url":"https://api.github.com/users/dnicolodi/gists{/gist_id}","starred_url":"https://api.github.com/users/dnicolodi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dnicolodi/subscriptions","organizations_url":"https://api.github.com/users/dnicolodi/orgs","repos_url":"https://api.github.com/users/dnicolodi/repos","events_url":"https://api.github.com/users/dnicolodi/events{/privacy}","received_events_url":"https://api.github.com/users/dnicolodi/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":3,"created_at":"2020-09-05T20:16:59Z","updated_at":"2020-11-21T17:25:20Z","closed_at":"2020-09-17T02:43:19Z","author_association":"COLLABORATOR","type":null,"active_lock_reason":null,"draft":false,"pull_request":{"url":"https://api.github.com/repos/beancount/beancount/pulls/549","html_url":"https://github.com/beancount/beancount/pull/549","diff_url":"https://github.com/beancount/beancount/pull/549.diff","patch_url":"https://github.com/beancount/beancount/pull/549.patch","merged_at":"2020-09-17T02:43:19Z"},"body":"Some trivial cleanups in the parser code. This is a first step toward having the lexer generated by RE/flex.","closed_by":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/beancount/beancount/issues/549/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beancount/issues/549/timeline","performed_via_github_app":null,"state_reason":null},{"url":"https://api.github.com/repos/beancount/beancount/issues/548","repository_url":"https://api.github.com/repos/beancount/beancount","labels_url":"https://api.github.com/repos/beancount/beancount/issues/548/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beancount/issues/548/comments","events_url":"https://api.github.com/repos/beancount/beancount/issues/548/events","html_url":"https://github.com/beancount/beancount/issues/548","id":694045722,"node_id":"MDU6SXNzdWU2OTQwNDU3MjI=","number":548,"title":"Release version 2.3.2","user":{"login":"dnicolodi","id":987145,"node_id":"MDQ6VXNlcjk4NzE0NQ==","avatar_url":"https://avatars.githubusercontent.com/u/987145?v=4","gravatar_id":"","url":"https://api.github.com/users/dnicolodi","html_url":"https://github.com/dnicolodi","followers_url":"https://api.github.com/users/dnicolodi/followers","following_url":"https://api.github.com/users/dnicolodi/following{/other_user}","gists_url":"https://api.github.com/users/dnicolodi/gists{/gist_id}","starred_url":"https://api.github.com/users/dnicolodi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dnicolodi/subscriptions","organizations_url":"https://api.github.com/users/dnicolodi/orgs","repos_url":"https://api.github.com/users/dnicolodi/repos","events_url":"https://api.github.com/users/dnicolodi/events{/privacy}","received_events_url":"https://api.github.com/users/dnicolodi/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":2080996667,"node_id":"MDU6TGFiZWwyMDgwOTk2NjY3","url":"https://api.github.com/repos/beancount/beancount/labels/P0","name":"P0","color":"ff0000","default":false,"description":"Critical priority, breaking changes to current version"}],"state":"closed","locked":false,"assignee":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"assignees":[{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false}],"milestone":null,"comments":1,"created_at":"2020-09-05T09:33:30Z","updated_at":"2020-09-12T23:08:47Z","closed_at":"2020-09-12T23:08:34Z","author_association":"COLLABORATOR","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"I suggest to release version 2.3.2 after #535 is merged. I would have liked to release 2.3.2 with all the parser cleanups I am working on, but the issue preventing compilation on Windows affects more users that I expected. 2.3.1 supposedly fixes some bugs in the handling of non-ascii filenames on Windows, for example #547. It is a pity these fixes cannot readily reach Windows users. Also, we have now infrastructure in place to release binaries on PyPI, making installing on Windows much easier. It would be a nice occasion to test it.","closed_by":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/beancount/beancount/issues/548/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beancount/issues/548/timeline","performed_via_github_app":null,"state_reason":"completed"},{"url":"https://api.github.com/repos/beancount/beancount/issues/547","repository_url":"https://api.github.com/repos/beancount/beancount","labels_url":"https://api.github.com/repos/beancount/beancount/issues/547/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beancount/issues/547/comments","events_url":"https://api.github.com/repos/beancount/beancount/issues/547/events","html_url":"https://github.com/beancount/beancount/issues/547","id":693714508,"node_id":"MDU6SXNzdWU2OTM3MTQ1MDg=","number":547,"title":"Unicode in directories","user":{"login":"wisim","id":70657747,"node_id":"MDQ6VXNlcjcwNjU3NzQ3","avatar_url":"https://avatars.githubusercontent.com/u/70657747?v=4","gravatar_id":"","url":"https://api.github.com/users/wisim","html_url":"https://github.com/wisim","followers_url":"https://api.github.com/users/wisim/followers","following_url":"https://api.github.com/users/wisim/following{/other_user}","gists_url":"https://api.github.com/users/wisim/gists{/gist_id}","starred_url":"https://api.github.com/users/wisim/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wisim/subscriptions","organizations_url":"https://api.github.com/users/wisim/orgs","repos_url":"https://api.github.com/users/wisim/repos","events_url":"https://api.github.com/users/wisim/events{/privacy}","received_events_url":"https://api.github.com/users/wisim/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":3,"created_at":"2020-09-04T22:05:47Z","updated_at":"2020-09-05T13:34:11Z","closed_at":"2020-09-05T13:31:28Z","author_association":"NONE","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"When I execute a commad like this:\r\n\r\n`bean-web D:\\Personal_Files\\accounts\\记账\\test.bean`\r\n\r\nI got an error:\r\n```\r\nINFO    : Reloading...\r\nTraceback (most recent call last):\r\n  File \"d:\\programdata\\miniconda3\\lib\\site-packages\\bottle.py\", line 868, in _handle\r\n    return route.call(**args)\r\n  File \"d:\\programdata\\miniconda3\\lib\\site-packages\\bottle.py\", line 1748, in wrapper\r\n    rv = callback(*a, **ka)\r\n  File \"d:\\programdata\\miniconda3\\lib\\site-packages\\beancount\\web\\web.py\", line 1031, in wrapper\r\n    entries, errors, options_map = loader.load_file(filename)\r\n  File \"d:\\programdata\\miniconda3\\lib\\site-packages\\beancount\\loader.py\", line 89, in load_file\r\n    entries, errors, options_map = _load_file(\r\n  File \"d:\\programdata\\miniconda3\\lib\\site-packages\\beancount\\loader.py\", line 214, in wrapped\r\n    result = function(toplevel_filename, *args, **kw)\r\n  File \"d:\\programdata\\miniconda3\\lib\\site-packages\\beancount\\loader.py\", line 255, in _uncached_load_file\r\n    return _load([(filename, True)], *args, **kw)\r\n  File \"d:\\programdata\\miniconda3\\lib\\site-packages\\beancount\\loader.py\", line 503, in _load\r\n    entries, parse_errors, options_map = _parse_recursive(\r\n  File \"d:\\programdata\\miniconda3\\lib\\site-packages\\beancount\\loader.py\", line 394, in _parse_recursive\r\n    src_options_map) = parser.parse_file(filename, encoding=encoding)\r\n  File \"d:\\programdata\\miniconda3\\lib\\site-packages\\beancount\\parser\\parser.py\", line 197, in parse_file\r\n    _parser.parse_file(filename, builder, **kw)\r\nOSError: Cannot open file 'D:\\Personal_Files\\accounts\\记账\\test.bean'\r\n```\r\n\r\nAnd my beancount version is 2.3.0 ( since 2.3.1 failed building on windows).","closed_by":{"login":"wisim","id":70657747,"node_id":"MDQ6VXNlcjcwNjU3NzQ3","avatar_url":"https://avatars.githubusercontent.com/u/70657747?v=4","gravatar_id":"","url":"https://api.github.com/users/wisim","html_url":"https://github.com/wisim","followers_url":"https://api.github.com/users/wisim/followers","following_url":"https://api.github.com/users/wisim/following{/other_user}","gists_url":"https://api.github.com/users/wisim/gists{/gist_id}","starred_url":"https://api.github.com/users/wisim/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wisim/subscriptions","organizations_url":"https://api.github.com/users/wisim/orgs","repos_url":"https://api.github.com/users/wisim/repos","events_url":"https://api.github.com/users/wisim/events{/privacy}","received_events_url":"https://api.github.com/users/wisim/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/beancount/beancount/issues/547/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beancount/issues/547/timeline","performed_via_github_app":null,"state_reason":"completed"},{"url":"https://api.github.com/repos/beancount/beancount/issues/546","repository_url":"https://api.github.com/repos/beancount/beancount","labels_url":"https://api.github.com/repos/beancount/beancount/issues/546/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beancount/issues/546/comments","events_url":"https://api.github.com/repos/beancount/beancount/issues/546/events","html_url":"https://github.com/beancount/beancount/issues/546","id":692815582,"node_id":"MDU6SXNzdWU2OTI4MTU1ODI=","number":546,"title":"extract a dict importer to table importer fronm CSV.importer","user":{"login":"trim21","id":13553903,"node_id":"MDQ6VXNlcjEzNTUzOTAz","avatar_url":"https://avatars.githubusercontent.com/u/13553903?v=4","gravatar_id":"","url":"https://api.github.com/users/trim21","html_url":"https://github.com/trim21","followers_url":"https://api.github.com/users/trim21/followers","following_url":"https://api.github.com/users/trim21/following{/other_user}","gists_url":"https://api.github.com/users/trim21/gists{/gist_id}","starred_url":"https://api.github.com/users/trim21/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/trim21/subscriptions","organizations_url":"https://api.github.com/users/trim21/orgs","repos_url":"https://api.github.com/users/trim21/repos","events_url":"https://api.github.com/users/trim21/events{/privacy}","received_events_url":"https://api.github.com/users/trim21/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":2,"created_at":"2020-09-04T07:17:10Z","updated_at":"2020-09-05T18:17:25Z","closed_at":"2020-09-05T18:17:25Z","author_association":"CONTRIBUTOR","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"This could also help user to support HTML table or excel.","closed_by":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/beancount/beancount/issues/546/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beancount/issues/546/timeline","performed_via_github_app":null,"state_reason":"completed"},{"url":"https://api.github.com/repos/beancount/beancount/issues/545","repository_url":"https://api.github.com/repos/beancount/beancount","labels_url":"https://api.github.com/repos/beancount/beancount/issues/545/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beancount/issues/545/comments","events_url":"https://api.github.com/repos/beancount/beancount/issues/545/events","html_url":"https://github.com/beancount/beancount/pull/545","id":691466849,"node_id":"MDExOlB1bGxSZXF1ZXN0NDc4MjA5NjAz","number":545,"title":"parser: More MSVC compiler fixes","user":{"login":"dnicolodi","id":987145,"node_id":"MDQ6VXNlcjk4NzE0NQ==","avatar_url":"https://avatars.githubusercontent.com/u/987145?v=4","gravatar_id":"","url":"https://api.github.com/users/dnicolodi","html_url":"https://github.com/dnicolodi","followers_url":"https://api.github.com/users/dnicolodi/followers","following_url":"https://api.github.com/users/dnicolodi/following{/other_user}","gists_url":"https://api.github.com/users/dnicolodi/gists{/gist_id}","starred_url":"https://api.github.com/users/dnicolodi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dnicolodi/subscriptions","organizations_url":"https://api.github.com/users/dnicolodi/orgs","repos_url":"https://api.github.com/users/dnicolodi/repos","events_url":"https://api.github.com/users/dnicolodi/events{/privacy}","received_events_url":"https://api.github.com/users/dnicolodi/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":1,"created_at":"2020-09-02T22:10:01Z","updated_at":"2020-09-03T04:27:33Z","closed_at":"2020-09-03T04:26:44Z","author_association":"COLLABORATOR","type":null,"active_lock_reason":null,"draft":false,"pull_request":{"url":"https://api.github.com/repos/beancount/beancount/pulls/545","html_url":"https://github.com/beancount/beancount/pull/545","diff_url":"https://github.com/beancount/beancount/pull/545.diff","patch_url":"https://github.com/beancount/beancount/pull/545.patch","merged_at":"2020-09-03T04:26:44Z"},"body":"More work-arounds to the broken MSVC handling of __VA_ARGS__. The\r\nsource was compiling but the generated code was most probably not\r\ndoing the right thing.","closed_by":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/beancount/beancount/issues/545/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beancount/issues/545/timeline","performed_via_github_app":null,"state_reason":null},{"url":"https://api.github.com/repos/beancount/beancount/issues/544","repository_url":"https://api.github.com/repos/beancount/beancount","labels_url":"https://api.github.com/repos/beancount/beancount/issues/544/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beancount/issues/544/comments","events_url":"https://api.github.com/repos/beancount/beancount/issues/544/events","html_url":"https://github.com/beancount/beancount/pull/544","id":689634815,"node_id":"MDExOlB1bGxSZXF1ZXN0NDc2NjU4NjI2","number":544,"title":"add a windows deps to enable python-magic","user":{"login":"trim21","id":13553903,"node_id":"MDQ6VXNlcjEzNTUzOTAz","avatar_url":"https://avatars.githubusercontent.com/u/13553903?v=4","gravatar_id":"","url":"https://api.github.com/users/trim21","html_url":"https://github.com/trim21","followers_url":"https://api.github.com/users/trim21/followers","following_url":"https://api.github.com/users/trim21/following{/other_user}","gists_url":"https://api.github.com/users/trim21/gists{/gist_id}","starred_url":"https://api.github.com/users/trim21/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/trim21/subscriptions","organizations_url":"https://api.github.com/users/trim21/orgs","repos_url":"https://api.github.com/users/trim21/repos","events_url":"https://api.github.com/users/trim21/events{/privacy}","received_events_url":"https://api.github.com/users/trim21/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":2,"created_at":"2020-08-31T23:36:47Z","updated_at":"2024-12-04T14:47:11Z","closed_at":"2020-09-02T10:46:57Z","author_association":"CONTRIBUTOR","type":null,"active_lock_reason":null,"draft":false,"pull_request":{"url":"https://api.github.com/repos/beancount/beancount/pulls/544","html_url":"https://github.com/beancount/beancount/pull/544","diff_url":"https://github.com/beancount/beancount/pull/544.diff","patch_url":"https://github.com/beancount/beancount/pull/544.patch","merged_at":null},"body":"This pr enable `python-magic` as wheel is released on pypi, and user don't need to compile it from source.\r\nAnd add `python-magic-bin` package as `python-magic` suggested \r\n\r\n> Windows\r\n>You'll need DLLs for libmagic. @julian-r maintains a pypi package with the DLLs, you can fetch it with:\r\n>\r\n>$ pip install python-magic-bin","closed_by":{"login":"trim21","id":13553903,"node_id":"MDQ6VXNlcjEzNTUzOTAz","avatar_url":"https://avatars.githubusercontent.com/u/13553903?v=4","gravatar_id":"","url":"https://api.github.com/users/trim21","html_url":"https://github.com/trim21","followers_url":"https://api.github.com/users/trim21/followers","following_url":"https://api.github.com/users/trim21/following{/other_user}","gists_url":"https://api.github.com/users/trim21/gists{/gist_id}","starred_url":"https://api.github.com/users/trim21/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/trim21/subscriptions","organizations_url":"https://api.github.com/users/trim21/orgs","repos_url":"https://api.github.com/users/trim21/repos","events_url":"https://api.github.com/users/trim21/events{/privacy}","received_events_url":"https://api.github.com/users/trim21/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/beancount/beancount/issues/544/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beancount/issues/544/timeline","performed_via_github_app":null,"state_reason":null},{"url":"https://api.github.com/repos/beancount/beancount/issues/543","repository_url":"https://api.github.com/repos/beancount/beancount","labels_url":"https://api.github.com/repos/beancount/beancount/issues/543/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beancount/issues/543/comments","events_url":"https://api.github.com/repos/beancount/beancount/issues/543/events","html_url":"https://github.com/beancount/beancount/pull/543","id":688789496,"node_id":"MDExOlB1bGxSZXF1ZXN0NDc1OTYyMTIx","number":543,"title":"parser: Fix compilation with MSVC","user":{"login":"dnicolodi","id":987145,"node_id":"MDQ6VXNlcjk4NzE0NQ==","avatar_url":"https://avatars.githubusercontent.com/u/987145?v=4","gravatar_id":"","url":"https://api.github.com/users/dnicolodi","html_url":"https://github.com/dnicolodi","followers_url":"https://api.github.com/users/dnicolodi/followers","following_url":"https://api.github.com/users/dnicolodi/following{/other_user}","gists_url":"https://api.github.com/users/dnicolodi/gists{/gist_id}","starred_url":"https://api.github.com/users/dnicolodi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dnicolodi/subscriptions","organizations_url":"https://api.github.com/users/dnicolodi/orgs","repos_url":"https://api.github.com/users/dnicolodi/repos","events_url":"https://api.github.com/users/dnicolodi/events{/privacy}","received_events_url":"https://api.github.com/users/dnicolodi/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":0,"created_at":"2020-08-30T20:52:01Z","updated_at":"2020-09-02T15:16:57Z","closed_at":"2020-09-02T15:16:57Z","author_association":"COLLABORATOR","type":null,"active_lock_reason":null,"draft":false,"pull_request":{"url":"https://api.github.com/repos/beancount/beancount/pulls/543","html_url":"https://github.com/beancount/beancount/pull/543","diff_url":"https://github.com/beancount/beancount/pull/543.diff","patch_url":"https://github.com/beancount/beancount/pull/543.patch","merged_at":"2020-09-02T15:16:57Z"},"body":"MSVC has non-standard `__VA_ARGS__` handling and does not support statement expressions. Thanks to @skobes for identifying the problem and pointing to the solutiuon.\r\n\r\nThis is intended as an alternative to #538. I find this way to solve the problem easier to explain.","closed_by":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/beancount/beancount/issues/543/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beancount/issues/543/timeline","performed_via_github_app":null,"state_reason":null},{"url":"https://api.github.com/repos/beancount/beancount/issues/542","repository_url":"https://api.github.com/repos/beancount/beancount","labels_url":"https://api.github.com/repos/beancount/beancount/issues/542/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beancount/issues/542/comments","events_url":"https://api.github.com/repos/beancount/beancount/issues/542/events","html_url":"https://github.com/beancount/beancount/issues/542","id":682050282,"node_id":"MDU6SXNzdWU2ODIwNTAyODI=","number":542,"title":"Adopt pipenv/poetry to make build reproducible ","user":{"login":"yegle","id":146133,"node_id":"MDQ6VXNlcjE0NjEzMw==","avatar_url":"https://avatars.githubusercontent.com/u/146133?v=4","gravatar_id":"","url":"https://api.github.com/users/yegle","html_url":"https://github.com/yegle","followers_url":"https://api.github.com/users/yegle/followers","following_url":"https://api.github.com/users/yegle/following{/other_user}","gists_url":"https://api.github.com/users/yegle/gists{/gist_id}","starred_url":"https://api.github.com/users/yegle/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/yegle/subscriptions","organizations_url":"https://api.github.com/users/yegle/orgs","repos_url":"https://api.github.com/users/yegle/repos","events_url":"https://api.github.com/users/yegle/events{/privacy}","received_events_url":"https://api.github.com/users/yegle/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":1,"created_at":"2020-08-19T18:34:17Z","updated_at":"2020-08-20T04:50:33Z","closed_at":"2020-08-20T04:50:33Z","author_association":"NONE","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"Hi,\r\n\r\nIs there a plan to adopt pipenv/poetry to make the build process reproducible? Or is this a solved problem once v3 uses Bazel?","closed_by":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/beancount/beancount/issues/542/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beancount/issues/542/timeline","performed_via_github_app":null,"state_reason":"completed"},{"url":"https://api.github.com/repos/beancount/beancount/issues/541","repository_url":"https://api.github.com/repos/beancount/beancount","labels_url":"https://api.github.com/repos/beancount/beancount/issues/541/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beancount/issues/541/comments","events_url":"https://api.github.com/repos/beancount/beancount/issues/541/events","html_url":"https://github.com/beancount/beancount/issues/541","id":681202447,"node_id":"MDU6SXNzdWU2ODEyMDI0NDc=","number":541,"title":"Categorization issue with plugin","user":{"login":"jes-carr","id":28097,"node_id":"MDQ6VXNlcjI4MDk3","avatar_url":"https://avatars.githubusercontent.com/u/28097?v=4","gravatar_id":"","url":"https://api.github.com/users/jes-carr","html_url":"https://github.com/jes-carr","followers_url":"https://api.github.com/users/jes-carr/followers","following_url":"https://api.github.com/users/jes-carr/following{/other_user}","gists_url":"https://api.github.com/users/jes-carr/gists{/gist_id}","starred_url":"https://api.github.com/users/jes-carr/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jes-carr/subscriptions","organizations_url":"https://api.github.com/users/jes-carr/orgs","repos_url":"https://api.github.com/users/jes-carr/repos","events_url":"https://api.github.com/users/jes-carr/events{/privacy}","received_events_url":"https://api.github.com/users/jes-carr/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":9,"created_at":"2020-08-18T17:13:42Z","updated_at":"2020-09-17T10:58:39Z","closed_at":"2020-09-17T02:35:15Z","author_association":"NONE","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"I'm working on a new plugin that transfer the cost basis to a different account: https://github.com/jesucarr/beancount_cost_transfer\r\n\r\nIt is a common practice when trading cryptocurrency to transfer the commodity to your own wallet, and then back to the exchange, and it'd be useful to keep the cost basis. It is very tedious to specify the lots manually, but it seems that at the moment it is the only way. \r\n\r\nWithout the plugin I need to do:\r\n\r\n`\r\n\r\n          option \"booking_method\" \"FIFO\"\r\n\r\n          2015-01-01 open Assets:Exchange\r\n          2015-01-01 open Assets:Wallet\r\n          2015-01-01 open Assets:Bank\r\n          2015-01-01 open Expenses:Something\r\n          2015-09-04 * \"Buy some bitcoins\"\r\n            Assets:Exchange       4 BTC {250 USD, 2015-09-04}\r\n            Assets:Bank          -1000.00 USD\r\n          2015-09-05 * \"Buy some more bitcoins\"\r\n            Assets:Exchange       2 BTC {300 USD, 2015-09-05}\r\n            Assets:Bank          -600.00 USD\r\n          2015-09-10 * \"Move to wallet\"\r\n            Assets:Exchange       -5 BTC {}\r\n            Assets:Wallet         4 BTC {250 USD, 2015-09-04}\r\n            Assets:Wallet         1 BTC {300 USD, 2015-09-05} \r\n          2015-09-11 * \"Move to exchange\"\r\n            Assets:Wallet       -5 BTC {}\r\n            Assets:Exchange         4 BTC {250 USD, 2015-09-04}\r\n            Assets:Exchange         1 BTC {300 USD, 2015-09-05} `\r\n\r\nWith the plugin I want to add those augmentations automatically, using the same lots as the reduction:\r\n\r\n`\r\n\r\n          option \"booking_method\" \"FIFO\"\r\n\r\n          2015-01-01 open Assets:Exchange\r\n          2015-01-01 open Assets:Wallet\r\n          2015-01-01 open Assets:Bank\r\n          2015-01-01 open Expenses:Something\r\n          2015-09-04 * \"Buy some bitcoins\"\r\n            Assets:Exchange       4 BTC {250 USD, 2015-09-04}\r\n            Assets:Bank          -1000.00 USD\r\n          2015-09-05 * \"Buy some more bitcoins\"\r\n            Assets:Exchange       2 BTC {300 USD, 2015-09-05}\r\n            Assets:Bank          -600.00 USD\r\n          2015-09-10 C \"Move to wallet\" ; C flags the transaction as cost transfer\r\n            Assets:Exchange       -5 BTC {} \r\n            Assets:Wallet        \r\n          2015-09-11 C \"Move to exchange\"\r\n            Assets:Wallet       -5 BTC {}       \r\n            Assets:Exchange `\r\n\r\nThe \"Move to wallet\" transaction seems to work as expected. However for the \"Move to exchange\" transaction I get the error \"Failed to categorize posting 1\". It seems that it can't find the lots like when the same transactions as output by the plugin are written manually. From the docs I see that the validation is done after the plugins modifications, so I think it shouldn't fail. Is there anything I'm missing?\r\n\r\nYou can replicate just running the test.py provided.\r\n\r\nThank you in advance.\r\n","closed_by":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/beancount/beancount/issues/541/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beancount/issues/541/timeline","performed_via_github_app":null,"state_reason":"completed"},{"url":"https://api.github.com/repos/beancount/beancount/issues/540","repository_url":"https://api.github.com/repos/beancount/beancount","labels_url":"https://api.github.com/repos/beancount/beancount/issues/540/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beancount/issues/540/comments","events_url":"https://api.github.com/repos/beancount/beancount/issues/540/events","html_url":"https://github.com/beancount/beancount/issues/540","id":679697028,"node_id":"MDU6SXNzdWU2Nzk2OTcwMjg=","number":540,"title":"Github project description issue","user":{"login":"pfalcon","id":500451,"node_id":"MDQ6VXNlcjUwMDQ1MQ==","avatar_url":"https://avatars.githubusercontent.com/u/500451?v=4","gravatar_id":"","url":"https://api.github.com/users/pfalcon","html_url":"https://github.com/pfalcon","followers_url":"https://api.github.com/users/pfalcon/followers","following_url":"https://api.github.com/users/pfalcon/following{/other_user}","gists_url":"https://api.github.com/users/pfalcon/gists{/gist_id}","starred_url":"https://api.github.com/users/pfalcon/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pfalcon/subscriptions","organizations_url":"https://api.github.com/users/pfalcon/orgs","repos_url":"https://api.github.com/users/pfalcon/repos","events_url":"https://api.github.com/users/pfalcon/events{/privacy}","received_events_url":"https://api.github.com/users/pfalcon/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":1,"created_at":"2020-08-16T06:08:50Z","updated_at":"2020-08-20T03:57:36Z","closed_at":"2020-08-20T03:57:36Z","author_association":"NONE","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"Background: I'm a fan of both Python and personal finance management, looking forward to get to know any cool projects around. Beancount doesn't help people to get itself discovered.\r\n\r\nThe current description of https://github.com/beancount/beancount (right near-top corner) is \"Official Beancount repository.\" This is what people get in search, etc., and likely pass by. It's only if one scrolls down to the README, one can read \"beancount: Double-Entry Accounting from Text Files\". Well, **that** should be the project description, to let anyone discover what it is at once. Thanks.\r\n\r\n","closed_by":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/beancount/beancount/issues/540/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beancount/issues/540/timeline","performed_via_github_app":null,"state_reason":"completed"},{"url":"https://api.github.com/repos/beancount/beancount/issues/539","repository_url":"https://api.github.com/repos/beancount/beancount","labels_url":"https://api.github.com/repos/beancount/beancount/issues/539/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beancount/issues/539/comments","events_url":"https://api.github.com/repos/beancount/beancount/issues/539/events","html_url":"https://github.com/beancount/beancount/pull/539","id":679621600,"node_id":"MDExOlB1bGxSZXF1ZXN0NDY4MzUwNjYy","number":539,"title":"fix beancount/scripts/setup_test.py::TestSetup::test_sdist_includes_c_files","user":{"login":"trim21","id":13553903,"node_id":"MDQ6VXNlcjEzNTUzOTAz","avatar_url":"https://avatars.githubusercontent.com/u/13553903?v=4","gravatar_id":"","url":"https://api.github.com/users/trim21","html_url":"https://github.com/trim21","followers_url":"https://api.github.com/users/trim21/followers","following_url":"https://api.github.com/users/trim21/following{/other_user}","gists_url":"https://api.github.com/users/trim21/gists{/gist_id}","starred_url":"https://api.github.com/users/trim21/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/trim21/subscriptions","organizations_url":"https://api.github.com/users/trim21/orgs","repos_url":"https://api.github.com/users/trim21/repos","events_url":"https://api.github.com/users/trim21/events{/privacy}","received_events_url":"https://api.github.com/users/trim21/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":1,"created_at":"2020-08-15T18:25:57Z","updated_at":"2024-12-04T14:47:11Z","closed_at":"2020-09-02T15:26:07Z","author_association":"CONTRIBUTOR","type":null,"active_lock_reason":null,"draft":false,"pull_request":{"url":"https://api.github.com/repos/beancount/beancount/pulls/539","html_url":"https://github.com/beancount/beancount/pull/539","diff_url":"https://github.com/beancount/beancount/pull/539.diff","patch_url":"https://github.com/beancount/beancount/pull/539.patch","merged_at":null},"body":"```\r\n=================================== FAILURES ===================================\r\n____________________ TestSetup.test_sdist_includes_c_files _____________________\r\nself = <beancount.scripts.setup_test.TestSetup testMethod=test_sdist_includes_c_files>\r\n    @unittest.skipIf(is_bazel_build(), \"Cannot setup within Bazel.\")\r\n    def test_sdist_includes_c_files(self):\r\n        # Clean previously built \"build\" output.\r\n        rootdir = test_utils.find_repository_root(__file__)\r\n        subprocess.check_call(\r\n            [sys.executable, 'setup.py', 'sdist', '--dist-dir', self.installdir],\r\n            cwd=rootdir, shell=False,\r\n            stdout=subprocess.PIPE, stderr=subprocess.PIPE)\r\n        files = os.listdir(self.installdir)\r\n        self.assertEqual(1, len(files))\r\n        targz = path.join(self.installdir, files[0])\r\n    \r\n        # Find the set of expected header & C files.\r\n        exp_filenames = set()\r\n        for root, dirs, files in os.walk(path.join(rootdir, 'beancount')):\r\n            for filename in files:\r\n                if re.match(r'.*\\.[hc]$', filename):\r\n                    exp_filenames.add(path.join(root[len(rootdir)+1:], filename))\r\n    \r\n        # Find the set of packaged files in the source distribution.\r\n        tar = tarfile.open(targz)\r\n        tar_filenames = set(re.sub('^.*?{}'.format(os.sep), '', info.name)\r\n                            for info in tar\r\n                            if re.match(r'.*\\.[hc]$', info.name))\r\n    \r\n        # Check that all the expected files are present.\r\n>       self.assertLessEqual(exp_filenames, tar_filenames)\r\nE       AssertionError: {'beancount/parser/lexer.c', 'beancount/parser/grammar.h', 'beancount/parser/parser.h', 'beancount/parser/macros.h', 'beancount/defs.h', 'beancount/parser/tokens_test.c', 'beancount/parser/parser.c', 'beancount/parser/grammar.c', 'beancount/parser/lexer.h', 'beancount/parser/tokens.h', 'beancount/ccore/account.h'} not less than or equal to {'beancount/parser/lexer.c', 'beancount/parser/grammar.h', 'beancount/parser/parser.h', 'beancount/parser/tokens_test.c', 'beancount/parser/parser.c', 'beancount/parser/grammar.c', 'beancount/parser/lexer.h', 'beancount/parser/tokens.h', 'beancount/parser/macros.h'}\r\nbeancount/scripts/setup_test.py:161: AssertionError\r\n=========================== short test summary info ============================\r\nFAILED beancount/scripts/setup_test.py::TestSetup::test_sdist_includes_c_files\r\n```\r\n\r\n```console\r\n(.venv) ~/proj/beancount (fix-test_sdist_includes_c_files) # python setup.py sdist|grep defs.h\r\nC:\\Users\\Trim21\\proj\\beancount\\.venv\\lib\\site-packages\\setuptools\\dist.py:454: UserWarning: Normalizing '2.3.2-dev' to '2.3.2.dev0'\r\n  warnings.warn(tmpl.format(**locals()))\r\ncopying beancount\\defs.h -> beancount-2.3.2.dev0\\beancount\r\n```","closed_by":{"login":"trim21","id":13553903,"node_id":"MDQ6VXNlcjEzNTUzOTAz","avatar_url":"https://avatars.githubusercontent.com/u/13553903?v=4","gravatar_id":"","url":"https://api.github.com/users/trim21","html_url":"https://github.com/trim21","followers_url":"https://api.github.com/users/trim21/followers","following_url":"https://api.github.com/users/trim21/following{/other_user}","gists_url":"https://api.github.com/users/trim21/gists{/gist_id}","starred_url":"https://api.github.com/users/trim21/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/trim21/subscriptions","organizations_url":"https://api.github.com/users/trim21/orgs","repos_url":"https://api.github.com/users/trim21/repos","events_url":"https://api.github.com/users/trim21/events{/privacy}","received_events_url":"https://api.github.com/users/trim21/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/beancount/beancount/issues/539/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beancount/issues/539/timeline","performed_via_github_app":null,"state_reason":null},{"url":"https://api.github.com/repos/beancount/beancount/issues/538","repository_url":"https://api.github.com/repos/beancount/beancount","labels_url":"https://api.github.com/repos/beancount/beancount/issues/538/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beancount/issues/538/comments","events_url":"https://api.github.com/repos/beancount/beancount/issues/538/events","html_url":"https://github.com/beancount/beancount/pull/538","id":679419583,"node_id":"MDExOlB1bGxSZXF1ZXN0NDY4MTk3NjM3","number":538,"title":"Fix Windows build.","user":{"login":"skobes-chromium","id":12551735,"node_id":"MDQ6VXNlcjEyNTUxNzM1","avatar_url":"https://avatars.githubusercontent.com/u/12551735?v=4","gravatar_id":"","url":"https://api.github.com/users/skobes-chromium","html_url":"https://github.com/skobes-chromium","followers_url":"https://api.github.com/users/skobes-chromium/followers","following_url":"https://api.github.com/users/skobes-chromium/following{/other_user}","gists_url":"https://api.github.com/users/skobes-chromium/gists{/gist_id}","starred_url":"https://api.github.com/users/skobes-chromium/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/skobes-chromium/subscriptions","organizations_url":"https://api.github.com/users/skobes-chromium/orgs","repos_url":"https://api.github.com/users/skobes-chromium/repos","events_url":"https://api.github.com/users/skobes-chromium/events{/privacy}","received_events_url":"https://api.github.com/users/skobes-chromium/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":12,"created_at":"2020-08-14T21:50:48Z","updated_at":"2020-09-02T22:10:43Z","closed_at":"2020-09-02T15:17:30Z","author_association":"NONE","type":null,"active_lock_reason":null,"draft":false,"pull_request":{"url":"https://api.github.com/repos/beancount/beancount/pulls/538","html_url":"https://github.com/beancount/beancount/pull/538","diff_url":"https://github.com/beancount/beancount/pull/538.diff","patch_url":"https://github.com/beancount/beancount/pull/538.patch","merged_at":null},"body":"MSVC has quirky handling of `__VA_ARGS__`, and does not support statement expressions.","closed_by":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/beancount/beancount/issues/538/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beancount/issues/538/timeline","performed_via_github_app":null,"state_reason":null},{"url":"https://api.github.com/repos/beancount/beancount/issues/537","repository_url":"https://api.github.com/repos/beancount/beancount","labels_url":"https://api.github.com/repos/beancount/beancount/issues/537/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beancount/issues/537/comments","events_url":"https://api.github.com/repos/beancount/beancount/issues/537/events","html_url":"https://github.com/beancount/beancount/pull/537","id":678682203,"node_id":"MDExOlB1bGxSZXF1ZXN0NDY3NTg5NzA2","number":537,"title":"build wheel in github actions","user":{"login":"trim21","id":13553903,"node_id":"MDQ6VXNlcjEzNTUzOTAz","avatar_url":"https://avatars.githubusercontent.com/u/13553903?v=4","gravatar_id":"","url":"https://api.github.com/users/trim21","html_url":"https://github.com/trim21","followers_url":"https://api.github.com/users/trim21/followers","following_url":"https://api.github.com/users/trim21/following{/other_user}","gists_url":"https://api.github.com/users/trim21/gists{/gist_id}","starred_url":"https://api.github.com/users/trim21/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/trim21/subscriptions","organizations_url":"https://api.github.com/users/trim21/orgs","repos_url":"https://api.github.com/users/trim21/repos","events_url":"https://api.github.com/users/trim21/events{/privacy}","received_events_url":"https://api.github.com/users/trim21/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":11,"created_at":"2020-08-13T19:26:33Z","updated_at":"2024-12-04T14:47:12Z","closed_at":"2020-09-04T06:07:12Z","author_association":"CONTRIBUTOR","type":null,"active_lock_reason":null,"draft":false,"pull_request":{"url":"https://api.github.com/repos/beancount/beancount/pulls/537","html_url":"https://github.com/beancount/beancount/pull/537","diff_url":"https://github.com/beancount/beancount/pull/537.diff","patch_url":"https://github.com/beancount/beancount/pull/537.patch","merged_at":"2020-09-04T06:07:12Z"},"body":"looks like it's blocked by #536, workflow shoule work fine if #536 is fixed, see https://test.pypi.org/project/beancount/#files\r\n\r\nYou need to add a github actions secrets named `PYPI_TOKEN`\r\n\r\nThis PR also add a workflow to test if it compile fine on windows https://github.com/beancount/beancount/pull/537/files#diff-6d1ed6f2f15040f1022bb9655a581b0d\r\n\r\nclose #154","closed_by":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/beancount/beancount/issues/537/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beancount/issues/537/timeline","performed_via_github_app":null,"state_reason":null},{"url":"https://api.github.com/repos/beancount/beancount/issues/536","repository_url":"https://api.github.com/repos/beancount/beancount","labels_url":"https://api.github.com/repos/beancount/beancount/issues/536/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beancount/issues/536/comments","events_url":"https://api.github.com/repos/beancount/beancount/issues/536/events","html_url":"https://github.com/beancount/beancount/issues/536","id":678680184,"node_id":"MDU6SXNzdWU2Nzg2ODAxODQ=","number":536,"title":"2.3.1 compile error on windows","user":{"login":"trim21","id":13553903,"node_id":"MDQ6VXNlcjEzNTUzOTAz","avatar_url":"https://avatars.githubusercontent.com/u/13553903?v=4","gravatar_id":"","url":"https://api.github.com/users/trim21","html_url":"https://github.com/trim21","followers_url":"https://api.github.com/users/trim21/followers","following_url":"https://api.github.com/users/trim21/following{/other_user}","gists_url":"https://api.github.com/users/trim21/gists{/gist_id}","starred_url":"https://api.github.com/users/trim21/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/trim21/subscriptions","organizations_url":"https://api.github.com/users/trim21/orgs","repos_url":"https://api.github.com/users/trim21/repos","events_url":"https://api.github.com/users/trim21/events{/privacy}","received_events_url":"https://api.github.com/users/trim21/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":3,"created_at":"2020-08-13T19:23:02Z","updated_at":"2020-09-04T07:06:33Z","closed_at":"2020-09-04T07:06:33Z","author_association":"CONTRIBUTOR","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"I can't install 2.3.1 whether on my computer (python 3.7/3.8 vs 2019) or in github actions\r\n\r\nhttps://github.com/Trim21/beancount/runs/981980757?check_suite_focus=true\r\n\r\n```bash\r\npython setup.py build_ext --compiler=msvc --define YY_NO_UNISTD_H\r\npython setup.py bdist_wheel\r\n```\r\n\r\n```log\r\n\r\n2020-08-13T19:21:08.7088141Z ##[endgroup]\r\n2020-08-13T19:21:09.8754535Z running build_ext\r\n2020-08-13T19:21:09.8766064Z building 'beancount.parser._parser' extension\r\n2020-08-13T19:21:19.5940183Z creating build\r\n2020-08-13T19:21:19.5940767Z creating build\\temp.win-amd64-3.6\r\n2020-08-13T19:21:19.5941741Z creating build\\temp.win-amd64-3.6\\Release\r\n2020-08-13T19:21:19.5943118Z creating build\\temp.win-amd64-3.6\\Release\\beancount\r\n2020-08-13T19:21:19.5949297Z creating build\\temp.win-amd64-3.6\\Release\\beancount\\parser\r\n2020-08-13T19:21:19.5950628Z C:\\Program Files (x86)\\Microsoft Visual Studio\\2019\\Enterprise\\VC\\Tools\\MSVC\\14.26.28801\\bin\\HostX86\\x64\\cl.exe /c /nologo /Ox /W3 /GL /DNDEBUG /MD -DBEANCOUNT_VERSION=2.3.2-dev -DVC_CHANGESET=git:1c5eeb7ee222c7a8812b8213beb7549e2cd17b73 -DVC_TIMESTAMP=1597346409 -DPARSER_SOURCE_HASH=28c3d6f35235f092c3bdca122f210b32 -DYY_NO_UNISTD_H=1 -IC:\\hostedtoolcache\\windows\\Python\\3.6.8\\x64\\include -IC:\\hostedtoolcache\\windows\\Python\\3.6.8\\x64\\include \"-IC:\\Program Files (x86)\\Microsoft Visual Studio\\2019\\Enterprise\\VC\\Tools\\MSVC\\14.26.28801\\ATLMFC\\include\" \"-IC:\\Program Files (x86)\\Microsoft Visual Studio\\2019\\Enterprise\\VC\\Tools\\MSVC\\14.26.28801\\include\" \"-IC:\\Program Files (x86)\\Windows Kits\\NETFXSDK\\4.8\\include\\um\" \"-IC:\\Program Files (x86)\\Windows Kits\\10\\include\\10.0.19041.0\\ucrt\" \"-IC:\\Program Files (x86)\\Windows Kits\\10\\include\\10.0.19041.0\\shared\" \"-IC:\\Program Files (x86)\\Windows Kits\\10\\include\\10.0.19041.0\\um\" \"-IC:\\Program Files (x86)\\Windows Kits\\10\\include\\10.0.19041.0\\winrt\" \"-IC:\\Program Files (x86)\\Windows Kits\\10\\include\\10.0.19041.0\\cppwinrt\" /Tcbeancount/parser/lexer.c /Fobuild\\temp.win-amd64-3.6\\Release\\beancount/parser/lexer.obj -DYY_NO_UNISTD_H\r\n2020-08-13T19:21:20.6311335Z lexer.c\r\n2020-08-13T19:21:22.1620247Z beancount/parser/lexer.l(279): error C2059: syntax error: '{'\r\n2020-08-13T19:21:22.1620625Z beancount/parser/lexer.l(279): error C2143: syntax error: missing ';' before ')'\r\n2020-08-13T19:21:22.1924972Z beancount/parser/lexer.l(298): warning C4003: not enough arguments for function-like macro invocation 'build_STR'\r\n2020-08-13T19:21:22.1927877Z beancount/parser/lexer.l(298): error C2059: syntax error: ')'\r\n2020-08-13T19:21:22.1954370Z beancount/parser/lexer.l(304): warning C4003: not enough arguments for function-like macro invocation 'build_STRING'\r\n2020-08-13T19:21:22.1954910Z beancount/parser/lexer.l(304): error C2059: syntax error: ','\r\n2020-08-13T19:21:22.1967751Z beancount/parser/lexer.l(316): warning C4003: not enough arguments for function-like macro invocation 'build_STR'\r\n2020-08-13T19:21:22.1968527Z beancount/parser/lexer.l(316): error C2059: syntax error: ')'\r\n2020-08-13T19:21:22.1968887Z beancount/parser/lexer.l(322): warning C4003: not enough arguments for function-like macro invocation 'build_STR'\r\n2020-08-13T19:21:22.1969143Z beancount/parser/lexer.l(322): error C2059: syntax error: ')'\r\n2020-08-13T19:21:22.1969428Z beancount/parser/lexer.l(328): warning C4003: not enough arguments for function-like macro invocation 'build_STR'\r\n2020-08-13T19:21:22.1969837Z beancount/parser/lexer.l(328): error C2059: syntax error: ')'\r\n2020-08-13T19:21:22.1970064Z beancount/parser/lexer.l(284): error C2046: illegal case\r\n2020-08-13T19:21:22.1970639Z beancount/parser/lexer.l(290): error C2046: illegal case\r\n2020-08-13T19:21:22.1970891Z beancount/parser/lexer.l(297): error C2046: illegal case\r\n2020-08-13T19:21:22.1971170Z beancount/parser/lexer.l(303): error C2046: illegal case\r\n2020-08-13T19:21:22.1971618Z beancount/parser/lexer.l(309): error C2046: illegal case\r\n2020-08-13T19:21:22.1973061Z beancount/parser/lexer.l(315): error C2046: illegal case\r\n2020-08-13T19:21:22.1973288Z beancount/parser/lexer.l(321): error C2046: illegal case\r\n2020-08-13T19:21:22.1973410Z beancount/parser/lexer.l(327): error C2046: illegal case\r\n2020-08-13T19:21:22.1973524Z beancount/parser/lexer.l(334): error C2046: illegal case\r\n2020-08-13T19:21:22.1973634Z beancount/parser/lexer.l(341): error C2046: illegal case\r\n2020-08-13T19:21:22.1973742Z beancount/parser/lexer.l(342): error C2046: illegal case\r\n2020-08-13T19:21:22.1973852Z beancount/parser/lexer.l(355): error C2046: illegal case\r\n2020-08-13T19:21:22.1973959Z beancount/parser/lexer.l(363): error C2046: illegal case\r\n2020-08-13T19:21:22.1974069Z beancount/parser/lexer.c(1814): error C2046: illegal case\r\n2020-08-13T19:21:22.1974186Z beancount/parser/lexer.c(1937): error C2047: illegal default\r\n2020-08-13T19:21:22.1974305Z beancount/parser/lexer.c(1943): error C2059: syntax error: '}'\r\n2020-08-13T19:21:22.2094943Z beancount/parser/lexer.l(512): warning C4267: '=': conversion from 'size_t' to 'int', possible loss of data\r\n2020-08-13T19:21:23.2700774Z C:\\hostedtoolcache\\windows\\Python\\3.6.8\\x64\\lib\\site-packages\\setuptools\\dist.py:470: UserWarning: Normalizing '2.3.2-dev' to '2.3.2.dev0'\r\n2020-08-13T19:21:23.2701257Z   normalized_version,\r\n2020-08-13T19:21:23.2701623Z error: command 'C:\\\\Program Files (x86)\\\\Microsoft Visual Studio\\\\2019\\\\Enterprise\\\\VC\\\\Tools\\\\MSVC\\\\14.26.28801\\\\bin\\\\HostX86\\\\x64\\\\cl.exe' failed with exit status 2\r\n2020-08-13T19:21:23.6076908Z running bdist_wheel\r\n2020-08-13T19:21:23.6291950Z running build\r\n2020-08-13T19:21:23.6292333Z running build_py\r\n2020-08-13T19:21:24.1124658Z creating build\\lib.win-amd64-3.6\r\n2020-08-13T19:21:24.1125361Z creating build\\lib.win-amd64-3.6\\beancount\r\n2020-08-13T19:21:24.1127896Z copying beancount\\loader.py -> build\\lib.win-amd64-3.6\\beancount\r\n2020-08-13T19:21:24.1134493Z copying beancount\\loader_test.py -> build\\lib.win-amd64-3.6\\beancount\r\n2020-08-13T19:21:24.1140576Z copying beancount\\__init__.py -> build\\lib.win-amd64-3.6\\beancount\r\n2020-08-13T19:21:24.1154009Z creating build\\lib.win-amd64-3.6\\beancount\\core\r\n2020-08-13T19:21:24.1155883Z copying beancount\\core\\account.py -> build\\lib.win-amd64-3.6\\beancount\\core\r\n2020-08-13T19:21:24.1162233Z copying beancount\\core\\account_test.py -> build\\lib.win-amd64-3.6\\beancount\\core\r\n2020-08-13T19:21:24.1168511Z copying beancount\\core\\account_types.py -> build\\lib.win-amd64-3.6\\beancount\\core\r\n2020-08-13T19:21:24.1174457Z copying beancount\\core\\account_types_test.py -> build\\lib.win-amd64-3.6\\beancount\\core\r\n2020-08-13T19:21:24.1183465Z copying beancount\\core\\amount.py -> build\\lib.win-amd64-3.6\\beancount\\core\r\n2020-08-13T19:21:24.1189414Z copying beancount\\core\\amount_test.py -> build\\lib.win-amd64-3.6\\beancount\\core\r\n2020-08-13T19:21:24.1195298Z copying beancount\\core\\compare.py -> build\\lib.win-amd64-3.6\\beancount\\core\r\n2020-08-13T19:21:24.1203008Z copying beancount\\core\\compare_test.py -> build\\lib.win-amd64-3.6\\beancount\\core\r\n2020-08-13T19:21:24.1208583Z copying beancount\\core\\convert.py -> build\\lib.win-amd64-3.6\\beancount\\core\r\n2020-08-13T19:21:24.1215935Z copying beancount\\core\\convert_test.py -> build\\lib.win-amd64-3.6\\beancount\\core\r\n2020-08-13T19:21:24.1218848Z copying beancount\\core\\data.py -> build\\lib.win-amd64-3.6\\beancount\\core\r\n2020-08-13T19:21:24.1225158Z copying beancount\\core\\data_test.py -> build\\lib.win-amd64-3.6\\beancount\\core\r\n2020-08-13T19:21:24.1231412Z copying beancount\\core\\display_context.py -> build\\lib.win-amd64-3.6\\beancount\\core\r\n2020-08-13T19:21:24.1237508Z copying beancount\\core\\display_context_test.py -> build\\lib.win-amd64-3.6\\beancount\\core\r\n2020-08-13T19:21:24.1244230Z copying beancount\\core\\distribution.py -> build\\lib.win-amd64-3.6\\beancount\\core\r\n2020-08-13T19:21:24.1249973Z copying beancount\\core\\distribution_test.py -> build\\lib.win-amd64-3.6\\beancount\\core\r\n2020-08-13T19:21:24.1258495Z copying beancount\\core\\flags.py -> build\\lib.win-amd64-3.6\\beancount\\core\r\n2020-08-13T19:21:24.1267206Z copying beancount\\core\\flags_test.py -> build\\lib.win-amd64-3.6\\beancount\\core\r\n2020-08-13T19:21:24.1273440Z copying beancount\\core\\getters.py -> build\\lib.win-amd64-3.6\\beancount\\core\r\n2020-08-13T19:21:24.1279055Z copying beancount\\core\\getters_test.py -> build\\lib.win-amd64-3.6\\beancount\\core\r\n2020-08-13T19:21:24.1297263Z copying beancount\\core\\interpolate.py -> build\\lib.win-amd64-3.6\\beancount\\core\r\n2020-08-13T19:21:24.1297679Z copying beancount\\core\\interpolate_test.py -> build\\lib.win-amd64-3.6\\beancount\\core\r\n2020-08-13T19:21:24.1383436Z copying beancount\\core\\inventory.py -> build\\lib.win-amd64-3.6\\beancount\\core\r\n2020-08-13T19:21:24.1383981Z copying beancount\\core\\inventory_test.py -> build\\lib.win-amd64-3.6\\beancount\\core\r\n2020-08-13T19:21:24.1384347Z copying beancount\\core\\number.py -> build\\lib.win-amd64-3.6\\beancount\\core\r\n2020-08-13T19:21:24.1384631Z copying beancount\\core\\number_test.py -> build\\lib.win-amd64-3.6\\beancount\\core\r\n2020-08-13T19:21:24.1385032Z copying beancount\\core\\position.py -> build\\lib.win-amd64-3.6\\beancount\\core\r\n2020-08-13T19:21:24.1385254Z copying beancount\\core\\position_test.py -> build\\lib.win-amd64-3.6\\beancount\\core\r\n2020-08-13T19:21:24.1385467Z copying beancount\\core\\prices.py -> build\\lib.win-amd64-3.6\\beancount\\core\r\n2020-08-13T19:21:24.1385676Z copying beancount\\core\\prices_test.py -> build\\lib.win-amd64-3.6\\beancount\\core\r\n2020-08-13T19:21:24.1385887Z copying beancount\\core\\realization.py -> build\\lib.win-amd64-3.6\\beancount\\core\r\n2020-08-13T19:21:24.1386103Z copying beancount\\core\\realization_test.py -> build\\lib.win-amd64-3.6\\beancount\\core\r\n2020-08-13T19:21:24.1386312Z copying beancount\\core\\__init__.py -> build\\lib.win-amd64-3.6\\beancount\\core\r\n2020-08-13T19:21:24.1386518Z creating build\\lib.win-amd64-3.6\\beancount\\ingest\r\n2020-08-13T19:21:24.1402046Z copying beancount\\ingest\\cache.py -> build\\lib.win-amd64-3.6\\beancount\\ingest\r\n2020-08-13T19:21:24.1418110Z copying beancount\\ingest\\cache_test.py -> build\\lib.win-amd64-3.6\\beancount\\ingest\r\n2020-08-13T19:21:24.1418699Z copying beancount\\ingest\\extract.py -> build\\lib.win-amd64-3.6\\beancount\\ingest\r\n2020-08-13T19:21:24.1418955Z copying beancount\\ingest\\extract_test.py -> build\\lib.win-amd64-3.6\\beancount\\ingest\r\n2020-08-13T19:21:24.1419185Z copying beancount\\ingest\\file.py -> build\\lib.win-amd64-3.6\\beancount\\ingest\r\n2020-08-13T19:21:24.1432747Z copying beancount\\ingest\\file_test.py -> build\\lib.win-amd64-3.6\\beancount\\ingest\r\n2020-08-13T19:21:24.1439630Z copying beancount\\ingest\\identify.py -> build\\lib.win-amd64-3.6\\beancount\\ingest\r\n2020-08-13T19:21:24.1445569Z copying beancount\\ingest\\identify_test.py -> build\\lib.win-amd64-3.6\\beancount\\ingest\r\n2020-08-13T19:21:24.1451565Z copying beancount\\ingest\\importer.py -> build\\lib.win-amd64-3.6\\beancount\\ingest\r\n2020-08-13T19:21:24.1457137Z copying beancount\\ingest\\importer_test.py -> build\\lib.win-amd64-3.6\\beancount\\ingest\r\n2020-08-13T19:21:24.1463489Z copying beancount\\ingest\\regression.py -> build\\lib.win-amd64-3.6\\beancount\\ingest\r\n2020-08-13T19:21:24.1468996Z copying beancount\\ingest\\regression_pytest.py -> build\\lib.win-amd64-3.6\\beancount\\ingest\r\n2020-08-13T19:21:24.1474015Z copying beancount\\ingest\\regression_test.py -> build\\lib.win-amd64-3.6\\beancount\\ingest\r\n2020-08-13T19:21:24.1480322Z copying beancount\\ingest\\scripts_utils.py -> build\\lib.win-amd64-3.6\\beancount\\ingest\r\n2020-08-13T19:21:24.1491040Z copying beancount\\ingest\\scripts_utils_test.py -> build\\lib.win-amd64-3.6\\beancount\\ingest\r\n2020-08-13T19:21:24.1497121Z copying beancount\\ingest\\similar.py -> build\\lib.win-amd64-3.6\\beancount\\ingest\r\n2020-08-13T19:21:24.1503091Z copying beancount\\ingest\\similar_test.py -> build\\lib.win-amd64-3.6\\beancount\\ingest\r\n2020-08-13T19:21:24.1508611Z copying beancount\\ingest\\__init__.py -> build\\lib.win-amd64-3.6\\beancount\\ingest\r\n2020-08-13T19:21:24.1518026Z creating build\\lib.win-amd64-3.6\\beancount\\ops\r\n2020-08-13T19:21:24.1519947Z copying beancount\\ops\\balance.py -> build\\lib.win-amd64-3.6\\beancount\\ops\r\n2020-08-13T19:21:24.1527522Z copying beancount\\ops\\balance_test.py -> build\\lib.win-amd64-3.6\\beancount\\ops\r\n2020-08-13T19:21:24.1533719Z copying beancount\\ops\\basicops.py -> build\\lib.win-amd64-3.6\\beancount\\ops\r\n2020-08-13T19:21:24.1539854Z copying beancount\\ops\\basicops_test.py -> build\\lib.win-amd64-3.6\\beancount\\ops\r\n2020-08-13T19:21:24.1546253Z copying beancount\\ops\\compress.py -> build\\lib.win-amd64-3.6\\beancount\\ops\r\n2020-08-13T19:21:24.1556921Z copying beancount\\ops\\compress_test.py -> build\\lib.win-amd64-3.6\\beancount\\ops\r\n2020-08-13T19:21:24.1563447Z copying beancount\\ops\\documents.py -> build\\lib.win-amd64-3.6\\beancount\\ops\r\n2020-08-13T19:21:24.1569764Z copying beancount\\ops\\documents_test.py -> build\\lib.win-amd64-3.6\\beancount\\ops\r\n2020-08-13T19:21:24.1576060Z copying beancount\\ops\\find_prices.py -> build\\lib.win-amd64-3.6\\beancount\\ops\r\n2020-08-13T19:21:24.1581950Z copying beancount\\ops\\find_prices_test.py -> build\\lib.win-amd64-3.6\\beancount\\ops\r\n2020-08-13T19:21:24.1587445Z copying beancount\\ops\\holdings.py -> build\\lib.win-amd64-3.6\\beancount\\ops\r\n2020-08-13T19:21:24.1594188Z copying beancount\\ops\\holdings_test.py -> build\\lib.win-amd64-3.6\\beancount\\ops\r\n2020-08-13T19:21:24.1601705Z copying beancount\\ops\\lifetimes.py -> build\\lib.win-amd64-3.6\\beancount\\ops\r\n2020-08-13T19:21:24.1607262Z copying beancount\\ops\\lifetimes_test.py -> build\\lib.win-amd64-3.6\\beancount\\ops\r\n2020-08-13T19:21:24.1613660Z copying beancount\\ops\\pad.py -> build\\lib.win-amd64-3.6\\beancount\\ops\r\n2020-08-13T19:21:24.1619034Z copying beancount\\ops\\pad_test.py -> build\\lib.win-amd64-3.6\\beancount\\ops\r\n2020-08-13T19:21:24.1625020Z copying beancount\\ops\\summarize.py -> build\\lib.win-amd64-3.6\\beancount\\ops\r\n2020-08-13T19:21:24.1632415Z copying beancount\\ops\\summarize_test.py -> build\\lib.win-amd64-3.6\\beancount\\ops\r\n2020-08-13T19:21:24.1640941Z copying beancount\\ops\\validation.py -> build\\lib.win-amd64-3.6\\beancount\\ops\r\n2020-08-13T19:21:24.1647485Z copying beancount\\ops\\validation_test.py -> build\\lib.win-amd64-3.6\\beancount\\ops\r\n2020-08-13T19:21:24.1653861Z copying beancount\\ops\\__init__.py -> build\\lib.win-amd64-3.6\\beancount\\ops\r\n2020-08-13T19:21:24.1665679Z creating build\\lib.win-amd64-3.6\\beancount\\parser\r\n2020-08-13T19:21:24.1668215Z copying beancount\\parser\\booking.py -> build\\lib.win-amd64-3.6\\beancount\\parser\r\n2020-08-13T19:21:24.1674059Z copying beancount\\parser\\booking_full.py -> build\\lib.win-amd64-3.6\\beancount\\parser\r\n2020-08-13T19:21:24.1681971Z copying beancount\\parser\\booking_full_test.py -> build\\lib.win-amd64-3.6\\beancount\\parser\r\n2020-08-13T19:21:24.1690733Z copying beancount\\parser\\booking_method.py -> build\\lib.win-amd64-3.6\\beancount\\parser\r\n2020-08-13T19:21:24.1704021Z copying beancount\\parser\\booking_method_test.py -> build\\lib.win-amd64-3.6\\beancount\\parser\r\n2020-08-13T19:21:24.1709884Z copying beancount\\parser\\booking_test.py -> build\\lib.win-amd64-3.6\\beancount\\parser\r\n2020-08-13T19:21:24.1716010Z copying beancount\\parser\\cmptest.py -> build\\lib.win-amd64-3.6\\beancount\\parser\r\n2020-08-13T19:21:24.1721992Z copying beancount\\parser\\cmptest_test.py -> build\\lib.win-amd64-3.6\\beancount\\parser\r\n2020-08-13T19:21:24.1728248Z copying beancount\\parser\\context.py -> build\\lib.win-amd64-3.6\\beancount\\parser\r\n2020-08-13T19:21:24.1733859Z copying beancount\\parser\\context_test.py -> build\\lib.win-amd64-3.6\\beancount\\parser\r\n2020-08-13T19:21:24.1740015Z copying beancount\\parser\\grammar.py -> build\\lib.win-amd64-3.6\\beancount\\parser\r\n2020-08-13T19:21:24.1746675Z copying beancount\\parser\\grammar_test.py -> build\\lib.win-amd64-3.6\\beancount\\parser\r\n2020-08-13T19:21:24.1756603Z copying beancount\\parser\\hashsrc.py -> build\\lib.win-amd64-3.6\\beancount\\parser\r\n2020-08-13T19:21:24.1763297Z copying beancount\\parser\\hashsrc_test.py -> build\\lib.win-amd64-3.6\\beancount\\parser\r\n2020-08-13T19:21:24.1770832Z copying beancount\\parser\\lexer.py -> build\\lib.win-amd64-3.6\\beancount\\parser\r\n2020-08-13T19:21:24.1774583Z copying beancount\\parser\\lexer_test.py -> build\\lib.win-amd64-3.6\\beancount\\parser\r\n2020-08-13T19:21:24.1782537Z copying beancount\\parser\\options.py -> build\\lib.win-amd64-3.6\\beancount\\parser\r\n2020-08-13T19:21:24.1790102Z copying beancount\\parser\\options_test.py -> build\\lib.win-amd64-3.6\\beancount\\parser\r\n2020-08-13T19:21:24.1798471Z copying beancount\\parser\\parser.py -> build\\lib.win-amd64-3.6\\beancount\\parser\r\n2020-08-13T19:21:24.1805752Z copying beancount\\parser\\parser_test.py -> build\\lib.win-amd64-3.6\\beancount\\parser\r\n2020-08-13T19:21:24.1818236Z copying beancount\\parser\\printer.py -> build\\lib.win-amd64-3.6\\beancount\\parser\r\n2020-08-13T19:21:24.1829404Z copying beancount\\parser\\printer_test.py -> build\\lib.win-amd64-3.6\\beancount\\parser\r\n2020-08-13T19:21:24.1837885Z copying beancount\\parser\\version.py -> build\\lib.win-amd64-3.6\\beancount\\parser\r\n2020-08-13T19:21:24.1843120Z copying beancount\\parser\\version_test.py -> build\\lib.win-amd64-3.6\\beancount\\parser\r\n2020-08-13T19:21:24.1853866Z copying beancount\\parser\\__init__.py -> build\\lib.win-amd64-3.6\\beancount\\parser\r\n2020-08-13T19:21:24.1876210Z creating build\\lib.win-amd64-3.6\\beancount\\plugins\r\n2020-08-13T19:21:24.1883669Z copying beancount\\plugins\\auto.py -> build\\lib.win-amd64-3.6\\beancount\\plugins\r\n2020-08-13T19:21:24.1894339Z copying beancount\\plugins\\auto_accounts.py -> build\\lib.win-amd64-3.6\\beancount\\plugins\r\n2020-08-13T19:21:24.1902428Z copying beancount\\plugins\\auto_accounts_test.py -> build\\lib.win-amd64-3.6\\beancount\\plugins\r\n2020-08-13T19:21:24.1908184Z copying beancount\\plugins\\auto_test.py -> build\\lib.win-amd64-3.6\\beancount\\plugins\r\n2020-08-13T19:21:24.1917285Z copying beancount\\plugins\\book_conversions.py -> build\\lib.win-amd64-3.6\\beancount\\plugins\r\n2020-08-13T19:21:24.1923481Z copying beancount\\plugins\\book_conversions_test.py -> build\\lib.win-amd64-3.6\\beancount\\plugins\r\n2020-08-13T19:21:24.1932481Z copying beancount\\plugins\\check_average_cost.py -> build\\lib.win-amd64-3.6\\beancount\\plugins\r\n2020-08-13T19:21:24.1938477Z copying beancount\\plugins\\check_average_cost_test.py -> build\\lib.win-amd64-3.6\\beancount\\plugins\r\n2020-08-13T19:21:24.1943856Z copying beancount\\plugins\\check_closing.py -> build\\lib.win-amd64-3.6\\beancount\\plugins\r\n2020-08-13T19:21:24.1950949Z copying beancount\\plugins\\check_closing_test.py -> build\\lib.win-amd64-3.6\\beancount\\plugins\r\n2020-08-13T19:21:24.1957436Z copying beancount\\plugins\\check_commodity.py -> build\\lib.win-amd64-3.6\\beancount\\plugins\r\n2020-08-13T19:21:24.1963760Z copying beancount\\plugins\\check_commodity_test.py -> build\\lib.win-amd64-3.6\\beancount\\plugins\r\n2020-08-13T19:21:24.1969899Z copying beancount\\plugins\\coherent_cost.py -> build\\lib.win-amd64-3.6\\beancount\\plugins\r\n2020-08-13T19:21:24.1975776Z copying beancount\\plugins\\coherent_cost_test.py -> build\\lib.win-amd64-3.6\\beancount\\plugins\r\n2020-08-13T19:21:24.1981494Z copying beancount\\plugins\\commodity_attr.py -> build\\lib.win-amd64-3.6\\beancount\\plugins\r\n2020-08-13T19:21:24.1987295Z copying beancount\\plugins\\commodity_attr_test.py -> build\\lib.win-amd64-3.6\\beancount\\plugins\r\n2020-08-13T19:21:24.1992834Z copying beancount\\plugins\\currency_accounts.py -> build\\lib.win-amd64-3.6\\beancount\\plugins\r\n2020-08-13T19:21:24.1999356Z copying beancount\\plugins\\currency_accounts_test.py -> build\\lib.win-amd64-3.6\\beancount\\plugins\r\n2020-08-13T19:21:24.2005082Z copying beancount\\plugins\\divert_expenses.py -> build\\lib.win-amd64-3.6\\beancount\\plugins\r\n2020-08-13T19:21:24.2022231Z copying beancount\\plugins\\divert_expenses_test.py -> build\\lib.win-amd64-3.6\\beancount\\plugins\r\n2020-08-13T19:21:24.2027776Z copying beancount\\plugins\\exclude_tag.py -> build\\lib.win-amd64-3.6\\beancount\\plugins\r\n2020-08-13T19:21:24.2033012Z copying beancount\\plugins\\exclude_tag_test.py -> build\\lib.win-amd64-3.6\\beancount\\plugins\r\n2020-08-13T19:21:24.2038889Z copying beancount\\plugins\\fill_account.py -> build\\lib.win-amd64-3.6\\beancount\\plugins\r\n2020-08-13T19:21:24.2043963Z copying beancount\\plugins\\fill_account_test.py -> build\\lib.win-amd64-3.6\\beancount\\plugins\r\n2020-08-13T19:21:24.2050035Z copying beancount\\plugins\\fix_payees.py -> build\\lib.win-amd64-3.6\\beancount\\plugins\r\n2020-08-13T19:21:24.2055734Z copying beancount\\plugins\\fix_payees_test.py -> build\\lib.win-amd64-3.6\\beancount\\plugins\r\n2020-08-13T19:21:24.2062339Z copying beancount\\plugins\\forecast.py -> build\\lib.win-amd64-3.6\\beancount\\plugins\r\n2020-08-13T19:21:24.2067559Z copying beancount\\plugins\\forecast_test.py -> build\\lib.win-amd64-3.6\\beancount\\plugins\r\n2020-08-13T19:21:24.2076099Z copying beancount\\plugins\\implicit_prices.py -> build\\lib.win-amd64-3.6\\beancount\\plugins\r\n2020-08-13T19:21:24.2082165Z copying beancount\\plugins\\implicit_prices_test.py -> build\\lib.win-amd64-3.6\\beancount\\plugins\r\n2020-08-13T19:21:24.2087544Z copying beancount\\plugins\\ira_contribs.py -> build\\lib.win-amd64-3.6\\beancount\\plugins\r\n2020-08-13T19:21:24.2094761Z copying beancount\\plugins\\ira_contribs_test.py -> build\\lib.win-amd64-3.6\\beancount\\plugins\r\n2020-08-13T19:21:24.2100747Z copying beancount\\plugins\\leafonly.py -> build\\lib.win-amd64-3.6\\beancount\\plugins\r\n2020-08-13T19:21:24.2110706Z copying beancount\\plugins\\leafonly_test.py -> build\\lib.win-amd64-3.6\\beancount\\plugins\r\n2020-08-13T19:21:24.2119297Z copying beancount\\plugins\\mark_unverified.py -> build\\lib.win-amd64-3.6\\beancount\\plugins\r\n2020-08-13T19:21:24.2129324Z copying beancount\\plugins\\mark_unverified_test.py -> build\\lib.win-amd64-3.6\\beancount\\plugins\r\n2020-08-13T19:21:24.2135504Z copying beancount\\plugins\\merge_meta.py -> build\\lib.win-amd64-3.6\\beancount\\plugins\r\n2020-08-13T19:21:24.2143009Z copying beancount\\plugins\\merge_meta_test.py -> build\\lib.win-amd64-3.6\\beancount\\plugins\r\n2020-08-13T19:21:24.2152030Z copying beancount\\plugins\\noduplicates.py -> build\\lib.win-amd64-3.6\\beancount\\plugins\r\n2020-08-13T19:21:24.2162313Z copying beancount\\plugins\\noduplicates_test.py -> build\\lib.win-amd64-3.6\\beancount\\plugins\r\n2020-08-13T19:21:24.2170096Z copying beancount\\plugins\\nounused.py -> build\\lib.win-amd64-3.6\\beancount\\plugins\r\n2020-08-13T19:21:24.2175930Z copying beancount\\plugins\\nounused_test.py -> build\\lib.win-amd64-3.6\\beancount\\plugins\r\n2020-08-13T19:21:24.2182621Z copying beancount\\plugins\\onecommodity.py -> build\\lib.win-amd64-3.6\\beancount\\plugins\r\n2020-08-13T19:21:24.2188739Z copying beancount\\plugins\\onecommodity_test.py -> build\\lib.win-amd64-3.6\\beancount\\plugins\r\n2020-08-13T19:21:24.2194031Z copying beancount\\plugins\\pedantic.py -> build\\lib.win-amd64-3.6\\beancount\\plugins\r\n2020-08-13T19:21:24.2200079Z copying beancount\\plugins\\pedantic_test.py -> build\\lib.win-amd64-3.6\\beancount\\plugins\r\n2020-08-13T19:21:24.2205819Z copying beancount\\plugins\\sellgains.py -> build\\lib.win-amd64-3.6\\beancount\\plugins\r\n2020-08-13T19:21:24.2211810Z copying beancount\\plugins\\sellgains_test.py -> build\\lib.win-amd64-3.6\\beancount\\plugins\r\n2020-08-13T19:21:24.2218673Z copying beancount\\plugins\\split_expenses.py -> build\\lib.win-amd64-3.6\\beancount\\plugins\r\n2020-08-13T19:21:24.2226318Z copying beancount\\plugins\\split_expenses_test.py -> build\\lib.win-amd64-3.6\\beancount\\plugins\r\n2020-08-13T19:21:24.2232516Z copying beancount\\plugins\\tag_pending.py -> build\\lib.win-amd64-3.6\\beancount\\plugins\r\n2020-08-13T19:21:24.2238353Z copying beancount\\plugins\\tag_pending_test.py -> build\\lib.win-amd64-3.6\\beancount\\plugins\r\n2020-08-13T19:21:24.2245087Z copying beancount\\plugins\\unique_prices.py -> build\\lib.win-amd64-3.6\\beancount\\plugins\r\n2020-08-13T19:21:24.2250410Z copying beancount\\plugins\\unique_prices_test.py -> build\\lib.win-amd64-3.6\\beancount\\plugins\r\n2020-08-13T19:21:24.2256223Z copying beancount\\plugins\\unrealized.py -> build\\lib.win-amd64-3.6\\beancount\\plugins\r\n2020-08-13T19:21:24.2263397Z copying beancount\\plugins\\unrealized_test.py -> build\\lib.win-amd64-3.6\\beancount\\plugins\r\n2020-08-13T19:21:24.2273797Z copying beancount\\plugins\\__init__.py -> build\\lib.win-amd64-3.6\\beancount\\plugins\r\n2020-08-13T19:21:24.2281754Z creating build\\lib.win-amd64-3.6\\beancount\\projects\r\n2020-08-13T19:21:24.2283586Z copying beancount\\projects\\export.py -> build\\lib.win-amd64-3.6\\beancount\\projects\r\n2020-08-13T19:21:24.2293155Z copying beancount\\projects\\export_test.py -> build\\lib.win-amd64-3.6\\beancount\\projects\r\n2020-08-13T19:21:24.2300249Z copying beancount\\projects\\will.py -> build\\lib.win-amd64-3.6\\beancount\\projects\r\n2020-08-13T19:21:24.2309220Z copying beancount\\projects\\will_test.py -> build\\lib.win-amd64-3.6\\beancount\\projects\r\n2020-08-13T19:21:24.2315584Z copying beancount\\projects\\__init__.py -> build\\lib.win-amd64-3.6\\beancount\\projects\r\n2020-08-13T19:21:24.2332338Z creating build\\lib.win-amd64-3.6\\beancount\\query\r\n2020-08-13T19:21:24.2335190Z copying beancount\\query\\numberify.py -> build\\lib.win-amd64-3.6\\beancount\\query\r\n2020-08-13T19:21:24.2346143Z copying beancount\\query\\numberify_test.py -> build\\lib.win-amd64-3.6\\beancount\\query\r\n2020-08-13T19:21:24.2351702Z copying beancount\\query\\query.py -> build\\lib.win-amd64-3.6\\beancount\\query\r\n2020-08-13T19:21:24.2357099Z copying beancount\\query\\query_compile.py -> build\\lib.win-amd64-3.6\\beancount\\query\r\n2020-08-13T19:21:24.2367601Z copying beancount\\query\\query_compile_test.py -> build\\lib.win-amd64-3.6\\beancount\\query\r\n2020-08-13T19:21:24.2374414Z copying beancount\\query\\query_env.py -> build\\lib.win-amd64-3.6\\beancount\\query\r\n2020-08-13T19:21:24.2385903Z copying beancount\\query\\query_env_test.py -> build\\lib.win-amd64-3.6\\beancount\\query\r\n2020-08-13T19:21:24.2393676Z copying beancount\\query\\query_execute.py -> build\\lib.win-amd64-3.6\\beancount\\query\r\n2020-08-13T19:21:24.2399486Z copying beancount\\query\\query_execute_test.py -> build\\lib.win-amd64-3.6\\beancount\\query\r\n2020-08-13T19:21:24.2405920Z copying beancount\\query\\query_parser.py -> build\\lib.win-amd64-3.6\\beancount\\query\r\n2020-08-13T19:21:24.2442224Z copying beancount\\query\\query_parser_test.py -> build\\lib.win-amd64-3.6\\beancount\\query\r\n2020-08-13T19:21:24.2442706Z copying beancount\\query\\query_render.py -> build\\lib.win-amd64-3.6\\beancount\\query\r\n2020-08-13T19:21:24.2442998Z copying beancount\\query\\query_render_test.py -> build\\lib.win-amd64-3.6\\beancount\\query\r\n2020-08-13T19:21:24.2443254Z copying beancount\\query\\query_test.py -> build\\lib.win-amd64-3.6\\beancount\\query\r\n2020-08-13T19:21:24.2443501Z copying beancount\\query\\shell.py -> build\\lib.win-amd64-3.6\\beancount\\query\r\n2020-08-13T19:21:24.2443802Z copying beancount\\query\\shell_test.py -> build\\lib.win-amd64-3.6\\beancount\\query\r\n2020-08-13T19:21:24.2449146Z copying beancount\\query\\__init__.py -> build\\lib.win-amd64-3.6\\beancount\\query\r\n2020-08-13T19:21:24.2458611Z creating build\\lib.win-amd64-3.6\\beancount\\scripts\r\n2020-08-13T19:21:24.2460627Z copying beancount\\scripts\\check.py -> build\\lib.win-amd64-3.6\\beancount\\scripts\r\n2020-08-13T19:21:24.2465946Z copying beancount\\scripts\\check_examples_test.py -> build\\lib.win-amd64-3.6\\beancount\\scripts\r\n2020-08-13T19:21:24.2470982Z copying beancount\\scripts\\check_test.py -> build\\lib.win-amd64-3.6\\beancount\\scripts\r\n2020-08-13T19:21:24.2476306Z copying beancount\\scripts\\deps.py -> build\\lib.win-amd64-3.6\\beancount\\scripts\r\n2020-08-13T19:21:24.2481123Z copying beancount\\scripts\\deps_test.py -> build\\lib.win-amd64-3.6\\beancount\\scripts\r\n2020-08-13T19:21:24.2491190Z copying beancount\\scripts\\directories.py -> build\\lib.win-amd64-3.6\\beancount\\scripts\r\n2020-08-13T19:21:24.2496706Z copying beancount\\scripts\\directories_test.py -> build\\lib.win-amd64-3.6\\beancount\\scripts\r\n2020-08-13T19:21:24.2502123Z copying beancount\\scripts\\doctor.py -> build\\lib.win-amd64-3.6\\beancount\\scripts\r\n2020-08-13T19:21:24.2507280Z copying beancount\\scripts\\doctor_test.py -> build\\lib.win-amd64-3.6\\beancount\\scripts\r\n2020-08-13T19:21:24.2512329Z copying beancount\\scripts\\example.py -> build\\lib.win-amd64-3.6\\beancount\\scripts\r\n2020-08-13T19:21:24.2519237Z copying beancount\\scripts\\example_test.py -> build\\lib.win-amd64-3.6\\beancount\\scripts\r\n2020-08-13T19:21:24.2524338Z copying beancount\\scripts\\format.py -> build\\lib.win-amd64-3.6\\beancount\\scripts\r\n2020-08-13T19:21:24.2530614Z copying beancount\\scripts\\format_test.py -> build\\lib.win-amd64-3.6\\beancount\\scripts\r\n2020-08-13T19:21:24.2537318Z copying beancount\\scripts\\setup_test.py -> build\\lib.win-amd64-3.6\\beancount\\scripts\r\n2020-08-13T19:21:24.2544269Z copying beancount\\scripts\\sql.py -> build\\lib.win-amd64-3.6\\beancount\\scripts\r\n2020-08-13T19:21:24.2549708Z copying beancount\\scripts\\sql_test.py -> build\\lib.win-amd64-3.6\\beancount\\scripts\r\n2020-08-13T19:21:24.2561647Z copying beancount\\scripts\\__init__.py -> build\\lib.win-amd64-3.6\\beancount\\scripts\r\n2020-08-13T19:21:24.2562096Z creating build\\lib.win-amd64-3.6\\beancount\\tools\r\n2020-08-13T19:21:24.2575714Z copying beancount\\tools\\sheets_upload.py -> build\\lib.win-amd64-3.6\\beancount\\tools\r\n2020-08-13T19:21:24.2576516Z copying beancount\\tools\\sheets_upload_test.py -> build\\lib.win-amd64-3.6\\beancount\\tools\r\n2020-08-13T19:21:24.2577324Z copying beancount\\tools\\treeify.py -> build\\lib.win-amd64-3.6\\beancount\\tools\r\n2020-08-13T19:21:24.2584598Z copying beancount\\tools\\treeify_test.py -> build\\lib.win-amd64-3.6\\beancount\\tools\r\n2020-08-13T19:21:24.2597823Z copying beancount\\tools\\__init__.py -> build\\lib.win-amd64-3.6\\beancount\\tools\r\n2020-08-13T19:21:24.2610710Z creating build\\lib.win-amd64-3.6\\beancount\\utils\r\n2020-08-13T19:21:24.2612747Z copying beancount\\utils\\bisect_key.py -> build\\lib.win-amd64-3.6\\beancount\\utils\r\n2020-08-13T19:21:24.2618742Z copying beancount\\utils\\bisect_key_test.py -> build\\lib.win-amd64-3.6\\beancount\\utils\r\n2020-08-13T19:21:24.2623809Z copying beancount\\utils\\csv_utils.py -> build\\lib.win-amd64-3.6\\beancount\\utils\r\n2020-08-13T19:21:24.2629542Z copying beancount\\utils\\csv_utils_test.py -> build\\lib.win-amd64-3.6\\beancount\\utils\r\n2020-08-13T19:21:24.2641266Z copying beancount\\utils\\date_utils.py -> build\\lib.win-amd64-3.6\\beancount\\utils\r\n2020-08-13T19:21:24.2647701Z copying beancount\\utils\\date_utils_test.py -> build\\lib.win-amd64-3.6\\beancount\\utils\r\n2020-08-13T19:21:24.2653839Z copying beancount\\utils\\defdict.py -> build\\lib.win-amd64-3.6\\beancount\\utils\r\n2020-08-13T19:21:24.2659721Z copying beancount\\utils\\defdict_test.py -> build\\lib.win-amd64-3.6\\beancount\\utils\r\n2020-08-13T19:21:24.2665239Z copying beancount\\utils\\encryption.py -> build\\lib.win-amd64-3.6\\beancount\\utils\r\n2020-08-13T19:21:24.2675394Z copying beancount\\utils\\encryption_test.py -> build\\lib.win-amd64-3.6\\beancount\\utils\r\n2020-08-13T19:21:24.2693318Z copying beancount\\utils\\file_type.py -> build\\lib.win-amd64-3.6\\beancount\\utils\r\n2020-08-13T19:21:24.2693696Z copying beancount\\utils\\file_type_test.py -> build\\lib.win-amd64-3.6\\beancount\\utils\r\n2020-08-13T19:21:24.2693949Z copying beancount\\utils\\file_utils.py -> build\\lib.win-amd64-3.6\\beancount\\utils\r\n2020-08-13T19:21:24.2696035Z copying beancount\\utils\\file_utils_test.py -> build\\lib.win-amd64-3.6\\beancount\\utils\r\n2020-08-13T19:21:24.2705838Z copying beancount\\utils\\import_utils.py -> build\\lib.win-amd64-3.6\\beancount\\utils\r\n2020-08-13T19:21:24.2708679Z copying beancount\\utils\\import_utils_test.py -> build\\lib.win-amd64-3.6\\beancount\\utils\r\n2020-08-13T19:21:24.2714371Z copying beancount\\utils\\invariants.py -> build\\lib.win-amd64-3.6\\beancount\\utils\r\n2020-08-13T19:21:24.2720233Z copying beancount\\utils\\invariants_test.py -> build\\lib.win-amd64-3.6\\beancount\\utils\r\n2020-08-13T19:21:24.2725495Z copying beancount\\utils\\memo.py -> build\\lib.win-amd64-3.6\\beancount\\utils\r\n2020-08-13T19:21:24.2732569Z copying beancount\\utils\\memo_test.py -> build\\lib.win-amd64-3.6\\beancount\\utils\r\n2020-08-13T19:21:24.2744800Z copying beancount\\utils\\misc_utils.py -> build\\lib.win-amd64-3.6\\beancount\\utils\r\n2020-08-13T19:21:24.2750879Z copying beancount\\utils\\misc_utils_test.py -> build\\lib.win-amd64-3.6\\beancount\\utils\r\n2020-08-13T19:21:24.2757130Z copying beancount\\utils\\pager.py -> build\\lib.win-amd64-3.6\\beancount\\utils\r\n2020-08-13T19:21:24.2762901Z copying beancount\\utils\\pager_test.py -> build\\lib.win-amd64-3.6\\beancount\\utils\r\n2020-08-13T19:21:24.2768569Z copying beancount\\utils\\regexp_utils.py -> build\\lib.win-amd64-3.6\\beancount\\utils\r\n2020-08-13T19:21:24.2775717Z copying beancount\\utils\\regexp_utils_test.py -> build\\lib.win-amd64-3.6\\beancount\\utils\r\n2020-08-13T19:21:24.2781809Z copying beancount\\utils\\scrape.py -> build\\lib.win-amd64-3.6\\beancount\\utils\r\n2020-08-13T19:21:24.2786785Z copying beancount\\utils\\scrape_test.py -> build\\lib.win-amd64-3.6\\beancount\\utils\r\n2020-08-13T19:21:24.2792978Z copying beancount\\utils\\snoop.py -> build\\lib.win-amd64-3.6\\beancount\\utils\r\n2020-08-13T19:21:24.2797691Z copying beancount\\utils\\snoop_test.py -> build\\lib.win-amd64-3.6\\beancount\\utils\r\n2020-08-13T19:21:24.2804425Z copying beancount\\utils\\table.py -> build\\lib.win-amd64-3.6\\beancount\\utils\r\n2020-08-13T19:21:24.2817962Z copying beancount\\utils\\table_test.py -> build\\lib.win-amd64-3.6\\beancount\\utils\r\n2020-08-13T19:21:24.2823406Z copying beancount\\utils\\test_utils.py -> build\\lib.win-amd64-3.6\\beancount\\utils\r\n2020-08-13T19:21:24.2829380Z copying beancount\\utils\\test_utils_test.py -> build\\lib.win-amd64-3.6\\beancount\\utils\r\n2020-08-13T19:21:24.2834671Z copying beancount\\utils\\text_utils.py -> build\\lib.win-amd64-3.6\\beancount\\utils\r\n2020-08-13T19:21:24.2840624Z copying beancount\\utils\\text_utils_test.py -> build\\lib.win-amd64-3.6\\beancount\\utils\r\n2020-08-13T19:21:24.2846235Z copying beancount\\utils\\__init__.py -> build\\lib.win-amd64-3.6\\beancount\\utils\r\n2020-08-13T19:21:24.2854411Z creating build\\lib.win-amd64-3.6\\beancount\\ingest\\importers\r\n2020-08-13T19:21:24.2856647Z copying beancount\\ingest\\importers\\config.py -> build\\lib.win-amd64-3.6\\beancount\\ingest\\importers\r\n2020-08-13T19:21:24.2863364Z copying beancount\\ingest\\importers\\config_test.py -> build\\lib.win-amd64-3.6\\beancount\\ingest\\importers\r\n2020-08-13T19:21:24.2870296Z copying beancount\\ingest\\importers\\csv.py -> build\\lib.win-amd64-3.6\\beancount\\ingest\\importers\r\n2020-08-13T19:21:24.2880016Z copying beancount\\ingest\\importers\\csv_test.py -> build\\lib.win-amd64-3.6\\beancount\\ingest\\importers\r\n2020-08-13T19:21:24.2882110Z copying beancount\\ingest\\importers\\fileonly.py -> build\\lib.win-amd64-3.6\\beancount\\ingest\\importers\r\n2020-08-13T19:21:24.2905493Z copying beancount\\ingest\\importers\\fileonly_test.py -> build\\lib.win-amd64-3.6\\beancount\\ingest\\importers\r\n2020-08-13T19:21:24.2906043Z copying beancount\\ingest\\importers\\ofx.py -> build\\lib.win-amd64-3.6\\beancount\\ingest\\importers\r\n2020-08-13T19:21:24.2906309Z copying beancount\\ingest\\importers\\ofx_test.py -> build\\lib.win-amd64-3.6\\beancount\\ingest\\importers\r\n2020-08-13T19:21:24.2911667Z copying beancount\\ingest\\importers\\__init__.py -> build\\lib.win-amd64-3.6\\beancount\\ingest\\importers\r\n2020-08-13T19:21:24.2919472Z creating build\\lib.win-amd64-3.6\\beancount\\ingest\\importers\\mixins\r\n2020-08-13T19:21:24.2921533Z copying beancount\\ingest\\importers\\mixins\\config.py -> build\\lib.win-amd64-3.6\\beancount\\ingest\\importers\\mixins\r\n2020-08-13T19:21:24.2928272Z copying beancount\\ingest\\importers\\mixins\\filing.py -> build\\lib.win-amd64-3.6\\beancount\\ingest\\importers\\mixins\r\n2020-08-13T19:21:24.2935840Z copying beancount\\ingest\\importers\\mixins\\identifier.py -> build\\lib.win-amd64-3.6\\beancount\\ingest\\importers\\mixins\r\n2020-08-13T19:21:24.2944157Z copying beancount\\ingest\\importers\\mixins\\__init__.py -> build\\lib.win-amd64-3.6\\beancount\\ingest\\importers\\mixins\r\n2020-08-13T19:21:24.2953423Z copying beancount\\VERSION -> build\\lib.win-amd64-3.6\\beancount\r\n2020-08-13T19:21:24.3063412Z running build_ext\r\n2020-08-13T19:21:24.3064257Z building 'beancount.parser._parser' extension\r\n2020-08-13T19:21:27.0335888Z C:\\Program Files (x86)\\Microsoft Visual Studio\\2019\\Enterprise\\VC\\Tools\\MSVC\\14.26.28801\\bin\\HostX86\\x64\\cl.exe /c /nologo /Ox /W3 /GL /DNDEBUG /MD -DBEANCOUNT_VERSION=2.3.2-dev -DVC_CHANGESET=git:1c5eeb7ee222c7a8812b8213beb7549e2cd17b73 -DVC_TIMESTAMP=1597346409 -DPARSER_SOURCE_HASH=28c3d6f35235f092c3bdca122f210b32 -IC:\\hostedtoolcache\\windows\\Python\\3.6.8\\x64\\include -IC:\\hostedtoolcache\\windows\\Python\\3.6.8\\x64\\include \"-IC:\\Program Files (x86)\\Microsoft Visual Studio\\2019\\Enterprise\\VC\\Tools\\MSVC\\14.26.28801\\ATLMFC\\include\" \"-IC:\\Program Files (x86)\\Microsoft Visual Studio\\2019\\Enterprise\\VC\\Tools\\MSVC\\14.26.28801\\include\" \"-IC:\\Program Files (x86)\\Windows Kits\\NETFXSDK\\4.8\\include\\um\" \"-IC:\\Program Files (x86)\\Windows Kits\\10\\include\\10.0.19041.0\\ucrt\" \"-IC:\\Program Files (x86)\\Windows Kits\\10\\include\\10.0.19041.0\\shared\" \"-IC:\\Program Files (x86)\\Windows Kits\\10\\include\\10.0.19041.0\\um\" \"-IC:\\Program Files (x86)\\Windows Kits\\10\\include\\10.0.19041.0\\winrt\" \"-IC:\\Program Files (x86)\\Windows Kits\\10\\include\\10.0.19041.0\\cppwinrt\" /Tcbeancount/parser/lexer.c /Fobuild\\temp.win-amd64-3.6\\Release\\beancount/parser/lexer.obj -DYY_NO_UNISTD_H\r\n2020-08-13T19:21:27.0459107Z lexer.c\r\n2020-08-13T19:21:27.1324903Z beancount/parser/lexer.l(279): error C2059: syntax error: '{'\r\n2020-08-13T19:21:27.1325987Z beancount/parser/lexer.l(279): error C2143: syntax error: missing ';' before ')'\r\n2020-08-13T19:21:27.1329259Z beancount/parser/lexer.l(298): warning C4003: not enough arguments for function-like macro invocation 'build_STR'\r\n2020-08-13T19:21:27.1332416Z beancount/parser/lexer.l(298): error C2059: syntax error: ')'\r\n2020-08-13T19:21:27.1333388Z beancount/parser/lexer.l(304): warning C4003: not enough arguments for function-like macro invocation 'build_STRING'\r\n2020-08-13T19:21:27.1334654Z beancount/parser/lexer.l(304): error C2059: syntax error: ','\r\n2020-08-13T19:21:27.1335097Z beancount/parser/lexer.l(316): warning C4003: not enough arguments for function-like macro invocation 'build_STR'\r\n2020-08-13T19:21:27.1335440Z beancount/parser/lexer.l(316): error C2059: syntax error: ')'\r\n2020-08-13T19:21:27.1335745Z beancount/parser/lexer.l(322): warning C4003: not enough arguments for function-like macro invocation 'build_STR'\r\n2020-08-13T19:21:27.1336482Z beancount/parser/lexer.l(322): error C2059: syntax error: ')'\r\n2020-08-13T19:21:27.1338539Z beancount/parser/lexer.l(328): warning C4003: not enough arguments for function-like macro invocation 'build_STR'\r\n2020-08-13T19:21:27.1338987Z beancount/parser/lexer.l(328): error C2059: syntax error: ')'\r\n2020-08-13T19:21:27.1354478Z beancount/parser/lexer.l(284): error C2046: illegal case\r\n2020-08-13T19:21:27.1355022Z beancount/parser/lexer.l(290): error C2046: illegal case\r\n2020-08-13T19:21:27.1355731Z beancount/parser/lexer.l(297): error C2046: illegal case\r\n2020-08-13T19:21:27.1356303Z beancount/parser/lexer.l(303): error C2046: illegal case\r\n2020-08-13T19:21:27.1356874Z beancount/parser/lexer.l(309): error C2046: illegal case\r\n2020-08-13T19:21:27.1357695Z beancount/parser/lexer.l(315): error C2046: illegal case\r\n2020-08-13T19:21:27.1358457Z beancount/parser/lexer.l(321): error C2046: illegal case\r\n2020-08-13T19:21:27.1359044Z beancount/parser/lexer.l(327): error C2046: illegal case\r\n2020-08-13T19:21:27.1359723Z beancount/parser/lexer.l(334): error C2046: illegal case\r\n2020-08-13T19:21:27.1360446Z beancount/parser/lexer.l(341): error C2046: illegal case\r\n2020-08-13T19:21:27.1361040Z beancount/parser/lexer.l(342): error C2046: illegal case\r\n2020-08-13T19:21:27.1361965Z beancount/parser/lexer.l(355): error C2046: illegal case\r\n2020-08-13T19:21:27.1362597Z beancount/parser/lexer.l(363): error C2046: illegal case\r\n2020-08-13T19:21:27.1363148Z beancount/parser/lexer.c(1814): error C2046: illegal case\r\n2020-08-13T19:21:27.1363818Z beancount/parser/lexer.c(1937): error C2047: illegal default\r\n2020-08-13T19:21:27.1364966Z beancount/parser/lexer.c(1943): error C2059: syntax error: '}'\r\n2020-08-13T19:21:27.1397626Z beancount/parser/lexer.l(512): warning C4267: '=': conversion from 'size_t' to 'int', possible loss of data\r\n2020-08-13T19:21:27.1462163Z C:\\hostedtoolcache\\windows\\Python\\3.6.8\\x64\\lib\\site-packages\\setuptools\\dist.py:470: UserWarning: Normalizing '2.3.2-dev' to '2.3.2.dev0'\r\n2020-08-13T19:21:27.1464937Z   normalized_version,\r\n2020-08-13T19:21:27.1467185Z error: command 'C:\\\\Program Files (x86)\\\\Microsoft Visual Studio\\\\2019\\\\Enterprise\\\\VC\\\\Tools\\\\MSVC\\\\14.26.28801\\\\bin\\\\HostX86\\\\x64\\\\cl.exe' failed with exit status 2\r\n2020-08-13T19:21:27.3274788Z ##[error]Process completed with exit code 1.\r\n```","closed_by":{"login":"trim21","id":13553903,"node_id":"MDQ6VXNlcjEzNTUzOTAz","avatar_url":"https://avatars.githubusercontent.com/u/13553903?v=4","gravatar_id":"","url":"https://api.github.com/users/trim21","html_url":"https://github.com/trim21","followers_url":"https://api.github.com/users/trim21/followers","following_url":"https://api.github.com/users/trim21/following{/other_user}","gists_url":"https://api.github.com/users/trim21/gists{/gist_id}","starred_url":"https://api.github.com/users/trim21/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/trim21/subscriptions","organizations_url":"https://api.github.com/users/trim21/orgs","repos_url":"https://api.github.com/users/trim21/repos","events_url":"https://api.github.com/users/trim21/events{/privacy}","received_events_url":"https://api.github.com/users/trim21/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/beancount/beancount/issues/536/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beancount/issues/536/timeline","performed_via_github_app":null,"state_reason":"completed"},{"url":"https://api.github.com/repos/beancount/beancount/issues/535","repository_url":"https://api.github.com/repos/beancount/beancount","labels_url":"https://api.github.com/repos/beancount/beancount/issues/535/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beancount/issues/535/comments","events_url":"https://api.github.com/repos/beancount/beancount/issues/535/events","html_url":"https://github.com/beancount/beancount/pull/535","id":675898941,"node_id":"MDExOlB1bGxSZXF1ZXN0NDY1MzAzNjk5","number":535,"title":"Optimization of the construction of Decimal objects and assorted cleanups","user":{"login":"dnicolodi","id":987145,"node_id":"MDQ6VXNlcjk4NzE0NQ==","avatar_url":"https://avatars.githubusercontent.com/u/987145?v=4","gravatar_id":"","url":"https://api.github.com/users/dnicolodi","html_url":"https://github.com/dnicolodi","followers_url":"https://api.github.com/users/dnicolodi/followers","following_url":"https://api.github.com/users/dnicolodi/following{/other_user}","gists_url":"https://api.github.com/users/dnicolodi/gists{/gist_id}","starred_url":"https://api.github.com/users/dnicolodi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dnicolodi/subscriptions","organizations_url":"https://api.github.com/users/dnicolodi/orgs","repos_url":"https://api.github.com/users/dnicolodi/repos","events_url":"https://api.github.com/users/dnicolodi/events{/privacy}","received_events_url":"https://api.github.com/users/dnicolodi/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":2,"created_at":"2020-08-10T06:23:49Z","updated_at":"2020-09-05T17:58:56Z","closed_at":"2020-09-05T17:58:56Z","author_association":"COLLABORATOR","type":null,"active_lock_reason":null,"draft":false,"pull_request":{"url":"https://api.github.com/repos/beancount/beancount/pulls/535","html_url":"https://github.com/beancount/beancount/pull/535","diff_url":"https://github.com/beancount/beancount/pull/535.diff","patch_url":"https://github.com/beancount/beancount/pull/535.patch","merged_at":"2020-09-05T17:58:56Z"},"body":"This follows the conversion of the building of lexer token semantic values to compiled code. Some commits are trivial, thus I believe this is a reasonable number of patched to be reviewed at once.","closed_by":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/beancount/beancount/issues/535/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beancount/issues/535/timeline","performed_via_github_app":null,"state_reason":null},{"url":"https://api.github.com/repos/beancount/beancount/issues/534","repository_url":"https://api.github.com/repos/beancount/beancount","labels_url":"https://api.github.com/repos/beancount/beancount/issues/534/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beancount/issues/534/comments","events_url":"https://api.github.com/repos/beancount/beancount/issues/534/events","html_url":"https://github.com/beancount/beancount/pull/534","id":675566777,"node_id":"MDExOlB1bGxSZXF1ZXN0NDY1MDU5ODk0","number":534,"title":"Improve the CSV exporter's chances of surviving an emoji-filled input file","user":{"login":"jpluscplusm","id":224508,"node_id":"MDQ6VXNlcjIyNDUwOA==","avatar_url":"https://avatars.githubusercontent.com/u/224508?v=4","gravatar_id":"","url":"https://api.github.com/users/jpluscplusm","html_url":"https://github.com/jpluscplusm","followers_url":"https://api.github.com/users/jpluscplusm/followers","following_url":"https://api.github.com/users/jpluscplusm/following{/other_user}","gists_url":"https://api.github.com/users/jpluscplusm/gists{/gist_id}","starred_url":"https://api.github.com/users/jpluscplusm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jpluscplusm/subscriptions","organizations_url":"https://api.github.com/users/jpluscplusm/orgs","repos_url":"https://api.github.com/users/jpluscplusm/repos","events_url":"https://api.github.com/users/jpluscplusm/events{/privacy}","received_events_url":"https://api.github.com/users/jpluscplusm/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":5,"created_at":"2020-08-08T18:19:58Z","updated_at":"2020-08-09T21:55:36Z","closed_at":"2020-08-09T15:53:53Z","author_association":"CONTRIBUTOR","type":null,"active_lock_reason":null,"draft":false,"pull_request":{"url":"https://api.github.com/repos/beancount/beancount/pulls/534","html_url":"https://github.com/beancount/beancount/pull/534","diff_url":"https://github.com/beancount/beancount/pull/534.diff","patch_url":"https://github.com/beancount/beancount/pull/534.patch","merged_at":"2020-08-09T15:53:53Z"},"body":"The British bank \"Monzo\" embeds emoji in its CSV exports.\r\n\r\nFiles containing these emoji (or at the very least, some of them) cause the underlying `chardet` library to explode.\r\n\r\nThe only user-level control that exists is the Importer's `encoding` param, but this setting wasn't being respected during attempts to sniff the CSV to see if it contains a header row.\r\n\r\nThis PR adds a harmless-if-absent parameter to the cache's head() methods, by which the CSV importer can communicate the encoding the user has set explicitly.\r\n\r\n[Apologies for the lack of additional tests. I'd naively assumed that, as a python project, this would be trivially testable with a `pip install -r req.txt` and a `make test`. The fact that it's not (see below) was a big enough bump in the road that I thought it best to just PR this change without tests. The cache tests pass, but they're the only ones I can run without getting into why I can't build the parser ...\r\n\r\nTests produced oodles of these:\r\n\r\n```\r\nImportError while importing test module '/home/user/code/beancount/beancount/ingest/scripts_utils_test.py'.\r\nHint: make sure your test modules/packages have valid Python names.                                                                                                                                                         \r\nTraceback:                                                                                                                                                                                                                  \r\nbeancount/ingest/scripts_utils_test.py:11: in <module>                                                                                                \r\n    from beancount.ingest import scripts_utils                            \r\nbeancount/ingest/scripts_utils.py:19: in <module>                                                                                                                                                                           \r\n    from beancount.parser import version                                                                                                            \r\nbeancount/parser/version.py:11: in <module>                                                                                                              \r\n    from beancount.parser import _parser                                                                                                                                                                                   \r\nE   ImportError: cannot import name '_parser' from 'beancount.parser' (/home/user/code/beancount/beancount/parser/__init__.py)\r\n```\r\n\r\nI understand they're because the parser isn't written in python, but I lack the immediate expertise to get it building successfully.]","closed_by":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/beancount/beancount/issues/534/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beancount/issues/534/timeline","performed_via_github_app":null,"state_reason":null},{"url":"https://api.github.com/repos/beancount/beancount/issues/533","repository_url":"https://api.github.com/repos/beancount/beancount","labels_url":"https://api.github.com/repos/beancount/beancount/issues/533/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beancount/issues/533/comments","events_url":"https://api.github.com/repos/beancount/beancount/issues/533/events","html_url":"https://github.com/beancount/beancount/pull/533","id":674025379,"node_id":"MDExOlB1bGxSZXF1ZXN0NDYzNzg5MjQz","number":533,"title":"Amount constructor to support string for number arg","user":{"login":"antcer1213","id":3186531,"node_id":"MDQ6VXNlcjMxODY1MzE=","avatar_url":"https://avatars.githubusercontent.com/u/3186531?v=4","gravatar_id":"","url":"https://api.github.com/users/antcer1213","html_url":"https://github.com/antcer1213","followers_url":"https://api.github.com/users/antcer1213/followers","following_url":"https://api.github.com/users/antcer1213/following{/other_user}","gists_url":"https://api.github.com/users/antcer1213/gists{/gist_id}","starred_url":"https://api.github.com/users/antcer1213/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/antcer1213/subscriptions","organizations_url":"https://api.github.com/users/antcer1213/orgs","repos_url":"https://api.github.com/users/antcer1213/repos","events_url":"https://api.github.com/users/antcer1213/events{/privacy}","received_events_url":"https://api.github.com/users/antcer1213/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":12,"created_at":"2020-08-06T05:21:04Z","updated_at":"2020-08-10T05:19:38Z","closed_at":"2020-08-10T05:19:38Z","author_association":"CONTRIBUTOR","type":null,"active_lock_reason":null,"draft":false,"pull_request":{"url":"https://api.github.com/repos/beancount/beancount/pulls/533","html_url":"https://github.com/beancount/beancount/pull/533","diff_url":"https://github.com/beancount/beancount/pull/533.diff","patch_url":"https://github.com/beancount/beancount/pull/533.patch","merged_at":"2020-08-10T05:19:38Z"},"body":"As specified in docstring located here: beancount.core.amount.Amount.__new__\r\n\r\n```\r\ndef __new__(cls, number, currency):\r\n    \"\"\"Constructor from a number and currency.\r\n\r\n    Args:\r\n      number: A string or Decimal instance. Will get converted automatically.\r\n      currency: A string, the currency symbol to use.\r\n    \"\"\"\r\n```\r\ncloses #532 ","closed_by":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/beancount/beancount/issues/533/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beancount/issues/533/timeline","performed_via_github_app":null,"state_reason":null},{"url":"https://api.github.com/repos/beancount/beancount/issues/532","repository_url":"https://api.github.com/repos/beancount/beancount","labels_url":"https://api.github.com/repos/beancount/beancount/issues/532/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beancount/issues/532/comments","events_url":"https://api.github.com/repos/beancount/beancount/issues/532/events","html_url":"https://github.com/beancount/beancount/issues/532","id":674018221,"node_id":"MDU6SXNzdWU2NzQwMTgyMjE=","number":532,"title":"Amount does not take string as specified in docstring","user":{"login":"antcer1213","id":3186531,"node_id":"MDQ6VXNlcjMxODY1MzE=","avatar_url":"https://avatars.githubusercontent.com/u/3186531?v=4","gravatar_id":"","url":"https://api.github.com/users/antcer1213","html_url":"https://github.com/antcer1213","followers_url":"https://api.github.com/users/antcer1213/followers","following_url":"https://api.github.com/users/antcer1213/following{/other_user}","gists_url":"https://api.github.com/users/antcer1213/gists{/gist_id}","starred_url":"https://api.github.com/users/antcer1213/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/antcer1213/subscriptions","organizations_url":"https://api.github.com/users/antcer1213/orgs","repos_url":"https://api.github.com/users/antcer1213/repos","events_url":"https://api.github.com/users/antcer1213/events{/privacy}","received_events_url":"https://api.github.com/users/antcer1213/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":1,"created_at":"2020-08-06T05:01:59Z","updated_at":"2020-08-10T05:19:38Z","closed_at":"2020-08-10T05:19:38Z","author_association":"CONTRIBUTOR","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"Amount constructor states number can be string or Decimal instance, but returns error on providing string.\r\n\r\nSee: beancount.core.amount.Amount.__new__ (cls, number, currency)\r\n\r\n**Currently**:\r\n```\r\ndef __new__(cls, number, currency):\r\n    \"\"\"Constructor from a number and currency.\r\n\r\n    Args:\r\n      number: A string or Decimal instance. Will get converted automatically.\r\n      currency: A string, the currency symbol to use.\r\n    \"\"\"\r\n    assert isinstance(number, Amount.valid_types_number), repr(number)\r\n    assert isinstance(currency, Amount.valid_types_currency), repr(currency)\r\n    return _Amount.__new__(cls, number, currency)\r\n```\r\n\r\n**Proposed simple change:**\r\n```\r\ndef __new__(cls, number, currency):\r\n    \"\"\"Constructor from a number and currency.\r\n\r\n    Args:\r\n      number: A string or Decimal instance. Will get converted automatically.\r\n      currency: A string, the currency symbol to use.\r\n    \"\"\"\r\n    if isinstance(number, str):\r\n        number = Decimal(number)\r\n    assert isinstance(number, Amount.valid_types_number), repr(number)\r\n    assert isinstance(currency, Amount.valid_types_currency), repr(currency)\r\n    return _Amount.__new__(cls, number, currency)\r\n```\r\n\r\n\r\nFiling as issue due to not knowing if auto-conversion of strings is desired or accidentally left in docstring. And I'd recommend accepting floats and ints, if accepting strings, since underlying Decimal constructor takes all easily.\r\n","closed_by":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/beancount/beancount/issues/532/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beancount/issues/532/timeline","performed_via_github_app":null,"state_reason":"completed"},{"url":"https://api.github.com/repos/beancount/beancount/issues/531","repository_url":"https://api.github.com/repos/beancount/beancount","labels_url":"https://api.github.com/repos/beancount/beancount/issues/531/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beancount/issues/531/comments","events_url":"https://api.github.com/repos/beancount/beancount/issues/531/events","html_url":"https://github.com/beancount/beancount/issues/531","id":671569730,"node_id":"MDU6SXNzdWU2NzE1Njk3MzA=","number":531,"title":"recursive hashing uses meta of fields when exclude_meta=True","user":{"login":"dumbPy","id":34011516,"node_id":"MDQ6VXNlcjM0MDExNTE2","avatar_url":"https://avatars.githubusercontent.com/u/34011516?v=4","gravatar_id":"","url":"https://api.github.com/users/dumbPy","html_url":"https://github.com/dumbPy","followers_url":"https://api.github.com/users/dumbPy/followers","following_url":"https://api.github.com/users/dumbPy/following{/other_user}","gists_url":"https://api.github.com/users/dumbPy/gists{/gist_id}","starred_url":"https://api.github.com/users/dumbPy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dumbPy/subscriptions","organizations_url":"https://api.github.com/users/dumbPy/orgs","repos_url":"https://api.github.com/users/dumbPy/repos","events_url":"https://api.github.com/users/dumbPy/events{/privacy}","received_events_url":"https://api.github.com/users/dumbPy/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":1,"created_at":"2020-08-02T07:35:31Z","updated_at":"2020-08-05T21:54:07Z","closed_at":"2020-08-05T21:54:07Z","author_association":"NONE","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"```python\r\nfrom beancount.core.data import Account, Amount, Posting, Transaction, D, new_metadata\r\nfrom beancount.core.compare import hash_entry, compare_entries\r\nfrom datetime import datetime\r\n\r\ntoday = datetime.today().date()\r\n\r\nacc = Account('Assets:INR:SBI:Saving')\r\n\r\np1 = Posting(acc, Amount(D(100), 'INR'), None, None, None, meta={\"foo\":\"bar\"})\r\nt1 = Transaction(new_metadata(\"xyz\",1), today, None, \"\", \"some desc\", None, None, p1)\r\n\r\n# similar posting with same posting meta, different transaction meta\r\np2 = Posting(acc, Amount(D(100), 'INR'), None, None, None, meta={\"foo\":\"bar\"})\r\nt2 = Transaction({\"filename\":\"abc\",\"lineno\":2,\"foo\":\"baz\"}, today, None, \"\", \"some desc\", None, None, p2)\r\n\r\n# similar posting with different posting meta\r\np3 = Posting(acc, Amount(D(100), 'INR'), None, None, None, meta={\"foo\":\"baz\"})\r\nt3 = Transaction(new_metadata(\"xyz\",10), today, None, \"\", \"some desc\", None, None, p3)\r\n\r\n\r\n\r\nassert(compare_entries([t1],[t2])[0] == True) # passes. even though transaction meta is different, as expected, ignoring meta\r\nassert(compare_entries([t1],[t3])[0] == True) # Fails. Doesn't ignore posting meta difference\r\n```\r\n\r\nIn [compare_entries](https://github.com/beancount/beancount/blob/d79f57922d004da45303b2d9a7a0e190a700cdec/beancount/core/compare.py#L42) since the `stable_hash_namedtuple` is called recursively, with same `ignore` parameter (`IGNORED_FIELD_NAMES` for compare_entries), I wonder why 2nd assertion fails\r\n\r\nAm I missing something here? Is it the expected behavior","closed_by":{"login":"dumbPy","id":34011516,"node_id":"MDQ6VXNlcjM0MDExNTE2","avatar_url":"https://avatars.githubusercontent.com/u/34011516?v=4","gravatar_id":"","url":"https://api.github.com/users/dumbPy","html_url":"https://github.com/dumbPy","followers_url":"https://api.github.com/users/dumbPy/followers","following_url":"https://api.github.com/users/dumbPy/following{/other_user}","gists_url":"https://api.github.com/users/dumbPy/gists{/gist_id}","starred_url":"https://api.github.com/users/dumbPy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dumbPy/subscriptions","organizations_url":"https://api.github.com/users/dumbPy/orgs","repos_url":"https://api.github.com/users/dumbPy/repos","events_url":"https://api.github.com/users/dumbPy/events{/privacy}","received_events_url":"https://api.github.com/users/dumbPy/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/beancount/beancount/issues/531/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beancount/issues/531/timeline","performed_via_github_app":null,"state_reason":"completed"},{"url":"https://api.github.com/repos/beancount/beancount/issues/530","repository_url":"https://api.github.com/repos/beancount/beancount","labels_url":"https://api.github.com/repos/beancount/beancount/issues/530/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beancount/issues/530/comments","events_url":"https://api.github.com/repos/beancount/beancount/issues/530/events","html_url":"https://github.com/beancount/beancount/pull/530","id":671035096,"node_id":"MDExOlB1bGxSZXF1ZXN0NDYxMjY2NzY4","number":530,"title":"setup: Do not require python-magic on Windows","user":{"login":"dnicolodi","id":987145,"node_id":"MDQ6VXNlcjk4NzE0NQ==","avatar_url":"https://avatars.githubusercontent.com/u/987145?v=4","gravatar_id":"","url":"https://api.github.com/users/dnicolodi","html_url":"https://github.com/dnicolodi","followers_url":"https://api.github.com/users/dnicolodi/followers","following_url":"https://api.github.com/users/dnicolodi/following{/other_user}","gists_url":"https://api.github.com/users/dnicolodi/gists{/gist_id}","starred_url":"https://api.github.com/users/dnicolodi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dnicolodi/subscriptions","organizations_url":"https://api.github.com/users/dnicolodi/orgs","repos_url":"https://api.github.com/users/dnicolodi/repos","events_url":"https://api.github.com/users/dnicolodi/events{/privacy}","received_events_url":"https://api.github.com/users/dnicolodi/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":0,"created_at":"2020-08-01T17:12:09Z","updated_at":"2020-08-03T05:22:51Z","closed_at":"2020-08-02T03:18:49Z","author_association":"COLLABORATOR","type":null,"active_lock_reason":null,"draft":false,"pull_request":{"url":"https://api.github.com/repos/beancount/beancount/pulls/530","html_url":"https://github.com/beancount/beancount/pull/530","diff_url":"https://github.com/beancount/beancount/pull/530.diff","patch_url":"https://github.com/beancount/beancount/pull/530.patch","merged_at":"2020-08-02T03:18:49Z"},"body":"python-magic uses ctypes to wrap libmagic which is not generally\r\navailable on Windows nor is easily installed on that platform.\r\n\r\nFixes #523.\r\n\r\nThis is an alternative to #529, see my comment there for the rationale.","closed_by":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/beancount/beancount/issues/530/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beancount/issues/530/timeline","performed_via_github_app":null,"state_reason":null},{"url":"https://api.github.com/repos/beancount/beancount/issues/529","repository_url":"https://api.github.com/repos/beancount/beancount","labels_url":"https://api.github.com/repos/beancount/beancount/issues/529/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beancount/issues/529/comments","events_url":"https://api.github.com/repos/beancount/beancount/issues/529/events","html_url":"https://github.com/beancount/beancount/pull/529","id":670705330,"node_id":"MDExOlB1bGxSZXF1ZXN0NDYwOTU1MzI2","number":529,"title":"catch OSError on import of python-magic","user":{"login":"yagebu","id":2482259,"node_id":"MDQ6VXNlcjI0ODIyNTk=","avatar_url":"https://avatars.githubusercontent.com/u/2482259?v=4","gravatar_id":"","url":"https://api.github.com/users/yagebu","html_url":"https://github.com/yagebu","followers_url":"https://api.github.com/users/yagebu/followers","following_url":"https://api.github.com/users/yagebu/following{/other_user}","gists_url":"https://api.github.com/users/yagebu/gists{/gist_id}","starred_url":"https://api.github.com/users/yagebu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/yagebu/subscriptions","organizations_url":"https://api.github.com/users/yagebu/orgs","repos_url":"https://api.github.com/users/yagebu/repos","events_url":"https://api.github.com/users/yagebu/events{/privacy}","received_events_url":"https://api.github.com/users/yagebu/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":2,"created_at":"2020-08-01T09:35:42Z","updated_at":"2020-08-02T13:13:00Z","closed_at":"2020-08-02T03:18:42Z","author_association":"MEMBER","type":null,"active_lock_reason":null,"draft":false,"pull_request":{"url":"https://api.github.com/repos/beancount/beancount/pulls/529","html_url":"https://github.com/beancount/beancount/pull/529","diff_url":"https://github.com/beancount/beancount/pull/529.diff","patch_url":"https://github.com/beancount/beancount/pull/529.patch","merged_at":"2020-08-02T03:18:42Z"},"body":"Close #523 \r\n\r\nSome time ago, python-magic started throwing `OSError`s when trying to import the libmagic or something dynamic library in the Fava CI builds on Windows (there's also an open issue on python-magic tracker: https://github.com/ahupp/python-magic/issues/216). I worked around this by fixing the version of python-magic, but catching this error seems a cleaner work-around.","closed_by":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/beancount/beancount/issues/529/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beancount/issues/529/timeline","performed_via_github_app":null,"state_reason":null},{"url":"https://api.github.com/repos/beancount/beancount/issues/528","repository_url":"https://api.github.com/repos/beancount/beancount","labels_url":"https://api.github.com/repos/beancount/beancount/issues/528/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beancount/issues/528/comments","events_url":"https://api.github.com/repos/beancount/beancount/issues/528/events","html_url":"https://github.com/beancount/beancount/pull/528","id":670577945,"node_id":"MDExOlB1bGxSZXF1ZXN0NDYwODM1NzQx","number":528,"title":"query: fix dtype for date()","user":{"login":"scauligi","id":15003857,"node_id":"MDQ6VXNlcjE1MDAzODU3","avatar_url":"https://avatars.githubusercontent.com/u/15003857?v=4","gravatar_id":"","url":"https://api.github.com/users/scauligi","html_url":"https://github.com/scauligi","followers_url":"https://api.github.com/users/scauligi/followers","following_url":"https://api.github.com/users/scauligi/following{/other_user}","gists_url":"https://api.github.com/users/scauligi/gists{/gist_id}","starred_url":"https://api.github.com/users/scauligi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/scauligi/subscriptions","organizations_url":"https://api.github.com/users/scauligi/orgs","repos_url":"https://api.github.com/users/scauligi/repos","events_url":"https://api.github.com/users/scauligi/events{/privacy}","received_events_url":"https://api.github.com/users/scauligi/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":0,"created_at":"2020-08-01T06:21:18Z","updated_at":"2020-08-06T03:35:44Z","closed_at":"2020-08-01T22:14:41Z","author_association":"CONTRIBUTOR","type":null,"active_lock_reason":null,"draft":false,"pull_request":{"url":"https://api.github.com/repos/beancount/beancount/pulls/528","html_url":"https://github.com/beancount/beancount/pull/528","diff_url":"https://github.com/beancount/beancount/pull/528.diff","patch_url":"https://github.com/beancount/beancount/pull/528.patch","merged_at":"2020-08-01T22:14:41Z"},"body":"fixes dtype for the `date()` function in BQL, seems like it was a copy-paste error","closed_by":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/beancount/beancount/issues/528/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beancount/issues/528/timeline","performed_via_github_app":null,"state_reason":null},{"url":"https://api.github.com/repos/beancount/beancount/issues/527","repository_url":"https://api.github.com/repos/beancount/beancount","labels_url":"https://api.github.com/repos/beancount/beancount/issues/527/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beancount/issues/527/comments","events_url":"https://api.github.com/repos/beancount/beancount/issues/527/events","html_url":"https://github.com/beancount/beancount/pull/527","id":670568254,"node_id":"MDExOlB1bGxSZXF1ZXN0NDYwODI2Njk0","number":527,"title":"Allow `bean-doctor linked` to specify filename:lineno like `bean-doctor context`","user":{"login":"scauligi","id":15003857,"node_id":"MDQ6VXNlcjE1MDAzODU3","avatar_url":"https://avatars.githubusercontent.com/u/15003857?v=4","gravatar_id":"","url":"https://api.github.com/users/scauligi","html_url":"https://github.com/scauligi","followers_url":"https://api.github.com/users/scauligi/followers","following_url":"https://api.github.com/users/scauligi/following{/other_user}","gists_url":"https://api.github.com/users/scauligi/gists{/gist_id}","starred_url":"https://api.github.com/users/scauligi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/scauligi/subscriptions","organizations_url":"https://api.github.com/users/scauligi/orgs","repos_url":"https://api.github.com/users/scauligi/repos","events_url":"https://api.github.com/users/scauligi/events{/privacy}","received_events_url":"https://api.github.com/users/scauligi/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":3,"created_at":"2020-08-01T06:05:30Z","updated_at":"2020-08-06T03:35:25Z","closed_at":"2020-08-02T03:25:23Z","author_association":"CONTRIBUTOR","type":null,"active_lock_reason":null,"draft":false,"pull_request":{"url":"https://api.github.com/repos/beancount/beancount/pulls/527","html_url":"https://github.com/beancount/beancount/pull/527","diff_url":"https://github.com/beancount/beancount/pull/527.diff","patch_url":"https://github.com/beancount/beancount/pull/527.patch","merged_at":"2020-08-02T03:25:23Z"},"body":"I noticed this feature was missing so I added it in, along with a corresponding test case.","closed_by":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/beancount/beancount/issues/527/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beancount/issues/527/timeline","performed_via_github_app":null,"state_reason":null},{"url":"https://api.github.com/repos/beancount/beancount/issues/526","repository_url":"https://api.github.com/repos/beancount/beancount","labels_url":"https://api.github.com/repos/beancount/beancount/issues/526/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beancount/issues/526/comments","events_url":"https://api.github.com/repos/beancount/beancount/issues/526/events","html_url":"https://github.com/beancount/beancount/pull/526","id":670255193,"node_id":"MDExOlB1bGxSZXF1ZXN0NDYwNTM1MjY0","number":526,"title":"parser: Rework line number tracking","user":{"login":"dnicolodi","id":987145,"node_id":"MDQ6VXNlcjk4NzE0NQ==","avatar_url":"https://avatars.githubusercontent.com/u/987145?v=4","gravatar_id":"","url":"https://api.github.com/users/dnicolodi","html_url":"https://github.com/dnicolodi","followers_url":"https://api.github.com/users/dnicolodi/followers","following_url":"https://api.github.com/users/dnicolodi/following{/other_user}","gists_url":"https://api.github.com/users/dnicolodi/gists{/gist_id}","starred_url":"https://api.github.com/users/dnicolodi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dnicolodi/subscriptions","organizations_url":"https://api.github.com/users/dnicolodi/orgs","repos_url":"https://api.github.com/users/dnicolodi/repos","events_url":"https://api.github.com/users/dnicolodi/events{/privacy}","received_events_url":"https://api.github.com/users/dnicolodi/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":1,"created_at":"2020-07-31T21:33:45Z","updated_at":"2020-08-03T05:22:32Z","closed_at":"2020-08-02T04:24:35Z","author_association":"COLLABORATOR","type":null,"active_lock_reason":null,"draft":false,"pull_request":{"url":"https://api.github.com/repos/beancount/beancount/pulls/526","html_url":"https://github.com/beancount/beancount/pull/526","diff_url":"https://github.com/beancount/beancount/pull/526.diff","patch_url":"https://github.com/beancount/beancount/pull/526.patch","merged_at":"2020-08-02T04:24:35Z"},"body":"I have ported the beancount lexer to RE/flex. In doing so I encountered a few things that could be simplified in the current implementation. I broke them in focused changes and I'll be pushing them upstream piecewise. As the simplifications are independent of the port to RE/flex, to keep the differences between the lexer of v2 and v3 as minimal as possible, I propose them for v2 to be merged into master. This is the first small part.","closed_by":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/beancount/beancount/issues/526/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beancount/issues/526/timeline","performed_via_github_app":null,"state_reason":null},{"url":"https://api.github.com/repos/beancount/beancount/issues/525","repository_url":"https://api.github.com/repos/beancount/beancount","labels_url":"https://api.github.com/repos/beancount/beancount/issues/525/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beancount/issues/525/comments","events_url":"https://api.github.com/repos/beancount/beancount/issues/525/events","html_url":"https://github.com/beancount/beancount/pull/525","id":669456018,"node_id":"MDExOlB1bGxSZXF1ZXN0NDU5ODIwOTYz","number":525,"title":"parser: Work around MSVC bug","user":{"login":"dnicolodi","id":987145,"node_id":"MDQ6VXNlcjk4NzE0NQ==","avatar_url":"https://avatars.githubusercontent.com/u/987145?v=4","gravatar_id":"","url":"https://api.github.com/users/dnicolodi","html_url":"https://github.com/dnicolodi","followers_url":"https://api.github.com/users/dnicolodi/followers","following_url":"https://api.github.com/users/dnicolodi/following{/other_user}","gists_url":"https://api.github.com/users/dnicolodi/gists{/gist_id}","starred_url":"https://api.github.com/users/dnicolodi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dnicolodi/subscriptions","organizations_url":"https://api.github.com/users/dnicolodi/orgs","repos_url":"https://api.github.com/users/dnicolodi/repos","events_url":"https://api.github.com/users/dnicolodi/events{/privacy}","received_events_url":"https://api.github.com/users/dnicolodi/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":2,"created_at":"2020-07-31T06:20:25Z","updated_at":"2020-08-03T05:22:44Z","closed_at":"2020-08-02T03:20:11Z","author_association":"COLLABORATOR","type":null,"active_lock_reason":null,"draft":false,"pull_request":{"url":"https://api.github.com/repos/beancount/beancount/pulls/525","html_url":"https://github.com/beancount/beancount/pull/525","diff_url":"https://github.com/beancount/beancount/pull/525.diff","patch_url":"https://github.com/beancount/beancount/pull/525.patch","merged_at":"2020-08-02T03:20:11Z"},"body":"Fixes #522.","closed_by":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/beancount/beancount/issues/525/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beancount/issues/525/timeline","performed_via_github_app":null,"state_reason":null},{"url":"https://api.github.com/repos/beancount/beancount/issues/524","repository_url":"https://api.github.com/repos/beancount/beancount","labels_url":"https://api.github.com/repos/beancount/beancount/issues/524/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beancount/issues/524/comments","events_url":"https://api.github.com/repos/beancount/beancount/issues/524/events","html_url":"https://github.com/beancount/beancount/pull/524","id":669437662,"node_id":"MDExOlB1bGxSZXF1ZXN0NDU5ODA0NzE3","number":524,"title":"add github action to test on windows","user":{"login":"yagebu","id":2482259,"node_id":"MDQ6VXNlcjI0ODIyNTk=","avatar_url":"https://avatars.githubusercontent.com/u/2482259?v=4","gravatar_id":"","url":"https://api.github.com/users/yagebu","html_url":"https://github.com/yagebu","followers_url":"https://api.github.com/users/yagebu/followers","following_url":"https://api.github.com/users/yagebu/following{/other_user}","gists_url":"https://api.github.com/users/yagebu/gists{/gist_id}","starred_url":"https://api.github.com/users/yagebu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/yagebu/subscriptions","organizations_url":"https://api.github.com/users/yagebu/orgs","repos_url":"https://api.github.com/users/yagebu/repos","events_url":"https://api.github.com/users/yagebu/events{/privacy}","received_events_url":"https://api.github.com/users/yagebu/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":6,"created_at":"2020-07-31T05:47:59Z","updated_at":"2020-08-01T17:12:46Z","closed_at":"2020-08-01T16:34:27Z","author_association":"MEMBER","type":null,"active_lock_reason":null,"draft":false,"pull_request":{"url":"https://api.github.com/repos/beancount/beancount/pulls/524","html_url":"https://github.com/beancount/beancount/pull/524","diff_url":"https://github.com/beancount/beancount/pull/524.diff","patch_url":"https://github.com/beancount/beancount/pull/524.patch","merged_at":null},"body":"","closed_by":{"login":"yagebu","id":2482259,"node_id":"MDQ6VXNlcjI0ODIyNTk=","avatar_url":"https://avatars.githubusercontent.com/u/2482259?v=4","gravatar_id":"","url":"https://api.github.com/users/yagebu","html_url":"https://github.com/yagebu","followers_url":"https://api.github.com/users/yagebu/followers","following_url":"https://api.github.com/users/yagebu/following{/other_user}","gists_url":"https://api.github.com/users/yagebu/gists{/gist_id}","starred_url":"https://api.github.com/users/yagebu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/yagebu/subscriptions","organizations_url":"https://api.github.com/users/yagebu/orgs","repos_url":"https://api.github.com/users/yagebu/repos","events_url":"https://api.github.com/users/yagebu/events{/privacy}","received_events_url":"https://api.github.com/users/yagebu/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/beancount/beancount/issues/524/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beancount/issues/524/timeline","performed_via_github_app":null,"state_reason":null},{"url":"https://api.github.com/repos/beancount/beancount/issues/523","repository_url":"https://api.github.com/repos/beancount/beancount","labels_url":"https://api.github.com/repos/beancount/beancount/issues/523/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beancount/issues/523/comments","events_url":"https://api.github.com/repos/beancount/beancount/issues/523/events","html_url":"https://github.com/beancount/beancount/issues/523","id":669419651,"node_id":"MDU6SXNzdWU2Njk0MTk2NTE=","number":523,"title":"python-magic needs libmagic on Windows","user":{"login":"dnicolodi","id":987145,"node_id":"MDQ6VXNlcjk4NzE0NQ==","avatar_url":"https://avatars.githubusercontent.com/u/987145?v=4","gravatar_id":"","url":"https://api.github.com/users/dnicolodi","html_url":"https://github.com/dnicolodi","followers_url":"https://api.github.com/users/dnicolodi/followers","following_url":"https://api.github.com/users/dnicolodi/following{/other_user}","gists_url":"https://api.github.com/users/dnicolodi/gists{/gist_id}","starred_url":"https://api.github.com/users/dnicolodi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dnicolodi/subscriptions","organizations_url":"https://api.github.com/users/dnicolodi/orgs","repos_url":"https://api.github.com/users/dnicolodi/repos","events_url":"https://api.github.com/users/dnicolodi/events{/privacy}","received_events_url":"https://api.github.com/users/dnicolodi/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":4,"created_at":"2020-07-31T05:10:44Z","updated_at":"2020-08-02T04:17:44Z","closed_at":"2020-08-02T04:17:44Z","author_association":"COLLABORATOR","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"I am trying to run beancount tests on Windows on AppVeyor. They fail because python-magic has some problem loading libmagic:\r\n```\r\nplatform win32 -- Python 3.6.8, pytest-5.4.2, py-1.9.0, pluggy-0.13.1\r\nrootdir: C:\\projects\\beancount\r\ncollected 1617 items / 10 errors / 1607 selected\r\n=================================== ERRORS ====================================\r\n_______________ ERROR collecting beancount/ingest/cache_test.py _______________\r\nbeancount\\ingest\\cache_test.py:9: in <module>\r\n    from beancount.ingest import cache\r\nbeancount\\ingest\\cache.py:14: in <module>\r\n    from beancount.utils import file_type\r\nbeancount\\utils\\file_type.py:22: in <module>\r\n    import magic\r\nC:\\Python36\\lib\\site-packages\\magic.py:179: in <module>\r\n    libmagic = ctypes.CDLL(dll)\r\nC:\\Python36\\lib\\ctypes\\__init__.py:348: in __init__\r\n    self._handle = _dlopen(self._name, mode)\r\nE   OSError: [WinError 193] %1 is not a valid Win32 application\r\n```\r\n\r\nI tries getting libmagic from here https://github.com/nscaife/file-windows, but I get the same error...\r\n\r\n@yagebu How do you run fava tests on AppVeyor?","closed_by":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/beancount/beancount/issues/523/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beancount/issues/523/timeline","performed_via_github_app":null,"state_reason":"completed"},{"url":"https://api.github.com/repos/beancount/beancount/issues/522","repository_url":"https://api.github.com/repos/beancount/beancount","labels_url":"https://api.github.com/repos/beancount/beancount/issues/522/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beancount/issues/522/comments","events_url":"https://api.github.com/repos/beancount/beancount/issues/522/events","html_url":"https://github.com/beancount/beancount/issues/522","id":669121967,"node_id":"MDU6SXNzdWU2NjkxMjE5Njc=","number":522,"title":"Latest release does not compile on Windows (on AppVeyor at least).","user":{"login":"yagebu","id":2482259,"node_id":"MDQ6VXNlcjI0ODIyNTk=","avatar_url":"https://avatars.githubusercontent.com/u/2482259?v=4","gravatar_id":"","url":"https://api.github.com/users/yagebu","html_url":"https://github.com/yagebu","followers_url":"https://api.github.com/users/yagebu/followers","following_url":"https://api.github.com/users/yagebu/following{/other_user}","gists_url":"https://api.github.com/users/yagebu/gists{/gist_id}","starred_url":"https://api.github.com/users/yagebu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/yagebu/subscriptions","organizations_url":"https://api.github.com/users/yagebu/orgs","repos_url":"https://api.github.com/users/yagebu/repos","events_url":"https://api.github.com/users/yagebu/events{/privacy}","received_events_url":"https://api.github.com/users/yagebu/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":2080995647,"node_id":"MDU6TGFiZWwyMDgwOTk1NjQ3","url":"https://api.github.com/repos/beancount/beancount/labels/parser-loader","name":"parser-loader","color":"ededed","default":false,"description":"Component: Parser and loader"},{"id":2080996667,"node_id":"MDU6TGFiZWwyMDgwOTk2NjY3","url":"https://api.github.com/repos/beancount/beancount/labels/P0","name":"P0","color":"ff0000","default":false,"description":"Critical priority, breaking changes to current version"}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":4,"created_at":"2020-07-30T19:35:58Z","updated_at":"2020-08-02T04:17:44Z","closed_at":"2020-08-02T04:17:44Z","author_association":"MEMBER","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"The CI build of Fava is currently broken due to the latest release of Beancount apparently not compiling on Windows (https://ci.appveyor.com/project/yagebu/fava/builds/34396347):\r\n\r\n    beancount/parser/parser.c(336): error C2198: 'PyUnicode_FromString': too few arguments for call\r\n\r\nInstalling from git (branch v2) seems to fix it (https://ci.appveyor.com/project/yagebu/fava/builds/34397338). The line that throws the error is gated by an `#ifdef VC_CHANGESET` and maybe the passing of that compile option behaves differently on Windows.","closed_by":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/beancount/beancount/issues/522/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beancount/issues/522/timeline","performed_via_github_app":null,"state_reason":"completed"},{"url":"https://api.github.com/repos/beancount/beancount/issues/521","repository_url":"https://api.github.com/repos/beancount/beancount","labels_url":"https://api.github.com/repos/beancount/beancount/issues/521/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beancount/issues/521/comments","events_url":"https://api.github.com/repos/beancount/beancount/issues/521/events","html_url":"https://github.com/beancount/beancount/issues/521","id":667575013,"node_id":"MDU6SXNzdWU2Njc1NzUwMTM=","number":521,"title":"Indented entries are allowed where they should not","user":{"login":"dnicolodi","id":987145,"node_id":"MDQ6VXNlcjk4NzE0NQ==","avatar_url":"https://avatars.githubusercontent.com/u/987145?v=4","gravatar_id":"","url":"https://api.github.com/users/dnicolodi","html_url":"https://github.com/dnicolodi","followers_url":"https://api.github.com/users/dnicolodi/followers","following_url":"https://api.github.com/users/dnicolodi/following{/other_user}","gists_url":"https://api.github.com/users/dnicolodi/gists{/gist_id}","starred_url":"https://api.github.com/users/dnicolodi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dnicolodi/subscriptions","organizations_url":"https://api.github.com/users/dnicolodi/orgs","repos_url":"https://api.github.com/users/dnicolodi/repos","events_url":"https://api.github.com/users/dnicolodi/events{/privacy}","received_events_url":"https://api.github.com/users/dnicolodi/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":1,"created_at":"2020-07-29T06:03:58Z","updated_at":"2020-10-25T20:00:38Z","closed_at":"2020-10-25T20:00:38Z","author_association":"COLLABORATOR","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"Variations of this syntax, where an entry can be indented,\r\n```\r\n2020-07-28 open Assets:Foo\r\n\r\n    2020-07-28 open Assets:Bar\r\n```\r\nare allowed. I don't think they should. See test in #520.","closed_by":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/beancount/beancount/issues/521/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beancount/issues/521/timeline","performed_via_github_app":null,"state_reason":"completed"},{"url":"https://api.github.com/repos/beancount/beancount/issues/520","repository_url":"https://api.github.com/repos/beancount/beancount","labels_url":"https://api.github.com/repos/beancount/beancount/issues/520/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beancount/issues/520/comments","events_url":"https://api.github.com/repos/beancount/beancount/issues/520/events","html_url":"https://github.com/beancount/beancount/pull/520","id":667573817,"node_id":"MDExOlB1bGxSZXF1ZXN0NDU4MjE0MjQ0","number":520,"title":"parser: Test indentation handling","user":{"login":"dnicolodi","id":987145,"node_id":"MDQ6VXNlcjk4NzE0NQ==","avatar_url":"https://avatars.githubusercontent.com/u/987145?v=4","gravatar_id":"","url":"https://api.github.com/users/dnicolodi","html_url":"https://github.com/dnicolodi","followers_url":"https://api.github.com/users/dnicolodi/followers","following_url":"https://api.github.com/users/dnicolodi/following{/other_user}","gists_url":"https://api.github.com/users/dnicolodi/gists{/gist_id}","starred_url":"https://api.github.com/users/dnicolodi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dnicolodi/subscriptions","organizations_url":"https://api.github.com/users/dnicolodi/orgs","repos_url":"https://api.github.com/users/dnicolodi/repos","events_url":"https://api.github.com/users/dnicolodi/events{/privacy}","received_events_url":"https://api.github.com/users/dnicolodi/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":4,"created_at":"2020-07-29T06:01:27Z","updated_at":"2020-11-21T17:25:59Z","closed_at":"2020-08-10T05:22:59Z","author_association":"COLLABORATOR","type":null,"active_lock_reason":null,"draft":false,"pull_request":{"url":"https://api.github.com/repos/beancount/beancount/pulls/520","html_url":"https://github.com/beancount/beancount/pull/520","diff_url":"https://github.com/beancount/beancount/pull/520.diff","patch_url":"https://github.com/beancount/beancount/pull/520.patch","merged_at":"2020-08-10T05:22:59Z"},"body":"This test is currently failing. Namely, this syntax\r\n```\r\n2020-07-28 open Assets:Foo\r\n\r\n    2020-07-28 open Assets:Bar\r\n```\r\nand variations where an entry is indented, is allowed.\r\n\r\nThis is PR is only to demonstrate the issue. I have a fix for it ready to be pushed, if it is decided that it needs to be fixed.","closed_by":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/beancount/beancount/issues/520/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beancount/issues/520/timeline","performed_via_github_app":null,"state_reason":null},{"url":"https://api.github.com/repos/beancount/beancount/issues/519","repository_url":"https://api.github.com/repos/beancount/beancount","labels_url":"https://api.github.com/repos/beancount/beancount/issues/519/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beancount/issues/519/comments","events_url":"https://api.github.com/repos/beancount/beancount/issues/519/events","html_url":"https://github.com/beancount/beancount/pull/519","id":667569856,"node_id":"MDExOlB1bGxSZXF1ZXN0NDU4MjEwOTIx","number":519,"title":"lexer: Fix subtle bug","user":{"login":"dnicolodi","id":987145,"node_id":"MDQ6VXNlcjk4NzE0NQ==","avatar_url":"https://avatars.githubusercontent.com/u/987145?v=4","gravatar_id":"","url":"https://api.github.com/users/dnicolodi","html_url":"https://github.com/dnicolodi","followers_url":"https://api.github.com/users/dnicolodi/followers","following_url":"https://api.github.com/users/dnicolodi/following{/other_user}","gists_url":"https://api.github.com/users/dnicolodi/gists{/gist_id}","starred_url":"https://api.github.com/users/dnicolodi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dnicolodi/subscriptions","organizations_url":"https://api.github.com/users/dnicolodi/orgs","repos_url":"https://api.github.com/users/dnicolodi/repos","events_url":"https://api.github.com/users/dnicolodi/events{/privacy}","received_events_url":"https://api.github.com/users/dnicolodi/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":1,"created_at":"2020-07-29T05:52:15Z","updated_at":"2020-08-10T14:24:39Z","closed_at":"2020-08-02T03:04:50Z","author_association":"COLLABORATOR","type":null,"active_lock_reason":null,"draft":false,"pull_request":{"url":"https://api.github.com/repos/beancount/beancount/pulls/519","html_url":"https://github.com/beancount/beancount/pull/519","diff_url":"https://github.com/beancount/beancount/pull/519.diff","patch_url":"https://github.com/beancount/beancount/pull/519.patch","merged_at":"2020-08-02T03:04:50Z"},"body":"This typo would cause yy_skip_line() to loop forever if it does not encounter newline before the end of the input.\r\n\r\nThis was merged into master, but not into v2.","closed_by":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/beancount/beancount/issues/519/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beancount/issues/519/timeline","performed_via_github_app":null,"state_reason":null},{"url":"https://api.github.com/repos/beancount/beancount/issues/518","repository_url":"https://api.github.com/repos/beancount/beancount","labels_url":"https://api.github.com/repos/beancount/beancount/issues/518/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beancount/issues/518/comments","events_url":"https://api.github.com/repos/beancount/beancount/issues/518/events","html_url":"https://github.com/beancount/beancount/pull/518","id":667534724,"node_id":"MDExOlB1bGxSZXF1ZXN0NDU4MTgyNTk1","number":518,"title":"Assorted cleanups","user":{"login":"dnicolodi","id":987145,"node_id":"MDQ6VXNlcjk4NzE0NQ==","avatar_url":"https://avatars.githubusercontent.com/u/987145?v=4","gravatar_id":"","url":"https://api.github.com/users/dnicolodi","html_url":"https://github.com/dnicolodi","followers_url":"https://api.github.com/users/dnicolodi/followers","following_url":"https://api.github.com/users/dnicolodi/following{/other_user}","gists_url":"https://api.github.com/users/dnicolodi/gists{/gist_id}","starred_url":"https://api.github.com/users/dnicolodi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dnicolodi/subscriptions","organizations_url":"https://api.github.com/users/dnicolodi/orgs","repos_url":"https://api.github.com/users/dnicolodi/repos","events_url":"https://api.github.com/users/dnicolodi/events{/privacy}","received_events_url":"https://api.github.com/users/dnicolodi/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":0,"created_at":"2020-07-29T04:16:16Z","updated_at":"2020-08-03T05:22:38Z","closed_at":"2020-08-02T03:23:49Z","author_association":"COLLABORATOR","type":null,"active_lock_reason":null,"draft":false,"pull_request":{"url":"https://api.github.com/repos/beancount/beancount/pulls/518","html_url":"https://github.com/beancount/beancount/pull/518","diff_url":"https://github.com/beancount/beancount/pull/518.diff","patch_url":"https://github.com/beancount/beancount/pull/518.patch","merged_at":"2020-08-02T03:23:49Z"},"body":"A few cleanups not really related to each other, just stuff I bumped into working on other things.","closed_by":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/beancount/beancount/issues/518/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beancount/issues/518/timeline","performed_via_github_app":null,"state_reason":null},{"url":"https://api.github.com/repos/beancount/beancount/issues/517","repository_url":"https://api.github.com/repos/beancount/beancount","labels_url":"https://api.github.com/repos/beancount/beancount/issues/517/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beancount/issues/517/comments","events_url":"https://api.github.com/repos/beancount/beancount/issues/517/events","html_url":"https://github.com/beancount/beancount/pull/517","id":667439618,"node_id":"MDExOlB1bGxSZXF1ZXN0NDU4MTA1OTgw","number":517,"title":"Modify lexer to allow single letter currencies (patch from #192)","user":{"login":"cgevans","id":2054509,"node_id":"MDQ6VXNlcjIwNTQ1MDk=","avatar_url":"https://avatars.githubusercontent.com/u/2054509?v=4","gravatar_id":"","url":"https://api.github.com/users/cgevans","html_url":"https://github.com/cgevans","followers_url":"https://api.github.com/users/cgevans/followers","following_url":"https://api.github.com/users/cgevans/following{/other_user}","gists_url":"https://api.github.com/users/cgevans/gists{/gist_id}","starred_url":"https://api.github.com/users/cgevans/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cgevans/subscriptions","organizations_url":"https://api.github.com/users/cgevans/orgs","repos_url":"https://api.github.com/users/cgevans/repos","events_url":"https://api.github.com/users/cgevans/events{/privacy}","received_events_url":"https://api.github.com/users/cgevans/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":4,"created_at":"2020-07-28T23:15:21Z","updated_at":"2020-08-12T07:25:01Z","closed_at":"2020-08-10T05:22:08Z","author_association":"NONE","type":null,"active_lock_reason":null,"draft":true,"pull_request":{"url":"https://api.github.com/repos/beancount/beancount/pulls/517","html_url":"https://github.com/beancount/beancount/pull/517","diff_url":"https://github.com/beancount/beancount/pull/517.diff","patch_url":"https://github.com/beancount/beancount/pull/517.patch","merged_at":null},"body":"I still need to check that this works after rebasing, and add tests, which is why I am marking it as a draft.","closed_by":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/beancount/beancount/issues/517/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beancount/issues/517/timeline","performed_via_github_app":null,"state_reason":null},{"url":"https://api.github.com/repos/beancount/beancount/issues/516","repository_url":"https://api.github.com/repos/beancount/beancount","labels_url":"https://api.github.com/repos/beancount/beancount/issues/516/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beancount/issues/516/comments","events_url":"https://api.github.com/repos/beancount/beancount/issues/516/events","html_url":"https://github.com/beancount/beancount/issues/516","id":666762157,"node_id":"MDU6SXNzdWU2NjY3NjIxNTc=","number":516,"title":"Handling of flags in the lexer","user":{"login":"dnicolodi","id":987145,"node_id":"MDQ6VXNlcjk4NzE0NQ==","avatar_url":"https://avatars.githubusercontent.com/u/987145?v=4","gravatar_id":"","url":"https://api.github.com/users/dnicolodi","html_url":"https://github.com/dnicolodi","followers_url":"https://api.github.com/users/dnicolodi/followers","following_url":"https://api.github.com/users/dnicolodi/following{/other_user}","gists_url":"https://api.github.com/users/dnicolodi/gists{/gist_id}","starred_url":"https://api.github.com/users/dnicolodi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dnicolodi/subscriptions","organizations_url":"https://api.github.com/users/dnicolodi/orgs","repos_url":"https://api.github.com/users/dnicolodi/repos","events_url":"https://api.github.com/users/dnicolodi/events{/privacy}","received_events_url":"https://api.github.com/users/dnicolodi/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"open","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":1,"created_at":"2020-07-28T04:48:18Z","updated_at":"2020-07-29T23:48:10Z","closed_at":null,"author_association":"COLLABORATOR","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"The lexer recognizes the `!&#?%PSTCURM` characters as flags. Despite the comment above the code this is a different set of characters than the one in `beancount.core.flags`, which is restricted to `*!PSTCURM`. Should the two be unified?\r\n\r\nThe lexer rule includes `#` but it cannot ever match as `#` is matched by a previous rule that return the HASH token. Thus, for clarity, should be removed from the FLAG rule.\r\n\r\nThe current code also ignores any line that starts with a character in this character set. I see where this is coming from in the history of the parser, although I think it is a fairly surprising behavior (why should lines starting with `P` be allowed, but not lines starting with `A`?) Should it be removed? The handling of lines starting with `#` is doubly strange, as they are ignored but only if the character following `#` cannot be part of a tag, in which case they are parsed as tags (but rejected in the grammar, I guess).\r\n","closed_by":null,"reactions":{"url":"https://api.github.com/repos/beancount/beancount/issues/516/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beancount/issues/516/timeline","performed_via_github_app":null,"state_reason":null},{"url":"https://api.github.com/repos/beancount/beancount/issues/515","repository_url":"https://api.github.com/repos/beancount/beancount","labels_url":"https://api.github.com/repos/beancount/beancount/issues/515/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beancount/issues/515/comments","events_url":"https://api.github.com/repos/beancount/beancount/issues/515/events","html_url":"https://github.com/beancount/beancount/pull/515","id":666745753,"node_id":"MDExOlB1bGxSZXF1ZXN0NDU3NTM1MDI1","number":515,"title":"lexer: Fix subtle bug","user":{"login":"dnicolodi","id":987145,"node_id":"MDQ6VXNlcjk4NzE0NQ==","avatar_url":"https://avatars.githubusercontent.com/u/987145?v=4","gravatar_id":"","url":"https://api.github.com/users/dnicolodi","html_url":"https://github.com/dnicolodi","followers_url":"https://api.github.com/users/dnicolodi/followers","following_url":"https://api.github.com/users/dnicolodi/following{/other_user}","gists_url":"https://api.github.com/users/dnicolodi/gists{/gist_id}","starred_url":"https://api.github.com/users/dnicolodi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dnicolodi/subscriptions","organizations_url":"https://api.github.com/users/dnicolodi/orgs","repos_url":"https://api.github.com/users/dnicolodi/repos","events_url":"https://api.github.com/users/dnicolodi/events{/privacy}","received_events_url":"https://api.github.com/users/dnicolodi/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":1,"created_at":"2020-07-28T04:21:55Z","updated_at":"2020-08-03T05:23:17Z","closed_at":"2020-07-28T04:48:18Z","author_association":"COLLABORATOR","type":null,"active_lock_reason":null,"draft":false,"pull_request":{"url":"https://api.github.com/repos/beancount/beancount/pulls/515","html_url":"https://github.com/beancount/beancount/pull/515","diff_url":"https://github.com/beancount/beancount/pull/515.diff","patch_url":"https://github.com/beancount/beancount/pull/515.patch","merged_at":"2020-07-28T04:48:18Z"},"body":"This typo would cause yy_skip_line() to loop forever if it does not encounter newline before the end of the input.","closed_by":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/beancount/beancount/issues/515/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beancount/issues/515/timeline","performed_via_github_app":null,"state_reason":null},{"url":"https://api.github.com/repos/beancount/beancount/issues/514","repository_url":"https://api.github.com/repos/beancount/beancount","labels_url":"https://api.github.com/repos/beancount/beancount/issues/514/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beancount/issues/514/comments","events_url":"https://api.github.com/repos/beancount/beancount/issues/514/events","html_url":"https://github.com/beancount/beancount/pull/514","id":666138792,"node_id":"MDExOlB1bGxSZXF1ZXN0NDU3MDM0MjM2","number":514,"title":"Cast float to string before casting to Decimal","user":{"login":"dumbPy","id":34011516,"node_id":"MDQ6VXNlcjM0MDExNTE2","avatar_url":"https://avatars.githubusercontent.com/u/34011516?v=4","gravatar_id":"","url":"https://api.github.com/users/dumbPy","html_url":"https://github.com/dumbPy","followers_url":"https://api.github.com/users/dumbPy/followers","following_url":"https://api.github.com/users/dumbPy/following{/other_user}","gists_url":"https://api.github.com/users/dumbPy/gists{/gist_id}","starred_url":"https://api.github.com/users/dumbPy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dumbPy/subscriptions","organizations_url":"https://api.github.com/users/dumbPy/orgs","repos_url":"https://api.github.com/users/dumbPy/repos","events_url":"https://api.github.com/users/dumbPy/events{/privacy}","received_events_url":"https://api.github.com/users/dumbPy/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":4,"created_at":"2020-07-27T09:35:47Z","updated_at":"2020-08-10T14:30:50Z","closed_at":"2020-07-28T04:46:58Z","author_association":"NONE","type":null,"active_lock_reason":null,"draft":false,"pull_request":{"url":"https://api.github.com/repos/beancount/beancount/pulls/514","html_url":"https://github.com/beancount/beancount/pull/514","diff_url":"https://github.com/beancount/beancount/pull/514.diff","patch_url":"https://github.com/beancount/beancount/pull/514.patch","merged_at":null},"body":"float to Decimal gives approximation errors as below example\r\n \r\nBut casting it to `str` and then to `D`/`Decimal` would solve this problem I suppose.\r\n\r\n```python\r\nIn [1]: from beancount.core.number import D                                                                                                                                                    \r\n\r\nIn [2]: D(22.5)                                                                                                                                                                                \r\nOut[2]: Decimal('22.5')\r\n\r\nIn [3]: D(22.50)                                                                                                                                                                               \r\nOut[3]: Decimal('22.5')\r\n\r\nIn [4]: D(22.52)  # these shouldn't exist                                                                                                                                                                               \r\nOut[4]: Decimal('22.519999999999999573674358543939888477325439453125')\r\n\r\nIn [5]: D(str(22.52)) # cast to str first                                                                                                                                   \r\nOut[5]: Decimal('22.52')\r\n\r\nIn [6]: D(22.52)/D(11.26) # I see the operations have already been handled                             \r\nOut[6]: Decimal('2')\r\n```\r\n\r\nI understand that the `D` documentation clearly mentions about passing strings. But since `D` is accepting float, I think it should be handled here.","closed_by":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/beancount/beancount/issues/514/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beancount/issues/514/timeline","performed_via_github_app":null,"state_reason":null},{"url":"https://api.github.com/repos/beancount/beancount/issues/513","repository_url":"https://api.github.com/repos/beancount/beancount","labels_url":"https://api.github.com/repos/beancount/beancount/issues/513/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beancount/issues/513/comments","events_url":"https://api.github.com/repos/beancount/beancount/issues/513/events","html_url":"https://github.com/beancount/beancount/pull/513","id":665830528,"node_id":"MDExOlB1bGxSZXF1ZXN0NDU2NzgzOTg1","number":513,"title":"Add a valid XHTML file type","user":{"login":"maxwell-k","id":4786215,"node_id":"MDQ6VXNlcjQ3ODYyMTU=","avatar_url":"https://avatars.githubusercontent.com/u/4786215?v=4","gravatar_id":"","url":"https://api.github.com/users/maxwell-k","html_url":"https://github.com/maxwell-k","followers_url":"https://api.github.com/users/maxwell-k/followers","following_url":"https://api.github.com/users/maxwell-k/following{/other_user}","gists_url":"https://api.github.com/users/maxwell-k/gists{/gist_id}","starred_url":"https://api.github.com/users/maxwell-k/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/maxwell-k/subscriptions","organizations_url":"https://api.github.com/users/maxwell-k/orgs","repos_url":"https://api.github.com/users/maxwell-k/repos","events_url":"https://api.github.com/users/maxwell-k/events{/privacy}","received_events_url":"https://api.github.com/users/maxwell-k/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":0,"created_at":"2020-07-26T17:59:23Z","updated_at":"2020-07-27T08:16:33Z","closed_at":"2020-07-27T01:27:06Z","author_association":"CONTRIBUTOR","type":null,"active_lock_reason":null,"draft":false,"pull_request":{"url":"https://api.github.com/repos/beancount/beancount/pulls/513","html_url":"https://github.com/beancount/beancount/pull/513","diff_url":"https://github.com/beancount/beancount/pull/513.diff","patch_url":"https://github.com/beancount/beancount/pull/513.patch","merged_at":"2020-07-27T01:27:06Z"},"body":"So that tests pass on Alpine Linux\r\n\r\nOn Ubuntu, guess_file_type returns 'application/xhtml+xml' for `example.xhtml`:\r\n\r\n    $ docker run -ti --rm ubuntu:focal\r\n    # apt update &&\r\n      apt install --yes python3-pip wget &&\r\n      python3 -m pip install beancount==2.2.3 &&\r\n      wget https://raw.githubusercontent.com/beancount/beancount/master/beancount/utils/file_type_testdata/example.xhtml &&\r\n      python3\r\n    ✂\r\n    >>> from beancount.utils.file_type import guess_file_type\r\n    >>> guess_file_type('example.xhtml')\r\n    'application/xhtml+xml'\r\n\r\nWhereas on Alpine Linux guess_file_type returns text/html for example.xhtml:\r\n\r\n    $ docker run -ti --rm alpine:latest\r\n    # apk add beancount &&\r\n      wget https://raw.githubusercontent.com/beancount/beancount/master/beancount/utils/file_type_testdata/example.xhtml &&\r\n      python3\r\n    ✂\r\n    >>> from beancount.utils.file_type import guess_file_type\r\n    >>> guess_file_type('example.xhtml')\r\n    'text/html'\r\n\r\nBoth are valid. Before this change `test_xhtml` fails on Alpine Linux. After this change the `test_xhtml` passes on Alpine Linux as well.","closed_by":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/beancount/beancount/issues/513/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beancount/issues/513/timeline","performed_via_github_app":null,"state_reason":null},{"url":"https://api.github.com/repos/beancount/beancount/issues/512","repository_url":"https://api.github.com/repos/beancount/beancount","labels_url":"https://api.github.com/repos/beancount/beancount/issues/512/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beancount/issues/512/comments","events_url":"https://api.github.com/repos/beancount/beancount/issues/512/events","html_url":"https://github.com/beancount/beancount/issues/512","id":665810983,"node_id":"MDU6SXNzdWU2NjU4MTA5ODM=","number":512,"title":"Use on mobile?","user":{"login":"delaaxe","id":1091900,"node_id":"MDQ6VXNlcjEwOTE5MDA=","avatar_url":"https://avatars.githubusercontent.com/u/1091900?v=4","gravatar_id":"","url":"https://api.github.com/users/delaaxe","html_url":"https://github.com/delaaxe","followers_url":"https://api.github.com/users/delaaxe/followers","following_url":"https://api.github.com/users/delaaxe/following{/other_user}","gists_url":"https://api.github.com/users/delaaxe/gists{/gist_id}","starred_url":"https://api.github.com/users/delaaxe/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/delaaxe/subscriptions","organizations_url":"https://api.github.com/users/delaaxe/orgs","repos_url":"https://api.github.com/users/delaaxe/repos","events_url":"https://api.github.com/users/delaaxe/events{/privacy}","received_events_url":"https://api.github.com/users/delaaxe/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":3,"created_at":"2020-07-26T16:14:17Z","updated_at":"2020-08-03T14:13:41Z","closed_at":"2020-07-27T01:27:15Z","author_association":"NONE","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"I’m considering trying this out but I’d like to add transactions from my smartphone on the go.\n\nIs there a recommended way to add entries from mobile? Does editing a note synced with iCloud work well enough in practice?\n\nJust asking in case somebody’s already doing this.","closed_by":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/beancount/beancount/issues/512/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beancount/issues/512/timeline","performed_via_github_app":null,"state_reason":"completed"},{"url":"https://api.github.com/repos/beancount/beancount/issues/511","repository_url":"https://api.github.com/repos/beancount/beancount","labels_url":"https://api.github.com/repos/beancount/beancount/issues/511/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beancount/issues/511/comments","events_url":"https://api.github.com/repos/beancount/beancount/issues/511/events","html_url":"https://github.com/beancount/beancount/pull/511","id":665531633,"node_id":"MDExOlB1bGxSZXF1ZXN0NDU2NTc4MDcw","number":511,"title":"makefile: Tiny cleanup","user":{"login":"dnicolodi","id":987145,"node_id":"MDQ6VXNlcjk4NzE0NQ==","avatar_url":"https://avatars.githubusercontent.com/u/987145?v=4","gravatar_id":"","url":"https://api.github.com/users/dnicolodi","html_url":"https://github.com/dnicolodi","followers_url":"https://api.github.com/users/dnicolodi/followers","following_url":"https://api.github.com/users/dnicolodi/following{/other_user}","gists_url":"https://api.github.com/users/dnicolodi/gists{/gist_id}","starred_url":"https://api.github.com/users/dnicolodi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dnicolodi/subscriptions","organizations_url":"https://api.github.com/users/dnicolodi/orgs","repos_url":"https://api.github.com/users/dnicolodi/repos","events_url":"https://api.github.com/users/dnicolodi/events{/privacy}","received_events_url":"https://api.github.com/users/dnicolodi/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":1,"created_at":"2020-07-25T06:56:06Z","updated_at":"2020-07-25T14:51:33Z","closed_at":"2020-07-25T14:12:12Z","author_association":"COLLABORATOR","type":null,"active_lock_reason":null,"draft":false,"pull_request":{"url":"https://api.github.com/repos/beancount/beancount/pulls/511","html_url":"https://github.com/beancount/beancount/pull/511","diff_url":"https://github.com/beancount/beancount/pull/511.diff","patch_url":"https://github.com/beancount/beancount/pull/511.patch","merged_at":"2020-07-25T14:12:12Z"},"body":"The ENABLE_AUTOIMPORTS environment variable does not seem to have any\r\neffect on the execution of pylint. If it does it is not documented\r\nanywhere.","closed_by":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/beancount/beancount/issues/511/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beancount/issues/511/timeline","performed_via_github_app":null,"state_reason":null},{"url":"https://api.github.com/repos/beancount/beancount/issues/510","repository_url":"https://api.github.com/repos/beancount/beancount","labels_url":"https://api.github.com/repos/beancount/beancount/issues/510/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beancount/issues/510/comments","events_url":"https://api.github.com/repos/beancount/beancount/issues/510/events","html_url":"https://github.com/beancount/beancount/issues/510","id":665509349,"node_id":"MDU6SXNzdWU2NjU1MDkzNDk=","number":510,"title":"Sometimes entry.meta or posting.meta is None","user":{"login":"tbm","id":1556037,"node_id":"MDQ6VXNlcjE1NTYwMzc=","avatar_url":"https://avatars.githubusercontent.com/u/1556037?v=4","gravatar_id":"","url":"https://api.github.com/users/tbm","html_url":"https://github.com/tbm","followers_url":"https://api.github.com/users/tbm/followers","following_url":"https://api.github.com/users/tbm/following{/other_user}","gists_url":"https://api.github.com/users/tbm/gists{/gist_id}","starred_url":"https://api.github.com/users/tbm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tbm/subscriptions","organizations_url":"https://api.github.com/users/tbm/orgs","repos_url":"https://api.github.com/users/tbm/repos","events_url":"https://api.github.com/users/tbm/events{/privacy}","received_events_url":"https://api.github.com/users/tbm/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"open","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":0,"created_at":"2020-07-25T04:03:29Z","updated_at":"2020-07-25T04:03:29Z","closed_at":null,"author_association":"CONTRIBUTOR","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"Should entry.meta and posting.meta always be an empty dict when not set or are they allowed to be None?\r\n\r\nWith automatically inserted padding entries (for example), they are None.  I was expecting an empty dict.\r\n\r\nThis is also a problem with some (external) importers that don't set meta properly.\r\n\r\nGetting clarify in the docs about this would be good.\r\n","closed_by":null,"reactions":{"url":"https://api.github.com/repos/beancount/beancount/issues/510/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beancount/issues/510/timeline","performed_via_github_app":null,"state_reason":null},{"url":"https://api.github.com/repos/beancount/beancount/issues/509","repository_url":"https://api.github.com/repos/beancount/beancount","labels_url":"https://api.github.com/repos/beancount/beancount/issues/509/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beancount/issues/509/comments","events_url":"https://api.github.com/repos/beancount/beancount/issues/509/events","html_url":"https://github.com/beancount/beancount/issues/509","id":664942086,"node_id":"MDU6SXNzdWU2NjQ5NDIwODY=","number":509,"title":"Posting order not preserved","user":{"login":"tbm","id":1556037,"node_id":"MDQ6VXNlcjE1NTYwMzc=","avatar_url":"https://avatars.githubusercontent.com/u/1556037?v=4","gravatar_id":"","url":"https://api.github.com/users/tbm","html_url":"https://github.com/tbm","followers_url":"https://api.github.com/users/tbm/followers","following_url":"https://api.github.com/users/tbm/following{/other_user}","gists_url":"https://api.github.com/users/tbm/gists{/gist_id}","starred_url":"https://api.github.com/users/tbm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tbm/subscriptions","organizations_url":"https://api.github.com/users/tbm/orgs","repos_url":"https://api.github.com/users/tbm/repos","events_url":"https://api.github.com/users/tbm/events{/privacy}","received_events_url":"https://api.github.com/users/tbm/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":2,"created_at":"2020-07-24T06:12:38Z","updated_at":"2020-07-24T11:27:06Z","closed_at":"2020-07-24T11:27:06Z","author_association":"CONTRIBUTOR","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"Shouldn't posting order always stay the same?\r\n\r\nTest:\r\n\r\n```\r\n2020-01-01 open Assets:Test\r\n\r\n2020-07-24 * \"Posting order changes\"\r\n  * Assets:Test     1000000000.00 EUR\r\n  Assets:Test      -1000000000.00 EUR\r\n  * Assets:Test     100000.00 EUREUREUREUREUR\r\n  Assets:Test      -100000.00 EUREUREUREUREUR\r\n  * Assets:Test      1000.00 EUR\r\n  Assets:Test       -1000.00 EUR\r\n```\r\n\r\nBut:\r\n\r\n```\r\nbean-report d.beancount print                                                                            master\r\n2020-01-01 open Assets:Test\r\n\r\n2020-07-24 * \"Posting order changes\"\r\n  * Assets:Test   1000000000.00 EUR            \r\n  Assets:Test    -1000000000.00 EUR            \r\n  * Assets:Test         1000.00 EUR            \r\n  Assets:Test          -1000.00 EUR            \r\n  * Assets:Test       100000.00 EUREUREUREUREUR\r\n  Assets:Test        -100000.00 EUREUREUREUREUR\r\n```\r\n\r\n","closed_by":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/beancount/beancount/issues/509/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beancount/issues/509/timeline","performed_via_github_app":null,"state_reason":"completed"},{"url":"https://api.github.com/repos/beancount/beancount/issues/508","repository_url":"https://api.github.com/repos/beancount/beancount","labels_url":"https://api.github.com/repos/beancount/beancount/issues/508/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beancount/issues/508/comments","events_url":"https://api.github.com/repos/beancount/beancount/issues/508/events","html_url":"https://github.com/beancount/beancount/issues/508","id":658824649,"node_id":"MDU6SXNzdWU2NTg4MjQ2NDk=","number":508,"title":"plugins unique_prices will cause empty output","user":{"login":"wctang","id":41708,"node_id":"MDQ6VXNlcjQxNzA4","avatar_url":"https://avatars.githubusercontent.com/u/41708?v=4","gravatar_id":"","url":"https://api.github.com/users/wctang","html_url":"https://github.com/wctang","followers_url":"https://api.github.com/users/wctang/followers","following_url":"https://api.github.com/users/wctang/following{/other_user}","gists_url":"https://api.github.com/users/wctang/gists{/gist_id}","starred_url":"https://api.github.com/users/wctang/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wctang/subscriptions","organizations_url":"https://api.github.com/users/wctang/orgs","repos_url":"https://api.github.com/users/wctang/repos","events_url":"https://api.github.com/users/wctang/events{/privacy}","received_events_url":"https://api.github.com/users/wctang/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":0,"created_at":"2020-07-17T03:59:15Z","updated_at":"2020-11-13T09:21:09Z","closed_at":"2020-11-13T09:21:09Z","author_association":"NONE","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"### Subject of the issue\r\nPlugins unique_prices will cause empty output\r\n\r\n### Your environment\r\nPython 3.8.2\r\nbeancount-2.2.3\r\n\r\n### Steps to reproduce\r\nAdd unique_prices plugin in bean file.\r\n\r\n### Expected behaviour\r\nShould have output show on bean-web.\r\n\r\n### Actual behaviour\r\noutput of bean-web will become empty.\r\n\r\n### Workaround\r\nmodify the beancount.plugins.unique_prices.py \r\n`return new_entries, errors`\r\nto\r\n`return entries, errors`\r\n","closed_by":{"login":"wctang","id":41708,"node_id":"MDQ6VXNlcjQxNzA4","avatar_url":"https://avatars.githubusercontent.com/u/41708?v=4","gravatar_id":"","url":"https://api.github.com/users/wctang","html_url":"https://github.com/wctang","followers_url":"https://api.github.com/users/wctang/followers","following_url":"https://api.github.com/users/wctang/following{/other_user}","gists_url":"https://api.github.com/users/wctang/gists{/gist_id}","starred_url":"https://api.github.com/users/wctang/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wctang/subscriptions","organizations_url":"https://api.github.com/users/wctang/orgs","repos_url":"https://api.github.com/users/wctang/repos","events_url":"https://api.github.com/users/wctang/events{/privacy}","received_events_url":"https://api.github.com/users/wctang/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/beancount/beancount/issues/508/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beancount/issues/508/timeline","performed_via_github_app":null,"state_reason":"completed"},{"url":"https://api.github.com/repos/beancount/beancount/issues/507","repository_url":"https://api.github.com/repos/beancount/beancount","labels_url":"https://api.github.com/repos/beancount/beancount/issues/507/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beancount/issues/507/comments","events_url":"https://api.github.com/repos/beancount/beancount/issues/507/events","html_url":"https://github.com/beancount/beancount/pull/507","id":658275503,"node_id":"MDExOlB1bGxSZXF1ZXN0NDUwMjYwOTA5","number":507,"title":"Adding US Thrift Savings plan as a price source.","user":{"login":"jmoles","id":2448063,"node_id":"MDQ6VXNlcjI0NDgwNjM=","avatar_url":"https://avatars.githubusercontent.com/u/2448063?v=4","gravatar_id":"","url":"https://api.github.com/users/jmoles","html_url":"https://github.com/jmoles","followers_url":"https://api.github.com/users/jmoles/followers","following_url":"https://api.github.com/users/jmoles/following{/other_user}","gists_url":"https://api.github.com/users/jmoles/gists{/gist_id}","starred_url":"https://api.github.com/users/jmoles/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jmoles/subscriptions","organizations_url":"https://api.github.com/users/jmoles/orgs","repos_url":"https://api.github.com/users/jmoles/repos","events_url":"https://api.github.com/users/jmoles/events{/privacy}","received_events_url":"https://api.github.com/users/jmoles/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":1,"created_at":"2020-07-16T14:54:32Z","updated_at":"2020-07-17T02:37:07Z","closed_at":"2020-07-17T02:37:07Z","author_association":"CONTRIBUTOR","type":null,"active_lock_reason":null,"draft":false,"pull_request":{"url":"https://api.github.com/repos/beancount/beancount/pulls/507","html_url":"https://github.com/beancount/beancount/pull/507","diff_url":"https://github.com/beancount/beancount/pull/507.diff","patch_url":"https://github.com/beancount/beancount/pull/507.patch","merged_at":"2020-07-17T02:37:07Z"},"body":"The US thrift savings plans (TSP) prices aren't posted like a typical stock (say like through Yahoo! Finance API). With the roll out of the new TSP web site, they seem to have an API to get the data that is on a user interface here (https://www.tsp.gov/fund-performance/share-price-history/). This adds a price source to get the latest and historic prices from the TSP web site.","closed_by":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/beancount/beancount/issues/507/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beancount/issues/507/timeline","performed_via_github_app":null,"state_reason":null},{"url":"https://api.github.com/repos/beancount/beancount/issues/506","repository_url":"https://api.github.com/repos/beancount/beancount","labels_url":"https://api.github.com/repos/beancount/beancount/issues/506/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beancount/issues/506/comments","events_url":"https://api.github.com/repos/beancount/beancount/issues/506/events","html_url":"https://github.com/beancount/beancount/pull/506","id":655130191,"node_id":"MDExOlB1bGxSZXF1ZXN0NDQ3NzE2MTE2","number":506,"title":"Remove some abandoned code","user":{"login":"dnicolodi","id":987145,"node_id":"MDQ6VXNlcjk4NzE0NQ==","avatar_url":"https://avatars.githubusercontent.com/u/987145?v=4","gravatar_id":"","url":"https://api.github.com/users/dnicolodi","html_url":"https://github.com/dnicolodi","followers_url":"https://api.github.com/users/dnicolodi/followers","following_url":"https://api.github.com/users/dnicolodi/following{/other_user}","gists_url":"https://api.github.com/users/dnicolodi/gists{/gist_id}","starred_url":"https://api.github.com/users/dnicolodi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dnicolodi/subscriptions","organizations_url":"https://api.github.com/users/dnicolodi/orgs","repos_url":"https://api.github.com/users/dnicolodi/repos","events_url":"https://api.github.com/users/dnicolodi/events{/privacy}","received_events_url":"https://api.github.com/users/dnicolodi/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":4,"created_at":"2020-07-11T04:14:53Z","updated_at":"2020-07-25T06:43:12Z","closed_at":"2020-07-25T05:09:24Z","author_association":"COLLABORATOR","type":null,"active_lock_reason":null,"draft":false,"pull_request":{"url":"https://api.github.com/repos/beancount/beancount/pulls/506","html_url":"https://github.com/beancount/beancount/pull/506","diff_url":"https://github.com/beancount/beancount/pull/506.diff","patch_url":"https://github.com/beancount/beancount/pull/506.patch","merged_at":"2020-07-25T05:09:24Z"},"body":"Probably from an attemot to better support UTF-8 input files.","closed_by":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/beancount/beancount/issues/506/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beancount/issues/506/timeline","performed_via_github_app":null,"state_reason":null},{"url":"https://api.github.com/repos/beancount/beancount/issues/505","repository_url":"https://api.github.com/repos/beancount/beancount","labels_url":"https://api.github.com/repos/beancount/beancount/issues/505/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beancount/issues/505/comments","events_url":"https://api.github.com/repos/beancount/beancount/issues/505/events","html_url":"https://github.com/beancount/beancount/pull/505","id":655128322,"node_id":"MDExOlB1bGxSZXF1ZXN0NDQ3NzE0ODY2","number":505,"title":"Implement construction of lexer tokens semantic values in compiled code","user":{"login":"dnicolodi","id":987145,"node_id":"MDQ6VXNlcjk4NzE0NQ==","avatar_url":"https://avatars.githubusercontent.com/u/987145?v=4","gravatar_id":"","url":"https://api.github.com/users/dnicolodi","html_url":"https://github.com/dnicolodi","followers_url":"https://api.github.com/users/dnicolodi/followers","following_url":"https://api.github.com/users/dnicolodi/following{/other_user}","gists_url":"https://api.github.com/users/dnicolodi/gists{/gist_id}","starred_url":"https://api.github.com/users/dnicolodi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dnicolodi/subscriptions","organizations_url":"https://api.github.com/users/dnicolodi/orgs","repos_url":"https://api.github.com/users/dnicolodi/repos","events_url":"https://api.github.com/users/dnicolodi/events{/privacy}","received_events_url":"https://api.github.com/users/dnicolodi/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":4,"created_at":"2020-07-11T04:00:41Z","updated_at":"2020-11-21T17:26:26Z","closed_at":"2020-08-09T16:34:34Z","author_association":"COLLABORATOR","type":null,"active_lock_reason":null,"draft":false,"pull_request":{"url":"https://api.github.com/repos/beancount/beancount/pulls/505","html_url":"https://github.com/beancount/beancount/pull/505","diff_url":"https://github.com/beancount/beancount/pull/505.diff","patch_url":"https://github.com/beancount/beancount/pull/505.patch","merged_at":"2020-08-09T16:34:34Z"},"body":"This builds on top of #498.","closed_by":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/beancount/beancount/issues/505/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beancount/issues/505/timeline","performed_via_github_app":null,"state_reason":null},{"url":"https://api.github.com/repos/beancount/beancount/issues/504","repository_url":"https://api.github.com/repos/beancount/beancount","labels_url":"https://api.github.com/repos/beancount/beancount/issues/504/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beancount/issues/504/comments","events_url":"https://api.github.com/repos/beancount/beancount/issues/504/events","html_url":"https://github.com/beancount/beancount/issues/504","id":654345279,"node_id":"MDU6SXNzdWU2NTQzNDUyNzk=","number":504,"title":"Input file encoding confusion","user":{"login":"dnicolodi","id":987145,"node_id":"MDQ6VXNlcjk4NzE0NQ==","avatar_url":"https://avatars.githubusercontent.com/u/987145?v=4","gravatar_id":"","url":"https://api.github.com/users/dnicolodi","html_url":"https://github.com/dnicolodi","followers_url":"https://api.github.com/users/dnicolodi/followers","following_url":"https://api.github.com/users/dnicolodi/following{/other_user}","gists_url":"https://api.github.com/users/dnicolodi/gists{/gist_id}","starred_url":"https://api.github.com/users/dnicolodi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dnicolodi/subscriptions","organizations_url":"https://api.github.com/users/dnicolodi/orgs","repos_url":"https://api.github.com/users/dnicolodi/repos","events_url":"https://api.github.com/users/dnicolodi/events{/privacy}","received_events_url":"https://api.github.com/users/dnicolodi/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":2,"created_at":"2020-07-09T21:01:24Z","updated_at":"2020-07-11T03:43:05Z","closed_at":"2020-07-11T03:43:05Z","author_association":"COLLABORATOR","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"The recent work on the parser and some still not merged work surfaced some inconsistencies in processing the Beancount input files regarding encoding. The ledger for the most part assumes UTF-8 encoding. The most relevant example is probably the definition of account names here https://github.com/beancount/beancount/blob/master/beancount/parser/lexer.l#L187. However, the parsing code allows to specify the encoding used to decode literal strings, used here https://github.com/beancount/beancount/blob/master/beancount/parser/lexer.l#L382. This code uses the `ignore` error handling policy is used (https://docs.python.org/3/library/codecs.html#error-handlers) and decoding errors are ignored.\r\n\r\nThere are unit tests that verify that passing an encoding to the parser does the right thing. However, there are inconsistencies in what is expected: passing a Latin1 encoded string when the default UTF-8 encoding is used is expected to yield a garbled string (https://github.com/beancount/beancount/blob/master/beancount/parser/lexer_test.py#L708), passing an UTF-16 encoded string in the same circumstances is expected to raise an exception (https://github.com/beancount/beancount/blob/master/beancount/parser/lexer_test.py#L735). Turns out that the exception is actually coming from somewhere else in the code and not from the string decoding.\r\n\r\nI think string decoding errors should be reported. I don't think silently returning garbled strings is a good idea. In my opinion this is a bug fix and not a change in behavior.\r\n\r\nI don't think that having string literals encoded in a different encoding than the rest of the input file is a sensible thing to do, and I don't know of a tool that would easily allow this. I think the code currently tries to support the case of encodings different from UTF-8 when account names are restricted to ASCII. This works when the given encoding encodes the ASCII subset to ASCII bytes values. This is a property of some \"western\" encoding systems like Latin1, but not universal. Incidentally, most (all?) Beancount tools do not allow to specify the input file encoding, thus the UTF-8 default is used. For those reasons I propose to remove the support for encodings different than UTF-8. @blais I may be missing something here. Do you remember why the possibility to specify a different encoding for just the string literals was introduced?\r\n\r\nThis may be seen as breaking backward compatibility (someone should have gone at long lengths to make non UTF-8 encoding work and I think we should have heard their screams, but I cannot exclude that some strange Beancount files exist in the wild). If this is a concert, I propose to keep accepting `encoding` parameter in the parsing functions but silently ignore it, and use the `replace` error handling policy for string literals but not for other strings. In this way the encoding problems should be evident.\r\n\r\nThe change should be a few lines patch to the code and an hundred lines patch to the tests.","closed_by":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/beancount/beancount/issues/504/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beancount/issues/504/timeline","performed_via_github_app":null,"state_reason":"completed"},{"url":"https://api.github.com/repos/beancount/beancount/issues/503","repository_url":"https://api.github.com/repos/beancount/beancount","labels_url":"https://api.github.com/repos/beancount/beancount/issues/503/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beancount/issues/503/comments","events_url":"https://api.github.com/repos/beancount/beancount/issues/503/events","html_url":"https://github.com/beancount/beancount/issues/503","id":654252312,"node_id":"MDU6SXNzdWU2NTQyNTIzMTI=","number":503,"title":"docs are hard to reference and find","user":{"login":"simonmichael","id":10144,"node_id":"MDQ6VXNlcjEwMTQ0","avatar_url":"https://avatars.githubusercontent.com/u/10144?v=4","gravatar_id":"","url":"https://api.github.com/users/simonmichael","html_url":"https://github.com/simonmichael","followers_url":"https://api.github.com/users/simonmichael/followers","following_url":"https://api.github.com/users/simonmichael/following{/other_user}","gists_url":"https://api.github.com/users/simonmichael/gists{/gist_id}","starred_url":"https://api.github.com/users/simonmichael/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/simonmichael/subscriptions","organizations_url":"https://api.github.com/users/simonmichael/orgs","repos_url":"https://api.github.com/users/simonmichael/repos","events_url":"https://api.github.com/users/simonmichael/events{/privacy}","received_events_url":"https://api.github.com/users/simonmichael/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":2080994022,"node_id":"MDU6TGFiZWwyMDgwOTk0MDIy","url":"https://api.github.com/repos/beancount/beancount/labels/P2","name":"P2","color":"ffaaaa","default":false,"description":"Low priority, addressing would result in useful improvements"},{"id":2081000198,"node_id":"MDU6TGFiZWwyMDgxMDAwMTk4","url":"https://api.github.com/repos/beancount/beancount/labels/documentation","name":"documentation","color":"ededed","default":true,"description":"Component: Improvements or additions to documentation"}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":8,"created_at":"2020-07-09T18:09:59Z","updated_at":"2020-07-22T01:06:36Z","closed_at":"2020-07-22T01:06:36Z","author_association":"CONTRIBUTOR","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"Excuse this complaint, it's intended to help. Beancount has arguably the best docs in plain text accounting, but they are always too hard to reference and find. Here are a few simple things that would help a lot:\r\n\r\n- http://furius.ca/beancount/ -> Documentation section should include a link to the fast and navigable docs mirror at https://beancount.github.io/docs \r\n\r\n- https://beancount.github.io should have a front page or redirect linking there too, so that we can get to the docs by just remembering a hostname\r\n\r\n- The \"Health Care Expenses\" doc at https://docs.google.com/document/d/16RKEl1NJ3qg8VU9vKRRvgIv3CyGs0_4ASS4lD5iBFTw/edit#heading=h.k8gf9rm4lopl, which I originally found via https://www.reddit.com/r/plaintextaccounting/comments/hl8vm0/healthcare_expenses_structuring and then had a hard time tracking down again, should be linked in the google and mkdocs docs. Even if it's unfinished, I've found it quite useful and inspiring.\r\n\r\nThanks for the docs!","closed_by":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/beancount/beancount/issues/503/reactions","total_count":2,"+1":2,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beancount/issues/503/timeline","performed_via_github_app":null,"state_reason":"completed"},{"url":"https://api.github.com/repos/beancount/beancount/issues/502","repository_url":"https://api.github.com/repos/beancount/beancount","labels_url":"https://api.github.com/repos/beancount/beancount/issues/502/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beancount/issues/502/comments","events_url":"https://api.github.com/repos/beancount/beancount/issues/502/events","html_url":"https://github.com/beancount/beancount/pull/502","id":653605788,"node_id":"MDExOlB1bGxSZXF1ZXN0NDQ2NDkyNDA1","number":502,"title":"CI fix","user":{"login":"dnicolodi","id":987145,"node_id":"MDQ6VXNlcjk4NzE0NQ==","avatar_url":"https://avatars.githubusercontent.com/u/987145?v=4","gravatar_id":"","url":"https://api.github.com/users/dnicolodi","html_url":"https://github.com/dnicolodi","followers_url":"https://api.github.com/users/dnicolodi/followers","following_url":"https://api.github.com/users/dnicolodi/following{/other_user}","gists_url":"https://api.github.com/users/dnicolodi/gists{/gist_id}","starred_url":"https://api.github.com/users/dnicolodi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dnicolodi/subscriptions","organizations_url":"https://api.github.com/users/dnicolodi/orgs","repos_url":"https://api.github.com/users/dnicolodi/repos","events_url":"https://api.github.com/users/dnicolodi/events{/privacy}","received_events_url":"https://api.github.com/users/dnicolodi/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":2,"created_at":"2020-07-08T21:22:31Z","updated_at":"2020-07-09T02:45:14Z","closed_at":"2020-07-08T21:33:18Z","author_association":"COLLABORATOR","type":null,"active_lock_reason":null,"draft":false,"pull_request":{"url":"https://api.github.com/repos/beancount/beancount/pulls/502","html_url":"https://github.com/beancount/beancount/pull/502","diff_url":"https://github.com/beancount/beancount/pull/502.diff","patch_url":"https://github.com/beancount/beancount/pull/502.patch","merged_at":null},"body":"The most recent Ununtu release supported by Travis-CI is Focal which\r\nships with Bison 3.5. We now require Bison 3.6. This worked because\r\nthe Makefile decided not to rebuild the checked in generted files when\r\nthe commit requiring Bison 3.6 was introduced. When the Makefile\r\nattempts to regenerate the grammar it fails.\r\n\r\nInstall a more recent Bison as part of the CI setup.","closed_by":{"login":"dnicolodi","id":987145,"node_id":"MDQ6VXNlcjk4NzE0NQ==","avatar_url":"https://avatars.githubusercontent.com/u/987145?v=4","gravatar_id":"","url":"https://api.github.com/users/dnicolodi","html_url":"https://github.com/dnicolodi","followers_url":"https://api.github.com/users/dnicolodi/followers","following_url":"https://api.github.com/users/dnicolodi/following{/other_user}","gists_url":"https://api.github.com/users/dnicolodi/gists{/gist_id}","starred_url":"https://api.github.com/users/dnicolodi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dnicolodi/subscriptions","organizations_url":"https://api.github.com/users/dnicolodi/orgs","repos_url":"https://api.github.com/users/dnicolodi/repos","events_url":"https://api.github.com/users/dnicolodi/events{/privacy}","received_events_url":"https://api.github.com/users/dnicolodi/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/beancount/beancount/issues/502/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beancount/issues/502/timeline","performed_via_github_app":null,"state_reason":null},{"url":"https://api.github.com/repos/beancount/beancount/issues/501","repository_url":"https://api.github.com/repos/beancount/beancount","labels_url":"https://api.github.com/repos/beancount/beancount/issues/501/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beancount/issues/501/comments","events_url":"https://api.github.com/repos/beancount/beancount/issues/501/events","html_url":"https://github.com/beancount/beancount/pull/501","id":653560936,"node_id":"MDExOlB1bGxSZXF1ZXN0NDQ2NDU2MDU4","number":501,"title":"CI debugging","user":{"login":"dnicolodi","id":987145,"node_id":"MDQ6VXNlcjk4NzE0NQ==","avatar_url":"https://avatars.githubusercontent.com/u/987145?v=4","gravatar_id":"","url":"https://api.github.com/users/dnicolodi","html_url":"https://github.com/dnicolodi","followers_url":"https://api.github.com/users/dnicolodi/followers","following_url":"https://api.github.com/users/dnicolodi/following{/other_user}","gists_url":"https://api.github.com/users/dnicolodi/gists{/gist_id}","starred_url":"https://api.github.com/users/dnicolodi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dnicolodi/subscriptions","organizations_url":"https://api.github.com/users/dnicolodi/orgs","repos_url":"https://api.github.com/users/dnicolodi/repos","events_url":"https://api.github.com/users/dnicolodi/events{/privacy}","received_events_url":"https://api.github.com/users/dnicolodi/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":0,"created_at":"2020-07-08T20:03:53Z","updated_at":"2020-07-08T21:36:03Z","closed_at":"2020-07-08T21:25:52Z","author_association":"COLLABORATOR","type":null,"active_lock_reason":null,"draft":false,"pull_request":{"url":"https://api.github.com/repos/beancount/beancount/pulls/501","html_url":"https://github.com/beancount/beancount/pull/501","diff_url":"https://github.com/beancount/beancount/pull/501.diff","patch_url":"https://github.com/beancount/beancount/pull/501.patch","merged_at":"2020-07-08T21:25:52Z"},"body":"It seems that sometimes we have Bison 3.6 and sometimes Bison 3.5...","closed_by":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/beancount/beancount/issues/501/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beancount/issues/501/timeline","performed_via_github_app":null,"state_reason":null},{"url":"https://api.github.com/repos/beancount/beancount/issues/499","repository_url":"https://api.github.com/repos/beancount/beancount","labels_url":"https://api.github.com/repos/beancount/beancount/issues/499/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beancount/issues/499/comments","events_url":"https://api.github.com/repos/beancount/beancount/issues/499/events","html_url":"https://github.com/beancount/beancount/pull/499","id":652614917,"node_id":"MDExOlB1bGxSZXF1ZXN0NDQ1NjU0MTA4","number":499,"title":"Removed rounding in Coinbase price fetcher","user":{"login":"edejong","id":2988403,"node_id":"MDQ6VXNlcjI5ODg0MDM=","avatar_url":"https://avatars.githubusercontent.com/u/2988403?v=4","gravatar_id":"","url":"https://api.github.com/users/edejong","html_url":"https://github.com/edejong","followers_url":"https://api.github.com/users/edejong/followers","following_url":"https://api.github.com/users/edejong/following{/other_user}","gists_url":"https://api.github.com/users/edejong/gists{/gist_id}","starred_url":"https://api.github.com/users/edejong/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/edejong/subscriptions","organizations_url":"https://api.github.com/users/edejong/orgs","repos_url":"https://api.github.com/users/edejong/repos","events_url":"https://api.github.com/users/edejong/events{/privacy}","received_events_url":"https://api.github.com/users/edejong/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":0,"created_at":"2020-07-07T20:25:45Z","updated_at":"2020-07-07T23:01:52Z","closed_at":"2020-07-07T23:01:52Z","author_association":"CONTRIBUTOR","type":null,"active_lock_reason":null,"draft":false,"pull_request":{"url":"https://api.github.com/repos/beancount/beancount/pulls/499","html_url":"https://github.com/beancount/beancount/pull/499","diff_url":"https://github.com/beancount/beancount/pull/499.diff","patch_url":"https://github.com/beancount/beancount/pull/499.patch","merged_at":"2020-07-07T23:01:52Z"},"body":"I noticed the coinbase prices were always rounded to two decimals, something that doesn't make any sense for crypto currencies that for example are worth less than a cent right now.\r\n\r\nCoinbase returns the amounts as strings, not as numerics. my guess is that's what previously made the test fail without the rounding.","closed_by":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/beancount/beancount/issues/499/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beancount/issues/499/timeline","performed_via_github_app":null,"state_reason":null},{"url":"https://api.github.com/repos/beancount/beancount/issues/498","repository_url":"https://api.github.com/repos/beancount/beancount","labels_url":"https://api.github.com/repos/beancount/beancount/issues/498/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beancount/issues/498/comments","events_url":"https://api.github.com/repos/beancount/beancount/issues/498/events","html_url":"https://github.com/beancount/beancount/pull/498","id":652525172,"node_id":"MDExOlB1bGxSZXF1ZXN0NDQ1NTc2ODkz","number":498,"title":"Preparatory work to move construction of the tokens semantic values to compiled code","user":{"login":"dnicolodi","id":987145,"node_id":"MDQ6VXNlcjk4NzE0NQ==","avatar_url":"https://avatars.githubusercontent.com/u/987145?v=4","gravatar_id":"","url":"https://api.github.com/users/dnicolodi","html_url":"https://github.com/dnicolodi","followers_url":"https://api.github.com/users/dnicolodi/followers","following_url":"https://api.github.com/users/dnicolodi/following{/other_user}","gists_url":"https://api.github.com/users/dnicolodi/gists{/gist_id}","starred_url":"https://api.github.com/users/dnicolodi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dnicolodi/subscriptions","organizations_url":"https://api.github.com/users/dnicolodi/orgs","repos_url":"https://api.github.com/users/dnicolodi/repos","events_url":"https://api.github.com/users/dnicolodi/events{/privacy}","received_events_url":"https://api.github.com/users/dnicolodi/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":8,"created_at":"2020-07-07T18:20:32Z","updated_at":"2020-08-03T05:24:03Z","closed_at":"2020-08-03T03:46:17Z","author_association":"COLLABORATOR","type":null,"active_lock_reason":null,"draft":false,"pull_request":{"url":"https://api.github.com/repos/beancount/beancount/pulls/498","html_url":"https://github.com/beancount/beancount/pull/498","diff_url":"https://github.com/beancount/beancount/pull/498.diff","patch_url":"https://github.com/beancount/beancount/pull/498.patch","merged_at":"2020-08-03T03:46:17Z"},"body":"The string literals parsing changes allows to avoid a copy for string that do not contain escape sequences. This optimization is not implemented yet.","closed_by":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/beancount/beancount/issues/498/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beancount/issues/498/timeline","performed_via_github_app":null,"state_reason":null},{"url":"https://api.github.com/repos/beancount/beancount/issues/497","repository_url":"https://api.github.com/repos/beancount/beancount","labels_url":"https://api.github.com/repos/beancount/beancount/issues/497/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beancount/issues/497/comments","events_url":"https://api.github.com/repos/beancount/beancount/issues/497/events","html_url":"https://github.com/beancount/beancount/pull/497","id":652010833,"node_id":"MDExOlB1bGxSZXF1ZXN0NDQ1MTYwNjk2","number":497,"title":"Rename BUILD to BUILD.bazel","user":{"login":"dnicolodi","id":987145,"node_id":"MDQ6VXNlcjk4NzE0NQ==","avatar_url":"https://avatars.githubusercontent.com/u/987145?v=4","gravatar_id":"","url":"https://api.github.com/users/dnicolodi","html_url":"https://github.com/dnicolodi","followers_url":"https://api.github.com/users/dnicolodi/followers","following_url":"https://api.github.com/users/dnicolodi/following{/other_user}","gists_url":"https://api.github.com/users/dnicolodi/gists{/gist_id}","starred_url":"https://api.github.com/users/dnicolodi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dnicolodi/subscriptions","organizations_url":"https://api.github.com/users/dnicolodi/orgs","repos_url":"https://api.github.com/users/dnicolodi/repos","events_url":"https://api.github.com/users/dnicolodi/events{/privacy}","received_events_url":"https://api.github.com/users/dnicolodi/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":0,"created_at":"2020-07-07T05:23:10Z","updated_at":"2020-07-08T03:22:21Z","closed_at":"2020-07-07T15:13:31Z","author_association":"COLLABORATOR","type":null,"active_lock_reason":null,"draft":false,"pull_request":{"url":"https://api.github.com/repos/beancount/beancount/pulls/497","html_url":"https://github.com/beancount/beancount/pull/497","diff_url":"https://github.com/beancount/beancount/pull/497.diff","patch_url":"https://github.com/beancount/beancount/pull/497.patch","merged_at":"2020-07-07T15:13:31Z"},"body":"macOS uses by default a case insensitive filesystem. This rename\r\navoids a name clash between the Bazel build definition file and the\r\nbuild folder created by setuptools when Python extensions are\r\ncompiled.","closed_by":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/beancount/beancount/issues/497/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beancount/issues/497/timeline","performed_via_github_app":null,"state_reason":null},{"url":"https://api.github.com/repos/beancount/beancount/issues/496","repository_url":"https://api.github.com/repos/beancount/beancount","labels_url":"https://api.github.com/repos/beancount/beancount/issues/496/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beancount/issues/496/comments","events_url":"https://api.github.com/repos/beancount/beancount/issues/496/events","html_url":"https://github.com/beancount/beancount/pull/496","id":651980527,"node_id":"MDExOlB1bGxSZXF1ZXN0NDQ1MTM1Njcy","number":496,"title":"makefile: Do not clobber the Bazel build definition on make clean","user":{"login":"dnicolodi","id":987145,"node_id":"MDQ6VXNlcjk4NzE0NQ==","avatar_url":"https://avatars.githubusercontent.com/u/987145?v=4","gravatar_id":"","url":"https://api.github.com/users/dnicolodi","html_url":"https://github.com/dnicolodi","followers_url":"https://api.github.com/users/dnicolodi/followers","following_url":"https://api.github.com/users/dnicolodi/following{/other_user}","gists_url":"https://api.github.com/users/dnicolodi/gists{/gist_id}","starred_url":"https://api.github.com/users/dnicolodi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dnicolodi/subscriptions","organizations_url":"https://api.github.com/users/dnicolodi/orgs","repos_url":"https://api.github.com/users/dnicolodi/repos","events_url":"https://api.github.com/users/dnicolodi/events{/privacy}","received_events_url":"https://api.github.com/users/dnicolodi/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":1,"created_at":"2020-07-07T04:08:04Z","updated_at":"2020-07-08T03:15:40Z","closed_at":"2020-07-07T05:07:28Z","author_association":"COLLABORATOR","type":null,"active_lock_reason":null,"draft":false,"pull_request":{"url":"https://api.github.com/repos/beancount/beancount/pulls/496","html_url":"https://github.com/beancount/beancount/pull/496","diff_url":"https://github.com/beancount/beancount/pull/496.diff","patch_url":"https://github.com/beancount/beancount/pull/496.patch","merged_at":null},"body":"As far as I can tell there is no reason to remove a 'build' directory\r\non 'make clean' and this removes the Bazel BUIL definition on my\r\nsystem: macOS uses case insensitive filesystem by defaul. Yes, it\r\nsucks.","closed_by":{"login":"dnicolodi","id":987145,"node_id":"MDQ6VXNlcjk4NzE0NQ==","avatar_url":"https://avatars.githubusercontent.com/u/987145?v=4","gravatar_id":"","url":"https://api.github.com/users/dnicolodi","html_url":"https://github.com/dnicolodi","followers_url":"https://api.github.com/users/dnicolodi/followers","following_url":"https://api.github.com/users/dnicolodi/following{/other_user}","gists_url":"https://api.github.com/users/dnicolodi/gists{/gist_id}","starred_url":"https://api.github.com/users/dnicolodi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dnicolodi/subscriptions","organizations_url":"https://api.github.com/users/dnicolodi/orgs","repos_url":"https://api.github.com/users/dnicolodi/repos","events_url":"https://api.github.com/users/dnicolodi/events{/privacy}","received_events_url":"https://api.github.com/users/dnicolodi/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/beancount/beancount/issues/496/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beancount/issues/496/timeline","performed_via_github_app":null,"state_reason":null},{"url":"https://api.github.com/repos/beancount/beancount/issues/495","repository_url":"https://api.github.com/repos/beancount/beancount","labels_url":"https://api.github.com/repos/beancount/beancount/issues/495/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beancount/issues/495/comments","events_url":"https://api.github.com/repos/beancount/beancount/issues/495/events","html_url":"https://github.com/beancount/beancount/pull/495","id":651821948,"node_id":"MDExOlB1bGxSZXF1ZXN0NDQ1MDA0NjMy","number":495,"title":"Enabled historical price fetching for Coinbase","user":{"login":"edejong","id":2988403,"node_id":"MDQ6VXNlcjI5ODg0MDM=","avatar_url":"https://avatars.githubusercontent.com/u/2988403?v=4","gravatar_id":"","url":"https://api.github.com/users/edejong","html_url":"https://github.com/edejong","followers_url":"https://api.github.com/users/edejong/followers","following_url":"https://api.github.com/users/edejong/following{/other_user}","gists_url":"https://api.github.com/users/edejong/gists{/gist_id}","starred_url":"https://api.github.com/users/edejong/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/edejong/subscriptions","organizations_url":"https://api.github.com/users/edejong/orgs","repos_url":"https://api.github.com/users/edejong/repos","events_url":"https://api.github.com/users/edejong/events{/privacy}","received_events_url":"https://api.github.com/users/edejong/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":0,"created_at":"2020-07-06T21:12:24Z","updated_at":"2020-07-06T21:47:47Z","closed_at":"2020-07-06T21:47:47Z","author_association":"CONTRIBUTOR","type":null,"active_lock_reason":null,"draft":false,"pull_request":{"url":"https://api.github.com/repos/beancount/beancount/pulls/495","html_url":"https://github.com/beancount/beancount/pull/495","diff_url":"https://github.com/beancount/beancount/pull/495.diff","patch_url":"https://github.com/beancount/beancount/pull/495.patch","merged_at":"2020-07-06T21:47:47Z"},"body":"I added functionality to fetch historical prices from Coinbase. It's supported through a `date` parameter as seems to have been prophesied in the previous NotImplementedError.","closed_by":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/beancount/beancount/issues/495/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beancount/issues/495/timeline","performed_via_github_app":null,"state_reason":null},{"url":"https://api.github.com/repos/beancount/beancount/issues/494","repository_url":"https://api.github.com/repos/beancount/beancount","labels_url":"https://api.github.com/repos/beancount/beancount/issues/494/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beancount/issues/494/comments","events_url":"https://api.github.com/repos/beancount/beancount/issues/494/events","html_url":"https://github.com/beancount/beancount/issues/494","id":650845111,"node_id":"MDU6SXNzdWU2NTA4NDUxMTE=","number":494,"title":"Current conversions seem to be wrongly put in Conversions:Previous","user":{"login":"SmartHypercube","id":7789364,"node_id":"MDQ6VXNlcjc3ODkzNjQ=","avatar_url":"https://avatars.githubusercontent.com/u/7789364?v=4","gravatar_id":"","url":"https://api.github.com/users/SmartHypercube","html_url":"https://github.com/SmartHypercube","followers_url":"https://api.github.com/users/SmartHypercube/followers","following_url":"https://api.github.com/users/SmartHypercube/following{/other_user}","gists_url":"https://api.github.com/users/SmartHypercube/gists{/gist_id}","starred_url":"https://api.github.com/users/SmartHypercube/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/SmartHypercube/subscriptions","organizations_url":"https://api.github.com/users/SmartHypercube/orgs","repos_url":"https://api.github.com/users/SmartHypercube/repos","events_url":"https://api.github.com/users/SmartHypercube/events{/privacy}","received_events_url":"https://api.github.com/users/SmartHypercube/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":2080994777,"node_id":"MDU6TGFiZWwyMDgwOTk0Nzc3","url":"https://api.github.com/repos/beancount/beancount/labels/P1","name":"P1","color":"ff6666","default":false,"description":"High priority, not breaking but hindering or lessening existing functionality"},{"id":2080995603,"node_id":"MDU6TGFiZWwyMDgwOTk1NjAz","url":"https://api.github.com/repos/beancount/beancount/labels/core-ops","name":"core-ops","color":"ededed","default":false,"description":"Component: Core data structures and stream ops"}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":1,"created_at":"2020-07-04T07:34:33Z","updated_at":"2020-07-04T14:30:15Z","closed_at":"2020-07-04T14:29:45Z","author_association":"NONE","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"```\r\n2019-01-01 open Assets:A\r\n2019-01-01 open Income:B\r\n\r\n# In 2019, I got 1 USD\r\n\r\n2019-02-01 *\r\n  Assets:A  1.00 USD\r\n  Income:B\r\n\r\n# In 2020, I converted it to 7 CNY\r\n\r\n2020-05-01 *\r\n  Assets:A   7.00 CNY @\r\n  Assets:A  -1.00 USD\r\n```\r\nInstall `beancount==2.3.0` (latest release on PyPI). Use `bean-web` to open this file. Select \"**year 2020**\". You will see \"Equity\" table like this:\r\n\r\nAccount | Other\r\n-- | --\r\nEquity:Conversions:Previous | 1.00 USD<br>-7.00 CNY\r\nEquity:Earnings:Previous | -1.00 USD\r\nOpening-Balances |  \r\n\r\nI earned 1 USD in 2019, and earned nothing in 2020. As I am viewing the year 2020, `Equity:Earnings:Previous` should contain -1 USD. `Equity:Earnings:Current` should be empty. They are both correct.\r\n\r\nHowever, **I converted nothing in 2019, and converted 1 USD to 7 CNY in 2020. Why does `Equity:Conversions:Previous` show the conversion, while `Equity:Conversions:Current` is empty?** Is there a bug or I simply didn't understand what \"current\" and \"previous\" mean?","closed_by":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/beancount/beancount/issues/494/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beancount/issues/494/timeline","performed_via_github_app":null,"state_reason":"completed"},{"url":"https://api.github.com/repos/beancount/beancount/issues/493","repository_url":"https://api.github.com/repos/beancount/beancount","labels_url":"https://api.github.com/repos/beancount/beancount/issues/493/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beancount/issues/493/comments","events_url":"https://api.github.com/repos/beancount/beancount/issues/493/events","html_url":"https://github.com/beancount/beancount/pull/493","id":650529775,"node_id":"MDExOlB1bGxSZXF1ZXN0NDQ0MDAzMjY2","number":493,"title":"CSV importer: don't set empty tags and links","user":{"login":"tbm","id":1556037,"node_id":"MDQ6VXNlcjE1NTYwMzc=","avatar_url":"https://avatars.githubusercontent.com/u/1556037?v=4","gravatar_id":"","url":"https://api.github.com/users/tbm","html_url":"https://github.com/tbm","followers_url":"https://api.github.com/users/tbm/followers","following_url":"https://api.github.com/users/tbm/following{/other_user}","gists_url":"https://api.github.com/users/tbm/gists{/gist_id}","starred_url":"https://api.github.com/users/tbm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tbm/subscriptions","organizations_url":"https://api.github.com/users/tbm/orgs","repos_url":"https://api.github.com/users/tbm/repos","events_url":"https://api.github.com/users/tbm/events{/privacy}","received_events_url":"https://api.github.com/users/tbm/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":0,"created_at":"2020-07-03T11:15:18Z","updated_at":"2020-07-03T14:29:03Z","closed_at":"2020-07-03T14:29:03Z","author_association":"CONTRIBUTOR","type":null,"active_lock_reason":null,"draft":false,"pull_request":{"url":"https://api.github.com/repos/beancount/beancount/pulls/493","html_url":"https://github.com/beancount/beancount/pull/493","diff_url":"https://github.com/beancount/beancount/pull/493.diff","patch_url":"https://github.com/beancount/beancount/pull/493.patch","merged_at":"2020-07-03T14:29:03Z"},"body":"Empty strings should not cause (invalid) tags or links to be created.","closed_by":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/beancount/beancount/issues/493/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beancount/issues/493/timeline","performed_via_github_app":null,"state_reason":null},{"url":"https://api.github.com/repos/beancount/beancount/issues/492","repository_url":"https://api.github.com/repos/beancount/beancount","labels_url":"https://api.github.com/repos/beancount/beancount/issues/492/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beancount/issues/492/comments","events_url":"https://api.github.com/repos/beancount/beancount/issues/492/events","html_url":"https://github.com/beancount/beancount/pull/492","id":648439764,"node_id":"MDExOlB1bGxSZXF1ZXN0NDQyMjQ5Njc5","number":492,"title":"Reentrant parser cleanup","user":{"login":"dnicolodi","id":987145,"node_id":"MDQ6VXNlcjk4NzE0NQ==","avatar_url":"https://avatars.githubusercontent.com/u/987145?v=4","gravatar_id":"","url":"https://api.github.com/users/dnicolodi","html_url":"https://github.com/dnicolodi","followers_url":"https://api.github.com/users/dnicolodi/followers","following_url":"https://api.github.com/users/dnicolodi/following{/other_user}","gists_url":"https://api.github.com/users/dnicolodi/gists{/gist_id}","starred_url":"https://api.github.com/users/dnicolodi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dnicolodi/subscriptions","organizations_url":"https://api.github.com/users/dnicolodi/orgs","repos_url":"https://api.github.com/users/dnicolodi/repos","events_url":"https://api.github.com/users/dnicolodi/events{/privacy}","received_events_url":"https://api.github.com/users/dnicolodi/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":3,"created_at":"2020-06-30T19:33:07Z","updated_at":"2020-07-08T03:22:05Z","closed_at":"2020-07-07T15:13:02Z","author_association":"COLLABORATOR","type":null,"active_lock_reason":null,"draft":false,"pull_request":{"url":"https://api.github.com/repos/beancount/beancount/pulls/492","html_url":"https://github.com/beancount/beancount/pull/492","diff_url":"https://github.com/beancount/beancount/pull/492.diff","patch_url":"https://github.com/beancount/beancount/pull/492.patch","merged_at":"2020-07-07T15:13:02Z"},"body":"Some code simplification and cleanups on top of #491. These are the last patches I had from the large parser rework. The patch count is larger in the broken up PRs because I decided to split the changes differently, hopefully in an easier to review way. I actually dropped some useless changes (renames and the like...). I will push the parches with the move of the token semantic values construction to compiled code next.","closed_by":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/beancount/beancount/issues/492/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beancount/issues/492/timeline","performed_via_github_app":null,"state_reason":null},{"url":"https://api.github.com/repos/beancount/beancount/issues/491","repository_url":"https://api.github.com/repos/beancount/beancount","labels_url":"https://api.github.com/repos/beancount/beancount/issues/491/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beancount/issues/491/comments","events_url":"https://api.github.com/repos/beancount/beancount/issues/491/events","html_url":"https://github.com/beancount/beancount/pull/491","id":647851114,"node_id":"MDExOlB1bGxSZXF1ZXN0NDQxNzc2NTQ0","number":491,"title":"Reentrant parser fixes","user":{"login":"dnicolodi","id":987145,"node_id":"MDQ6VXNlcjk4NzE0NQ==","avatar_url":"https://avatars.githubusercontent.com/u/987145?v=4","gravatar_id":"","url":"https://api.github.com/users/dnicolodi","html_url":"https://github.com/dnicolodi","followers_url":"https://api.github.com/users/dnicolodi/followers","following_url":"https://api.github.com/users/dnicolodi/following{/other_user}","gists_url":"https://api.github.com/users/dnicolodi/gists{/gist_id}","starred_url":"https://api.github.com/users/dnicolodi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dnicolodi/subscriptions","organizations_url":"https://api.github.com/users/dnicolodi/orgs","repos_url":"https://api.github.com/users/dnicolodi/repos","events_url":"https://api.github.com/users/dnicolodi/events{/privacy}","received_events_url":"https://api.github.com/users/dnicolodi/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":0,"created_at":"2020-06-30T04:34:48Z","updated_at":"2020-07-08T03:27:58Z","closed_at":"2020-07-06T22:31:38Z","author_association":"COLLABORATOR","type":null,"active_lock_reason":null,"draft":false,"pull_request":{"url":"https://api.github.com/repos/beancount/beancount/pulls/491","html_url":"https://github.com/beancount/beancount/pull/491","diff_url":"https://github.com/beancount/beancount/pull/491.diff","patch_url":"https://github.com/beancount/beancount/pull/491.patch","merged_at":"2020-07-06T22:31:38Z"},"body":"The first two patches are simplifications of the parser code. The third fixes reference counting of Python object passed to the parser. The last one fixes a potential memory leak. The memory leak is not triggered by how Beancount uses the Parser object now, but the potential is there and it does not take much to fix it.","closed_by":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/beancount/beancount/issues/491/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beancount/issues/491/timeline","performed_via_github_app":null,"state_reason":null},{"url":"https://api.github.com/repos/beancount/beancount/issues/490","repository_url":"https://api.github.com/repos/beancount/beancount","labels_url":"https://api.github.com/repos/beancount/beancount/issues/490/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beancount/issues/490/comments","events_url":"https://api.github.com/repos/beancount/beancount/issues/490/events","html_url":"https://github.com/beancount/beancount/issues/490","id":647095801,"node_id":"MDU6SXNzdWU2NDcwOTU4MDE=","number":490,"title":"Grouping character in numerical values parsing","user":{"login":"dnicolodi","id":987145,"node_id":"MDQ6VXNlcjk4NzE0NQ==","avatar_url":"https://avatars.githubusercontent.com/u/987145?v=4","gravatar_id":"","url":"https://api.github.com/users/dnicolodi","html_url":"https://github.com/dnicolodi","followers_url":"https://api.github.com/users/dnicolodi/followers","following_url":"https://api.github.com/users/dnicolodi/following{/other_user}","gists_url":"https://api.github.com/users/dnicolodi/gists{/gist_id}","starred_url":"https://api.github.com/users/dnicolodi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dnicolodi/subscriptions","organizations_url":"https://api.github.com/users/dnicolodi/orgs","repos_url":"https://api.github.com/users/dnicolodi/repos","events_url":"https://api.github.com/users/dnicolodi/events{/privacy}","received_events_url":"https://api.github.com/users/dnicolodi/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"open","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":1,"created_at":"2020-06-29T04:04:21Z","updated_at":"2020-07-13T22:05:56Z","closed_at":null,"author_association":"COLLABORATOR","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"The code that checks the formatting of numerical values parsing looks like this (simplified from lexer.py):\r\n\r\n```\r\nmatch = re.match(r\"([\\d,]*)(\\.\\d*)?$\", number)\r\nint_string, float_string = match.groups()\r\nreformatted_number = r\"{:,.0f}\".format(int(int_string.replace(\",\", \"\")))\r\nif int_string != reformatted_number:\r\n    raise ValueError\r\n```\r\nthe intent is to support numerical values formatted with `.` as the decimal separator and `,` as grouping character.\r\n\r\nFor all locales that use those two characters in those two roles, except one, the grouping character is a thousands separator, for example `1,234,567,890.00`. For the `hi_IN` locale, things are more complicated, and easily explained with an example. In this locale the same number is formatted like this `1,23,45,67,890.00`, but only if it is a monetary amount.\r\n\r\nIn Python monetary values formatting is obtained with the `locale.format_string()` function, while the generic `format` method of string objects does not monetary conversions. The code below demonstrates it:\r\n```\r\n    for loc in 'en_US', 'hi_IN.ISCII-DEV':\r\n        locale.setlocale(locale.LC_ALL, loc)\r\n        print('{:}:'.format(loc))\r\n        print('{:20.2f} (grouping=False)'.format(value))\r\n        print('{:20,.2f} (grouping=True)'.format(value))\r\n        print(locale.format_string('%20.2f (grouping=True monetary=True)', value, grouping=True, monetary=True))\r\n        print(locale.format_string('%20.2f (grouping=True monetary=False)', value, grouping=True, monetary=False))\r\n```\r\nwhich produces:\r\n```\r\nen_US:\r\n       1234567890.00 (grouping=False)\r\n    1,234,567,890.00 (grouping=True)\r\n    1,234,567,890.00 (grouping=True monetary=True)\r\n    1,234,567,890.00 (grouping=True monetary=False)\r\nhi_IN.ISCII-DEV:\r\n       1234567890.00 (grouping=False)\r\n    1,234,567,890.00 (grouping=True)\r\n   1,23,45,67,890.00 (grouping=True monetary=True)\r\n    12,345,678,90.00 (grouping=True monetary=False)\r\n```\r\nThus, while the intent of the code was to support locales that use different grouping than the common thousands one, it failed to support the only example of it I was able to find.\r\n\r\nThere are a couple of problems with the numerical format validation code: it is slow and it is complex but it fails in the only case that requires the complexity. Both are concerns in the coming translation of the validation in compiled code.\r\n\r\nThere are two alternatives:\r\n1. keep supporting only optional thousands separator, namely do not properly support the monetary format of the `hi_IN` locale, and simplify the code, making the translation of the validation into compiled code easy,\r\n2. fix the code to correctly support the `hi_IN` locale, keep the complexity and the slower conversion. In this case the validation code in C will could be written to mimic the Python code using the `strfmon_l()` function.\r\n\r\nI think that, since the code has never done proper locale aware validation, we can keep go for the simpler solution 1 and fix this properly in v3 where proper locale support is planned.\r\n\r\nWhat are your thoughts?","closed_by":null,"reactions":{"url":"https://api.github.com/repos/beancount/beancount/issues/490/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beancount/issues/490/timeline","performed_via_github_app":null,"state_reason":null},{"url":"https://api.github.com/repos/beancount/beancount/issues/489","repository_url":"https://api.github.com/repos/beancount/beancount","labels_url":"https://api.github.com/repos/beancount/beancount/issues/489/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beancount/issues/489/comments","events_url":"https://api.github.com/repos/beancount/beancount/issues/489/events","html_url":"https://github.com/beancount/beancount/pull/489","id":646848484,"node_id":"MDExOlB1bGxSZXF1ZXN0NDQxMDA3MDIy","number":489,"title":"Reentrant parser part 2","user":{"login":"dnicolodi","id":987145,"node_id":"MDQ6VXNlcjk4NzE0NQ==","avatar_url":"https://avatars.githubusercontent.com/u/987145?v=4","gravatar_id":"","url":"https://api.github.com/users/dnicolodi","html_url":"https://github.com/dnicolodi","followers_url":"https://api.github.com/users/dnicolodi/followers","following_url":"https://api.github.com/users/dnicolodi/following{/other_user}","gists_url":"https://api.github.com/users/dnicolodi/gists{/gist_id}","starred_url":"https://api.github.com/users/dnicolodi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dnicolodi/subscriptions","organizations_url":"https://api.github.com/users/dnicolodi/orgs","repos_url":"https://api.github.com/users/dnicolodi/repos","events_url":"https://api.github.com/users/dnicolodi/events{/privacy}","received_events_url":"https://api.github.com/users/dnicolodi/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":3,"created_at":"2020-06-28T05:57:45Z","updated_at":"2020-07-08T03:25:45Z","closed_at":"2020-06-29T14:24:51Z","author_association":"COLLABORATOR","type":null,"active_lock_reason":null,"draft":false,"pull_request":{"url":"https://api.github.com/repos/beancount/beancount/pulls/489","html_url":"https://github.com/beancount/beancount/pull/489","diff_url":"https://github.com/beancount/beancount/pull/489.diff","patch_url":"https://github.com/beancount/beancount/pull/489.patch","merged_at":"2020-06-29T14:24:51Z"},"body":"This concludes the refactoring of the parser code to make it reentrant. It builds on #485. I'll rebase this PR once that is merged. After these I have a few more cleanup and small improvement patches and the conversion most of `lexer.LexBuilder` into compiled code.\r\n\r\nCommit \"parser: Step 3 toward a reentrant parser\" is mechanical and straightforward. Most of the work is done in commit \"parser: Step 4 toward a reentrant parser\", which completely changes how the C parser is exposed to Python code. I think it is a nice improvements (especially cleaning up the interface to the lexer to be a proper iterator). I don't understand the UTF-16 tests, thus commit \"parser: Mark UTF-16 lexer tests as known fail\". @blais , if you can explain what is the expected behavior, I can implement it. I doubt it is what the tests are testing for. Commit \"parser: Allow to enable Bison debugging facility\" brings back functionality that was present before and that got lost in the large refactoring. It could be squashed into \"parser: Step 4...\"","closed_by":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/beancount/beancount/issues/489/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beancount/issues/489/timeline","performed_via_github_app":null,"state_reason":null},{"url":"https://api.github.com/repos/beancount/beancount/issues/488","repository_url":"https://api.github.com/repos/beancount/beancount","labels_url":"https://api.github.com/repos/beancount/beancount/issues/488/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beancount/issues/488/comments","events_url":"https://api.github.com/repos/beancount/beancount/issues/488/events","html_url":"https://github.com/beancount/beancount/pull/488","id":646716814,"node_id":"MDExOlB1bGxSZXF1ZXN0NDQwOTM2MzI1","number":488,"title":"Pr135 ppmarciniak fixnetworth","user":{"login":"pmarciniak","id":1164417,"node_id":"MDQ6VXNlcjExNjQ0MTc=","avatar_url":"https://avatars.githubusercontent.com/u/1164417?v=4","gravatar_id":"","url":"https://api.github.com/users/pmarciniak","html_url":"https://github.com/pmarciniak","followers_url":"https://api.github.com/users/pmarciniak/followers","following_url":"https://api.github.com/users/pmarciniak/following{/other_user}","gists_url":"https://api.github.com/users/pmarciniak/gists{/gist_id}","starred_url":"https://api.github.com/users/pmarciniak/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pmarciniak/subscriptions","organizations_url":"https://api.github.com/users/pmarciniak/orgs","repos_url":"https://api.github.com/users/pmarciniak/repos","events_url":"https://api.github.com/users/pmarciniak/events{/privacy}","received_events_url":"https://api.github.com/users/pmarciniak/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":1,"created_at":"2020-06-27T17:00:11Z","updated_at":"2020-06-27T20:18:09Z","closed_at":"2020-06-27T20:17:41Z","author_association":"CONTRIBUTOR","type":null,"active_lock_reason":null,"draft":false,"pull_request":{"url":"https://api.github.com/repos/beancount/beancount/pulls/488","html_url":"https://github.com/beancount/beancount/pull/488","diff_url":"https://github.com/beancount/beancount/pull/488.diff","patch_url":"https://github.com/beancount/beancount/pull/488.patch","merged_at":"2020-06-27T20:17:41Z"},"body":"Martin, I see you created this branch out of a stale PR in bitbucket. Is there any action required from my side before you merge this?","closed_by":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/beancount/beancount/issues/488/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beancount/issues/488/timeline","performed_via_github_app":null,"state_reason":null},{"url":"https://api.github.com/repos/beancount/beancount/issues/487","repository_url":"https://api.github.com/repos/beancount/beancount","labels_url":"https://api.github.com/repos/beancount/beancount/issues/487/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beancount/issues/487/comments","events_url":"https://api.github.com/repos/beancount/beancount/issues/487/events","html_url":"https://github.com/beancount/beancount/pull/487","id":646599688,"node_id":"MDExOlB1bGxSZXF1ZXN0NDQwODU0NTkz","number":487,"title":"Fix typo","user":{"login":"dnicolodi","id":987145,"node_id":"MDQ6VXNlcjk4NzE0NQ==","avatar_url":"https://avatars.githubusercontent.com/u/987145?v=4","gravatar_id":"","url":"https://api.github.com/users/dnicolodi","html_url":"https://github.com/dnicolodi","followers_url":"https://api.github.com/users/dnicolodi/followers","following_url":"https://api.github.com/users/dnicolodi/following{/other_user}","gists_url":"https://api.github.com/users/dnicolodi/gists{/gist_id}","starred_url":"https://api.github.com/users/dnicolodi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dnicolodi/subscriptions","organizations_url":"https://api.github.com/users/dnicolodi/orgs","repos_url":"https://api.github.com/users/dnicolodi/repos","events_url":"https://api.github.com/users/dnicolodi/events{/privacy}","received_events_url":"https://api.github.com/users/dnicolodi/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":1,"created_at":"2020-06-27T03:37:41Z","updated_at":"2020-07-08T03:13:52Z","closed_at":"2020-06-27T14:46:55Z","author_association":"COLLABORATOR","type":null,"active_lock_reason":null,"draft":false,"pull_request":{"url":"https://api.github.com/repos/beancount/beancount/pulls/487","html_url":"https://github.com/beancount/beancount/pull/487","diff_url":"https://github.com/beancount/beancount/pull/487.diff","patch_url":"https://github.com/beancount/beancount/pull/487.patch","merged_at":"2020-06-27T14:46:55Z"},"body":"introduced in \"Minor adjustments to PR #480\".","closed_by":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/beancount/beancount/issues/487/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beancount/issues/487/timeline","performed_via_github_app":null,"state_reason":null},{"url":"https://api.github.com/repos/beancount/beancount/issues/486","repository_url":"https://api.github.com/repos/beancount/beancount","labels_url":"https://api.github.com/repos/beancount/beancount/issues/486/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beancount/issues/486/comments","events_url":"https://api.github.com/repos/beancount/beancount/issues/486/events","html_url":"https://github.com/beancount/beancount/issues/486","id":645121367,"node_id":"MDU6SXNzdWU2NDUxMjEzNjc=","number":486,"title":"Revisit what is allowed in string literals","user":{"login":"dnicolodi","id":987145,"node_id":"MDQ6VXNlcjk4NzE0NQ==","avatar_url":"https://avatars.githubusercontent.com/u/987145?v=4","gravatar_id":"","url":"https://api.github.com/users/dnicolodi","html_url":"https://github.com/dnicolodi","followers_url":"https://api.github.com/users/dnicolodi/followers","following_url":"https://api.github.com/users/dnicolodi/following{/other_user}","gists_url":"https://api.github.com/users/dnicolodi/gists{/gist_id}","starred_url":"https://api.github.com/users/dnicolodi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dnicolodi/subscriptions","organizations_url":"https://api.github.com/users/dnicolodi/orgs","repos_url":"https://api.github.com/users/dnicolodi/repos","events_url":"https://api.github.com/users/dnicolodi/events{/privacy}","received_events_url":"https://api.github.com/users/dnicolodi/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":2080994022,"node_id":"MDU6TGFiZWwyMDgwOTk0MDIy","url":"https://api.github.com/repos/beancount/beancount/labels/P2","name":"P2","color":"ffaaaa","default":false,"description":"Low priority, addressing would result in useful improvements"},{"id":2080995647,"node_id":"MDU6TGFiZWwyMDgwOTk1NjQ3","url":"https://api.github.com/repos/beancount/beancount/labels/parser-loader","name":"parser-loader","color":"ededed","default":false,"description":"Component: Parser and loader"}],"state":"open","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":6,"created_at":"2020-06-25T03:36:11Z","updated_at":"2025-05-09T18:58:25Z","closed_at":null,"author_association":"COLLABORATOR","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"With my recent work on the beancount parser I discovered some surprising things allowed to appear in string literals: C-like escape sequences (`\\\"`: quoted version of the string delimiter, `\\n`: new line, `\\r`: carriage return, `\\t`: tabulation, `\\f`: form feed, `\\b`: backspace),  bare newlines.\r\n\r\nI think these are accepted escapes sequences because they are the ones in the example in the Bison manual and not because someone had real use cases involving them. I don't see any reasonable practical use for `\\f`, however supporting it is not a big deal and I don't see any reason to remove it. On the other hand, I think that `\\r` and `\\b` can actually be problematic if beancount is used to process untrusted data as they allow to overwrite terminal output. Would anyone be opposed to removing these two? I can exchange that for supporting `\\v`, which is guaranteed to produce almost as confusing output, but does not allow malicious things (AFAIK).\r\n\r\nBare newlines are also easy to support, however having them as allowed syntax makes it much harder to provide reasonable error messages if someone forgets to place the closing quote to a string literal because in the most common cases the parser will swallow anything till the start of the next string as being part of the \"unlcosed\" string. Does people really have bare newlines in their string literals in real life beancount ledgers? Would anyone be opposed as making the syntax stricter and require escaping newlines in string literals?\r\n\r\nAs an example,\r\n```\r\n2020-06-24 * \"Example\" \"I don't know why\r\nanyone \r\nwould \r\ndo it but this is supported\"\r\n    Expenses:Examples  1.00 USD\r\n    Assets:Cash  \r\n```\r\nwould become\r\n```\r\n2020-06-24 * \"Example\" \"I don't know why \\\r\nanyone \\\r\nwould \\\r\ndo it but this is supported\"\r\n    Expenses:Examples  1.00 USD\r\n    Assets:Cash  \r\n```\r\nIn this case, it should be decided if the quoted newlines result in newlines in the parsed string or not. Namely if the example above is parsed as `\"I don't know why anyone would do it but this is supported\"` or as `\"I don't know why \\nanyone \\nwould \\ndo it but this is supported\"`. I would argue that they should not as I don't see a reason why someone would need a literal newline in a string, but I may be lacking imagination.\r\n\r\nI think (but I would be happy to stand corrected) that the chances that there are real occurrences of this syntax are slim, thus this could be implemented in v2. In any case I think that it would be nice to think about this for v3.\r\n","closed_by":null,"reactions":{"url":"https://api.github.com/repos/beancount/beancount/issues/486/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beancount/issues/486/timeline","performed_via_github_app":null,"state_reason":null},{"url":"https://api.github.com/repos/beancount/beancount/issues/485","repository_url":"https://api.github.com/repos/beancount/beancount","labels_url":"https://api.github.com/repos/beancount/beancount/issues/485/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beancount/issues/485/comments","events_url":"https://api.github.com/repos/beancount/beancount/issues/485/events","html_url":"https://github.com/beancount/beancount/pull/485","id":644368739,"node_id":"MDExOlB1bGxSZXF1ZXN0NDM5MDAyNzQw","number":485,"title":"Reentrant parser preparatory work","user":{"login":"dnicolodi","id":987145,"node_id":"MDQ6VXNlcjk4NzE0NQ==","avatar_url":"https://avatars.githubusercontent.com/u/987145?v=4","gravatar_id":"","url":"https://api.github.com/users/dnicolodi","html_url":"https://github.com/dnicolodi","followers_url":"https://api.github.com/users/dnicolodi/followers","following_url":"https://api.github.com/users/dnicolodi/following{/other_user}","gists_url":"https://api.github.com/users/dnicolodi/gists{/gist_id}","starred_url":"https://api.github.com/users/dnicolodi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dnicolodi/subscriptions","organizations_url":"https://api.github.com/users/dnicolodi/orgs","repos_url":"https://api.github.com/users/dnicolodi/repos","events_url":"https://api.github.com/users/dnicolodi/events{/privacy}","received_events_url":"https://api.github.com/users/dnicolodi/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":4,"created_at":"2020-06-24T06:56:28Z","updated_at":"2020-07-08T03:25:39Z","closed_at":"2020-06-28T13:00:54Z","author_association":"COLLABORATOR","type":null,"active_lock_reason":null,"draft":false,"pull_request":{"url":"https://api.github.com/repos/beancount/beancount/pulls/485","html_url":"https://github.com/beancount/beancount/pull/485","diff_url":"https://github.com/beancount/beancount/pull/485.diff","patch_url":"https://github.com/beancount/beancount/pull/485.patch","merged_at":"2020-06-28T13:00:54Z"},"body":"This set of patches (\"parser: Modify builder methods calling convention\", \"parser: Simplify error handling in the lexer\", \"parser: Extend location tracking\") introduces some preparatory work to make the parser reentrant. The intent is to decouple the scanner, the grammar, and the builder classes. The only patch that introduces changes in behavior is \"parser: Simplify error handling in the lexer\" which changes slightly the lexer output in case of error.","closed_by":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/beancount/beancount/issues/485/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beancount/issues/485/timeline","performed_via_github_app":null,"state_reason":null},{"url":"https://api.github.com/repos/beancount/beancount/issues/484","repository_url":"https://api.github.com/repos/beancount/beancount","labels_url":"https://api.github.com/repos/beancount/beancount/issues/484/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beancount/issues/484/comments","events_url":"https://api.github.com/repos/beancount/beancount/issues/484/events","html_url":"https://github.com/beancount/beancount/pull/484","id":644361203,"node_id":"MDExOlB1bGxSZXF1ZXN0NDM4OTk2NTY2","number":484,"title":"Reentrant parser part 1","user":{"login":"dnicolodi","id":987145,"node_id":"MDQ6VXNlcjk4NzE0NQ==","avatar_url":"https://avatars.githubusercontent.com/u/987145?v=4","gravatar_id":"","url":"https://api.github.com/users/dnicolodi","html_url":"https://github.com/dnicolodi","followers_url":"https://api.github.com/users/dnicolodi/followers","following_url":"https://api.github.com/users/dnicolodi/following{/other_user}","gists_url":"https://api.github.com/users/dnicolodi/gists{/gist_id}","starred_url":"https://api.github.com/users/dnicolodi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dnicolodi/subscriptions","organizations_url":"https://api.github.com/users/dnicolodi/orgs","repos_url":"https://api.github.com/users/dnicolodi/repos","events_url":"https://api.github.com/users/dnicolodi/events{/privacy}","received_events_url":"https://api.github.com/users/dnicolodi/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":1,"created_at":"2020-06-24T06:41:26Z","updated_at":"2020-07-08T03:25:33Z","closed_at":"2020-06-27T17:59:56Z","author_association":"COLLABORATOR","type":null,"active_lock_reason":null,"draft":false,"pull_request":{"url":"https://api.github.com/repos/beancount/beancount/pulls/484","html_url":"https://github.com/beancount/beancount/pull/484","diff_url":"https://github.com/beancount/beancount/pull/484.diff","patch_url":"https://github.com/beancount/beancount/pull/484.patch","merged_at":"2020-06-27T17:59:56Z"},"body":"Hi @blais , I re-organized the commits in #471 to be more logic. Unfortunately there is not an easy way to make them independent. Thus I'll submit a few PRs in which the later ones will contain also the patches in the earlier ones. I hope this will make reviewing them easier (you just need to focus on the patches you have not seen yet). I'll rebase and force push as you merge them.\r\n\r\nThis first set of patches (\"parser: Step 1 toward a reentrant parser\", \"parser: Step 2 toward a reentrant parser\")contain only mechanical work, it should be straigthforward.","closed_by":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/beancount/beancount/issues/484/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beancount/issues/484/timeline","performed_via_github_app":null,"state_reason":null},{"url":"https://api.github.com/repos/beancount/beancount/issues/483","repository_url":"https://api.github.com/repos/beancount/beancount","labels_url":"https://api.github.com/repos/beancount/beancount/issues/483/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beancount/issues/483/comments","events_url":"https://api.github.com/repos/beancount/beancount/issues/483/events","html_url":"https://github.com/beancount/beancount/pull/483","id":643684197,"node_id":"MDExOlB1bGxSZXF1ZXN0NDM4NDQ0ODM3","number":483,"title":"Enhance csv categorizer","user":{"login":"floriskruisselbrink","id":936914,"node_id":"MDQ6VXNlcjkzNjkxNA==","avatar_url":"https://avatars.githubusercontent.com/u/936914?v=4","gravatar_id":"","url":"https://api.github.com/users/floriskruisselbrink","html_url":"https://github.com/floriskruisselbrink","followers_url":"https://api.github.com/users/floriskruisselbrink/followers","following_url":"https://api.github.com/users/floriskruisselbrink/following{/other_user}","gists_url":"https://api.github.com/users/floriskruisselbrink/gists{/gist_id}","starred_url":"https://api.github.com/users/floriskruisselbrink/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/floriskruisselbrink/subscriptions","organizations_url":"https://api.github.com/users/floriskruisselbrink/orgs","repos_url":"https://api.github.com/users/floriskruisselbrink/repos","events_url":"https://api.github.com/users/floriskruisselbrink/events{/privacy}","received_events_url":"https://api.github.com/users/floriskruisselbrink/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":0,"created_at":"2020-06-23T09:33:17Z","updated_at":"2020-07-01T08:55:33Z","closed_at":"2020-06-28T13:13:53Z","author_association":"CONTRIBUTOR","type":null,"active_lock_reason":null,"draft":false,"pull_request":{"url":"https://api.github.com/repos/beancount/beancount/pulls/483","html_url":"https://github.com/beancount/beancount/pull/483","diff_url":"https://github.com/beancount/beancount/pull/483.diff","patch_url":"https://github.com/beancount/beancount/pull/483.patch","merged_at":"2020-06-28T13:13:53Z"},"body":"Add an optional second argument ‘row’ to the categorizer callback so the categorizer can use all the info from the csv-file that isn’t already available in the generated transaction.\r\n\r\nPossible solution for #419","closed_by":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/beancount/beancount/issues/483/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beancount/issues/483/timeline","performed_via_github_app":null,"state_reason":null},{"url":"https://api.github.com/repos/beancount/beancount/issues/482","repository_url":"https://api.github.com/repos/beancount/beancount","labels_url":"https://api.github.com/repos/beancount/beancount/issues/482/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beancount/issues/482/comments","events_url":"https://api.github.com/repos/beancount/beancount/issues/482/events","html_url":"https://github.com/beancount/beancount/issues/482","id":643604438,"node_id":"MDU6SXNzdWU2NDM2MDQ0Mzg=","number":482,"title":"Are lots without cost allowed? Interpolation problem with lot without cost","user":{"login":"tbm","id":1556037,"node_id":"MDQ6VXNlcjE1NTYwMzc=","avatar_url":"https://avatars.githubusercontent.com/u/1556037?v=4","gravatar_id":"","url":"https://api.github.com/users/tbm","html_url":"https://github.com/tbm","followers_url":"https://api.github.com/users/tbm/followers","following_url":"https://api.github.com/users/tbm/following{/other_user}","gists_url":"https://api.github.com/users/tbm/gists{/gist_id}","starred_url":"https://api.github.com/users/tbm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tbm/subscriptions","organizations_url":"https://api.github.com/users/tbm/orgs","repos_url":"https://api.github.com/users/tbm/repos","events_url":"https://api.github.com/users/tbm/events{/privacy}","received_events_url":"https://api.github.com/users/tbm/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"open","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":1,"created_at":"2020-06-23T07:34:06Z","updated_at":"2020-07-14T06:08:16Z","closed_at":null,"author_association":"CONTRIBUTOR","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"Ledger allows you to create a lot simply by adding a lot note.  A cost is not needed.  I've used this in the past to keep track of different vouchers.\r\n\r\nI thought this also worked in beancount because this works fine:\r\n\r\n```\r\n1970-01-01 open Assets:Cash\r\n1970-01-01 open Assets:Voucher\r\n\r\n1970-01-01 commodity EUR\r\n\r\n2011-11-08 * \"Test\"\r\n  Assets:Voucher     10.00 EUR {\"1\"}\r\n  Assets:Cash       -10.00 EUR\r\n\r\n2011-11-08 * \"Test\"\r\n  Assets:Voucher      5.00 EUR {\"2\"}\r\n  Assets:Cash        -5.00 EUR\r\n```\r\n\r\n```\r\nAccount          Units  Currency  Cost Currency  Average Cost  Price  Book Value  Market Value\r\n--------------  ------  --------  -------------  ------------  -----  ----------  ------------\r\nAssets:Cash     -15.00       EUR            EUR                           -15.00        -15.00\r\nAssets:Voucher   10.00       EUR            EUR          1.00   1.00       10.00         10.00\r\nAssets:Voucher    5.00       EUR            EUR          1.00   1.00        5.00          5.00\r\n```\r\n\r\nBut if remove the amount from the second posting and rely on interpolation, I get this:\r\n\r\n```\r\n/home/tbm/src/tbm/ledger2beancount/x:9:       Failed to categorize posting 1\r\n\r\n   2011-11-08 * \"Test\"\r\n     Assets:Voucher  10.00 EUR {\"1\"}\r\n     Assets:Cash                    \r\n```\r\n\r\nTest case:\r\n\r\n```\r\n1970-01-01 open Assets:Cash\r\n1970-01-01 open Assets:Voucher\r\n\r\n1970-01-01 commodity EUR\r\n\r\n2011-11-08 * \"Test\"\r\n  Assets:Voucher     10.00 EUR {\"1\"}\r\n  Assets:Cash\r\n```\r\n\r\n\r\n","closed_by":null,"reactions":{"url":"https://api.github.com/repos/beancount/beancount/issues/482/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beancount/issues/482/timeline","performed_via_github_app":null,"state_reason":null},{"url":"https://api.github.com/repos/beancount/beancount/issues/481","repository_url":"https://api.github.com/repos/beancount/beancount","labels_url":"https://api.github.com/repos/beancount/beancount/issues/481/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beancount/issues/481/comments","events_url":"https://api.github.com/repos/beancount/beancount/issues/481/events","html_url":"https://github.com/beancount/beancount/issues/481","id":643491925,"node_id":"MDU6SXNzdWU2NDM0OTE5MjU=","number":481,"title":"Booking FIFO errorneously fills in the commodity cost currency with the commodity itself","user":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"open","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":0,"created_at":"2020-06-23T03:01:34Z","updated_at":"2020-06-23T03:01:34Z","closed_at":null,"author_association":"MEMBER","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"2019-12-31 open Assets:Brokerage1   \"FIFO\"\r\n2019-12-31 open Assets:Brokerage1:Cash\r\n2019-12-31 open Assets:Brokerage2   \"FIFO\"\r\n\r\n2020-01-01 * \"Buy\" \"STOCK\"\r\n  Assets:Brokerage1  10 STOCK {10.00 USD}\r\n  Assets:Brokerage1  10 STOCK {1.00 USD}\r\n  Assets:Brokerage1:Cash  -110.00 USD\r\n\r\n2020-01-02 * \"Transfer\" \"Transfer Brokerage\"\r\n  Assets:Brokerage1  -15 STOCK {}  ;; <-- Here this defaults as STOCK in cost currency                                                                                                                                                                                                    \r\n  Assets:Brokerage2  15 STOCK\r\n\r\n\r\nSee \r\nhttps://github.com/beancount/beancount/issues/476\r\n\r\n","closed_by":null,"reactions":{"url":"https://api.github.com/repos/beancount/beancount/issues/481/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beancount/issues/481/timeline","performed_via_github_app":null,"state_reason":null},{"url":"https://api.github.com/repos/beancount/beancount/issues/480","repository_url":"https://api.github.com/repos/beancount/beancount","labels_url":"https://api.github.com/repos/beancount/beancount/issues/480/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beancount/issues/480/comments","events_url":"https://api.github.com/repos/beancount/beancount/issues/480/events","html_url":"https://github.com/beancount/beancount/pull/480","id":643438713,"node_id":"MDExOlB1bGxSZXF1ZXN0NDM4MjQyMTMw","number":480,"title":"parser: Read input data from Python file objects","user":{"login":"dnicolodi","id":987145,"node_id":"MDQ6VXNlcjk4NzE0NQ==","avatar_url":"https://avatars.githubusercontent.com/u/987145?v=4","gravatar_id":"","url":"https://api.github.com/users/dnicolodi","html_url":"https://github.com/dnicolodi","followers_url":"https://api.github.com/users/dnicolodi/followers","following_url":"https://api.github.com/users/dnicolodi/following{/other_user}","gists_url":"https://api.github.com/users/dnicolodi/gists{/gist_id}","starred_url":"https://api.github.com/users/dnicolodi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dnicolodi/subscriptions","organizations_url":"https://api.github.com/users/dnicolodi/orgs","repos_url":"https://api.github.com/users/dnicolodi/repos","events_url":"https://api.github.com/users/dnicolodi/events{/privacy}","received_events_url":"https://api.github.com/users/dnicolodi/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":7,"created_at":"2020-06-23T00:19:58Z","updated_at":"2020-07-08T03:26:48Z","closed_at":"2020-06-27T01:48:33Z","author_association":"COLLABORATOR","type":null,"active_lock_reason":null,"draft":false,"pull_request":{"url":"https://api.github.com/repos/beancount/beancount/pulls/480","html_url":"https://github.com/beancount/beancount/pull/480","diff_url":"https://github.com/beancount/beancount/pull/480.diff","patch_url":"https://github.com/beancount/beancount/pull/480.patch","merged_at":"2020-06-27T01:48:33Z"},"body":"First couple of patches extracted from the too-big-to-merge PR and incorporating first review comments.","closed_by":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/beancount/beancount/issues/480/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beancount/issues/480/timeline","performed_via_github_app":null,"state_reason":null},{"url":"https://api.github.com/repos/beancount/beancount/issues/479","repository_url":"https://api.github.com/repos/beancount/beancount","labels_url":"https://api.github.com/repos/beancount/beancount/issues/479/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beancount/issues/479/comments","events_url":"https://api.github.com/repos/beancount/beancount/issues/479/events","html_url":"https://github.com/beancount/beancount/issues/479","id":642734558,"node_id":"MDU6SXNzdWU2NDI3MzQ1NTg=","number":479,"title":"Cost wrong when using FIFO method?","user":{"login":"tbm","id":1556037,"node_id":"MDQ6VXNlcjE1NTYwMzc=","avatar_url":"https://avatars.githubusercontent.com/u/1556037?v=4","gravatar_id":"","url":"https://api.github.com/users/tbm","html_url":"https://github.com/tbm","followers_url":"https://api.github.com/users/tbm/followers","following_url":"https://api.github.com/users/tbm/following{/other_user}","gists_url":"https://api.github.com/users/tbm/gists{/gist_id}","starred_url":"https://api.github.com/users/tbm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tbm/subscriptions","organizations_url":"https://api.github.com/users/tbm/orgs","repos_url":"https://api.github.com/users/tbm/repos","events_url":"https://api.github.com/users/tbm/events{/privacy}","received_events_url":"https://api.github.com/users/tbm/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":5,"created_at":"2020-06-22T04:08:31Z","updated_at":"2020-06-22T05:19:31Z","closed_at":"2020-06-22T04:22:36Z","author_association":"CONTRIBUTOR","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"It seems that cost is not set correctly when you use `{}` and FIFO.  For example, when NOTEBOOKS had a cost of $2.00, then\r\n\r\n```\r\n  Liabilities:DeferredRevenue1 -2 NOTEBOOKS {} @ 15.00 USD\r\n```\r\nwill set a cost of $15 rather than $2.\r\n\r\nExample:\r\n\r\n```\r\noption \"booking_method\" \"FIFO\"\r\n\r\nplugin \"beancount.plugins.auto_accounts\"\r\n\r\n2018-01-01 * \"Deposit\"\r\n  Assets:Checking 3000.00 USD\r\n  Equity:Opening-Balances\r\n\r\n2020-03-20 * \"Notebooks\" \"ACME Print Shop\"\r\n  Assets:Inventory     100 NOTEBOOKS {2.00 USD} @@ 200.00 USD\r\n  Assets:Checking                            -200.00 USD\r\n\r\n2020-04-16 * \"Order 00306\"\r\n  Liabilities:DeferredRevenue1 -2 NOTEBOOKS {} @ 15.00 USD\r\n  Assets:Checking 30.00 USD\r\n  Income:Profit\r\n\r\n2020-04-16 * \"Order 00306\"\r\n  Liabilities:DeferredRevenue2 -2 NOTEBOOKS {2.00 USD} @ 15.00 USD\r\n  Assets:Checking 30.00 USD\r\n  Income:Profit\r\n```\r\n\r\nThe two transactions should be equivalent, but:\r\n\r\n```\r\nAccount                          Units   Currency  Cost Currency  Average Cost  Price  Book Value  Market Value\r\nLiabilities:DeferredRevenue1     -2.00  NOTEBOOKS            USD         15.00             -30.00\r\nLiabilities:DeferredRevenue2     -2.00  NOTEBOOKS            USD          2.00              -4.00\r\n```\r\n","closed_by":{"login":"tbm","id":1556037,"node_id":"MDQ6VXNlcjE1NTYwMzc=","avatar_url":"https://avatars.githubusercontent.com/u/1556037?v=4","gravatar_id":"","url":"https://api.github.com/users/tbm","html_url":"https://github.com/tbm","followers_url":"https://api.github.com/users/tbm/followers","following_url":"https://api.github.com/users/tbm/following{/other_user}","gists_url":"https://api.github.com/users/tbm/gists{/gist_id}","starred_url":"https://api.github.com/users/tbm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tbm/subscriptions","organizations_url":"https://api.github.com/users/tbm/orgs","repos_url":"https://api.github.com/users/tbm/repos","events_url":"https://api.github.com/users/tbm/events{/privacy}","received_events_url":"https://api.github.com/users/tbm/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/beancount/beancount/issues/479/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beancount/issues/479/timeline","performed_via_github_app":null,"state_reason":"completed"},{"url":"https://api.github.com/repos/beancount/beancount/issues/478","repository_url":"https://api.github.com/repos/beancount/beancount","labels_url":"https://api.github.com/repos/beancount/beancount/issues/478/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beancount/issues/478/comments","events_url":"https://api.github.com/repos/beancount/beancount/issues/478/events","html_url":"https://github.com/beancount/beancount/issues/478","id":640734868,"node_id":"MDU6SXNzdWU2NDA3MzQ4Njg=","number":478,"title":"Require bison 3.6?","user":{"login":"dnicolodi","id":987145,"node_id":"MDQ6VXNlcjk4NzE0NQ==","avatar_url":"https://avatars.githubusercontent.com/u/987145?v=4","gravatar_id":"","url":"https://api.github.com/users/dnicolodi","html_url":"https://github.com/dnicolodi","followers_url":"https://api.github.com/users/dnicolodi/followers","following_url":"https://api.github.com/users/dnicolodi/following{/other_user}","gists_url":"https://api.github.com/users/dnicolodi/gists{/gist_id}","starred_url":"https://api.github.com/users/dnicolodi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dnicolodi/subscriptions","organizations_url":"https://api.github.com/users/dnicolodi/orgs","repos_url":"https://api.github.com/users/dnicolodi/repos","events_url":"https://api.github.com/users/dnicolodi/events{/privacy}","received_events_url":"https://api.github.com/users/dnicolodi/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":4,"created_at":"2020-06-17T20:52:42Z","updated_at":"2020-06-22T05:29:32Z","closed_at":"2020-06-22T05:29:04Z","author_association":"COLLABORATOR","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"@blais, how do you feel about requiring Bison 3.6 to generate the beancount parser? So far no minimum required version has been specified, and I kept using 3.4 as this was the version used to produce the generated files in the repository. However, 3.6 introduces several nice improvements that would benefit the code. I see that you require Bison 3.6 for Oblique and use some of the new features. Is there any reason to keep the beancount parser definition compatible with older Bison versions?","closed_by":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/beancount/beancount/issues/478/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beancount/issues/478/timeline","performed_via_github_app":null,"state_reason":"completed"},{"url":"https://api.github.com/repos/beancount/beancount/issues/477","repository_url":"https://api.github.com/repos/beancount/beancount","labels_url":"https://api.github.com/repos/beancount/beancount/issues/477/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beancount/issues/477/comments","events_url":"https://api.github.com/repos/beancount/beancount/issues/477/events","html_url":"https://github.com/beancount/beancount/issues/477","id":640419228,"node_id":"MDU6SXNzdWU2NDA0MTkyMjg=","number":477,"title":"Suggest to adding options to sum certain types of accounts for tag_pending plugin","user":{"login":"gnaish","id":2629320,"node_id":"MDQ6VXNlcjI2MjkzMjA=","avatar_url":"https://avatars.githubusercontent.com/u/2629320?v=4","gravatar_id":"","url":"https://api.github.com/users/gnaish","html_url":"https://github.com/gnaish","followers_url":"https://api.github.com/users/gnaish/followers","following_url":"https://api.github.com/users/gnaish/following{/other_user}","gists_url":"https://api.github.com/users/gnaish/gists{/gist_id}","starred_url":"https://api.github.com/users/gnaish/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gnaish/subscriptions","organizations_url":"https://api.github.com/users/gnaish/orgs","repos_url":"https://api.github.com/users/gnaish/repos","events_url":"https://api.github.com/users/gnaish/events{/privacy}","received_events_url":"https://api.github.com/users/gnaish/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"open","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":2,"created_at":"2020-06-17T12:54:13Z","updated_at":"2020-07-02T15:51:33Z","closed_at":null,"author_association":"NONE","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"This regards to the ```tag_pending``` plugin.\r\n\r\nIf I have incomes or other irrelevant expenditure in one of linked entries, the #PENDING tag would be there forever.\r\n\r\nSuggest to adding option for ```tag_pending``` plugin to let user choose accounts for balance computation.","closed_by":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/beancount/beancount/issues/477/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beancount/issues/477/timeline","performed_via_github_app":null,"state_reason":null},{"url":"https://api.github.com/repos/beancount/beancount/issues/476","repository_url":"https://api.github.com/repos/beancount/beancount","labels_url":"https://api.github.com/repos/beancount/beancount/issues/476/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beancount/issues/476/comments","events_url":"https://api.github.com/repos/beancount/beancount/issues/476/events","html_url":"https://github.com/beancount/beancount/issues/476","id":640076802,"node_id":"MDU6SXNzdWU2NDAwNzY4MDI=","number":476,"title":"Transfers equity between accounts and cost basis","user":{"login":"chaoxu","id":18860,"node_id":"MDQ6VXNlcjE4ODYw","avatar_url":"https://avatars.githubusercontent.com/u/18860?v=4","gravatar_id":"","url":"https://api.github.com/users/chaoxu","html_url":"https://github.com/chaoxu","followers_url":"https://api.github.com/users/chaoxu/followers","following_url":"https://api.github.com/users/chaoxu/following{/other_user}","gists_url":"https://api.github.com/users/chaoxu/gists{/gist_id}","starred_url":"https://api.github.com/users/chaoxu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/chaoxu/subscriptions","organizations_url":"https://api.github.com/users/chaoxu/orgs","repos_url":"https://api.github.com/users/chaoxu/repos","events_url":"https://api.github.com/users/chaoxu/events{/privacy}","received_events_url":"https://api.github.com/users/chaoxu/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":2080914018,"node_id":"MDU6TGFiZWwyMDgwOTE0MDE4","url":"https://api.github.com/repos/beancount/beancount/labels/resolution/wontfix","name":"resolution/wontfix","color":"000000","default":false,"description":"This will not be worked on"},{"id":2081004612,"node_id":"MDU6TGFiZWwyMDgxMDA0NjEy","url":"https://api.github.com/repos/beancount/beancount/labels/booking","name":"booking","color":"ededed","default":false,"description":"Component: Booking algorithms"}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":2,"created_at":"2020-06-17T01:41:22Z","updated_at":"2020-06-23T03:02:21Z","closed_at":"2020-06-23T03:01:44Z","author_association":"NONE","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"I have multiple brokerages, and sometimes transfer equities between them, in a FIFO fashion.\r\nI also buy/sell gift cards (which is a commodity), and might redeem them into different accounts. So the cost basis should also carry over. \r\n\r\nI don't think there is a way to carry the cost basis information around automatically. I can't just add `{}` and something magically happens.\r\n\r\nThe following is an example where I switched my brokerage, where I defined all lots are FIFO.\r\n```\r\n2020-01-01 * \"Buy\" \"STOCK\"\r\n  Assets:Brokerage1  10 STOCK {10.00 USD}\r\n  Assets:Brokerage1  10 STOCK {1.00 USD}\r\n  Assets:Brokerage1  -110.00 USD\r\n\r\n2020-01-02 * \"Transfer\" \"Transfer Brokerage\"\r\n  Assets:Brokerage1  -15 STOCK {}\r\n  Assets:Brokerage2  15 STOCK\r\n\r\n2020-01-02 * \"Sell\" \"Sell STOCK\"\r\n  Assets:Brokerage2  -10 STOCK {} @ 100.00 USD\r\n  Assets:Brokerage2  1000 USD\r\n  Income:PnL\r\n```\r\n\r\nThe above would give an error. It would be nice if there are ways to specify the transferring of cost basis if the commodity matches in a FIFO fashion(actually, average cost is fine too, as long as there is some way to move that information around in an automated way).","closed_by":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/beancount/beancount/issues/476/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beancount/issues/476/timeline","performed_via_github_app":null,"state_reason":"completed"},{"url":"https://api.github.com/repos/beancount/beancount/issues/475","repository_url":"https://api.github.com/repos/beancount/beancount","labels_url":"https://api.github.com/repos/beancount/beancount/issues/475/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beancount/issues/475/comments","events_url":"https://api.github.com/repos/beancount/beancount/issues/475/events","html_url":"https://github.com/beancount/beancount/pull/475","id":639926525,"node_id":"MDExOlB1bGxSZXF1ZXN0NDM1NDI4ODMz","number":475,"title":"Move instantation of lexer token values to compiled code","user":{"login":"dnicolodi","id":987145,"node_id":"MDQ6VXNlcjk4NzE0NQ==","avatar_url":"https://avatars.githubusercontent.com/u/987145?v=4","gravatar_id":"","url":"https://api.github.com/users/dnicolodi","html_url":"https://github.com/dnicolodi","followers_url":"https://api.github.com/users/dnicolodi/followers","following_url":"https://api.github.com/users/dnicolodi/following{/other_user}","gists_url":"https://api.github.com/users/dnicolodi/gists{/gist_id}","starred_url":"https://api.github.com/users/dnicolodi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dnicolodi/subscriptions","organizations_url":"https://api.github.com/users/dnicolodi/orgs","repos_url":"https://api.github.com/users/dnicolodi/repos","events_url":"https://api.github.com/users/dnicolodi/events{/privacy}","received_events_url":"https://api.github.com/users/dnicolodi/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":5,"created_at":"2020-06-16T19:42:01Z","updated_at":"2020-07-08T03:27:35Z","closed_at":"2020-06-24T06:42:59Z","author_association":"COLLABORATOR","type":null,"active_lock_reason":null,"draft":false,"pull_request":{"url":"https://api.github.com/repos/beancount/beancount/pulls/475","html_url":"https://github.com/beancount/beancount/pull/475","diff_url":"https://github.com/beancount/beancount/pull/475.diff","patch_url":"https://github.com/beancount/beancount/pull/475.patch","merged_at":null},"body":"This implements the first part of what @blais suggested in #471. This build upon that pull request as the work done there makes the rewriting here much easier. Lexer errors handling keeps `lexer.py` alive. I am hesitant to move it to compiled code in the same form.","closed_by":{"login":"dnicolodi","id":987145,"node_id":"MDQ6VXNlcjk4NzE0NQ==","avatar_url":"https://avatars.githubusercontent.com/u/987145?v=4","gravatar_id":"","url":"https://api.github.com/users/dnicolodi","html_url":"https://github.com/dnicolodi","followers_url":"https://api.github.com/users/dnicolodi/followers","following_url":"https://api.github.com/users/dnicolodi/following{/other_user}","gists_url":"https://api.github.com/users/dnicolodi/gists{/gist_id}","starred_url":"https://api.github.com/users/dnicolodi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dnicolodi/subscriptions","organizations_url":"https://api.github.com/users/dnicolodi/orgs","repos_url":"https://api.github.com/users/dnicolodi/repos","events_url":"https://api.github.com/users/dnicolodi/events{/privacy}","received_events_url":"https://api.github.com/users/dnicolodi/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/beancount/beancount/issues/475/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beancount/issues/475/timeline","performed_via_github_app":null,"state_reason":null},{"url":"https://api.github.com/repos/beancount/beancount/issues/474","repository_url":"https://api.github.com/repos/beancount/beancount","labels_url":"https://api.github.com/repos/beancount/beancount/issues/474/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beancount/issues/474/comments","events_url":"https://api.github.com/repos/beancount/beancount/issues/474/events","html_url":"https://github.com/beancount/beancount/issues/474","id":638392199,"node_id":"MDU6SXNzdWU2MzgzOTIxOTk=","number":474,"title":"QUESTION: How to partially divert expenses as described in cookbook?","user":{"login":"Akuukis","id":7459419,"node_id":"MDQ6VXNlcjc0NTk0MTk=","avatar_url":"https://avatars.githubusercontent.com/u/7459419?v=4","gravatar_id":"","url":"https://api.github.com/users/Akuukis","html_url":"https://github.com/Akuukis","followers_url":"https://api.github.com/users/Akuukis/followers","following_url":"https://api.github.com/users/Akuukis/following{/other_user}","gists_url":"https://api.github.com/users/Akuukis/gists{/gist_id}","starred_url":"https://api.github.com/users/Akuukis/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Akuukis/subscriptions","organizations_url":"https://api.github.com/users/Akuukis/orgs","repos_url":"https://api.github.com/users/Akuukis/repos","events_url":"https://api.github.com/users/Akuukis/events{/privacy}","received_events_url":"https://api.github.com/users/Akuukis/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":3,"created_at":"2020-06-14T17:12:05Z","updated_at":"2020-06-27T18:26:17Z","closed_at":"2020-06-27T18:26:17Z","author_association":"NONE","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"In cookbook [\"How We Share Expenses\"](https://docs.google.com/document/d/1RaondTJCS_IUPBHFNdT8oqFKJjVJDsfsn6JEjBG04eA/edit#heading=h.cbvs0rkc81ug) it's written:\r\n\r\n> Whenever I incur an expense that is for both of us, I book it normally but I will tag it with #carolyn:\r\n> 2018-12-23 * \"WHISK\" \"Water refill\" #carolyn\r\n> ```\r\n>   Liabilities:US:Amex:BlueCash  -32.66 USD\r\n>   Expenses:Food:Grocery\r\n> ```\r\n> This gets automatically converted to:\r\n> ```\r\n> 2018-12-23 * \"WHISK\" \"Water refill\" #carolyn\r\n>   Liabilities:US:Amex:BlueCash  -32.66 USD\r\n>   Expenses:Food:Grocery          19.60 USD\r\n>   Assets:US:Share:Carolyn       13.06 USD\r\n>     share: TRUE\r\n> ```\r\n> This is done by the beancount.plugins.divert_expenses plugin. In this example, 40% of 32.66 (13.06) gets rerouted to her account. Note that this is an asset account for me, because she owes this.\r\n\r\nI checked the [`beancount.plugins.divert_expenses`](../blob/master/beancount/plugins/divert_expenses.py) plugin and it doesn't look like it supports partial diverts as described in cookbook. How to do that?\r\n\r\nP.S. I tried to comment on Google Docs as suggested in README but commenting seemed disabled there.","closed_by":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/beancount/beancount/issues/474/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beancount/issues/474/timeline","performed_via_github_app":null,"state_reason":"completed"},{"url":"https://api.github.com/repos/beancount/beancount/issues/473","repository_url":"https://api.github.com/repos/beancount/beancount","labels_url":"https://api.github.com/repos/beancount/beancount/issues/473/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beancount/issues/473/comments","events_url":"https://api.github.com/repos/beancount/beancount/issues/473/events","html_url":"https://github.com/beancount/beancount/pull/473","id":638285491,"node_id":"MDExOlB1bGxSZXF1ZXN0NDM0MDk1OTA3","number":473,"title":"parser: Allow to specify commodities precision","user":{"login":"dnicolodi","id":987145,"node_id":"MDQ6VXNlcjk4NzE0NQ==","avatar_url":"https://avatars.githubusercontent.com/u/987145?v=4","gravatar_id":"","url":"https://api.github.com/users/dnicolodi","html_url":"https://github.com/dnicolodi","followers_url":"https://api.github.com/users/dnicolodi/followers","following_url":"https://api.github.com/users/dnicolodi/following{/other_user}","gists_url":"https://api.github.com/users/dnicolodi/gists{/gist_id}","starred_url":"https://api.github.com/users/dnicolodi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dnicolodi/subscriptions","organizations_url":"https://api.github.com/users/dnicolodi/orgs","repos_url":"https://api.github.com/users/dnicolodi/repos","events_url":"https://api.github.com/users/dnicolodi/events{/privacy}","received_events_url":"https://api.github.com/users/dnicolodi/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":5,"created_at":"2020-06-14T05:10:33Z","updated_at":"2020-06-22T04:43:41Z","closed_at":"2020-06-22T02:34:23Z","author_association":"COLLABORATOR","type":null,"active_lock_reason":null,"draft":false,"pull_request":{"url":"https://api.github.com/repos/beancount/beancount/pulls/473","html_url":"https://github.com/beancount/beancount/pull/473","diff_url":"https://github.com/beancount/beancount/pull/473.diff","patch_url":"https://github.com/beancount/beancount/pull/473.patch","merged_at":null},"body":"Use metadata on `commodity` entries to explicitly set the precision to\r\nbe used when reporting amounts in the given currency, overriding the\r\nautomagic determination. Example:\r\n\r\n```\r\n1993-11-01 commodity EUR\r\n  precision: 0.01\r\n```\r\n\r\nI need to write a few more tests for this and implement a simple optimization, but I would like to know if this is a direction in which we want to go or not before.","closed_by":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/beancount/beancount/issues/473/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beancount/issues/473/timeline","performed_via_github_app":null,"state_reason":null},{"url":"https://api.github.com/repos/beancount/beancount/issues/472","repository_url":"https://api.github.com/repos/beancount/beancount","labels_url":"https://api.github.com/repos/beancount/beancount/issues/472/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beancount/issues/472/comments","events_url":"https://api.github.com/repos/beancount/beancount/issues/472/events","html_url":"https://github.com/beancount/beancount/pull/472","id":638278350,"node_id":"MDExOlB1bGxSZXF1ZXN0NDM0MDkwNjc1","number":472,"title":"parser: Drop options['commodities']","user":{"login":"dnicolodi","id":987145,"node_id":"MDQ6VXNlcjk4NzE0NQ==","avatar_url":"https://avatars.githubusercontent.com/u/987145?v=4","gravatar_id":"","url":"https://api.github.com/users/dnicolodi","html_url":"https://github.com/dnicolodi","followers_url":"https://api.github.com/users/dnicolodi/followers","following_url":"https://api.github.com/users/dnicolodi/following{/other_user}","gists_url":"https://api.github.com/users/dnicolodi/gists{/gist_id}","starred_url":"https://api.github.com/users/dnicolodi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dnicolodi/subscriptions","organizations_url":"https://api.github.com/users/dnicolodi/orgs","repos_url":"https://api.github.com/users/dnicolodi/repos","events_url":"https://api.github.com/users/dnicolodi/events{/privacy}","received_events_url":"https://api.github.com/users/dnicolodi/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":25,"created_at":"2020-06-14T03:58:48Z","updated_at":"2020-07-08T03:17:53Z","closed_at":"2020-07-07T04:06:08Z","author_association":"COLLABORATOR","type":null,"active_lock_reason":null,"draft":false,"pull_request":{"url":"https://api.github.com/repos/beancount/beancount/pulls/472","html_url":"https://github.com/beancount/beancount/pull/472","diff_url":"https://github.com/beancount/beancount/pull/472.diff","patch_url":"https://github.com/beancount/beancount/pull/472.patch","merged_at":"2020-07-07T04:06:08Z"},"body":"The lexer updates a set with all the currencies seen during\r\nparsing. This set is then assigned to the automatic 'currencies'\r\noption. Despite what is reported in a comment, this information is not\r\nused by beancount.core.getters.get_commodity_map(). Besides tests, the\r\nonly user is in the beancount.plugins.check_commodity plugin. The\r\nplugin can however be rewritten in a simpler form relaying exclusively\r\non the information returned by get_commodity_map().\r\n\r\nIt may be argued that the set in the options dictionary is more efficient than recomputing the set with get_commodity_map(), however, the only user of the options calls this function anyway, so keeping the set around is actually more work than not doing it.","closed_by":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/beancount/beancount/issues/472/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beancount/issues/472/timeline","performed_via_github_app":null,"state_reason":null},{"url":"https://api.github.com/repos/beancount/beancount/issues/471","repository_url":"https://api.github.com/repos/beancount/beancount","labels_url":"https://api.github.com/repos/beancount/beancount/issues/471/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beancount/issues/471/comments","events_url":"https://api.github.com/repos/beancount/beancount/issues/471/events","html_url":"https://github.com/beancount/beancount/pull/471","id":637472252,"node_id":"MDExOlB1bGxSZXF1ZXN0NDMzNDU0NjM1","number":471,"title":"Parser rework","user":{"login":"dnicolodi","id":987145,"node_id":"MDQ6VXNlcjk4NzE0NQ==","avatar_url":"https://avatars.githubusercontent.com/u/987145?v=4","gravatar_id":"","url":"https://api.github.com/users/dnicolodi","html_url":"https://github.com/dnicolodi","followers_url":"https://api.github.com/users/dnicolodi/followers","following_url":"https://api.github.com/users/dnicolodi/following{/other_user}","gists_url":"https://api.github.com/users/dnicolodi/gists{/gist_id}","starred_url":"https://api.github.com/users/dnicolodi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dnicolodi/subscriptions","organizations_url":"https://api.github.com/users/dnicolodi/orgs","repos_url":"https://api.github.com/users/dnicolodi/repos","events_url":"https://api.github.com/users/dnicolodi/events{/privacy}","received_events_url":"https://api.github.com/users/dnicolodi/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":5,"created_at":"2020-06-12T04:19:29Z","updated_at":"2020-07-08T03:27:25Z","closed_at":"2020-06-24T06:41:53Z","author_association":"COLLABORATOR","type":null,"active_lock_reason":null,"draft":false,"pull_request":{"url":"https://api.github.com/repos/beancount/beancount/pulls/471","html_url":"https://github.com/beancount/beancount/pull/471","diff_url":"https://github.com/beancount/beancount/pull/471.diff","patch_url":"https://github.com/beancount/beancount/pull/471.patch","merged_at":null},"body":"This makes the parser accept a Python `file` object as input, makes the parser reentrant, and generally cleans up the parsing code. This should fix bugs related to non ASCII file names on Windows (was reported as a bug but I am not able to find it now) and help fixing #222 (I need to check if some more work is required to completely fix the issue).\r\n","closed_by":{"login":"dnicolodi","id":987145,"node_id":"MDQ6VXNlcjk4NzE0NQ==","avatar_url":"https://avatars.githubusercontent.com/u/987145?v=4","gravatar_id":"","url":"https://api.github.com/users/dnicolodi","html_url":"https://github.com/dnicolodi","followers_url":"https://api.github.com/users/dnicolodi/followers","following_url":"https://api.github.com/users/dnicolodi/following{/other_user}","gists_url":"https://api.github.com/users/dnicolodi/gists{/gist_id}","starred_url":"https://api.github.com/users/dnicolodi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dnicolodi/subscriptions","organizations_url":"https://api.github.com/users/dnicolodi/orgs","repos_url":"https://api.github.com/users/dnicolodi/repos","events_url":"https://api.github.com/users/dnicolodi/events{/privacy}","received_events_url":"https://api.github.com/users/dnicolodi/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/beancount/beancount/issues/471/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beancount/issues/471/timeline","performed_via_github_app":null,"state_reason":null},{"url":"https://api.github.com/repos/beancount/beancount/issues/470","repository_url":"https://api.github.com/repos/beancount/beancount","labels_url":"https://api.github.com/repos/beancount/beancount/issues/470/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beancount/issues/470/comments","events_url":"https://api.github.com/repos/beancount/beancount/issues/470/events","html_url":"https://github.com/beancount/beancount/pull/470","id":636691050,"node_id":"MDExOlB1bGxSZXF1ZXN0NDMyODE4MDgz","number":470,"title":"Modernize setup.py and get rid of the cdecimal import fallback","user":{"login":"dnicolodi","id":987145,"node_id":"MDQ6VXNlcjk4NzE0NQ==","avatar_url":"https://avatars.githubusercontent.com/u/987145?v=4","gravatar_id":"","url":"https://api.github.com/users/dnicolodi","html_url":"https://github.com/dnicolodi","followers_url":"https://api.github.com/users/dnicolodi/followers","following_url":"https://api.github.com/users/dnicolodi/following{/other_user}","gists_url":"https://api.github.com/users/dnicolodi/gists{/gist_id}","starred_url":"https://api.github.com/users/dnicolodi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dnicolodi/subscriptions","organizations_url":"https://api.github.com/users/dnicolodi/orgs","repos_url":"https://api.github.com/users/dnicolodi/repos","events_url":"https://api.github.com/users/dnicolodi/events{/privacy}","received_events_url":"https://api.github.com/users/dnicolodi/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":8,"created_at":"2020-06-11T03:35:20Z","updated_at":"2020-07-08T03:09:30Z","closed_at":"2020-06-11T22:23:48Z","author_association":"COLLABORATOR","type":null,"active_lock_reason":null,"draft":false,"pull_request":{"url":"https://api.github.com/repos/beancount/beancount/pulls/470","html_url":"https://github.com/beancount/beancount/pull/470","diff_url":"https://github.com/beancount/beancount/pull/470.diff","patch_url":"https://github.com/beancount/beancount/pull/470.patch","merged_at":"2020-06-11T22:23:48Z"},"body":"","closed_by":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/beancount/beancount/issues/470/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beancount/issues/470/timeline","performed_via_github_app":null,"state_reason":null},{"url":"https://api.github.com/repos/beancount/beancount/issues/469","repository_url":"https://api.github.com/repos/beancount/beancount","labels_url":"https://api.github.com/repos/beancount/beancount/issues/469/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beancount/issues/469/comments","events_url":"https://api.github.com/repos/beancount/beancount/issues/469/events","html_url":"https://github.com/beancount/beancount/issues/469","id":635957400,"node_id":"MDU6SXNzdWU2MzU5NTc0MDA=","number":469,"title":"Is the cdecimal hack still needed?","user":{"login":"dnicolodi","id":987145,"node_id":"MDQ6VXNlcjk4NzE0NQ==","avatar_url":"https://avatars.githubusercontent.com/u/987145?v=4","gravatar_id":"","url":"https://api.github.com/users/dnicolodi","html_url":"https://github.com/dnicolodi","followers_url":"https://api.github.com/users/dnicolodi/followers","following_url":"https://api.github.com/users/dnicolodi/following{/other_user}","gists_url":"https://api.github.com/users/dnicolodi/gists{/gist_id}","starred_url":"https://api.github.com/users/dnicolodi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dnicolodi/subscriptions","organizations_url":"https://api.github.com/users/dnicolodi/orgs","repos_url":"https://api.github.com/users/dnicolodi/repos","events_url":"https://api.github.com/users/dnicolodi/events{/privacy}","received_events_url":"https://api.github.com/users/dnicolodi/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":0,"created_at":"2020-06-10T06:06:31Z","updated_at":"2020-06-11T22:23:49Z","closed_at":"2020-06-11T22:23:49Z","author_association":"COLLABORATOR","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"With 3.5 being the required minimal Python version, is the explicit import of `cdecimal` in `beancount.core.number` still needed? The comment there suggests the problem that this was solving should be fixed in Python 3.5 and above. We may even consider bumping the minimum required version to 3.6 which, as Python releases go, is already ancient.\r\n\r\nI am working of #446 and being able to simply `import decimal` would be a bit nicer.\r\n","closed_by":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/beancount/beancount/issues/469/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beancount/issues/469/timeline","performed_via_github_app":null,"state_reason":"completed"},{"url":"https://api.github.com/repos/beancount/beancount/issues/468","repository_url":"https://api.github.com/repos/beancount/beancount","labels_url":"https://api.github.com/repos/beancount/beancount/issues/468/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beancount/issues/468/comments","events_url":"https://api.github.com/repos/beancount/beancount/issues/468/events","html_url":"https://github.com/beancount/beancount/pull/468","id":634061070,"node_id":"MDExOlB1bGxSZXF1ZXN0NDMwNjUzNzgw","number":468,"title":"ingest: Silence pylint error","user":{"login":"dnicolodi","id":987145,"node_id":"MDQ6VXNlcjk4NzE0NQ==","avatar_url":"https://avatars.githubusercontent.com/u/987145?v=4","gravatar_id":"","url":"https://api.github.com/users/dnicolodi","html_url":"https://github.com/dnicolodi","followers_url":"https://api.github.com/users/dnicolodi/followers","following_url":"https://api.github.com/users/dnicolodi/following{/other_user}","gists_url":"https://api.github.com/users/dnicolodi/gists{/gist_id}","starred_url":"https://api.github.com/users/dnicolodi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dnicolodi/subscriptions","organizations_url":"https://api.github.com/users/dnicolodi/orgs","repos_url":"https://api.github.com/users/dnicolodi/repos","events_url":"https://api.github.com/users/dnicolodi/events{/privacy}","received_events_url":"https://api.github.com/users/dnicolodi/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":0,"created_at":"2020-06-08T03:26:54Z","updated_at":"2020-07-08T03:28:59Z","closed_at":"2020-06-08T03:48:38Z","author_association":"COLLABORATOR","type":null,"active_lock_reason":null,"draft":false,"pull_request":{"url":"https://api.github.com/repos/beancount/beancount/pulls/468","html_url":"https://github.com/beancount/beancount/pull/468","diff_url":"https://github.com/beancount/beancount/pull/468.diff","patch_url":"https://github.com/beancount/beancount/pull/468.patch","merged_at":"2020-06-08T03:48:38Z"},"body":"","closed_by":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/beancount/beancount/issues/468/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beancount/issues/468/timeline","performed_via_github_app":null,"state_reason":null},{"url":"https://api.github.com/repos/beancount/beancount/issues/467","repository_url":"https://api.github.com/repos/beancount/beancount","labels_url":"https://api.github.com/repos/beancount/beancount/issues/467/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beancount/issues/467/comments","events_url":"https://api.github.com/repos/beancount/beancount/issues/467/events","html_url":"https://github.com/beancount/beancount/pull/467","id":633815492,"node_id":"MDExOlB1bGxSZXF1ZXN0NDMwNDMwNDEw","number":467,"title":"tools: Skip sheet_upload_test if oauth2client is not available","user":{"login":"dnicolodi","id":987145,"node_id":"MDQ6VXNlcjk4NzE0NQ==","avatar_url":"https://avatars.githubusercontent.com/u/987145?v=4","gravatar_id":"","url":"https://api.github.com/users/dnicolodi","html_url":"https://github.com/dnicolodi","followers_url":"https://api.github.com/users/dnicolodi/followers","following_url":"https://api.github.com/users/dnicolodi/following{/other_user}","gists_url":"https://api.github.com/users/dnicolodi/gists{/gist_id}","starred_url":"https://api.github.com/users/dnicolodi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dnicolodi/subscriptions","organizations_url":"https://api.github.com/users/dnicolodi/orgs","repos_url":"https://api.github.com/users/dnicolodi/repos","events_url":"https://api.github.com/users/dnicolodi/events{/privacy}","received_events_url":"https://api.github.com/users/dnicolodi/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":2,"created_at":"2020-06-07T22:17:21Z","updated_at":"2020-07-08T03:28:41Z","closed_at":"2020-06-08T13:02:57Z","author_association":"COLLABORATOR","type":null,"active_lock_reason":null,"draft":false,"pull_request":{"url":"https://api.github.com/repos/beancount/beancount/pulls/467","html_url":"https://github.com/beancount/beancount/pull/467","diff_url":"https://github.com/beancount/beancount/pull/467.diff","patch_url":"https://github.com/beancount/beancount/pull/467.patch","merged_at":"2020-06-08T13:02:57Z"},"body":"oauth2client is not part of benacount dependencies","closed_by":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/beancount/beancount/issues/467/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beancount/issues/467/timeline","performed_via_github_app":null,"state_reason":null},{"url":"https://api.github.com/repos/beancount/beancount/issues/466","repository_url":"https://api.github.com/repos/beancount/beancount","labels_url":"https://api.github.com/repos/beancount/beancount/issues/466/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beancount/issues/466/comments","events_url":"https://api.github.com/repos/beancount/beancount/issues/466/events","html_url":"https://github.com/beancount/beancount/pull/466","id":633815305,"node_id":"MDExOlB1bGxSZXF1ZXN0NDMwNDMwMjM1","number":466,"title":"beancount.el: Rework imenu support and add tests","user":{"login":"dnicolodi","id":987145,"node_id":"MDQ6VXNlcjk4NzE0NQ==","avatar_url":"https://avatars.githubusercontent.com/u/987145?v=4","gravatar_id":"","url":"https://api.github.com/users/dnicolodi","html_url":"https://github.com/dnicolodi","followers_url":"https://api.github.com/users/dnicolodi/followers","following_url":"https://api.github.com/users/dnicolodi/following{/other_user}","gists_url":"https://api.github.com/users/dnicolodi/gists{/gist_id}","starred_url":"https://api.github.com/users/dnicolodi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dnicolodi/subscriptions","organizations_url":"https://api.github.com/users/dnicolodi/orgs","repos_url":"https://api.github.com/users/dnicolodi/repos","events_url":"https://api.github.com/users/dnicolodi/events{/privacy}","received_events_url":"https://api.github.com/users/dnicolodi/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":0,"created_at":"2020-06-07T22:17:05Z","updated_at":"2020-07-08T03:28:48Z","closed_at":"2020-06-08T03:52:28Z","author_association":"COLLABORATOR","type":null,"active_lock_reason":null,"draft":false,"pull_request":{"url":"https://api.github.com/repos/beancount/beancount/pulls/466","html_url":"https://github.com/beancount/beancount/pull/466","diff_url":"https://github.com/beancount/beancount/pull/466.diff","patch_url":"https://github.com/beancount/beancount/pull/466.patch","merged_at":"2020-06-08T03:52:28Z"},"body":"In org-mode the imemu entries are organized in a tree, however this\r\nonly allows to jump to leaf nodes, with no possibility to select\r\nintermediate nodes.  To avoid this problem, follow what outline-mode\r\ndoes and organize the imenu entries in a flat structure.  To make it\r\neasier to select the entries in the minibuffer, the outline indicators\r\nare removed from the node labels.","closed_by":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/beancount/beancount/issues/466/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beancount/issues/466/timeline","performed_via_github_app":null,"state_reason":null},{"url":"https://api.github.com/repos/beancount/beancount/issues/465","repository_url":"https://api.github.com/repos/beancount/beancount","labels_url":"https://api.github.com/repos/beancount/beancount/issues/465/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beancount/issues/465/comments","events_url":"https://api.github.com/repos/beancount/beancount/issues/465/events","html_url":"https://github.com/beancount/beancount/pull/465","id":633028098,"node_id":"MDExOlB1bGxSZXF1ZXN0NDI5NzE0MTgx","number":465,"title":"beancount.el: Rework imenu support and add tests","user":{"login":"dnicolodi","id":987145,"node_id":"MDQ6VXNlcjk4NzE0NQ==","avatar_url":"https://avatars.githubusercontent.com/u/987145?v=4","gravatar_id":"","url":"https://api.github.com/users/dnicolodi","html_url":"https://github.com/dnicolodi","followers_url":"https://api.github.com/users/dnicolodi/followers","following_url":"https://api.github.com/users/dnicolodi/following{/other_user}","gists_url":"https://api.github.com/users/dnicolodi/gists{/gist_id}","starred_url":"https://api.github.com/users/dnicolodi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dnicolodi/subscriptions","organizations_url":"https://api.github.com/users/dnicolodi/orgs","repos_url":"https://api.github.com/users/dnicolodi/repos","events_url":"https://api.github.com/users/dnicolodi/events{/privacy}","received_events_url":"https://api.github.com/users/dnicolodi/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":0,"created_at":"2020-06-07T04:38:26Z","updated_at":"2020-06-07T22:15:59Z","closed_at":"2020-06-07T22:15:59Z","author_association":"COLLABORATOR","type":null,"active_lock_reason":null,"draft":false,"pull_request":{"url":"https://api.github.com/repos/beancount/beancount/pulls/465","html_url":"https://github.com/beancount/beancount/pull/465","diff_url":"https://github.com/beancount/beancount/pull/465.diff","patch_url":"https://github.com/beancount/beancount/pull/465.patch","merged_at":null},"body":"In org-mode the imemu entries are organized in a tree, however this\r\nonly allows to jump to leaf nodes, with no possibility to select\r\nintermediate nodes.  To avoid this problem, follow what outline-mode\r\ndoes and organize the imenu entries in a flat structure.  To make it\r\neasier to select the entries in the minibuffer, the outline indicators\r\nare removed from the node labels.","closed_by":{"login":"dnicolodi","id":987145,"node_id":"MDQ6VXNlcjk4NzE0NQ==","avatar_url":"https://avatars.githubusercontent.com/u/987145?v=4","gravatar_id":"","url":"https://api.github.com/users/dnicolodi","html_url":"https://github.com/dnicolodi","followers_url":"https://api.github.com/users/dnicolodi/followers","following_url":"https://api.github.com/users/dnicolodi/following{/other_user}","gists_url":"https://api.github.com/users/dnicolodi/gists{/gist_id}","starred_url":"https://api.github.com/users/dnicolodi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dnicolodi/subscriptions","organizations_url":"https://api.github.com/users/dnicolodi/orgs","repos_url":"https://api.github.com/users/dnicolodi/repos","events_url":"https://api.github.com/users/dnicolodi/events{/privacy}","received_events_url":"https://api.github.com/users/dnicolodi/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/beancount/beancount/issues/465/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beancount/issues/465/timeline","performed_via_github_app":null,"state_reason":null},{"url":"https://api.github.com/repos/beancount/beancount/issues/464","repository_url":"https://api.github.com/repos/beancount/beancount","labels_url":"https://api.github.com/repos/beancount/beancount/issues/464/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beancount/issues/464/comments","events_url":"https://api.github.com/repos/beancount/beancount/issues/464/events","html_url":"https://github.com/beancount/beancount/issues/464","id":632147279,"node_id":"MDU6SXNzdWU2MzIxNDcyNzk=","number":464,"title":"Invalid reference to inactive account","user":{"login":"iliveforfun","id":37775889,"node_id":"MDQ6VXNlcjM3Nzc1ODg5","avatar_url":"https://avatars.githubusercontent.com/u/37775889?v=4","gravatar_id":"","url":"https://api.github.com/users/iliveforfun","html_url":"https://github.com/iliveforfun","followers_url":"https://api.github.com/users/iliveforfun/followers","following_url":"https://api.github.com/users/iliveforfun/following{/other_user}","gists_url":"https://api.github.com/users/iliveforfun/gists{/gist_id}","starred_url":"https://api.github.com/users/iliveforfun/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/iliveforfun/subscriptions","organizations_url":"https://api.github.com/users/iliveforfun/orgs","repos_url":"https://api.github.com/users/iliveforfun/repos","events_url":"https://api.github.com/users/iliveforfun/events{/privacy}","received_events_url":"https://api.github.com/users/iliveforfun/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":8,"created_at":"2020-06-06T02:33:52Z","updated_at":"2022-11-22T21:21:38Z","closed_at":"2020-06-06T03:44:37Z","author_association":"NONE","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"such error shown on my fava-website, though **it can work and show the correct result**, but i still need a way to solve this problem","closed_by":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/beancount/beancount/issues/464/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beancount/issues/464/timeline","performed_via_github_app":null,"state_reason":"completed"},{"url":"https://api.github.com/repos/beancount/beancount/issues/463","repository_url":"https://api.github.com/repos/beancount/beancount","labels_url":"https://api.github.com/repos/beancount/beancount/issues/463/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beancount/issues/463/comments","events_url":"https://api.github.com/repos/beancount/beancount/issues/463/events","html_url":"https://github.com/beancount/beancount/issues/463","id":631293200,"node_id":"MDU6SXNzdWU2MzEyOTMyMDA=","number":463,"title":"Forecast plugin shows dates from the past","user":{"login":"panixx","id":3860281,"node_id":"MDQ6VXNlcjM4NjAyODE=","avatar_url":"https://avatars.githubusercontent.com/u/3860281?v=4","gravatar_id":"","url":"https://api.github.com/users/panixx","html_url":"https://github.com/panixx","followers_url":"https://api.github.com/users/panixx/followers","following_url":"https://api.github.com/users/panixx/following{/other_user}","gists_url":"https://api.github.com/users/panixx/gists{/gist_id}","starred_url":"https://api.github.com/users/panixx/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/panixx/subscriptions","organizations_url":"https://api.github.com/users/panixx/orgs","repos_url":"https://api.github.com/users/panixx/repos","events_url":"https://api.github.com/users/panixx/events{/privacy}","received_events_url":"https://api.github.com/users/panixx/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":2080994022,"node_id":"MDU6TGFiZWwyMDgwOTk0MDIy","url":"https://api.github.com/repos/beancount/beancount/labels/P2","name":"P2","color":"ffaaaa","default":false,"description":"Low priority, addressing would result in useful improvements"},{"id":2081000893,"node_id":"MDU6TGFiZWwyMDgxMDAwODkz","url":"https://api.github.com/repos/beancount/beancount/labels/plugins","name":"plugins","color":"ededed","default":false,"description":"Component: Plug-ins"}],"state":"open","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":0,"created_at":"2020-06-05T03:59:59Z","updated_at":"2020-06-05T04:09:49Z","closed_at":null,"author_association":"NONE","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"I was playing around with the forecast plugin and noticed it shows all dates from the date entered for the transaction.\r\n\r\nFor example if you setup a transaction to be forecast and the date on that entry was 1990-01-01, you will get all entries from that date until the end of the year, making it a bit of a chore to manage.\r\n\r\nAdding this to the plugin allows it to omit any dates prior to today's date. This would be placed before line 128 [ Line 128's code is: new_entries.append(forecast_entry)  ]\r\n\r\n            if (forecast_entry.date >= datetime.date.today()):\r\n","closed_by":null,"reactions":{"url":"https://api.github.com/repos/beancount/beancount/issues/463/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beancount/issues/463/timeline","performed_via_github_app":null,"state_reason":null},{"url":"https://api.github.com/repos/beancount/beancount/issues/462","repository_url":"https://api.github.com/repos/beancount/beancount","labels_url":"https://api.github.com/repos/beancount/beancount/issues/462/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beancount/issues/462/comments","events_url":"https://api.github.com/repos/beancount/beancount/issues/462/events","html_url":"https://github.com/beancount/beancount/issues/462","id":631216433,"node_id":"MDU6SXNzdWU2MzEyMTY0MzM=","number":462,"title":"Support Spaces in Account Names","user":{"login":"kaiwei","id":449920,"node_id":"MDQ6VXNlcjQ0OTkyMA==","avatar_url":"https://avatars.githubusercontent.com/u/449920?v=4","gravatar_id":"","url":"https://api.github.com/users/kaiwei","html_url":"https://github.com/kaiwei","followers_url":"https://api.github.com/users/kaiwei/followers","following_url":"https://api.github.com/users/kaiwei/following{/other_user}","gists_url":"https://api.github.com/users/kaiwei/gists{/gist_id}","starred_url":"https://api.github.com/users/kaiwei/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kaiwei/subscriptions","organizations_url":"https://api.github.com/users/kaiwei/orgs","repos_url":"https://api.github.com/users/kaiwei/repos","events_url":"https://api.github.com/users/kaiwei/events{/privacy}","received_events_url":"https://api.github.com/users/kaiwei/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":2080914018,"node_id":"MDU6TGFiZWwyMDgwOTE0MDE4","url":"https://api.github.com/repos/beancount/beancount/labels/resolution/wontfix","name":"resolution/wontfix","color":"000000","default":false,"description":"This will not be worked on"},{"id":2080995647,"node_id":"MDU6TGFiZWwyMDgwOTk1NjQ3","url":"https://api.github.com/repos/beancount/beancount/labels/parser-loader","name":"parser-loader","color":"ededed","default":false,"description":"Component: Parser and loader"}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":2,"created_at":"2020-06-04T23:52:16Z","updated_at":"2020-06-05T08:28:23Z","closed_at":"2020-06-05T02:53:46Z","author_association":"NONE","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"Instead of Expenses:ShippingCharges, it will be so much more legible if we can do Expenses:Shipping Charges. Or Income:Capital Gains instead of Income:CapitalGains\r\n\r\nIs there any way we can add this support?","closed_by":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/beancount/beancount/issues/462/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beancount/issues/462/timeline","performed_via_github_app":null,"state_reason":"completed"},{"url":"https://api.github.com/repos/beancount/beancount/issues/461","repository_url":"https://api.github.com/repos/beancount/beancount","labels_url":"https://api.github.com/repos/beancount/beancount/issues/461/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beancount/issues/461/comments","events_url":"https://api.github.com/repos/beancount/beancount/issues/461/events","html_url":"https://github.com/beancount/beancount/pull/461","id":630663098,"node_id":"MDExOlB1bGxSZXF1ZXN0NDI3NzA3MzE2","number":461,"title":"Fix two test suite failures","user":{"login":"tbm","id":1556037,"node_id":"MDQ6VXNlcjE1NTYwMzc=","avatar_url":"https://avatars.githubusercontent.com/u/1556037?v=4","gravatar_id":"","url":"https://api.github.com/users/tbm","html_url":"https://github.com/tbm","followers_url":"https://api.github.com/users/tbm/followers","following_url":"https://api.github.com/users/tbm/following{/other_user}","gists_url":"https://api.github.com/users/tbm/gists{/gist_id}","starred_url":"https://api.github.com/users/tbm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tbm/subscriptions","organizations_url":"https://api.github.com/users/tbm/orgs","repos_url":"https://api.github.com/users/tbm/repos","events_url":"https://api.github.com/users/tbm/events{/privacy}","received_events_url":"https://api.github.com/users/tbm/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":2,"created_at":"2020-06-04T09:28:25Z","updated_at":"2020-06-04T13:22:37Z","closed_at":"2020-06-04T13:22:37Z","author_association":"CONTRIBUTOR","type":null,"active_lock_reason":null,"draft":false,"pull_request":{"url":"https://api.github.com/repos/beancount/beancount/pulls/461","html_url":"https://github.com/beancount/beancount/pull/461","diff_url":"https://github.com/beancount/beancount/pull/461.diff","patch_url":"https://github.com/beancount/beancount/pull/461.patch","merged_at":"2020-06-04T13:22:37Z"},"body":"Commit d9a70473 added a call to functools.partial() without\r\nimporting functools.","closed_by":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/beancount/beancount/issues/461/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beancount/issues/461/timeline","performed_via_github_app":null,"state_reason":null},{"url":"https://api.github.com/repos/beancount/beancount/issues/460","repository_url":"https://api.github.com/repos/beancount/beancount","labels_url":"https://api.github.com/repos/beancount/beancount/issues/460/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beancount/issues/460/comments","events_url":"https://api.github.com/repos/beancount/beancount/issues/460/events","html_url":"https://github.com/beancount/beancount/pull/460","id":630653047,"node_id":"MDExOlB1bGxSZXF1ZXN0NDI3Njk5NDY1","number":460,"title":"Fix formatting issues of some docstrings","user":{"login":"tbm","id":1556037,"node_id":"MDQ6VXNlcjE1NTYwMzc=","avatar_url":"https://avatars.githubusercontent.com/u/1556037?v=4","gravatar_id":"","url":"https://api.github.com/users/tbm","html_url":"https://github.com/tbm","followers_url":"https://api.github.com/users/tbm/followers","following_url":"https://api.github.com/users/tbm/following{/other_user}","gists_url":"https://api.github.com/users/tbm/gists{/gist_id}","starred_url":"https://api.github.com/users/tbm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tbm/subscriptions","organizations_url":"https://api.github.com/users/tbm/orgs","repos_url":"https://api.github.com/users/tbm/repos","events_url":"https://api.github.com/users/tbm/events{/privacy}","received_events_url":"https://api.github.com/users/tbm/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":4,"created_at":"2020-06-04T09:14:59Z","updated_at":"2020-06-09T21:13:40Z","closed_at":"2020-06-09T21:13:40Z","author_association":"CONTRIBUTOR","type":null,"active_lock_reason":null,"draft":false,"pull_request":{"url":"https://api.github.com/repos/beancount/beancount/pulls/460","html_url":"https://github.com/beancount/beancount/pull/460","diff_url":"https://github.com/beancount/beancount/pull/460.diff","patch_url":"https://github.com/beancount/beancount/pull/460.patch","merged_at":"2020-06-09T21:13:39Z"},"body":"","closed_by":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/beancount/beancount/issues/460/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beancount/issues/460/timeline","performed_via_github_app":null,"state_reason":null},{"url":"https://api.github.com/repos/beancount/beancount/issues/459","repository_url":"https://api.github.com/repos/beancount/beancount","labels_url":"https://api.github.com/repos/beancount/beancount/issues/459/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beancount/issues/459/comments","events_url":"https://api.github.com/repos/beancount/beancount/issues/459/events","html_url":"https://github.com/beancount/beancount/issues/459","id":630646209,"node_id":"MDU6SXNzdWU2MzA2NDYyMDk=","number":459,"title":"Make a new release and submit it to PyPI","user":{"login":"xuhcc","id":1660460,"node_id":"MDQ6VXNlcjE2NjA0NjA=","avatar_url":"https://avatars.githubusercontent.com/u/1660460?v=4","gravatar_id":"","url":"https://api.github.com/users/xuhcc","html_url":"https://github.com/xuhcc","followers_url":"https://api.github.com/users/xuhcc/followers","following_url":"https://api.github.com/users/xuhcc/following{/other_user}","gists_url":"https://api.github.com/users/xuhcc/gists{/gist_id}","starred_url":"https://api.github.com/users/xuhcc/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/xuhcc/subscriptions","organizations_url":"https://api.github.com/users/xuhcc/orgs","repos_url":"https://api.github.com/users/xuhcc/repos","events_url":"https://api.github.com/users/xuhcc/events{/privacy}","received_events_url":"https://api.github.com/users/xuhcc/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":3,"created_at":"2020-06-04T09:05:11Z","updated_at":"2020-06-10T08:48:25Z","closed_at":"2020-06-10T04:37:21Z","author_association":"CONTRIBUTOR","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"","closed_by":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/beancount/beancount/issues/459/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beancount/issues/459/timeline","performed_via_github_app":null,"state_reason":"completed"},{"url":"https://api.github.com/repos/beancount/beancount/issues/458","repository_url":"https://api.github.com/repos/beancount/beancount","labels_url":"https://api.github.com/repos/beancount/beancount/issues/458/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beancount/issues/458/comments","events_url":"https://api.github.com/repos/beancount/beancount/issues/458/events","html_url":"https://github.com/beancount/beancount/issues/458","id":629769963,"node_id":"MDU6SXNzdWU2Mjk3Njk5NjM=","number":458,"title":"Incorporate hook mechanism from smart importer","user":{"login":"tbm","id":1556037,"node_id":"MDQ6VXNlcjE1NTYwMzc=","avatar_url":"https://avatars.githubusercontent.com/u/1556037?v=4","gravatar_id":"","url":"https://api.github.com/users/tbm","html_url":"https://github.com/tbm","followers_url":"https://api.github.com/users/tbm/followers","following_url":"https://api.github.com/users/tbm/following{/other_user}","gists_url":"https://api.github.com/users/tbm/gists{/gist_id}","starred_url":"https://api.github.com/users/tbm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tbm/subscriptions","organizations_url":"https://api.github.com/users/tbm/orgs","repos_url":"https://api.github.com/users/tbm/repos","events_url":"https://api.github.com/users/tbm/events{/privacy}","received_events_url":"https://api.github.com/users/tbm/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":22,"created_at":"2020-06-03T07:41:27Z","updated_at":"2021-04-04T14:36:59Z","closed_at":"2020-06-04T04:14:53Z","author_association":"CONTRIBUTOR","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"smart_importer has an apply hook mechanism which allows you to apply functions to all entries during import.\r\n\r\nI found this very useful in another project I was working on (a rules-based importer) and I now also use it to apply a function I wrote that contains business logic for the organization.\r\n\r\nSince there's nothing smart_importer-specific about the hook mechanism, could this be moved into beancount itself?\r\n\r\nCopying @tarioch from smart_importer.\r\n","closed_by":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/beancount/beancount/issues/458/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beancount/issues/458/timeline","performed_via_github_app":null,"state_reason":"completed"},{"url":"https://api.github.com/repos/beancount/beancount/issues/457","repository_url":"https://api.github.com/repos/beancount/beancount","labels_url":"https://api.github.com/repos/beancount/beancount/issues/457/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beancount/issues/457/comments","events_url":"https://api.github.com/repos/beancount/beancount/issues/457/events","html_url":"https://github.com/beancount/beancount/issues/457","id":629757032,"node_id":"MDU6SXNzdWU2Mjk3NTcwMzI=","number":457,"title":"Cache file is corrupted / Can't pickle... attribute lookup failed","user":{"login":"tbm","id":1556037,"node_id":"MDQ6VXNlcjE1NTYwMzc=","avatar_url":"https://avatars.githubusercontent.com/u/1556037?v=4","gravatar_id":"","url":"https://api.github.com/users/tbm","html_url":"https://github.com/tbm","followers_url":"https://api.github.com/users/tbm/followers","following_url":"https://api.github.com/users/tbm/following{/other_user}","gists_url":"https://api.github.com/users/tbm/gists{/gist_id}","starred_url":"https://api.github.com/users/tbm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tbm/subscriptions","organizations_url":"https://api.github.com/users/tbm/orgs","repos_url":"https://api.github.com/users/tbm/repos","events_url":"https://api.github.com/users/tbm/events{/privacy}","received_events_url":"https://api.github.com/users/tbm/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":2,"created_at":"2020-06-03T07:21:39Z","updated_at":"2020-06-03T13:31:38Z","closed_at":"2020-06-03T13:31:38Z","author_association":"CONTRIBUTOR","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"I sometimes get something like this:\r\n\r\n```\r\nbean-check books.beancount                                                                             master\r\nERROR:root:Cache file is corrupted: Ran out of input; recomputing.\r\nWARNING:root:Could not write to picklecache file /home/tbm/src/spi/treasurer-private/beancount/2020/.books.beancount.picklecache: Can't pickle <class 'plugins.validate_metadata.ValidateMetadataError'>: attribute lookup ValidateMetadataError on plugins.validate_metadata failed\r\n```\r\n\r\nI don't think my plugin does anything weird:\r\n\r\n```\r\nValidateMetadata = collections.namedtuple('ValidateMetadataError',\r\n                                          'source message entry')\r\n```\r\n\r\nHmm, I guess this should be `ValidateMetadataError` but that shouldn't matter... (?)\r\n\r\nToday I also got something like this (i.e. the message is repeated several times):\r\n\r\n```\r\nbean-extract config.py ../statements/key/business_reward_checking/ofx/2020-05.qfx | bean-format -c 73   > ~/d ; m ~/d\r\n\r\nERROR:root:Cache file is corrupted: Ran out of input; recomputing.\r\nWARNING:root:Could not write to picklecache file /home/tbm/src/spi/treasurer-private/beancount/2020/.books.beancount.picklecache: Can't pickle <class 'plugins.validate_metadata.ValidateMetadataError'>: attribute lookup ValidateMetadataError on plugins.validate_metadata failed\r\nERROR:root:Cache file is corrupted: Ran out of input; recomputing.\r\nWARNING:root:Could not write to picklecache file /home/tbm/src/spi/treasurer-private/beancount/2020/.books.beancount.picklecache: Can't pickle <class 'plugins.validate_metadata.ValidateMetadataError'>: attribute lookup ValidateMetadataError on plugins.validate_metadata failed\r\nERROR:root:Cache file is corrupted: Ran out of input; recomputing.\r\nWARNING:root:Could not write to picklecache file /home/tbm/src/spi/treasurer-private/beancount/2020/.books.beancount.picklecache: Can't pickle <class 'plugins.validate_metadata.ValidateMetadataError'>: attribute lookup ValidateMetadataError on plugins.validate_metadata failed\r\nERROR:root:Cache file is corrupted: Ran out of input; recomputing.\r\nWARNING:root:Could not write to picklecache file /home/tbm/src/spi/treasurer-private/beancount/2020/.books.beancount.picklecache: Can't pickle <class 'plugins.validate_metadata.ValidateMetadataError'>: attribute lookup ValidateMetadataError on plugins.validate_metadata failed\r\nERROR:root:Cache file is corrupted: Ran out of input; recomputing.\r\nWARNING:root:Could not write to picklecache file /home/tbm/src/spi/treasurer-private/beancount/2020/.books.beancount.picklecache: Can't pickle <class 'plugins.validate_metadata.ValidateMetadataError'>: attribute lookup ValidateMetadataError on plugins.validate_metadata failed\r\nERROR:root:Cache file is corrupted: Ran out of input; recomputing.\r\nWARNING:root:Could not write to picklecache file /home/tbm/src/spi/treasurer-private/beancount/2020/.books.beancount.picklecache: Can't pickle <class 'plugins.validate_metadata.ValidateMetadataError'>: attribute lookup ValidateMetadataError on plugins.validate_metadata failed\r\nERROR:root:Cache file is corrupted: Ran out of input; recomputing.\r\nWARNING:root:Could not write to picklecache file /home/tbm/src/spi/treasurer-private/beancount/2020/.books.beancount.picklecache: Can't pickle <class 'plugins.validate_metadata.ValidateMetadataError'>: attribute lookup ValidateMetadataError on plugins.validate_metadata failed\r\nERROR:root:Cache file is corrupted: Ran out of input; recomputing.\r\nWARNING:root:Could not write to picklecache file /home/tbm/src/spi/treasurer-private/beancount/2020/.books.beancount.picklecache: Can't pickle <class 'plugins.validate_metadata.ValidateMetadataError'>: attribute lookup ValidateMetadataError on plugins.validate_metadata failed\r\nERROR:root:Cache file is corrupted: Ran out of input; recomputing.\r\n```\r\n","closed_by":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/beancount/beancount/issues/457/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beancount/issues/457/timeline","performed_via_github_app":null,"state_reason":"completed"},{"url":"https://api.github.com/repos/beancount/beancount/issues/456","repository_url":"https://api.github.com/repos/beancount/beancount","labels_url":"https://api.github.com/repos/beancount/beancount/issues/456/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beancount/issues/456/comments","events_url":"https://api.github.com/repos/beancount/beancount/issues/456/events","html_url":"https://github.com/beancount/beancount/pull/456","id":628720849,"node_id":"MDExOlB1bGxSZXF1ZXN0NDI2MjA5OTU3","number":456,"title":"Add optional locale to parse numbers.","user":{"login":"matz-e","id":2151261,"node_id":"MDQ6VXNlcjIxNTEyNjE=","avatar_url":"https://avatars.githubusercontent.com/u/2151261?v=4","gravatar_id":"","url":"https://api.github.com/users/matz-e","html_url":"https://github.com/matz-e","followers_url":"https://api.github.com/users/matz-e/followers","following_url":"https://api.github.com/users/matz-e/following{/other_user}","gists_url":"https://api.github.com/users/matz-e/gists{/gist_id}","starred_url":"https://api.github.com/users/matz-e/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/matz-e/subscriptions","organizations_url":"https://api.github.com/users/matz-e/orgs","repos_url":"https://api.github.com/users/matz-e/repos","events_url":"https://api.github.com/users/matz-e/events{/privacy}","received_events_url":"https://api.github.com/users/matz-e/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":2080914018,"node_id":"MDU6TGFiZWwyMDgwOTE0MDE4","url":"https://api.github.com/repos/beancount/beancount/labels/resolution/wontfix","name":"resolution/wontfix","color":"000000","default":false,"description":"This will not be worked on"},{"id":2080994061,"node_id":"MDU6TGFiZWwyMDgwOTk0MDYx","url":"https://api.github.com/repos/beancount/beancount/labels/P3","name":"P3","color":"FFdddd","default":false,"description":"Very low priority, nice to have"},{"id":2080995603,"node_id":"MDU6TGFiZWwyMDgwOTk1NjAz","url":"https://api.github.com/repos/beancount/beancount/labels/core-ops","name":"core-ops","color":"ededed","default":false,"description":"Component: Core data structures and stream ops"}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":2,"created_at":"2020-06-01T20:55:37Z","updated_at":"2020-06-02T06:40:26Z","closed_at":"2020-06-02T06:15:16Z","author_association":"CONTRIBUTOR","type":null,"active_lock_reason":null,"draft":false,"pull_request":{"url":"https://api.github.com/repos/beancount/beancount/pulls/456","html_url":"https://github.com/beancount/beancount/pull/456","diff_url":"https://github.com/beancount/beancount/pull/456.diff","patch_url":"https://github.com/beancount/beancount/pull/456.patch","merged_at":null},"body":"Useful when parsing localized CSV files with different number grouping\r\nand decimal points.  Can be adjusted by manually importing `babel`:\r\n\r\n    from babel import Locale\r\n    Locale(\"de_CH\").number_symbols[\"group\"] = \"'\"  # For ASCII imports, default is UTF-8 quote\r\n\r\nin importers.\r\n\r\nAlso works better than setting `LC_NUMERIC` via the `locale` module (see\r\nwarnings there).","closed_by":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/beancount/beancount/issues/456/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beancount/issues/456/timeline","performed_via_github_app":null,"state_reason":null},{"url":"https://api.github.com/repos/beancount/beancount/issues/454","repository_url":"https://api.github.com/repos/beancount/beancount","labels_url":"https://api.github.com/repos/beancount/beancount/issues/454/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beancount/issues/454/comments","events_url":"https://api.github.com/repos/beancount/beancount/issues/454/events","html_url":"https://github.com/beancount/beancount/pull/454","id":627267230,"node_id":"MDExOlB1bGxSZXF1ZXN0NDI1MTAyMTMz","number":454,"title":"D function be able to parse comma number","user":{"login":"pfrancois","id":421310,"node_id":"MDQ6VXNlcjQyMTMxMA==","avatar_url":"https://avatars.githubusercontent.com/u/421310?v=4","gravatar_id":"","url":"https://api.github.com/users/pfrancois","html_url":"https://github.com/pfrancois","followers_url":"https://api.github.com/users/pfrancois/followers","following_url":"https://api.github.com/users/pfrancois/following{/other_user}","gists_url":"https://api.github.com/users/pfrancois/gists{/gist_id}","starred_url":"https://api.github.com/users/pfrancois/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pfrancois/subscriptions","organizations_url":"https://api.github.com/users/pfrancois/orgs","repos_url":"https://api.github.com/users/pfrancois/repos","events_url":"https://api.github.com/users/pfrancois/events{/privacy}","received_events_url":"https://api.github.com/users/pfrancois/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":2080914018,"node_id":"MDU6TGFiZWwyMDgwOTE0MDE4","url":"https://api.github.com/repos/beancount/beancount/labels/resolution/wontfix","name":"resolution/wontfix","color":"000000","default":false,"description":"This will not be worked on"},{"id":2080994061,"node_id":"MDU6TGFiZWwyMDgwOTk0MDYx","url":"https://api.github.com/repos/beancount/beancount/labels/P3","name":"P3","color":"FFdddd","default":false,"description":"Very low priority, nice to have"},{"id":2080995603,"node_id":"MDU6TGFiZWwyMDgwOTk1NjAz","url":"https://api.github.com/repos/beancount/beancount/labels/core-ops","name":"core-ops","color":"ededed","default":false,"description":"Component: Core data structures and stream ops"}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":4,"created_at":"2020-05-29T13:25:49Z","updated_at":"2020-06-02T06:16:55Z","closed_at":"2020-06-02T06:16:46Z","author_association":"NONE","type":null,"active_lock_reason":null,"draft":false,"pull_request":{"url":"https://api.github.com/repos/beancount/beancount/pulls/454","html_url":"https://github.com/beancount/beancount/pull/454","diff_url":"https://github.com/beancount/beancount/pull/454.diff","patch_url":"https://github.com/beancount/beancount/pull/454.patch","merged_at":null},"body":"i change a bit the D function in order to be able to parse comma as decimal point in a number.\r\ni add also some tests.\r\n","closed_by":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/beancount/beancount/issues/454/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beancount/issues/454/timeline","performed_via_github_app":null,"state_reason":null},{"url":"https://api.github.com/repos/beancount/beancount/issues/453","repository_url":"https://api.github.com/repos/beancount/beancount","labels_url":"https://api.github.com/repos/beancount/beancount/issues/453/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beancount/issues/453/comments","events_url":"https://api.github.com/repos/beancount/beancount/issues/453/events","html_url":"https://github.com/beancount/beancount/issues/453","id":624510511,"node_id":"MDU6SXNzdWU2MjQ1MTA1MTE=","number":453,"title":"Total cost is missing from the syntax documentation","user":{"login":"adamgibbins","id":46830,"node_id":"MDQ6VXNlcjQ2ODMw","avatar_url":"https://avatars.githubusercontent.com/u/46830?v=4","gravatar_id":"","url":"https://api.github.com/users/adamgibbins","html_url":"https://github.com/adamgibbins","followers_url":"https://api.github.com/users/adamgibbins/followers","following_url":"https://api.github.com/users/adamgibbins/following{/other_user}","gists_url":"https://api.github.com/users/adamgibbins/gists{/gist_id}","starred_url":"https://api.github.com/users/adamgibbins/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/adamgibbins/subscriptions","organizations_url":"https://api.github.com/users/adamgibbins/orgs","repos_url":"https://api.github.com/users/adamgibbins/repos","events_url":"https://api.github.com/users/adamgibbins/events{/privacy}","received_events_url":"https://api.github.com/users/adamgibbins/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":1,"created_at":"2020-05-25T22:45:40Z","updated_at":"2020-05-25T22:47:53Z","closed_at":"2020-05-25T22:47:53Z","author_association":"NONE","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"https://docs.google.com/document/d/1wAMVrKIA2qtRGmoVDSUBJGmYZSygUaR0uOMW1GV3YE0/edit#\r\n\r\nMakes no mention of the `{{ 100 USD }}` syntax for total cost. It mentions @@ for total price (although mislabels that as total cost?).\r\n\r\nTotal cost is correct on the cheat sheet, but total price is missing instead: https://docs.google.com/document/d/1M4GwF6BkcXyVVvj4yXBJMX7YFXpxlxo95W6CpU3uWVc/edit","closed_by":{"login":"adamgibbins","id":46830,"node_id":"MDQ6VXNlcjQ2ODMw","avatar_url":"https://avatars.githubusercontent.com/u/46830?v=4","gravatar_id":"","url":"https://api.github.com/users/adamgibbins","html_url":"https://github.com/adamgibbins","followers_url":"https://api.github.com/users/adamgibbins/followers","following_url":"https://api.github.com/users/adamgibbins/following{/other_user}","gists_url":"https://api.github.com/users/adamgibbins/gists{/gist_id}","starred_url":"https://api.github.com/users/adamgibbins/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/adamgibbins/subscriptions","organizations_url":"https://api.github.com/users/adamgibbins/orgs","repos_url":"https://api.github.com/users/adamgibbins/repos","events_url":"https://api.github.com/users/adamgibbins/events{/privacy}","received_events_url":"https://api.github.com/users/adamgibbins/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/beancount/beancount/issues/453/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beancount/issues/453/timeline","performed_via_github_app":null,"state_reason":"completed"},{"url":"https://api.github.com/repos/beancount/beancount/issues/452","repository_url":"https://api.github.com/repos/beancount/beancount","labels_url":"https://api.github.com/repos/beancount/beancount/issues/452/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beancount/issues/452/comments","events_url":"https://api.github.com/repos/beancount/beancount/issues/452/events","html_url":"https://github.com/beancount/beancount/pull/452","id":624139592,"node_id":"MDExOlB1bGxSZXF1ZXN0NDIyNjIwNDE0","number":452,"title":"Fix error message in IEX price source","user":{"login":"tbm","id":1556037,"node_id":"MDQ6VXNlcjE1NTYwMzc=","avatar_url":"https://avatars.githubusercontent.com/u/1556037?v=4","gravatar_id":"","url":"https://api.github.com/users/tbm","html_url":"https://github.com/tbm","followers_url":"https://api.github.com/users/tbm/followers","following_url":"https://api.github.com/users/tbm/following{/other_user}","gists_url":"https://api.github.com/users/tbm/gists{/gist_id}","starred_url":"https://api.github.com/users/tbm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tbm/subscriptions","organizations_url":"https://api.github.com/users/tbm/orgs","repos_url":"https://api.github.com/users/tbm/repos","events_url":"https://api.github.com/users/tbm/events{/privacy}","received_events_url":"https://api.github.com/users/tbm/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":1,"created_at":"2020-05-25T08:35:47Z","updated_at":"2020-05-27T03:52:52Z","closed_at":"2020-05-27T03:52:52Z","author_association":"CONTRIBUTOR","type":null,"active_lock_reason":null,"draft":false,"pull_request":{"url":"https://api.github.com/repos/beancount/beancount/pulls/452","html_url":"https://github.com/beancount/beancount/pull/452","diff_url":"https://github.com/beancount/beancount/pull/452.diff","patch_url":"https://github.com/beancount/beancount/pull/452.patch","merged_at":null},"body":"Fix the following issue spotted by pylint:\r\n\r\n    beancount/prices/sources/iex.py:35: [E1305(too-many-format-args), fetch_quote] Too many arguments for format string","closed_by":{"login":"tbm","id":1556037,"node_id":"MDQ6VXNlcjE1NTYwMzc=","avatar_url":"https://avatars.githubusercontent.com/u/1556037?v=4","gravatar_id":"","url":"https://api.github.com/users/tbm","html_url":"https://github.com/tbm","followers_url":"https://api.github.com/users/tbm/followers","following_url":"https://api.github.com/users/tbm/following{/other_user}","gists_url":"https://api.github.com/users/tbm/gists{/gist_id}","starred_url":"https://api.github.com/users/tbm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tbm/subscriptions","organizations_url":"https://api.github.com/users/tbm/orgs","repos_url":"https://api.github.com/users/tbm/repos","events_url":"https://api.github.com/users/tbm/events{/privacy}","received_events_url":"https://api.github.com/users/tbm/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/beancount/beancount/issues/452/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beancount/issues/452/timeline","performed_via_github_app":null,"state_reason":null},{"url":"https://api.github.com/repos/beancount/beancount/issues/451","repository_url":"https://api.github.com/repos/beancount/beancount","labels_url":"https://api.github.com/repos/beancount/beancount/issues/451/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beancount/issues/451/comments","events_url":"https://api.github.com/repos/beancount/beancount/issues/451/events","html_url":"https://github.com/beancount/beancount/pull/451","id":624106664,"node_id":"MDExOlB1bGxSZXF1ZXN0NDIyNTk0NzA0","number":451,"title":"Add requirements file for development and CI","user":{"login":"xuhcc","id":1660460,"node_id":"MDQ6VXNlcjE2NjA0NjA=","avatar_url":"https://avatars.githubusercontent.com/u/1660460?v=4","gravatar_id":"","url":"https://api.github.com/users/xuhcc","html_url":"https://github.com/xuhcc","followers_url":"https://api.github.com/users/xuhcc/followers","following_url":"https://api.github.com/users/xuhcc/following{/other_user}","gists_url":"https://api.github.com/users/xuhcc/gists{/gist_id}","starred_url":"https://api.github.com/users/xuhcc/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/xuhcc/subscriptions","organizations_url":"https://api.github.com/users/xuhcc/orgs","repos_url":"https://api.github.com/users/xuhcc/repos","events_url":"https://api.github.com/users/xuhcc/events{/privacy}","received_events_url":"https://api.github.com/users/xuhcc/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":0,"created_at":"2020-05-25T07:34:29Z","updated_at":"2020-05-25T16:16:36Z","closed_at":"2020-05-25T14:25:52Z","author_association":"CONTRIBUTOR","type":null,"active_lock_reason":null,"draft":false,"pull_request":{"url":"https://api.github.com/repos/beancount/beancount/pulls/451","html_url":"https://github.com/beancount/beancount/pull/451","diff_url":"https://github.com/beancount/beancount/pull/451.diff","patch_url":"https://github.com/beancount/beancount/pull/451.patch","merged_at":"2020-05-25T14:25:52Z"},"body":"","closed_by":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/beancount/beancount/issues/451/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beancount/issues/451/timeline","performed_via_github_app":null,"state_reason":null},{"url":"https://api.github.com/repos/beancount/beancount/issues/450","repository_url":"https://api.github.com/repos/beancount/beancount","labels_url":"https://api.github.com/repos/beancount/beancount/issues/450/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beancount/issues/450/comments","events_url":"https://api.github.com/repos/beancount/beancount/issues/450/events","html_url":"https://github.com/beancount/beancount/pull/450","id":624102957,"node_id":"MDExOlB1bGxSZXF1ZXN0NDIyNTkxNzYy","number":450,"title":"Fix lint error","user":{"login":"xuhcc","id":1660460,"node_id":"MDQ6VXNlcjE2NjA0NjA=","avatar_url":"https://avatars.githubusercontent.com/u/1660460?v=4","gravatar_id":"","url":"https://api.github.com/users/xuhcc","html_url":"https://github.com/xuhcc","followers_url":"https://api.github.com/users/xuhcc/followers","following_url":"https://api.github.com/users/xuhcc/following{/other_user}","gists_url":"https://api.github.com/users/xuhcc/gists{/gist_id}","starred_url":"https://api.github.com/users/xuhcc/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/xuhcc/subscriptions","organizations_url":"https://api.github.com/users/xuhcc/orgs","repos_url":"https://api.github.com/users/xuhcc/repos","events_url":"https://api.github.com/users/xuhcc/events{/privacy}","received_events_url":"https://api.github.com/users/xuhcc/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":0,"created_at":"2020-05-25T07:26:50Z","updated_at":"2020-05-25T12:37:28Z","closed_at":"2020-05-25T12:32:39Z","author_association":"CONTRIBUTOR","type":null,"active_lock_reason":null,"draft":false,"pull_request":{"url":"https://api.github.com/repos/beancount/beancount/pulls/450","html_url":"https://github.com/beancount/beancount/pull/450","diff_url":"https://github.com/beancount/beancount/pull/450.diff","patch_url":"https://github.com/beancount/beancount/pull/450.patch","merged_at":"2020-05-25T12:32:38Z"},"body":"```\r\nbeancount/prices/sources/iex.py:35: [E1305(too-many-format-args), fetch_quote] Too many arguments for format string\r\n```","closed_by":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/beancount/beancount/issues/450/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beancount/issues/450/timeline","performed_via_github_app":null,"state_reason":null},{"url":"https://api.github.com/repos/beancount/beancount/issues/449","repository_url":"https://api.github.com/repos/beancount/beancount","labels_url":"https://api.github.com/repos/beancount/beancount/issues/449/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beancount/issues/449/comments","events_url":"https://api.github.com/repos/beancount/beancount/issues/449/events","html_url":"https://github.com/beancount/beancount/issues/449","id":624044394,"node_id":"MDU6SXNzdWU2MjQwNDQzOTQ=","number":449,"title":"beancount cache should take modification date of plugins into account","user":{"login":"tbm","id":1556037,"node_id":"MDQ6VXNlcjE1NTYwMzc=","avatar_url":"https://avatars.githubusercontent.com/u/1556037?v=4","gravatar_id":"","url":"https://api.github.com/users/tbm","html_url":"https://github.com/tbm","followers_url":"https://api.github.com/users/tbm/followers","following_url":"https://api.github.com/users/tbm/following{/other_user}","gists_url":"https://api.github.com/users/tbm/gists{/gist_id}","starred_url":"https://api.github.com/users/tbm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tbm/subscriptions","organizations_url":"https://api.github.com/users/tbm/orgs","repos_url":"https://api.github.com/users/tbm/repos","events_url":"https://api.github.com/users/tbm/events{/privacy}","received_events_url":"https://api.github.com/users/tbm/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":2080994777,"node_id":"MDU6TGFiZWwyMDgwOTk0Nzc3","url":"https://api.github.com/repos/beancount/beancount/labels/P1","name":"P1","color":"ff6666","default":false,"description":"High priority, not breaking but hindering or lessening existing functionality"},{"id":2080995647,"node_id":"MDU6TGFiZWwyMDgwOTk1NjQ3","url":"https://api.github.com/repos/beancount/beancount/labels/parser-loader","name":"parser-loader","color":"ededed","default":false,"description":"Component: Parser and loader"}],"state":"open","locked":false,"assignee":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"assignees":[{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false}],"milestone":null,"comments":18,"created_at":"2020-05-25T04:56:21Z","updated_at":"2020-10-05T00:42:19Z","closed_at":null,"author_association":"CONTRIBUTOR","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"I've been working on some beancount plugins.  It seems that beancount only looks at the beancount files to see if is has to refresh the cache.  When I modify the plugin, sometimes/often the new version isn't yet used.  I work around it by:\r\n\r\n```\r\ntouch foo.beacount\r\nbean-check foo.beancount\r\n```\r\n\r\nIt seems beancount needs to look at the modification date of the plugins used by a beancount file to determine whether it can use the cache.\r\n","closed_by":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/beancount/beancount/issues/449/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beancount/issues/449/timeline","performed_via_github_app":null,"state_reason":null},{"url":"https://api.github.com/repos/beancount/beancount/issues/446","repository_url":"https://api.github.com/repos/beancount/beancount","labels_url":"https://api.github.com/repos/beancount/beancount/issues/446/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beancount/issues/446/comments","events_url":"https://api.github.com/repos/beancount/beancount/issues/446/events","html_url":"https://github.com/beancount/beancount/issues/446","id":624041848,"node_id":"MDU6SXNzdWU2MjQwNDE4NDg=","number":446,"title":"0.005 rounded down instead of up","user":{"login":"tbm","id":1556037,"node_id":"MDQ6VXNlcjE1NTYwMzc=","avatar_url":"https://avatars.githubusercontent.com/u/1556037?v=4","gravatar_id":"","url":"https://api.github.com/users/tbm","html_url":"https://github.com/tbm","followers_url":"https://api.github.com/users/tbm/followers","following_url":"https://api.github.com/users/tbm/following{/other_user}","gists_url":"https://api.github.com/users/tbm/gists{/gist_id}","starred_url":"https://api.github.com/users/tbm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tbm/subscriptions","organizations_url":"https://api.github.com/users/tbm/orgs","repos_url":"https://api.github.com/users/tbm/repos","events_url":"https://api.github.com/users/tbm/events{/privacy}","received_events_url":"https://api.github.com/users/tbm/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"open","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":9,"created_at":"2020-05-25T04:47:54Z","updated_at":"2020-12-29T18:44:40Z","closed_at":null,"author_association":"CONTRIBUTOR","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"I reported the following issue [to ledger](https://github.com/ledger/ledger/issues/1663) but beancount also gets it wrong.  Apparently (recent) hledger do it right.\r\n\r\nIn daily financial life, 0.005 is typically rounded up to 0.01.  But:\r\n\r\n```\r\n2018-01-01 open Assets:Investments\r\n2018-01-01 open Assets:Cash\r\n\r\n2018-01-02 * \"Bought FOO\"\r\n    Assets:Investments           3 FOO @ 1.595 EUR\r\n    Assets:Cash\r\n```\r\n\r\n`3 * 1.595` is `4.785` which should imho be rounded to `4.79` and not `4.78`.  But:\r\n\r\n```\r\nbean-report d holdings | grep Assets:Cash\r\nAssets:Cash         -4.78       EUR         EUR          -4.78         -4.78\r\n```\r\n\r\nSurely that should be `-4.79`.\r\n\r\nIn Python, it can be done with `decimal.ROUND_HALF_UP`:\r\n\r\n```\r\n>>> import decimal\r\n>>> decimal.Decimal('0.015').quantize(D('.01'), rounding=decimal.ROUND_HALF_UP)\r\nDecimal('0.02')\r\n>>> decimal.Decimal('0.014999').quantize(D('.01'), rounding=decimal.ROUND_HALF_UP)\r\nDecimal('0.01')\r\n```\r\n","closed_by":null,"reactions":{"url":"https://api.github.com/repos/beancount/beancount/issues/446/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beancount/issues/446/timeline","performed_via_github_app":null,"state_reason":null},{"url":"https://api.github.com/repos/beancount/beancount/issues/445","repository_url":"https://api.github.com/repos/beancount/beancount","labels_url":"https://api.github.com/repos/beancount/beancount/issues/445/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beancount/issues/445/comments","events_url":"https://api.github.com/repos/beancount/beancount/issues/445/events","html_url":"https://github.com/beancount/beancount/pull/445","id":623926359,"node_id":"MDExOlB1bGxSZXF1ZXN0NDIyNDU2MzM0","number":445,"title":"gitignore: remove leftover hg syntax directive","user":{"login":"zacchiro","id":216766,"node_id":"MDQ6VXNlcjIxNjc2Ng==","avatar_url":"https://avatars.githubusercontent.com/u/216766?v=4","gravatar_id":"","url":"https://api.github.com/users/zacchiro","html_url":"https://github.com/zacchiro","followers_url":"https://api.github.com/users/zacchiro/followers","following_url":"https://api.github.com/users/zacchiro/following{/other_user}","gists_url":"https://api.github.com/users/zacchiro/gists{/gist_id}","starred_url":"https://api.github.com/users/zacchiro/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/zacchiro/subscriptions","organizations_url":"https://api.github.com/users/zacchiro/orgs","repos_url":"https://api.github.com/users/zacchiro/repos","events_url":"https://api.github.com/users/zacchiro/events{/privacy}","received_events_url":"https://api.github.com/users/zacchiro/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":0,"created_at":"2020-05-24T19:12:23Z","updated_at":"2020-05-25T14:26:48Z","closed_at":"2020-05-25T01:11:20Z","author_association":"CONTRIBUTOR","type":null,"active_lock_reason":null,"draft":false,"pull_request":{"url":"https://api.github.com/repos/beancount/beancount/pulls/445","html_url":"https://github.com/beancount/beancount/pull/445","diff_url":"https://github.com/beancount/beancount/pull/445.diff","patch_url":"https://github.com/beancount/beancount/pull/445.patch","merged_at":"2020-05-25T01:11:20Z"},"body":null,"closed_by":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/beancount/beancount/issues/445/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beancount/issues/445/timeline","performed_via_github_app":null,"state_reason":null},{"url":"https://api.github.com/repos/beancount/beancount/issues/444","repository_url":"https://api.github.com/repos/beancount/beancount","labels_url":"https://api.github.com/repos/beancount/beancount/issues/444/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beancount/issues/444/comments","events_url":"https://api.github.com/repos/beancount/beancount/issues/444/events","html_url":"https://github.com/beancount/beancount/pull/444","id":623925596,"node_id":"MDExOlB1bGxSZXF1ZXN0NDIyNDU1ODE2","number":444,"title":"ignore generated flex/bison output","user":{"login":"zacchiro","id":216766,"node_id":"MDQ6VXNlcjIxNjc2Ng==","avatar_url":"https://avatars.githubusercontent.com/u/216766?v=4","gravatar_id":"","url":"https://api.github.com/users/zacchiro","html_url":"https://github.com/zacchiro","followers_url":"https://api.github.com/users/zacchiro/followers","following_url":"https://api.github.com/users/zacchiro/following{/other_user}","gists_url":"https://api.github.com/users/zacchiro/gists{/gist_id}","starred_url":"https://api.github.com/users/zacchiro/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/zacchiro/subscriptions","organizations_url":"https://api.github.com/users/zacchiro/orgs","repos_url":"https://api.github.com/users/zacchiro/repos","events_url":"https://api.github.com/users/zacchiro/events{/privacy}","received_events_url":"https://api.github.com/users/zacchiro/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":5,"created_at":"2020-05-24T19:07:48Z","updated_at":"2020-05-25T14:26:33Z","closed_at":"2020-05-25T01:07:18Z","author_association":"CONTRIBUTOR","type":null,"active_lock_reason":null,"draft":false,"pull_request":{"url":"https://api.github.com/repos/beancount/beancount/pulls/444","html_url":"https://github.com/beancount/beancount/pull/444","diff_url":"https://github.com/beancount/beancount/pull/444.diff","patch_url":"https://github.com/beancount/beancount/pull/444.patch","merged_at":null},"body":"rationale: each time make/setup.py is rerun these files changes, making the\nlocal copy dirty. Adding them to .gitignore alone is not enough, as they have\nbeen versioned in the past. So here we both gitignore and remove them from the\nrepo.","closed_by":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/beancount/beancount/issues/444/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beancount/issues/444/timeline","performed_via_github_app":null,"state_reason":null},{"url":"https://api.github.com/repos/beancount/beancount/issues/443","repository_url":"https://api.github.com/repos/beancount/beancount","labels_url":"https://api.github.com/repos/beancount/beancount/issues/443/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beancount/issues/443/comments","events_url":"https://api.github.com/repos/beancount/beancount/issues/443/events","html_url":"https://github.com/beancount/beancount/issues/443","id":623811295,"node_id":"MDU6SXNzdWU2MjM4MTEyOTU=","number":443,"title":"Adding integer in metadata leads to traceback","user":{"login":"tbm","id":1556037,"node_id":"MDQ6VXNlcjE1NTYwMzc=","avatar_url":"https://avatars.githubusercontent.com/u/1556037?v=4","gravatar_id":"","url":"https://api.github.com/users/tbm","html_url":"https://github.com/tbm","followers_url":"https://api.github.com/users/tbm/followers","following_url":"https://api.github.com/users/tbm/following{/other_user}","gists_url":"https://api.github.com/users/tbm/gists{/gist_id}","starred_url":"https://api.github.com/users/tbm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tbm/subscriptions","organizations_url":"https://api.github.com/users/tbm/orgs","repos_url":"https://api.github.com/users/tbm/repos","events_url":"https://api.github.com/users/tbm/events{/privacy}","received_events_url":"https://api.github.com/users/tbm/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"open","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":0,"created_at":"2020-05-24T07:18:11Z","updated_at":"2020-05-24T07:18:11Z","closed_at":null,"author_association":"CONTRIBUTOR","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"If I do something like the following in an importer:\r\n\r\n```\r\n        meta = data.new_metadata(f.name, index)\r\n        meta['foo'] = 10\r\n```\r\n\r\nI'll get\r\n\r\n```\r\n  File \"/home/tbm/.local/lib/python3.7/site-packages/beancount/parser/printer.py\", line 145, in write_metadata\r\n    raise ValueError(\"Unexpected value: '{!r}'\".format(value))\r\nValueError: Unexpected value: '10'\r\n```\r\n\r\nThe type has to be Decimal, not integer.  I wonder whether beancount should simply convert `int` to `Decimal`, or at least print an error if an invalid type is found rather than a traceback.\r\n","closed_by":null,"reactions":{"url":"https://api.github.com/repos/beancount/beancount/issues/443/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beancount/issues/443/timeline","performed_via_github_app":null,"state_reason":null},{"url":"https://api.github.com/repos/beancount/beancount/issues/442","repository_url":"https://api.github.com/repos/beancount/beancount","labels_url":"https://api.github.com/repos/beancount/beancount/issues/442/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beancount/issues/442/comments","events_url":"https://api.github.com/repos/beancount/beancount/issues/442/events","html_url":"https://github.com/beancount/beancount/pull/442","id":623750250,"node_id":"MDExOlB1bGxSZXF1ZXN0NDIyMzMyNTAw","number":442,"title":"Fix typos","user":{"login":"tbm","id":1556037,"node_id":"MDQ6VXNlcjE1NTYwMzc=","avatar_url":"https://avatars.githubusercontent.com/u/1556037?v=4","gravatar_id":"","url":"https://api.github.com/users/tbm","html_url":"https://github.com/tbm","followers_url":"https://api.github.com/users/tbm/followers","following_url":"https://api.github.com/users/tbm/following{/other_user}","gists_url":"https://api.github.com/users/tbm/gists{/gist_id}","starred_url":"https://api.github.com/users/tbm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tbm/subscriptions","organizations_url":"https://api.github.com/users/tbm/orgs","repos_url":"https://api.github.com/users/tbm/repos","events_url":"https://api.github.com/users/tbm/events{/privacy}","received_events_url":"https://api.github.com/users/tbm/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":0,"created_at":"2020-05-23T22:01:54Z","updated_at":"2020-05-23T23:48:55Z","closed_at":"2020-05-23T23:48:55Z","author_association":"CONTRIBUTOR","type":null,"active_lock_reason":null,"draft":false,"pull_request":{"url":"https://api.github.com/repos/beancount/beancount/pulls/442","html_url":"https://github.com/beancount/beancount/pull/442","diff_url":"https://github.com/beancount/beancount/pull/442.diff","patch_url":"https://github.com/beancount/beancount/pull/442.patch","merged_at":"2020-05-23T23:48:55Z"},"body":"","closed_by":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/beancount/beancount/issues/442/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beancount/issues/442/timeline","performed_via_github_app":null,"state_reason":null},{"url":"https://api.github.com/repos/beancount/beancount/issues/440","repository_url":"https://api.github.com/repos/beancount/beancount","labels_url":"https://api.github.com/repos/beancount/beancount/issues/440/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beancount/issues/440/comments","events_url":"https://api.github.com/repos/beancount/beancount/issues/440/events","html_url":"https://github.com/beancount/beancount/issues/440","id":623688030,"node_id":"MDU6SXNzdWU2MjM2ODgwMzA=","number":440,"title":"Implement plugin for adding fee-related expenses to P/L","user":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":2080994061,"node_id":"MDU6TGFiZWwyMDgwOTk0MDYx","url":"https://api.github.com/repos/beancount/beancount/labels/P3","name":"P3","color":"FFdddd","default":false,"description":"Very low priority, nice to have"},{"id":2081000893,"node_id":"MDU6TGFiZWwyMDgxMDAwODkz","url":"https://api.github.com/repos/beancount/beancount/labels/plugins","name":"plugins","color":"ededed","default":false,"description":"Component: Plug-ins"}],"state":"open","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":0,"created_at":"2020-05-23T15:54:27Z","updated_at":"2020-05-23T16:23:27Z","closed_at":null,"author_association":"MEMBER","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"When interpolating on Income accounts on sells, the P/L is computed incorrectly; this has already been the case. The fees aren't included in the reported P/L because they're part of the balance equation. \r\n\r\n```python\r\n2020-05-01 * \"Buy\"\r\n  Assets:Stocks     150 HOOL {200.00 USD}\r\n  Expenses:Fees      9.95 USD\r\n  Assets:Cash\r\n\r\n2020-05-23 * \"Buy\"\r\n  Assets:Stocks     -100 HOOL {200.00 USD} @ 210.00 USD\r\n  Expenses:Fees      9.95 USD\r\n  Assets:Cash    20990.05 USD\r\n  Income:Profit\r\n```\r\n\r\nIn that last transaction, the P/L will be computed as 1000.00 USD.\r\nIt really ought to be 1000.00 USD - 9.95 USD - (9.95 USD * 100 / 150).\r\nThis excludes the fee on the selling leg, and a portion of the fee on the buying leg.\r\n\r\nWe can handle the sell part of this with a plugin which would insert a pair of postings like this:\r\n\r\n```python\r\n2020-05-23 * \"Buy\"\r\n  Assets:Stocks     -100 HOOL {200.00 USD} @ 210.00 USD\r\n  Expenses:Fees      9.95 USD\r\n  Assets:Cash    20990.05 USD\r\n  Income:Profit\r\n  Income:Profit            9.95 USD\r\n  Equity:PLFeeDiscounts   -9.95 USD\r\n```\r\n\r\nThis is not trivial since in the general case there may be \r\n- Multiple selling legs\r\n- Multiple fees\r\n\r\nWhat's more, handling the buy portion requires computing the fraction of the fee to allocated to each selling leg. Overall this first requires the work on storing crumbs to recover pairs of postings (trades) to be completed.","closed_by":null,"reactions":{"url":"https://api.github.com/repos/beancount/beancount/issues/440/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beancount/issues/440/timeline","performed_via_github_app":null,"state_reason":null},{"url":"https://api.github.com/repos/beancount/beancount/issues/439","repository_url":"https://api.github.com/repos/beancount/beancount","labels_url":"https://api.github.com/repos/beancount/beancount/issues/439/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beancount/issues/439/comments","events_url":"https://api.github.com/repos/beancount/beancount/issues/439/events","html_url":"https://github.com/beancount/beancount/pull/439","id":623646585,"node_id":"MDExOlB1bGxSZXF1ZXN0NDIyMjY1MzM5","number":439,"title":"bean-query: make run custom accept query name prefixes","user":{"login":"zacchiro","id":216766,"node_id":"MDQ6VXNlcjIxNjc2Ng==","avatar_url":"https://avatars.githubusercontent.com/u/216766?v=4","gravatar_id":"","url":"https://api.github.com/users/zacchiro","html_url":"https://github.com/zacchiro","followers_url":"https://api.github.com/users/zacchiro/followers","following_url":"https://api.github.com/users/zacchiro/following{/other_user}","gists_url":"https://api.github.com/users/zacchiro/gists{/gist_id}","starred_url":"https://api.github.com/users/zacchiro/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/zacchiro/subscriptions","organizations_url":"https://api.github.com/users/zacchiro/orgs","repos_url":"https://api.github.com/users/zacchiro/repos","events_url":"https://api.github.com/users/zacchiro/events{/privacy}","received_events_url":"https://api.github.com/users/zacchiro/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":1,"created_at":"2020-05-23T12:08:54Z","updated_at":"2020-05-23T12:33:07Z","closed_at":"2020-05-23T12:33:06Z","author_association":"CONTRIBUTOR","type":null,"active_lock_reason":null,"draft":false,"pull_request":{"url":"https://api.github.com/repos/beancount/beancount/pulls/439","html_url":"https://github.com/beancount/beancount/pull/439","diff_url":"https://github.com/beancount/beancount/pull/439.diff","patch_url":"https://github.com/beancount/beancount/pull/439.patch","merged_at":"2020-05-23T12:33:06Z"},"body":"as long as the given prefix unambiguously identifies a single query, running\r\nthe query will work\r\n\r\nCloses #334","closed_by":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/beancount/beancount/issues/439/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beancount/issues/439/timeline","performed_via_github_app":null,"state_reason":null},{"url":"https://api.github.com/repos/beancount/beancount/issues/438","repository_url":"https://api.github.com/repos/beancount/beancount","labels_url":"https://api.github.com/repos/beancount/beancount/issues/438/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beancount/issues/438/comments","events_url":"https://api.github.com/repos/beancount/beancount/issues/438/events","html_url":"https://github.com/beancount/beancount/issues/438","id":623640406,"node_id":"MDU6SXNzdWU2MjM2NDA0MDY=","number":438,"title":"How to use one commodity in each account?","user":{"login":"SmartHypercube","id":7789364,"node_id":"MDQ6VXNlcjc3ODkzNjQ=","avatar_url":"https://avatars.githubusercontent.com/u/7789364?v=4","gravatar_id":"","url":"https://api.github.com/users/SmartHypercube","html_url":"https://github.com/SmartHypercube","followers_url":"https://api.github.com/users/SmartHypercube/followers","following_url":"https://api.github.com/users/SmartHypercube/following{/other_user}","gists_url":"https://api.github.com/users/SmartHypercube/gists{/gist_id}","starred_url":"https://api.github.com/users/SmartHypercube/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/SmartHypercube/subscriptions","organizations_url":"https://api.github.com/users/SmartHypercube/orgs","repos_url":"https://api.github.com/users/SmartHypercube/repos","events_url":"https://api.github.com/users/SmartHypercube/events{/privacy}","received_events_url":"https://api.github.com/users/SmartHypercube/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":2,"created_at":"2020-05-23T11:34:46Z","updated_at":"2020-05-23T12:31:31Z","closed_at":"2020-05-23T12:31:01Z","author_association":"NONE","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"Hi, I noticed that you recommend using only one commodity in each account in multiple documents. There is even a plugin built for checking this rule. But I am still not sure how to do that, and why.\r\n\r\n(Background: I trade many kinds of crypto coins and use them occasionally.)\r\nAs far as I can see, it is easy to use one commodity in each Assets/Liabilities account. But enforcing this rule for Equity/Income/Expenses accounts is not practical. Equity:OpeningBalances can easily get multiple commodities, but I see no benefit setting up a sub-account for each of them. Same goes for Income and Expenses accounts. For example, I have an account called Expenses:Gifts, for all kinds of small gifts I give to my friends. If I use \"onecommodity\" plugin, my ledger and report will quickly be bloated with per-commodity sub-accounts.\r\n\r\nAside from being able to check the balance of multi-commodity accounts, could you please tell me more benefits of using one commodity in each account? Thanks!","closed_by":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/beancount/beancount/issues/438/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beancount/issues/438/timeline","performed_via_github_app":null,"state_reason":"completed"},{"url":"https://api.github.com/repos/beancount/beancount/issues/437","repository_url":"https://api.github.com/repos/beancount/beancount","labels_url":"https://api.github.com/repos/beancount/beancount/issues/437/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beancount/issues/437/comments","events_url":"https://api.github.com/repos/beancount/beancount/issues/437/events","html_url":"https://github.com/beancount/beancount/pull/437","id":623631322,"node_id":"MDExOlB1bGxSZXF1ZXN0NDIyMjU1NjY4","number":437,"title":"Catch ValueError exception in fix_payees","user":{"login":"tbm","id":1556037,"node_id":"MDQ6VXNlcjE1NTYwMzc=","avatar_url":"https://avatars.githubusercontent.com/u/1556037?v=4","gravatar_id":"","url":"https://api.github.com/users/tbm","html_url":"https://github.com/tbm","followers_url":"https://api.github.com/users/tbm/followers","following_url":"https://api.github.com/users/tbm/following{/other_user}","gists_url":"https://api.github.com/users/tbm/gists{/gist_id}","starred_url":"https://api.github.com/users/tbm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tbm/subscriptions","organizations_url":"https://api.github.com/users/tbm/orgs","repos_url":"https://api.github.com/users/tbm/repos","events_url":"https://api.github.com/users/tbm/events{/privacy}","received_events_url":"https://api.github.com/users/tbm/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":0,"created_at":"2020-05-23T10:40:22Z","updated_at":"2020-05-23T11:48:22Z","closed_at":"2020-05-23T11:48:22Z","author_association":"CONTRIBUTOR","type":null,"active_lock_reason":null,"draft":false,"pull_request":{"url":"https://api.github.com/repos/beancount/beancount/pulls/437","html_url":"https://github.com/beancount/beancount/pull/437","diff_url":"https://github.com/beancount/beancount/pull/437.diff","patch_url":"https://github.com/beancount/beancount/pull/437.patch","merged_at":"2020-05-23T11:48:21Z"},"body":"Catch the ValueError exception in the fix_payees plugin since\r\nast.literal_eval can also throw that exception, e.g.:\r\n\r\n>>> ast.literal_eval(\"[() ()]\")\r\n...\r\nValueError: malformed node or string: <_ast.Call object at 0x7f56ad7bfcf8>","closed_by":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/beancount/beancount/issues/437/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beancount/issues/437/timeline","performed_via_github_app":null,"state_reason":null},{"url":"https://api.github.com/repos/beancount/beancount/issues/436","repository_url":"https://api.github.com/repos/beancount/beancount","labels_url":"https://api.github.com/repos/beancount/beancount/issues/436/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beancount/issues/436/comments","events_url":"https://api.github.com/repos/beancount/beancount/issues/436/events","html_url":"https://github.com/beancount/beancount/pull/436","id":623630560,"node_id":"MDExOlB1bGxSZXF1ZXN0NDIyMjU1MjA4","number":436,"title":"Fix indentation of docstring","user":{"login":"tbm","id":1556037,"node_id":"MDQ6VXNlcjE1NTYwMzc=","avatar_url":"https://avatars.githubusercontent.com/u/1556037?v=4","gravatar_id":"","url":"https://api.github.com/users/tbm","html_url":"https://github.com/tbm","followers_url":"https://api.github.com/users/tbm/followers","following_url":"https://api.github.com/users/tbm/following{/other_user}","gists_url":"https://api.github.com/users/tbm/gists{/gist_id}","starred_url":"https://api.github.com/users/tbm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tbm/subscriptions","organizations_url":"https://api.github.com/users/tbm/orgs","repos_url":"https://api.github.com/users/tbm/repos","events_url":"https://api.github.com/users/tbm/events{/privacy}","received_events_url":"https://api.github.com/users/tbm/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":0,"created_at":"2020-05-23T10:35:41Z","updated_at":"2020-05-23T11:47:16Z","closed_at":"2020-05-23T11:47:16Z","author_association":"CONTRIBUTOR","type":null,"active_lock_reason":null,"draft":false,"pull_request":{"url":"https://api.github.com/repos/beancount/beancount/pulls/436","html_url":"https://github.com/beancount/beancount/pull/436","diff_url":"https://github.com/beancount/beancount/pull/436.diff","patch_url":"https://github.com/beancount/beancount/pull/436.patch","merged_at":"2020-05-23T11:47:16Z"},"body":"","closed_by":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/beancount/beancount/issues/436/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beancount/issues/436/timeline","performed_via_github_app":null,"state_reason":null},{"url":"https://api.github.com/repos/beancount/beancount/issues/435","repository_url":"https://api.github.com/repos/beancount/beancount","labels_url":"https://api.github.com/repos/beancount/beancount/issues/435/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beancount/issues/435/comments","events_url":"https://api.github.com/repos/beancount/beancount/issues/435/events","html_url":"https://github.com/beancount/beancount/pull/435","id":623616488,"node_id":"MDExOlB1bGxSZXF1ZXN0NDIyMjQ2NTkw","number":435,"title":"Allow custom prefixes in EntryPrinter and format_entry","user":{"login":"xuhcc","id":1660460,"node_id":"MDQ6VXNlcjE2NjA0NjA=","avatar_url":"https://avatars.githubusercontent.com/u/1660460?v=4","gravatar_id":"","url":"https://api.github.com/users/xuhcc","html_url":"https://github.com/xuhcc","followers_url":"https://api.github.com/users/xuhcc/followers","following_url":"https://api.github.com/users/xuhcc/following{/other_user}","gists_url":"https://api.github.com/users/xuhcc/gists{/gist_id}","starred_url":"https://api.github.com/users/xuhcc/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/xuhcc/subscriptions","organizations_url":"https://api.github.com/users/xuhcc/orgs","repos_url":"https://api.github.com/users/xuhcc/repos","events_url":"https://api.github.com/users/xuhcc/events{/privacy}","received_events_url":"https://api.github.com/users/xuhcc/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":0,"created_at":"2020-05-23T09:13:26Z","updated_at":"2020-05-23T11:48:03Z","closed_at":"2020-05-23T11:48:03Z","author_association":"CONTRIBUTOR","type":null,"active_lock_reason":null,"draft":false,"pull_request":{"url":"https://api.github.com/repos/beancount/beancount/pulls/435","html_url":"https://github.com/beancount/beancount/pull/435","diff_url":"https://github.com/beancount/beancount/pull/435.diff","patch_url":"https://github.com/beancount/beancount/pull/435.patch","merged_at":"2020-05-23T11:48:02Z"},"body":"Resolves #407","closed_by":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/beancount/beancount/issues/435/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beancount/issues/435/timeline","performed_via_github_app":null,"state_reason":null},{"url":"https://api.github.com/repos/beancount/beancount/issues/434","repository_url":"https://api.github.com/repos/beancount/beancount","labels_url":"https://api.github.com/repos/beancount/beancount/issues/434/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beancount/issues/434/comments","events_url":"https://api.github.com/repos/beancount/beancount/issues/434/events","html_url":"https://github.com/beancount/beancount/pull/434","id":623606616,"node_id":"MDExOlB1bGxSZXF1ZXN0NDIyMjQwMDQ5","number":434,"title":"README: point to both read-only doc and google docs","user":{"login":"zacchiro","id":216766,"node_id":"MDQ6VXNlcjIxNjc2Ng==","avatar_url":"https://avatars.githubusercontent.com/u/216766?v=4","gravatar_id":"","url":"https://api.github.com/users/zacchiro","html_url":"https://github.com/zacchiro","followers_url":"https://api.github.com/users/zacchiro/followers","following_url":"https://api.github.com/users/zacchiro/following{/other_user}","gists_url":"https://api.github.com/users/zacchiro/gists{/gist_id}","starred_url":"https://api.github.com/users/zacchiro/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/zacchiro/subscriptions","organizations_url":"https://api.github.com/users/zacchiro/orgs","repos_url":"https://api.github.com/users/zacchiro/repos","events_url":"https://api.github.com/users/zacchiro/events{/privacy}","received_events_url":"https://api.github.com/users/zacchiro/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":0,"created_at":"2020-05-23T08:08:53Z","updated_at":"2020-05-23T11:48:43Z","closed_at":"2020-05-23T11:48:43Z","author_association":"CONTRIBUTOR","type":null,"active_lock_reason":null,"draft":false,"pull_request":{"url":"https://api.github.com/repos/beancount/beancount/pulls/434","html_url":"https://github.com/beancount/beancount/pull/434","diff_url":"https://github.com/beancount/beancount/pull/434.diff","patch_url":"https://github.com/beancount/beancount/pull/434.patch","merged_at":"2020-05-23T11:48:43Z"},"body":"Rationale: most users will need first to find the read-only version of the doc\r\nand will only then considering contributing (via Google Docs). Also, it is\r\nkinda hard at present to find the entry link to the documentation without a\r\nlink from here.","closed_by":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/beancount/beancount/issues/434/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beancount/issues/434/timeline","performed_via_github_app":null,"state_reason":null},{"url":"https://api.github.com/repos/beancount/beancount/issues/433","repository_url":"https://api.github.com/repos/beancount/beancount","labels_url":"https://api.github.com/repos/beancount/beancount/issues/433/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beancount/issues/433/comments","events_url":"https://api.github.com/repos/beancount/beancount/issues/433/events","html_url":"https://github.com/beancount/beancount/pull/433","id":623565023,"node_id":"MDExOlB1bGxSZXF1ZXN0NDIyMjA5Mjkw","number":433,"title":"Fix test suite and update Travis config","user":{"login":"tbm","id":1556037,"node_id":"MDQ6VXNlcjE1NTYwMzc=","avatar_url":"https://avatars.githubusercontent.com/u/1556037?v=4","gravatar_id":"","url":"https://api.github.com/users/tbm","html_url":"https://github.com/tbm","followers_url":"https://api.github.com/users/tbm/followers","following_url":"https://api.github.com/users/tbm/following{/other_user}","gists_url":"https://api.github.com/users/tbm/gists{/gist_id}","starred_url":"https://api.github.com/users/tbm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tbm/subscriptions","organizations_url":"https://api.github.com/users/tbm/orgs","repos_url":"https://api.github.com/users/tbm/repos","events_url":"https://api.github.com/users/tbm/events{/privacy}","received_events_url":"https://api.github.com/users/tbm/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":2,"created_at":"2020-05-23T02:45:14Z","updated_at":"2020-05-23T11:46:38Z","closed_at":"2020-05-23T11:46:38Z","author_association":"CONTRIBUTOR","type":null,"active_lock_reason":null,"draft":false,"pull_request":{"url":"https://api.github.com/repos/beancount/beancount/pulls/433","html_url":"https://github.com/beancount/beancount/pull/433","diff_url":"https://github.com/beancount/beancount/pull/433.diff","patch_url":"https://github.com/beancount/beancount/pull/433.patch","merged_at":"2020-05-23T11:46:38Z"},"body":"","closed_by":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/beancount/beancount/issues/433/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beancount/issues/433/timeline","performed_via_github_app":null,"state_reason":null},{"url":"https://api.github.com/repos/beancount/beancount/issues/432","repository_url":"https://api.github.com/repos/beancount/beancount","labels_url":"https://api.github.com/repos/beancount/beancount/issues/432/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beancount/issues/432/comments","events_url":"https://api.github.com/repos/beancount/beancount/issues/432/events","html_url":"https://github.com/beancount/beancount/pull/432","id":623541637,"node_id":"MDExOlB1bGxSZXF1ZXN0NDIyMTg4OTA3","number":432,"title":"Fix function being tested","user":{"login":"tbm","id":1556037,"node_id":"MDQ6VXNlcjE1NTYwMzc=","avatar_url":"https://avatars.githubusercontent.com/u/1556037?v=4","gravatar_id":"","url":"https://api.github.com/users/tbm","html_url":"https://github.com/tbm","followers_url":"https://api.github.com/users/tbm/followers","following_url":"https://api.github.com/users/tbm/following{/other_user}","gists_url":"https://api.github.com/users/tbm/gists{/gist_id}","starred_url":"https://api.github.com/users/tbm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tbm/subscriptions","organizations_url":"https://api.github.com/users/tbm/orgs","repos_url":"https://api.github.com/users/tbm/repos","events_url":"https://api.github.com/users/tbm/events{/privacy}","received_events_url":"https://api.github.com/users/tbm/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":0,"created_at":"2020-05-23T01:19:33Z","updated_at":"2020-05-23T11:37:09Z","closed_at":"2020-05-23T11:37:09Z","author_association":"CONTRIBUTOR","type":null,"active_lock_reason":null,"draft":false,"pull_request":{"url":"https://api.github.com/repos/beancount/beancount/pulls/432","html_url":"https://github.com/beancount/beancount/pull/432","diff_url":"https://github.com/beancount/beancount/pull/432.diff","patch_url":"https://github.com/beancount/beancount/pull/432.patch","merged_at":"2020-05-23T11:37:09Z"},"body":"","closed_by":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/beancount/beancount/issues/432/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beancount/issues/432/timeline","performed_via_github_app":null,"state_reason":null},{"url":"https://api.github.com/repos/beancount/beancount/issues/431","repository_url":"https://api.github.com/repos/beancount/beancount","labels_url":"https://api.github.com/repos/beancount/beancount/issues/431/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beancount/issues/431/comments","events_url":"https://api.github.com/repos/beancount/beancount/issues/431/events","html_url":"https://github.com/beancount/beancount/issues/431","id":623377757,"node_id":"MDU6SXNzdWU2MjMzNzc3NTc=","number":431,"title":"Allow picking display of accounts in-units/at-cost/at-market-value","user":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":2080914018,"node_id":"MDU6TGFiZWwyMDgwOTE0MDE4","url":"https://api.github.com/repos/beancount/beancount/labels/resolution/wontfix","name":"resolution/wontfix","color":"000000","default":false,"description":"This will not be worked on"},{"id":2080994022,"node_id":"MDU6TGFiZWwyMDgwOTk0MDIy","url":"https://api.github.com/repos/beancount/beancount/labels/P2","name":"P2","color":"ffaaaa","default":false,"description":"Low priority, addressing would result in useful improvements"},{"id":2080996004,"node_id":"MDU6TGFiZWwyMDgwOTk2MDA0","url":"https://api.github.com/repos/beancount/beancount/labels/reports","name":"reports","color":"ededed","default":false,"description":"Component: Canned reports"}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":1,"created_at":"2020-05-13T07:41:57Z","updated_at":"2020-05-23T16:45:56Z","closed_at":"2020-05-23T16:45:49Z","author_association":"MEMBER","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"**[Original report](https://bitbucket.org/blais/beancount/issue/431) by Mukund Sivaraman (GitHub: [muks](https://github.com/muks)).**\n\n----------------------------------------\n\nWhen “price” statements are added, bean-web changes the display of reports such as balance sheet to show holdings at market value in functional currency. While this is useful, one also wishes to see the holdings in units and at purchase prices. I request a select entry in a corner of the page that allows reports to be displayed in original units, or at historical cost, or at market value.\n\nFava has this feature and I miss this very much in bean-web.\n","closed_by":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/beancount/beancount/issues/431/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beancount/issues/431/timeline","performed_via_github_app":null,"state_reason":"completed"},{"url":"https://api.github.com/repos/beancount/beancount/issues/430","repository_url":"https://api.github.com/repos/beancount/beancount","labels_url":"https://api.github.com/repos/beancount/beancount/issues/430/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beancount/issues/430/comments","events_url":"https://api.github.com/repos/beancount/beancount/issues/430/events","html_url":"https://github.com/beancount/beancount/issues/430","id":623377741,"node_id":"MDU6SXNzdWU2MjMzNzc3NDE=","number":430,"title":"Support tagging accounts to be displayed at historical cost always","user":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":2080994022,"node_id":"MDU6TGFiZWwyMDgwOTk0MDIy","url":"https://api.github.com/repos/beancount/beancount/labels/P2","name":"P2","color":"ffaaaa","default":false,"description":"Low priority, addressing would result in useful improvements"},{"id":2080996004,"node_id":"MDU6TGFiZWwyMDgwOTk2MDA0","url":"https://api.github.com/repos/beancount/beancount/labels/reports","name":"reports","color":"ededed","default":false,"description":"Component: Canned reports"}],"state":"open","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":0,"created_at":"2020-05-13T07:37:08Z","updated_at":"2020-05-23T13:15:47Z","closed_at":null,"author_association":"MEMBER","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"**[Original report](https://bitbucket.org/blais/beancount/issue/430) by Mukund Sivaraman (GitHub: [muks](https://github.com/muks)).**\n\n----------------------------------------\n\nHow can some non-functional currency accounts be tagged in such a way that they are displayed in reports \\(such as balance sheet\\) at historical cost instead of market value?  Once \"price\" statements are added, foreign currency accounts are displayed by bean-web converted to current market prices. However, the financial standards require that some accounts \\(e.g., some prepayments made to vendors \\(assets\\) that are identified as non-monetary\\) are presented at historical cost.\n\nThank you for beancount.\n","closed_by":null,"reactions":{"url":"https://api.github.com/repos/beancount/beancount/issues/430/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beancount/issues/430/timeline","performed_via_github_app":null,"state_reason":null},{"url":"https://api.github.com/repos/beancount/beancount/issues/429","repository_url":"https://api.github.com/repos/beancount/beancount","labels_url":"https://api.github.com/repos/beancount/beancount/issues/429/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beancount/issues/429/comments","events_url":"https://api.github.com/repos/beancount/beancount/issues/429/events","html_url":"https://github.com/beancount/beancount/issues/429","id":623377725,"node_id":"MDU6SXNzdWU2MjMzNzc3MjU=","number":429,"title":"Migration plan after bitbucket drops mercurial support on July 1, 2020?","user":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":2080996667,"node_id":"MDU6TGFiZWwyMDgwOTk2NjY3","url":"https://api.github.com/repos/beancount/beancount/labels/P0","name":"P0","color":"ff0000","default":false,"description":"Critical priority, breaking changes to current version"},{"id":2081004216,"node_id":"MDU6TGFiZWwyMDgxMDA0MjE2","url":"https://api.github.com/repos/beancount/beancount/labels/infra-server","name":"infra-server","color":"ededed","default":false,"description":"Component: Admin scripts, build, and server issues"}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":2,"created_at":"2020-05-03T06:26:49Z","updated_at":"2020-05-03T13:46:34Z","closed_at":"2020-05-03T13:46:34Z","author_association":"MEMBER","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"**[Original report](https://bitbucket.org/blais/beancount/issue/429) by Weinan Ma (Bitbucket: [waynema](https://bitbucket.org/waynema), GitHub: [waynema](https://github.com/waynema)).**\n\n----------------------------------------\n\nBitbucket is [dropping support](https://bitbucket.org/blog/sunsetting-mercurial-support-in-bitbucket) for mercurial, by July 1, 2020. Is there any plan for migration, either migrate from mercurial to git, or migrate to another hosting service?\n\n‌\n","closed_by":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/beancount/beancount/issues/429/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beancount/issues/429/timeline","performed_via_github_app":null,"state_reason":"completed"},{"url":"https://api.github.com/repos/beancount/beancount/issues/425","repository_url":"https://api.github.com/repos/beancount/beancount","labels_url":"https://api.github.com/repos/beancount/beancount/issues/425/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beancount/issues/425/comments","events_url":"https://api.github.com/repos/beancount/beancount/issues/425/events","html_url":"https://github.com/beancount/beancount/issues/425","id":623377661,"node_id":"MDU6SXNzdWU2MjMzNzc2NjE=","number":425,"title":"parse_file crashes with segfault in Fava (MacOS)","user":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":2080914000,"node_id":"MDU6TGFiZWwyMDgwOTE0MDAw","url":"https://api.github.com/repos/beancount/beancount/labels/BUG","name":"BUG","color":"cc99cc","default":false,"description":"This is a bug, not a feature request; something isn't working."},{"id":2080994022,"node_id":"MDU6TGFiZWwyMDgwOTk0MDIy","url":"https://api.github.com/repos/beancount/beancount/labels/P2","name":"P2","color":"ffaaaa","default":false,"description":"Low priority, addressing would result in useful improvements"},{"id":2080995647,"node_id":"MDU6TGFiZWwyMDgwOTk1NjQ3","url":"https://api.github.com/repos/beancount/beancount/labels/parser-loader","name":"parser-loader","color":"ededed","default":false,"description":"Component: Parser and loader"}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":1,"created_at":"2020-04-11T09:16:14Z","updated_at":"2020-04-11T20:29:06Z","closed_at":"2020-04-11T20:29:06Z","author_association":"MEMBER","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"**[Original report](https://bitbucket.org/blais/beancount/issue/425) by Andrii M (Bitbucket: [Mostik](https://bitbucket.org/Mostik), GitHub: [Mostik](https://github.com/Mostik)).**\n\n----------------------------------------\n\nAfter editing ledger file in Fava editor, on file save fava crashes occasionally \\(say, once-twice per day of heavy use\\). After restart it works correctly.\n\nThis problem is happening for a year\\+ under different versions of fava and beancount \\(current fava version is 1.14\\).\n\n‌\n\nIt crashes in `build_grammar_error_from_exception`\\[1\\] , but I am having a hard time figuring out where exactly.\n\nMaybe it’s worth asserting `PyErr_Occurred` as the first line in the method? Also, I would appreciate any tips on debugging this further.\n\n\\[1\\][https://bitbucket.org/blais/beancount/src/f6d6f008453514bbbcd4ad795ffd941e6365b7b3/beancount/parser/grammar.y?at=default#lines-40](https://bitbucket.org/blais/beancount/src/f6d6f008453514bbbcd4ad795ffd941e6365b7b3/beancount/parser/grammar.y?at=default#lines-40)\n\n‌\n\nCrash report \\(removed non-relevant parts\\):\n\n‌\n\n```\nProcess:               Python [1223]\nPath:                  /usr/local/Cellar/python/3.7.7/Frameworks/Python.framework/Versions/3.7/Resources/Python.app/Contents/MacOS/Python\nIdentifier:            Python\nVersion:               3.7.7 (3.7.7)\nCode Type:             X86-64 (Native)\nParent Process:        ??? [1]\nResponsible:           Python [1223]\n\nDate/Time:             2020-04-11 10:34:12.772 +0200\nOS Version:            Mac OS X 10.14.6 (18G2022)\nReport Version:        12\n\nTime Awake Since Boot: 43000 seconds\nTime Since Wake:       1200 seconds\n\nSystem Integrity Protection: enabled\n\nCrashed Thread:        5\n\nException Type:        EXC_BAD_ACCESS (SIGSEGV)\nException Codes:       KERN_INVALID_ADDRESS at 0x0000000000000000\nException Note:        EXC_CORPSE_NOTIFY\n\nTermination Signal:    Segmentation fault: 11\nTermination Reason:    Namespace SIGNAL, Code 0xb\nTerminating Process:   exc handler [1223]\n\nThread 5 Crashed:\n0   _parser.cpython-37m-darwin.so   0x000000010fa85fdb build_grammar_error_from_exception + 187\n1   _parser.cpython-37m-darwin.so   0x000000010fa87d0f yyparse + 7263\n2   _parser.cpython-37m-darwin.so   0x000000010fa88d83 parse_file + 243\n3   org.python.python               0x000000010e05d74e PyCFunction_Call + 208\n4   org.python.python               0x000000010e0ebe64 _PyEval_EvalFrameDefault + 7738\n5   org.python.python               0x000000010e0f331d _PyEval_EvalCodeWithName + 1698\n6   org.python.python               0x000000010e05d474 _PyFunction_FastCallKeywords + 212\n7   org.python.python               0x000000010e0f2b29 call_function + 737\n8   org.python.python               0x000000010e0ebbdc _PyEval_EvalFrameDefault + 7090\n9   org.python.python               0x000000010e0f331d _PyEval_EvalCodeWithName + 1698\n10  org.python.python               0x000000010e05d474 _PyFunction_FastCallKeywords + 212\n11  org.python.python               0x000000010e0f2b29 call_function + 737\n12  org.python.python               0x000000010e0ebb34 _PyEval_EvalFrameDefault + 6922\n13  org.python.python               0x000000010e05d880 function_code_fastcall + 106\n14  org.python.python               0x000000010e0f2b29 call_function + 737\n15  org.python.python               0x000000010e0eba99 _PyEval_EvalFrameDefault + 6767\n16  org.python.python               0x000000010e05d880 function_code_fastcall + 106\n17  org.python.python               0x000000010e0f2b29 call_function + 737\n18  org.python.python               0x000000010e0eba80 _PyEval_EvalFrameDefault + 6742\n19  org.python.python               0x000000010e05d880 function_code_fastcall + 106\n20  org.python.python               0x000000010e0f2b29 call_function + 737\n21  org.python.python               0x000000010e0eba80 _PyEval_EvalFrameDefault + 6742\n22  org.python.python               0x000000010e05d880 function_code_fastcall + 106\n23  org.python.python               0x000000010e0f2b29 call_function + 737\n24  org.python.python               0x000000010e0ebb34 _PyEval_EvalFrameDefault + 6922\n25  org.python.python               0x000000010e05d880 function_code_fastcall + 106\n26  org.python.python               0x000000010e0f2b29 call_function + 737\n27  org.python.python               0x000000010e0eba80 _PyEval_EvalFrameDefault + 6742\n28  org.python.python               0x000000010e05d880 function_code_fastcall + 106\n29  org.python.python               0x000000010e0f2b29 call_function + 737\n30  org.python.python               0x000000010e0eba80 _PyEval_EvalFrameDefault + 6742\n31  org.python.python               0x000000010e05d880 function_code_fastcall + 106\n32  org.python.python               0x000000010e0f2b29 call_function + 737\n33  org.python.python               0x000000010e0eba80 _PyEval_EvalFrameDefault + 6742\n34  org.python.python               0x000000010e05d880 function_code_fastcall + 106\n35  org.python.python               0x000000010e05e1f3 _PyObject_Call_Prepend + 131\n36  org.python.python               0x000000010e09ac86 slot_tp_call + 71\n37  org.python.python               0x000000010e05d322 _PyObject_FastCallKeywords + 358\n38  org.python.python               0x000000010e0f2b22 call_function + 730\n39  org.python.python               0x000000010e0eba99 _PyEval_EvalFrameDefault + 6767\n40  org.python.python               0x000000010e05d880 function_code_fastcall + 106\n41  org.python.python               0x000000010e0f2b29 call_function + 737\n42  org.python.python               0x000000010e0eba80 _PyEval_EvalFrameDefault + 6742\n43  org.python.python               0x000000010e05d880 function_code_fastcall + 106\n44  org.python.python               0x000000010e0f2b29 call_function + 737\n45  org.python.python               0x000000010e0eba80 _PyEval_EvalFrameDefault + 6742\n46  org.python.python               0x000000010e05d880 function_code_fastcall + 106\n47  org.python.python               0x000000010e0f2b29 call_function + 737\n48  org.python.python               0x000000010e0eba80 _PyEval_EvalFrameDefault + 6742\n49  org.python.python               0x000000010e05d880 function_code_fastcall + 106\n50  org.python.python               0x000000010e0f2b29 call_function + 737\n51  org.python.python               0x000000010e0eba80 _PyEval_EvalFrameDefault + 6742\n52  org.python.python               0x000000010e05d880 function_code_fastcall + 106\n53  org.python.python               0x000000010e0f2b29 call_function + 737\n54  org.python.python               0x000000010e0eba80 _PyEval_EvalFrameDefault + 6742\n55  org.python.python               0x000000010e05d880 function_code_fastcall + 106\n56  org.python.python               0x000000010e05e1f3 _PyObject_Call_Prepend + 131\n57  org.python.python               0x000000010e05d5b9 PyObject_Call + 136\n58  org.python.python               0x000000010e159501 t_bootstrap + 71\n59  org.python.python               0x000000010e1208be pythread_wrapper + 25\n60  libsystem_pthread.dylib         0x00007fff5fe6b2eb _pthread_body + 126\n61  libsystem_pthread.dylib         0x00007fff5fe6e249 _pthread_start + 66\n62  libsystem_pthread.dylib         0x00007fff5fe6a40d thread_start + 13\n\n\n---\nAll other threads are waiting\n\ne.g.\n\n0   libsystem_kernel.dylib          0x00007fff5fdaf866 __psynch_cvwait + 10\n1   libsystem_pthread.dylib         0x00007fff5fe6e56e _pthread_cond_wait + 722\n2   org.python.python               0x000000010e120c13 PyThread_acquire_lock_timed + 393\n3   org.python.python               0x000000010e158de4 acquire_timed + 104\n4   org.python.python               0x000000010e158ba7 lock_PyThread_acquire_lock + 44\n...\n```\n\n‌\n\n‌\n\nEDIT: I've rebuild \\_parser.so and now it prints line of the source code.\n\nWhich is inside `build_grammar_error_from_exception`\n\n‌         Py\\_DECREF\\(ptraceback\\);\n\n```\n0   _parser.cpython-37m-darwin.so \t0x0000000105485a57 build_grammar_error_from_exception + 215 (grammar.y:61)\n1   _parser.cpython-37m-darwin.so \t0x00000001054879e9 yyparse + 7897\n2   _parser.cpython-37m-darwin.so \t0x0000000105488c55 parse_file + 245 (parser.c:96)\n3   org.python.python             \t0x00000001038bb74e PyCFunction_Call + 208\n```\n\n‌\n","closed_by":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/beancount/beancount/issues/425/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beancount/issues/425/timeline","performed_via_github_app":null,"state_reason":"completed"},{"url":"https://api.github.com/repos/beancount/beancount/issues/424","repository_url":"https://api.github.com/repos/beancount/beancount","labels_url":"https://api.github.com/repos/beancount/beancount/issues/424/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beancount/issues/424/comments","events_url":"https://api.github.com/repos/beancount/beancount/issues/424/events","html_url":"https://github.com/beancount/beancount/issues/424","id":623377631,"node_id":"MDU6SXNzdWU2MjMzNzc2MzE=","number":424,"title":"forecast plugin bug when date of transaction is at the end of a month","user":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":2080994022,"node_id":"MDU6TGFiZWwyMDgwOTk0MDIy","url":"https://api.github.com/repos/beancount/beancount/labels/P2","name":"P2","color":"ffaaaa","default":false,"description":"Low priority, addressing would result in useful improvements"}],"state":"open","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":1,"created_at":"2020-03-30T12:18:06Z","updated_at":"2020-05-23T14:01:23Z","closed_at":null,"author_association":"MEMBER","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"**[Original report](https://bitbucket.org/blais/beancount/issue/424) by hktkzyx (Bitbucket: [hktkzyx](https://bitbucket.org/hktkzyx), GitHub: [hktkzyx](https://github.com/hktkzyx)).**\n\n----------------------------------------\n\nA transaction is like this:\n\n```\nplugin \"beancount.plugins.forecast\"\n2020-03-31 # \"[MONTHLY REPEAT 3 TIMES]\"\n Assets:Cash  -1.00 USD\n Assets:Current 1.00 USD\n```\n\nThe expected forecasted entries should be like this\n\n‌\n\n```\n2020-03-31 # \"\"\n Assets:Cash  -1.00 USD\n Assets:Current 1.00 USD\n2020-04-30 # \"\"\n Assets:Cash  -1.00 USD\n Assets:Current 1.00 USD\n2020-05-31 # \"\"\n Assets:Cash  -1.00 USD\n Assets:Current 1.00 USD\n```\n\nHowever, the actual results are\n\n```\n2020-03-31 # \"\"\n Assets:Cash  -1.00 USD\n Assets:Current 1.00 USD\n2020-05-31 # \"\"\n Assets:Cash  -1.00 USD\n Assets:Current 1.00 USD\n2020-07-31 # \"\"\n Assets:Cash  -1.00 USD\n Assets:Current 1.00 USD\n```\n\n‌\n","closed_by":null,"reactions":{"url":"https://api.github.com/repos/beancount/beancount/issues/424/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beancount/issues/424/timeline","performed_via_github_app":null,"state_reason":null},{"url":"https://api.github.com/repos/beancount/beancount/issues/423","repository_url":"https://api.github.com/repos/beancount/beancount","labels_url":"https://api.github.com/repos/beancount/beancount/issues/423/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beancount/issues/423/comments","events_url":"https://api.github.com/repos/beancount/beancount/issues/423/events","html_url":"https://github.com/beancount/beancount/issues/423","id":623377601,"node_id":"MDU6SXNzdWU2MjMzNzc2MDE=","number":423,"title":"Support utf-8 account name","user":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":2080994061,"node_id":"MDU6TGFiZWwyMDgwOTk0MDYx","url":"https://api.github.com/repos/beancount/beancount/labels/P3","name":"P3","color":"FFdddd","default":false,"description":"Very low priority, nice to have"},{"id":2080995647,"node_id":"MDU6TGFiZWwyMDgwOTk1NjQ3","url":"https://api.github.com/repos/beancount/beancount/labels/parser-loader","name":"parser-loader","color":"ededed","default":false,"description":"Component: Parser and loader"}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":6,"created_at":"2020-03-01T05:35:53Z","updated_at":"2021-10-20T13:50:31Z","closed_at":"2021-10-20T13:50:31Z","author_association":"MEMBER","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"**[Original report](https://bitbucket.org/blais/beancount/issue/423) by 星辰 葛 (Bitbucket: [gexingchen](https://bitbucket.org/gexingchen), GitHub: [gexingchen](https://github.com/gexingchen)).**\n\n----------------------------------------\n\nWhen I open account with chinese characters like below:\n\n```\n2019-01-01 open Assets:银行:招商银行借记卡 CNY\n```\n\nFava will report error:\n\n```\nValueError: Invalid account name: Assets:银行:招商银行借记卡\n```\n\nI really want to use chinese account name, would you please make beanaccount support utf-8 account names?\n","closed_by":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/beancount/beancount/issues/423/reactions","total_count":6,"+1":6,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beancount/issues/423/timeline","performed_via_github_app":null,"state_reason":"completed"},{"url":"https://api.github.com/repos/beancount/beancount/issues/420","repository_url":"https://api.github.com/repos/beancount/beancount","labels_url":"https://api.github.com/repos/beancount/beancount/issues/420/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beancount/issues/420/comments","events_url":"https://api.github.com/repos/beancount/beancount/issues/420/events","html_url":"https://github.com/beancount/beancount/issues/420","id":623377540,"node_id":"MDU6SXNzdWU2MjMzNzc1NDA=","number":420,"title":"Make metadata into an OrderedDict","user":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":2080994777,"node_id":"MDU6TGFiZWwyMDgwOTk0Nzc3","url":"https://api.github.com/repos/beancount/beancount/labels/P1","name":"P1","color":"ff6666","default":false,"description":"High priority, not breaking but hindering or lessening existing functionality"},{"id":2080995603,"node_id":"MDU6TGFiZWwyMDgwOTk1NjAz","url":"https://api.github.com/repos/beancount/beancount/labels/core-ops","name":"core-ops","color":"ededed","default":false,"description":"Component: Core data structures and stream ops"}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":11,"created_at":"2020-02-25T09:53:38Z","updated_at":"2022-08-09T13:53:15Z","closed_at":"2020-05-23T14:24:19Z","author_association":"MEMBER","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"**[Original report](https://bitbucket.org/blais/beancount/issue/420) by Martin Michlmayr (Bitbucket: [tbm13](https://bitbucket.org/tbm13), GitHub: [tbm](https://github.com/tbm)).**\n\n----------------------------------------\n\nI’m wondering whether it would be possible to make metadata \\(both on transactions and postings\\) into an OrderedDict.\n\nI have written an importer which basically does something like:\n\n```\n            meta = data.new_metadata(f.name, index)\n            meta['donor_name'] = get_name(row)\n            meta['donor_email'] = row['Email']\n```\n\nIt makes sense to have name first, email second, but currently beancounts sorts the keys and email comes out first.\n\nCan you think of any disadvantages of using an OrderedDict? If not, maybe I can try to see if I can contribute a patch.\n\n‌\n","closed_by":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/beancount/beancount/issues/420/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beancount/issues/420/timeline","performed_via_github_app":null,"state_reason":"completed"},{"url":"https://api.github.com/repos/beancount/beancount/issues/418","repository_url":"https://api.github.com/repos/beancount/beancount","labels_url":"https://api.github.com/repos/beancount/beancount/issues/418/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beancount/issues/418/comments","events_url":"https://api.github.com/repos/beancount/beancount/issues/418/events","html_url":"https://github.com/beancount/beancount/issues/418","id":623377503,"node_id":"MDU6SXNzdWU2MjMzNzc1MDM=","number":418,"title":"guess_file_type raises error instead of None if python-magic is not installed.","user":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":2080914000,"node_id":"MDU6TGFiZWwyMDgwOTE0MDAw","url":"https://api.github.com/repos/beancount/beancount/labels/BUG","name":"BUG","color":"cc99cc","default":false,"description":"This is a bug, not a feature request; something isn't working."},{"id":2080994022,"node_id":"MDU6TGFiZWwyMDgwOTk0MDIy","url":"https://api.github.com/repos/beancount/beancount/labels/P2","name":"P2","color":"ffaaaa","default":false,"description":"Low priority, addressing would result in useful improvements"}],"state":"open","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":1,"created_at":"2020-02-07T13:26:09Z","updated_at":"2020-02-07T15:06:14Z","closed_at":null,"author_association":"MEMBER","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"**[Original report](https://bitbucket.org/blais/beancount/issue/418) by cevans (Bitbucket: [cevans](https://bitbucket.org/cevans), GitHub: [cevans](https://github.com/cevans)).**\n\n----------------------------------------\n\nDocumentation for `guess_file_type` notes that it will return `None` if it can’t guess the file’s type.  However, if python-magic is not available, and it can’t recognize a file, it raises a `ValueError`. This isn’t necessarily desirable: `mimetypes` may sufficiently recognize all the file types the user wants to recognize, but files that the user doesn’t care about positively recognizing through `guess_file_type` will break importers for other files that use it.\n\nIn my use case, I have many files that are easily recognized by `mimetypes` \\(pdf, csv\\), but one importer that uses something else \\(asp…\\).  The importer using that doesn’t rely on `guess_file_type` for identification, other importers that do break when there is an asp file there and they try to identify it \\(eg, when using fava\\).\n\nThe function already uses warnings, so it would make sense to replace the error with a warning, and return `None` if the file has not already been recognized and python-magic is not available.\n","closed_by":null,"reactions":{"url":"https://api.github.com/repos/beancount/beancount/issues/418/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beancount/issues/418/timeline","performed_via_github_app":null,"state_reason":null},{"url":"https://api.github.com/repos/beancount/beancount/issues/417","repository_url":"https://api.github.com/repos/beancount/beancount","labels_url":"https://api.github.com/repos/beancount/beancount/issues/417/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beancount/issues/417/comments","events_url":"https://api.github.com/repos/beancount/beancount/issues/417/events","html_url":"https://github.com/beancount/beancount/issues/417","id":623377488,"node_id":"MDU6SXNzdWU2MjMzNzc0ODg=","number":417,"title":"Allow negative prices","user":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":2080994022,"node_id":"MDU6TGFiZWwyMDgwOTk0MDIy","url":"https://api.github.com/repos/beancount/beancount/labels/P2","name":"P2","color":"ffaaaa","default":false,"description":"Low priority, addressing would result in useful improvements"}],"state":"open","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":1,"created_at":"2020-01-26T10:08:57Z","updated_at":"2020-05-23T13:15:47Z","closed_at":null,"author_association":"MEMBER","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"**[Original report](https://bitbucket.org/blais/beancount/issue/417) by Javier (Bitbucket: [Javier](https://bitbucket.org/Javier), GitHub: [Javier](https://github.com/Javier)).**\n\n----------------------------------------\n\nCould negative commodity prices be allowed? Some financial assets/contracts, like swaps, may have a negative entry price.\n\n‌\n\nFor instance, allow negative prices for the following asset-class\n\n‌\n\n```\n2020-01-01 commodity SWAP-T10\n  asset-class: \"swap\"\n\n; Should not throw any warning\n2020-01-01 * \"Enter swap\"\n    Assets:Broker:SWAP-T10     1 SWAP-T10 {-1234.56 USD, 2020-01-01} @ -1234.56 USD\n    Assets:Broker:USD          1234.56 USD\n```\n\n‌\n","closed_by":null,"reactions":{"url":"https://api.github.com/repos/beancount/beancount/issues/417/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beancount/issues/417/timeline","performed_via_github_app":null,"state_reason":null},{"url":"https://api.github.com/repos/beancount/beancount/issues/414","repository_url":"https://api.github.com/repos/beancount/beancount","labels_url":"https://api.github.com/repos/beancount/beancount/issues/414/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beancount/issues/414/comments","events_url":"https://api.github.com/repos/beancount/beancount/issues/414/events","html_url":"https://github.com/beancount/beancount/issues/414","id":623377425,"node_id":"MDU6SXNzdWU2MjMzNzc0MjU=","number":414,"title":"unicode decode error of bean-format","user":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":2080914000,"node_id":"MDU6TGFiZWwyMDgwOTE0MDAw","url":"https://api.github.com/repos/beancount/beancount/labels/BUG","name":"BUG","color":"cc99cc","default":false,"description":"This is a bug, not a feature request; something isn't working."},{"id":2080994777,"node_id":"MDU6TGFiZWwyMDgwOTk0Nzc3","url":"https://api.github.com/repos/beancount/beancount/labels/P1","name":"P1","color":"ff6666","default":false,"description":"High priority, not breaking but hindering or lessening existing functionality"}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":1,"created_at":"2020-01-07T03:33:27Z","updated_at":"2020-05-23T14:26:08Z","closed_at":"2020-05-23T14:26:08Z","author_association":"MEMBER","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"**[Original report](https://bitbucket.org/blais/beancount/issue/414) by hktkzyx (Bitbucket: [hktkzyx](https://bitbucket.org/hktkzyx), GitHub: [hktkzyx](https://github.com/hktkzyx)).**\n\n----------------------------------------\n\nWhen use bean-format to format my beancount file, “UnicodeDecodeError: 'gbk' codec can't decode byte 0xa5 in position 802: illegal multibyte sequence” appeared.\n","closed_by":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/beancount/beancount/issues/414/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beancount/issues/414/timeline","performed_via_github_app":null,"state_reason":"completed"},{"url":"https://api.github.com/repos/beancount/beancount/issues/413","repository_url":"https://api.github.com/repos/beancount/beancount","labels_url":"https://api.github.com/repos/beancount/beancount/issues/413/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beancount/issues/413/comments","events_url":"https://api.github.com/repos/beancount/beancount/issues/413/events","html_url":"https://github.com/beancount/beancount/issues/413","id":623377401,"node_id":"MDU6SXNzdWU2MjMzNzc0MDE=","number":413,"title":"Version 2.2.3 is not published on PyPI","user":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":2080914000,"node_id":"MDU6TGFiZWwyMDgwOTE0MDAw","url":"https://api.github.com/repos/beancount/beancount/labels/BUG","name":"BUG","color":"cc99cc","default":false,"description":"This is a bug, not a feature request; something isn't working."},{"id":2080994061,"node_id":"MDU6TGFiZWwyMDgwOTk0MDYx","url":"https://api.github.com/repos/beancount/beancount/labels/P3","name":"P3","color":"FFdddd","default":false,"description":"Very low priority, nice to have"},{"id":2081004216,"node_id":"MDU6TGFiZWwyMDgxMDA0MjE2","url":"https://api.github.com/repos/beancount/beancount/labels/infra-server","name":"infra-server","color":"ededed","default":false,"description":"Component: Admin scripts, build, and server issues"}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":2,"created_at":"2019-12-12T23:28:42Z","updated_at":"2019-12-25T06:09:45Z","closed_at":"2019-12-25T06:09:45Z","author_association":"MEMBER","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"**[Original report](https://bitbucket.org/blais/beancount/issue/413) by Yuchen Ying (Bitbucket: [yegle](https://bitbucket.org/yegle), GitHub: [yegle](https://github.com/yegle)).**\n\n----------------------------------------\n\nVersion 2.2.3 is not published on PyPI.\n\n‌\n\nWhile you are at this issue: Bitbucket doesn’t have an RSS feed for me to subscribe release tags, and I have to rely on ~~PyPI~~ [libraries.io](http://libraries.io) \\(PyPI also doesn’t provide RSS feed\\). Given Bitbucket is abandoning Mercurial support, can we switch to Github?\n\n‌\n","closed_by":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/beancount/beancount/issues/413/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beancount/issues/413/timeline","performed_via_github_app":null,"state_reason":"completed"},{"url":"https://api.github.com/repos/beancount/beancount/issues/412","repository_url":"https://api.github.com/repos/beancount/beancount","labels_url":"https://api.github.com/repos/beancount/beancount/issues/412/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beancount/issues/412/comments","events_url":"https://api.github.com/repos/beancount/beancount/issues/412/events","html_url":"https://github.com/beancount/beancount/issues/412","id":623377384,"node_id":"MDU6SXNzdWU2MjMzNzczODQ=","number":412,"title":"Update documentation for Emacs as minor mode (was: Where is the minor mode for emacs?)","user":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":2080914000,"node_id":"MDU6TGFiZWwyMDgwOTE0MDAw","url":"https://api.github.com/repos/beancount/beancount/labels/BUG","name":"BUG","color":"cc99cc","default":false,"description":"This is a bug, not a feature request; something isn't working."},{"id":2080994022,"node_id":"MDU6TGFiZWwyMDgwOTk0MDIy","url":"https://api.github.com/repos/beancount/beancount/labels/P2","name":"P2","color":"ffaaaa","default":false,"description":"Low priority, addressing would result in useful improvements"},{"id":2081000198,"node_id":"MDU6TGFiZWwyMDgxMDAwMTk4","url":"https://api.github.com/repos/beancount/beancount/labels/documentation","name":"documentation","color":"ededed","default":true,"description":"Component: Improvements or additions to documentation"}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":3,"created_at":"2019-12-11T10:04:51Z","updated_at":"2020-06-27T18:18:23Z","closed_at":"2020-06-27T18:18:23Z","author_association":"MEMBER","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"**[Original report](https://bitbucket.org/blais/beancount/issue/412) by Sven (Bitbucket: [Sven](https://bitbucket.org/Sven), GitHub: [Sven](https://github.com/Sven)).**\n\n----------------------------------------\n\nI'm not able to get beancount emcas mode and orgmode running at the same time. I tried to add the following to `~/.emacs`:\n\n```\n(add-to-list 'load-path \"/usr/elisp/\")\n(require 'beancount)\n(add-to-list 'auto-mode-alist '(\"\\.beancount\\'\" . beancount-mode))\n```\n\nAnd my beancount file starts with:\n\n```\n;; -*- mode: org; mode: beancount; coding: utf-8; fill-column: 400; -*-\n```\n\nBeancount works as expected. However, orgmode is not applied. If I remove `~/.emacs` orgmode works as expected, but not beancount.\n\nAfter fiddeling around I recognized that in [https://bitbucket.org/blais/beancount/src/tip/editors/emacs/beancount.el](https://bitbucket.org/blais/beancount/src/tip/editors/emacs/beancount.el) it is tsatet, that it is an major mode. The documentation tells it is an minor mode and also on the Github mirror I found the file mentioning minor mode: [https://github.com/beancount/beancount/blob/master/editors/emacs/beancount.el](https://github.com/beancount/beancount/blob/master/editors/emacs/beancount.el)\n\nSo my question is, how do I get orgmode and beancount mode working together?\n","closed_by":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/beancount/beancount/issues/412/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beancount/issues/412/timeline","performed_via_github_app":null,"state_reason":"completed"},{"url":"https://api.github.com/repos/beancount/beancount/issues/411","repository_url":"https://api.github.com/repos/beancount/beancount","labels_url":"https://api.github.com/repos/beancount/beancount/issues/411/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beancount/issues/411/comments","events_url":"https://api.github.com/repos/beancount/beancount/issues/411/events","html_url":"https://github.com/beancount/beancount/issues/411","id":623377362,"node_id":"MDU6SXNzdWU2MjMzNzczNjI=","number":411,"title":"Balance directive allows $0.01 discrepancy","user":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":2080914000,"node_id":"MDU6TGFiZWwyMDgwOTE0MDAw","url":"https://api.github.com/repos/beancount/beancount/labels/BUG","name":"BUG","color":"cc99cc","default":false,"description":"This is a bug, not a feature request; something isn't working."},{"id":2080994022,"node_id":"MDU6TGFiZWwyMDgwOTk0MDIy","url":"https://api.github.com/repos/beancount/beancount/labels/P2","name":"P2","color":"ffaaaa","default":false,"description":"Low priority, addressing would result in useful improvements"}],"state":"open","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":1,"created_at":"2019-12-07T23:38:44Z","updated_at":"2019-12-08T00:20:24Z","closed_at":null,"author_association":"MEMBER","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"**[Original report](https://bitbucket.org/blais/beancount/issue/411) by Owen Heisler (Bitbucket: [owenh000](https://bitbucket.org/owenh000), GitHub: [owenh000](https://github.com/owenh000)).**\n\n----------------------------------------\n\nA balance directive will pass even when the balance does not exactly match.\n\nFor example:\n\n```\n2019-01-01 open Assets:Cash USD\n2019-01-01 open Income:Work USD\n\n2019-01-01 * \"got cash\"\n  Assets:Cash  25.00 USD\n  Income:Work\n\n2019-01-02 balance Assets:Cash 25.01 USD\n```\n\nThis passes:\n\n```\n$ bean-report test.beancount balances\nAssets:Cash   25.00 USD\nEquity      \nExpenses    \nIncome:Work  -25.00 USD\nLiabilities\n```\n\nHowever, if it is $0.02 off:\n\n```\n2019-01-01 open Assets:Cash USD\n2019-01-01 open Income:Work USD\n\n2019-01-01 * \"got cash\"\n  Assets:Cash  25.00 USD\n  Income:Work\n\n2019-01-02 balance Assets:Cash 25.02 USD\n```\n\nThen it’s a problem:\n\n```\n$ bean-report test.beancount balances\n/tmp/test.beancount:8:       Balance failed for 'Assets:Cash': expected 25.02 USD != accumulated 25.00 USD (0.02 too little)\n\n   2019-01-02 balance Assets:Cash                                     25.02 USD\n\n\nAssets:Cash   25.00 USD\nEquity      \nExpenses    \nIncome:Work  -25.00 USD\nLiabilities\n```\n\n‌\n","closed_by":null,"reactions":{"url":"https://api.github.com/repos/beancount/beancount/issues/411/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beancount/issues/411/timeline","performed_via_github_app":null,"state_reason":null},{"url":"https://api.github.com/repos/beancount/beancount/issues/410","repository_url":"https://api.github.com/repos/beancount/beancount","labels_url":"https://api.github.com/repos/beancount/beancount/issues/410/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beancount/issues/410/comments","events_url":"https://api.github.com/repos/beancount/beancount/issues/410/events","html_url":"https://github.com/beancount/beancount/issues/410","id":623377330,"node_id":"MDU6SXNzdWU2MjMzNzczMzA=","number":410,"title":"Tests fail with Python 3.8","user":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":2080914000,"node_id":"MDU6TGFiZWwyMDgwOTE0MDAw","url":"https://api.github.com/repos/beancount/beancount/labels/BUG","name":"BUG","color":"cc99cc","default":false,"description":"This is a bug, not a feature request; something isn't working."},{"id":2080994777,"node_id":"MDU6TGFiZWwyMDgwOTk0Nzc3","url":"https://api.github.com/repos/beancount/beancount/labels/P1","name":"P1","color":"ff6666","default":false,"description":"High priority, not breaking but hindering or lessening existing functionality"}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":4,"created_at":"2019-11-20T10:36:26Z","updated_at":"2019-12-25T06:59:03Z","closed_at":"2019-12-25T06:59:03Z","author_association":"MEMBER","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"**[Original report](https://bitbucket.org/blais/beancount/issue/410) by Dr. Tobias Quathamer (GitHub: [toddy15](https://github.com/toddy15)).**\n\n----------------------------------------\n\nHi,\n\nI’m helping to maintain the Debian package of beancount, and the tests have recently begun to fail, after we switched from Python 3.7 to Python 3.8. You can see the full build log here:\n\n[https://buildd.debian.org/status/fetch.php?pkg=beancount&arch=amd64&ver=2.2.3-1%2Bb1&stamp=1574207855&raw=0](https://buildd.debian.org/status/fetch.php?pkg=beancount&arch=amd64&ver=2.2.3-1%2Bb1&stamp=1574207855&raw=0)\n\nThe first failing test is this:\n\n`beancount/ingest/identify_test.py::TestScriptIdentify::test_identify FAILED [ 20%]`\n\nAfterwards, the tests break with a segmentation fault error:\n\n```\nbeancount/parser/lexer_test.py::TestLexerErrors::test_lexer_invalid_token PASSED [ 55%]\nbeancount/parser/lexer_test.py::TestLexerUnicode::test_bytes_encoded_latin1 PASSED [ 55%]\nbeancount/parser/lexer_test.py::TestLexerUnicode::test_bytes_encoded_latin1_invalid PASSED [ 55%]\nbeancount/parser/lexer_test.py::TestLexerUnicode::test_bytes_encoded_utf16 Segmentation fault\nE: pybuild pybuild:341: test: plugin distutils failed with: exit code=139: cd /<<PKGBUILDDIR>>/.pybuild/cpython3_3.8/build; python3.8 -m pytest -v\ndh_auto_test: pybuild --test --test-pytest -i python{version} -p \"3.8 3.7\" returned exit code 13\nmake: *** [debian/rules:13: binary-arch] Error 255\ndpkg-buildpackage: error: debian/rules binary-arch subprocess returned exit status 2\n```\n\n‌\n\nThe corresponding bug in Debian is [https://bugs.debian.org/943608](https://bugs.debian.org/943608), however, there’s not much information in the bug log \\(yet\\). Could you please take a look at this? \n\n‌\n\nRegards,\n\nTobias\n","closed_by":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/beancount/beancount/issues/410/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beancount/issues/410/timeline","performed_via_github_app":null,"state_reason":"completed"},{"url":"https://api.github.com/repos/beancount/beancount/issues/408","repository_url":"https://api.github.com/repos/beancount/beancount","labels_url":"https://api.github.com/repos/beancount/beancount/issues/408/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beancount/issues/408/comments","events_url":"https://api.github.com/repos/beancount/beancount/issues/408/events","html_url":"https://github.com/beancount/beancount/issues/408","id":623377283,"node_id":"MDU6SXNzdWU2MjMzNzcyODM=","number":408,"title":"FAVA fails after manjaro update","user":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":2080914000,"node_id":"MDU6TGFiZWwyMDgwOTE0MDAw","url":"https://api.github.com/repos/beancount/beancount/labels/BUG","name":"BUG","color":"cc99cc","default":false,"description":"This is a bug, not a feature request; something isn't working."},{"id":2080994777,"node_id":"MDU6TGFiZWwyMDgwOTk0Nzc3","url":"https://api.github.com/repos/beancount/beancount/labels/P1","name":"P1","color":"ff6666","default":false,"description":"High priority, not breaking but hindering or lessening existing functionality"},{"id":2080994900,"node_id":"MDU6TGFiZWwyMDgwOTk0OTAw","url":"https://api.github.com/repos/beancount/beancount/labels/web","name":"web","color":"ededed","default":false,"description":"Component: bean-web built-in server"}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":3,"created_at":"2019-11-16T15:42:34Z","updated_at":"2020-05-23T13:51:22Z","closed_at":"2020-05-23T13:51:21Z","author_association":"MEMBER","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"**[Original report](https://bitbucket.org/blais/beancount/issue/408) by Richard Gott.**\n\n----------------------------------------\n\nHi anybody\n\n‌\n\nUpdated my manjaro arch install.  Fava fails.  Tried re-install.  Still fails.\n\nBeancount seems to be up to date \\(2.2.3\\) - re-installed anyway but no diff\n\nterminal messages below.\n\nAny help much appreciated. \\(I’m a very end-user, so forgive me if the answer is instantly obvious\\)\n\n‌\n\nRichard\n\n‌\n\nfava\\(base\\) \\[nyc@desktop ~\\]$ fava  \nTraceback \\(most recent call last\\):  \nFile \"/usr/bin/fava\", line 6, in <module>  \nfrom fava.cli import main  \nFile \"/usr/lib/python3.7/site-packages/fava/cli.py\", line 10, in <module>  \nfrom fava.application import app  \nFile \"/usr/lib/python3.7/site-packages/fava/application.py\", line 42, in <module>  \nfrom fava.core import FavaLedger  \nFile \"/usr/lib/python3.7/site-packages/fava/core/**init**.py\", line 36, in <module>  \nfrom fava.core.ingest import IngestModule  \nFile \"/usr/lib/python3.7/site-packages/fava/core/ingest.py\", line 11, in <module>  \nfrom beancount.ingest import cache, identify, extract  \nFile \"/usr/lib/python3.7/site-packages/beancount/ingest/**init**.py\", line 13, in <module>  \nimport pytest  \nFile \"/usr/lib/python3.7/site-packages/pytest.py\", line 7, in <module>  \nfrom \\_pytest.assertion import register\\_assert\\_rewrite  \nFile \"/usr/lib/python3.7/site-packages/\\_pytest/assertion/**init**.py\", line 12, in <module>  \nfrom \\_pytest.assertion import rewrite  \nFile \"/usr/lib/python3.7/site-packages/\\_pytest/assertion/rewrite.py\", line 23, in <module>  \nfrom \\_pytest.assertion import util  \nFile \"/usr/lib/python3.7/site-packages/\\_pytest/assertion/util.py\", line 10, in <module>  \nimport \\_pytest.\\_code  \nFile \"/usr/lib/python3.7/site-packages/\\_pytest/\\_code/**init**.py\", line 6, in <module>  \nfrom .code import Code  # noqa  \nFile \"/usr/lib/python3.7/site-packages/\\_pytest/\\_code/code.py\", line 388, in <module>  \n@attr.s\\(repr=False\\)  \nAttributeError: module 'attr' has no attribute 's'\n","closed_by":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/beancount/beancount/issues/408/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beancount/issues/408/timeline","performed_via_github_app":null,"state_reason":"completed"},{"url":"https://api.github.com/repos/beancount/beancount/issues/407","repository_url":"https://api.github.com/repos/beancount/beancount","labels_url":"https://api.github.com/repos/beancount/beancount/issues/407/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beancount/issues/407/comments","events_url":"https://api.github.com/repos/beancount/beancount/issues/407/events","html_url":"https://github.com/beancount/beancount/issues/407","id":623377267,"node_id":"MDU6SXNzdWU2MjMzNzcyNjc=","number":407,"title":"Indentation of postings and metadata in transaction entry","user":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":2080994777,"node_id":"MDU6TGFiZWwyMDgwOTk0Nzc3","url":"https://api.github.com/repos/beancount/beancount/labels/P1","name":"P1","color":"ff6666","default":false,"description":"High priority, not breaking but hindering or lessening existing functionality"},{"id":2080995647,"node_id":"MDU6TGFiZWwyMDgwOTk1NjQ3","url":"https://api.github.com/repos/beancount/beancount/labels/parser-loader","name":"parser-loader","color":"ededed","default":false,"description":"Component: Parser and loader"}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":0,"created_at":"2019-11-03T14:24:59Z","updated_at":"2020-05-23T11:48:03Z","closed_at":"2020-05-23T11:48:03Z","author_association":"MEMBER","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"**[Original report](https://bitbucket.org/blais/beancount/issue/407) by Kirill Goncharov (GitHub: [xuhcc](https://github.com/xuhcc)).**\n\n----------------------------------------\n\nIn `beancount.parser.printer.EntryPrinter` class indents before postings and metadata are hardcoded to two spaces. It would be nice to allow users of this class (such as Fava) to specify desired indentation.\n\nI didn't find a way to create a merge request, so I'm posting suggested changes to `printer` module here:\n\n```\nFrom 0f635d6ffbe924125362eb3e5c8145c0b14e3c95 Mon Sep 17 00:00:00 2001\nFrom: Kirill Goncharov <kdgoncharov@gmail.com>\nDate: Sun, 3 Nov 2019 17:15:09 +0300\nSubject: [PATCH] Allow custom prefixes in EntryPrinter and format_entry\n\n---\n beancount/parser/printer.py | 21 +++++++++++++--------\n 1 file changed, 13 insertions(+), 8 deletions(-)\n\ndiff --git a/beancount/parser/printer.py b/beancount/parser/printer.py\nindex dfe62738..cbe93c41 100644\n--- a/beancount/parser/printer.py\n+++ b/beancount/parser/printer.py\n@@ -97,12 +97,13 @@ class EntryPrinter:\n \n     # pylint: disable=invalid-name\n \n-    def __init__(self, dcontext=None, render_weight=False, min_width_account=None):\n+    def __init__(self, dcontext=None, render_weight=False, min_width_account=None, prefix=None):\n         self.dcontext = dcontext or display_context.DEFAULT_DISPLAY_CONTEXT\n         self.dformat = self.dcontext.build(precision=display_context.Precision.MOST_COMMON)\n         self.dformat_max = self.dcontext.build(precision=display_context.Precision.MAXIMUM)\n         self.render_weight = render_weight\n         self.min_width_account = min_width_account\n+        self.prefix = prefix or '  '\n \n     def __call__(self, obj):\n         \"\"\"Render a directive.\n@@ -119,7 +120,7 @@ class EntryPrinter:\n \n     META_IGNORE = set(['filename', 'lineno', '__automatic__'])\n \n-    def write_metadata(self, meta, oss, prefix='  '):\n+    def write_metadata(self, meta, oss, prefix=None):\n         \"\"\"Write metadata to the file object, excluding filename and line number.\n \n         Args:\n@@ -128,6 +129,8 @@ class EntryPrinter:\n         \"\"\"\n         if meta is None:\n             return\n+        if prefix is None:\n+            prefix = self.prefix\n         for key, value in sorted(meta.items()):\n             if key not in self.META_IGNORE:\n                 value_str = None\n@@ -183,8 +186,8 @@ class EntryPrinter:\n                                if self.render_weight\n                                else False)\n         if non_trivial_balance:\n-            fmt = \"  {{:{0`  {{:{1`  ; {{:{2`\\n\".format(\n-                width_account, width_position, width_weight).format\n+            fmt = \"{0}{{:{1`  {{:{2`  ; {{:{3`\\n\".format(\n+                self.prefix, width_account, width_position, width_weight).format\n             for posting, account, position_str, weight_str in zip(entry.postings,\n                                                                   strs_account,\n                                                                   strs_position,\n@@ -195,7 +198,8 @@ class EntryPrinter:\n                 if posting.meta:\n                     self.write_metadata(posting.meta, oss, '    ')\n         else:\n-            fmt_str = \"  {{:{0`  {{:{1`\\n\".format(width_account, max(1, width_position))\n+            fmt_str = \"{0}{{:{1`  {{:{2`\\n\".format(\n+                self.prefix, width_account, max(1, width_position))\n             fmt = fmt_str.format\n             for posting, account, position_str in zip(entry.postings,\n                                                       strs_account,\n@@ -243,7 +247,8 @@ class EntryPrinter:\n         # method rendering a transaction attempts to align the posting strings\n         # together.\n         flag_account, position_str, weight_str = self.render_posting_strings(posting)\n-        oss.write('  {:64} {} ; {}\\n'.format(flag_account,\n+        oss.write('{}{:64} {} ; {}\\n'.format(self.prefix,\n+                                             flag_account,\n                                              position_str,\n                                              weight_str).rstrip())\n         if posting.meta:\n@@ -328,7 +333,7 @@ class EntryPrinter:\n         self.write_metadata(entry.meta, oss)\n \n \n-def format_entry(entry, dcontext=None, render_weights=False):\n+def format_entry(entry, dcontext=None, render_weights=False, prefix=None):\n     \"\"\"Format an entry into a string in the same input syntax the parser accepts.\n \n     Args:\n@@ -338,7 +343,7 @@ def format_entry(entry, dcontext=None, render_weights=False):\n     Returns:\n       A string, the formatted entry.\n     \"\"\"\n-    return EntryPrinter(dcontext, render_weights)(entry)\n+    return EntryPrinter(dcontext, render_weights, prefix=prefix)(entry)\n \n \n def print_entry(entry, dcontext=None, render_weights=False, file=None):\n-- \n2.23.0\n\n```\n","closed_by":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/beancount/beancount/issues/407/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beancount/issues/407/timeline","performed_via_github_app":null,"state_reason":"completed"},{"url":"https://api.github.com/repos/beancount/beancount/issues/406","repository_url":"https://api.github.com/repos/beancount/beancount","labels_url":"https://api.github.com/repos/beancount/beancount/issues/406/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beancount/issues/406/comments","events_url":"https://api.github.com/repos/beancount/beancount/issues/406/events","html_url":"https://github.com/beancount/beancount/issues/406","id":623377243,"node_id":"MDU6SXNzdWU2MjMzNzcyNDM=","number":406,"title":"Cannot distinguish between tag and string","user":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":2080914000,"node_id":"MDU6TGFiZWwyMDgwOTE0MDAw","url":"https://api.github.com/repos/beancount/beancount/labels/BUG","name":"BUG","color":"cc99cc","default":false,"description":"This is a bug, not a feature request; something isn't working."},{"id":2080994061,"node_id":"MDU6TGFiZWwyMDgwOTk0MDYx","url":"https://api.github.com/repos/beancount/beancount/labels/P3","name":"P3","color":"FFdddd","default":false,"description":"Very low priority, nice to have"},{"id":2080995647,"node_id":"MDU6TGFiZWwyMDgwOTk1NjQ3","url":"https://api.github.com/repos/beancount/beancount/labels/parser-loader","name":"parser-loader","color":"ededed","default":false,"description":"Component: Parser and loader"}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":4,"created_at":"2019-10-31T15:14:13Z","updated_at":"2020-05-23T16:00:46Z","closed_at":"2020-05-23T16:00:46Z","author_association":"MEMBER","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"**[Original report](https://bitbucket.org/blais/beancount/issue/406) by mpra (Bitbucket: [mpra](https://bitbucket.org/mpra), GitHub: [mpra](https://github.com/mpra)).**\n\n----------------------------------------\n\nI have a little problem with processing meta information. Let’s look at this simple example:\n\n```python\nfrom beancount import loader\n\nentries, errors, options = loader.load_string(\n\"\"\"2019-10-31 * \"The Company\" \"Buy cheap stuff\"\n  key01: \"string_value\"\n  key02: #tag_value\n  Expenses:Office                 10.00 USD\n  Assets:Cash\n\"\"\")\n\nprint(entries[0].meta['key01'], type(entries[0].meta['key01']))\nprint(entries[0].meta['key02'], type(entries[0].meta['key02']))\n```\n\nOutput:\n\n```python\nstring_value <class 'str'>\ntag_value <class 'str'>\n```\n\nIt has two key/value pairs attached as meta information to the transaction, “key01” a simple string and “#key02” a tag. This can be loaded without any error, but afterwards it is not possible to distinguish between a tag and a string anymore. The loader removes the # sign from the tag and the datatype is string. Therefore it is not possible to know for certain, if a value was a string or a tag in the original beancount file. Is this a bug or am I missing something?\n\n‌\n","closed_by":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/beancount/beancount/issues/406/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beancount/issues/406/timeline","performed_via_github_app":null,"state_reason":"completed"},{"url":"https://api.github.com/repos/beancount/beancount/issues/405","repository_url":"https://api.github.com/repos/beancount/beancount","labels_url":"https://api.github.com/repos/beancount/beancount/issues/405/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beancount/issues/405/comments","events_url":"https://api.github.com/repos/beancount/beancount/issues/405/events","html_url":"https://github.com/beancount/beancount/issues/405","id":623377201,"node_id":"MDU6SXNzdWU2MjMzNzcyMDE=","number":405,"title":"Editable Google docs","user":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":2080994061,"node_id":"MDU6TGFiZWwyMDgwOTk0MDYx","url":"https://api.github.com/repos/beancount/beancount/labels/P3","name":"P3","color":"FFdddd","default":false,"description":"Very low priority, nice to have"},{"id":2081000198,"node_id":"MDU6TGFiZWwyMDgxMDAwMTk4","url":"https://api.github.com/repos/beancount/beancount/labels/documentation","name":"documentation","color":"ededed","default":true,"description":"Component: Improvements or additions to documentation"}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":3,"created_at":"2019-10-08T04:31:45Z","updated_at":"2019-10-08T08:48:35Z","closed_at":"2019-10-08T05:56:45Z","author_association":"MEMBER","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"**[Original report](https://bitbucket.org/blais/beancount/issue/405) by Met (Bitbucket: [Met](https://bitbucket.org/Met), GitHub: [Met](https://github.com/Met)).**\n\n----------------------------------------\n\nHello, I’m interested in the Google Docs documentation system beancount is using. I read the section in the docs, as well as the Google Groups discussion about it. The loginless editing and commenting systems seem really valuable, and I’m considering whether a similar loginless editing system might be usable in my own projects. I’m wondering how’s its been going since the last thread a few years ago?\n\nI tried editing [a page](https://docs.google.com/document/d/1e4Vz3wZB_8-ZcAwIFde8X5CjzKshE4-OXtVVHm4RQ8s/edit) but it wouldn’t let me do it without login and owner-approval. I’m wondering if this is a temporary issue or if the project has changed its editing rules due to abuse or anything. Thanks!\n","closed_by":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/beancount/beancount/issues/405/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beancount/issues/405/timeline","performed_via_github_app":null,"state_reason":"completed"},{"url":"https://api.github.com/repos/beancount/beancount/issues/403","repository_url":"https://api.github.com/repos/beancount/beancount","labels_url":"https://api.github.com/repos/beancount/beancount/issues/403/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beancount/issues/403/comments","events_url":"https://api.github.com/repos/beancount/beancount/issues/403/events","html_url":"https://github.com/beancount/beancount/issues/403","id":623377144,"node_id":"MDU6SXNzdWU2MjMzNzcxNDQ=","number":403,"title":"Unable to create pull request","user":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":2080914000,"node_id":"MDU6TGFiZWwyMDgwOTE0MDAw","url":"https://api.github.com/repos/beancount/beancount/labels/BUG","name":"BUG","color":"cc99cc","default":false,"description":"This is a bug, not a feature request; something isn't working."},{"id":2080994777,"node_id":"MDU6TGFiZWwyMDgwOTk0Nzc3","url":"https://api.github.com/repos/beancount/beancount/labels/P1","name":"P1","color":"ff6666","default":false,"description":"High priority, not breaking but hindering or lessening existing functionality"},{"id":2080996004,"node_id":"MDU6TGFiZWwyMDgwOTk2MDA0","url":"https://api.github.com/repos/beancount/beancount/labels/reports","name":"reports","color":"ededed","default":false,"description":"Component: Canned reports"}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":5,"created_at":"2019-09-19T04:34:39Z","updated_at":"2019-09-20T03:37:08Z","closed_at":"2019-09-19T04:42:48Z","author_association":"MEMBER","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"**[Original report](https://bitbucket.org/blais/beancount/issue/403) by kenkangxgwe (Bitbucket: [kenkangxgwe](https://bitbucket.org/kenkangxgwe), GitHub: [kenkangxgwe](https://github.com/kenkangxgwe)).**\n\n----------------------------------------\n\nHi, I want to add some features to the beancount-mode, but I cannot create the pull request. The page says that\n\n![](https://bitbucket.org/repo/7M55BB/images/1505459796-image.png)\nI don’t know whether an owner can disable the PR for his repo or this is my Bitbucket account issue?\n","closed_by":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/beancount/beancount/issues/403/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beancount/issues/403/timeline","performed_via_github_app":null,"state_reason":"completed"},{"url":"https://api.github.com/repos/beancount/beancount/issues/402","repository_url":"https://api.github.com/repos/beancount/beancount","labels_url":"https://api.github.com/repos/beancount/beancount/issues/402/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beancount/issues/402/comments","events_url":"https://api.github.com/repos/beancount/beancount/issues/402/events","html_url":"https://github.com/beancount/beancount/issues/402","id":623377126,"node_id":"MDU6SXNzdWU2MjMzNzcxMjY=","number":402,"title":"unrealized_gains broken in 2.0b13","user":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":2080914000,"node_id":"MDU6TGFiZWwyMDgwOTE0MDAw","url":"https://api.github.com/repos/beancount/beancount/labels/BUG","name":"BUG","color":"cc99cc","default":false,"description":"This is a bug, not a feature request; something isn't working."},{"id":2080994777,"node_id":"MDU6TGFiZWwyMDgwOTk0Nzc3","url":"https://api.github.com/repos/beancount/beancount/labels/P1","name":"P1","color":"ff6666","default":false,"description":"High priority, not breaking but hindering or lessening existing functionality"},{"id":2081000893,"node_id":"MDU6TGFiZWwyMDgxMDAwODkz","url":"https://api.github.com/repos/beancount/beancount/labels/plugins","name":"plugins","color":"ededed","default":false,"description":"Component: Plug-ins"}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":1,"created_at":"2019-09-08T15:59:02Z","updated_at":"2019-09-08T16:06:17Z","closed_at":"2019-09-08T16:06:17Z","author_association":"MEMBER","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"**[Original report](https://bitbucket.org/blais/beancount/issue/402) by Adam Wolenc (Bitbucket: [adamdblu](https://bitbucket.org/adamdblu)).**\n\n----------------------------------------\n\nMost entries it tries to produce result in\n\n`<unrealized_gains>:1016:    Invalid data types: Invalid tags type: <class 'NoneType'>`\n\n`<unrealized_gains>:1017:    Invalid data types: Invalid tags type: <class 'NoneType'>`\n","closed_by":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/beancount/beancount/issues/402/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beancount/issues/402/timeline","performed_via_github_app":null,"state_reason":"completed"},{"url":"https://api.github.com/repos/beancount/beancount/issues/401","repository_url":"https://api.github.com/repos/beancount/beancount","labels_url":"https://api.github.com/repos/beancount/beancount/issues/401/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beancount/issues/401/comments","events_url":"https://api.github.com/repos/beancount/beancount/issues/401/events","html_url":"https://github.com/beancount/beancount/issues/401","id":623377110,"node_id":"MDU6SXNzdWU2MjMzNzcxMTA=","number":401,"title":"min(balance) prints empty column","user":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":2080914000,"node_id":"MDU6TGFiZWwyMDgwOTE0MDAw","url":"https://api.github.com/repos/beancount/beancount/labels/BUG","name":"BUG","color":"cc99cc","default":false,"description":"This is a bug, not a feature request; something isn't working."},{"id":2080994252,"node_id":"MDU6TGFiZWwyMDgwOTk0MjUy","url":"https://api.github.com/repos/beancount/beancount/labels/query-sql","name":"query-sql","color":"ededed","default":false,"description":"Component: SQL query engine"},{"id":2080994777,"node_id":"MDU6TGFiZWwyMDgwOTk0Nzc3","url":"https://api.github.com/repos/beancount/beancount/labels/P1","name":"P1","color":"ff6666","default":false,"description":"High priority, not breaking but hindering or lessening existing functionality"}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":0,"created_at":"2019-08-06T01:11:38Z","updated_at":"2020-09-07T06:11:12Z","closed_at":"2020-09-07T06:11:12Z","author_association":"MEMBER","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"**[Original report](https://bitbucket.org/blais/beancount/issue/401) by Adam Wolenc (Bitbucket: [adamdblu](https://bitbucket.org/adamdblu)).**\n\n----------------------------------------\n\n```\nbeancount> SELECT date, balance WHERE account = \"Assets:Bank\"\n   date    balance \n---------- --------\n2019-01-01 1.00 USD\n2019-01-01 2.00 USD\n```\n\n```\nbeancount> SELECT date, max(balance) WHERE account = \"Assets:Bank\" GROUP BY date\n   date    max_bala\n---------- --------\n2019-01-01 2.00 USD\n```\n\n```\nbeancount> SELECT date, min(balance) WHERE account = \"Assets:Bank\" GROUP BY date\n   date    \n---------- -\n2019-01-01  \n```\n\nExpected:  1.00 USD\n","closed_by":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/beancount/beancount/issues/401/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beancount/issues/401/timeline","performed_via_github_app":null,"state_reason":"completed"},{"url":"https://api.github.com/repos/beancount/beancount/issues/400","repository_url":"https://api.github.com/repos/beancount/beancount","labels_url":"https://api.github.com/repos/beancount/beancount/issues/400/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beancount/issues/400/comments","events_url":"https://api.github.com/repos/beancount/beancount/issues/400/events","html_url":"https://github.com/beancount/beancount/issues/400","id":623377078,"node_id":"MDU6SXNzdWU2MjMzNzcwNzg=","number":400,"title":"bean-format splits ledger payee","user":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":2080914000,"node_id":"MDU6TGFiZWwyMDgwOTE0MDAw","url":"https://api.github.com/repos/beancount/beancount/labels/BUG","name":"BUG","color":"cc99cc","default":false,"description":"This is a bug, not a feature request; something isn't working."},{"id":2080994022,"node_id":"MDU6TGFiZWwyMDgwOTk0MDIy","url":"https://api.github.com/repos/beancount/beancount/labels/P2","name":"P2","color":"ffaaaa","default":false,"description":"Low priority, addressing would result in useful improvements"},{"id":2080994828,"node_id":"MDU6TGFiZWwyMDgwOTk0ODI4","url":"https://api.github.com/repos/beancount/beancount/labels/scripts","name":"scripts","color":"ededed","default":false,"description":"Component: Other scripts"}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":3,"created_at":"2019-07-29T14:17:46Z","updated_at":"2020-11-11T04:45:08Z","closed_at":"2020-11-11T04:45:08Z","author_association":"MEMBER","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"**[Original report](https://bitbucket.org/blais/beancount/issue/400) by Martin Michlmayr (Bitbucket: [tbm13](https://bitbucket.org/tbm13), GitHub: [tbm](https://github.com/tbm)).**\n\n----------------------------------------\n\n```\n2019-07-29 * This is a 100 EUR test payment\n    Expenses:Test             100.00 EUR\n    Assets:Bank              -100.00 EUR\n```\n\nends up as: \n\n```\nbean-format -w 30 d\n\n2019-07-29 * This is a              100 EUR test payment\n    Expenses:Test                100.00 EUR\n    Assets:Bank                 -100.00 EUR\n```\n\nThe “100 EUR” in the payee description is parsed as an amount.\n\nbean-format should ignore lines starting with ^\\[0-9\\] since that’s a transaction header in both ledger and beancount.\n","closed_by":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/beancount/beancount/issues/400/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beancount/issues/400/timeline","performed_via_github_app":null,"state_reason":"completed"},{"url":"https://api.github.com/repos/beancount/beancount/issues/399","repository_url":"https://api.github.com/repos/beancount/beancount","labels_url":"https://api.github.com/repos/beancount/beancount/issues/399/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beancount/issues/399/comments","events_url":"https://api.github.com/repos/beancount/beancount/issues/399/events","html_url":"https://github.com/beancount/beancount/issues/399","id":623377068,"node_id":"MDU6SXNzdWU2MjMzNzcwNjg=","number":399,"title":"bean-check should accept input from STDIN","user":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":2080994022,"node_id":"MDU6TGFiZWwyMDgwOTk0MDIy","url":"https://api.github.com/repos/beancount/beancount/labels/P2","name":"P2","color":"ffaaaa","default":false,"description":"Low priority, addressing would result in useful improvements"},{"id":2080994828,"node_id":"MDU6TGFiZWwyMDgwOTk0ODI4","url":"https://api.github.com/repos/beancount/beancount/labels/scripts","name":"scripts","color":"ededed","default":false,"description":"Component: Other scripts"}],"state":"open","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":0,"created_at":"2019-06-21T04:14:42Z","updated_at":"2020-05-23T13:15:47Z","closed_at":null,"author_association":"MEMBER","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"**[Original report](https://bitbucket.org/blais/beancount/issue/399) by Dave Singer (Bitbucket: [einarasoftware](https://bitbucket.org/einarasoftware)).**\n\n----------------------------------------\n\nHi Martin,\n\nI have conversion/import scripts generating beancount data programmatically and for testing these it would be very convenient if I could pipe their output straight into bean-check. At the moment I use a simple bash script to cat STDIN to a tmpfile then run bean-check on that. It works, but it would be nice to have this out of the box. Not urgent, but nice to have.\n","closed_by":null,"reactions":{"url":"https://api.github.com/repos/beancount/beancount/issues/399/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beancount/issues/399/timeline","performed_via_github_app":null,"state_reason":null},{"url":"https://api.github.com/repos/beancount/beancount/issues/398","repository_url":"https://api.github.com/repos/beancount/beancount","labels_url":"https://api.github.com/repos/beancount/beancount/issues/398/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beancount/issues/398/comments","events_url":"https://api.github.com/repos/beancount/beancount/issues/398/events","html_url":"https://github.com/beancount/beancount/issues/398","id":623377047,"node_id":"MDU6SXNzdWU2MjMzNzcwNDc=","number":398,"title":"Support logograms (like CJK characters) as account names.","user":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":2080994022,"node_id":"MDU6TGFiZWwyMDgwOTk0MDIy","url":"https://api.github.com/repos/beancount/beancount/labels/P2","name":"P2","color":"ffaaaa","default":false,"description":"Low priority, addressing would result in useful improvements"},{"id":2080995603,"node_id":"MDU6TGFiZWwyMDgwOTk1NjAz","url":"https://api.github.com/repos/beancount/beancount/labels/core-ops","name":"core-ops","color":"ededed","default":false,"description":"Component: Core data structures and stream ops"},{"id":2082671637,"node_id":"MDU6TGFiZWwyMDgyNjcxNjM3","url":"https://api.github.com/repos/beancount/beancount/labels/V3","name":"V3","color":"1762b2","default":false,"description":"Issues that will be addressed in the V3 C++ rewrite."}],"state":"open","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":7,"created_at":"2019-06-11T11:10:28Z","updated_at":"2024-11-05T14:55:09Z","closed_at":null,"author_association":"MEMBER","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"**[Original report](https://bitbucket.org/blais/beancount/issue/398) by Alex Hou (Bitbucket: [alex-hou](https://bitbucket.org/alex-hou), GitHub: [alex-hou](https://github.com/alex-hou)).**\n\n----------------------------------------\n\nAccording to beancount language syntax, account names should follow this rule:\n\n> Each component of the account names begin with a capital letter or a number and are followed letters, numbers or dash \\(-\\) characters. All other characters are disallowed.\n\nBut logograms \\(Chinese characters, Japanese hiragana and katakana, Korean alphabet, etc.\\) have no ‘capital letter’.\n\nPlease support these characters as account names.\n\n[http://www.programminginkorean.com/programming/hangul-in-unicode/](http://www.programminginkorean.com/programming/hangul-in-unicode/)\n\n> Hangul Syllables \\(AC00–D7A3\\)  \n> Hangul Jamo \\(1100–11FF\\)  \n> Hangul Compatibility Jamo \\(3130–318F\\)  \n> Hangul Jamo Extended-A \\(A960–A97F\\)  \n> Hangul Jamo Extended-B \\(D7B0–D7FF\\)\n\n[https://stackoverflow.com/a/30200250/4458143](https://stackoverflow.com/a/30200250/4458143)  \n[http://www.rikai.com/library/kanjitables/kanji\\_codes.unicode.shtml](http://www.rikai.com/library/kanjitables/kanji_codes.unicode.shtml)\n\n> Hiragana \\(3040 - 309F\\)  \n> Katakana \\(30A0 - 30FF\\)\n\n[https://en.wikipedia.org/wiki/Halfwidth\\_and\\_Fullwidth\\_Forms\\_\\(Unicode\\_block\\)](https://en.wikipedia.org/wiki/Halfwidth_and_Fullwidth_Forms_(Unicode_block))\n\n> halfwidth forms of compatibility jamo characters for Hangul \\(FFA0–FFDC\\)  \n> half-width katakana \\( FF65–FF9F \\)\n\n‌\n\n[https://stackoverflow.com/a/1366113/4458143](https://stackoverflow.com/a/1366113/4458143)  \n[https://en.wikipedia.org/wiki/CJK\\_Unified\\_Ideographs](https://en.wikipedia.org/wiki/CJK_Unified_Ideographs)\n\n```\nBlock                                      Range           Comment\nCJK Unified Ideographs                     4E00-9FFF       Common\nCJK Unified Ideographs Extension A         3400-4DBF       Rare\nCJK Unified Ideographs Extension B         20000-2A6DF     Rare, historic\nCJK Unified Ideographs Extension C         2A700–2B73F     Rare, historic\nCJK Unified Ideographs Extension D         2B740–2B81F     Uncommon, some in current use\nCJK Unified Ideographs Extension E         2B820–2CEAF     Rare, historic\nCJK Compatibility Ideographs               F900-FAFF       Duplicates, unifiable variants, corporate characters\nCJK Compatibility Ideographs Supplement    2F800-2FA1F     Unifiable variants\n```\n\nI’ve organized these unicode ranges:\n\n```python\nr'\\u1100-\\u11FF'    # Hangul Jamo\nr'\\u3040-\\u309F'    # Hiragana\nr'\\u30A0-\\u30FF'    # Katakana\nr'\\u3130-\\u318F'    # Hangul Compatibility Jamo\nr'\\u3400-\\u4DBF'    # CJK Unified Ideographs Extension A\nr'\\u4E00-\\u9FFF'    # CJK Unified Ideographs\nr'\\uA960-\\uA97F'    # Hangul Jamo Extended-A\nr'\\uAC00-\\uD7A3'    # Hangul Syllables\nr'\\uD7B0-\\uD7FF'    # Hangul Jamo Extended-B\nr'\\uF900-\\uFAFF'    # CJK Compatibility Ideographs\nr'\\uFF65-\\uFF9F'    # half-width katakana\nr'\\uFFA0-\\uFFDC'    # halfwidth forms of compatibility jamo characters for Hangul\nr'\\u20000-\\u2A6DF'  # CJK Unified Ideographs Extension B\nr'\\u2A700-\\u2B73F'  # CJK Unified Ideographs Extension C\nr'\\u2B740-\\u2B81F'  # CJK Unified Ideographs Extension D\nr'\\u2B820-\\u2CEAF'  # CJK Unified Ideographs Extension E\nr'\\u2F800-\\u2FA1F'  # CJK Compatibility Ideographs Supplement\n```\n","closed_by":null,"reactions":{"url":"https://api.github.com/repos/beancount/beancount/issues/398/reactions","total_count":2,"+1":2,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beancount/issues/398/timeline","performed_via_github_app":null,"state_reason":null},{"url":"https://api.github.com/repos/beancount/beancount/issues/397","repository_url":"https://api.github.com/repos/beancount/beancount","labels_url":"https://api.github.com/repos/beancount/beancount/issues/397/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beancount/issues/397/comments","events_url":"https://api.github.com/repos/beancount/beancount/issues/397/events","html_url":"https://github.com/beancount/beancount/issues/397","id":623377022,"node_id":"MDU6SXNzdWU2MjMzNzcwMjI=","number":397,"title":"Beancount should detect UTF-16/32 encoded input files from the BOM and exit gracefully (Was: example.beancount crashes process in parser.parse_file)","user":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":2080994022,"node_id":"MDU6TGFiZWwyMDgwOTk0MDIy","url":"https://api.github.com/repos/beancount/beancount/labels/P2","name":"P2","color":"ffaaaa","default":false,"description":"Low priority, addressing would result in useful improvements"},{"id":2080995647,"node_id":"MDU6TGFiZWwyMDgwOTk1NjQ3","url":"https://api.github.com/repos/beancount/beancount/labels/parser-loader","name":"parser-loader","color":"ededed","default":false,"description":"Component: Parser and loader"}],"state":"open","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":3,"created_at":"2019-06-07T05:09:25Z","updated_at":"2020-05-23T15:07:43Z","closed_at":null,"author_association":"MEMBER","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"**[Original report](https://bitbucket.org/blais/beancount/issue/397) by Evan Davis (Bitbucket: [ezdwt](https://bitbucket.org/ezdwt), GitHub: [ezdwt](https://github.com/ezdwt)).**\n\n----------------------------------------\n\nI generated the example.beancount file using `bean-example > example.beancount`. The file looks normal to me, though I’m new to beancount. Whenever I use the example file with beancount the Python process crashes. I tracked it down to parser.parse\\_file \\(see attached screenshot\\).\n\nOn Windows 8.1. Added my `pip freeze` below, let me know if there’s any other info I can provide to help debug.\n\n```\n(venv) PS > pip freeze\natomicwrites==1.3.0\nattrs==19.1.0\nBabel==2.7.0\nbackports.functools-lru-cache==1.5\nbeancount==2.2.1\nbeautifulsoup4==4.7.1\nbottle==0.12.16\ncachetools==3.1.1\ncertifi==2019.3.9\nchardet==3.0.4\ncheroot==6.5.5\nClick==7.0\ncolorama==0.4.1\nfava==1.10\nFlask==1.0.3\nFlask-Babel==0.12.2\ngoogle-api-python-client==1.7.9\ngoogle-auth==1.6.3\ngoogle-auth-httplib2==0.0.3\nhttplib2==0.13.0\nidna==2.8\nimportlib-metadata==0.17\nitsdangerous==1.1.0\nJinja2==2.10.1\nlxml==4.3.3\nmarkdown2==2.3.8\nMarkupSafe==1.1.1\nmore-itertools==7.0.0\npackaging==19.0\npluggy==0.12.0\nply==3.11\npy==1.8.0\npyasn1==0.4.5\npyasn1-modules==0.2.5\npyparsing==2.4.0\npyreadline==2.1\npytest==4.6.2\npython-dateutil==2.8.0\npython-magic==0.4.15\npytz==2019.1\nrequests==2.22.0\nrsa==4.0\nsimplejson==3.16.0\nsix==1.12.0\nsoupsieve==1.9.1\nuritemplate==3.0.0\nurllib3==1.25.3\nwcwidth==0.1.7\nWerkzeug==0.15.4\nzipp==0.5.1\n```\n","closed_by":null,"reactions":{"url":"https://api.github.com/repos/beancount/beancount/issues/397/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beancount/issues/397/timeline","performed_via_github_app":null,"state_reason":null},{"url":"https://api.github.com/repos/beancount/beancount/issues/396","repository_url":"https://api.github.com/repos/beancount/beancount","labels_url":"https://api.github.com/repos/beancount/beancount/issues/396/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beancount/issues/396/comments","events_url":"https://api.github.com/repos/beancount/beancount/issues/396/events","html_url":"https://github.com/beancount/beancount/issues/396","id":623376991,"node_id":"MDU6SXNzdWU2MjMzNzY5OTE=","number":396,"title":"Allow \"balance\" check directives against non-leaf accounts","user":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":2080994022,"node_id":"MDU6TGFiZWwyMDgwOTk0MDIy","url":"https://api.github.com/repos/beancount/beancount/labels/P2","name":"P2","color":"ffaaaa","default":false,"description":"Low priority, addressing would result in useful improvements"},{"id":2081000893,"node_id":"MDU6TGFiZWwyMDgxMDAwODkz","url":"https://api.github.com/repos/beancount/beancount/labels/plugins","name":"plugins","color":"ededed","default":false,"description":"Component: Plug-ins"}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":0,"created_at":"2019-05-27T02:22:25Z","updated_at":"2025-01-19T21:50:21Z","closed_at":"2025-01-19T21:50:21Z","author_association":"MEMBER","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"**[Original report](https://bitbucket.org/blais/beancount/issue/396) by Denys Kurylenko (Bitbucket: [dkurilenko](https://bitbucket.org/dkurilenko)).**\n\n----------------------------------------\n\nAllow \"balance\" check directives against non-leaf accounts when leafonly plugin is enabled.\n\nUse case: when someone starts and don’t want to let's say import entire history of Paychecks for the given year, but rather imports YTD numbers. Paychecks conveniently have GROSS YTD amount, one can use it to reconcile that all numbers are entered properly.\n\n‌\n\n```shell\n2019-05-03 * \"Hooli 2019 YTD Payroll\"\n  Income:US:Hooli:AnnualBonus              -2,000.00 USD\n  Income:US:Hooli:GroupTermLife               -24.64 USD\n  Income:US:Hooli:Salary                   -9,126.89 USD\n  Equity:Retained-Earnings                  9,126.89 USD\n\n; reconcile agains YTD/Gross\n2019-05-24 balance Income:US:Hooli       -9,126.89 USD\n```\n\nOne option is to reconcile against generic `Equity:Retained-Earnings` , however it might already have earnings from another employer.\n","closed_by":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/beancount/beancount/issues/396/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beancount/issues/396/timeline","performed_via_github_app":null,"state_reason":"completed"},{"url":"https://api.github.com/repos/beancount/beancount/issues/393","repository_url":"https://api.github.com/repos/beancount/beancount","labels_url":"https://api.github.com/repos/beancount/beancount/issues/393/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beancount/issues/393/comments","events_url":"https://api.github.com/repos/beancount/beancount/issues/393/events","html_url":"https://github.com/beancount/beancount/issues/393","id":623376921,"node_id":"MDU6SXNzdWU2MjMzNzY5MjE=","number":393,"title":"Use ISO 8601 date format for ledger export","user":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":2080994022,"node_id":"MDU6TGFiZWwyMDgwOTk0MDIy","url":"https://api.github.com/repos/beancount/beancount/labels/P2","name":"P2","color":"ffaaaa","default":false,"description":"Low priority, addressing would result in useful improvements"},{"id":2080996004,"node_id":"MDU6TGFiZWwyMDgwOTk2MDA0","url":"https://api.github.com/repos/beancount/beancount/labels/reports","name":"reports","color":"ededed","default":false,"description":"Component: Canned reports"}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":13,"created_at":"2019-05-05T13:00:27Z","updated_at":"2019-05-10T21:03:45Z","closed_at":"2019-05-05T19:06:13Z","author_association":"MEMBER","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"**[Original report](https://bitbucket.org/blais/beancount/issue/393) by Alen Šiljak (Bitbucket: Alen Siljak, GitHub: [MisterY](https://github.com/MisterY)).**\n\n----------------------------------------\n\nSince ledger supports ISO date format, perhaps changing the default date format to ISO would be convenient? Help push the standardization. :slight_smile: \n\nAsh a workaround, is there a way to customize the date format for `bean-report ledger`output?\n","closed_by":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/beancount/beancount/issues/393/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beancount/issues/393/timeline","performed_via_github_app":null,"state_reason":"completed"},{"url":"https://api.github.com/repos/beancount/beancount/issues/392","repository_url":"https://api.github.com/repos/beancount/beancount","labels_url":"https://api.github.com/repos/beancount/beancount/issues/392/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beancount/issues/392/comments","events_url":"https://api.github.com/repos/beancount/beancount/issues/392/events","html_url":"https://github.com/beancount/beancount/issues/392","id":623376906,"node_id":"MDU6SXNzdWU2MjMzNzY5MDY=","number":392,"title":"Throw an error when ignored options are used in imported files (was: Booking method not applied when used in included file)","user":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":2080914000,"node_id":"MDU6TGFiZWwyMDgwOTE0MDAw","url":"https://api.github.com/repos/beancount/beancount/labels/BUG","name":"BUG","color":"cc99cc","default":false,"description":"This is a bug, not a feature request; something isn't working."},{"id":2080995647,"node_id":"MDU6TGFiZWwyMDgwOTk1NjQ3","url":"https://api.github.com/repos/beancount/beancount/labels/parser-loader","name":"parser-loader","color":"ededed","default":false,"description":"Component: Parser and loader"},{"id":2080996667,"node_id":"MDU6TGFiZWwyMDgwOTk2NjY3","url":"https://api.github.com/repos/beancount/beancount/labels/P0","name":"P0","color":"ff0000","default":false,"description":"Critical priority, breaking changes to current version"}],"state":"open","locked":false,"assignee":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"assignees":[{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false}],"milestone":null,"comments":4,"created_at":"2019-05-05T09:03:46Z","updated_at":"2020-09-09T14:43:38Z","closed_at":null,"author_association":"MEMBER","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"**[Original report](https://bitbucket.org/blais/beancount/issue/392) by Alen Šiljak (Bitbucket: Alen Siljak, GitHub: [MisterY](https://github.com/MisterY)).**\n\n----------------------------------------\n\nWhen using the _include_ directive \\(in split.book.bean\\) with options file \\(split.options.bean\\) and journal file \\(split.ledger.bean\\), the booking method does not get applied.\n\nThe diagnosis is made with fava. In Options, it displays Booking.STRICT.  I’m not sure how to check this from the terminal.\n\nIs this by design or a bug? \\(I’d suspect a bug\\)\n\nAs per inclusion statements, the options file should be the first in the concatenated result, and the option should be on top so I’d expect it to be applied.\n\nNote that the operating currency from the same file, however, **does** get applied.\n","closed_by":null,"reactions":{"url":"https://api.github.com/repos/beancount/beancount/issues/392/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beancount/issues/392/timeline","performed_via_github_app":null,"state_reason":null},{"url":"https://api.github.com/repos/beancount/beancount/issues/391","repository_url":"https://api.github.com/repos/beancount/beancount","labels_url":"https://api.github.com/repos/beancount/beancount/issues/391/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beancount/issues/391/comments","events_url":"https://api.github.com/repos/beancount/beancount/issues/391/events","html_url":"https://github.com/beancount/beancount/issues/391","id":623376892,"node_id":"MDU6SXNzdWU2MjMzNzY4OTI=","number":391,"title":"Duplicate price directives causes plugins.unrealized to create double  \" U \" entries","user":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":2080914000,"node_id":"MDU6TGFiZWwyMDgwOTE0MDAw","url":"https://api.github.com/repos/beancount/beancount/labels/BUG","name":"BUG","color":"cc99cc","default":false,"description":"This is a bug, not a feature request; something isn't working."},{"id":2080994022,"node_id":"MDU6TGFiZWwyMDgwOTk0MDIy","url":"https://api.github.com/repos/beancount/beancount/labels/P2","name":"P2","color":"ffaaaa","default":false,"description":"Low priority, addressing would result in useful improvements"}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":1,"created_at":"2019-04-27T20:33:44Z","updated_at":"2019-04-27T21:00:41Z","closed_at":"2019-04-27T21:00:41Z","author_association":"MEMBER","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"**[Original report](https://bitbucket.org/blais/beancount/issue/391) by Adam Wolenc (Bitbucket: [adamdblu](https://bitbucket.org/adamdblu)).**\n\n----------------------------------------\n\nI noticed \"beancount.plugins.unrealized\" \"Unrealized\" was suddenly causing  double  \" U \" entries\nI took me while to figure out the cause:\nI had duplicate redundant price entries in the input file.\n\nExpected:\nan error message about the double price entries\nor\nan error message from the unrealized plugin \nor \nunrealized plugin silently picks one of the two price entries and does not create double entries for the same asset\n","closed_by":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/beancount/beancount/issues/391/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beancount/issues/391/timeline","performed_via_github_app":null,"state_reason":"completed"},{"url":"https://api.github.com/repos/beancount/beancount/issues/389","repository_url":"https://api.github.com/repos/beancount/beancount","labels_url":"https://api.github.com/repos/beancount/beancount/issues/389/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beancount/issues/389/comments","events_url":"https://api.github.com/repos/beancount/beancount/issues/389/events","html_url":"https://github.com/beancount/beancount/issues/389","id":623376861,"node_id":"MDU6SXNzdWU2MjMzNzY4NjE=","number":389,"title":"forecast plugin enhancement","user":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":2080994022,"node_id":"MDU6TGFiZWwyMDgwOTk0MDIy","url":"https://api.github.com/repos/beancount/beancount/labels/P2","name":"P2","color":"ffaaaa","default":false,"description":"Low priority, addressing would result in useful improvements"},{"id":2081000893,"node_id":"MDU6TGFiZWwyMDgxMDAwODkz","url":"https://api.github.com/repos/beancount/beancount/labels/plugins","name":"plugins","color":"ededed","default":false,"description":"Component: Plug-ins"}],"state":"open","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":2,"created_at":"2019-04-14T05:22:16Z","updated_at":"2020-05-23T13:15:47Z","closed_at":null,"author_association":"MEMBER","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"**[Original report](https://bitbucket.org/blais/beancount/issue/389) by Gary Starks (Bitbucket: [panixx](https://bitbucket.org/panixx), GitHub: [panixx](https://github.com/panixx)).**\n\n----------------------------------------\n\nAn attempt to enhance the forecast plugin to allow for YEARLY, MONTHLY, WEEKLY, and DAILY options. Also added the SKIP option to allow for setting up things like biweekly entries.\n\nSeems to work for me but could use more testing.\n\nAdded:  WEEKLY and DAILY options and SKIP option.\n","closed_by":null,"reactions":{"url":"https://api.github.com/repos/beancount/beancount/issues/389/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beancount/issues/389/timeline","performed_via_github_app":null,"state_reason":null},{"url":"https://api.github.com/repos/beancount/beancount/issues/388","repository_url":"https://api.github.com/repos/beancount/beancount","labels_url":"https://api.github.com/repos/beancount/beancount/issues/388/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beancount/issues/388/comments","events_url":"https://api.github.com/repos/beancount/beancount/issues/388/events","html_url":"https://github.com/beancount/beancount/issues/388","id":623376835,"node_id":"MDU6SXNzdWU2MjMzNzY4MzU=","number":388,"title":"Are unknown lines ignored or do they produce erros","user":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":2080914000,"node_id":"MDU6TGFiZWwyMDgwOTE0MDAw","url":"https://api.github.com/repos/beancount/beancount/labels/BUG","name":"BUG","color":"cc99cc","default":false,"description":"This is a bug, not a feature request; something isn't working."},{"id":2080994777,"node_id":"MDU6TGFiZWwyMDgwOTk0Nzc3","url":"https://api.github.com/repos/beancount/beancount/labels/P1","name":"P1","color":"ff6666","default":false,"description":"High priority, not breaking but hindering or lessening existing functionality"},{"id":2081000198,"node_id":"MDU6TGFiZWwyMDgxMDAwMTk4","url":"https://api.github.com/repos/beancount/beancount/labels/documentation","name":"documentation","color":"ededed","default":true,"description":"Component: Improvements or additions to documentation"}],"state":"open","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":2,"created_at":"2019-04-12T14:28:36Z","updated_at":"2019-10-14T08:55:13Z","closed_at":null,"author_association":"MEMBER","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"**[Original report](https://bitbucket.org/blais/beancount/issue/388) by Martin Michlmayr (Bitbucket: [tbm13](https://bitbucket.org/tbm13), GitHub: [tbm](https://github.com/tbm)).**\n\n----------------------------------------\n\nJonathan Corbet reviewed [beancount on LWN](https://lwn.net/SubscriberLink/785553/39167e23980e7e4c/):\n\n\"It is also worth noting that beancount explicitly ignores any lines in the file that it doesn't recognize. The apparent purpose of this feature is to allow other types of markup in the file; the ability to manage it with the Emacs Org mode is said to be especially gratifying. But this behavior can also make it easy for mistakes to pass unnoticed. Similar behavior in cron has led to security vulnerabilities in the past. Your editor would feel much better knowing that a corrupted beancount file would not escape notice.\"\n\nI wondered if that's true and Jonathan [referred to the manual](https://docs.google.com/document/d/1wAMVrKIA2qtRGmoVDSUBJGmYZSygUaR0uOMW1GV3YE0/edit#heading=h.9zjhwskw53j8) which says \"Any line that does not begin as a valid Beancount syntax directive (e.g. with a date) is silently ignored\".\n\nIt seems like the manual is wrong because:\n\n    echo foo > x\n    bean-check x\n    ..../x:1:       Invalid token: 'foo'\n\nCan you clarify, and if necessary, update the manual?\n\nFWIW, beancount's syntax is stricter in many ways than ledger (where some unknown lines are ignored) and I agree with Jonathan that anything unknown should result in an error.\n","closed_by":null,"reactions":{"url":"https://api.github.com/repos/beancount/beancount/issues/388/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beancount/issues/388/timeline","performed_via_github_app":null,"state_reason":null},{"url":"https://api.github.com/repos/beancount/beancount/issues/387","repository_url":"https://api.github.com/repos/beancount/beancount","labels_url":"https://api.github.com/repos/beancount/beancount/issues/387/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beancount/issues/387/comments","events_url":"https://api.github.com/repos/beancount/beancount/issues/387/events","html_url":"https://github.com/beancount/beancount/issues/387","id":623376817,"node_id":"MDU6SXNzdWU2MjMzNzY4MTc=","number":387,"title":"Treeify does not work with account names that start with a number","user":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":2080914000,"node_id":"MDU6TGFiZWwyMDgwOTE0MDAw","url":"https://api.github.com/repos/beancount/beancount/labels/BUG","name":"BUG","color":"cc99cc","default":false,"description":"This is a bug, not a feature request; something isn't working."},{"id":2080994022,"node_id":"MDU6TGFiZWwyMDgwOTk0MDIy","url":"https://api.github.com/repos/beancount/beancount/labels/P2","name":"P2","color":"ffaaaa","default":false,"description":"Low priority, addressing would result in useful improvements"},{"id":2080996004,"node_id":"MDU6TGFiZWwyMDgwOTk2MDA0","url":"https://api.github.com/repos/beancount/beancount/labels/reports","name":"reports","color":"ededed","default":false,"description":"Component: Canned reports"}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":1,"created_at":"2019-04-10T09:40:46Z","updated_at":"2026-01-25T19:11:55Z","closed_at":"2026-01-25T19:11:55Z","author_association":"MEMBER","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"**[Original report](https://bitbucket.org/blais/beancount/issue/387) by Megg Gawat (Bitbucket: [justmegawatt](https://bitbucket.org/justmegawatt), GitHub: [justmegawatt](https://github.com/justmegawatt)).**\n\n----------------------------------------\n\nSay I have two accounts:\n\n    2019-04-10 open Assets:Retirement:401k:CASH\n    2019-04-10 open Assets:Retirement:401k:STOCK\n\nIf I run this through Treeify it will show this:\n\n    Assets:Retirement:401k:CASH   2019-04-10  \n    Assets:Retirement:401k:STOCK  2019-04-10  \n\n\nBut if I add an \"I\" in front of the 401ks to turn them into:\n\n    2019-04-10 open Assets:Retirement:I401k:CASH\n    2019-04-10 open Assets:Retirement:I401k:STOCK\n\nit is working as intended:\n\n    `-- Assets\n        `-- Retirement\n            `-- I401k\n                |-- CASH           2019-04-10\n                `-- STOCK          2019-04-10\n","closed_by":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/beancount/beancount/issues/387/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beancount/issues/387/timeline","performed_via_github_app":null,"state_reason":"completed"},{"url":"https://api.github.com/repos/beancount/beancount/issues/386","repository_url":"https://api.github.com/repos/beancount/beancount","labels_url":"https://api.github.com/repos/beancount/beancount/issues/386/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beancount/issues/386/comments","events_url":"https://api.github.com/repos/beancount/beancount/issues/386/events","html_url":"https://github.com/beancount/beancount/issues/386","id":623376797,"node_id":"MDU6SXNzdWU2MjMzNzY3OTc=","number":386,"title":"beancount returns with exit code 0 even on error","user":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":2080914000,"node_id":"MDU6TGFiZWwyMDgwOTE0MDAw","url":"https://api.github.com/repos/beancount/beancount/labels/BUG","name":"BUG","color":"cc99cc","default":false,"description":"This is a bug, not a feature request; something isn't working."},{"id":2080994777,"node_id":"MDU6TGFiZWwyMDgwOTk0Nzc3","url":"https://api.github.com/repos/beancount/beancount/labels/P1","name":"P1","color":"ff6666","default":false,"description":"High priority, not breaking but hindering or lessening existing functionality"}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":5,"created_at":"2019-04-01T22:36:27Z","updated_at":"2019-04-04T14:22:27Z","closed_at":"2019-04-02T22:28:42Z","author_association":"MEMBER","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"**[Original report](https://bitbucket.org/blais/beancount/issue/386) by Jannik Winkel (Bitbucket: [kineyDE](https://bitbucket.org/kineyDE), GitHub: [kiney](https://github.com/kiney)).**\n\n----------------------------------------\n\nwhen everything is correct:\nbean-report vtth.beancount check\necho $?\n0\n\n-> ok\n\nbut when I introduce an error its still 0:\nbean-report vtth.beancount check\n/home/kiney/dev/beancount-vtth/vtth.beancount:45:      Transaction does not balance: (-0.01 EUR)\n[transaction]\necho $?\n0\n","closed_by":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/beancount/beancount/issues/386/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beancount/issues/386/timeline","performed_via_github_app":null,"state_reason":"completed"},{"url":"https://api.github.com/repos/beancount/beancount/issues/385","repository_url":"https://api.github.com/repos/beancount/beancount","labels_url":"https://api.github.com/repos/beancount/beancount/issues/385/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beancount/issues/385/comments","events_url":"https://api.github.com/repos/beancount/beancount/issues/385/events","html_url":"https://github.com/beancount/beancount/issues/385","id":623376769,"node_id":"MDU6SXNzdWU2MjMzNzY3Njk=","number":385,"title":"docstring for stable_hash_namedtuple() strange","user":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":2080914000,"node_id":"MDU6TGFiZWwyMDgwOTE0MDAw","url":"https://api.github.com/repos/beancount/beancount/labels/BUG","name":"BUG","color":"cc99cc","default":false,"description":"This is a bug, not a feature request; something isn't working."},{"id":2080994022,"node_id":"MDU6TGFiZWwyMDgwOTk0MDIy","url":"https://api.github.com/repos/beancount/beancount/labels/P2","name":"P2","color":"ffaaaa","default":false,"description":"Low priority, addressing would result in useful improvements"},{"id":2080995603,"node_id":"MDU6TGFiZWwyMDgwOTk1NjAz","url":"https://api.github.com/repos/beancount/beancount/labels/core-ops","name":"core-ops","color":"ededed","default":false,"description":"Component: Core data structures and stream ops"}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":1,"created_at":"2019-03-30T14:02:24Z","updated_at":"2019-04-03T00:50:52Z","closed_at":"2019-04-03T00:50:52Z","author_association":"MEMBER","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"**[Original report](https://bitbucket.org/blais/beancount/issue/385) by Martin Michlmayr (Bitbucket: [tbm13](https://bitbucket.org/tbm13), GitHub: [tbm](https://github.com/tbm)).**\n\n----------------------------------------\n\ndef stable_hash_namedtuple(objtuple, ignore=frozenset()):\n        \"\"\"Hash the given namedtuple and its child fields.\n    \n        The hash_obj is updated. This iterates over all the members of objtuple,\n\n\"The hash_obj is updated.\" doesn't seem to make sense.\n","closed_by":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/beancount/beancount/issues/385/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beancount/issues/385/timeline","performed_via_github_app":null,"state_reason":"completed"},{"url":"https://api.github.com/repos/beancount/beancount/issues/384","repository_url":"https://api.github.com/repos/beancount/beancount","labels_url":"https://api.github.com/repos/beancount/beancount/issues/384/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beancount/issues/384/comments","events_url":"https://api.github.com/repos/beancount/beancount/issues/384/events","html_url":"https://github.com/beancount/beancount/issues/384","id":623376732,"node_id":"MDU6SXNzdWU2MjMzNzY3MzI=","number":384,"title":"Rounding errors when specifying full price via @@ command","user":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":2080914000,"node_id":"MDU6TGFiZWwyMDgwOTE0MDAw","url":"https://api.github.com/repos/beancount/beancount/labels/BUG","name":"BUG","color":"cc99cc","default":false,"description":"This is a bug, not a feature request; something isn't working."},{"id":2080994022,"node_id":"MDU6TGFiZWwyMDgwOTk0MDIy","url":"https://api.github.com/repos/beancount/beancount/labels/P2","name":"P2","color":"ffaaaa","default":false,"description":"Low priority, addressing would result in useful improvements"}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":8,"created_at":"2019-03-27T09:23:03Z","updated_at":"2019-04-12T11:58:14Z","closed_at":"2019-04-10T02:11:43Z","author_association":"MEMBER","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"**[Original report](https://bitbucket.org/blais/beancount/issue/384) by Evgeny Burmistrov (Bitbucket: [tiraelsedai](https://bitbucket.org/tiraelsedai), GitHub: [tiraelsedai](https://github.com/tiraelsedai)).**\n\n----------------------------------------\n\nHi. Here are three methods to show I've bought some:\n\n2019-03-03 * \"Bought some Euro cash\"\n\n    Assets:Cash    900 EUR\n\n    Assets:Cash     -67455 RUB @@ 900 EUR\n\nTransaction does not balance: (-0.0000000000000000000000002 EUR)\n\nWith enough precision, @ command works correctly both ways:\n\n2019-03-03 * \"Bought some Euro cash\"\n\n    Assets:Cash    900 EUR @ 74.95 RUB\n\n    Assets:Cash     -67455 RUB\n\nOR\n\n2019-03-03 * \"Bought some Euro cash\"\n\n    Assets:Cash    900 EUR\n\n    Assets:Cash     -67455 RUB @ 0.0133422281521014009339559706471 EUR\n","closed_by":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/beancount/beancount/issues/384/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beancount/issues/384/timeline","performed_via_github_app":null,"state_reason":"completed"},{"url":"https://api.github.com/repos/beancount/beancount/issues/382","repository_url":"https://api.github.com/repos/beancount/beancount","labels_url":"https://api.github.com/repos/beancount/beancount/issues/382/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beancount/issues/382/comments","events_url":"https://api.github.com/repos/beancount/beancount/issues/382/events","html_url":"https://github.com/beancount/beancount/issues/382","id":623376698,"node_id":"MDU6SXNzdWU2MjMzNzY2OTg=","number":382,"title":"FR: basis-adjusting postings","user":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":2080994022,"node_id":"MDU6TGFiZWwyMDgwOTk0MDIy","url":"https://api.github.com/repos/beancount/beancount/labels/P2","name":"P2","color":"ffaaaa","default":false,"description":"Low priority, addressing would result in useful improvements"},{"id":2081004612,"node_id":"MDU6TGFiZWwyMDgxMDA0NjEy","url":"https://api.github.com/repos/beancount/beancount/labels/booking","name":"booking","color":"ededed","default":false,"description":"Component: Booking algorithms"}],"state":"open","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":7,"created_at":"2019-03-23T06:33:43Z","updated_at":"2020-05-23T13:15:47Z","closed_at":null,"author_association":"MEMBER","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"**[Original report](https://bitbucket.org/blais/beancount/issue/382) by Jonathan Tomer (Bitbucket: [jktomer](https://bitbucket.org/jktomer), GitHub: [jktomer](https://github.com/jktomer)).**\n\n----------------------------------------\n\nFor many assets held at cost -- namely, securities, possibly the most common kind of cost-based asset most beancount users care about -- the cost basis is an important part of the identity of the asset, and doesn't change over time.\n\nFor other kinds of asset -- in my case, the one I care about is a house, but any fixed asset has this issue -- cost basis changes frequently (with improvements, depreciation, etc.) and tracking the change in cost basis over time (and at final disposition, to compute gains) is important. In particular I'd like to be able to write things like\n\n```\n2009-07-07 * \"\" \"bought house\"\n  Assets:House 1 HOUSE { 500000.00 USD }\n  Liabilities:Mortgage\n\n2010-03-02 * \"Bob's Building LLC\" \"finished the basement\"\n  Assets:House 1 HOUSE { += 15000.00 USD } ;; or whatever\n  Assets:Checking\n\n2017-09-30 * \"\" \"sold house\"\n  Assets:House                           -1 HOUSE {}\n  Expenses:Taxes                   15000.00 USD\n  Expenses:House:Commission        60000.00 USD\n  Liabilities:Mortgage            346292.63 USD\n  Assets:Checking                 578707.37 USD\n  Income:House:Capital-Gains\n```\n\nand have the capital gains income reflect the actual gains on the house, counting for all the things that have affected its basis since the original purchase. Right now doing that requires painstakingly tracking and recalculating the basis each time I want to update it, so I can have transactions like\n\n```\n2010-03-02 * \"Bob's Building LLC\" \"finished the basement\"\n  Assets:House -1 HOUSE {}\n  Assets:House 1 HOUSE { 515000.00 USD }\n  Assets:Checking\n```\n\nwhich feels error-prone and tedious.\n\nIn this example, the syntax for modifying the basis didn't need to include anything for looking up the lot to adjust, but presumably the syntax would need to support that, e.g.\n\n`1 FOO { 2016-03-02, \"ref-001\" += 0.04 USD }`\n\nwould mean \"adjust the basis of 1 FOO bought 2016-03-02 with tag ref-001 up by 0.04 USD\" etc.\n","closed_by":null,"reactions":{"url":"https://api.github.com/repos/beancount/beancount/issues/382/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beancount/issues/382/timeline","performed_via_github_app":null,"state_reason":null},{"url":"https://api.github.com/repos/beancount/beancount/issues/381","repository_url":"https://api.github.com/repos/beancount/beancount","labels_url":"https://api.github.com/repos/beancount/beancount/issues/381/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beancount/issues/381/comments","events_url":"https://api.github.com/repos/beancount/beancount/issues/381/events","html_url":"https://github.com/beancount/beancount/issues/381","id":623376660,"node_id":"MDU6SXNzdWU2MjMzNzY2NjA=","number":381,"title":"Missing trailing zero causes wrong amount to be inferred/interpolated","user":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":2080914000,"node_id":"MDU6TGFiZWwyMDgwOTE0MDAw","url":"https://api.github.com/repos/beancount/beancount/labels/BUG","name":"BUG","color":"cc99cc","default":false,"description":"This is a bug, not a feature request; something isn't working."},{"id":2080994777,"node_id":"MDU6TGFiZWwyMDgwOTk0Nzc3","url":"https://api.github.com/repos/beancount/beancount/labels/P1","name":"P1","color":"ff6666","default":false,"description":"High priority, not breaking but hindering or lessening existing functionality"}],"state":"open","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":0,"created_at":"2019-03-19T18:41:06Z","updated_at":"2019-03-19T18:41:06Z","closed_at":null,"author_association":"MEMBER","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"**[Original report](https://bitbucket.org/blais/beancount/issue/381) by Jani (Bitbucket: [Jani](https://bitbucket.org/Jani), GitHub: [Jani](https://github.com/Jani)).**\n\n----------------------------------------\n\nConsired the following example:\n\n```\noption \"operating_currency\" \"EUR\"\n\n1970-01-01 open Expenses:A EUR\n1970-01-01 open Expenses:B EUR\n1970-01-01 open Income:C EUR\n\n1970-01-02 * \"Testing\" \"\"\n    Expenses:A                                        48.1 EUR\n    Expenses:B                                       17.49 EUR\n    Income:C\n```\n\nFor example `bean-report` reports the amount for `Income:C` wrongly:\n\n```\n> bean-report test.ledger print\nbeancount/core/number.py:53: UserWarning: Fast C decimal implementation appears to be missing; Consider installing cdecimal\n  warnings.warn(\"Fast C decimal implementation appears to be missing; \"\n1970-01-01 open Expenses:A                                      EUR\n1970-01-01 open Expenses:B                                      EUR\n1970-01-01 open Income:C                                        EUR\n\n1970-01-02 * \"Testing\" \"\"\n  Expenses:A   48.1 EUR\n  Expenses:B  17.49 EUR\n  Income:C    -65.6 EUR\n```\n\nAlso the `Posting` object contains `-65.6` in my plugin as the amount, and this is where I actually noticed the problem. After I'm doing some expense splitting in my plugin, `beancount` starts giving me warnings that the transaction does not balance even if it should.\n\nAny ideas?\n\nThis bug might be a duplicate, but I couldn't follow the other bugs, but so I opened a new one.\n\nAs a workaround, switching `48.1` to `48.10` fixes this problem.\n","closed_by":null,"reactions":{"url":"https://api.github.com/repos/beancount/beancount/issues/381/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beancount/issues/381/timeline","performed_via_github_app":null,"state_reason":null},{"url":"https://api.github.com/repos/beancount/beancount/issues/379","repository_url":"https://api.github.com/repos/beancount/beancount","labels_url":"https://api.github.com/repos/beancount/beancount/issues/379/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beancount/issues/379/comments","events_url":"https://api.github.com/repos/beancount/beancount/issues/379/events","html_url":"https://github.com/beancount/beancount/issues/379","id":623376618,"node_id":"MDU6SXNzdWU2MjMzNzY2MTg=","number":379,"title":"parser allows narration split over multiple lines","user":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":2080914000,"node_id":"MDU6TGFiZWwyMDgwOTE0MDAw","url":"https://api.github.com/repos/beancount/beancount/labels/BUG","name":"BUG","color":"cc99cc","default":false,"description":"This is a bug, not a feature request; something isn't working."},{"id":2080994777,"node_id":"MDU6TGFiZWwyMDgwOTk0Nzc3","url":"https://api.github.com/repos/beancount/beancount/labels/P1","name":"P1","color":"ff6666","default":false,"description":"High priority, not breaking but hindering or lessening existing functionality"},{"id":2080995647,"node_id":"MDU6TGFiZWwyMDgwOTk1NjQ3","url":"https://api.github.com/repos/beancount/beancount/labels/parser-loader","name":"parser-loader","color":"ededed","default":false,"description":"Component: Parser and loader"}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":5,"created_at":"2019-02-28T17:32:54Z","updated_at":"2019-03-03T20:41:04Z","closed_at":"2019-02-28T22:56:31Z","author_association":"MEMBER","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"**[Original report](https://bitbucket.org/blais/beancount/issue/379) by Martin Michlmayr (Bitbucket: [tbm13](https://bitbucket.org/tbm13), GitHub: [tbm](https://github.com/tbm)).**\n\n----------------------------------------\n\nbean-check reports no problem with this transaction:\n```\n2019-02-28 * \"Foo\\\"\n  Assets:A             10.00 EUR\n  Assets:B            -10.00 EUR\n```\n\nbut clearly it doesn't parse it correctly:\n\n```\nbean-query x 'select *'\n(empty)\n```\n\nThis on the other hand leads to `Invalid token: 'bar\"'`:\n\n```\n2019-02-28 * \"Foo\\\"\n  foo: \"bar\"\n  Assets:A             10.00 EUR\n  Assets:B            -10.00 EUR\n```\n\nHmm, so it seems I can split the narration over multiple lines:\n\n```\n2019-02-28 * \"Foo\\\"\nbar\"\n  Assets:A             10.00 EUR\n  Assets:B            -10.00 EUR\n```\n\nIs this really intended?\n","closed_by":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/beancount/beancount/issues/379/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beancount/issues/379/timeline","performed_via_github_app":null,"state_reason":"completed"},{"url":"https://api.github.com/repos/beancount/beancount/issues/378","repository_url":"https://api.github.com/repos/beancount/beancount","labels_url":"https://api.github.com/repos/beancount/beancount/issues/378/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beancount/issues/378/comments","events_url":"https://api.github.com/repos/beancount/beancount/issues/378/events","html_url":"https://github.com/beancount/beancount/issues/378","id":623376596,"node_id":"MDU6SXNzdWU2MjMzNzY1OTY=","number":378,"title":"Empty metadata value leads to bean-check traceback","user":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":2080914000,"node_id":"MDU6TGFiZWwyMDgwOTE0MDAw","url":"https://api.github.com/repos/beancount/beancount/labels/BUG","name":"BUG","color":"cc99cc","default":false,"description":"This is a bug, not a feature request; something isn't working."},{"id":2080994022,"node_id":"MDU6TGFiZWwyMDgwOTk0MDIy","url":"https://api.github.com/repos/beancount/beancount/labels/P2","name":"P2","color":"ffaaaa","default":false,"description":"Low priority, addressing would result in useful improvements"},{"id":2080995603,"node_id":"MDU6TGFiZWwyMDgwOTk1NjAz","url":"https://api.github.com/repos/beancount/beancount/labels/core-ops","name":"core-ops","color":"ededed","default":false,"description":"Component: Core data structures and stream ops"}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":3,"created_at":"2019-02-28T17:09:41Z","updated_at":"2019-03-03T21:49:21Z","closed_at":"2019-03-03T21:49:21Z","author_association":"MEMBER","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"**[Original report](https://bitbucket.org/blais/beancount/issue/378) by Martin Michlmayr (Bitbucket: [tbm13](https://bitbucket.org/tbm13), GitHub: [tbm](https://github.com/tbm)).**\n\n----------------------------------------\n\n```\nTraceback (most recent call last):\n  File \"/home/tbm/.local/bin/bean-check\", line 6, in <module>\n    sys.exit(main())\n  File \"/home/tbm/.local/lib/python3.7/site-packages/beancount/scripts/check.py\", line 40, in main\n    extra_validations=validation.HARDCORE_VALIDATIONS)\n  File \"/home/tbm/.local/lib/python3.7/site-packages/beancount/loader.py\", line 90, in load_file\n    _log_errors(errors, log_errors)\n  File \"/home/tbm/.local/lib/python3.7/site-packages/beancount/loader.py\", line 128, in _log_errors\n    printer.print_errors(errors, file=log_errors)\n  File \"/home/tbm/.local/lib/python3.7/site-packages/beancount/parser/printer.py\", line 444, in print_errors\n    output.write(format_error(error))\n  File \"/home/tbm/.local/lib/python3.7/site-packages/beancount/parser/printer.py\", line 414, in format_error\n    error_string = '\\n'.join(format_entry(entry) for entry in entries)\n  File \"/home/tbm/.local/lib/python3.7/site-packages/beancount/parser/printer.py\", line 414, in <genexpr>\n    error_string = '\\n'.join(format_entry(entry) for entry in entries)\n  File \"/home/tbm/.local/lib/python3.7/site-packages/beancount/parser/printer.py\", line 339, in format_entry\n    return EntryPrinter(dcontext, render_weights)(entry)\n  File \"/home/tbm/.local/lib/python3.7/site-packages/beancount/parser/printer.py\", line 117, in __call__\n    method(obj, oss)\n  File \"/home/tbm/.local/lib/python3.7/site-packages/beancount/parser/printer.py\", line 203, in Transaction\n    self.write_metadata(posting.meta, oss, '    ')\n  File \"/home/tbm/.local/lib/python3.7/site-packages/beancount/parser/printer.py\", line 143, in write_metadata\n    raise ValueError(\"Unexpected value: '{!r}'\".format(value))\nValueError: Unexpected value: 'None'\n```\n\nInput file:\n\n```\n;2019-01-01 open Assets:A\n;2019-01-01 open Assets:B\n\n2019-02-28 txn \"Test\"\n  Assets:A                       10.00 USD\n  Assets:B                      -10.00 USD\n  foo:\n```\n\n(The accounts must not be declared; if they are declared, it works)\n\nCommand:\n\n    bean-check d\n","closed_by":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/beancount/beancount/issues/378/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beancount/issues/378/timeline","performed_via_github_app":null,"state_reason":"completed"},{"url":"https://api.github.com/repos/beancount/beancount/issues/377","repository_url":"https://api.github.com/repos/beancount/beancount","labels_url":"https://api.github.com/repos/beancount/beancount/issues/377/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beancount/issues/377/comments","events_url":"https://api.github.com/repos/beancount/beancount/issues/377/events","html_url":"https://github.com/beancount/beancount/issues/377","id":623376584,"node_id":"MDU6SXNzdWU2MjMzNzY1ODQ=","number":377,"title":"account_types.is_root_account() needs update for UTF-8","user":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":2080914000,"node_id":"MDU6TGFiZWwyMDgwOTE0MDAw","url":"https://api.github.com/repos/beancount/beancount/labels/BUG","name":"BUG","color":"cc99cc","default":false,"description":"This is a bug, not a feature request; something isn't working."},{"id":2080994022,"node_id":"MDU6TGFiZWwyMDgwOTk0MDIy","url":"https://api.github.com/repos/beancount/beancount/labels/P2","name":"P2","color":"ffaaaa","default":false,"description":"Low priority, addressing would result in useful improvements"},{"id":2080995603,"node_id":"MDU6TGFiZWwyMDgwOTk1NjAz","url":"https://api.github.com/repos/beancount/beancount/labels/core-ops","name":"core-ops","color":"ededed","default":false,"description":"Component: Core data structures and stream ops"}],"state":"open","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":0,"created_at":"2019-02-27T02:19:41Z","updated_at":"2019-02-27T02:19:41Z","closed_at":null,"author_association":"MEMBER","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"**[Original report](https://bitbucket.org/blais/beancount/issue/377) by Martin Michlmayr (Bitbucket: [tbm13](https://bitbucket.org/tbm13), GitHub: [tbm](https://github.com/tbm)).**\n\n----------------------------------------\n\nbeancount nowadays allows UTF-8 in the account type.\n\nbeancount/core/account.py defines:\n\n    ACC_COMP_TYPE_RE = regexp_utils.re_replace_unicode(r\"[\\p{Lu}][\\p{L}\\p{Nd}\\-]*\")\n\nHowever, account_types.is_root_account() has not been updated accordingly:\n\n                    bool(re.match(r'([A-Z][A-Za-z0-9\\-]+)$', account_name)))\n\n\nTest:\n\n    from beancount.core import account_types\n\n    print(account_types.is_root_account(\"Töst\"))\n\nwill print `False` but it should be `True`\n","closed_by":null,"reactions":{"url":"https://api.github.com/repos/beancount/beancount/issues/377/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beancount/issues/377/timeline","performed_via_github_app":null,"state_reason":null},{"url":"https://api.github.com/repos/beancount/beancount/issues/376","repository_url":"https://api.github.com/repos/beancount/beancount","labels_url":"https://api.github.com/repos/beancount/beancount/issues/376/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beancount/issues/376/comments","events_url":"https://api.github.com/repos/beancount/beancount/issues/376/events","html_url":"https://github.com/beancount/beancount/issues/376","id":623376572,"node_id":"MDU6SXNzdWU2MjMzNzY1NzI=","number":376,"title":"account.has_component() does not return boolean","user":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":2080914000,"node_id":"MDU6TGFiZWwyMDgwOTE0MDAw","url":"https://api.github.com/repos/beancount/beancount/labels/BUG","name":"BUG","color":"cc99cc","default":false,"description":"This is a bug, not a feature request; something isn't working."},{"id":2080994022,"node_id":"MDU6TGFiZWwyMDgwOTk0MDIy","url":"https://api.github.com/repos/beancount/beancount/labels/P2","name":"P2","color":"ffaaaa","default":false,"description":"Low priority, addressing would result in useful improvements"},{"id":2080995603,"node_id":"MDU6TGFiZWwyMDgwOTk1NjAz","url":"https://api.github.com/repos/beancount/beancount/labels/core-ops","name":"core-ops","color":"ededed","default":false,"description":"Component: Core data structures and stream ops"}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":1,"created_at":"2019-02-27T02:19:06Z","updated_at":"2025-07-23T08:09:45Z","closed_at":"2025-07-23T08:09:45Z","author_association":"MEMBER","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"**[Original report](https://bitbucket.org/blais/beancount/issue/376) by Martin Michlmayr (Bitbucket: [tbm13](https://bitbucket.org/tbm13), GitHub: [tbm](https://github.com/tbm)).**\n\n----------------------------------------\n\naccount.has_component() claims to return a boolean:\n\n    def has_component(account_name, component):\n        \"\"\"Return true if one of the account contains a given component.\n\nbut it doesn't:\n\n    from beancount.core import account\n\n    a = \"Assets:Test:Bar\"\n\n    print(account.has_component(a, 'Barx'))\n    print(account.has_component(a, 'Bar'))\n\nresults in:\n\n    None\n    <re.Match object; span=(11, 15), match=':Bar'>\n\nI'm not sure if this actually matters in practice but I think the docs should match reality (or vice versa ;)\n\nThis can be fixed by adding `bool()` around the return.\n\nThe same problem applies to account.parent_matcher().  Unfortunately I don't know the best way to solve it there.\n","closed_by":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/beancount/beancount/issues/376/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beancount/issues/376/timeline","performed_via_github_app":null,"state_reason":"completed"},{"url":"https://api.github.com/repos/beancount/beancount/issues/373","repository_url":"https://api.github.com/repos/beancount/beancount","labels_url":"https://api.github.com/repos/beancount/beancount/issues/373/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beancount/issues/373/comments","events_url":"https://api.github.com/repos/beancount/beancount/issues/373/events","html_url":"https://github.com/beancount/beancount/issues/373","id":623376516,"node_id":"MDU6SXNzdWU2MjMzNzY1MTY=","number":373,"title":"Make commodity directives required","user":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":2080994777,"node_id":"MDU6TGFiZWwyMDgwOTk0Nzc3","url":"https://api.github.com/repos/beancount/beancount/labels/P1","name":"P1","color":"ff6666","default":false,"description":"High priority, not breaking but hindering or lessening existing functionality"},{"id":2080995647,"node_id":"MDU6TGFiZWwyMDgwOTk1NjQ3","url":"https://api.github.com/repos/beancount/beancount/labels/parser-loader","name":"parser-loader","color":"ededed","default":false,"description":"Component: Parser and loader"}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":1,"created_at":"2019-02-03T02:19:06Z","updated_at":"2019-02-03T14:18:12Z","closed_at":"2019-02-03T14:18:13Z","author_association":"MEMBER","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"**[Original report](https://bitbucket.org/blais/beancount/issue/373) by Martin Michlmayr (Bitbucket: [tbm13](https://bitbucket.org/tbm13), GitHub: [tbm](https://github.com/tbm)).**\n\n----------------------------------------\n\nIn 2016 [Martin Blais asked whether the commodity directives should be required](https://groups.google.com/forum/#!searchin/beancount/Making$20Commodity$20directives$20required$3F|sort:date/beancount/RHaV16bXlJs/SYxbkYfTAQAJ) and the response was positive.\n","closed_by":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/beancount/beancount/issues/373/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beancount/issues/373/timeline","performed_via_github_app":null,"state_reason":"completed"},{"url":"https://api.github.com/repos/beancount/beancount/issues/371","repository_url":"https://api.github.com/repos/beancount/beancount","labels_url":"https://api.github.com/repos/beancount/beancount/issues/371/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beancount/issues/371/comments","events_url":"https://api.github.com/repos/beancount/beancount/issues/371/events","html_url":"https://github.com/beancount/beancount/issues/371","id":623376469,"node_id":"MDU6SXNzdWU2MjMzNzY0Njk=","number":371,"title":"sellgains should handle or ignore losses","user":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":2080914000,"node_id":"MDU6TGFiZWwyMDgwOTE0MDAw","url":"https://api.github.com/repos/beancount/beancount/labels/BUG","name":"BUG","color":"cc99cc","default":false,"description":"This is a bug, not a feature request; something isn't working."},{"id":2080994777,"node_id":"MDU6TGFiZWwyMDgwOTk0Nzc3","url":"https://api.github.com/repos/beancount/beancount/labels/P1","name":"P1","color":"ff6666","default":false,"description":"High priority, not breaking but hindering or lessening existing functionality"},{"id":2081000893,"node_id":"MDU6TGFiZWwyMDgxMDAwODkz","url":"https://api.github.com/repos/beancount/beancount/labels/plugins","name":"plugins","color":"ededed","default":false,"description":"Component: Plug-ins"}],"state":"open","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":13,"created_at":"2019-02-03T00:57:09Z","updated_at":"2021-10-05T23:04:21Z","closed_at":null,"author_association":"MEMBER","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"**[Original report](https://bitbucket.org/blais/beancount/issue/371) by Martin Michlmayr (Bitbucket: [tbm13](https://bitbucket.org/tbm13), GitHub: [tbm](https://github.com/tbm)).**\n\n----------------------------------------\n\nEnabling the sellgains plugin resulted an error message on all transactions in which I made a loss rather than a gain.\n\nimho sellgains should either ignore transactions where the cost is higher than the price or invert its logic.\n\n```\n/home/tbm/personal/finance/d:13:      Invalid price vs. proceeds/gains: (90.00 EUR) vs. (100.00 EUR)\n```\n\n```\nplugin \"beancount.plugins.sellgains\"\n\n2000-01-01 open Assets:Invements\n2000-01-01 open Assets:Cash\n2000-01-01 open Expenses:Capital-loss\n2000-01-01 open Equity:Opening-balance\n\n2019-01-01 * \"Opening balance\"\n  Assets:Invements                     1 FOO {100 EUR}\n  Equity:Opening-balance                     -100 EUR\n\n2019-02-01 * \"Sold FOO at loss\"\n  Assets:Cash                           90.00 EUR\n  Expenses:Capital-loss                 10.00 EUR\n  Assets:Invements         -1 FOO {100 EUR} @ 90.00 EUR\n```\n","closed_by":null,"reactions":{"url":"https://api.github.com/repos/beancount/beancount/issues/371/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beancount/issues/371/timeline","performed_via_github_app":null,"state_reason":null},{"url":"https://api.github.com/repos/beancount/beancount/issues/370","repository_url":"https://api.github.com/repos/beancount/beancount","labels_url":"https://api.github.com/repos/beancount/beancount/issues/370/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beancount/issues/370/comments","events_url":"https://api.github.com/repos/beancount/beancount/issues/370/events","html_url":"https://github.com/beancount/beancount/issues/370","id":623376445,"node_id":"MDU6SXNzdWU2MjMzNzY0NDU=","number":370,"title":"Export user-defined metadata explicitly","user":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":2080914000,"node_id":"MDU6TGFiZWwyMDgwOTE0MDAw","url":"https://api.github.com/repos/beancount/beancount/labels/BUG","name":"BUG","color":"cc99cc","default":false,"description":"This is a bug, not a feature request; something isn't working."},{"id":2080994022,"node_id":"MDU6TGFiZWwyMDgwOTk0MDIy","url":"https://api.github.com/repos/beancount/beancount/labels/P2","name":"P2","color":"ffaaaa","default":false,"description":"Low priority, addressing would result in useful improvements"},{"id":2080995603,"node_id":"MDU6TGFiZWwyMDgwOTk1NjAz","url":"https://api.github.com/repos/beancount/beancount/labels/core-ops","name":"core-ops","color":"ededed","default":false,"description":"Component: Core data structures and stream ops"}],"state":"open","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":1,"created_at":"2019-01-29T23:15:37Z","updated_at":"2020-06-03T07:38:28Z","closed_at":null,"author_association":"MEMBER","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"**[Original report](https://bitbucket.org/blais/beancount/issue/370) by Martin Michlmayr (Bitbucket: [tbm13](https://bitbucket.org/tbm13), GitHub: [tbm](https://github.com/tbm)).**\n\n----------------------------------------\n\nI find it a bit strange that entries.meta contains both user defined metadata as well as metadata added by beancount (such as line number).\n\nWould it make sense to have a function (entries.usermeta?) that filters out the entries added by beancount.\n","closed_by":null,"reactions":{"url":"https://api.github.com/repos/beancount/beancount/issues/370/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beancount/issues/370/timeline","performed_via_github_app":null,"state_reason":null},{"url":"https://api.github.com/repos/beancount/beancount/issues/369","repository_url":"https://api.github.com/repos/beancount/beancount","labels_url":"https://api.github.com/repos/beancount/beancount/issues/369/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beancount/issues/369/comments","events_url":"https://api.github.com/repos/beancount/beancount/issues/369/events","html_url":"https://github.com/beancount/beancount/issues/369","id":623376431,"node_id":"MDU6SXNzdWU2MjMzNzY0MzE=","number":369,"title":"Syntax documents out of sync","user":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":2080914000,"node_id":"MDU6TGFiZWwyMDgwOTE0MDAw","url":"https://api.github.com/repos/beancount/beancount/labels/BUG","name":"BUG","color":"cc99cc","default":false,"description":"This is a bug, not a feature request; something isn't working."},{"id":2080994022,"node_id":"MDU6TGFiZWwyMDgwOTk0MDIy","url":"https://api.github.com/repos/beancount/beancount/labels/P2","name":"P2","color":"ffaaaa","default":false,"description":"Low priority, addressing would result in useful improvements"}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":2,"created_at":"2019-01-28T06:08:11Z","updated_at":"2019-01-30T04:14:25Z","closed_at":"2019-01-30T04:14:25Z","author_association":"MEMBER","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"**[Original report](https://bitbucket.org/blais/beancount/issue/369) by Tyler Wilcock (Bitbucket: [twilco](https://bitbucket.org/twilco), GitHub: [twilco](https://github.com/twilco)).**\n\n----------------------------------------\n\nHi there!  I'm currently writing a Beancount parser in Rust and was a bit confused by the available documentation (which, minus these slight inconsistencies, is *amazing*).\n\nIn the [syntax cheat sheet](https://docs.google.com/document/d/1M4GwF6BkcXyVVvj4yXBJMX7YFXpxlxo95W6CpU3uWVc/edit#), you see symbol combinations that do not exist in the [language syntax document](https://docs.google.com/document/d/1wAMVrKIA2qtRGmoVDSUBJGmYZSygUaR0uOMW1GV3YE0/edit#heading=h.mtqrwt24wnzs), and vice versa.\n\nConstructs that appear in the cheat sheet but make no appearance in the full syntax guide:\n  \n  * `{{<amount> <commodity_type>}}` to represent total cost.  `{{5021.20 USD}}`\n  * `{<per_unit_cost> # <total_cost????> <commodity_type>}` to represent what (I'm guessing?) is both total cost *and* per unit cost.  `10 GOOG {502.12 # 9.95 USD}`.  As a side note, this example (taken right from the cheat sheet) is a little confusing.  What part is the total cost?  What part is the per-unit cost?  What is the `9.95` portion?  It seems inconsistent relative to the other examples...but maybe I'm interpreting the documentation wrong.\n  * `{<per_unit_cost>, <date>}` - `10 GOOG {502.12 USD, 2014-05-12}`\n\nConstructs that appear in the full syntax guide but not in the cheat sheet:\n  \n  * `@@`\n```\n2012-11-03 * \"Transfer to account in Canada\"\n  Assets:MyBank:Checking            -400.00 USD @@ 436.01 CAD\n  Assets:FR:SocGen:Checking          436.01 CAD\n```\n  * Costs that have a label.\n```\n2014-02-11 * \"Bought shares of S&P 500\"\n  Assets:ETrade:IVV                20 IVV {183.07 USD, \"ref-001\"}\n```\n\nWhich one is accurate?  Are all these valid language constructs I should build into my parser?\n","closed_by":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/beancount/beancount/issues/369/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beancount/issues/369/timeline","performed_via_github_app":null,"state_reason":"completed"},{"url":"https://api.github.com/repos/beancount/beancount/issues/368","repository_url":"https://api.github.com/repos/beancount/beancount","labels_url":"https://api.github.com/repos/beancount/beancount/issues/368/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beancount/issues/368/comments","events_url":"https://api.github.com/repos/beancount/beancount/issues/368/events","html_url":"https://github.com/beancount/beancount/issues/368","id":623376408,"node_id":"MDU6SXNzdWU2MjMzNzY0MDg=","number":368,"title":"bean-doctor context accepts lineno which doesn't exist","user":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":2080914000,"node_id":"MDU6TGFiZWwyMDgwOTE0MDAw","url":"https://api.github.com/repos/beancount/beancount/labels/BUG","name":"BUG","color":"cc99cc","default":false,"description":"This is a bug, not a feature request; something isn't working."},{"id":2080994022,"node_id":"MDU6TGFiZWwyMDgwOTk0MDIy","url":"https://api.github.com/repos/beancount/beancount/labels/P2","name":"P2","color":"ffaaaa","default":false,"description":"Low priority, addressing would result in useful improvements"}],"state":"open","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":2,"created_at":"2019-01-25T22:47:58Z","updated_at":"2019-01-30T13:23:54Z","closed_at":null,"author_association":"MEMBER","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"**[Original report](https://bitbucket.org/blais/beancount/issue/368) by Martin Michlmayr (Bitbucket: [tbm13](https://bitbucket.org/tbm13), GitHub: [tbm](https://github.com/tbm)).**\n\n----------------------------------------\n\n```\nbean-doctor context d1 123\n...\nLocation: /home/tbm/personal/finance/d1:5\n```\n\nShould bean-doctor warn or error when you give a line number that doesn't exist?\n","closed_by":null,"reactions":{"url":"https://api.github.com/repos/beancount/beancount/issues/368/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beancount/issues/368/timeline","performed_via_github_app":null,"state_reason":null},{"url":"https://api.github.com/repos/beancount/beancount/issues/367","repository_url":"https://api.github.com/repos/beancount/beancount","labels_url":"https://api.github.com/repos/beancount/beancount/issues/367/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beancount/issues/367/comments","events_url":"https://api.github.com/repos/beancount/beancount/issues/367/events","html_url":"https://github.com/beancount/beancount/issues/367","id":623376392,"node_id":"MDU6SXNzdWU2MjMzNzYzOTI=","number":367,"title":"bean-doctor context shows nothing for errors","user":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":2080914000,"node_id":"MDU6TGFiZWwyMDgwOTE0MDAw","url":"https://api.github.com/repos/beancount/beancount/labels/BUG","name":"BUG","color":"cc99cc","default":false,"description":"This is a bug, not a feature request; something isn't working."},{"id":2080994777,"node_id":"MDU6TGFiZWwyMDgwOTk0Nzc3","url":"https://api.github.com/repos/beancount/beancount/labels/P1","name":"P1","color":"ff6666","default":false,"description":"High priority, not breaking but hindering or lessening existing functionality"},{"id":2080996004,"node_id":"MDU6TGFiZWwyMDgwOTk2MDA0","url":"https://api.github.com/repos/beancount/beancount/labels/reports","name":"reports","color":"ededed","default":false,"description":"Component: Canned reports"}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":2,"created_at":"2019-01-25T22:46:41Z","updated_at":"2019-01-30T04:17:49Z","closed_at":"2019-01-30T04:17:49Z","author_association":"MEMBER","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"**[Original report](https://bitbucket.org/blais/beancount/issue/367) by Martin Michlmayr (Bitbucket: [tbm13](https://bitbucket.org/tbm13), GitHub: [tbm](https://github.com/tbm)).**\n\n----------------------------------------\n\nLet's assume this test case which doesn't balance:\n\n```\n2010-01-01 open Assets:A\n2010-01-01 open Assets:B\n\n2019-01-25 * \"Test\"\n    Assets:A         1 AAPL { 15 # 40 USD }\n    Assets:B                    -50 USD\n```\n\n```\nbean-check d1          \n/home/tbm/personal/finance/d1:5:       Transaction does not balance: (5 USD)\n```\n\nOk, good.  But `bean-doctor context d1 5` doesn't show me any error (same for lines 6 and 7):\n\n```\n2019-01-25 * \"Test\"\n  Assets:A    1 AAPL {55 USD, 2019-01-25}  ;  55 USD\n  Assets:B  -50 USD                        ; -50 USD\n\nResidual: (5 USD)\nBasis: (55 USD)\n```\n\nShouldn't it mention the balancing error here?\n","closed_by":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/beancount/beancount/issues/367/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beancount/issues/367/timeline","performed_via_github_app":null,"state_reason":"completed"},{"url":"https://api.github.com/repos/beancount/beancount/issues/366","repository_url":"https://api.github.com/repos/beancount/beancount","labels_url":"https://api.github.com/repos/beancount/beancount/issues/366/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beancount/issues/366/comments","events_url":"https://api.github.com/repos/beancount/beancount/issues/366/events","html_url":"https://github.com/beancount/beancount/issues/366","id":623376380,"node_id":"MDU6SXNzdWU2MjMzNzYzODA=","number":366,"title":"{ # NNN XXX } syntax not working in some cases: Too many missing numbers for currency group","user":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":2080914000,"node_id":"MDU6TGFiZWwyMDgwOTE0MDAw","url":"https://api.github.com/repos/beancount/beancount/labels/BUG","name":"BUG","color":"cc99cc","default":false,"description":"This is a bug, not a feature request; something isn't working."},{"id":2080995603,"node_id":"MDU6TGFiZWwyMDgwOTk1NjAz","url":"https://api.github.com/repos/beancount/beancount/labels/core-ops","name":"core-ops","color":"ededed","default":false,"description":"Component: Core data structures and stream ops"},{"id":2080996667,"node_id":"MDU6TGFiZWwyMDgwOTk2NjY3","url":"https://api.github.com/repos/beancount/beancount/labels/P0","name":"P0","color":"ff0000","default":false,"description":"Critical priority, breaking changes to current version"}],"state":"open","locked":false,"assignee":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"assignees":[{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false}],"milestone":null,"comments":9,"created_at":"2019-01-24T15:22:58Z","updated_at":"2024-12-11T15:29:51Z","closed_at":null,"author_association":"MEMBER","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"**[Original report](https://bitbucket.org/blais/beancount/issue/366) by Martin Michlmayr (Bitbucket: [tbm13](https://bitbucket.org/tbm13), GitHub: [tbm](https://github.com/tbm)).**\n\n----------------------------------------\n\n[Martin Blais suggests that `{ # 100 USD}` should work)](https://www.mail-archive.com/beancount@googlegroups.com/msg01881.html) but it doesn't in some circumstances.\n\n`{ # 100 USD}` (without a leading `0` as the per-share price) works if you specify the balancing figure for the other posting.  If you have a null-posting, beancount will issue an error:\n\n```\nd::17:      Too many missing numbers for currency group 'EUR'\n```\n\nTest case:\n\n```\n2000-01-01 open Assets:Investments\n2000-01-01 open Assets:Cash\n\n; When you specify the balancing figure for \"Assets:Cash\" it works\n2019-01-24 * \"Bought AAA\"\n    Assets:Investments      10 AAA { # 100.00 EUR }\n    Assets:Cash                       -100.00 EUR\n\n; If you add 0 as the per-share value it works\n2019-01-24 * \"Bought AAA\"\n    Assets:Investments      10 AAA { 0 # 100 EUR }\n    Assets:Cash\n\n; This fails\n2019-01-24 * \"Bought AAA\"\n    Assets:Investments      10 AAA { # 100 EUR }\n    Assets:Cash\n```\n","closed_by":null,"reactions":{"url":"https://api.github.com/repos/beancount/beancount/issues/366/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beancount/issues/366/timeline","performed_via_github_app":null,"state_reason":null},{"url":"https://api.github.com/repos/beancount/beancount/issues/364","repository_url":"https://api.github.com/repos/beancount/beancount","labels_url":"https://api.github.com/repos/beancount/beancount/issues/364/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beancount/issues/364/comments","events_url":"https://api.github.com/repos/beancount/beancount/issues/364/events","html_url":"https://github.com/beancount/beancount/issues/364","id":623376334,"node_id":"MDU6SXNzdWU2MjMzNzYzMzQ=","number":364,"title":"Cost basis Fold (#) is broken or unintuitive for short sales","user":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":2080914000,"node_id":"MDU6TGFiZWwyMDgwOTE0MDAw","url":"https://api.github.com/repos/beancount/beancount/labels/BUG","name":"BUG","color":"cc99cc","default":false,"description":"This is a bug, not a feature request; something isn't working."},{"id":2080995603,"node_id":"MDU6TGFiZWwyMDgwOTk1NjAz","url":"https://api.github.com/repos/beancount/beancount/labels/core-ops","name":"core-ops","color":"ededed","default":false,"description":"Component: Core data structures and stream ops"},{"id":2080996667,"node_id":"MDU6TGFiZWwyMDgwOTk2NjY3","url":"https://api.github.com/repos/beancount/beancount/labels/P0","name":"P0","color":"ff0000","default":false,"description":"Critical priority, breaking changes to current version"}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":2,"created_at":"2019-01-20T02:56:55Z","updated_at":"2020-09-07T05:50:16Z","closed_at":"2020-09-07T05:50:16Z","author_association":"MEMBER","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"**[Original report](https://bitbucket.org/blais/beancount/issue/364) by Adam Wolenc (Bitbucket: [adamdblu](https://bitbucket.org/adamdblu)).**\n\n----------------------------------------\n\n```\n#!python\n\n\n2018-10-31 * \"Sold Short 23 MSFT @ 106.935\"\n  Assets:TDA:Main:Cash            2452.53 USD\n  Assets:TDA:Main:MSFT                -23 MSFT {106.935 # 6.98 USD}\n\n2018-12-21 * \"Bought to Cover 23 MSFT @ 98.25\"\n  Income:PnL:ShortTerm\n  Assets:TDA:Main:Cash           -2266.70 USD\n  Assets:TDA:Main:MSFT                 23 MSFT {} @ 98.25 USD\n  Expenses:Financial:Commission      6.95 USD\n\n2018-11-12 * \"Bought 100 PCG @ 31.15\"\n  Assets:TDA:Main:Cash           -3121.95 USD\n  Assets:TDA:Main:PCG                 100 PCG {31.15 # 6.95 USD}\n\n2018-11-12 * \"Sold 100 PCG @ 33.33\"\n  Income:PnL:ShortTerm\n  Assets:TDA:Main:Cash            3326.00 USD\n  Assets:TDA:Main:PCG                -100 PCG {} @ 33.33 USD\n  Expenses:Financial:Commission      6.95 USD\n  Expenses:Taxes:RegFee              0.05 USD\n\n```\n\nIn the above example, folded cost basis works correctly for PCG.\nBut the MSFT position, a short sale, bails on\n```\nt:13:      Cost is negative: \"Cost(number=Decimal('-106.6315217391304347826086957'), currency='USD', date=datetime.date(2018, 10, 31), label=None)\"\n\nt:18:      Cost is negative: \"Cost(number=Decimal('-106.6315217391304347826086957'), currency='USD', date=datetime.date(2018, 10, 31), label=None)\"\n\nt:11:      Transaction does not balance: (4905.055000000000000000000001 USD)\n\n   2018-10-31 * \"Sold Short 23 MSFT @ 106.935\"\n     Assets:TDA:Main:Cash  2452.53 USD                                                  \n     Assets:TDA:Main:MSFT      -23 MSFT {-106.6315217391304347826086957 USD, 2018-10-31}\n```\n","closed_by":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/beancount/beancount/issues/364/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beancount/issues/364/timeline","performed_via_github_app":null,"state_reason":"completed"},{"url":"https://api.github.com/repos/beancount/beancount/issues/363","repository_url":"https://api.github.com/repos/beancount/beancount","labels_url":"https://api.github.com/repos/beancount/beancount/issues/363/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beancount/issues/363/comments","events_url":"https://api.github.com/repos/beancount/beancount/issues/363/events","html_url":"https://github.com/beancount/beancount/issues/363","id":623376314,"node_id":"MDU6SXNzdWU2MjMzNzYzMTQ=","number":363,"title":"pad directive should propagate tags","user":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":2080994022,"node_id":"MDU6TGFiZWwyMDgwOTk0MDIy","url":"https://api.github.com/repos/beancount/beancount/labels/P2","name":"P2","color":"ffaaaa","default":false,"description":"Low priority, addressing would result in useful improvements"},{"id":2080995603,"node_id":"MDU6TGFiZWwyMDgwOTk1NjAz","url":"https://api.github.com/repos/beancount/beancount/labels/core-ops","name":"core-ops","color":"ededed","default":false,"description":"Component: Core data structures and stream ops"}],"state":"open","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":0,"created_at":"2019-01-20T00:06:04Z","updated_at":"2020-05-23T13:15:47Z","closed_at":null,"author_association":"MEMBER","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"**[Original report](https://bitbucket.org/blais/beancount/issue/363) by Adam Wolenc (Bitbucket: [adamdblu](https://bitbucket.org/adamdblu)).**\n\n----------------------------------------\n\nUse case:\nI apply a #future tag to all transactions inserted by a forecasting script. It is convenient to use pad 0 for something like HSURefund = 0.  However, I cannot tell pad to add a tag to the resulting expanded transaction.\n\n\n```\n#!python\n\n1971-01-01 open Income:HOLI:HoliStockUnit\n1971-01-01 open Assets:HOLI:HSURefund\n1971-01-01 open Assets:Bank:Savings\n\n1971-01-01 * \"Vest FUTURE1970\"\n  Income:HOLI:HoliStockUnit               -100.00 USD\n  Assets:HOLI:HSURefund\n\n1971-01-27 pad Assets:HOLI:HSURefund Assets:Bank:Savings  #future\n1971-01-27 balance Assets:HOLI:HSURefund     0.00 USD\n\n```\n\nThe idea is, the above journal should create \n```\n#!python\n1970-01-27 P \"(Padding inserted for Balance of 0.00 USD for difference -100.00 USD)\" #future\n  Assets:HOLI:HSURefund  -100.00 USD\n  Assets:Bank:Savings     100.00 USD\n\n```\n\n(Instead it  bails for\nsyntax error, unexpected TAG, expecting EOL or COMMENT\n)\n","closed_by":null,"reactions":{"url":"https://api.github.com/repos/beancount/beancount/issues/363/reactions","total_count":5,"+1":5,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beancount/issues/363/timeline","performed_via_github_app":null,"state_reason":null},{"url":"https://api.github.com/repos/beancount/beancount/issues/362","repository_url":"https://api.github.com/repos/beancount/beancount","labels_url":"https://api.github.com/repos/beancount/beancount/issues/362/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beancount/issues/362/comments","events_url":"https://api.github.com/repos/beancount/beancount/issues/362/events","html_url":"https://github.com/beancount/beancount/issues/362","id":623376292,"node_id":"MDU6SXNzdWU2MjMzNzYyOTI=","number":362,"title":"pad fails, takes amount from unrelated account into account","user":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":2080914000,"node_id":"MDU6TGFiZWwyMDgwOTE0MDAw","url":"https://api.github.com/repos/beancount/beancount/labels/BUG","name":"BUG","color":"cc99cc","default":false,"description":"This is a bug, not a feature request; something isn't working."},{"id":2080994777,"node_id":"MDU6TGFiZWwyMDgwOTk0Nzc3","url":"https://api.github.com/repos/beancount/beancount/labels/P1","name":"P1","color":"ff6666","default":false,"description":"High priority, not breaking but hindering or lessening existing functionality"},{"id":2080995603,"node_id":"MDU6TGFiZWwyMDgwOTk1NjAz","url":"https://api.github.com/repos/beancount/beancount/labels/core-ops","name":"core-ops","color":"ededed","default":false,"description":"Component: Core data structures and stream ops"}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":4,"created_at":"2019-01-19T17:01:44Z","updated_at":"2019-01-30T04:41:54Z","closed_at":"2019-01-30T04:41:54Z","author_association":"MEMBER","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"**[Original report](https://bitbucket.org/blais/beancount/issue/362) by Martin Michlmayr (Bitbucket: [tbm13](https://bitbucket.org/tbm13), GitHub: [tbm](https://github.com/tbm)).**\n\n----------------------------------------\n\nI have account `Assets:Bank` and `Assets:Bank-Two`: a `pad` statement for `Assets:Bank` also takes the amount from `Assets:Bank-Two`, leading to the wrong balance.\n\n```\n1970-01-01 open Assets:Bank\n1970-01-01 open Assets:Bank-Two\n1970-01-01 open Equity:Opening-Balance\n1970-01-01 open Equity:Adjustments\n1970-01-01 open Expenses:Food\n\n2019-01-01 * \"Opening balance\"\n  Assets:Bank                  20.00 GBP\n  Equity:Opening-Balance      -20.00 GBP\n\n2019-01-03 * \"Tesco\" \"Buy food\"\n  Expenses:Food                30.00 GBP\n  Assets:Bank                 -30.00 GBP\n\n2019-01-04 balance Assets:Bank -10.00 GBP\n\n2019-01-03 * \"Tesco\" \"Buy food\"\n  Expenses:Food                 6.00 GBP\n  Assets:Bank-Two              -6.00 GBP\n\n; Get rid of overdraft somehow and get a £50 balance\n\n2019-01-04 pad Assets:Bank Equity:Adjustments\n2019-01-05 balance Assets:Bank 50.00 GBP\n```\n\n```\nbean-query ~/t.beancount \"Select * where account ~ 'Bank$'\"\n/home/tbm/t.beancount:25:      Balance failed for 'Assets:Bank': expected 50.00 GBP != accumulated 56.00 GBP (6.00 too much)\n\n   2019-01-05 balance Assets:Bank                                     50.00 GBP\n\n\n   date    f payee                              narration                                position \n---------- - ----- -------------------------------------------------------------------- ----------\n2019-01-01 *       Opening balance                                                       20.00 GBP\n2019-01-03 * Tesco Buy food                                                             -30.00 GBP\n2019-01-04 P       (Padding inserted for Balance of 50.00 GBP for difference 66.00 GBP)  66.00 GBP\n```\n\nTo go from -10 to +50, we should pad by 60.  The 6 comes from `Assets:Bank-Two`, which is completely unrelated.\n","closed_by":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/beancount/beancount/issues/362/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beancount/issues/362/timeline","performed_via_github_app":null,"state_reason":"completed"},{"url":"https://api.github.com/repos/beancount/beancount/issues/361","repository_url":"https://api.github.com/repos/beancount/beancount","labels_url":"https://api.github.com/repos/beancount/beancount/issues/361/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beancount/issues/361/comments","events_url":"https://api.github.com/repos/beancount/beancount/issues/361/events","html_url":"https://github.com/beancount/beancount/issues/361","id":623376256,"node_id":"MDU6SXNzdWU2MjMzNzYyNTY=","number":361,"title":"COST() ignores inferred_tolerance_default","user":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":2080914000,"node_id":"MDU6TGFiZWwyMDgwOTE0MDAw","url":"https://api.github.com/repos/beancount/beancount/labels/BUG","name":"BUG","color":"cc99cc","default":false,"description":"This is a bug, not a feature request; something isn't working."},{"id":2080994777,"node_id":"MDU6TGFiZWwyMDgwOTk0Nzc3","url":"https://api.github.com/repos/beancount/beancount/labels/P1","name":"P1","color":"ff6666","default":false,"description":"High priority, not breaking but hindering or lessening existing functionality"},{"id":2080995603,"node_id":"MDU6TGFiZWwyMDgwOTk1NjAz","url":"https://api.github.com/repos/beancount/beancount/labels/core-ops","name":"core-ops","color":"ededed","default":false,"description":"Component: Core data structures and stream ops"}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":8,"created_at":"2019-01-19T01:23:25Z","updated_at":"2019-02-27T04:49:28Z","closed_at":"2019-02-18T19:26:48Z","author_association":"MEMBER","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"**[Original report](https://bitbucket.org/blais/beancount/issue/361) by Martin Michlmayr (Bitbucket: [tbm13](https://bitbucket.org/tbm13), GitHub: [tbm](https://github.com/tbm)).**\n\n----------------------------------------\n\nLet's take this example\n\n```\n2000-01-01 open Liabilities:Accounts-Payable\n2000-01-01 open Expenses:Travel\n\n2013-05-17 * \"Test\" \"Train 1\"\n    Expenses:Travel\n    Liabilities:Accounts-Payable     -2.85 EUR {1.2817 USD, 2013-05-17}\n\n2013-06-17 * \"Test\" \"Train 2\"\n    Expenses:Travel\n    Liabilities:Accounts-Payable     -2.95 EUR {1.283 USD, 2013-05-17}\n```\n\nNow:\n\n```\nbeancount> select date, position, balance where account ~ 'Expenses:Travel'\n   date     position   balance  \n---------- ---------- ----------\n2013-05-17 3.6528 USD 3.6528 USD\n2013-06-17 3.7848 USD 7.4376 USD\nbeancount> \n```\n\nSo the precision is quite high.  Ok, let's add\n\n```\noption \"inferred_tolerance_default\" \"USD:0.01\"\n```\n\nand now we get:\n\n```\nbeancount> select date, position, balance where account ~ 'Expenses:Travel'\n   date     position   balance  \n---------- ---------- ----------\n2013-05-17 3.65   USD 3.65   USD\n2013-06-17 3.78   USD 7.43   USD\n```\n\nOk, good.\n\nThis is for Expenses:.  If we look at Liabilities, we should get the same result.\n\nBut wait:\n\n```\nbeancount> select date, COST(position) where account ~ 'Liabilities:Accounts-Payable'\n   date    cost_positi\n---------- -----------\n2013-05-17 -3.6528 USD\n2013-06-17 -3.7848 USD\n```\n\nWe still have all that precision.\n\nAnd worse:\n\n```\n\nbeancount> select SUM(COST(position)) where account ~ 'Liabilities:Accounts-Payable'\nsum_cost_po\n-----------\n-7.4376 USD\n```\n\nwhich after rounding is 7.44.  But expenses were 7.43!\n","closed_by":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/beancount/beancount/issues/361/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beancount/issues/361/timeline","performed_via_github_app":null,"state_reason":"completed"},{"url":"https://api.github.com/repos/beancount/beancount/issues/360","repository_url":"https://api.github.com/repos/beancount/beancount","labels_url":"https://api.github.com/repos/beancount/beancount/issues/360/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beancount/issues/360/comments","events_url":"https://api.github.com/repos/beancount/beancount/issues/360/events","html_url":"https://github.com/beancount/beancount/issues/360","id":623376223,"node_id":"MDU6SXNzdWU2MjMzNzYyMjM=","number":360,"title":"invalid beancount file: ValueError: '=' alignment not allowed in string format specifier","user":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":2080914000,"node_id":"MDU6TGFiZWwyMDgwOTE0MDAw","url":"https://api.github.com/repos/beancount/beancount/labels/BUG","name":"BUG","color":"cc99cc","default":false,"description":"This is a bug, not a feature request; something isn't working."},{"id":2080994022,"node_id":"MDU6TGFiZWwyMDgwOTk0MDIy","url":"https://api.github.com/repos/beancount/beancount/labels/P2","name":"P2","color":"ffaaaa","default":false,"description":"Low priority, addressing would result in useful improvements"},{"id":2080995647,"node_id":"MDU6TGFiZWwyMDgwOTk1NjQ3","url":"https://api.github.com/repos/beancount/beancount/labels/parser-loader","name":"parser-loader","color":"ededed","default":false,"description":"Component: Parser and loader"}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":6,"created_at":"2019-01-18T01:19:03Z","updated_at":"2021-07-02T20:37:36Z","closed_at":"2019-01-30T03:16:07Z","author_association":"MEMBER","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"**[Original report](https://bitbucket.org/blais/beancount/issue/360) by Martin Michlmayr (Bitbucket: [tbm13](https://bitbucket.org/tbm13), GitHub: [tbm](https://github.com/tbm)).**\n\n----------------------------------------\n\nThis invalid file leads to:\n\n```\n1970-01-01 open Assets:Cash\n1970-01-01 open Equity:Adjustments\n\n2014-04-10 txn \"Adjustment\"\n  Assets:Cash\n  Equity:Adjustments\n```\n\n```\nTraceback (most recent call last):\n  File \"/home/tbm/.local/bin/bean-check\", line 6, in <module>\n    sys.exit(main())\n  File \"/home/tbm/.local/lib/python3.5/site-packages/beancount/scripts/check.py\", line 40, in main\n    extra_validations=validation.HARDCORE_VALIDATIONS)\n  File \"/home/tbm/.local/lib/python3.5/site-packages/beancount/loader.py\", line 90, in load_file\n    _log_errors(errors, log_errors)\n  File \"/home/tbm/.local/lib/python3.5/site-packages/beancount/loader.py\", line 128, in _log_errors\n    printer.print_errors(errors, file=log_errors)\n  File \"/home/tbm/.local/lib/python3.5/site-packages/beancount/parser/printer.py\", line 444, in print_errors\n    output.write(format_error(error))\n  File \"/home/tbm/.local/lib/python3.5/site-packages/beancount/parser/printer.py\", line 414, in format_error\n    error_string = '\\n'.join(format_entry(entry) for entry in entries)\n  File \"/home/tbm/.local/lib/python3.5/site-packages/beancount/parser/printer.py\", line 414, in <genexpr>\n    error_string = '\\n'.join(format_entry(entry) for entry in entries)\n  File \"/home/tbm/.local/lib/python3.5/site-packages/beancount/parser/printer.py\", line 339, in format_entry\n    return EntryPrinter(dcontext, render_weights)(entry)\n  File \"/home/tbm/.local/lib/python3.5/site-packages/beancount/parser/printer.py\", line 117, in __call__\n    method(obj, oss)\n  File \"/home/tbm/.local/lib/python3.5/site-packages/beancount/parser/printer.py\", line 201, in Transaction\n    oss.write(fmt(account, position_str))\nValueError: '=' alignment not allowed in string format specifier\n```\n","closed_by":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/beancount/beancount/issues/360/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beancount/issues/360/timeline","performed_via_github_app":null,"state_reason":"completed"},{"url":"https://api.github.com/repos/beancount/beancount/issues/359","repository_url":"https://api.github.com/repos/beancount/beancount","labels_url":"https://api.github.com/repos/beancount/beancount/issues/359/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beancount/issues/359/comments","events_url":"https://api.github.com/repos/beancount/beancount/issues/359/events","html_url":"https://github.com/beancount/beancount/issues/359","id":623376195,"node_id":"MDU6SXNzdWU2MjMzNzYxOTU=","number":359,"title":"Custom root account names and includes","user":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":2080914000,"node_id":"MDU6TGFiZWwyMDgwOTE0MDAw","url":"https://api.github.com/repos/beancount/beancount/labels/BUG","name":"BUG","color":"cc99cc","default":false,"description":"This is a bug, not a feature request; something isn't working."},{"id":2080994022,"node_id":"MDU6TGFiZWwyMDgwOTk0MDIy","url":"https://api.github.com/repos/beancount/beancount/labels/P2","name":"P2","color":"ffaaaa","default":false,"description":"Low priority, addressing would result in useful improvements"},{"id":2080995647,"node_id":"MDU6TGFiZWwyMDgwOTk1NjQ3","url":"https://api.github.com/repos/beancount/beancount/labels/parser-loader","name":"parser-loader","color":"ededed","default":false,"description":"Component: Parser and loader"}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":4,"created_at":"2019-01-17T20:15:59Z","updated_at":"2019-02-18T19:30:47Z","closed_at":"2019-02-18T19:30:47Z","author_association":"MEMBER","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"**[Original report](https://bitbucket.org/blais/beancount/issue/359) by Florian Preinstorfer (Bitbucket: [notizblock](https://bitbucket.org/notizblock), GitHub: [Roo1ohv1](https://github.com/Roo1ohv1)).**\n\n----------------------------------------\n\nI'm using the `name_{assets,liabilities,equity,income,expenses}` options to specify custom root account names. This works fine when using a single file. In case another file is in included, those options have to be repeated in each included file to avoid `ValueError: Invalid account name` exceptions.\n\nA minimal example: `test.beancount`:\n\n\n```\noption \"operating_currency\" \"USD\"\noption \"name_assets\" \"ASSETS\"\noption \"name_liabilities\" \"LIABILITIES\"\noption \"name_equity\" \"EQUITY\"\noption \"name_income\" \"INCOME\"\noption \"name_expenses\" \"EXPENSES\"\n\ninclude \"included.beancount\"\n\n2019-01-01 open ASSETS:Checking:Bank\n2019-01-01 open EXPENSES:Food\n```\n\nand `included.beancount`:\n\n```\n2019-01-05 * \"BurgerBar\" \"some burger\"\n  EXPENSES:Food           20.00 USD\n  ASSETS:Checking:Bank\n```\n\nresults in:\n```\n$ bean-check test.beancount\nincluded.beancount:2:       ValueError: Invalid account name: EXPENSES:Food\nincluded.beancount:3:       ValueError: Invalid account name: ASSETS:Checking:Bank\n```\n\nThere are two workarounds: either use the default account names and remove all `name_*` options or repeat the `name_*` options in each included file.\n\n* Beancount: 2.2.0\n* Python: 3.7.2\n","closed_by":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/beancount/beancount/issues/359/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beancount/issues/359/timeline","performed_via_github_app":null,"state_reason":"completed"},{"url":"https://api.github.com/repos/beancount/beancount/issues/357","repository_url":"https://api.github.com/repos/beancount/beancount","labels_url":"https://api.github.com/repos/beancount/beancount/issues/357/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beancount/issues/357/comments","events_url":"https://api.github.com/repos/beancount/beancount/issues/357/events","html_url":"https://github.com/beancount/beancount/issues/357","id":623376155,"node_id":"MDU6SXNzdWU2MjMzNzYxNTU=","number":357,"title":"Cannot run booking_full.book on transactions created with data.create_simple_posting","user":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":2080914000,"node_id":"MDU6TGFiZWwyMDgwOTE0MDAw","url":"https://api.github.com/repos/beancount/beancount/labels/BUG","name":"BUG","color":"cc99cc","default":false,"description":"This is a bug, not a feature request; something isn't working."},{"id":2080994022,"node_id":"MDU6TGFiZWwyMDgwOTk0MDIy","url":"https://api.github.com/repos/beancount/beancount/labels/P2","name":"P2","color":"ffaaaa","default":false,"description":"Low priority, addressing would result in useful improvements"},{"id":2081004612,"node_id":"MDU6TGFiZWwyMDgxMDA0NjEy","url":"https://api.github.com/repos/beancount/beancount/labels/booking","name":"booking","color":"ededed","default":false,"description":"Component: Booking algorithms"}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":1,"created_at":"2018-12-31T05:16:28Z","updated_at":"2018-12-31T06:21:14Z","closed_at":"2018-12-31T06:21:14Z","author_association":"MEMBER","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"**[Original report](https://bitbucket.org/blais/beancount/issue/357) by Robert Sesek (Bitbucket: [rsesek](https://bitbucket.org/rsesek), GitHub: [rsesek](https://github.com/rsesek)).**\n\n----------------------------------------\n\nIn creating a one-time converter for some account data files, I wrote code that basically did this:\n\n```python\ntxn = data.Transaction(…)\ndata.create_simple_posting(txn, 'Assets', 100.00 'USD')\ndata.create_simple_posting(txn, 'Expenses', None, None)\nbooking_full.book([txn], …)\n```\n\nMy converter ultimately uses printer to produce a beancount file. But I want to run book() manually to determine when a transaction does not balance. If an error exists between two specific accounts in specific currencies, the script inserts an additional posting to assume the rounding error.\n\nBut when running the book() on data like the above, I encountered two errors:\n\n```\n>                   if units.currency is MISSING:\nE                   AttributeError: 'NoneType' object has no attribute 'currency'\nbeancount/parser/booking_full.py:451: AttributeError\n```\n\n```\n>               new_posting.meta[interpolate.AUTOMATIC_META] = True\nE               TypeError: 'NoneType' object does not support item assignment\nbeancount/parser/booking_full.py:894: TypeError\n```\n\nThese errors occur because the Postings created by create_simple_posting() have None for fields (`units` and `meta` respectively).\n\nThe booking algorithm normally runs on parser-produced data, which do not have this problem. Since the transaction's postings were created with the data API, I think the booking algorithm should be able to handle them.\n\nPatch and test forthcoming.\n","closed_by":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/beancount/beancount/issues/357/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beancount/issues/357/timeline","performed_via_github_app":null,"state_reason":"completed"},{"url":"https://api.github.com/repos/beancount/beancount/issues/355","repository_url":"https://api.github.com/repos/beancount/beancount","labels_url":"https://api.github.com/repos/beancount/beancount/issues/355/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beancount/issues/355/comments","events_url":"https://api.github.com/repos/beancount/beancount/issues/355/events","html_url":"https://github.com/beancount/beancount/issues/355","id":623376112,"node_id":"MDU6SXNzdWU2MjMzNzYxMTI=","number":355,"title":"Infinite loop in find_repository_root() with missing files","user":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":2080914000,"node_id":"MDU6TGFiZWwyMDgwOTE0MDAw","url":"https://api.github.com/repos/beancount/beancount/labels/BUG","name":"BUG","color":"cc99cc","default":false,"description":"This is a bug, not a feature request; something isn't working."},{"id":2080994022,"node_id":"MDU6TGFiZWwyMDgwOTk0MDIy","url":"https://api.github.com/repos/beancount/beancount/labels/P2","name":"P2","color":"ffaaaa","default":false,"description":"Low priority, addressing would result in useful improvements"},{"id":2080994828,"node_id":"MDU6TGFiZWwyMDgwOTk0ODI4","url":"https://api.github.com/repos/beancount/beancount/labels/scripts","name":"scripts","color":"ededed","default":false,"description":"Component: Other scripts"}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":3,"created_at":"2018-12-24T16:10:00Z","updated_at":"2018-12-24T17:24:09Z","closed_at":"2018-12-24T17:24:09Z","author_association":"MEMBER","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"**[Original report](https://bitbucket.org/blais/beancount/issue/355) by Martin Michlmayr (Bitbucket: [tbm13](https://bitbucket.org/tbm13), GitHub: [tbm](https://github.com/tbm)).**\n\n----------------------------------------\n\nfind_repository_root() in beancount/utils/test_utils.py does:\n\n```\n    while not all(path.exists(path.join(filename, sigfile))\n                  for sigfile in ('PKGINFO', 'COPYING', 'README')):\n        filename = path.dirname(filename)\n```\n\nThis ends up in an infinite loop looking at `/` if for some reason someone accidentally\nremoved one of these 3 files.\n","closed_by":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/beancount/beancount/issues/355/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beancount/issues/355/timeline","performed_via_github_app":null,"state_reason":"completed"},{"url":"https://api.github.com/repos/beancount/beancount/issues/354","repository_url":"https://api.github.com/repos/beancount/beancount","labels_url":"https://api.github.com/repos/beancount/beancount/issues/354/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beancount/issues/354/comments","events_url":"https://api.github.com/repos/beancount/beancount/issues/354/events","html_url":"https://github.com/beancount/beancount/issues/354","id":623376094,"node_id":"MDU6SXNzdWU2MjMzNzYwOTQ=","number":354,"title":"Lot reduction fails on positive entry","user":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":2080914000,"node_id":"MDU6TGFiZWwyMDgwOTE0MDAw","url":"https://api.github.com/repos/beancount/beancount/labels/BUG","name":"BUG","color":"cc99cc","default":false,"description":"This is a bug, not a feature request; something isn't working."},{"id":2080914004,"node_id":"MDU6TGFiZWwyMDgwOTE0MDA0","url":"https://api.github.com/repos/beancount/beancount/labels/resolution/duplicate","name":"resolution/duplicate","color":"000000","default":false,"description":"This issue or pull request already exists"},{"id":2080994777,"node_id":"MDU6TGFiZWwyMDgwOTk0Nzc3","url":"https://api.github.com/repos/beancount/beancount/labels/P1","name":"P1","color":"ff6666","default":false,"description":"High priority, not breaking but hindering or lessening existing functionality"}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":3,"created_at":"2018-12-22T11:03:18Z","updated_at":"2020-05-23T14:13:06Z","closed_at":"2020-05-23T14:12:56Z","author_association":"MEMBER","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"**[Original report](https://bitbucket.org/blais/beancount/issue/354) by Ilya Kuzmich (Bitbucket: [ikv](https://bitbucket.org/ikv), GitHub: [ikv](https://github.com/ikv)).**\n\n----------------------------------------\n\nBooking will fail to match positive at cost entry against negative one, if negative comes first.\n\nSample journal: \n\n```\noption \"booking_method\" \"FIFO\"\nplugin \"beancount.plugins.auto\"\n\n1970-01-01 txn \"remove\"\n    Assets:Foo -1 AA { 1 USD }\n    Assets:Bar\n\n1970-01-01 txn \"add\"\n    Assets:Foo 2 AA { 1 USD }\n    Assets:Bar\n```\n\nError message: `Not enough lots to reduce \"2 AA {1 USD}\": -1 AA {1 USD, 1970-01-01}`\n\nIt's not a problem usually, unless \"remove\" and \"add\" tx's are in different files, and \"remove\" sorted first by the lineno.\n","closed_by":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/beancount/beancount/issues/354/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beancount/issues/354/timeline","performed_via_github_app":null,"state_reason":"completed"},{"url":"https://api.github.com/repos/beancount/beancount/issues/349","repository_url":"https://api.github.com/repos/beancount/beancount","labels_url":"https://api.github.com/repos/beancount/beancount/issues/349/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beancount/issues/349/comments","events_url":"https://api.github.com/repos/beancount/beancount/issues/349/events","html_url":"https://github.com/beancount/beancount/issues/349","id":623376009,"node_id":"MDU6SXNzdWU2MjMzNzYwMDk=","number":349,"title":"docs: not clear how to run stored query","user":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":2080914000,"node_id":"MDU6TGFiZWwyMDgwOTE0MDAw","url":"https://api.github.com/repos/beancount/beancount/labels/BUG","name":"BUG","color":"cc99cc","default":false,"description":"This is a bug, not a feature request; something isn't working."},{"id":2080994777,"node_id":"MDU6TGFiZWwyMDgwOTk0Nzc3","url":"https://api.github.com/repos/beancount/beancount/labels/P1","name":"P1","color":"ff6666","default":false,"description":"High priority, not breaking but hindering or lessening existing functionality"},{"id":2081000198,"node_id":"MDU6TGFiZWwyMDgxMDAwMTk4","url":"https://api.github.com/repos/beancount/beancount/labels/documentation","name":"documentation","color":"ededed","default":true,"description":"Component: Improvements or additions to documentation"}],"state":"open","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":0,"created_at":"2018-12-19T11:16:24Z","updated_at":"2018-12-19T11:16:24Z","closed_at":null,"author_association":"MEMBER","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"**[Original report](https://bitbucket.org/blais/beancount/issue/349) by Martin Michlmayr (Bitbucket: [tbm13](https://bitbucket.org/tbm13), GitHub: [tbm](https://github.com/tbm)).**\n\n----------------------------------------\n\nThe documentation on beancount syntax has a section \"Query\" which described how to define stored queries.  It says:\n\n> Each query has a name, which will probably be used to invoke its running as a report type. \n\nFrom this, it's not clear to me how to actually run a query.\n\nIn the end I figured out that it's \"run query\". Maybe this can be clarified.\n","closed_by":null,"reactions":{"url":"https://api.github.com/repos/beancount/beancount/issues/349/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beancount/issues/349/timeline","performed_via_github_app":null,"state_reason":null},{"url":"https://api.github.com/repos/beancount/beancount/issues/348","repository_url":"https://api.github.com/repos/beancount/beancount","labels_url":"https://api.github.com/repos/beancount/beancount/issues/348/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beancount/issues/348/comments","events_url":"https://api.github.com/repos/beancount/beancount/issues/348/events","html_url":"https://github.com/beancount/beancount/issues/348","id":623375998,"node_id":"MDU6SXNzdWU2MjMzNzU5OTg=","number":348,"title":"Commodity transaction fails with \"Failed to categorize posting\"","user":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":2080914000,"node_id":"MDU6TGFiZWwyMDgwOTE0MDAw","url":"https://api.github.com/repos/beancount/beancount/labels/BUG","name":"BUG","color":"cc99cc","default":false,"description":"This is a bug, not a feature request; something isn't working."},{"id":2080994777,"node_id":"MDU6TGFiZWwyMDgwOTk0Nzc3","url":"https://api.github.com/repos/beancount/beancount/labels/P1","name":"P1","color":"ff6666","default":false,"description":"High priority, not breaking but hindering or lessening existing functionality"}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":1,"created_at":"2018-12-15T14:02:21Z","updated_at":"2018-12-19T03:24:51Z","closed_at":"2018-12-19T03:24:51Z","author_association":"MEMBER","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"**[Original report](https://bitbucket.org/blais/beancount/issue/348) by Ilya Kuzmich (Bitbucket: [ikv](https://bitbucket.org/ikv), GitHub: [ikv](https://github.com/ikv)).**\n\n----------------------------------------\n\nTransactions like:\n\n```\n1970-01-01 txn \"qux\"\n    Assets:A -2 AA {}\n    Assets:B 1 BB {}\n```\n\nchecks if `Assets:B` contains `BB` commodity and fails otherwise.\n\nFull ledger in the attachment\n","closed_by":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/beancount/beancount/issues/348/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beancount/issues/348/timeline","performed_via_github_app":null,"state_reason":"completed"},{"url":"https://api.github.com/repos/beancount/beancount/issues/346","repository_url":"https://api.github.com/repos/beancount/beancount","labels_url":"https://api.github.com/repos/beancount/beancount/issues/346/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beancount/issues/346/comments","events_url":"https://api.github.com/repos/beancount/beancount/issues/346/events","html_url":"https://github.com/beancount/beancount/issues/346","id":623375956,"node_id":"MDU6SXNzdWU2MjMzNzU5NTY=","number":346,"title":"Minor fix in installation instructions","user":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":2080914000,"node_id":"MDU6TGFiZWwyMDgwOTE0MDAw","url":"https://api.github.com/repos/beancount/beancount/labels/BUG","name":"BUG","color":"cc99cc","default":false,"description":"This is a bug, not a feature request; something isn't working."},{"id":2080994061,"node_id":"MDU6TGFiZWwyMDgwOTk0MDYx","url":"https://api.github.com/repos/beancount/beancount/labels/P3","name":"P3","color":"FFdddd","default":false,"description":"Very low priority, nice to have"},{"id":2081000198,"node_id":"MDU6TGFiZWwyMDgxMDAwMTk4","url":"https://api.github.com/repos/beancount/beancount/labels/documentation","name":"documentation","color":"ededed","default":true,"description":"Component: Improvements or additions to documentation"}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":1,"created_at":"2018-12-13T19:25:25Z","updated_at":"2018-12-18T04:28:45Z","closed_at":"2018-12-18T04:28:45Z","author_association":"MEMBER","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"**[Original report](https://bitbucket.org/blais/beancount/issue/346) by Trevor Davis (Bitbucket: [trevorld](https://bitbucket.org/trevorld), GitHub: [trevorld](https://github.com/trevorld)).**\n\n----------------------------------------\n\nIn \"Installing for Development\" section\n\n``export PYTHONPATH=$PYTHONPATH:/path/to/beancount/src/python``\n\nshould be\n\n``export PYTHONPATH=$PYTHONPATH:/path/to/beancount``\n","closed_by":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/beancount/beancount/issues/346/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beancount/issues/346/timeline","performed_via_github_app":null,"state_reason":"completed"},{"url":"https://api.github.com/repos/beancount/beancount/issues/343","repository_url":"https://api.github.com/repos/beancount/beancount","labels_url":"https://api.github.com/repos/beancount/beancount/issues/343/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beancount/issues/343/comments","events_url":"https://api.github.com/repos/beancount/beancount/issues/343/events","html_url":"https://github.com/beancount/beancount/issues/343","id":623375874,"node_id":"MDU6SXNzdWU2MjMzNzU4NzQ=","number":343,"title":"pylint error in beancount.core.data","user":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":2080914000,"node_id":"MDU6TGFiZWwyMDgwOTE0MDAw","url":"https://api.github.com/repos/beancount/beancount/labels/BUG","name":"BUG","color":"cc99cc","default":false,"description":"This is a bug, not a feature request; something isn't working."},{"id":2080994022,"node_id":"MDU6TGFiZWwyMDgwOTk0MDIy","url":"https://api.github.com/repos/beancount/beancount/labels/P2","name":"P2","color":"ffaaaa","default":false,"description":"Low priority, addressing would result in useful improvements"},{"id":2080995603,"node_id":"MDU6TGFiZWwyMDgwOTk1NjAz","url":"https://api.github.com/repos/beancount/beancount/labels/core-ops","name":"core-ops","color":"ededed","default":false,"description":"Component: Core data structures and stream ops"}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":3,"created_at":"2018-12-09T11:51:33Z","updated_at":"2018-12-12T14:08:08Z","closed_at":"2018-12-12T13:47:32Z","author_association":"MEMBER","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"**[Original report](https://bitbucket.org/blais/beancount/issue/343) by Johannes Harms (Bitbucket: [johannesjh](https://bitbucket.org/johannesjh), GitHub: [johannesjh](https://github.com/johannesjh)).**\n\n----------------------------------------\n\nA pylint error in beancount.core.data makes problems in smart_importer's continuous integration:\n\n```\n************* Module smart_importer.predictor\nsmart_importer/predictor.py:10:0: E0001: Cannot import 'beancount.core.data' due to syntax error 'misplaced type annotation (<unknown>, line 283)' (syntax-error)\n************* Module smart_importer.pipelines\nsmart_importer/pipelines.py:6:0: E0001: Cannot import 'beancount.core.data' due to syntax error 'misplaced type annotation (<unknown>, line 283)' (syntax-error)\n```\n\nsee https://travis-ci.org/beancount/smart_importer/jobs/465570874 for full log output.\n","closed_by":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/beancount/beancount/issues/343/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beancount/issues/343/timeline","performed_via_github_app":null,"state_reason":"completed"},{"url":"https://api.github.com/repos/beancount/beancount/issues/341","repository_url":"https://api.github.com/repos/beancount/beancount","labels_url":"https://api.github.com/repos/beancount/beancount/issues/341/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beancount/issues/341/comments","events_url":"https://api.github.com/repos/beancount/beancount/issues/341/events","html_url":"https://github.com/beancount/beancount/issues/341","id":623375836,"node_id":"MDU6SXNzdWU2MjMzNzU4MzY=","number":341,"title":"test_utils.find_repository_root() doesn't work with release tarball","user":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":2080914000,"node_id":"MDU6TGFiZWwyMDgwOTE0MDAw","url":"https://api.github.com/repos/beancount/beancount/labels/BUG","name":"BUG","color":"cc99cc","default":false,"description":"This is a bug, not a feature request; something isn't working."},{"id":2080994777,"node_id":"MDU6TGFiZWwyMDgwOTk0Nzc3","url":"https://api.github.com/repos/beancount/beancount/labels/P1","name":"P1","color":"ff6666","default":false,"description":"High priority, not breaking but hindering or lessening existing functionality"}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":1,"created_at":"2018-12-02T02:49:41Z","updated_at":"2018-12-19T03:41:52Z","closed_at":"2018-12-19T03:41:52Z","author_association":"MEMBER","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"**[Original report](https://bitbucket.org/blais/beancount/issue/341) by Former user.**\n\n----------------------------------------\n\nSince the release tarball only contains the README file, not COPYING or PKGINFO, it's not possible for the function to ever succeed.  At least COPYING should be in the tarball.\n\nAlso, when those files aren't present, find_repository_root() just spins forever because there's no exit condition when filename == '/'.\n","closed_by":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/beancount/beancount/issues/341/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beancount/issues/341/timeline","performed_via_github_app":null,"state_reason":"completed"},{"url":"https://api.github.com/repos/beancount/beancount/issues/340","repository_url":"https://api.github.com/repos/beancount/beancount","labels_url":"https://api.github.com/repos/beancount/beancount/issues/340/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beancount/issues/340/comments","events_url":"https://api.github.com/repos/beancount/beancount/issues/340/events","html_url":"https://github.com/beancount/beancount/issues/340","id":623375802,"node_id":"MDU6SXNzdWU2MjMzNzU4MDI=","number":340,"title":"Formalize the concept of a secondary sort key, to support time or custom ordering","user":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":2080994022,"node_id":"MDU6TGFiZWwyMDgwOTk0MDIy","url":"https://api.github.com/repos/beancount/beancount/labels/P2","name":"P2","color":"ffaaaa","default":false,"description":"Low priority, addressing would result in useful improvements"},{"id":2080995647,"node_id":"MDU6TGFiZWwyMDgwOTk1NjQ3","url":"https://api.github.com/repos/beancount/beancount/labels/parser-loader","name":"parser-loader","color":"ededed","default":false,"description":"Component: Parser and loader"},{"id":2082671637,"node_id":"MDU6TGFiZWwyMDgyNjcxNjM3","url":"https://api.github.com/repos/beancount/beancount/labels/V3","name":"V3","color":"1762b2","default":false,"description":"Issues that will be addressed in the V3 C++ rewrite."}],"state":"open","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":1,"created_at":"2018-11-29T03:53:07Z","updated_at":"2020-05-23T14:15:23Z","closed_at":null,"author_association":"MEMBER","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"**[Original report](https://bitbucket.org/blais/beancount/issue/340) by Martin Blais (Bitbucket: [blais](https://bitbucket.org/blais), GitHub: [blais](https://github.com/blais)).**\n\n----------------------------------------\n\nhttps://groups.google.com/forum/?utm_medium=email&utm_source=footer#!msg/beancount/m4JT-ZF9qDI/yyNtBWJdBAAJ\n","closed_by":null,"reactions":{"url":"https://api.github.com/repos/beancount/beancount/issues/340/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beancount/issues/340/timeline","performed_via_github_app":null,"state_reason":null},{"url":"https://api.github.com/repos/beancount/beancount/issues/339","repository_url":"https://api.github.com/repos/beancount/beancount","labels_url":"https://api.github.com/repos/beancount/beancount/issues/339/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beancount/issues/339/comments","events_url":"https://api.github.com/repos/beancount/beancount/issues/339/events","html_url":"https://github.com/beancount/beancount/issues/339","id":623375786,"node_id":"MDU6SXNzdWU2MjMzNzU3ODY=","number":339,"title":"Reduction should take whole transaction into account","user":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":2080994777,"node_id":"MDU6TGFiZWwyMDgwOTk0Nzc3","url":"https://api.github.com/repos/beancount/beancount/labels/P1","name":"P1","color":"ff6666","default":false,"description":"High priority, not breaking but hindering or lessening existing functionality"},{"id":2081004612,"node_id":"MDU6TGFiZWwyMDgxMDA0NjEy","url":"https://api.github.com/repos/beancount/beancount/labels/booking","name":"booking","color":"ededed","default":false,"description":"Component: Booking algorithms"}],"state":"open","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":3,"created_at":"2018-11-28T09:20:52Z","updated_at":"2020-05-23T13:15:47Z","closed_at":null,"author_association":"MEMBER","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"**[Original report](https://bitbucket.org/blais/beancount/issue/339) by Martin Michlmayr (Bitbucket: [tbm13](https://bitbucket.org/tbm13), GitHub: [tbm](https://github.com/tbm)).**\n\n----------------------------------------\n\nI get:\n\n```\nAmbiguous matches for \"-11.48 EUR {1.0832 USD}\": 11.48 EUR {1.0832 USD, 2016-02-02}, 11.48 EUR {1.0832 USD, 2016-01-31}\n```\n\nbut if you look at the example, both of these 11.48 EUR are reduced in the same transactions. Since we're reducing all of them in one reduction, there shouldn't be any  ambiguity.\n","closed_by":null,"reactions":{"url":"https://api.github.com/repos/beancount/beancount/issues/339/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beancount/issues/339/timeline","performed_via_github_app":null,"state_reason":null},{"url":"https://api.github.com/repos/beancount/beancount/issues/338","repository_url":"https://api.github.com/repos/beancount/beancount","labels_url":"https://api.github.com/repos/beancount/beancount/issues/338/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beancount/issues/338/comments","events_url":"https://api.github.com/repos/beancount/beancount/issues/338/events","html_url":"https://github.com/beancount/beancount/issues/338","id":623375762,"node_id":"MDU6SXNzdWU2MjMzNzU3NjI=","number":338,"title":"Should reduction match on amount?","user":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":2080994022,"node_id":"MDU6TGFiZWwyMDgwOTk0MDIy","url":"https://api.github.com/repos/beancount/beancount/labels/P2","name":"P2","color":"ffaaaa","default":false,"description":"Low priority, addressing would result in useful improvements"},{"id":2081004612,"node_id":"MDU6TGFiZWwyMDgxMDA0NjEy","url":"https://api.github.com/repos/beancount/beancount/labels/booking","name":"booking","color":"ededed","default":false,"description":"Component: Booking algorithms"}],"state":"open","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":2,"created_at":"2018-11-28T09:14:32Z","updated_at":"2020-05-23T14:45:48Z","closed_at":null,"author_association":"MEMBER","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"**[Original report](https://bitbucket.org/blais/beancount/issue/338) by Martin Michlmayr (Bitbucket: [tbm13](https://bitbucket.org/tbm13), GitHub: [tbm](https://github.com/tbm)).**\n\n----------------------------------------\n\nbean-check complains about the following but as a human it looks pretty obviou to me what I mean.  Should beancount take the amount into consideration?\n\n```\nAmbiguous matches for \"43.00 CAD {0.8891 USD}\": -24.74 CAD {0.8891 USD, 2014-10-26}, -43.00 CAD {0.8891 USD, 2014-10-27}\nAmbiguous matches for \"8.00 EUR {1.1358 USD}\": -8.00 EUR {1.1358 USD, 2015-09-18}, -218.00 EUR {1.1358 USD, 2015-09-19}\n```\n","closed_by":null,"reactions":{"url":"https://api.github.com/repos/beancount/beancount/issues/338/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beancount/issues/338/timeline","performed_via_github_app":null,"state_reason":null},{"url":"https://api.github.com/repos/beancount/beancount/issues/337","repository_url":"https://api.github.com/repos/beancount/beancount","labels_url":"https://api.github.com/repos/beancount/beancount/issues/337/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beancount/issues/337/comments","events_url":"https://api.github.com/repos/beancount/beancount/issues/337/events","html_url":"https://github.com/beancount/beancount/issues/337","id":623375743,"node_id":"MDU6SXNzdWU2MjMzNzU3NDM=","number":337,"title":"Bring back account_rounding support","user":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":2080914000,"node_id":"MDU6TGFiZWwyMDgwOTE0MDAw","url":"https://api.github.com/repos/beancount/beancount/labels/BUG","name":"BUG","color":"cc99cc","default":false,"description":"This is a bug, not a feature request; something isn't working."},{"id":2080994022,"node_id":"MDU6TGFiZWwyMDgwOTk0MDIy","url":"https://api.github.com/repos/beancount/beancount/labels/P2","name":"P2","color":"ffaaaa","default":false,"description":"Low priority, addressing would result in useful improvements"},{"id":2081004612,"node_id":"MDU6TGFiZWwyMDgxMDA0NjEy","url":"https://api.github.com/repos/beancount/beancount/labels/booking","name":"booking","color":"ededed","default":false,"description":"Component: Booking algorithms"}],"state":"open","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":0,"created_at":"2018-10-26T02:24:40Z","updated_at":"2018-10-26T02:24:40Z","closed_at":null,"author_association":"MEMBER","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"**[Original report](https://bitbucket.org/blais/beancount/issue/337) by Martin Blais (Bitbucket: [blais](https://bitbucket.org/blais), GitHub: [blais](https://github.com/blais)).**\n\n----------------------------------------\n\n- Make reports/convert_reports.py use the option\n- Bring back the support (somehow it got lost along the way somewhere)\n","closed_by":null,"reactions":{"url":"https://api.github.com/repos/beancount/beancount/issues/337/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beancount/issues/337/timeline","performed_via_github_app":null,"state_reason":null},{"url":"https://api.github.com/repos/beancount/beancount/issues/336","repository_url":"https://api.github.com/repos/beancount/beancount","labels_url":"https://api.github.com/repos/beancount/beancount/issues/336/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beancount/issues/336/comments","events_url":"https://api.github.com/repos/beancount/beancount/issues/336/events","html_url":"https://github.com/beancount/beancount/issues/336","id":623375719,"node_id":"MDU6SXNzdWU2MjMzNzU3MTk=","number":336,"title":"No tag for 2.1.3, can't download `.tar.gz`","user":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":2080914000,"node_id":"MDU6TGFiZWwyMDgwOTE0MDAw","url":"https://api.github.com/repos/beancount/beancount/labels/BUG","name":"BUG","color":"cc99cc","default":false,"description":"This is a bug, not a feature request; something isn't working."},{"id":2080994777,"node_id":"MDU6TGFiZWwyMDgwOTk0Nzc3","url":"https://api.github.com/repos/beancount/beancount/labels/P1","name":"P1","color":"ff6666","default":false,"description":"High priority, not breaking but hindering or lessening existing functionality"}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":3,"created_at":"2018-10-13T21:09:11Z","updated_at":"2018-10-23T17:04:22Z","closed_at":"2018-10-14T01:57:00Z","author_association":"MEMBER","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"**[Original report](https://bitbucket.org/blais/beancount/issue/336) by Keith Maxwell (Bitbucket: [keithmaxwell](https://bitbucket.org/keithmaxwell), GitHub: [keithmaxwell](https://github.com/keithmaxwell)).**\n\n----------------------------------------\n\nVersion 2.1.3 was released in commit fd27856ff2de97c7ae94a4cbc0bbac4174c70f3e\n\nEarlier versions from [2.0.0](https://bitbucket.org/blais/beancount/commits/tag/2.0.0) to [2.1.2](https://bitbucket.org/blais/beancount/commits/tag/2.1.2) were tagged which made them very easy to identify and download\n\nAt the moment the [downloads](https://bitbucket.org/blais/beancount/downloads/?tab=tags) page doesn't allow downloading a `.tar.gz` of 2.1.3\n\nAdd a tag to the commit would allow downloading a `.tar.gz`\n\nI'm sorry if I have misunderstood the process with `hg`, I am much more familiar with `git`\n","closed_by":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/beancount/beancount/issues/336/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beancount/issues/336/timeline","performed_via_github_app":null,"state_reason":"completed"},{"url":"https://api.github.com/repos/beancount/beancount/issues/334","repository_url":"https://api.github.com/repos/beancount/beancount","labels_url":"https://api.github.com/repos/beancount/beancount/issues/334/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beancount/issues/334/comments","events_url":"https://api.github.com/repos/beancount/beancount/issues/334/events","html_url":"https://github.com/beancount/beancount/issues/334","id":623375686,"node_id":"MDU6SXNzdWU2MjMzNzU2ODY=","number":334,"title":"prefix matching when running custom queries","user":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":2080994022,"node_id":"MDU6TGFiZWwyMDgwOTk0MDIy","url":"https://api.github.com/repos/beancount/beancount/labels/P2","name":"P2","color":"ffaaaa","default":false,"description":"Low priority, addressing would result in useful improvements"},{"id":2080994252,"node_id":"MDU6TGFiZWwyMDgwOTk0MjUy","url":"https://api.github.com/repos/beancount/beancount/labels/query-sql","name":"query-sql","color":"ededed","default":false,"description":"Component: SQL query engine"}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":1,"created_at":"2018-09-25T12:34:25Z","updated_at":"2020-05-23T12:33:06Z","closed_at":"2020-05-23T12:33:06Z","author_association":"MEMBER","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"**[Original report](https://bitbucket.org/blais/beancount/issue/334) by Stefano Zacchiroli (Bitbucket: [zacchiro](https://bitbucket.org/zacchiro), GitHub: [zacchiro](https://github.com/zacchiro)).**\n\n----------------------------------------\n\nBQL \"run QUERY_NAME\" command currently expects a precise match on QUERY_NAME.\n\nIt would be nice to make it select the best match for QUERY_NAME, based on prefix matching. That is, any prefix of existing queries would work, as long as it is non-ambiguous.\n\nThe attached patch implements this.\n","closed_by":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/beancount/beancount/issues/334/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beancount/issues/334/timeline","performed_via_github_app":null,"state_reason":"completed"},{"url":"https://api.github.com/repos/beancount/beancount/issues/332","repository_url":"https://api.github.com/repos/beancount/beancount","labels_url":"https://api.github.com/repos/beancount/beancount/issues/332/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beancount/issues/332/comments","events_url":"https://api.github.com/repos/beancount/beancount/issues/332/events","html_url":"https://github.com/beancount/beancount/issues/332","id":623375654,"node_id":"MDU6SXNzdWU2MjMzNzU2NTQ=","number":332,"title":"Add date + time parsing to parser and grammar","user":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":2080994022,"node_id":"MDU6TGFiZWwyMDgwOTk0MDIy","url":"https://api.github.com/repos/beancount/beancount/labels/P2","name":"P2","color":"ffaaaa","default":false,"description":"Low priority, addressing would result in useful improvements"},{"id":2080995647,"node_id":"MDU6TGFiZWwyMDgwOTk1NjQ3","url":"https://api.github.com/repos/beancount/beancount/labels/parser-loader","name":"parser-loader","color":"ededed","default":false,"description":"Component: Parser and loader"}],"state":"open","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":0,"created_at":"2018-09-09T17:24:31Z","updated_at":"2020-05-23T13:15:47Z","closed_at":null,"author_association":"MEMBER","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"**[Original report](https://bitbucket.org/blais/beancount/issue/332) by Martin Blais (Bitbucket: [blais](https://bitbucket.org/blais), GitHub: [blais](https://github.com/blais)).**\n\n----------------------------------------\n\nParse ISO8601 date+time format, convert to datetime instance, and add to metadata.\nNo other support (perhaps add optional metadata to key sorting function).\nSee this thread:\nhttps://groups.google.com/d/msgid/beancount/d6a65c2c-3ee2-4d69-b3e2-b5c94be62645%40googlegroups.com?utm_medium=email&utm_source=footer\n","closed_by":null,"reactions":{"url":"https://api.github.com/repos/beancount/beancount/issues/332/reactions","total_count":4,"+1":4,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beancount/issues/332/timeline","performed_via_github_app":null,"state_reason":null},{"url":"https://api.github.com/repos/beancount/beancount/issues/331","repository_url":"https://api.github.com/repos/beancount/beancount","labels_url":"https://api.github.com/repos/beancount/beancount/issues/331/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beancount/issues/331/comments","events_url":"https://api.github.com/repos/beancount/beancount/issues/331/events","html_url":"https://github.com/beancount/beancount/issues/331","id":623375636,"node_id":"MDU6SXNzdWU2MjMzNzU2MzY=","number":331,"title":"devel version string isn't supported","user":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":2080914000,"node_id":"MDU6TGFiZWwyMDgwOTE0MDAw","url":"https://api.github.com/repos/beancount/beancount/labels/BUG","name":"BUG","color":"cc99cc","default":false,"description":"This is a bug, not a feature request; something isn't working."},{"id":2080994777,"node_id":"MDU6TGFiZWwyMDgwOTk0Nzc3","url":"https://api.github.com/repos/beancount/beancount/labels/P1","name":"P1","color":"ff6666","default":false,"description":"High priority, not breaking but hindering or lessening existing functionality"}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":1,"created_at":"2018-09-06T11:31:49Z","updated_at":"2020-05-23T14:57:43Z","closed_at":"2020-05-23T14:57:43Z","author_association":"MEMBER","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"**[Original report](https://bitbucket.org/blais/beancount/issue/331) by Jakob Schnitzer (Bitbucket: [yagebu](https://bitbucket.org/yagebu), GitHub: [yagebu](https://github.com/yagebu)).**\n\n----------------------------------------\n\nFava currently depends no Beancount>=2.1.2, when installing Beancount from source, that isn't recognised as satisfying this dependency.\n\nChanging the version from 2.1.3-devel to 2.1.3-dev seems to do it\n","closed_by":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/beancount/beancount/issues/331/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beancount/issues/331/timeline","performed_via_github_app":null,"state_reason":"completed"},{"url":"https://api.github.com/repos/beancount/beancount/issues/326","repository_url":"https://api.github.com/repos/beancount/beancount","labels_url":"https://api.github.com/repos/beancount/beancount/issues/326/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beancount/issues/326/comments","events_url":"https://api.github.com/repos/beancount/beancount/issues/326/events","html_url":"https://github.com/beancount/beancount/issues/326","id":623375502,"node_id":"MDU6SXNzdWU2MjMzNzU1MDI=","number":326,"title":"Add a new function \"create_simple_posting_with_price\" in core/data.py","user":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":2080994022,"node_id":"MDU6TGFiZWwyMDgwOTk0MDIy","url":"https://api.github.com/repos/beancount/beancount/labels/P2","name":"P2","color":"ffaaaa","default":false,"description":"Low priority, addressing would result in useful improvements"},{"id":2080995603,"node_id":"MDU6TGFiZWwyMDgwOTk1NjAz","url":"https://api.github.com/repos/beancount/beancount/labels/core-ops","name":"core-ops","color":"ededed","default":false,"description":"Component: Core data structures and stream ops"}],"state":"open","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":0,"created_at":"2018-08-20T15:38:52Z","updated_at":"2020-05-23T13:15:47Z","closed_at":null,"author_association":"MEMBER","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"**[Original report](https://bitbucket.org/blais/beancount/issue/326) by Milind Kamble (Bitbucket: [mbkamble](https://bitbucket.org/mbkamble), GitHub: [mbkamble](https://github.com/mbkamble)).**\n\n----------------------------------------\n\nWhen ingesting 401K type account statements, I find it convenient to use a function to create an entry with price information when units are sold/reduced due to account maintainence fees. Since there is already a function create_simple_posting_with_cost, I think a similar function create_simple_posting_with_price will useful.\n\nOtherwise, we have to fallback to the Posting constructor which needs importing of other modules such as Amount, D/Decimal etc. in the custom Importer(s) that I find needing to write because ofx and cvs importers do not fulfill the needs\n","closed_by":null,"reactions":{"url":"https://api.github.com/repos/beancount/beancount/issues/326/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beancount/issues/326/timeline","performed_via_github_app":null,"state_reason":null},{"url":"https://api.github.com/repos/beancount/beancount/issues/325","repository_url":"https://api.github.com/repos/beancount/beancount","labels_url":"https://api.github.com/repos/beancount/beancount/issues/325/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beancount/issues/325/comments","events_url":"https://api.github.com/repos/beancount/beancount/issues/325/events","html_url":"https://github.com/beancount/beancount/issues/325","id":623375471,"node_id":"MDU6SXNzdWU2MjMzNzU0NzE=","number":325,"title":"Add support for inclusion of encrypted files","user":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":2080994022,"node_id":"MDU6TGFiZWwyMDgwOTk0MDIy","url":"https://api.github.com/repos/beancount/beancount/labels/P2","name":"P2","color":"ffaaaa","default":false,"description":"Low priority, addressing would result in useful improvements"},{"id":2080995647,"node_id":"MDU6TGFiZWwyMDgwOTk1NjQ3","url":"https://api.github.com/repos/beancount/beancount/labels/parser-loader","name":"parser-loader","color":"ededed","default":false,"description":"Component: Parser and loader"}],"state":"open","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":8,"created_at":"2018-08-20T14:50:22Z","updated_at":"2020-05-23T13:43:49Z","closed_at":null,"author_association":"MEMBER","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"**[Original report](https://bitbucket.org/blais/beancount/issue/325) by Milind Kamble (Bitbucket: [mbkamble](https://bitbucket.org/mbkamble), GitHub: [mbkamble](https://github.com/mbkamble)).**\n\n----------------------------------------\n\nI have been using beancount extensively for more than a year now. In the process, after learning that encrypted source files were supported, I switched my workflow to using such input. However, I also use 'include' directives to split the source file (esp for investment/401K transactions). Unfortunately, encrypted includes are not supported.\n\nI have created a patch that supports inclusion of encrypted files. It is a simple change in loader.py (in _parse_recursive).\nif you wish, Martin, I can create a PR.\n\n\nThanks,\nMilind\n","closed_by":null,"reactions":{"url":"https://api.github.com/repos/beancount/beancount/issues/325/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beancount/issues/325/timeline","performed_via_github_app":null,"state_reason":null},{"url":"https://api.github.com/repos/beancount/beancount/issues/324","repository_url":"https://api.github.com/repos/beancount/beancount","labels_url":"https://api.github.com/repos/beancount/beancount/issues/324/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beancount/issues/324/comments","events_url":"https://api.github.com/repos/beancount/beancount/issues/324/events","html_url":"https://github.com/beancount/beancount/issues/324","id":623375451,"node_id":"MDU6SXNzdWU2MjMzNzU0NTE=","number":324,"title":"When matching against a single lot, infer the currency","user":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":2080994022,"node_id":"MDU6TGFiZWwyMDgwOTk0MDIy","url":"https://api.github.com/repos/beancount/beancount/labels/P2","name":"P2","color":"ffaaaa","default":false,"description":"Low priority, addressing would result in useful improvements"},{"id":2081004612,"node_id":"MDU6TGFiZWwyMDgxMDA0NjEy","url":"https://api.github.com/repos/beancount/beancount/labels/booking","name":"booking","color":"ededed","default":false,"description":"Component: Booking algorithms"}],"state":"open","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":0,"created_at":"2018-08-14T03:51:37Z","updated_at":"2020-05-23T13:15:47Z","closed_at":null,"author_association":"MEMBER","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"**[Original report](https://bitbucket.org/blais/beancount/issue/324) by Martin Blais (Bitbucket: [blais](https://bitbucket.org/blais), GitHub: [blais](https://github.com/blais)).**\n\n----------------------------------------\n\nThis ought to work, there's a single posting in the ante-inventory:\n\n```\n#!python\n\noption \"booking_method\" \"LIFO\"\n\n;; fees\n2017-01-01 open Expenses:Fees:Trading\n2017-01-01 open Expenses:Fees:BTCMining\n\n;; wallets\n2017-01-01 open Assets:BTC:Jaxx\n2017-01-01 open Assets:BTC:Coinbase\n\n;; bank account\n2017-01-01 open Assets:Checking\n\n2017-06-13 * \"Coinbase\" \"Test buying bitcoin\"\n  Expenses:Fees:Trading                                          1.99 USD\n  Assets:BTC:Coinbase                                      0.01878653 BTC {2661.48 USD}\n  Assets:Checking                                              -51.99 USD\n\n\n;; transfer from Assets:BTC:Coinbase using LIFO booking method (I want to avoid\n;; having to specify the cost basis to match positions here since this is not important).\n;; I want to keep the cost basis with the BTC when they are transferred to other Assets\n;; accounts, since I still will have to compute P&L with them. I think losing the cost\n;; basis when spending to expenses is okay (?) unless I need to book them under losses?\n\n;; These examples consider that I know the amounts of all three postings\n\n2017-06-14 * \"Transfer\" \"Transfer funds to Jaxx wallet\"\n  Expenses:Fees:BTCMining                                      0.00105853 BTC\n  Assets:BTC:Coinbase                                         -0.00144853 BTC {}\n  Assets:BTC:Jaxx                                                 0.00039 BTC\n\n```\n","closed_by":null,"reactions":{"url":"https://api.github.com/repos/beancount/beancount/issues/324/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beancount/issues/324/timeline","performed_via_github_app":null,"state_reason":null},{"url":"https://api.github.com/repos/beancount/beancount/issues/323","repository_url":"https://api.github.com/repos/beancount/beancount","labels_url":"https://api.github.com/repos/beancount/beancount/issues/323/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beancount/issues/323/comments","events_url":"https://api.github.com/repos/beancount/beancount/issues/323/events","html_url":"https://github.com/beancount/beancount/issues/323","id":623375441,"node_id":"MDU6SXNzdWU2MjMzNzU0NDE=","number":323,"title":"Printer doesn't escape metadata strings","user":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":2080914000,"node_id":"MDU6TGFiZWwyMDgwOTE0MDAw","url":"https://api.github.com/repos/beancount/beancount/labels/BUG","name":"BUG","color":"cc99cc","default":false,"description":"This is a bug, not a feature request; something isn't working."},{"id":2080994777,"node_id":"MDU6TGFiZWwyMDgwOTk0Nzc3","url":"https://api.github.com/repos/beancount/beancount/labels/P1","name":"P1","color":"ff6666","default":false,"description":"High priority, not breaking but hindering or lessening existing functionality"},{"id":2080995647,"node_id":"MDU6TGFiZWwyMDgwOTk1NjQ3","url":"https://api.github.com/repos/beancount/beancount/labels/parser-loader","name":"parser-loader","color":"ededed","default":false,"description":"Component: Parser and loader"}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":2,"created_at":"2018-08-01T09:05:54Z","updated_at":"2018-10-05T02:07:37Z","closed_at":"2018-10-05T02:07:37Z","author_association":"MEMBER","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"**[Original report](https://bitbucket.org/blais/beancount/issue/323) by Christian Thiemann (Bitbucket: [c1thiemann](https://bitbucket.org/c1thiemann), GitHub: [cthiemann](https://github.com/cthiemann)).**\n\n----------------------------------------\n\n[beancount.parser.printer.EntryPrinter.write_metadata](https://bitbucket.org/blais/beancount/src/95ba37a428d29530fc3d565e14fd1386a6cd0bc5/beancount/parser/printer.py?at=default&fileviewer=file-view-default#printer.py-122,135,151,153) wraps string values in double quotes without escaping the value first, causing parsing errors when trying to load the generated file.\n\nPossible fix (works for me locally): change line 135 to\n\n```\n#!python\n    value_str = '\"{}\"'.format(misc_utils.escape_string(value))\n```\n","closed_by":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/beancount/beancount/issues/323/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beancount/issues/323/timeline","performed_via_github_app":null,"state_reason":"completed"},{"url":"https://api.github.com/repos/beancount/beancount/issues/322","repository_url":"https://api.github.com/repos/beancount/beancount","labels_url":"https://api.github.com/repos/beancount/beancount/issues/322/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beancount/issues/322/comments","events_url":"https://api.github.com/repos/beancount/beancount/issues/322/events","html_url":"https://github.com/beancount/beancount/issues/322","id":623375424,"node_id":"MDU6SXNzdWU2MjMzNzU0MjQ=","number":322,"title":"RuntimeError in running bean-example","user":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":2080914000,"node_id":"MDU6TGFiZWwyMDgwOTE0MDAw","url":"https://api.github.com/repos/beancount/beancount/labels/BUG","name":"BUG","color":"cc99cc","default":false,"description":"This is a bug, not a feature request; something isn't working."},{"id":2080994777,"node_id":"MDU6TGFiZWwyMDgwOTk0Nzc3","url":"https://api.github.com/repos/beancount/beancount/labels/P1","name":"P1","color":"ff6666","default":false,"description":"High priority, not breaking but hindering or lessening existing functionality"},{"id":2080994828,"node_id":"MDU6TGFiZWwyMDgwOTk0ODI4","url":"https://api.github.com/repos/beancount/beancount/labels/scripts","name":"scripts","color":"ededed","default":false,"description":"Component: Other scripts"}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":2,"created_at":"2018-07-29T16:19:50Z","updated_at":"2018-08-05T20:13:41Z","closed_at":"2018-08-05T20:13:41Z","author_association":"MEMBER","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"**[Original report](https://bitbucket.org/blais/beancount/issue/322) by Mike Myat Min Han (Bitbucket: Mike Han, GitHub: [mmhan](https://github.com/mmhan)).**\n\n----------------------------------------\n\nI'm running it for the first time, after installing it via pip3 like `sudo pip3 install beancount\n`\n\nI'm on MacOSX. Let me know if you need any other info.\n\n```\nINFO    : Generating Salary Employment Income\nTraceback (most recent call last):\n  File \"/usr/local/lib/python3.7/site-packages/beancount/utils/misc_utils.py\", line 143, in skipiter\n    value = next(sit)\nStopIteration\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/usr/local/bin/bean-example\", line 4, in <module>\n    from beancount.scripts.example import main; main()\n  File \"/usr/local/lib/python3.7/site-packages/beancount/scripts/example.py\", line 1777, in main\n    file=output_file)\n  File \"/usr/local/lib/python3.7/site-packages/beancount/scripts/example.py\", line 1541, in write_example_file\n    date_begin, date_end)\n  File \"/usr/local/lib/python3.7/site-packages/beancount/scripts/example.py\", line 459, in generate_employment_income\n    dtstart=date_begin, until=date_end), 2):\nRuntimeError: generator raised StopIteration\n```\n","closed_by":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/beancount/beancount/issues/322/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beancount/issues/322/timeline","performed_via_github_app":null,"state_reason":"completed"},{"url":"https://api.github.com/repos/beancount/beancount/issues/321","repository_url":"https://api.github.com/repos/beancount/beancount","labels_url":"https://api.github.com/repos/beancount/beancount/issues/321/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beancount/issues/321/comments","events_url":"https://api.github.com/repos/beancount/beancount/issues/321/events","html_url":"https://github.com/beancount/beancount/issues/321","id":623375406,"node_id":"MDU6SXNzdWU2MjMzNzU0MDY=","number":321,"title":"Comments on non-transaction directives give \"unexpected COMMENT, expecting KEY\"","user":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":2080914000,"node_id":"MDU6TGFiZWwyMDgwOTE0MDAw","url":"https://api.github.com/repos/beancount/beancount/labels/BUG","name":"BUG","color":"cc99cc","default":false,"description":"This is a bug, not a feature request; something isn't working."},{"id":2080994022,"node_id":"MDU6TGFiZWwyMDgwOTk0MDIy","url":"https://api.github.com/repos/beancount/beancount/labels/P2","name":"P2","color":"ffaaaa","default":false,"description":"Low priority, addressing would result in useful improvements"},{"id":2080995647,"node_id":"MDU6TGFiZWwyMDgwOTk1NjQ3","url":"https://api.github.com/repos/beancount/beancount/labels/parser-loader","name":"parser-loader","color":"ededed","default":false,"description":"Component: Parser and loader"}],"state":"open","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":0,"created_at":"2018-07-24T02:11:21Z","updated_at":"2018-07-24T02:12:17Z","closed_at":null,"author_association":"MEMBER","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"**[Original report](https://bitbucket.org/blais/beancount/issue/321) by Mark Lodato (Bitbucket: [marklodato](https://bitbucket.org/marklodato), GitHub: [marklodato](https://github.com/marklodato)).**\n\n----------------------------------------\n\n## Description\n\nBeancount gives a parse error if you try to put a comment in the metadata section of a directive like `commodity` or `open`, but not `txn`. This appears to be a bug, since comments are allowed within transactions and the [documentation](https://docs.google.com/document/d/1wAMVrKIA2qtRGmoVDSUBJGmYZSygUaR0uOMW1GV3YE0/edit#heading=h.9zjhwskw53j8) does not say this is disallowed.\n\n## Example\n\n```\n#!beancount\n\n2000-01-01 commodity USD\n  meta: 1\n  ; this is an error, as is the next line\n  meta2: 2\n2000-01-01 open Income:Foo\n2000-01-01 open Expenses:Bar\n2000-01-01 * \"Transaction\"\n  ; this works fine\n  Income:Foo -1 USD\n    meta: 1\n    ; so does this\n  Expenses:Bar 1 USD\n```\n\n```\n#!bash\n\n$ bean-check file.bean\nfile.bean:3:       syntax error, unexpected COMMENT, expecting KEY\n\nfile.bean:4:       syntax error, unexpected KEY\n```\n\n## Motivation / user impact\n\nI am a new user who has not yet even written a single transaction. I started by defining commodities and immediately ran into this error. Here is my example, to provide motivation:\n\n```\n#!beancount\n\n2010-11-30 commodity VSMAX\n  name: \"Vanguard Small-Cap Index Fund Admiral Shares\"\n  ticker: \"VSMAX\"\n  vanguard_fund_id: \"0548\"\n\n2007-06-28 commodity VFIFX_TI\n  name: \"Vanguard Target Retirement 2050 Trust I\"\n  ; no ticker\n  vanguard_fund_id: \"1470\"\n```\n","closed_by":null,"reactions":{"url":"https://api.github.com/repos/beancount/beancount/issues/321/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beancount/issues/321/timeline","performed_via_github_app":null,"state_reason":null},{"url":"https://api.github.com/repos/beancount/beancount/issues/319","repository_url":"https://api.github.com/repos/beancount/beancount","labels_url":"https://api.github.com/repos/beancount/beancount/issues/319/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beancount/issues/319/comments","events_url":"https://api.github.com/repos/beancount/beancount/issues/319/events","html_url":"https://github.com/beancount/beancount/issues/319","id":623375361,"node_id":"MDU6SXNzdWU2MjMzNzUzNjE=","number":319,"title":"beancount tip python version considered older than pypi version","user":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":2080914000,"node_id":"MDU6TGFiZWwyMDgwOTE0MDAw","url":"https://api.github.com/repos/beancount/beancount/labels/BUG","name":"BUG","color":"cc99cc","default":false,"description":"This is a bug, not a feature request; something isn't working."},{"id":2080994022,"node_id":"MDU6TGFiZWwyMDgwOTk0MDIy","url":"https://api.github.com/repos/beancount/beancount/labels/P2","name":"P2","color":"ffaaaa","default":false,"description":"Low priority, addressing would result in useful improvements"}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":1,"created_at":"2018-07-19T17:52:13Z","updated_at":"2018-07-20T03:00:20Z","closed_at":"2018-07-20T03:00:20Z","author_association":"MEMBER","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"**[Original report](https://bitbucket.org/blais/beancount/issue/319) by Jason Chu (Bitbucket: [xentac](https://bitbucket.org/xentac), GitHub: [xentac](https://github.com/xentac)).**\n\n----------------------------------------\n\nhttps://bitbucket.org/blais/beancount/commits/03bb037d4825e9e4279dc3508ff88fccec832eb8 changed the version from 2.1.2 to 2.1.2-devel. According to https://www.python.org/dev/peps/pep-0440/#developmental-releases, the -devel suffix is sorted before the unsuffixed version, so current devel is actually a previous version to what's been released.\n\nI recommend setting it to 2.1.3-devel.\n\nSee https://github.com/beancount/fava/issues/792#issuecomment-405109544 for a bit of the reasoning.\n","closed_by":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/beancount/beancount/issues/319/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beancount/issues/319/timeline","performed_via_github_app":null,"state_reason":"completed"},{"url":"https://api.github.com/repos/beancount/beancount/issues/318","repository_url":"https://api.github.com/repos/beancount/beancount","labels_url":"https://api.github.com/repos/beancount/beancount/issues/318/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beancount/issues/318/comments","events_url":"https://api.github.com/repos/beancount/beancount/issues/318/events","html_url":"https://github.com/beancount/beancount/issues/318","id":623375337,"node_id":"MDU6SXNzdWU2MjMzNzUzMzc=","number":318,"title":"Implement trading accounts as a plugin (if possible)","user":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":2080994022,"node_id":"MDU6TGFiZWwyMDgwOTk0MDIy","url":"https://api.github.com/repos/beancount/beancount/labels/P2","name":"P2","color":"ffaaaa","default":false,"description":"Low priority, addressing would result in useful improvements"},{"id":2081000893,"node_id":"MDU6TGFiZWwyMDgxMDAwODkz","url":"https://api.github.com/repos/beancount/beancount/labels/plugins","name":"plugins","color":"ededed","default":false,"description":"Component: Plug-ins"}],"state":"open","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":8,"created_at":"2018-07-12T04:38:31Z","updated_at":"2020-05-23T13:15:47Z","closed_at":null,"author_association":"MEMBER","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"**[Original report](https://bitbucket.org/blais/beancount/issue/318) by Martin Blais (Bitbucket: [blais](https://bitbucket.org/blais), GitHub: [blais](https://github.com/blais)).**\n\n----------------------------------------\n\nhttps://groups.google.com/d/msgid/beancount/4819b9ce-a322-44c7-b012-f67572e9fb39%40googlegroups.com?utm_medium=email&utm_source=footer\n","closed_by":null,"reactions":{"url":"https://api.github.com/repos/beancount/beancount/issues/318/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beancount/issues/318/timeline","performed_via_github_app":null,"state_reason":null},{"url":"https://api.github.com/repos/beancount/beancount/issues/317","repository_url":"https://api.github.com/repos/beancount/beancount","labels_url":"https://api.github.com/repos/beancount/beancount/issues/317/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beancount/issues/317/comments","events_url":"https://api.github.com/repos/beancount/beancount/issues/317/events","html_url":"https://github.com/beancount/beancount/issues/317","id":623375315,"node_id":"MDU6SXNzdWU2MjMzNzUzMTU=","number":317,"title":"Initialize included files with some options from the top-level file","user":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":2080994022,"node_id":"MDU6TGFiZWwyMDgwOTk0MDIy","url":"https://api.github.com/repos/beancount/beancount/labels/P2","name":"P2","color":"ffaaaa","default":false,"description":"Low priority, addressing would result in useful improvements"}],"state":"open","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":3,"created_at":"2018-07-10T03:10:49Z","updated_at":"2020-05-23T13:15:47Z","closed_at":null,"author_association":"MEMBER","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"**[Original report](https://bitbucket.org/blais/beancount/issue/317) by Martin Blais (Bitbucket: [blais](https://bitbucket.org/blais), GitHub: [blais](https://github.com/blais)).**\n\n----------------------------------------\n\nRight now you have to reset it in every file.\n\nHere, in the parser's Builder object:\nhttps://bitbucket.org/blais/beancount/src/80d30d6896cf5fdcff8c1156cab77107ee8e0f96/beancount/parser/grammar.py#lines-384\n\nIt's initially set to defaults for each file:\nhttps://bitbucket.org/blais/beancount/src/80d30d6896cf5fdcff8c1156cab77107ee8e0f96/beancount/parser/grammar.py#lines-135\n\nA new Builder instance is used for each file:\nhttps://bitbucket.org/blais/beancount/src/80d30d6896cf5fdcff8c1156cab77107ee8e0f96/beancount/parser/parser.py#lines-196\n\nThe parser function is invoked here:\nhttps://bitbucket.org/blais/beancount/src/80d30d6896cf5fdcff8c1156cab77107ee8e0f96/beancount/loader.py#lines-341\n\nIn general, it's unclear how this would be defined.\nWhat if multiple files override the value? Then it becomes dependent on the order the files would be parsed.\n\nOne compromise that would be reasonably easy to implement would be to restrict the value to be set only in the top-level file and to then to initialize each parser for all the other included files from the options read in the top-level file. This would be predictable, well-defined, and would handle this particular case. \n\nIt's not free however (what ever is?): now you have options which can be defined in the top-level file, and others which can be used in all files. Maybe that's better than just failing silently.\n\nI'll file a ticket.\n\n\n\nOn Mon, Jul 9, 2018 at 8:42 PM Alan Post <alanpost@c0redump.org> wrote:\nOn Mon, Jul 09, 2018 at 02:26:04PM -0700, Florian Geiss wrote:\n> When I use the standard category Assets:BestBank:Checking, bean-check runs fine\n> when calling it with:\n> \n> bean-check header.beancount\n> \n> However, with the \"name_assets\" option, the same command gives me above error\n> in file body.beancount.\n> Am I missing something or might this be a bug?\n> \n\nI do think this is a bug.  You can work around it by restating the\noption \"name_assets\" \"Weath\" command in each included file.\n","closed_by":null,"reactions":{"url":"https://api.github.com/repos/beancount/beancount/issues/317/reactions","total_count":2,"+1":2,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beancount/issues/317/timeline","performed_via_github_app":null,"state_reason":null},{"url":"https://api.github.com/repos/beancount/beancount/issues/316","repository_url":"https://api.github.com/repos/beancount/beancount","labels_url":"https://api.github.com/repos/beancount/beancount/issues/316/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beancount/issues/316/comments","events_url":"https://api.github.com/repos/beancount/beancount/issues/316/events","html_url":"https://github.com/beancount/beancount/issues/316","id":623375281,"node_id":"MDU6SXNzdWU2MjMzNzUyODE=","number":316,"title":"\"Open On\" in bean-query does not work with multiple \"WHERE\" clauses","user":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":2080914000,"node_id":"MDU6TGFiZWwyMDgwOTE0MDAw","url":"https://api.github.com/repos/beancount/beancount/labels/BUG","name":"BUG","color":"cc99cc","default":false,"description":"This is a bug, not a feature request; something isn't working."},{"id":2080994777,"node_id":"MDU6TGFiZWwyMDgwOTk0Nzc3","url":"https://api.github.com/repos/beancount/beancount/labels/P1","name":"P1","color":"ff6666","default":false,"description":"High priority, not breaking but hindering or lessening existing functionality"}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":4,"created_at":"2018-07-10T01:05:09Z","updated_at":"2018-07-11T01:22:01Z","closed_at":"2018-07-10T03:12:47Z","author_association":"MEMBER","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"**[Original report](https://bitbucket.org/blais/beancount/issue/316) by Wolfgang E. Sanyer (Bitbucket: [wesanyer](https://bitbucket.org/wesanyer), GitHub: [ezzieyguywuf](https://github.com/ezzieyguywuf)).**\n\n----------------------------------------\n\nFor example:\n\n\n```\n#!sql\n\nselect date,description,position,balance from open on 2018-07-01 where account ~\"check\"\n```\nworks as expected, and on 2018-07-01 there is a 'virtual' transaction that carries over the balance from 2018-06-30. However\n\n```\n#!sql\n\nselect date,description,position,balance from open on 2018-07-01 where account ~\"check\" and flag = \"*\"\n```\n\ndoes not generate this same 'virtual' transaction as expected. Rather, the initial balance is 0 and any transactions in july are cumulative only with themselves.\n","closed_by":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/beancount/beancount/issues/316/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beancount/issues/316/timeline","performed_via_github_app":null,"state_reason":"completed"},{"url":"https://api.github.com/repos/beancount/beancount/issues/315","repository_url":"https://api.github.com/repos/beancount/beancount","labels_url":"https://api.github.com/repos/beancount/beancount/issues/315/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beancount/issues/315/comments","events_url":"https://api.github.com/repos/beancount/beancount/issues/315/events","html_url":"https://github.com/beancount/beancount/issues/315","id":623375266,"node_id":"MDU6SXNzdWU2MjMzNzUyNjY=","number":315,"title":"Remove costly copy (potentially - review)","user":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":2080994777,"node_id":"MDU6TGFiZWwyMDgwOTk0Nzc3","url":"https://api.github.com/repos/beancount/beancount/labels/P1","name":"P1","color":"ff6666","default":false,"description":"High priority, not breaking but hindering or lessening existing functionality"}],"state":"open","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":1,"created_at":"2018-07-08T01:07:10Z","updated_at":"2020-06-27T18:21:26Z","closed_at":null,"author_association":"MEMBER","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"**[Original report](https://bitbucket.org/blais/beancount/issue/315) by Martin Blais (Bitbucket: [blais](https://bitbucket.org/blais), GitHub: [blais](https://github.com/blais)).**\n\n----------------------------------------\n\nhttps://groups.google.com/d/msg/beancount/VnvwII4fJII/R0zTdfBBCQAJ\n","closed_by":null,"reactions":{"url":"https://api.github.com/repos/beancount/beancount/issues/315/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beancount/issues/315/timeline","performed_via_github_app":null,"state_reason":null},{"url":"https://api.github.com/repos/beancount/beancount/issues/314","repository_url":"https://api.github.com/repos/beancount/beancount","labels_url":"https://api.github.com/repos/beancount/beancount/issues/314/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beancount/issues/314/comments","events_url":"https://api.github.com/repos/beancount/beancount/issues/314/events","html_url":"https://github.com/beancount/beancount/issues/314","id":623375203,"node_id":"MDU6SXNzdWU2MjMzNzUyMDM=","number":314,"title":"Process plugins from include files other than the top-level file","user":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":2080994022,"node_id":"MDU6TGFiZWwyMDgwOTk0MDIy","url":"https://api.github.com/repos/beancount/beancount/labels/P2","name":"P2","color":"ffaaaa","default":false,"description":"Low priority, addressing would result in useful improvements"}],"state":"open","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":0,"created_at":"2018-07-05T06:49:22Z","updated_at":"2020-05-23T13:44:19Z","closed_at":null,"author_association":"MEMBER","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"**[Original report](https://bitbucket.org/blais/beancount/issue/314) by Martin Blais (Bitbucket: [blais](https://bitbucket.org/blais), GitHub: [blais](https://github.com/blais)).**\n\n----------------------------------------\n\nSee doc on Language Syntax: \nhttps://docs.google.com/document/d/1wAMVrKIA2qtRGmoVDSUBJGmYZSygUaR0uOMW1GV3YE0/edit?disco=AAAABO-86dw&ts=59786a57&usp=comment_email_document\n\n\n\nFelix Geisendoerfer replied to a comment on Beancount - Language Syntax\nFelix Geisendoerfer\nFelix Geisendoerfer\noptions are parsed per-file\nFrom my testing it seems that this also impacts plugins. I.e. if I include a file which uses plugins the plugin entries are lost. Is that expected?\n\nEdit: In case you're wondering what my use case is: I have a main file where I keep all my transactions, but then I'd like to have several files where I include this file + a few plugins I wrote. Those plugins essentially allow me to see a different \"view\" of my finances, e.g. my travel costs excluded, things split up between me and my wife, etc.\n\nMartin Blais\nMartin Blais\nI don't think plugins in files other than the top level file are processed. But I can't remember very well. See here for the logic: https://bitbucket.org/blais/beancount/src/tip/beancount/loader.py?fileviewer=file-view-default\n\nIf you can provide a minimal example that shows the problem I can probably fix this easily.\n\nFelix Geisendoerfer\nFelix Geisendoerfer\nHi Martin. Here is a minimal example: https://gist.github.com/felixge/d8eb732daac615adc5974d9e106fa3bb\n\nIf you could fix this that'd be great. I took a look at loader_test.py to see if I could contribute a test case/fix, but I'm not quite sure how to go about it. Could I simply tie one of the existing plugins into the test case?\n\nMartin Blais\nMartin Blais\nhttps://bitbucket.org/blais/beancount/issues/180/make-options-work-within-files\n\n(Note: I won't have time to deal with this for a while, too much other stuff going on for many months.)\n\nFelix Geisendoerfer\nFelix Geisendoerfer\nNo worries. Do you think you might find some time to review a patch if I come up with one? If yes I might try to give it a shot, but otherwise I'd rather not get into it if it won't be merged for a long time.\n\nMartin Blais\nMartin Blais\nProblem is I don't want to change anything much until I bake the 1.0 release, trying to keep things very stable until then. The only thing missing for 1.0 is a difficult bug fix and a way to automatically convert all the docs to markdown.\n\nThat's going to take a bit of time... life is getting in the way; I'm moving in two weeks, and then I'm going on a long vacation. Not sure what to say.\n\nMaybe I should just release 1.0 as is and review patches right away. I'll think about this for a bit.\n\nFelix Geisendoerfer\nFelix Geisendoerfer\nNo problem. Take your time. I'll just send a patch if I find the time for it, and then you can review it whenever you find time : ). Thanks for all your answers so far!\n\nOpen\n","closed_by":null,"reactions":{"url":"https://api.github.com/repos/beancount/beancount/issues/314/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beancount/issues/314/timeline","performed_via_github_app":null,"state_reason":null},{"url":"https://api.github.com/repos/beancount/beancount/issues/313","repository_url":"https://api.github.com/repos/beancount/beancount","labels_url":"https://api.github.com/repos/beancount/beancount/issues/313/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beancount/issues/313/comments","events_url":"https://api.github.com/repos/beancount/beancount/issues/313/events","html_url":"https://github.com/beancount/beancount/issues/313","id":623375185,"node_id":"MDU6SXNzdWU2MjMzNzUxODU=","number":313,"title":"Create links on Note, Document and Balance directives","user":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":2080914000,"node_id":"MDU6TGFiZWwyMDgwOTE0MDAw","url":"https://api.github.com/repos/beancount/beancount/labels/BUG","name":"BUG","color":"cc99cc","default":false,"description":"This is a bug, not a feature request; something isn't working."},{"id":2080994022,"node_id":"MDU6TGFiZWwyMDgwOTk0MDIy","url":"https://api.github.com/repos/beancount/beancount/labels/P2","name":"P2","color":"ffaaaa","default":false,"description":"Low priority, addressing would result in useful improvements"}],"state":"open","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":0,"created_at":"2018-07-05T06:37:36Z","updated_at":"2018-07-05T06:37:36Z","closed_at":null,"author_association":"MEMBER","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"**[Original report](https://bitbucket.org/blais/beancount/issue/313) by Martin Blais (Bitbucket: [blais](https://bitbucket.org/blais), GitHub: [blais](https://github.com/blais)).**\n\n----------------------------------------\n\nSee bluezenix@gmail.com on list.\n","closed_by":null,"reactions":{"url":"https://api.github.com/repos/beancount/beancount/issues/313/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beancount/issues/313/timeline","performed_via_github_app":null,"state_reason":null},{"url":"https://api.github.com/repos/beancount/beancount/issues/312","repository_url":"https://api.github.com/repos/beancount/beancount","labels_url":"https://api.github.com/repos/beancount/beancount/issues/312/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beancount/issues/312/comments","events_url":"https://api.github.com/repos/beancount/beancount/issues/312/events","html_url":"https://github.com/beancount/beancount/issues/312","id":623375158,"node_id":"MDU6SXNzdWU2MjMzNzUxNTg=","number":312,"title":"bean-query returns None instead of zero for numbers","user":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":2080914000,"node_id":"MDU6TGFiZWwyMDgwOTE0MDAw","url":"https://api.github.com/repos/beancount/beancount/labels/BUG","name":"BUG","color":"cc99cc","default":false,"description":"This is a bug, not a feature request; something isn't working."},{"id":2080994252,"node_id":"MDU6TGFiZWwyMDgwOTk0MjUy","url":"https://api.github.com/repos/beancount/beancount/labels/query-sql","name":"query-sql","color":"ededed","default":false,"description":"Component: SQL query engine"},{"id":2080994777,"node_id":"MDU6TGFiZWwyMDgwOTk0Nzc3","url":"https://api.github.com/repos/beancount/beancount/labels/P1","name":"P1","color":"ff6666","default":false,"description":"High priority, not breaking but hindering or lessening existing functionality"}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":1,"created_at":"2018-07-05T00:05:21Z","updated_at":"2020-05-23T14:59:53Z","closed_at":"2020-05-23T14:59:53Z","author_association":"MEMBER","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"**[Original report](https://bitbucket.org/blais/beancount/issue/312) by ghislainbourgeois (Bitbucket: [ghislainbourgeois](https://bitbucket.org/ghislainbourgeois), GitHub: [ghislainbourgeois](https://github.com/ghislainbourgeois)).**\n\n----------------------------------------\n\nUsing bean-query from the command line or the API will return None instead of zero when any number is calculated to be zero. This is a problem because there is no way of differentiating errors and simple zeros. \n\nA good way to reproduce this issue is by buying a position and selling all of it. The attached test file can be used to reproduce the issue with this query:\n\n```\n#!text\n\nbeancount> select currency, value(sum(position)) group by currency\ncurr value_su\n---- --------\nCAD  -920 CAD\nTD\nMSFT  600 CAD\nVAB   320 CAD\n```\n\nIn this case, I would expect the TD field to be 0 has we have all the required data to calculate the value.\n","closed_by":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/beancount/beancount/issues/312/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beancount/issues/312/timeline","performed_via_github_app":null,"state_reason":"completed"},{"url":"https://api.github.com/repos/beancount/beancount/issues/311","repository_url":"https://api.github.com/repos/beancount/beancount","labels_url":"https://api.github.com/repos/beancount/beancount/issues/311/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beancount/issues/311/comments","events_url":"https://api.github.com/repos/beancount/beancount/issues/311/events","html_url":"https://github.com/beancount/beancount/issues/311","id":623375136,"node_id":"MDU6SXNzdWU2MjMzNzUxMzY=","number":311,"title":"Problem when installing via pip on Windows or compiling from source","user":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":2080914000,"node_id":"MDU6TGFiZWwyMDgwOTE0MDAw","url":"https://api.github.com/repos/beancount/beancount/labels/BUG","name":"BUG","color":"cc99cc","default":false,"description":"This is a bug, not a feature request; something isn't working."},{"id":2080994777,"node_id":"MDU6TGFiZWwyMDgwOTk0Nzc3","url":"https://api.github.com/repos/beancount/beancount/labels/P1","name":"P1","color":"ff6666","default":false,"description":"High priority, not breaking but hindering or lessening existing functionality"},{"id":2080995647,"node_id":"MDU6TGFiZWwyMDgwOTk1NjQ3","url":"https://api.github.com/repos/beancount/beancount/labels/parser-loader","name":"parser-loader","color":"ededed","default":false,"description":"Component: Parser and loader"}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":3,"created_at":"2018-07-04T14:49:58Z","updated_at":"2018-08-19T18:05:44Z","closed_at":"2018-08-19T18:05:44Z","author_association":"MEMBER","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"**[Original report](https://bitbucket.org/blais/beancount/issue/311) by Victor Araújo (Bitbucket: [victoraraujo01](https://bitbucket.org/victoraraujo01), GitHub: [victoraraujo01](https://github.com/victoraraujo01)).**\n\n----------------------------------------\n\nPython version: 3.7.0\nPip version: 10.0.1\n\nSteps to reproduce:\n\n1. Install python from .msi\n2. Install Visual Studio Code Build Tools\n3. Try to install beancount either via pip or by compiling the source code\n\nErrors obtained:\n\n`beancount/parser/parser.c(290): warning C4003: not enough actual parameters for macro 'STRINGIFY'`\n\nIntepretation:\n\nLooking at the whole installation log I found two other errors related to version control. Since my system is in portuguese, I'll try to translate it:\n\n    aborted: repository not found in 'C:\\Users\\u4dd\\AppData\\Local\\Temp\\pip-install-o355xqsy\\beancount' (.hg not found)!\n    fatal: not a git repository (or any of the parent directories): .git\n\nWhen compiling from source, the error is a little different:\n\n    hg: input analysis error: date expects date information\n    fatal: not a git repository (or any of the parent directories): .git\n\nSo, from what I could tell, because the calls to `get_git_changeset` and  `get_hg_changeset` fail, the `vc_changeset` variable on the `setup.py` file ends up being set to an empty string `''`. Because it is empty, the `setup()` call does not set the `VC_CHANGESET` macro and it causes an error on the compilation of the `parser.c` file.\n\nThe calls to `get_git_changeset` and  `get_hg_changeset` fail on the installation via pip probably because the package does not contain a `.git` or `.hg` directory. However, when trying to compile from source, I've noticed that the Mercurial command it tries to run appears to be incorrect, since `\"%s\"` is not a valid option. Maybe it's supposed to be in caps, like `%S`?\n","closed_by":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/beancount/beancount/issues/311/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beancount/issues/311/timeline","performed_via_github_app":null,"state_reason":"completed"},{"url":"https://api.github.com/repos/beancount/beancount/issues/309","repository_url":"https://api.github.com/repos/beancount/beancount","labels_url":"https://api.github.com/repos/beancount/beancount/issues/309/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beancount/issues/309/comments","events_url":"https://api.github.com/repos/beancount/beancount/issues/309/events","html_url":"https://github.com/beancount/beancount/issues/309","id":623375092,"node_id":"MDU6SXNzdWU2MjMzNzUwOTI=","number":309,"title":"Install via pip3 fails if hg not installed.","user":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":2080914000,"node_id":"MDU6TGFiZWwyMDgwOTE0MDAw","url":"https://api.github.com/repos/beancount/beancount/labels/BUG","name":"BUG","color":"cc99cc","default":false,"description":"This is a bug, not a feature request; something isn't working."},{"id":2080994777,"node_id":"MDU6TGFiZWwyMDgwOTk0Nzc3","url":"https://api.github.com/repos/beancount/beancount/labels/P1","name":"P1","color":"ff6666","default":false,"description":"High priority, not breaking but hindering or lessening existing functionality"}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":5,"created_at":"2018-06-17T16:34:19Z","updated_at":"2019-03-03T22:23:15Z","closed_at":"2019-03-03T15:11:05Z","author_association":"MEMBER","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"**[Original report](https://bitbucket.org/blais/beancount/issue/309) by Joe Planisky (Bitbucket: [jplanisky](https://bitbucket.org/jplanisky), GitHub: [jplanisky](https://github.com/jplanisky)).**\n\n----------------------------------------\n\nAttempting to install via pip3 on Mac OS 10.12.6 fails with \n```\n#!python\n\n$ pip3 install beancount\nCollecting beancount\n  Using cached https://files.pythonhosted.org/packages/3c/c5/f8ab88323ebef96d8b17e36e70cee268fec298881169cd7559d1907a5ccf/beancount-2.1.2.tar.gz\n    Complete output from command python setup.py egg_info:\n    Traceback (most recent call last):\n      File \"<string>\", line 1, in <module>\n      File \"/private/var/folders/cm/yp6lqtt55xd4r91b7ygtxfbr0000gn/T/pip-build-owvyj6ij/beancount/setup.py\", line 197, in <module>\n        changeset_timestamp = get_changeset()\n      File \"/private/var/folders/cm/yp6lqtt55xd4r91b7ygtxfbr0000gn/T/pip-build-owvyj6ij/beancount/setup.py\", line 173, in get_hg_changeset\n        shell=False)\n      File \"/usr/local/Cellar/python/3.6.5/Frameworks/Python.framework/Versions/3.6/lib/python3.6/subprocess.py\", line 336, in check_output\n        **kwargs).stdout\n      File \"/usr/local/Cellar/python/3.6.5/Frameworks/Python.framework/Versions/3.6/lib/python3.6/subprocess.py\", line 403, in run\n        with Popen(*popenargs, **kwargs) as process:\n      File \"/usr/local/Cellar/python/3.6.5/Frameworks/Python.framework/Versions/3.6/lib/python3.6/subprocess.py\", line 709, in __init__\n        restore_signals, start_new_session)\n      File \"/usr/local/Cellar/python/3.6.5/Frameworks/Python.framework/Versions/3.6/lib/python3.6/subprocess.py\", line 1344, in _execute_child\n        raise child_exception_type(errno_num, err_msg, err_filename)\n    PermissionError: [Errno 13] Permission denied: 'hg'\n    \n    ----------------------------------------\nCommand \"python setup.py egg_info\" failed with error code 1 in /private/var/folders/cm/yp6lqtt55xd4r91b7ygtxfbr0000gn/T/pip-build-owvyj6ij/beancount/\n```\nI believe this is due to a [bug in Python3](https://bugs.python.org/issue25481) where `subprocess.check_output()` raises a `PermissionError` if the executable isn't found instead of the (expected) `FileNotFound` exception.  Although that bug report talks about an inaccessible directory on the path, it seems to apply to executables that don't exist.  \n\n```\n#!python\n\n$ python3\nPython 3.6.5 (default, May  1 2018, 19:59:44) \n[GCC 4.2.1 Compatible Apple LLVM 9.0.0 (clang-900.0.39.2)] on darwin\nType \"help\", \"copyright\", \"credits\" or \"license\" for more information.\n>>> import subprocess\n>>> subprocess.check_output(['nosuchfile'])\nTraceback (most recent call last):\n  File \"<stdin>\", line 1, in <module>\n  File \"/usr/local/Cellar/python/3.6.5/Frameworks/Python.framework/Versions/3.6/lib/python3.6/subprocess.py\", line 336, in check_output\n    **kwargs).stdout\n  File \"/usr/local/Cellar/python/3.6.5/Frameworks/Python.framework/Versions/3.6/lib/python3.6/subprocess.py\", line 403, in run\n    with Popen(*popenargs, **kwargs) as process:\n  File \"/usr/local/Cellar/python/3.6.5/Frameworks/Python.framework/Versions/3.6/lib/python3.6/subprocess.py\", line 709, in __init__\n    restore_signals, start_new_session)\n  File \"/usr/local/Cellar/python/3.6.5/Frameworks/Python.framework/Versions/3.6/lib/python3.6/subprocess.py\", line 1344, in _execute_child\n    raise child_exception_type(errno_num, err_msg, err_filename)\nPermissionError: [Errno 13] Permission denied: 'nosuchfile'\n```\nThe fix for beancount would be to add `PermissionError` to the list of expected exceptions in `get_hg_changeset` and `get_git_changeset` in `setup.py`.\n","closed_by":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/beancount/beancount/issues/309/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beancount/issues/309/timeline","performed_via_github_app":null,"state_reason":"completed"},{"url":"https://api.github.com/repos/beancount/beancount/issues/307","repository_url":"https://api.github.com/repos/beancount/beancount","labels_url":"https://api.github.com/repos/beancount/beancount/issues/307/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beancount/issues/307/comments","events_url":"https://api.github.com/repos/beancount/beancount/issues/307/events","html_url":"https://github.com/beancount/beancount/issues/307","id":623375049,"node_id":"MDU6SXNzdWU2MjMzNzUwNDk=","number":307,"title":"not possile to complie beancount parser","user":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":2080914000,"node_id":"MDU6TGFiZWwyMDgwOTE0MDAw","url":"https://api.github.com/repos/beancount/beancount/labels/BUG","name":"BUG","color":"cc99cc","default":false,"description":"This is a bug, not a feature request; something isn't working."},{"id":2080994777,"node_id":"MDU6TGFiZWwyMDgwOTk0Nzc3","url":"https://api.github.com/repos/beancount/beancount/labels/P1","name":"P1","color":"ff6666","default":false,"description":"High priority, not breaking but hindering or lessening existing functionality"},{"id":2080995647,"node_id":"MDU6TGFiZWwyMDgwOTk1NjQ3","url":"https://api.github.com/repos/beancount/beancount/labels/parser-loader","name":"parser-loader","color":"ededed","default":false,"description":"Component: Parser and loader"}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":2,"created_at":"2018-06-14T21:39:49Z","updated_at":"2020-05-23T15:00:59Z","closed_at":"2020-05-23T15:00:59Z","author_association":"MEMBER","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"**[Original report](https://bitbucket.org/blais/beancount/issue/307) by francois_99@yahoo.fr (Bitbucket: [francois_99](https://bitbucket.org/francois_99)).**\n\n----------------------------------------\n\nwe can't compile parser with the current vc ++ compiler.\neasy to change\n","closed_by":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/beancount/beancount/issues/307/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beancount/issues/307/timeline","performed_via_github_app":null,"state_reason":"completed"},{"url":"https://api.github.com/repos/beancount/beancount/issues/306","repository_url":"https://api.github.com/repos/beancount/beancount","labels_url":"https://api.github.com/repos/beancount/beancount/issues/306/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beancount/issues/306/comments","events_url":"https://api.github.com/repos/beancount/beancount/issues/306/events","html_url":"https://github.com/beancount/beancount/issues/306","id":623375027,"node_id":"MDU6SXNzdWU2MjMzNzUwMjc=","number":306,"title":"Make account optional on Document directive.","user":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":2080994022,"node_id":"MDU6TGFiZWwyMDgwOTk0MDIy","url":"https://api.github.com/repos/beancount/beancount/labels/P2","name":"P2","color":"ffaaaa","default":false,"description":"Low priority, addressing would result in useful improvements"},{"id":2080995647,"node_id":"MDU6TGFiZWwyMDgwOTk1NjQ3","url":"https://api.github.com/repos/beancount/beancount/labels/parser-loader","name":"parser-loader","color":"ededed","default":false,"description":"Component: Parser and loader"}],"state":"open","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":0,"created_at":"2018-06-04T14:10:22Z","updated_at":"2020-05-23T13:15:47Z","closed_at":null,"author_association":"MEMBER","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"**[Original report](https://bitbucket.org/blais/beancount/issue/306) by Martin Blais (Bitbucket: [blais](https://bitbucket.org/blais), GitHub: [blais](https://github.com/blais)).**\n\n----------------------------------------\n\nSee https://groups.google.com/d/msgid/beancount/20180601114751.GK32715%40upsilon.cc\n\nAllowing Document directives to be provided without an account would allow more flexibility.\n","closed_by":null,"reactions":{"url":"https://api.github.com/repos/beancount/beancount/issues/306/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beancount/issues/306/timeline","performed_via_github_app":null,"state_reason":null},{"url":"https://api.github.com/repos/beancount/beancount/issues/305","repository_url":"https://api.github.com/repos/beancount/beancount","labels_url":"https://api.github.com/repos/beancount/beancount/issues/305/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beancount/issues/305/comments","events_url":"https://api.github.com/repos/beancount/beancount/issues/305/events","html_url":"https://github.com/beancount/beancount/issues/305","id":623375012,"node_id":"MDU6SXNzdWU2MjMzNzUwMTI=","number":305,"title":"Test account bases with UTF8","user":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":2080914000,"node_id":"MDU6TGFiZWwyMDgwOTE0MDAw","url":"https://api.github.com/repos/beancount/beancount/labels/BUG","name":"BUG","color":"cc99cc","default":false,"description":"This is a bug, not a feature request; something isn't working."},{"id":2080994022,"node_id":"MDU6TGFiZWwyMDgwOTk0MDIy","url":"https://api.github.com/repos/beancount/beancount/labels/P2","name":"P2","color":"ffaaaa","default":false,"description":"Low priority, addressing would result in useful improvements"},{"id":2080995647,"node_id":"MDU6TGFiZWwyMDgwOTk1NjQ3","url":"https://api.github.com/repos/beancount/beancount/labels/parser-loader","name":"parser-loader","color":"ededed","default":false,"description":"Component: Parser and loader"}],"state":"open","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":2,"created_at":"2018-06-04T14:00:49Z","updated_at":"2019-01-24T16:03:17Z","closed_at":null,"author_association":"MEMBER","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"**[Original report](https://bitbucket.org/blais/beancount/issue/305) by Martin Blais (Bitbucket: [blais](https://bitbucket.org/blais), GitHub: [blais](https://github.com/blais)).**\n\n----------------------------------------\n\nmartin.andreas.andersen@gmail.com\n10:25 AM (12 hours ago)\nto Beancount \nHi,\n\nI'm in the process of reorganizing my account tree, and kinda wanted true UTF8 account names all over. So I added option \"name_x\" directives.. and now I'm getting valueerror:invalid account name for all accounts defined with the new names. Which was not the point... What's going on here?\n\nmy options:  \n\noption \"name_assets\"                  \"Aktiver\"\noption \"name_liabilities\"             \"Passiver\"\noption \"name_equity\"                  \"Egenkapital\"\noption \"name_income\"                  \"Indtægter\"\noption \"name_expenses\"                \"Omkostninger\"\noption \"account_previous_balances\"    \"Egenkapital:OpstartsBalance\"\noption \"account_previous_earnings\"    \"Indtjening:Tidligere\"\noption \"account_previous_conversions\" \"Væksling:Nuværende\"\noption \"account_current_earnings\"     \"Indtjening:Nuværende\"\noption \"account_current_conversions\"  \"Væksling:Tidligere\"\n","closed_by":null,"reactions":{"url":"https://api.github.com/repos/beancount/beancount/issues/305/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beancount/issues/305/timeline","performed_via_github_app":null,"state_reason":null},{"url":"https://api.github.com/repos/beancount/beancount/issues/304","repository_url":"https://api.github.com/repos/beancount/beancount","labels_url":"https://api.github.com/repos/beancount/beancount/issues/304/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beancount/issues/304/comments","events_url":"https://api.github.com/repos/beancount/beancount/issues/304/events","html_url":"https://github.com/beancount/beancount/issues/304","id":623374990,"node_id":"MDU6SXNzdWU2MjMzNzQ5OTA=","number":304,"title":"setup.py is broken if hg returns a date with timezone","user":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":2080914000,"node_id":"MDU6TGFiZWwyMDgwOTE0MDAw","url":"https://api.github.com/repos/beancount/beancount/labels/BUG","name":"BUG","color":"cc99cc","default":false,"description":"This is a bug, not a feature request; something isn't working."},{"id":2080994777,"node_id":"MDU6TGFiZWwyMDgwOTk0Nzc3","url":"https://api.github.com/repos/beancount/beancount/labels/P1","name":"P1","color":"ff6666","default":false,"description":"High priority, not breaking but hindering or lessening existing functionality"}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":5,"created_at":"2018-05-29T05:41:41Z","updated_at":"2018-06-04T06:32:32Z","closed_at":"2018-05-29T06:57:09Z","author_association":"MEMBER","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"**[Original report](https://bitbucket.org/blais/beancount/issue/304) by Jason Chu (Bitbucket: [xentac](https://bitbucket.org/xentac), GitHub: [xentac](https://github.com/xentac)).**\n\n----------------------------------------\n\nAfter https://bitbucket.org/blais/beancount/commits/2b20d301782528147e0aba744da9a014323ef630 setup.py can fail if the vc_timestamp includes a timezone.\n\nThe stacktrace looks like this:\n\n\n```\n#!python\n\nTraceback (most recent call last):\n  File \"setup.py\", line 270, in <module>\n    ('VC_TIMESTAMP', int(float(vc_timestamp))),\nValueError: could not convert string to float: '1527498118.0-32400' \n```\n\n\nAccording to the hg book, {date} can return timezone as well (http://hgbook.red-bean.com/read/customizing-the-output-of-mercurial.html).\n","closed_by":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/beancount/beancount/issues/304/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beancount/issues/304/timeline","performed_via_github_app":null,"state_reason":"completed"},{"url":"https://api.github.com/repos/beancount/beancount/issues/303","repository_url":"https://api.github.com/repos/beancount/beancount","labels_url":"https://api.github.com/repos/beancount/beancount/issues/303/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beancount/issues/303/comments","events_url":"https://api.github.com/repos/beancount/beancount/issues/303/events","html_url":"https://github.com/beancount/beancount/issues/303","id":623374972,"node_id":"MDU6SXNzdWU2MjMzNzQ5NzI=","number":303,"title":"Make all error messages fit 80 chars","user":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":2080994022,"node_id":"MDU6TGFiZWwyMDgwOTk0MDIy","url":"https://api.github.com/repos/beancount/beancount/labels/P2","name":"P2","color":"ffaaaa","default":false,"description":"Low priority, addressing would result in useful improvements"},{"id":2080995603,"node_id":"MDU6TGFiZWwyMDgwOTk1NjAz","url":"https://api.github.com/repos/beancount/beancount/labels/core-ops","name":"core-ops","color":"ededed","default":false,"description":"Component: Core data structures and stream ops"}],"state":"open","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":0,"created_at":"2018-05-28T06:49:14Z","updated_at":"2020-05-23T13:15:47Z","closed_at":null,"author_association":"MEMBER","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"**[Original report](https://bitbucket.org/blais/beancount/issue/303) by Martin Blais (Bitbucket: [blais](https://bitbucket.org/blais), GitHub: [blais](https://github.com/blais)).**\n\n----------------------------------------\n\nMake sure that all error messages fit under 80 chars. It's really super annoying otherwise.\n","closed_by":null,"reactions":{"url":"https://api.github.com/repos/beancount/beancount/issues/303/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beancount/issues/303/timeline","performed_via_github_app":null,"state_reason":null},{"url":"https://api.github.com/repos/beancount/beancount/issues/302","repository_url":"https://api.github.com/repos/beancount/beancount","labels_url":"https://api.github.com/repos/beancount/beancount/issues/302/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beancount/issues/302/comments","events_url":"https://api.github.com/repos/beancount/beancount/issues/302/events","html_url":"https://github.com/beancount/beancount/issues/302","id":623374938,"node_id":"MDU6SXNzdWU2MjMzNzQ5Mzg=","number":302,"title":"beancount.el does not fontify account names with single letter components","user":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":2080914000,"node_id":"MDU6TGFiZWwyMDgwOTE0MDAw","url":"https://api.github.com/repos/beancount/beancount/labels/BUG","name":"BUG","color":"cc99cc","default":false,"description":"This is a bug, not a feature request; something isn't working."},{"id":2080994022,"node_id":"MDU6TGFiZWwyMDgwOTk0MDIy","url":"https://api.github.com/repos/beancount/beancount/labels/P2","name":"P2","color":"ffaaaa","default":false,"description":"Low priority, addressing would result in useful improvements"}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":6,"created_at":"2018-05-23T03:59:38Z","updated_at":"2018-10-27T01:38:20Z","closed_at":"2018-10-27T01:38:20Z","author_association":"MEMBER","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"**[Original report](https://bitbucket.org/blais/beancount/issue/302) by arianaut (Bitbucket: [arianaut](https://bitbucket.org/arianaut)).**\n\n----------------------------------------\n\nUsing beancount.el on master as of creating this bug, account names with single letter components aren't being fontified, e.g.\n\nExpenses:A:B  # not fontified at all\n\nExpenses:Foo:B:Car  # Expenses:Foo is fontified, the rest not\n","closed_by":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/beancount/beancount/issues/302/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beancount/issues/302/timeline","performed_via_github_app":null,"state_reason":"completed"},{"url":"https://api.github.com/repos/beancount/beancount/issues/301","repository_url":"https://api.github.com/repos/beancount/beancount","labels_url":"https://api.github.com/repos/beancount/beancount/issues/301/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beancount/issues/301/comments","events_url":"https://api.github.com/repos/beancount/beancount/issues/301/events","html_url":"https://github.com/beancount/beancount/issues/301","id":623374912,"node_id":"MDU6SXNzdWU2MjMzNzQ5MTI=","number":301,"title":"Cannot use number as first letter in component of account name","user":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":2080914000,"node_id":"MDU6TGFiZWwyMDgwOTE0MDAw","url":"https://api.github.com/repos/beancount/beancount/labels/BUG","name":"BUG","color":"cc99cc","default":false,"description":"This is a bug, not a feature request; something isn't working."},{"id":2080994022,"node_id":"MDU6TGFiZWwyMDgwOTk0MDIy","url":"https://api.github.com/repos/beancount/beancount/labels/P2","name":"P2","color":"ffaaaa","default":false,"description":"Low priority, addressing would result in useful improvements"},{"id":2081000198,"node_id":"MDU6TGFiZWwyMDgxMDAwMTk4","url":"https://api.github.com/repos/beancount/beancount/labels/documentation","name":"documentation","color":"ededed","default":true,"description":"Component: Improvements or additions to documentation"}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":4,"created_at":"2018-05-23T03:55:03Z","updated_at":"2018-05-27T01:38:23Z","closed_at":"2018-05-27T01:38:23Z","author_association":"MEMBER","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"**[Original report](https://bitbucket.org/blais/beancount/issue/301) by arianaut (Bitbucket: [arianaut](https://bitbucket.org/arianaut)).**\n\n----------------------------------------\n\nhttps://docs.google.com/document/d/1wAMVrKIA2qtRGmoVDSUBJGmYZSygUaR0uOMW1GV3YE0/edit\n\nThe documentation says that \n\nEach component of the account names begin with a capital letter or a number \n\nHowever this does not seem to be correct (example error from web UI:\n\nInvalid token: 'Expenses:4abc'\n","closed_by":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/beancount/beancount/issues/301/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beancount/issues/301/timeline","performed_via_github_app":null,"state_reason":"completed"},{"url":"https://api.github.com/repos/beancount/beancount/issues/299","repository_url":"https://api.github.com/repos/beancount/beancount","labels_url":"https://api.github.com/repos/beancount/beancount/issues/299/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beancount/issues/299/comments","events_url":"https://api.github.com/repos/beancount/beancount/issues/299/events","html_url":"https://github.com/beancount/beancount/issues/299","id":623374866,"node_id":"MDU6SXNzdWU2MjMzNzQ4NjY=","number":299,"title":"\"beancount.query\" is a dead link","user":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":2080914000,"node_id":"MDU6TGFiZWwyMDgwOTE0MDAw","url":"https://api.github.com/repos/beancount/beancount/labels/BUG","name":"BUG","color":"cc99cc","default":false,"description":"This is a bug, not a feature request; something isn't working."},{"id":2080994022,"node_id":"MDU6TGFiZWwyMDgwOTk0MDIy","url":"https://api.github.com/repos/beancount/beancount/labels/P2","name":"P2","color":"ffaaaa","default":false,"description":"Low priority, addressing would result in useful improvements"},{"id":2081000198,"node_id":"MDU6TGFiZWwyMDgxMDAwMTk4","url":"https://api.github.com/repos/beancount/beancount/labels/documentation","name":"documentation","color":"ededed","default":true,"description":"Component: Improvements or additions to documentation"}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":1,"created_at":"2018-05-19T22:18:39Z","updated_at":"2020-05-22T22:09:28Z","closed_at":"2020-05-22T22:09:28Z","author_association":"MEMBER","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"**[Original report](https://bitbucket.org/blais/beancount/issue/299) by Filip Filmar (Bitbucket: [filmil](https://bitbucket.org/filmil), GitHub: [filmil](https://github.com/filmil)).**\n\n----------------------------------------\n\nIn this section:\nhttps://docs.google.com/document/d/1s0GOZMcrKKCLlP29MD7kHO4L88evrwWdIO0p4EwRBE0/edit#heading=h.ihc1nccwjz88\n","closed_by":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/beancount/beancount/issues/299/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beancount/issues/299/timeline","performed_via_github_app":null,"state_reason":"completed"},{"url":"https://api.github.com/repos/beancount/beancount/issues/298","repository_url":"https://api.github.com/repos/beancount/beancount","labels_url":"https://api.github.com/repos/beancount/beancount/issues/298/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beancount/issues/298/comments","events_url":"https://api.github.com/repos/beancount/beancount/issues/298/events","html_url":"https://github.com/beancount/beancount/issues/298","id":623374841,"node_id":"MDU6SXNzdWU2MjMzNzQ4NDE=","number":298,"title":"\"document\" directive allows for tags and links, but printer.py ignores those","user":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":2080914000,"node_id":"MDU6TGFiZWwyMDgwOTE0MDAw","url":"https://api.github.com/repos/beancount/beancount/labels/BUG","name":"BUG","color":"cc99cc","default":false,"description":"This is a bug, not a feature request; something isn't working."},{"id":2080994022,"node_id":"MDU6TGFiZWwyMDgwOTk0MDIy","url":"https://api.github.com/repos/beancount/beancount/labels/P2","name":"P2","color":"ffaaaa","default":false,"description":"Low priority, addressing would result in useful improvements"},{"id":2080995647,"node_id":"MDU6TGFiZWwyMDgwOTk1NjQ3","url":"https://api.github.com/repos/beancount/beancount/labels/parser-loader","name":"parser-loader","color":"ededed","default":false,"description":"Component: Parser and loader"}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":1,"created_at":"2018-05-17T10:02:13Z","updated_at":"2018-07-31T05:35:35Z","closed_at":"2018-07-31T05:35:35Z","author_association":"MEMBER","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"**[Original report](https://bitbucket.org/blais/beancount/issue/298) by Christoph Sarnowski (Bitbucket: [csarn](https://bitbucket.org/csarn), GitHub: [csarn](https://github.com/csarn)).**\n\n----------------------------------------\n\nThis results in importers being unable to add tags or links to documents, as those are run through the printer.\n\nPull request will follow.\n","closed_by":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/beancount/beancount/issues/298/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beancount/issues/298/timeline","performed_via_github_app":null,"state_reason":"completed"},{"url":"https://api.github.com/repos/beancount/beancount/issues/296","repository_url":"https://api.github.com/repos/beancount/beancount","labels_url":"https://api.github.com/repos/beancount/beancount/issues/296/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beancount/issues/296/comments","events_url":"https://api.github.com/repos/beancount/beancount/issues/296/events","html_url":"https://github.com/beancount/beancount/issues/296","id":623374804,"node_id":"MDU6SXNzdWU2MjMzNzQ4MDQ=","number":296,"title":"beancount/examples/README out of date","user":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":2080914000,"node_id":"MDU6TGFiZWwyMDgwOTE0MDAw","url":"https://api.github.com/repos/beancount/beancount/labels/BUG","name":"BUG","color":"cc99cc","default":false,"description":"This is a bug, not a feature request; something isn't working."},{"id":2080994061,"node_id":"MDU6TGFiZWwyMDgwOTk0MDYx","url":"https://api.github.com/repos/beancount/beancount/labels/P3","name":"P3","color":"FFdddd","default":false,"description":"Very low priority, nice to have"},{"id":2081000198,"node_id":"MDU6TGFiZWwyMDgxMDAwMTk4","url":"https://api.github.com/repos/beancount/beancount/labels/documentation","name":"documentation","color":"ededed","default":true,"description":"Component: Improvements or additions to documentation"}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":1,"created_at":"2018-05-14T01:19:19Z","updated_at":"2018-07-30T07:04:58Z","closed_at":"2018-07-30T07:04:58Z","author_association":"MEMBER","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"**[Original report](https://bitbucket.org/blais/beancount/issue/296) by Daniele Nicolodi (Bitbucket: [daniele](https://bitbucket.org/daniele), GitHub: [dnicolodi](https://github.com/dnicolodi)).**\n\n----------------------------------------\n\nAs the title says, `beancount/examples/README` does not reflect the content of the directory.\n","closed_by":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/beancount/beancount/issues/296/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beancount/issues/296/timeline","performed_via_github_app":null,"state_reason":"completed"},{"url":"https://api.github.com/repos/beancount/beancount/issues/295","repository_url":"https://api.github.com/repos/beancount/beancount","labels_url":"https://api.github.com/repos/beancount/beancount/issues/295/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beancount/issues/295/comments","events_url":"https://api.github.com/repos/beancount/beancount/issues/295/events","html_url":"https://github.com/beancount/beancount/issues/295","id":623374774,"node_id":"MDU6SXNzdWU2MjMzNzQ3NzQ=","number":295,"title":"Flags: differentiate between no flag (txn) and *","user":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":2080914000,"node_id":"MDU6TGFiZWwyMDgwOTE0MDAw","url":"https://api.github.com/repos/beancount/beancount/labels/BUG","name":"BUG","color":"cc99cc","default":false,"description":"This is a bug, not a feature request; something isn't working."},{"id":2080994777,"node_id":"MDU6TGFiZWwyMDgwOTk0Nzc3","url":"https://api.github.com/repos/beancount/beancount/labels/P1","name":"P1","color":"ff6666","default":false,"description":"High priority, not breaking but hindering or lessening existing functionality"},{"id":2080995603,"node_id":"MDU6TGFiZWwyMDgwOTk1NjAz","url":"https://api.github.com/repos/beancount/beancount/labels/core-ops","name":"core-ops","color":"ededed","default":false,"description":"Component: Core data structures and stream ops"}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":6,"created_at":"2018-05-13T10:22:46Z","updated_at":"2019-05-02T00:36:43Z","closed_at":"2019-05-01T03:01:14Z","author_association":"MEMBER","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"**[Original report](https://bitbucket.org/blais/beancount/issue/295) by Martin Michlmayr (Bitbucket: [tbm13](https://bitbucket.org/tbm13), GitHub: [tbm](https://github.com/tbm)).**\n\n----------------------------------------\n\nIn ledger, a transaction without a flag means \"uncleared\" whereas the flag `*` means \"cleared\" (`!` means pending).  So there's a difference between no flag and the * flag.\n\nIn a conversion with Ethan Glasser-Camp on how to convert from ledger to beancount, Ethan pointed out that beancount treats \"txn\" (i.e. no flag) as `*` and that there's no concept in beancount of \"no flag\".\n\nIs this intentional?  It seems weird to me... why have `txn` in the first place when it's the same as `*`?\n\nExample:\n\n```\n1900-01-01 open Assets:A\n1900-01-01 open Assets:B\n\n2018-05-13 * \"Transaction with flag *\"\n    Assets:A              10.00 EUR\n    Assets:B\n\n2018-05-13 ! \"Transaction with flag !\"\n    Assets:A              10.00 EUR\n    Assets:B\n\n2018-05-13 txn \"Transaction with no flag\"\n    Assets:A              10.00 EUR\n    Assets:B\n```\n\n```\nbean-doctor context e 13\n...\n2018-05-13 * \"Transaction with no flag\"\n```\n\ni.e. `txn` becomes `*`.\n","closed_by":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/beancount/beancount/issues/295/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beancount/issues/295/timeline","performed_via_github_app":null,"state_reason":"completed"},{"url":"https://api.github.com/repos/beancount/beancount/issues/294","repository_url":"https://api.github.com/repos/beancount/beancount","labels_url":"https://api.github.com/repos/beancount/beancount/issues/294/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beancount/issues/294/comments","events_url":"https://api.github.com/repos/beancount/beancount/issues/294/events","html_url":"https://github.com/beancount/beancount/issues/294","id":623374747,"node_id":"MDU6SXNzdWU2MjMzNzQ3NDc=","number":294,"title":"Is the parser thread-safe?","user":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":2080914000,"node_id":"MDU6TGFiZWwyMDgwOTE0MDAw","url":"https://api.github.com/repos/beancount/beancount/labels/BUG","name":"BUG","color":"cc99cc","default":false,"description":"This is a bug, not a feature request; something isn't working."},{"id":2080994777,"node_id":"MDU6TGFiZWwyMDgwOTk0Nzc3","url":"https://api.github.com/repos/beancount/beancount/labels/P1","name":"P1","color":"ff6666","default":false,"description":"High priority, not breaking but hindering or lessening existing functionality"}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":3,"created_at":"2018-05-12T16:41:06Z","updated_at":"2020-05-23T17:48:39Z","closed_at":"2020-05-23T14:43:11Z","author_association":"MEMBER","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"**[Original report](https://bitbucket.org/blais/beancount/issue/294) by Ethan Glasser-Camp (Bitbucket: [glasserc](https://bitbucket.org/glasserc), GitHub: [glasserc](https://github.com/glasserc)).**\n\n----------------------------------------\n\nI just had some baffling errors from fava, where my beancount file (which was accepted by bean-check) was rejected by fava, sometimes to such a drastic extent that a seg fault occurred. I eventually got the problems to go away by closing the several fava tabs I still had opened. fava is running in a threaded manner, and as each browser tab checks every second or so to see if anything's changed, this can lead to re-parsing the file several times simultaneously. My hypothesis is that the parser doesn't support running in different threads and this is the source of the crash.\n\nIf the parser is known not to be thread-safe and it seems like too much work to convert it, then one fix might be to change fava to run using ForkingWSGIServer instead of ThreadedWSGIServer. I thought I would find out here first before opening an issue on the fava repository.\n","closed_by":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/beancount/beancount/issues/294/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beancount/issues/294/timeline","performed_via_github_app":null,"state_reason":"completed"},{"url":"https://api.github.com/repos/beancount/beancount/issues/292","repository_url":"https://api.github.com/repos/beancount/beancount","labels_url":"https://api.github.com/repos/beancount/beancount/issues/292/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beancount/issues/292/comments","events_url":"https://api.github.com/repos/beancount/beancount/issues/292/events","html_url":"https://github.com/beancount/beancount/issues/292","id":623374707,"node_id":"MDU6SXNzdWU2MjMzNzQ3MDc=","number":292,"title":"bean-report networth does not show all operating currencies","user":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":2080914000,"node_id":"MDU6TGFiZWwyMDgwOTE0MDAw","url":"https://api.github.com/repos/beancount/beancount/labels/BUG","name":"BUG","color":"cc99cc","default":false,"description":"This is a bug, not a feature request; something isn't working."},{"id":2080994022,"node_id":"MDU6TGFiZWwyMDgwOTk0MDIy","url":"https://api.github.com/repos/beancount/beancount/labels/P2","name":"P2","color":"ffaaaa","default":false,"description":"Low priority, addressing would result in useful improvements"},{"id":2080996004,"node_id":"MDU6TGFiZWwyMDgwOTk2MDA0","url":"https://api.github.com/repos/beancount/beancount/labels/reports","name":"reports","color":"ededed","default":false,"description":"Component: Canned reports"}],"state":"open","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":0,"created_at":"2018-05-10T05:07:04Z","updated_at":"2018-05-10T05:07:04Z","closed_at":null,"author_association":"MEMBER","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"**[Original report](https://bitbucket.org/blais/beancount/issue/292) by Zhuoyun Wei (Bitbucket: [wzyboy](https://bitbucket.org/wzyboy), GitHub: [wzyboy](https://github.com/wzyboy)).**\n\n----------------------------------------\n\nHi,\n\nfrom the code in `reports/holdings_reports.py`, the `bean-report foo.bean networth` command should show all the defined operating currencies. But it shows only the first only.\n\nHere is a minimal example:\n\n```\noption \"operating_currency\" \"CNY\"\noption \"operating_currency\" \"USD\"\n\n1970-01-01 open Income:Salary\n1970-01-01 open Assets:Checking\n\n2018-05-01 * \"Salary 1\"\n  Income:Salary                            -10000.00 CNY\n  Assets:Checking\n\n2018-05-02 * \"Salary 2\"\n  Income:Salary                             -5000.00 USD\n  Assets:Checking\n```\n\n```\n$ bean-report networth.bean networth\nCurrency  Net Worth\n--------  ---------\nCNY       10,000.00\n--------  ---------\n```\n\nThere are two operating currencies defined, CNY and USD, and only CNY is shown. If I swap the place, put USD before CNY:\n\n```\noption \"operating_currency\" \"USD\"\noption \"operating_currency\" \"CNY\"\n```\n\n... then only USD is shown, and CNY is missing this time.\n\nI am using tagged 2.0.0 release.\n","closed_by":null,"reactions":{"url":"https://api.github.com/repos/beancount/beancount/issues/292/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beancount/issues/292/timeline","performed_via_github_app":null,"state_reason":null},{"url":"https://api.github.com/repos/beancount/beancount/issues/291","repository_url":"https://api.github.com/repos/beancount/beancount","labels_url":"https://api.github.com/repos/beancount/beancount/issues/291/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beancount/issues/291/comments","events_url":"https://api.github.com/repos/beancount/beancount/issues/291/events","html_url":"https://github.com/beancount/beancount/issues/291","id":623374695,"node_id":"MDU6SXNzdWU2MjMzNzQ2OTU=","number":291,"title":"__init__() got an unexpected keyword argument 'encoding'","user":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":2080914000,"node_id":"MDU6TGFiZWwyMDgwOTE0MDAw","url":"https://api.github.com/repos/beancount/beancount/labels/BUG","name":"BUG","color":"cc99cc","default":false,"description":"This is a bug, not a feature request; something isn't working."},{"id":2080994777,"node_id":"MDU6TGFiZWwyMDgwOTk0Nzc3","url":"https://api.github.com/repos/beancount/beancount/labels/P1","name":"P1","color":"ff6666","default":false,"description":"High priority, not breaking but hindering or lessening existing functionality"},{"id":2080995603,"node_id":"MDU6TGFiZWwyMDgwOTk1NjAz","url":"https://api.github.com/repos/beancount/beancount/labels/core-ops","name":"core-ops","color":"ededed","default":false,"description":"Component: Core data structures and stream ops"}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":3,"created_at":"2018-05-05T22:00:15Z","updated_at":"2018-05-07T18:09:12Z","closed_at":"2018-05-05T23:51:10Z","author_association":"MEMBER","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"**[Original report](https://bitbucket.org/blais/beancount/issue/291) by Martin Michlmayr (Bitbucket: [tbm13](https://bitbucket.org/tbm13), GitHub: [tbm](https://github.com/tbm)).**\n\n----------------------------------------\n\nWith current hg I get:\n\n```\n$ pip3 install .\nProcessing /home/tbm/scratch/cvs/beancount\n    Complete output from command python setup.py egg_info:\n    Traceback (most recent call last):\n      File \"<string>\", line 1, in <module>\n      File \"/tmp/pip-w0vdqa0_-build/setup.py\", line 170, in <module>\n        shell=False, encoding='utf8').split()\n      File \"/usr/lib/python3.5/subprocess.py\", line 316, in check_output\n        **kwargs).stdout\n      File \"/usr/lib/python3.5/subprocess.py\", line 383, in run\n        with Popen(*popenargs, **kwargs) as process:\n    TypeError: __init__() got an unexpected keyword argument 'encoding'\n```\n","closed_by":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/beancount/beancount/issues/291/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beancount/issues/291/timeline","performed_via_github_app":null,"state_reason":"completed"},{"url":"https://api.github.com/repos/beancount/beancount/issues/290","repository_url":"https://api.github.com/repos/beancount/beancount","labels_url":"https://api.github.com/repos/beancount/beancount/issues/290/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beancount/issues/290/comments","events_url":"https://api.github.com/repos/beancount/beancount/issues/290/events","html_url":"https://github.com/beancount/beancount/issues/290","id":623374664,"node_id":"MDU6SXNzdWU2MjMzNzQ2NjQ=","number":290,"title":"2nd level account name may no longer start with digits","user":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":2080914000,"node_id":"MDU6TGFiZWwyMDgwOTE0MDAw","url":"https://api.github.com/repos/beancount/beancount/labels/BUG","name":"BUG","color":"cc99cc","default":false,"description":"This is a bug, not a feature request; something isn't working."},{"id":2080994777,"node_id":"MDU6TGFiZWwyMDgwOTk0Nzc3","url":"https://api.github.com/repos/beancount/beancount/labels/P1","name":"P1","color":"ff6666","default":false,"description":"High priority, not breaking but hindering or lessening existing functionality"},{"id":2080995647,"node_id":"MDU6TGFiZWwyMDgwOTk1NjQ3","url":"https://api.github.com/repos/beancount/beancount/labels/parser-loader","name":"parser-loader","color":"ededed","default":false,"description":"Component: Parser and loader"}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":4,"created_at":"2018-05-04T07:52:11Z","updated_at":"2018-05-04T14:29:46Z","closed_at":"2018-05-04T13:28:36Z","author_association":"MEMBER","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"**[Original report](https://bitbucket.org/blais/beancount/issue/290) by Martin Michlmayr (Bitbucket: [tbm13](https://bitbucket.org/tbm13), GitHub: [tbm](https://github.com/tbm)).**\n\n----------------------------------------\n\nThe changes accepted last night result in:\n\n```\nValueError: Invalid account name: Assets:99Test\n```\n\nWhereas `Assets:Vouchers:99Ranch` is accepted. It seems 2nd level account names may no longer start with digits.  I assume this change was not intentional.\n\nTest case:\n\n```\n2010-01-01 open Assets:99Test\n2010-01-01 open Assets:Vouchers:99Ranch\n2010-01-01 open Equity:Opening-Balance\n\n2018-03-26 * \"Commodity after amount\"\n  Assets:99Test                 1 EUR\n  Equity:Opening-Balance\n\n2018-03-26 * \"Commodity after amount\"\n  Assets:Vouchers:99Ranch       1 EUR\n  Equity:Opening-Balance\n```\n","closed_by":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/beancount/beancount/issues/290/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beancount/issues/290/timeline","performed_via_github_app":null,"state_reason":"completed"},{"url":"https://api.github.com/repos/beancount/beancount/issues/289","repository_url":"https://api.github.com/repos/beancount/beancount","labels_url":"https://api.github.com/repos/beancount/beancount/issues/289/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beancount/issues/289/comments","events_url":"https://api.github.com/repos/beancount/beancount/issues/289/events","html_url":"https://github.com/beancount/beancount/issues/289","id":623374651,"node_id":"MDU6SXNzdWU2MjMzNzQ2NTE=","number":289,"title":"Add option to find beancount version","user":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":2080994022,"node_id":"MDU6TGFiZWwyMDgwOTk0MDIy","url":"https://api.github.com/repos/beancount/beancount/labels/P2","name":"P2","color":"ffaaaa","default":false,"description":"Low priority, addressing would result in useful improvements"}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":2,"created_at":"2018-05-02T08:35:24Z","updated_at":"2018-05-07T18:18:04Z","closed_at":"2018-05-05T21:53:25Z","author_association":"MEMBER","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"**[Original report](https://bitbucket.org/blais/beancount/issue/289) by Martin Michlmayr (Bitbucket: [tbm13](https://bitbucket.org/tbm13), GitHub: [tbm](https://github.com/tbm)).**\n\n----------------------------------------\n\nIt seems beancount currently doesn't have an option to show its version number.  If you use pip you can use `pip3 show beancount | grep \"^Version:\"` but not everyone installs from pip.\n\nWould a `bean-report version` make sense?\n\nIdeally, it would also indicate if beancount was installed from Mercurial (maybe version+hg<yyyy-mm-dd> of latest commit).  There's a project called setuptools_scm that allows this easily but it seems a bit overkill. We could probably put something simple into setup.py.\n","closed_by":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/beancount/beancount/issues/289/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beancount/issues/289/timeline","performed_via_github_app":null,"state_reason":"completed"},{"url":"https://api.github.com/repos/beancount/beancount/issues/287","repository_url":"https://api.github.com/repos/beancount/beancount","labels_url":"https://api.github.com/repos/beancount/beancount/issues/287/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beancount/issues/287/comments","events_url":"https://api.github.com/repos/beancount/beancount/issues/287/events","html_url":"https://github.com/beancount/beancount/issues/287","id":623374595,"node_id":"MDU6SXNzdWU2MjMzNzQ1OTU=","number":287,"title":"oanda and yahoo sources fail with caching","user":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":2080914000,"node_id":"MDU6TGFiZWwyMDgwOTE0MDAw","url":"https://api.github.com/repos/beancount/beancount/labels/BUG","name":"BUG","color":"cc99cc","default":false,"description":"This is a bug, not a feature request; something isn't working."},{"id":2080994777,"node_id":"MDU6TGFiZWwyMDgwOTk0Nzc3","url":"https://api.github.com/repos/beancount/beancount/labels/P1","name":"P1","color":"ff6666","default":false,"description":"High priority, not breaking but hindering or lessening existing functionality"}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":12,"created_at":"2018-04-30T04:50:36Z","updated_at":"2018-05-08T05:02:55Z","closed_at":"2018-05-08T05:02:55Z","author_association":"MEMBER","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"**[Original report](https://bitbucket.org/blais/beancount/issue/287) by Jason Chu (Bitbucket: [xentac](https://bitbucket.org/xentac), GitHub: [xentac](https://github.com/xentac)).**\n\n----------------------------------------\n\nIf my price source looks like\n\n\n```\n1841-01-01 commodity CAD\n  export: \"CASH\"\n  name: \"CA Dollar\"\n  price: \"USD:yahoo/^CAD=X\" \n```\n\nor\n\n```\n1841-01-01 commodity CAD\n  export: \"CASH\"\n  name: \"CA Dollar\"\n  price: \"USD:oanda/^USD_CAD\"\n```\n\nbean-price gives me this output:\n```\nTraceback (most recent call last):\n  File \"/usr/lib/python3.6/shelve.py\", line 111, in __getitem__\n    value = self.cache[key]\nKeyError: '36af117ec1697ec0980fa6e2b9309fbf'\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File \"/usr/bin/bean-price\", line 4, in <module>\n    from beancount.prices.price import main; main()\n  File \"/usr/lib/python3.6/site-packages/beancount/prices/price.py\", line 349, in main\n    price_entries = sorted(price_entries, key=lambda e: e.currency)\n  File \"/usr/lib/python3.6/concurrent/futures/_base.py\", line 586, in result_iterator\n    yield fs.pop().result()\n  File \"/usr/lib/python3.6/concurrent/futures/_base.py\", line 425, in result\n    return self.__get_result()\n  File \"/usr/lib/python3.6/concurrent/futures/_base.py\", line 384, in __get_result\n    raise self._exception\n  File \"/usr/lib/python3.6/concurrent/futures/thread.py\", line 56, in run\n    result = self.fn(*self.args, **self.kwargs)\n  File \"/usr/lib/python3.6/site-packages/beancount/prices/price.py\", line 139, in fetch_price\n    srcprice = fetch_cached_price(source, psource.symbol, dprice.date)\n  File \"/usr/lib/python3.6/site-packages/beancount/prices/price.py\", line 84, in fetch_cached_price\n    timestamp_created, result = _CACHE[key]\n  File \"/usr/lib/python3.6/shelve.py\", line 114, in __getitem__\n    value = Unpickler(f).load()\nAttributeError: Can't get attribute 'tzfile' on <module 'dateutil.zoneinfo' from '/usr/lib/python3.6/site-packages/dateutil/zoneinfo/__init__.py'>\n```\n\nIf I call bean-price with --no-cache, everything works awesome. From what I can gather of the error, it looks like pickling some timezones isn't supported?\n","closed_by":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/beancount/beancount/issues/287/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beancount/issues/287/timeline","performed_via_github_app":null,"state_reason":"completed"},{"url":"https://api.github.com/repos/beancount/beancount/issues/286","repository_url":"https://api.github.com/repos/beancount/beancount","labels_url":"https://api.github.com/repos/beancount/beancount/issues/286/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beancount/issues/286/comments","events_url":"https://api.github.com/repos/beancount/beancount/issues/286/events","html_url":"https://github.com/beancount/beancount/issues/286","id":623374582,"node_id":"MDU6SXNzdWU2MjMzNzQ1ODI=","number":286,"title":"Is it possible to exclude unnecessary deps?","user":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":2080994022,"node_id":"MDU6TGFiZWwyMDgwOTk0MDIy","url":"https://api.github.com/repos/beancount/beancount/labels/P2","name":"P2","color":"ffaaaa","default":false,"description":"Low priority, addressing would result in useful improvements"},{"id":2081006036,"node_id":"MDU6TGFiZWwyMDgxMDA2MDM2","url":"https://api.github.com/repos/beancount/beancount/labels/portability","name":"portability","color":"ededed","default":false,"description":"Component: Portability issues"}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":1,"created_at":"2018-04-29T15:22:58Z","updated_at":"2024-12-22T05:25:08Z","closed_at":"2024-12-22T05:25:08Z","author_association":"MEMBER","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"**[Original report](https://bitbucket.org/blais/beancount/issue/286) by Limbo Peng (Bitbucket: [iwinux](https://bitbucket.org/iwinux), GitHub: [iwinux](https://github.com/iwinux)).**\n\n----------------------------------------\n\nHi,\n\nSeems that there're many deps that get installed but I never use those related features, e.g.:\n\n1. `google-api-python-client` (I don't upload stuff to Google Spreadsheet)\n2. `beautifulsoup4` (I don't import XML docs)\n3. `lxml` (same as above)\n\nIt would be great if these packages are specified in `extra_requires` instead of `install_requires` (to make `pip install` much faster) . What do you think?\n","closed_by":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/beancount/beancount/issues/286/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beancount/issues/286/timeline","performed_via_github_app":null,"state_reason":"completed"},{"url":"https://api.github.com/repos/beancount/beancount/issues/284","repository_url":"https://api.github.com/repos/beancount/beancount","labels_url":"https://api.github.com/repos/beancount/beancount/issues/284/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beancount/issues/284/comments","events_url":"https://api.github.com/repos/beancount/beancount/issues/284/events","html_url":"https://github.com/beancount/beancount/issues/284","id":623374555,"node_id":"MDU6SXNzdWU2MjMzNzQ1NTU=","number":284,"title":"bean-web and bean-bake fails if spaces in event type","user":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":2080914000,"node_id":"MDU6TGFiZWwyMDgwOTE0MDAw","url":"https://api.github.com/repos/beancount/beancount/labels/BUG","name":"BUG","color":"cc99cc","default":false,"description":"This is a bug, not a feature request; something isn't working."},{"id":2080994061,"node_id":"MDU6TGFiZWwyMDgwOTk0MDYx","url":"https://api.github.com/repos/beancount/beancount/labels/P3","name":"P3","color":"FFdddd","default":false,"description":"Very low priority, nice to have"},{"id":2080994900,"node_id":"MDU6TGFiZWwyMDgwOTk0OTAw","url":"https://api.github.com/repos/beancount/beancount/labels/web","name":"web","color":"ededed","default":false,"description":"Component: bean-web built-in server"}],"state":"open","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":1,"created_at":"2018-04-18T21:37:10Z","updated_at":"2018-04-19T04:02:36Z","closed_at":null,"author_association":"MEMBER","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"**[Original report](https://bitbucket.org/blais/beancount/issue/284) by Jonatan Kornholt (Bitbucket: [jonatank](https://bitbucket.org/jonatank), GitHub: [jonatank](https://github.com/jonatank)).**\n\n----------------------------------------\n\nBean-bake fails if my beancount file includes events with a space in the event type. The error message is:\n\n   \n```\n raise BadStatusLine(line)\nhttp.client.BadStatusLine: <!DOCTYPE HTML PUBLIC \"-//W3C//DTD HTML 4.01//EN\"\n\n```\n\nFails with, e.g.:\n\n\n```\n2017-01-01 event \"Test test\" \"Test\"\n```\n\n\nNo issue if I change the event to:\n\n\n```\n2017-01-01 event \"TestTest\" \"Test\"\n```\n\n\nbean-check doesn't raise an error and fava displays the event without issues if there are spaces.\n","closed_by":null,"reactions":{"url":"https://api.github.com/repos/beancount/beancount/issues/284/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beancount/issues/284/timeline","performed_via_github_app":null,"state_reason":null},{"url":"https://api.github.com/repos/beancount/beancount/issues/282","repository_url":"https://api.github.com/repos/beancount/beancount","labels_url":"https://api.github.com/repos/beancount/beancount/issues/282/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beancount/issues/282/comments","events_url":"https://api.github.com/repos/beancount/beancount/issues/282/events","html_url":"https://github.com/beancount/beancount/issues/282","id":623374523,"node_id":"MDU6SXNzdWU2MjMzNzQ1MjM=","number":282,"title":"Pipe not a comment?","user":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":2080914000,"node_id":"MDU6TGFiZWwyMDgwOTE0MDAw","url":"https://api.github.com/repos/beancount/beancount/labels/BUG","name":"BUG","color":"cc99cc","default":false,"description":"This is a bug, not a feature request; something isn't working."},{"id":2080994022,"node_id":"MDU6TGFiZWwyMDgwOTk0MDIy","url":"https://api.github.com/repos/beancount/beancount/labels/P2","name":"P2","color":"ffaaaa","default":false,"description":"Low priority, addressing would result in useful improvements"},{"id":2080995603,"node_id":"MDU6TGFiZWwyMDgwOTk1NjAz","url":"https://api.github.com/repos/beancount/beancount/labels/core-ops","name":"core-ops","color":"ededed","default":false,"description":"Component: Core data structures and stream ops"}],"state":"open","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":1,"created_at":"2018-04-16T15:12:38Z","updated_at":"2018-04-17T05:47:07Z","closed_at":null,"author_association":"MEMBER","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"**[Original report](https://bitbucket.org/blais/beancount/issue/282) by Martin Michlmayr (Bitbucket: [tbm13](https://bitbucket.org/tbm13), GitHub: [tbm](https://github.com/tbm)).**\n\n----------------------------------------\n\nI don't know if this is a code or a documentation issue.  The syntax guide says:\n\n> Any line that does not begin as a valid Beancount syntax directive (e.g. with a date) is silently ignored.\n\nNow I'm not sure if this is wise since this makes it really easy to accidentally get something silently ignored that you don't want to be ignored.\n\nBut in any case, if the documentation is correct, this should be a valid comment:\n\n\n```\n| foo\n```\n\nbut I get:\n\n```\n.../t.bean:3:       syntax error, unexpected PIPE\n```\n","closed_by":null,"reactions":{"url":"https://api.github.com/repos/beancount/beancount/issues/282/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beancount/issues/282/timeline","performed_via_github_app":null,"state_reason":null},{"url":"https://api.github.com/repos/beancount/beancount/issues/281","repository_url":"https://api.github.com/repos/beancount/beancount","labels_url":"https://api.github.com/repos/beancount/beancount/issues/281/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beancount/issues/281/comments","events_url":"https://api.github.com/repos/beancount/beancount/issues/281/events","html_url":"https://github.com/beancount/beancount/issues/281","id":623374510,"node_id":"MDU6SXNzdWU2MjMzNzQ1MTA=","number":281,"title":"Query \"id\" column does not identify transactions uniquely","user":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":2080914000,"node_id":"MDU6TGFiZWwyMDgwOTE0MDAw","url":"https://api.github.com/repos/beancount/beancount/labels/BUG","name":"BUG","color":"cc99cc","default":false,"description":"This is a bug, not a feature request; something isn't working."},{"id":2080994252,"node_id":"MDU6TGFiZWwyMDgwOTk0MjUy","url":"https://api.github.com/repos/beancount/beancount/labels/query-sql","name":"query-sql","color":"ededed","default":false,"description":"Component: SQL query engine"},{"id":2080994777,"node_id":"MDU6TGFiZWwyMDgwOTk0Nzc3","url":"https://api.github.com/repos/beancount/beancount/labels/P1","name":"P1","color":"ff6666","default":false,"description":"High priority, not breaking but hindering or lessening existing functionality"}],"state":"closed","locked":false,"assignee":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"assignees":[{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false}],"milestone":null,"comments":1,"created_at":"2018-04-15T19:23:21Z","updated_at":"2020-05-23T15:29:51Z","closed_at":"2020-05-23T15:29:51Z","author_association":"MEMBER","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"**[Original report](https://bitbucket.org/blais/beancount/issue/281) by Vincent Vu (Bitbucket: [vqv](https://bitbucket.org/vqv), GitHub: [vqv](https://github.com/vqv)).**\n\n----------------------------------------\n\nI'm trying to use BQL to get transactions from my journal into R for analysis, and have run into a problem with identifying transactions.  According to the BQL documentation the \"id\" column should identify transactions uniquely.  However, this fails if two distinct transactions have exactly the same content.\n\nAs an example of when this (reasonably?) occurs, my wife and I belonged to the same gym for a few years, and that gym charged our credit card twice on a monthly basis for the exact same amounts.  The content of the imported transactions are identical, but they are actually distinct.\n","closed_by":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/beancount/beancount/issues/281/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beancount/issues/281/timeline","performed_via_github_app":null,"state_reason":"completed"},{"url":"https://api.github.com/repos/beancount/beancount/issues/279","repository_url":"https://api.github.com/repos/beancount/beancount","labels_url":"https://api.github.com/repos/beancount/beancount/issues/279/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beancount/issues/279/comments","events_url":"https://api.github.com/repos/beancount/beancount/issues/279/events","html_url":"https://github.com/beancount/beancount/issues/279","id":623374471,"node_id":"MDU6SXNzdWU2MjMzNzQ0NzE=","number":279,"title":"Support IPython notebook","user":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":2080994022,"node_id":"MDU6TGFiZWwyMDgwOTk0MDIy","url":"https://api.github.com/repos/beancount/beancount/labels/P2","name":"P2","color":"ffaaaa","default":false,"description":"Low priority, addressing would result in useful improvements"},{"id":2080994828,"node_id":"MDU6TGFiZWwyMDgwOTk0ODI4","url":"https://api.github.com/repos/beancount/beancount/labels/scripts","name":"scripts","color":"ededed","default":false,"description":"Component: Other scripts"}],"state":"open","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":2,"created_at":"2018-04-09T03:58:32Z","updated_at":"2020-05-23T13:15:47Z","closed_at":null,"author_association":"MEMBER","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"**[Original report](https://bitbucket.org/blais/beancount/issue/279) by Martin Blais (Bitbucket: [blais](https://bitbucket.org/blais), GitHub: [blais](https://github.com/blais)).**\n\n----------------------------------------\n\nAnother kind of integration I'd like to do eventually is IPython notebook,\nanother very powerful idea.\n\nI didn't think of this, but as I use IPython (now Jupyter) notebooks a lot, this totally makes sense! (One step further: Not only getting the data into a notebook with a Python-kernel, but writing our own kernel for BSQL, like the new Query editor in Fava.)\n\nI could move some of it to a library if it helps.\n\nYes, it would help a lot. This library could also be home to the IPython notebook support down the road.\n","closed_by":null,"reactions":{"url":"https://api.github.com/repos/beancount/beancount/issues/279/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beancount/issues/279/timeline","performed_via_github_app":null,"state_reason":null},{"url":"https://api.github.com/repos/beancount/beancount/issues/278","repository_url":"https://api.github.com/repos/beancount/beancount","labels_url":"https://api.github.com/repos/beancount/beancount/issues/278/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beancount/issues/278/comments","events_url":"https://api.github.com/repos/beancount/beancount/issues/278/events","html_url":"https://github.com/beancount/beancount/issues/278","id":623374451,"node_id":"MDU6SXNzdWU2MjMzNzQ0NTE=","number":278,"title":"Document the total cost syntax","user":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":2080914000,"node_id":"MDU6TGFiZWwyMDgwOTE0MDAw","url":"https://api.github.com/repos/beancount/beancount/labels/BUG","name":"BUG","color":"cc99cc","default":false,"description":"This is a bug, not a feature request; something isn't working."},{"id":2080994022,"node_id":"MDU6TGFiZWwyMDgwOTk0MDIy","url":"https://api.github.com/repos/beancount/beancount/labels/P2","name":"P2","color":"ffaaaa","default":false,"description":"Low priority, addressing would result in useful improvements"},{"id":2081000198,"node_id":"MDU6TGFiZWwyMDgxMDAwMTk4","url":"https://api.github.com/repos/beancount/beancount/labels/documentation","name":"documentation","color":"ededed","default":true,"description":"Component: Improvements or additions to documentation"}],"state":"open","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":0,"created_at":"2018-04-09T03:55:49Z","updated_at":"2018-04-09T03:55:49Z","closed_at":null,"author_association":"MEMBER","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"**[Original report](https://bitbucket.org/blais/beancount/issue/278) by Martin Blais (Bitbucket: [blais](https://bitbucket.org/blais), GitHub: [blais](https://github.com/blais)).**\n\n----------------------------------------\n\nOn Tue, Nov 1, 2016 at 2:38 AM, yegle <cnyegle@gmail.com> wrote:\nHi Martin,\n\nThe # char in cost basis is a new thing to me and I don't think the syntax is mentioned in the language syntax doc https://docs.google.com/document/d/1wAMVrKIA2qtRGmoVDSUBJGmYZSygUaR0uOMW1GV3YE0/edit# Could you document it there? You used `Assets:Account     100 MSFT {0 # 2000.00 USD}` in the example. I don't think the {{...}} syntax is mentioned in the doc as well.\n\nI'll have to update the docs; taking note, thanks. This requires time I don't have for a couple of weeks.\nEssentially, there are two numbers, e.g.\n\n   Assets:Investments     100 MSFT {42.00 # 9.95 USD}\n\nThe first (42.00) is the number of USD per share of MSFT. \nThe second is the total number of USD for the posting.\nThus, this posting's per-unit cost is (100 * 42.00 + 9.95) / 100 = 42.0995 USD / MSFT\n\n\n\nAlso, I'm sad to know AVERAGE booking is not available yet :-(\n\nProgress doesn't always move in the order one wants. This is progress in the same direction, however.\nIf you'd like to have a go at it, here's where that would happen:\n\nhttps://bitbucket.org/blais/beancount/src/fdd1b562fd53db239da1b0338a2634d05e1fe48e/src/python/beancount/parser/booking_full.py?at=default&fileviewer=file-view-default#booking_full.py-691\n\nIt turns out it needs a lot of unit testing to complete this, but at this point all the scaffolding around it is there and merged.\n\n\n\nhttps://groups.google.com/d/msgid/beancount/CAFL5w3UCJTuT0PqzYQM-STwAfOPk5_LHFOOdDhtHDwzKMiEM4g%40mail.gmail.com?utm_medium=email&utm_source=footer\n","closed_by":null,"reactions":{"url":"https://api.github.com/repos/beancount/beancount/issues/278/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beancount/issues/278/timeline","performed_via_github_app":null,"state_reason":null},{"url":"https://api.github.com/repos/beancount/beancount/issues/277","repository_url":"https://api.github.com/repos/beancount/beancount","labels_url":"https://api.github.com/repos/beancount/beancount/issues/277/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beancount/issues/277/comments","events_url":"https://api.github.com/repos/beancount/beancount/issues/277/events","html_url":"https://github.com/beancount/beancount/issues/277","id":623374433,"node_id":"MDU6SXNzdWU2MjMzNzQ0MzM=","number":277,"title":"Don't throw an error if  a Document directive is duplicated","user":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":2080994061,"node_id":"MDU6TGFiZWwyMDgwOTk0MDYx","url":"https://api.github.com/repos/beancount/beancount/labels/P3","name":"P3","color":"FFdddd","default":false,"description":"Very low priority, nice to have"},{"id":2080995603,"node_id":"MDU6TGFiZWwyMDgwOTk1NjAz","url":"https://api.github.com/repos/beancount/beancount/labels/core-ops","name":"core-ops","color":"ededed","default":false,"description":"Component: Core data structures and stream ops"}],"state":"open","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":1,"created_at":"2018-04-09T03:54:42Z","updated_at":"2021-05-19T13:18:54Z","closed_at":null,"author_association":"MEMBER","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"**[Original report](https://bitbucket.org/blais/beancount/issue/277) by Martin Blais (Bitbucket: [blais](https://bitbucket.org/blais), GitHub: [blais](https://github.com/blais)).**\n\n----------------------------------------\n\nhttps://github.com/beancount/fava/pull/398#issuecomment-257709139\n\nI'm not sure it's a bug - you're assuming the user doesn't want dups, and\nthey're telling you they do - but I think it would make sense to avoid\ncreating multiple identical directives by default, or at least to have an\noption to suppress them.\n\nYou're right - it's not a bug really. As you describe it, the current behaviour is not wrong but might be surprising.\n\nSurprising it is!\n\nI vote for adding the following condition to the beancount-auto-document-directive-generation-code: \nIf there is a document directive in the beancount file with the same date, account and filename, do not auto-gen a document directive.\n","closed_by":null,"reactions":{"url":"https://api.github.com/repos/beancount/beancount/issues/277/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beancount/issues/277/timeline","performed_via_github_app":null,"state_reason":null},{"url":"https://api.github.com/repos/beancount/beancount/issues/276","repository_url":"https://api.github.com/repos/beancount/beancount","labels_url":"https://api.github.com/repos/beancount/beancount/issues/276/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beancount/issues/276/comments","events_url":"https://api.github.com/repos/beancount/beancount/issues/276/events","html_url":"https://github.com/beancount/beancount/issues/276","id":623374419,"node_id":"MDU6SXNzdWU2MjMzNzQ0MTk=","number":276,"title":"links and tags for all directives would be useful (revamp grammar, simplify)","user":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":2080994777,"node_id":"MDU6TGFiZWwyMDgwOTk0Nzc3","url":"https://api.github.com/repos/beancount/beancount/labels/P1","name":"P1","color":"ff6666","default":false,"description":"High priority, not breaking but hindering or lessening existing functionality"},{"id":2080995647,"node_id":"MDU6TGFiZWwyMDgwOTk1NjQ3","url":"https://api.github.com/repos/beancount/beancount/labels/parser-loader","name":"parser-loader","color":"ededed","default":false,"description":"Component: Parser and loader"}],"state":"open","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":2,"created_at":"2018-04-09T03:50:34Z","updated_at":"2020-06-27T18:31:10Z","closed_at":null,"author_association":"MEMBER","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"**[Original report](https://bitbucket.org/blais/beancount/issue/276) by Martin Blais (Bitbucket: [blais](https://bitbucket.org/blais), GitHub: [blais](https://github.com/blais)).**\n\n----------------------------------------\n\nYes, links and tags for all directives is possible. Idealy that would ideally be done in concert with the revamp of links and tags as metadata, which has been discussed a while back. \n\nIn the meantime, I could add you a links field for Document directives easily (with input syntax as well). Let me know if that would be useful.\n\n\n\n\nOn Sun, Oct 23, 2016 at 4:10 AM, Jakob Schnitzer <notifications@github.com> wrote:\nThis is absolutely necessary, as for a business, you would hand over all your invoices to your accountant (the folder with the invoices, and all transactions that are relevant), but you don't want him to have your contracts and other documents.\n\nSure, then just use another documents folder for the invoices. I personally just keep them in the same folder so I'm against forcing this on the user.\n\nI think the perfect solution would be to have a separate directive for invoices that works exactly like the Document directive\n\nI'm very much against this. If it just works like the document directive, it should just be done using the document directive. Everything you list can be done using Document directives. I'd also find this feature way more useful if it supports documents, it could be used to attach your monthly account statement to a balance directive for instance.\n\n@blais: Beancount only supports links (and tags) for transactions. Could we have them for all entry types?\n\n—\nYou are receiving this because you were mentioned.\nReply to this email directly, view it on GitHub, or mute the thread.\n","closed_by":null,"reactions":{"url":"https://api.github.com/repos/beancount/beancount/issues/276/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beancount/issues/276/timeline","performed_via_github_app":null,"state_reason":null},{"url":"https://api.github.com/repos/beancount/beancount/issues/274","repository_url":"https://api.github.com/repos/beancount/beancount","labels_url":"https://api.github.com/repos/beancount/beancount/issues/274/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beancount/issues/274/comments","events_url":"https://api.github.com/repos/beancount/beancount/issues/274/events","html_url":"https://github.com/beancount/beancount/issues/274","id":623374379,"node_id":"MDU6SXNzdWU2MjMzNzQzNzk=","number":274,"title":"allow single document option to span multiple per-year directories","user":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":2080994022,"node_id":"MDU6TGFiZWwyMDgwOTk0MDIy","url":"https://api.github.com/repos/beancount/beancount/labels/P2","name":"P2","color":"ffaaaa","default":false,"description":"Low priority, addressing would result in useful improvements"},{"id":2080995603,"node_id":"MDU6TGFiZWwyMDgwOTk1NjAz","url":"https://api.github.com/repos/beancount/beancount/labels/core-ops","name":"core-ops","color":"ededed","default":false,"description":"Component: Core data structures and stream ops"}],"state":"open","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":2,"created_at":"2018-04-08T07:13:59Z","updated_at":"2020-05-23T13:15:46Z","closed_at":null,"author_association":"MEMBER","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"**[Original report](https://bitbucket.org/blais/beancount/issue/274) by Stefano Zacchiroli (Bitbucket: [zacchiro](https://bitbucket.org/zacchiro), GitHub: [zacchiro](https://github.com/zacchiro)).**\n\n----------------------------------------\n\nAs suggested by the documentation, it is handy to split documents like bank statements into per-year sub-directories. To support all of them, one currently needs to specify the document option multiple times, e.g. (real-example from my own beancount file):\n```\n#!beancount\noption \"documents\" \"documents/2018\"\noption \"documents\" \"documents/2017\"\noption \"documents\" \"documents/2016\"\noption \"documents\" \"documents/2015\"\noption \"documents\" \"documents/2014\"\noption \"documents\" \"documents/2013\"\noption \"documents\" \"documents/2012\"\noption \"documents\" \"documents/2011\"\noption \"documents\" \"documents/2010\"\noption \"documents\" \"documents/2009\"\n```\nHaving to maintain this list is tiresome and bloated.\n\nGiven how popular this arrangement is, it would be nice if beancount would look for both DOCUMENT_DIR/ACCOUNT_NAME/YYYY-MM-DD.file.pdf and DOCUMENT_DIR/YYYY/ACCOUNT_NAME/YYYY-MM-DD.file.pdf . With that, it will become possible to specify a single document option, like this:\n```\n#!beancount\noption \"documents\" \"documents\"\n```\n","closed_by":null,"reactions":{"url":"https://api.github.com/repos/beancount/beancount/issues/274/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beancount/issues/274/timeline","performed_via_github_app":null,"state_reason":null},{"url":"https://api.github.com/repos/beancount/beancount/issues/273","repository_url":"https://api.github.com/repos/beancount/beancount","labels_url":"https://api.github.com/repos/beancount/beancount/issues/273/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beancount/issues/273/comments","events_url":"https://api.github.com/repos/beancount/beancount/issues/273/events","html_url":"https://github.com/beancount/beancount/issues/273","id":623374363,"node_id":"MDU6SXNzdWU2MjMzNzQzNjM=","number":273,"title":"Trailing whitespace when printing with price","user":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":2080914000,"node_id":"MDU6TGFiZWwyMDgwOTE0MDAw","url":"https://api.github.com/repos/beancount/beancount/labels/BUG","name":"BUG","color":"cc99cc","default":false,"description":"This is a bug, not a feature request; something isn't working."},{"id":2080994061,"node_id":"MDU6TGFiZWwyMDgwOTk0MDYx","url":"https://api.github.com/repos/beancount/beancount/labels/P3","name":"P3","color":"FFdddd","default":false,"description":"Very low priority, nice to have"},{"id":2080995647,"node_id":"MDU6TGFiZWwyMDgwOTk1NjQ3","url":"https://api.github.com/repos/beancount/beancount/labels/parser-loader","name":"parser-loader","color":"ededed","default":false,"description":"Component: Parser and loader"}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":4,"created_at":"2018-04-06T19:47:17Z","updated_at":"2021-10-10T05:57:43Z","closed_at":"2021-10-10T05:57:39Z","author_association":"MEMBER","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"**[Original report](https://bitbucket.org/blais/beancount/issue/273) by droogmic (Bitbucket: Michael Droogleever, GitHub: [droogmic](https://github.com/droogmic)).**\n\n----------------------------------------\n\nTo reproduce:\n\n```python\n>>> from beancount.parser import printer\n>>> from beancount.core import data\n>>> import datetime as dt\n>>> p1 = data.Posting(\"Account\", data.Amount.from_string(\"10.00 CHF\"), None, data.Amount.from_string(\"1 USD\"), None, None)\n>>> p2 = data.Posting(\"Account\", data.Amount.from_string(\"-10.00 USD\"), None, None, None, None)\n>>> t = data.Transaction(None, dt.date(2017,1,1), '*', \"\", \"Narration String\", data.EMPTY_SET, data.EMPTY_SET, [p1, p2])\n>>> print(printer.format_entry(t).replace(' ', '~'))\n2017-01-01~*~\"Narration~String\"\n~~Account~~~10.00~CHF~@~1~USD\n~~Account~~-10.00~USD~~~~~~~~\n```\n\nThe second posting has trailing whitespace to match  the length of price, but this causes a visual warning in many IDEs for trailing whitespace. e.g. in fava.\n","closed_by":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/beancount/beancount/issues/273/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beancount/issues/273/timeline","performed_via_github_app":null,"state_reason":"completed"},{"url":"https://api.github.com/repos/beancount/beancount/issues/272","repository_url":"https://api.github.com/repos/beancount/beancount","labels_url":"https://api.github.com/repos/beancount/beancount/issues/272/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beancount/issues/272/comments","events_url":"https://api.github.com/repos/beancount/beancount/issues/272/events","html_url":"https://github.com/beancount/beancount/issues/272","id":623374351,"node_id":"MDU6SXNzdWU2MjMzNzQzNTE=","number":272,"title":"D string format l10n","user":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":2080994022,"node_id":"MDU6TGFiZWwyMDgwOTk0MDIy","url":"https://api.github.com/repos/beancount/beancount/labels/P2","name":"P2","color":"ffaaaa","default":false,"description":"Low priority, addressing would result in useful improvements"},{"id":2080995603,"node_id":"MDU6TGFiZWwyMDgwOTk1NjAz","url":"https://api.github.com/repos/beancount/beancount/labels/core-ops","name":"core-ops","color":"ededed","default":false,"description":"Component: Core data structures and stream ops"}],"state":"open","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":0,"created_at":"2018-04-05T22:25:13Z","updated_at":"2020-05-23T13:15:46Z","closed_at":null,"author_association":"MEMBER","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"**[Original report](https://bitbucket.org/blais/beancount/issue/272) by droogmic (Bitbucket: Michael Droogleever, GitHub: [droogmic](https://github.com/droogmic)).**\n\n----------------------------------------\n\nLocalisation of the D() Decimal str parser. Currently it only accepts numbers with a '.' as the decimal separator and ',' as the thousands separator. e.g. \"1,123.45\"\n\nThis has been mentioned frequently before, in the context of wider i18n issues, but I could not find a specific issue for D. I am happy to create fix if simple enough. More thousands separators could be added to the regex, but that is not very sustainable.\nProposed fix, passes all existing beancount/core unittests:\n```diff\n\n--- a/beancount/core/number.py  Thu Apr 05 01:01:06 2018 -0400\n+++ b/beancount/core/number.py  Fri Apr 06 00:07:17 2018 +0200\n@@ -15,7 +15,10 @@\n import types\n import warnings\n import re\n+import locale\n \n+# TODO determine if locale can be pulled from options\n+# TODO determine if locale needs to be restoed to 'C' portable locale after\n+locale.setlocale(locale.LC_ALL, '')\n \n # Note: Python 3.3 is supposed to guarantee a fast \"C\" decimal implementation,\n # as it comes with its source code. However, in practice, many distributions,\n@@ -67,10 +71,10 @@\n # errors that would occur from attempts to access incomplete data.\n class MISSING: pass\n \n # Regular expression for parsing a number in Python.\n NUMBER_RE = r\"[+-]?\\s*[0-9,]*(?:\\.[0-9]*)?\"\n \n-_CLEAN_NUMBER_RE = re.compile('[, ]')\n+_CLEAN_NUMBER_RE = re.compile(\"[,']\")\n \n # pylint: disable=invalid-name\n def D(strord=None):\n@@ -91,6 +95,10 @@\n         if strord is None or strord == '':\n             return Decimal()\n         elif isinstance(strord, str):\n+            strord = strord.replace(' ', '')\n+            # Try using user's locale first\n+            if locale.getlocale() != (None, None):\n+                return Decimal(locale.delocalize(strord))\n             return Decimal(_CLEAN_NUMBER_RE.sub('', strord))\n         elif isinstance(strord, Decimal):\n             return strord\n```\n","closed_by":null,"reactions":{"url":"https://api.github.com/repos/beancount/beancount/issues/272/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beancount/issues/272/timeline","performed_via_github_app":null,"state_reason":null},{"url":"https://api.github.com/repos/beancount/beancount/issues/271","repository_url":"https://api.github.com/repos/beancount/beancount","labels_url":"https://api.github.com/repos/beancount/beancount/issues/271/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beancount/issues/271/comments","events_url":"https://api.github.com/repos/beancount/beancount/issues/271/events","html_url":"https://github.com/beancount/beancount/issues/271","id":623374334,"node_id":"MDU6SXNzdWU2MjMzNzQzMzQ=","number":271,"title":"option \"render_commas\" internationalisation","user":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":2080994022,"node_id":"MDU6TGFiZWwyMDgwOTk0MDIy","url":"https://api.github.com/repos/beancount/beancount/labels/P2","name":"P2","color":"ffaaaa","default":false,"description":"Low priority, addressing would result in useful improvements"},{"id":2080995647,"node_id":"MDU6TGFiZWwyMDgwOTk1NjQ3","url":"https://api.github.com/repos/beancount/beancount/labels/parser-loader","name":"parser-loader","color":"ededed","default":false,"description":"Component: Parser and loader"}],"state":"open","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":0,"created_at":"2018-04-05T18:20:26Z","updated_at":"2020-05-23T13:15:46Z","closed_at":null,"author_association":"MEMBER","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"**[Original report](https://bitbucket.org/blais/beancount/issue/271) by droogmic (Bitbucket: Michael Droogleever, GitHub: [droogmic](https://github.com/droogmic)).**\n\n----------------------------------------\n\nrender_commas is not i18n compliant, I suggest a long term plan to rename this to something along the lines of \"render_thousands_sep\", e.g.\n\n\n```\noption \"render_thousands_sep\" \",\"\noption \"render_thousands_sep\" \".\"\noption \"render_thousands_sep\" \"\" # Assuming empty string is allowed?\n```\n\nAlthough its far from urgent, providing the new option ASAP to start the phase out of the old option soon may be advisable if this is accepted.\n\nLinked to #204\n","closed_by":null,"reactions":{"url":"https://api.github.com/repos/beancount/beancount/issues/271/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beancount/issues/271/timeline","performed_via_github_app":null,"state_reason":null},{"url":"https://api.github.com/repos/beancount/beancount/issues/270","repository_url":"https://api.github.com/repos/beancount/beancount","labels_url":"https://api.github.com/repos/beancount/beancount/issues/270/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beancount/issues/270/comments","events_url":"https://api.github.com/repos/beancount/beancount/issues/270/events","html_url":"https://github.com/beancount/beancount/issues/270","id":623374325,"node_id":"MDU6SXNzdWU2MjMzNzQzMjU=","number":270,"title":"bean-doctor context renders precision not like PRINT","user":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":2080914000,"node_id":"MDU6TGFiZWwyMDgwOTE0MDAw","url":"https://api.github.com/repos/beancount/beancount/labels/BUG","name":"BUG","color":"cc99cc","default":false,"description":"This is a bug, not a feature request; something isn't working."},{"id":2080994061,"node_id":"MDU6TGFiZWwyMDgwOTk0MDYx","url":"https://api.github.com/repos/beancount/beancount/labels/P3","name":"P3","color":"FFdddd","default":false,"description":"Very low priority, nice to have"},{"id":2080995603,"node_id":"MDU6TGFiZWwyMDgwOTk1NjAz","url":"https://api.github.com/repos/beancount/beancount/labels/core-ops","name":"core-ops","color":"ededed","default":false,"description":"Component: Core data structures and stream ops"}],"state":"open","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":0,"created_at":"2018-04-04T06:01:44Z","updated_at":"2018-04-04T06:01:44Z","closed_at":null,"author_association":"MEMBER","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"**[Original report](https://bitbucket.org/blais/beancount/issue/270) by Martin Blais (Bitbucket: [blais](https://bitbucket.org/blais), GitHub: [blais](https://github.com/blais)).**\n\n----------------------------------------\n\nPRINT uses the natural precision for the digits\nbean-doctor context does not (but it presents the total after a comment)\n\nI don't like this, this seems inconsistent. Reconcile this.\n","closed_by":null,"reactions":{"url":"https://api.github.com/repos/beancount/beancount/issues/270/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beancount/issues/270/timeline","performed_via_github_app":null,"state_reason":null},{"url":"https://api.github.com/repos/beancount/beancount/issues/269","repository_url":"https://api.github.com/repos/beancount/beancount","labels_url":"https://api.github.com/repos/beancount/beancount/issues/269/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beancount/issues/269/comments","events_url":"https://api.github.com/repos/beancount/beancount/issues/269/events","html_url":"https://github.com/beancount/beancount/issues/269","id":623374311,"node_id":"MDU6SXNzdWU2MjMzNzQzMTE=","number":269,"title":"Enable a CI solution; try Atlassian's Pipelines","user":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":2080994022,"node_id":"MDU6TGFiZWwyMDgwOTk0MDIy","url":"https://api.github.com/repos/beancount/beancount/labels/P2","name":"P2","color":"ffaaaa","default":false,"description":"Low priority, addressing would result in useful improvements"},{"id":2081004216,"node_id":"MDU6TGFiZWwyMDgxMDA0MjE2","url":"https://api.github.com/repos/beancount/beancount/labels/infra-server","name":"infra-server","color":"ededed","default":false,"description":"Component: Admin scripts, build, and server issues"}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":1,"created_at":"2018-04-04T00:36:13Z","updated_at":"2021-05-23T17:35:32Z","closed_at":"2021-05-23T17:35:32Z","author_association":"MEMBER","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"**[Original report](https://bitbucket.org/blais/beancount/issue/269) by Martin Blais (Bitbucket: [blais](https://bitbucket.org/blais), GitHub: [blais](https://github.com/blais)).**\n\n----------------------------------------\n\nEnable a CI solution; try Atlassian's Pipelines\n","closed_by":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/beancount/beancount/issues/269/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beancount/issues/269/timeline","performed_via_github_app":null,"state_reason":"completed"},{"url":"https://api.github.com/repos/beancount/beancount/issues/268","repository_url":"https://api.github.com/repos/beancount/beancount","labels_url":"https://api.github.com/repos/beancount/beancount/issues/268/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beancount/issues/268/comments","events_url":"https://api.github.com/repos/beancount/beancount/issues/268/events","html_url":"https://github.com/beancount/beancount/issues/268","id":623374293,"node_id":"MDU6SXNzdWU2MjMzNzQyOTM=","number":268,"title":"'pushtag' does not work with include","user":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":2080994022,"node_id":"MDU6TGFiZWwyMDgwOTk0MDIy","url":"https://api.github.com/repos/beancount/beancount/labels/P2","name":"P2","color":"ffaaaa","default":false,"description":"Low priority, addressing would result in useful improvements"},{"id":2080995647,"node_id":"MDU6TGFiZWwyMDgwOTk1NjQ3","url":"https://api.github.com/repos/beancount/beancount/labels/parser-loader","name":"parser-loader","color":"ededed","default":false,"description":"Component: Parser and loader"}],"state":"open","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":1,"created_at":"2018-04-03T13:33:38Z","updated_at":"2020-05-23T13:15:46Z","closed_at":null,"author_association":"MEMBER","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"**[Original report](https://bitbucket.org/blais/beancount/issue/268) by Carbo Kuo (Bitbucket: [byvoid](https://bitbucket.org/byvoid), GitHub: [byvoid](https://github.com/byvoid)).**\n\n----------------------------------------\n\nFor example:\n\n```\n#!yaml\n\npushtag #tag1\ninclude 'another_file'\npoptag #tag1\n```\n\nExpected behavior: all transactions in 'another_file' are tagged with #tag1\n\nActual behavior: no transaction is in 'another_file' tagged\n","closed_by":null,"reactions":{"url":"https://api.github.com/repos/beancount/beancount/issues/268/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beancount/issues/268/timeline","performed_via_github_app":null,"state_reason":null},{"url":"https://api.github.com/repos/beancount/beancount/issues/266","repository_url":"https://api.github.com/repos/beancount/beancount","labels_url":"https://api.github.com/repos/beancount/beancount/issues/266/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beancount/issues/266/comments","events_url":"https://api.github.com/repos/beancount/beancount/issues/266/events","html_url":"https://github.com/beancount/beancount/issues/266","id":623374251,"node_id":"MDU6SXNzdWU2MjMzNzQyNTE=","number":266,"title":"test beancount.plugins.forecast_test.TestExampleForecast fails","user":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":2080914000,"node_id":"MDU6TGFiZWwyMDgwOTE0MDAw","url":"https://api.github.com/repos/beancount/beancount/labels/BUG","name":"BUG","color":"cc99cc","default":false,"description":"This is a bug, not a feature request; something isn't working."},{"id":2080994777,"node_id":"MDU6TGFiZWwyMDgwOTk0Nzc3","url":"https://api.github.com/repos/beancount/beancount/labels/P1","name":"P1","color":"ff6666","default":false,"description":"High priority, not breaking but hindering or lessening existing functionality"},{"id":2081000893,"node_id":"MDU6TGFiZWwyMDgxMDAwODkz","url":"https://api.github.com/repos/beancount/beancount/labels/plugins","name":"plugins","color":"ededed","default":false,"description":"Component: Plug-ins"}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":3,"created_at":"2018-04-01T17:21:04Z","updated_at":"2018-04-04T00:31:56Z","closed_at":"2018-04-04T00:31:55Z","author_association":"MEMBER","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"**[Original report](https://bitbucket.org/blais/beancount/issue/266) by Martin Michlmayr (Bitbucket: [tbm13](https://bitbucket.org/tbm13), GitHub: [tbm](https://github.com/tbm)).**\n\n----------------------------------------\n\nTest beancount.plugins.forecast_test.TestExampleForecast fails because of 2 issues:\n\n1) It's time dependent.  Currently it creations forecasts until the end of the current year, so running it in different years will give different results\n\n2) It seems previously it created a transaction only starting in the FOLLOWING month whereas now it starts with the current month (which imho makes more sense).\n\nI'll open a PR with a fix.\n\n```\nFAIL: test_forecast (beancount.plugins.forecast_test.TestExampleForecast)\n----------------------------------------------------------------------\nTraceback (most recent call last):\n  File \"/home/tbm/beancount/beancount/plugins/forecast_test.py\", line 59, in test_forecast\n    \"\"\", entries)\n  File \"/home/tbm/beancount/beancount/parser/cmptest.py\", line 86, in assertEqualEntries\n    self.fail(oss.getvalue())\nAssertionError: Present in actual set and not in expected set:\n\n....\nLOTS OF LINES REMOVED\n...\n\n2018-11-17 # \"Something\"\n  Expenses:Restaurant   50.02 USD\n  Assets:Cash          -50.02 USD\n\n2018-12-17 # \"Something\"\n  Expenses:Restaurant   50.02 USD\n  Assets:Cash          -50.02 USD\n\n\n\n----------------------------------------------------------------------\nRan 1 test in 0.023s\n\nFAILED (failures=1)\n```\n","closed_by":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/beancount/beancount/issues/266/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beancount/issues/266/timeline","performed_via_github_app":null,"state_reason":"completed"},{"url":"https://api.github.com/repos/beancount/beancount/issues/265","repository_url":"https://api.github.com/repos/beancount/beancount","labels_url":"https://api.github.com/repos/beancount/beancount/issues/265/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beancount/issues/265/comments","events_url":"https://api.github.com/repos/beancount/beancount/issues/265/events","html_url":"https://github.com/beancount/beancount/issues/265","id":623374224,"node_id":"MDU6SXNzdWU2MjMzNzQyMjQ=","number":265,"title":"tests beancount.prices.sources.oanda_test.TestOandaGetHistorical fail because of timezone","user":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":2080914000,"node_id":"MDU6TGFiZWwyMDgwOTE0MDAw","url":"https://api.github.com/repos/beancount/beancount/labels/BUG","name":"BUG","color":"cc99cc","default":false,"description":"This is a bug, not a feature request; something isn't working."},{"id":2080994777,"node_id":"MDU6TGFiZWwyMDgwOTk0Nzc3","url":"https://api.github.com/repos/beancount/beancount/labels/P1","name":"P1","color":"ff6666","default":false,"description":"High priority, not breaking but hindering or lessening existing functionality"},{"id":2080995603,"node_id":"MDU6TGFiZWwyMDgwOTk1NjAz","url":"https://api.github.com/repos/beancount/beancount/labels/core-ops","name":"core-ops","color":"ededed","default":false,"description":"Component: Core data structures and stream ops"}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":3,"created_at":"2018-04-01T16:58:55Z","updated_at":"2018-04-18T03:11:03Z","closed_at":"2018-04-18T03:11:03Z","author_association":"MEMBER","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"**[Original report](https://bitbucket.org/blais/beancount/issue/265) by Martin Michlmayr (Bitbucket: [tbm13](https://bitbucket.org/tbm13), GitHub: [tbm](https://github.com/tbm)).**\n\n----------------------------------------\n\nI get the following failures:\n\n```\nERROR: test_valid_after (beancount.prices.sources.oanda_test.TestOandaGetHistorical)\n----------------------------------------------------------------------\nTraceback (most recent call last):\n  File \"/home/tbm/scratch/cvs/beancount/beancount/prices/sources/oanda_test.py\", line 164, in test_valid_after\n    D('1.3100'))\n  File \"/home/tbm/scratch/cvs/beancount/beancount/prices/sources/oanda_test.py\", line 139, in _check_valid\n    srcprice = self.fetcher.get_historical_price('USD_CAD', query_date)\n  File \"/home/tbm/scratch/cvs/beancount/beancount/prices/sources/oanda.py\", line 163, in get_historical_price\n    for item in time_prices\nValueError: min() arg is an empty sequence\n\n======================================================================\nFAIL: test_valid_same_date (beancount.prices.sources.oanda_test.TestOandaGetHistorical)\n----------------------------------------------------------------------\nTraceback (most recent call last):\n  File \"/home/tbm/scratch/cvs/beancount/beancount/prices/sources/oanda_test.py\", line 150, in test_valid_same_date\n    D('1.4100'))\n  File \"/home/tbm/scratch/cvs/beancount/beancount/prices/sources/oanda_test.py\", line 141, in _check_valid\n    srcprice)\nAssertionError: Sourc[19 chars]l('1.4100'), time=datetime.datetime(2017, 1, 2[45 chars]CAD') != Sourc[19 chars]l('1.3900'), time=datetime.datetime(2017, 1, 2[42 chars]CAD')\n\n======================================================================\nFAIL: test_valid_before (beancount.prices.sources.oanda_test.TestOandaGetHistorical)\n----------------------------------------------------------------------\nTraceback (most recent call last):\n  File \"/home/tbm/scratch/cvs/beancount/beancount/prices/sources/oanda_test.py\", line 157, in test_valid_before\n    D('1.4700'))\n  File \"/home/tbm/scratch/cvs/beancount/beancount/prices/sources/oanda_test.py\", line 141, in _check_valid\n    srcprice)\nAssertionError: Sourc[20 chars]('1.4700'), time=datetime.datetime(2017, 1, 23[44 chars]CAD') != Sourc[20 chars]('1.4500'), time=datetime.datetime(2017, 1, 23[41 chars]CAD')\n\n----------------------------------------------------------------------\nRan 5 tests in 0.004s\n\nFAILED (errors=1, failures=2)\n```\n\nHowever, with the following change it works for me:\n\n```\n-        start_utc = datetime.datetime(date.year, date.month, date.day, 0, 0, 0,\n+        start_utc = datetime.datetime(date.year, date.month, date.day, 1, 0, 1,\n```\n\nNote that I'm in UTC+2 right now.\n","closed_by":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/beancount/beancount/issues/265/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beancount/issues/265/timeline","performed_via_github_app":null,"state_reason":"completed"},{"url":"https://api.github.com/repos/beancount/beancount/issues/264","repository_url":"https://api.github.com/repos/beancount/beancount","labels_url":"https://api.github.com/repos/beancount/beancount/issues/264/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beancount/issues/264/comments","events_url":"https://api.github.com/repos/beancount/beancount/issues/264/events","html_url":"https://github.com/beancount/beancount/issues/264","id":623374205,"node_id":"MDU6SXNzdWU2MjMzNzQyMDU=","number":264,"title":"test test_bake_archive__known fails when zip is not installed","user":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":2080914000,"node_id":"MDU6TGFiZWwyMDgwOTE0MDAw","url":"https://api.github.com/repos/beancount/beancount/labels/BUG","name":"BUG","color":"cc99cc","default":false,"description":"This is a bug, not a feature request; something isn't working."},{"id":2080994777,"node_id":"MDU6TGFiZWwyMDgwOTk0Nzc3","url":"https://api.github.com/repos/beancount/beancount/labels/P1","name":"P1","color":"ff6666","default":false,"description":"High priority, not breaking but hindering or lessening existing functionality"},{"id":2081000198,"node_id":"MDU6TGFiZWwyMDgxMDAwMTk4","url":"https://api.github.com/repos/beancount/beancount/labels/documentation","name":"documentation","color":"ededed","default":true,"description":"Component: Improvements or additions to documentation"}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":2,"created_at":"2018-04-01T16:07:10Z","updated_at":"2018-04-18T04:13:13Z","closed_at":"2018-04-18T04:13:13Z","author_association":"MEMBER","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"**[Original report](https://bitbucket.org/blais/beancount/issue/264) by Martin Michlmayr (Bitbucket: [tbm13](https://bitbucket.org/tbm13), GitHub: [tbm](https://github.com/tbm)).**\n\n----------------------------------------\n\ntest_bake_archive__known relies on `zip` (and `tar`):\n\n```\nERROR: test_bake_archive__known (beancount.scripts.bake_test.TestScriptArchive)\n----------------------------------------------------------------------\nTraceback (most recent call last):\n  File \"/home/tbm/beancount/beancount/utils/test_utils.py\", line 228, in new_function\n    return function(self, file.name)\n  File \"/home/tbm/beancount/beancount/scripts/bake_test.py\", line 248, in test_bake_archive__known\n    self.get_args() + [filename, outfile])\n  File \"/home/tbm/beancount/beancount/utils/test_utils.py\", line 95, in run_with_args\n    return function()\n  File \"/home/tbm/beancount/beancount/scripts/bake.py\", line 262, in main\n    archive(archival_command, output_directory, opts.output, True)\n  File \"/home/tbm/beancount/beancount/scripts/bake.py\", line 189, in archive\n    stderr=subprocess.PIPE if quiet else None)\n  File \"/usr/lib/python3.6/subprocess.py\", line 709, in __init__\n    restore_signals, start_new_session)\n  File \"/usr/lib/python3.6/subprocess.py\", line 1344, in _execute_child\n    raise child_exception_type(errno_num, err_msg, err_filename)\nFileNotFoundError: [Errno 2] No such file or directory: 'zip': 'zip'\n```\n\nThis is documentation issue.  You need zip and tar (bean bake) and gnupg (for encryption).\n","closed_by":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/beancount/beancount/issues/264/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beancount/issues/264/timeline","performed_via_github_app":null,"state_reason":"completed"},{"url":"https://api.github.com/repos/beancount/beancount/issues/263","repository_url":"https://api.github.com/repos/beancount/beancount","labels_url":"https://api.github.com/repos/beancount/beancount/issues/263/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beancount/issues/263/comments","events_url":"https://api.github.com/repos/beancount/beancount/issues/263/events","html_url":"https://github.com/beancount/beancount/issues/263","id":623374167,"node_id":"MDU6SXNzdWU2MjMzNzQxNjc=","number":263,"title":"test test_read_encrypted_file fails when $GNUPGHOME is not set","user":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":2080914000,"node_id":"MDU6TGFiZWwyMDgwOTE0MDAw","url":"https://api.github.com/repos/beancount/beancount/labels/BUG","name":"BUG","color":"cc99cc","default":false,"description":"This is a bug, not a feature request; something isn't working."},{"id":2080994777,"node_id":"MDU6TGFiZWwyMDgwOTk0Nzc3","url":"https://api.github.com/repos/beancount/beancount/labels/P1","name":"P1","color":"ff6666","default":false,"description":"High priority, not breaking but hindering or lessening existing functionality"},{"id":2080995603,"node_id":"MDU6TGFiZWwyMDgwOTk1NjAz","url":"https://api.github.com/repos/beancount/beancount/labels/core-ops","name":"core-ops","color":"ededed","default":false,"description":"Component: Core data structures and stream ops"}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":3,"created_at":"2018-04-01T15:58:58Z","updated_at":"2018-04-01T16:50:09Z","closed_at":"2018-04-01T16:50:08Z","author_association":"MEMBER","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"**[Original report](https://bitbucket.org/blais/beancount/issue/263) by Martin Michlmayr (Bitbucket: [tbm13](https://bitbucket.org/tbm13), GitHub: [tbm](https://github.com/tbm)).**\n\n----------------------------------------\n\nI get:\n\n```\nERROR: test_read_encrypted_file (beancount.utils.encryption_test.TestEncryptedFiles)\n----------------------------------------------------------------------\nTraceback (most recent call last):\n  File \"/home/tbm/beancount/beancount/utils/encryption_test.py\", line 132, in test_read_encrypted_file\n    self.assertEqual(INPUT, plaintext)\n  File \"/usr/lib/python3.6/contextlib.py\", line 88, in __exit__\n    next(self.gen)\n  File \"/home/tbm/beancount/beancount/utils/test_utils.py\", line 359, in environ\n    os.environ[varname] = oldvalue\n  File \"/usr/lib/python3.6/os.py\", line 674, in __setitem__\n    value = self.encodevalue(value)\n  File \"/usr/lib/python3.6/os.py\", line 744, in encode\n    raise TypeError(\"str expected, not %s\" % type(value).__name__)\nTypeError: str expected, not NoneType\n```\n\nI don't have `$GNUPGHOME` defined and it barfs when it tries to set the old value after the test (since there's no old value).\n\nI'll propose a PR.\n","closed_by":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/beancount/beancount/issues/263/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beancount/issues/263/timeline","performed_via_github_app":null,"state_reason":"completed"},{"url":"https://api.github.com/repos/beancount/beancount/issues/262","repository_url":"https://api.github.com/repos/beancount/beancount","labels_url":"https://api.github.com/repos/beancount/beancount/issues/262/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beancount/issues/262/comments","events_url":"https://api.github.com/repos/beancount/beancount/issues/262/events","html_url":"https://github.com/beancount/beancount/issues/262","id":623374151,"node_id":"MDU6SXNzdWU2MjMzNzQxNTE=","number":262,"title":"bean-doctor says version is insufficient even though it's not (versions compared as strings)","user":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":2080914000,"node_id":"MDU6TGFiZWwyMDgwOTE0MDAw","url":"https://api.github.com/repos/beancount/beancount/labels/BUG","name":"BUG","color":"cc99cc","default":false,"description":"This is a bug, not a feature request; something isn't working."},{"id":2080994022,"node_id":"MDU6TGFiZWwyMDgwOTk0MDIy","url":"https://api.github.com/repos/beancount/beancount/labels/P2","name":"P2","color":"ffaaaa","default":false,"description":"Low priority, addressing would result in useful improvements"},{"id":2080994828,"node_id":"MDU6TGFiZWwyMDgwOTk0ODI4","url":"https://api.github.com/repos/beancount/beancount/labels/scripts","name":"scripts","color":"ededed","default":false,"description":"Component: Other scripts"}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":3,"created_at":"2018-04-01T15:45:59Z","updated_at":"2018-04-01T16:45:33Z","closed_at":"2018-04-01T16:45:32Z","author_association":"MEMBER","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"**[Original report](https://bitbucket.org/blais/beancount/issue/262) by Martin Michlmayr (Bitbucket: [tbm13](https://bitbucket.org/tbm13), GitHub: [tbm](https://github.com/tbm)).**\n\n----------------------------------------\n\nbeancount expects ply version 3.3.  bean-doctor says my version is not sufficient:\n\n```\n   ply             : 3.11 (INSUFFICIENT)\n```\n\nThis is because the versions are compared as strings.\n\nI will open a PR with a fix\n","closed_by":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/beancount/beancount/issues/262/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beancount/issues/262/timeline","performed_via_github_app":null,"state_reason":"completed"},{"url":"https://api.github.com/repos/beancount/beancount/issues/261","repository_url":"https://api.github.com/repos/beancount/beancount","labels_url":"https://api.github.com/repos/beancount/beancount/issues/261/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beancount/issues/261/comments","events_url":"https://api.github.com/repos/beancount/beancount/issues/261/events","html_url":"https://github.com/beancount/beancount/issues/261","id":623374129,"node_id":"MDU6SXNzdWU2MjMzNzQxMjk=","number":261,"title":"Make it possible (via metadata?) to report context around transactions with errors.","user":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":2080994777,"node_id":"MDU6TGFiZWwyMDgwOTk0Nzc3","url":"https://api.github.com/repos/beancount/beancount/labels/P1","name":"P1","color":"ff6666","default":false,"description":"High priority, not breaking but hindering or lessening existing functionality"},{"id":2080995647,"node_id":"MDU6TGFiZWwyMDgwOTk1NjQ3","url":"https://api.github.com/repos/beancount/beancount/labels/parser-loader","name":"parser-loader","color":"ededed","default":false,"description":"Component: Parser and loader"}],"state":"open","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":0,"created_at":"2018-03-31T13:29:17Z","updated_at":"2020-05-23T13:31:49Z","closed_at":null,"author_association":"MEMBER","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"**[Original report](https://bitbucket.org/blais/beancount/issue/261) by Martin Blais (Bitbucket: [blais](https://bitbucket.org/blais), GitHub: [blais](https://github.com/blais)).**\n\n----------------------------------------\n\nWhen you skip Postings due to errors, store the account names somewhere so you can provide before/after contents automatically in errors.\n\nSee #256 for instance, the error should be improved.\n","closed_by":null,"reactions":{"url":"https://api.github.com/repos/beancount/beancount/issues/261/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beancount/issues/261/timeline","performed_via_github_app":null,"state_reason":null},{"url":"https://api.github.com/repos/beancount/beancount/issues/260","repository_url":"https://api.github.com/repos/beancount/beancount","labels_url":"https://api.github.com/repos/beancount/beancount/issues/260/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beancount/issues/260/comments","events_url":"https://api.github.com/repos/beancount/beancount/issues/260/events","html_url":"https://github.com/beancount/beancount/issues/260","id":623374104,"node_id":"MDU6SXNzdWU2MjMzNzQxMDQ=","number":260,"title":"bql: CURRENCY_META and getitem() undocumented","user":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":2080914000,"node_id":"MDU6TGFiZWwyMDgwOTE0MDAw","url":"https://api.github.com/repos/beancount/beancount/labels/BUG","name":"BUG","color":"cc99cc","default":false,"description":"This is a bug, not a feature request; something isn't working."},{"id":2080994777,"node_id":"MDU6TGFiZWwyMDgwOTk0Nzc3","url":"https://api.github.com/repos/beancount/beancount/labels/P1","name":"P1","color":"ff6666","default":false,"description":"High priority, not breaking but hindering or lessening existing functionality"},{"id":2081000198,"node_id":"MDU6TGFiZWwyMDgxMDAwMTk4","url":"https://api.github.com/repos/beancount/beancount/labels/documentation","name":"documentation","color":"ededed","default":true,"description":"Component: Improvements or additions to documentation"}],"state":"open","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":3,"created_at":"2018-03-31T12:40:07Z","updated_at":"2018-03-31T16:45:57Z","closed_at":null,"author_association":"MEMBER","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"**[Original report](https://bitbucket.org/blais/beancount/issue/260) by Martin Michlmayr (Bitbucket: [tbm13](https://bitbucket.org/tbm13), GitHub: [tbm](https://github.com/tbm)).**\n\n----------------------------------------\n\nI don't know if this is a documentation issue or a bug but I cannot figure out how to use CURRENCY_META().\n\n\"help from\" says it returns a dict. How do I query a dict in BLQ?\n\n```\nbeancount> SELECT COMMODITY_META(\"GBP\");\nTraceback (most recent call last):\n  File \"/usr/lib/python3.5/cmd.py\", line 214, in onecmd\n    func = getattr(self, 'do_' + cmd)\nAttributeError: 'BQLShell' object has no attribute 'do_SELECT'\n...\n  File \"/home/tbm/.local/lib/python3.5/site-packages/beancount/query/query_render.py\", line 452, in get_renderers\n    for _, dtype in result_types]\n  File \"/home/tbm/.local/lib/python3.5/site-packages/beancount/query/query_render.py\", line 452, in <listcomp>\n    for _, dtype in result_types]\nKeyError: <class 'dict'>\n```\n\nwith\n\n```\n1970-01-01 commodity GBP\n  assets: \"cash\"\n\n2018-02-17 * \"Iceland\" \"Supermarket\"\n  Expenses:Supermarket                                      2.00 GBP\n  Liabilities:Credit-Card                                  -2.00 GBP\n```\n","closed_by":null,"reactions":{"url":"https://api.github.com/repos/beancount/beancount/issues/260/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beancount/issues/260/timeline","performed_via_github_app":null,"state_reason":null},{"url":"https://api.github.com/repos/beancount/beancount/issues/259","repository_url":"https://api.github.com/repos/beancount/beancount","labels_url":"https://api.github.com/repos/beancount/beancount/issues/259/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beancount/issues/259/comments","events_url":"https://api.github.com/repos/beancount/beancount/issues/259/events","html_url":"https://github.com/beancount/beancount/issues/259","id":623374088,"node_id":"MDU6SXNzdWU2MjMzNzQwODg=","number":259,"title":"bean-web doesn't fail on non-existing file","user":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":2080914000,"node_id":"MDU6TGFiZWwyMDgwOTE0MDAw","url":"https://api.github.com/repos/beancount/beancount/labels/BUG","name":"BUG","color":"cc99cc","default":false,"description":"This is a bug, not a feature request; something isn't working."},{"id":2080994061,"node_id":"MDU6TGFiZWwyMDgwOTk0MDYx","url":"https://api.github.com/repos/beancount/beancount/labels/P3","name":"P3","color":"FFdddd","default":false,"description":"Very low priority, nice to have"},{"id":2080994900,"node_id":"MDU6TGFiZWwyMDgwOTk0OTAw","url":"https://api.github.com/repos/beancount/beancount/labels/web","name":"web","color":"ededed","default":false,"description":"Component: bean-web built-in server"}],"state":"open","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":0,"created_at":"2018-03-31T06:31:43Z","updated_at":"2018-03-31T06:31:43Z","closed_at":null,"author_association":"MEMBER","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"**[Original report](https://bitbucket.org/blais/beancount/issue/259) by Martin Blais (Bitbucket: [blais](https://bitbucket.org/blais), GitHub: [blais](https://github.com/blais)).**\n\n----------------------------------------\n\nIt only loads and checks when you first reload.\nI think it should fail if the file isn't there on startup... and perhaps start loading right away anyhow.\n","closed_by":null,"reactions":{"url":"https://api.github.com/repos/beancount/beancount/issues/259/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beancount/issues/259/timeline","performed_via_github_app":null,"state_reason":null},{"url":"https://api.github.com/repos/beancount/beancount/issues/258","repository_url":"https://api.github.com/repos/beancount/beancount","labels_url":"https://api.github.com/repos/beancount/beancount/issues/258/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beancount/issues/258/comments","events_url":"https://api.github.com/repos/beancount/beancount/issues/258/events","html_url":"https://github.com/beancount/beancount/issues/258","id":623374074,"node_id":"MDU6SXNzdWU2MjMzNzQwNzQ=","number":258,"title":"Create a marker directive","user":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":2080994061,"node_id":"MDU6TGFiZWwyMDgwOTk0MDYx","url":"https://api.github.com/repos/beancount/beancount/labels/P3","name":"P3","color":"FFdddd","default":false,"description":"Very low priority, nice to have"},{"id":2080995647,"node_id":"MDU6TGFiZWwyMDgwOTk1NjQ3","url":"https://api.github.com/repos/beancount/beancount/labels/parser-loader","name":"parser-loader","color":"ededed","default":false,"description":"Component: Parser and loader"}],"state":"open","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":0,"created_at":"2018-03-28T02:36:40Z","updated_at":"2020-05-23T13:15:46Z","closed_at":null,"author_association":"MEMBER","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"**[Original report](https://bitbucket.org/blais/beancount/issue/258) by Martin Blais (Bitbucket: [blais](https://bitbucket.org/blais), GitHub: [blais](https://github.com/blais)).**\n\n----------------------------------------\n\nRe. #257: Consider creating a \"market\" directive.\n\nFava has such a feature (and code), see the \"insert-entry\"-option here: https://fava.pythonanywhere.com/example-with-budgets/help/options/\n\nBasically it works like this: You can add custom \"insert-entry\" entries with a RegEx, and when adding a transaction, the position where it should go in the file is determined by those custom entries.\n","closed_by":null,"reactions":{"url":"https://api.github.com/repos/beancount/beancount/issues/258/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beancount/issues/258/timeline","performed_via_github_app":null,"state_reason":null},{"url":"https://api.github.com/repos/beancount/beancount/issues/256","repository_url":"https://api.github.com/repos/beancount/beancount","labels_url":"https://api.github.com/repos/beancount/beancount/issues/256/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beancount/issues/256/comments","events_url":"https://api.github.com/repos/beancount/beancount/issues/256/events","html_url":"https://github.com/beancount/beancount/issues/256","id":623374026,"node_id":"MDU6SXNzdWU2MjMzNzQwMjY=","number":256,"title":"Reduction gets confused: A doesn't exist but it complains about B","user":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":2080914000,"node_id":"MDU6TGFiZWwyMDgwOTE0MDAw","url":"https://api.github.com/repos/beancount/beancount/labels/BUG","name":"BUG","color":"cc99cc","default":false,"description":"This is a bug, not a feature request; something isn't working."},{"id":2080994777,"node_id":"MDU6TGFiZWwyMDgwOTk0Nzc3","url":"https://api.github.com/repos/beancount/beancount/labels/P1","name":"P1","color":"ff6666","default":false,"description":"High priority, not breaking but hindering or lessening existing functionality"}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":3,"created_at":"2018-03-26T09:34:03Z","updated_at":"2018-05-15T16:10:41Z","closed_at":"2018-03-31T13:29:30Z","author_association":"MEMBER","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"**[Original report](https://bitbucket.org/blais/beancount/issue/256) by Martin Michlmayr (Bitbucket: [tbm13](https://bitbucket.org/tbm13), GitHub: [tbm](https://github.com/tbm)).**\n\n----------------------------------------\n\nIt took me a while to figure out what's going on because the error is misleading.  I have  2  DE0002635307 @ 36.67 EUR.  And there's 1 DE0002635307 @ 32.86 which isn't properly handled because I reduce it before it exists.  But the error I get is about the 2  DE0002635307 @ 36.67 EUR!\n\n```\n2000-01-01 open Assets:Investments\n2000-01-01 open Equity:Opening-Balance\n2000-01-01 open Assets:Transfer\n\n2016-01-01 * \"Opening balance\"\n  Assets:Transfer             2 DE0002635307 {36.67 EUR, 2007-09-18}\n  Equity:Opening-Balance\n\n2016-01-21 * \"Transfer in\"\n  Assets:Investments          2 DE0002635307 {36.67 EUR, 2007-09-18}\n  Assets:Transfer            -2 DE0002635307 {36.67 EUR, 2007-09-18}\n  Assets:Investments          1 DE0002635307 {32.86 EUR, 2014-10-24}\n  Assets:Transfer            -1 DE0002635307 {32.86 EUR, 2014-10-24}\n\n2016-01-22 * \"Transfer out\"\n  Assets:Transfer             2 DE0002635307 {36.67 EUR, 2007-09-18}\n  Assets:Investments         -2 DE0002635307 {36.67 EUR, 2007-09-18}\n```\n\nError:\n\n```\n/home/tbm/t1:15:      No position matches \"Posting(account='Assets:Transfer', units=2\n DE0002635307, cost=CostSpec(number_per=Decimal('36.67'), number_total=None,\n currency='EUR', date=datetime.date(2007, 9, 18), label=None, merge=False), price=None, \nflag=None, meta={'lineno': 16, 'filename': '/home/tbm/t1'})\" against balance (-1\n DE0002635307 {32.86 EUR, 2014-10-24})\n\n   2016-01-22 * \"Transfer out\"\n     Assets:Transfer      2 DE0002635307 {36.67 EUR, 2007-09-18}\n     Assets:Investments  -2 DE0002635307 {36.67 EUR, 2007-09-18}\n```\n","closed_by":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/beancount/beancount/issues/256/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beancount/issues/256/timeline","performed_via_github_app":null,"state_reason":"completed"},{"url":"https://api.github.com/repos/beancount/beancount/issues/255","repository_url":"https://api.github.com/repos/beancount/beancount","labels_url":"https://api.github.com/repos/beancount/beancount/issues/255/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beancount/issues/255/comments","events_url":"https://api.github.com/repos/beancount/beancount/issues/255/events","html_url":"https://github.com/beancount/beancount/issues/255","id":623373994,"node_id":"MDU6SXNzdWU2MjMzNzM5OTQ=","number":255,"title":"Prices are not transitive","user":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":2080994022,"node_id":"MDU6TGFiZWwyMDgwOTk0MDIy","url":"https://api.github.com/repos/beancount/beancount/labels/P2","name":"P2","color":"ffaaaa","default":false,"description":"Low priority, addressing would result in useful improvements"},{"id":2080995603,"node_id":"MDU6TGFiZWwyMDgwOTk1NjAz","url":"https://api.github.com/repos/beancount/beancount/labels/core-ops","name":"core-ops","color":"ededed","default":false,"description":"Component: Core data structures and stream ops"}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":15,"created_at":"2018-03-25T20:11:39Z","updated_at":"2024-11-21T05:14:36Z","closed_at":"2020-11-02T05:00:47Z","author_association":"MEMBER","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"**[Original report](https://bitbucket.org/blais/beancount/issue/255) by Martin Michlmayr (Bitbucket: [tbm13](https://bitbucket.org/tbm13), GitHub: [tbm](https://github.com/tbm)).**\n\n----------------------------------------\n\nIf a price pair MR/USD exists as well as USD/EUR, why can't beancount convert from MR to EUR directly?  i.e. why are prices not transitive?  (They are in ledger)\n\nExample:\n\n```\nbeancount> SELECT CONVERT(position, \"USD\") WHERE account ~ 'Test' AND currency ~ 'MR'\nconvert_pos\n-----------\n 7.5000 USD\n-7.5000 USD\nbeancount> SELECT CONVERT(position, \"EUR\") WHERE account ~ 'Test' AND currency ~ 'USD'\n       convert_position_c_        \n----------------------------------\n 8.130081300813008130081300813 EUR\n-8.130081300813008130081300813 EUR\nbeancount> SELECT CONVERT(position, \"EUR\") WHERE account ~ 'Test' AND currency ~ 'MR'\nconvert_\n--------\n 1000 MR\n-1000 MR\nbeancount> SELECT CONVERT(CONVERT(position, \"USD\"), \"EUR\") WHERE account ~ 'Test' AND currency ~ 'MR'\n  convert_convert_position_c__c_  \n----------------------------------\n 6.097560975609756097560975610 EUR\n-6.097560975609756097560975610 EUR\nbeancount> \n```\n\nTest case:\n\n```\n2014-01-01 open Assets:Test\n\n2018-03-20 * \"Test\"\n  Assets:Test                1000 MR\n  Assets:Test\n\n2018-03-20 * \"Test\"\n  Assets:Test                10 USD\n  Assets:Test\n\n2018-03-25 price EUR 1.23 USD\n2018-03-25 price MR 0.0075 USD\n```\n","closed_by":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/beancount/beancount/issues/255/reactions","total_count":2,"+1":2,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beancount/issues/255/timeline","performed_via_github_app":null,"state_reason":"completed"},{"url":"https://api.github.com/repos/beancount/beancount/issues/254","repository_url":"https://api.github.com/repos/beancount/beancount","labels_url":"https://api.github.com/repos/beancount/beancount/issues/254/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beancount/issues/254/comments","events_url":"https://api.github.com/repos/beancount/beancount/issues/254/events","html_url":"https://github.com/beancount/beancount/issues/254","id":623373981,"node_id":"MDU6SXNzdWU2MjMzNzM5ODE=","number":254,"title":"CONVERT() to one of several currencies","user":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":2080994777,"node_id":"MDU6TGFiZWwyMDgwOTk0Nzc3","url":"https://api.github.com/repos/beancount/beancount/labels/P1","name":"P1","color":"ff6666","default":false,"description":"High priority, not breaking but hindering or lessening existing functionality"},{"id":2080995603,"node_id":"MDU6TGFiZWwyMDgwOTk1NjAz","url":"https://api.github.com/repos/beancount/beancount/labels/core-ops","name":"core-ops","color":"ededed","default":false,"description":"Component: Core data structures and stream ops"}],"state":"open","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":2,"created_at":"2018-03-25T20:06:20Z","updated_at":"2020-05-23T13:15:46Z","closed_at":null,"author_association":"MEMBER","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"**[Original report](https://bitbucket.org/blais/beancount/issue/254) by Martin Michlmayr (Bitbucket: [tbm13](https://bitbucket.org/tbm13), GitHub: [tbm](https://github.com/tbm)).**\n\n----------------------------------------\n\nI want to say something like `CONVERT(xx, \"EUR, GBP, USD\")` or `CONVERT(xx, \"EUR:GBP:USD\")` to say: convert to either EUR, GBP or USD (in that order). If it's already one of those currencies, don't convert.\n","closed_by":null,"reactions":{"url":"https://api.github.com/repos/beancount/beancount/issues/254/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beancount/issues/254/timeline","performed_via_github_app":null,"state_reason":null},{"url":"https://api.github.com/repos/beancount/beancount/issues/253","repository_url":"https://api.github.com/repos/beancount/beancount","labels_url":"https://api.github.com/repos/beancount/beancount/issues/253/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beancount/issues/253/comments","events_url":"https://api.github.com/repos/beancount/beancount/issues/253/events","html_url":"https://github.com/beancount/beancount/issues/253","id":623373969,"node_id":"MDU6SXNzdWU2MjMzNzM5Njk=","number":253,"title":"bean-report commodities doesn't report commodities","user":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":2080914000,"node_id":"MDU6TGFiZWwyMDgwOTE0MDAw","url":"https://api.github.com/repos/beancount/beancount/labels/BUG","name":"BUG","color":"cc99cc","default":false,"description":"This is a bug, not a feature request; something isn't working."},{"id":2080994777,"node_id":"MDU6TGFiZWwyMDgwOTk0Nzc3","url":"https://api.github.com/repos/beancount/beancount/labels/P1","name":"P1","color":"ff6666","default":false,"description":"High priority, not breaking but hindering or lessening existing functionality"},{"id":2080995603,"node_id":"MDU6TGFiZWwyMDgwOTk1NjAz","url":"https://api.github.com/repos/beancount/beancount/labels/core-ops","name":"core-ops","color":"ededed","default":false,"description":"Component: Core data structures and stream ops"}],"state":"open","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":2,"created_at":"2018-03-21T13:30:08Z","updated_at":"2023-12-28T19:38:01Z","closed_at":null,"author_association":"MEMBER","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"**[Original report](https://bitbucket.org/blais/beancount/issue/253) by Martin Michlmayr (Bitbucket: [tbm13](https://bitbucket.org/tbm13), GitHub: [tbm](https://github.com/tbm)).**\n\n----------------------------------------\n\n`bean-report accounts` reports all accounts but `bean-report commodities` doesn't list all commodities (as `ledger commodities` does).  It only lists those commodities which have pairs (are these pairs even \"commodities\"?).\n","closed_by":null,"reactions":{"url":"https://api.github.com/repos/beancount/beancount/issues/253/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beancount/issues/253/timeline","performed_via_github_app":null,"state_reason":null},{"url":"https://api.github.com/repos/beancount/beancount/issues/252","repository_url":"https://api.github.com/repos/beancount/beancount","labels_url":"https://api.github.com/repos/beancount/beancount/issues/252/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beancount/issues/252/comments","events_url":"https://api.github.com/repos/beancount/beancount/issues/252/events","html_url":"https://github.com/beancount/beancount/issues/252","id":623373954,"node_id":"MDU6SXNzdWU2MjMzNzM5NTQ=","number":252,"title":"beancount uses BASE/QUOTE inconsistently (regarding whitespace)","user":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":2080914000,"node_id":"MDU6TGFiZWwyMDgwOTE0MDAw","url":"https://api.github.com/repos/beancount/beancount/labels/BUG","name":"BUG","color":"cc99cc","default":false,"description":"This is a bug, not a feature request; something isn't working."},{"id":2080994022,"node_id":"MDU6TGFiZWwyMDgwOTk0MDIy","url":"https://api.github.com/repos/beancount/beancount/labels/P2","name":"P2","color":"ffaaaa","default":false,"description":"Low priority, addressing would result in useful improvements"},{"id":2080995603,"node_id":"MDU6TGFiZWwyMDgwOTk1NjAz","url":"https://api.github.com/repos/beancount/beancount/labels/core-ops","name":"core-ops","color":"ededed","default":false,"description":"Component: Core data structures and stream ops"}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":3,"created_at":"2018-03-21T13:27:56Z","updated_at":"2018-03-28T04:08:27Z","closed_at":"2018-03-28T04:08:26Z","author_association":"MEMBER","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"**[Original report](https://bitbucket.org/blais/beancount/issue/252) by Martin Michlmayr (Bitbucket: [tbm13](https://bitbucket.org/tbm13), GitHub: [tbm](https://github.com/tbm)).**\n\n----------------------------------------\n\n`bean-report foo commodities` shows me:\n\n```\nUSD / UR                 \n```\n\nbut when I use this pair as printed (with spaces) I get an error:\n\n```\nbean-report foo prices -c \"USD / UR\"\nbean-report: error: Invalid commodity pair \"USD / UR\"; must be in BASE/QUOTE format\n```\n\nWhen I remove the spaces it works: \"USD/UR\"\n\nEither `commodities` shouldn't print spaces or spaces should be accepted.\n","closed_by":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/beancount/beancount/issues/252/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beancount/issues/252/timeline","performed_via_github_app":null,"state_reason":"completed"},{"url":"https://api.github.com/repos/beancount/beancount/issues/251","repository_url":"https://api.github.com/repos/beancount/beancount","labels_url":"https://api.github.com/repos/beancount/beancount/issues/251/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beancount/issues/251/comments","events_url":"https://api.github.com/repos/beancount/beancount/issues/251/events","html_url":"https://github.com/beancount/beancount/issues/251","id":623373937,"node_id":"MDU6SXNzdWU2MjMzNzM5Mzc=","number":251,"title":"Allow reading from stdin","user":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":2080994022,"node_id":"MDU6TGFiZWwyMDgwOTk0MDIy","url":"https://api.github.com/repos/beancount/beancount/labels/P2","name":"P2","color":"ffaaaa","default":false,"description":"Low priority, addressing would result in useful improvements"},{"id":2080995603,"node_id":"MDU6TGFiZWwyMDgwOTk1NjAz","url":"https://api.github.com/repos/beancount/beancount/labels/core-ops","name":"core-ops","color":"ededed","default":false,"description":"Component: Core data structures and stream ops"}],"state":"open","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":0,"created_at":"2018-03-21T13:16:43Z","updated_at":"2020-05-23T13:15:46Z","closed_at":null,"author_association":"MEMBER","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"**[Original report](https://bitbucket.org/blais/beancount/issue/251) by Martin Michlmayr (Bitbucket: [tbm13](https://bitbucket.org/tbm13), GitHub: [tbm](https://github.com/tbm)).**\n\n----------------------------------------\n\nit would be nice if beancount read process input from stdin.  Currently I get:\n\n```\n<load>:0:       File \"/home/tbm/-\" does not exist\n```\n","closed_by":null,"reactions":{"url":"https://api.github.com/repos/beancount/beancount/issues/251/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beancount/issues/251/timeline","performed_via_github_app":null,"state_reason":null},{"url":"https://api.github.com/repos/beancount/beancount/issues/250","repository_url":"https://api.github.com/repos/beancount/beancount","labels_url":"https://api.github.com/repos/beancount/beancount/issues/250/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beancount/issues/250/comments","events_url":"https://api.github.com/repos/beancount/beancount/issues/250/events","html_url":"https://github.com/beancount/beancount/issues/250","id":623373926,"node_id":"MDU6SXNzdWU2MjMzNzM5MjY=","number":250,"title":"improve error message for costs without an amount","user":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":2080914000,"node_id":"MDU6TGFiZWwyMDgwOTE0MDAw","url":"https://api.github.com/repos/beancount/beancount/labels/BUG","name":"BUG","color":"cc99cc","default":false,"description":"This is a bug, not a feature request; something isn't working."},{"id":2080994061,"node_id":"MDU6TGFiZWwyMDgwOTk0MDYx","url":"https://api.github.com/repos/beancount/beancount/labels/P3","name":"P3","color":"FFdddd","default":false,"description":"Very low priority, nice to have"},{"id":2080995647,"node_id":"MDU6TGFiZWwyMDgwOTk1NjQ3","url":"https://api.github.com/repos/beancount/beancount/labels/parser-loader","name":"parser-loader","color":"ededed","default":false,"description":"Component: Parser and loader"}],"state":"open","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":0,"created_at":"2018-03-21T12:34:18Z","updated_at":"2018-03-21T12:34:18Z","closed_at":null,"author_association":"MEMBER","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"**[Original report](https://bitbucket.org/blais/beancount/issue/250) by Martin Michlmayr (Bitbucket: [tbm13](https://bitbucket.org/tbm13), GitHub: [tbm](https://github.com/tbm)).**\n\n----------------------------------------\n\nWith:\n\n```\n2017-01-01 open Assets:Rewards\n2017-01-01 open Equity:Opening-balance\n\n2017-01-01 * \"Marriott certificate\"\n  Assets:Rewards                 1 MARRIOTT4 {\"expiration: 2017-08-17\"}\n  Equity:Opening-balance\n```\n\nI get:\n\n```\n...:7:       Failed to categorize posting 0\n```\n\nThis error message could be improved to say the cost is missing the amount.\n\nBTW, should a cost without an amount be allowed? I guess not, but I could use the built-in mechanism to ensure I remove the correct \"lot\" (in ledger terms).  But I guess I can put the info in a metadata variable and write a plugin to ensure the same.  Just seems like a duplication of error.  (Maybe there's an elegant way to do this already?)\n","closed_by":null,"reactions":{"url":"https://api.github.com/repos/beancount/beancount/issues/250/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beancount/issues/250/timeline","performed_via_github_app":null,"state_reason":null},{"url":"https://api.github.com/repos/beancount/beancount/issues/249","repository_url":"https://api.github.com/repos/beancount/beancount","labels_url":"https://api.github.com/repos/beancount/beancount/issues/249/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beancount/issues/249/comments","events_url":"https://api.github.com/repos/beancount/beancount/issues/249/events","html_url":"https://github.com/beancount/beancount/issues/249","id":623373897,"node_id":"MDU6SXNzdWU2MjMzNzM4OTc=","number":249,"title":"error messages involving postings should start counting at 1instead of 0","user":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":2080914000,"node_id":"MDU6TGFiZWwyMDgwOTE0MDAw","url":"https://api.github.com/repos/beancount/beancount/labels/BUG","name":"BUG","color":"cc99cc","default":false,"description":"This is a bug, not a feature request; something isn't working."},{"id":2080994061,"node_id":"MDU6TGFiZWwyMDgwOTk0MDYx","url":"https://api.github.com/repos/beancount/beancount/labels/P3","name":"P3","color":"FFdddd","default":false,"description":"Very low priority, nice to have"},{"id":2080995647,"node_id":"MDU6TGFiZWwyMDgwOTk1NjQ3","url":"https://api.github.com/repos/beancount/beancount/labels/parser-loader","name":"parser-loader","color":"ededed","default":false,"description":"Component: Parser and loader"}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":2,"created_at":"2018-03-21T12:30:46Z","updated_at":"2018-03-24T07:29:32Z","closed_at":"2018-03-24T07:29:32Z","author_association":"MEMBER","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"**[Original report](https://bitbucket.org/blais/beancount/issue/249) by Martin Michlmayr (Bitbucket: [tbm13](https://bitbucket.org/tbm13), GitHub: [tbm](https://github.com/tbm)).**\n\n----------------------------------------\n\nI got:\n\n```\nFailed to categorize posting 0\n```\n\nI know programmers like to start counting at 0 but wouldn't 1 be more intuitive here?\n","closed_by":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/beancount/beancount/issues/249/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beancount/issues/249/timeline","performed_via_github_app":null,"state_reason":"completed"},{"url":"https://api.github.com/repos/beancount/beancount/issues/248","repository_url":"https://api.github.com/repos/beancount/beancount","labels_url":"https://api.github.com/repos/beancount/beancount/issues/248/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beancount/issues/248/comments","events_url":"https://api.github.com/repos/beancount/beancount/issues/248/events","html_url":"https://github.com/beancount/beancount/issues/248","id":623373880,"node_id":"MDU6SXNzdWU2MjMzNzM4ODA=","number":248,"title":"Support virtual costs (virtual prices)","user":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":2080994022,"node_id":"MDU6TGFiZWwyMDgwOTk0MDIy","url":"https://api.github.com/repos/beancount/beancount/labels/P2","name":"P2","color":"ffaaaa","default":false,"description":"Low priority, addressing would result in useful improvements"},{"id":2080995647,"node_id":"MDU6TGFiZWwyMDgwOTk1NjQ3","url":"https://api.github.com/repos/beancount/beancount/labels/parser-loader","name":"parser-loader","color":"ededed","default":false,"description":"Component: Parser and loader"}],"state":"open","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":1,"created_at":"2018-03-21T10:29:56Z","updated_at":"2020-05-23T13:15:46Z","closed_at":null,"author_association":"MEMBER","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"**[Original report](https://bitbucket.org/blais/beancount/issue/248) by Martin Michlmayr (Bitbucket: [tbm13](https://bitbucket.org/tbm13), GitHub: [tbm](https://github.com/tbm)).**\n\n----------------------------------------\n\nledger supports [virtual costs](https://www.ledger-cli.org/3.0/doc/ledger3.html#Virtual-posting-costs) (maybe better virtual prices?), e.g. \"1 FOO (@) 2 BAR\" and \"1 FOO (@@) 2 BAR\".  If you use a virtual cost, no price information is added to the pricedb.\n\nI realize by default beancount doesn't add any price information automatically from transaction but this would allow the implicit_prices plugin to disregard some prices.\n\nWhat do you think of adding this feature to beancount?\n","closed_by":null,"reactions":{"url":"https://api.github.com/repos/beancount/beancount/issues/248/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beancount/issues/248/timeline","performed_via_github_app":null,"state_reason":null},{"url":"https://api.github.com/repos/beancount/beancount/issues/247","repository_url":"https://api.github.com/repos/beancount/beancount","labels_url":"https://api.github.com/repos/beancount/beancount/issues/247/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beancount/issues/247/comments","events_url":"https://api.github.com/repos/beancount/beancount/issues/247/events","html_url":"https://github.com/beancount/beancount/issues/247","id":623373858,"node_id":"MDU6SXNzdWU2MjMzNzM4NTg=","number":247,"title":"Please print position in error messages","user":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":2080994022,"node_id":"MDU6TGFiZWwyMDgwOTk0MDIy","url":"https://api.github.com/repos/beancount/beancount/labels/P2","name":"P2","color":"ffaaaa","default":false,"description":"Low priority, addressing would result in useful improvements"},{"id":2080995647,"node_id":"MDU6TGFiZWwyMDgwOTk1NjQ3","url":"https://api.github.com/repos/beancount/beancount/labels/parser-loader","name":"parser-loader","color":"ededed","default":false,"description":"Component: Parser and loader"}],"state":"open","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":0,"created_at":"2018-03-20T16:56:53Z","updated_at":"2020-05-23T13:15:46Z","closed_at":null,"author_association":"MEMBER","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"**[Original report](https://bitbucket.org/blais/beancount/issue/247) by Martin Michlmayr (Bitbucket: [tbm13](https://bitbucket.org/tbm13), GitHub: [tbm](https://github.com/tbm)).**\n\n----------------------------------------\n\n```\nd:1:       syntax error, unexpected NUMBER\n```\n\nIt shows the line number but sometimes the position isn't clear. Could that be printed too?  ('at character X' or something)\n","closed_by":null,"reactions":{"url":"https://api.github.com/repos/beancount/beancount/issues/247/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beancount/issues/247/timeline","performed_via_github_app":null,"state_reason":null},{"url":"https://api.github.com/repos/beancount/beancount/issues/246","repository_url":"https://api.github.com/repos/beancount/beancount","labels_url":"https://api.github.com/repos/beancount/beancount/issues/246/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beancount/issues/246/comments","events_url":"https://api.github.com/repos/beancount/beancount/issues/246/events","html_url":"https://github.com/beancount/beancount/issues/246","id":623373831,"node_id":"MDU6SXNzdWU2MjMzNzM4MzE=","number":246,"title":"Transaction does not balance with @@: -0.000000000000000000000001","user":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":2080914000,"node_id":"MDU6TGFiZWwyMDgwOTE0MDAw","url":"https://api.github.com/repos/beancount/beancount/labels/BUG","name":"BUG","color":"cc99cc","default":false,"description":"This is a bug, not a feature request; something isn't working."},{"id":2080994777,"node_id":"MDU6TGFiZWwyMDgwOTk0Nzc3","url":"https://api.github.com/repos/beancount/beancount/labels/P1","name":"P1","color":"ff6666","default":false,"description":"High priority, not breaking but hindering or lessening existing functionality"},{"id":2080995603,"node_id":"MDU6TGFiZWwyMDgwOTk1NjAz","url":"https://api.github.com/repos/beancount/beancount/labels/core-ops","name":"core-ops","color":"ededed","default":false,"description":"Component: Core data structures and stream ops"}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":8,"created_at":"2018-03-20T15:35:52Z","updated_at":"2025-08-19T23:17:13Z","closed_at":"2019-04-10T02:10:45Z","author_association":"MEMBER","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"**[Original report](https://bitbucket.org/blais/beancount/issue/246) by Martin Michlmayr (Bitbucket: [tbm13](https://bitbucket.org/tbm13), GitHub: [tbm](https://github.com/tbm)).**\n\n----------------------------------------\n\n```\n2014-01-01 open Assets:Test\n\n2018-03-20 * \"Test\"\n  Assets:Test                42.30 USD @@ 5640 MR\n  Assets:Test                            -5640 MR\n```\n\ngives\n\n```/home/tbm/beancount/test.beancount:9:       Transaction does not balance: (-1E-24 MR)\n```\n\nClearly it should balance but it doesn't because of rounding when you convert from a total price to a unit price.\n\nMaybe beancount should automatically infer a tolerance of whatever the precsion of the datatype you use to store is.\n\nAlso, another argument for issue #194 to somehow store the total price/cost.\n","closed_by":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/beancount/beancount/issues/246/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beancount/issues/246/timeline","performed_via_github_app":null,"state_reason":"completed"},{"url":"https://api.github.com/repos/beancount/beancount/issues/245","repository_url":"https://api.github.com/repos/beancount/beancount","labels_url":"https://api.github.com/repos/beancount/beancount/issues/245/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beancount/issues/245/comments","events_url":"https://api.github.com/repos/beancount/beancount/issues/245/events","html_url":"https://github.com/beancount/beancount/issues/245","id":623373813,"node_id":"MDU6SXNzdWU2MjMzNzM4MTM=","number":245,"title":"Why is account name starting with a digit invalid?","user":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":2080914000,"node_id":"MDU6TGFiZWwyMDgwOTE0MDAw","url":"https://api.github.com/repos/beancount/beancount/labels/BUG","name":"BUG","color":"cc99cc","default":false,"description":"This is a bug, not a feature request; something isn't working."},{"id":2080994022,"node_id":"MDU6TGFiZWwyMDgwOTk0MDIy","url":"https://api.github.com/repos/beancount/beancount/labels/P2","name":"P2","color":"ffaaaa","default":false,"description":"Low priority, addressing would result in useful improvements"},{"id":2080995647,"node_id":"MDU6TGFiZWwyMDgwOTk1NjQ3","url":"https://api.github.com/repos/beancount/beancount/labels/parser-loader","name":"parser-loader","color":"ededed","default":false,"description":"Component: Parser and loader"}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":5,"created_at":"2018-03-20T11:29:00Z","updated_at":"2018-03-26T21:28:39Z","closed_at":"2018-03-26T21:28:38Z","author_association":"MEMBER","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"**[Original report](https://bitbucket.org/blais/beancount/issue/245) by Martin Michlmayr (Bitbucket: [tbm13](https://bitbucket.org/tbm13), GitHub: [tbm](https://github.com/tbm)).**\n\n----------------------------------------\n\nWith:\n\n```\nAssets:Vouchers:99Ranch\n```\n\nI get:\n\n```\nsyntax error, unexpected COLON, expecting EOL or COMMENT\n```\n\nI think this is a big unclear.  It should complain about the digits, not the colon.\n","closed_by":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/beancount/beancount/issues/245/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beancount/issues/245/timeline","performed_via_github_app":null,"state_reason":"completed"},{"url":"https://api.github.com/repos/beancount/beancount/issues/244","repository_url":"https://api.github.com/repos/beancount/beancount","labels_url":"https://api.github.com/repos/beancount/beancount/issues/244/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beancount/issues/244/comments","events_url":"https://api.github.com/repos/beancount/beancount/issues/244/events","html_url":"https://github.com/beancount/beancount/issues/244","id":623373775,"node_id":"MDU6SXNzdWU2MjMzNzM3NzU=","number":244,"title":"improve error msg with wrong date: syntax error, unexpected NUMBER","user":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":2080994022,"node_id":"MDU6TGFiZWwyMDgwOTk0MDIy","url":"https://api.github.com/repos/beancount/beancount/labels/P2","name":"P2","color":"ffaaaa","default":false,"description":"Low priority, addressing would result in useful improvements"},{"id":2080995647,"node_id":"MDU6TGFiZWwyMDgwOTk1NjQ3","url":"https://api.github.com/repos/beancount/beancount/labels/parser-loader","name":"parser-loader","color":"ededed","default":false,"description":"Component: Parser and loader"}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":4,"created_at":"2018-03-18T15:36:28Z","updated_at":"2018-03-20T16:55:47Z","closed_at":"2018-03-18T16:55:19Z","author_association":"MEMBER","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"**[Original report](https://bitbucket.org/blais/beancount/issue/244) by Martin Michlmayr (Bitbucket: [tbm13](https://bitbucket.org/tbm13), GitHub: [tbm](https://github.com/tbm)).**\n\n----------------------------------------\n\nA wrong dates leads to\n\n```\nsyntax error, unexpected NUMBER\n```\n\nIt doesn't say where so this might be anything.  Could it say \"problem parsing date, expecting NUMBER\"?\n\nTest:\n\n```\n208-03-18 * \"invalid date\"\n```\n","closed_by":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/beancount/beancount/issues/244/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beancount/issues/244/timeline","performed_via_github_app":null,"state_reason":"completed"},{"url":"https://api.github.com/repos/beancount/beancount/issues/241","repository_url":"https://api.github.com/repos/beancount/beancount","labels_url":"https://api.github.com/repos/beancount/beancount/issues/241/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beancount/issues/241/comments","events_url":"https://api.github.com/repos/beancount/beancount/issues/241/events","html_url":"https://github.com/beancount/beancount/issues/241","id":623373706,"node_id":"MDU6SXNzdWU2MjMzNzM3MDY=","number":241,"title":"Please allow wildcards in file include statements","user":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":2080994777,"node_id":"MDU6TGFiZWwyMDgwOTk0Nzc3","url":"https://api.github.com/repos/beancount/beancount/labels/P1","name":"P1","color":"ff6666","default":false,"description":"High priority, not breaking but hindering or lessening existing functionality"},{"id":2080995647,"node_id":"MDU6TGFiZWwyMDgwOTk1NjQ3","url":"https://api.github.com/repos/beancount/beancount/labels/parser-loader","name":"parser-loader","color":"ededed","default":false,"description":"Component: Parser and loader"}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":7,"created_at":"2018-03-16T16:30:03Z","updated_at":"2018-03-28T00:59:10Z","closed_at":"2018-03-28T00:59:09Z","author_association":"MEMBER","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"**[Original report](https://bitbucket.org/blais/beancount/issue/241) by Martin Michlmayr (Bitbucket: [tbm13](https://bitbucket.org/tbm13), GitHub: [tbm](https://github.com/tbm)).**\n\n----------------------------------------\n\nPlease support wildcards for file includes.  Currently I get:\n\n```\n2018.beancount:152:     Invalid token: 'loans/*/2018.beancount'\n```\n","closed_by":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/beancount/beancount/issues/241/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beancount/issues/241/timeline","performed_via_github_app":null,"state_reason":"completed"},{"url":"https://api.github.com/repos/beancount/beancount/issues/240","repository_url":"https://api.github.com/repos/beancount/beancount","labels_url":"https://api.github.com/repos/beancount/beancount/issues/240/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beancount/issues/240/comments","events_url":"https://api.github.com/repos/beancount/beancount/issues/240/events","html_url":"https://github.com/beancount/beancount/issues/240","id":623373651,"node_id":"MDU6SXNzdWU2MjMzNzM2NTE=","number":240,"title":"Should meta data with key \"tags\" be rejected?","user":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":2080994061,"node_id":"MDU6TGFiZWwyMDgwOTk0MDYx","url":"https://api.github.com/repos/beancount/beancount/labels/P3","name":"P3","color":"FFdddd","default":false,"description":"Very low priority, nice to have"},{"id":2080995647,"node_id":"MDU6TGFiZWwyMDgwOTk1NjQ3","url":"https://api.github.com/repos/beancount/beancount/labels/parser-loader","name":"parser-loader","color":"ededed","default":false,"description":"Component: Parser and loader"}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":3,"created_at":"2018-03-16T15:16:59Z","updated_at":"2018-03-18T17:18:40Z","closed_at":"2018-03-18T17:18:40Z","author_association":"MEMBER","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"**[Original report](https://bitbucket.org/blais/beancount/issue/240) by Martin Michlmayr (Bitbucket: [tbm13](https://bitbucket.org/tbm13), GitHub: [tbm](https://github.com/tbm)).**\n\n----------------------------------------\n\nMartin, I'd like to get your input on this.  At the moment, it's allowed to have meta data with\nthe key \"tags\", which means that the transaction can have both tags (i.e. entry.tags) and meta data called \"tags\" (entry.meta[\"tags\").\n\nShould this be allowed or rejected?\n\n```\n2014-01-01 open Expenses:Food:Restaurant\n2014-01-01 open Assets:Cash\n\n2014-07-12 * \"Black Iron Burger\" \"Lunch\" #foo\n     tags: \"foo\"\n     Expenses:Food:Restaurant               17.23 USD\n     Assets:Cash                           -17.23 USD\n```\n","closed_by":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/beancount/beancount/issues/240/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beancount/issues/240/timeline","performed_via_github_app":null,"state_reason":"completed"},{"url":"https://api.github.com/repos/beancount/beancount/issues/239","repository_url":"https://api.github.com/repos/beancount/beancount","labels_url":"https://api.github.com/repos/beancount/beancount/issues/239/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beancount/issues/239/comments","events_url":"https://api.github.com/repos/beancount/beancount/issues/239/events","html_url":"https://github.com/beancount/beancount/issues/239","id":623373621,"node_id":"MDU6SXNzdWU2MjMzNzM2MjE=","number":239,"title":"Allow queries to end with ; in bean-query (help from;)","user":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":2080914000,"node_id":"MDU6TGFiZWwyMDgwOTE0MDAw","url":"https://api.github.com/repos/beancount/beancount/labels/BUG","name":"BUG","color":"cc99cc","default":false,"description":"This is a bug, not a feature request; something isn't working."},{"id":2080994022,"node_id":"MDU6TGFiZWwyMDgwOTk0MDIy","url":"https://api.github.com/repos/beancount/beancount/labels/P2","name":"P2","color":"ffaaaa","default":false,"description":"Low priority, addressing would result in useful improvements"},{"id":2080994252,"node_id":"MDU6TGFiZWwyMDgwOTk0MjUy","url":"https://api.github.com/repos/beancount/beancount/labels/query-sql","name":"query-sql","color":"ededed","default":false,"description":"Component: SQL query engine"}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":2,"created_at":"2018-03-16T15:13:51Z","updated_at":"2018-03-19T08:08:26Z","closed_at":"2018-03-19T08:08:26Z","author_association":"MEMBER","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"**[Original report](https://bitbucket.org/blais/beancount/issue/239) by Martin Michlmayr (Bitbucket: [tbm13](https://bitbucket.org/tbm13), GitHub: [tbm](https://github.com/tbm)).**\n\n----------------------------------------\n\nSince the syntax of bean-query is SQL-inspired it should be allowed to end queries and this mostly works but not for \"help\":\n\n```\nbeancount> help from;\n*** No help on from;\n```\n","closed_by":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/beancount/beancount/issues/239/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beancount/issues/239/timeline","performed_via_github_app":null,"state_reason":"completed"},{"url":"https://api.github.com/repos/beancount/beancount/issues/238","repository_url":"https://api.github.com/repos/beancount/beancount","labels_url":"https://api.github.com/repos/beancount/beancount/issues/238/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beancount/issues/238/comments","events_url":"https://api.github.com/repos/beancount/beancount/issues/238/events","html_url":"https://github.com/beancount/beancount/issues/238","id":623373595,"node_id":"MDU6SXNzdWU2MjMzNzM1OTU=","number":238,"title":"CONVERT() silently accepts invalid commodity","user":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":2080914000,"node_id":"MDU6TGFiZWwyMDgwOTE0MDAw","url":"https://api.github.com/repos/beancount/beancount/labels/BUG","name":"BUG","color":"cc99cc","default":false,"description":"This is a bug, not a feature request; something isn't working."},{"id":2080994022,"node_id":"MDU6TGFiZWwyMDgwOTk0MDIy","url":"https://api.github.com/repos/beancount/beancount/labels/P2","name":"P2","color":"ffaaaa","default":false,"description":"Low priority, addressing would result in useful improvements"},{"id":2080995603,"node_id":"MDU6TGFiZWwyMDgwOTk1NjAz","url":"https://api.github.com/repos/beancount/beancount/labels/core-ops","name":"core-ops","color":"ededed","default":false,"description":"Component: Core data structures and stream ops"}],"state":"open","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":4,"created_at":"2018-03-15T12:20:39Z","updated_at":"2018-03-19T09:50:16Z","closed_at":null,"author_association":"MEMBER","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"**[Original report](https://bitbucket.org/blais/beancount/issue/238) by Martin Michlmayr (Bitbucket: [tbm13](https://bitbucket.org/tbm13), GitHub: [tbm](https://github.com/tbm)).**\n\n----------------------------------------\n\nI think CONVERT() should produce an error when the commodity passed has no valid pricedb entry.  Currently it simply accepts it and performs no conversion.\n\n```\nbeancount> select date, position, convert(position, \"XX\"), balance where account ~ 'Expenses'\n   date    position  convert_p  balance \n---------- --------- --------- ---------\n2014-01-09 10.00 EUR 10.00 EUR 10.00 EUR\n2014-06-10 10.00 EUR 10.00 EUR 20.00 EUR\n2014-07-30 10.00 EUR 10.00 EUR 30.00 EUR\n```\n","closed_by":null,"reactions":{"url":"https://api.github.com/repos/beancount/beancount/issues/238/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beancount/issues/238/timeline","performed_via_github_app":null,"state_reason":null},{"url":"https://api.github.com/repos/beancount/beancount/issues/235","repository_url":"https://api.github.com/repos/beancount/beancount","labels_url":"https://api.github.com/repos/beancount/beancount/issues/235/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beancount/issues/235/comments","events_url":"https://api.github.com/repos/beancount/beancount/issues/235/events","html_url":"https://github.com/beancount/beancount/issues/235","id":623373522,"node_id":"MDU6SXNzdWU2MjMzNzM1MjI=","number":235,"title":"price statements affect display context","user":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":2080914000,"node_id":"MDU6TGFiZWwyMDgwOTE0MDAw","url":"https://api.github.com/repos/beancount/beancount/labels/BUG","name":"BUG","color":"cc99cc","default":false,"description":"This is a bug, not a feature request; something isn't working."},{"id":2080994777,"node_id":"MDU6TGFiZWwyMDgwOTk0Nzc3","url":"https://api.github.com/repos/beancount/beancount/labels/P1","name":"P1","color":"ff6666","default":false,"description":"High priority, not breaking but hindering or lessening existing functionality"},{"id":2080995603,"node_id":"MDU6TGFiZWwyMDgwOTk1NjAz","url":"https://api.github.com/repos/beancount/beancount/labels/core-ops","name":"core-ops","color":"ededed","default":false,"description":"Component: Core data structures and stream ops"}],"state":"open","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":8,"created_at":"2018-03-15T11:43:04Z","updated_at":"2018-10-08T18:42:02Z","closed_at":null,"author_association":"MEMBER","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"**[Original report](https://bitbucket.org/blais/beancount/issue/235) by Martin Michlmayr (Bitbucket: [tbm13](https://bitbucket.org/tbm13), GitHub: [tbm](https://github.com/tbm)).**\n\n----------------------------------------\n\nThis might be the same as bug #234 but I'm not sure and it's probably easier to merge two bugs than to split them if they are separate.\n\nThe unrealized gains plugin calculates the unrealized gains to too much precision, which also affects the display context for that commodity.\n\nIn the example below, I get an unrealized gain of 60.6180 GBP rather than 60.62 GBP.\n\nI know I have {113.6367 GBP} in there but my understanding is that a cost should not affect the display context.\n\nExample:\n\n```\noption \"operating_currency\" \"GBP\"\n\noption \"inferred_tolerance_default\" \"GBP:0.01\"\n\n2018-01-01 open Assets:Investments:III-ISA\n2018-01-01 open Equity:Opening-Balance\n\nplugin \"beancount.plugins.unrealized\" \"Unrealized\"\n\n2018-01-01 * \"Opening balance: Interactive Investor ISA GB00BPN5P782\" #opening-balance\n    fund: \"GB00BPN5P782\"\n    Assets:Investments:III-ISA   15.99 GB00BPN5P782 {113.6367 GBP}\n    Equity:Opening-Balance          -1817.05 GBP\n\n2018-03-13 price GB00BPN5P782 109.8457 GBP\n```\n\nOutput:\n\n```\nAssets:Investments:III-ISA               15.99   GB00BPN5P782 {113.6367 GBP}\nEquity:Opening-Balance                -1817.05   GBP                        \nAssets:Investments:III-ISA:Unrealized   -60.6180 GBP                        \nIncome:Investments:III-ISA:Unrealized    60.6180 GBP                        \n```\n","closed_by":null,"reactions":{"url":"https://api.github.com/repos/beancount/beancount/issues/235/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beancount/issues/235/timeline","performed_via_github_app":null,"state_reason":null},{"url":"https://api.github.com/repos/beancount/beancount/issues/234","repository_url":"https://api.github.com/repos/beancount/beancount","labels_url":"https://api.github.com/repos/beancount/beancount/issues/234/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beancount/issues/234/comments","events_url":"https://api.github.com/repos/beancount/beancount/issues/234/events","html_url":"https://github.com/beancount/beancount/issues/234","id":623373496,"node_id":"MDU6SXNzdWU2MjMzNzM0OTY=","number":234,"title":"cost leads to too much precision being shown in cost commodity","user":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":2080914000,"node_id":"MDU6TGFiZWwyMDgwOTE0MDAw","url":"https://api.github.com/repos/beancount/beancount/labels/BUG","name":"BUG","color":"cc99cc","default":false,"description":"This is a bug, not a feature request; something isn't working."},{"id":2080994777,"node_id":"MDU6TGFiZWwyMDgwOTk0Nzc3","url":"https://api.github.com/repos/beancount/beancount/labels/P1","name":"P1","color":"ff6666","default":false,"description":"High priority, not breaking but hindering or lessening existing functionality"},{"id":2080995603,"node_id":"MDU6TGFiZWwyMDgwOTk1NjAz","url":"https://api.github.com/repos/beancount/beancount/labels/core-ops","name":"core-ops","color":"ededed","default":false,"description":"Component: Core data structures and stream ops"}],"state":"open","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":4,"created_at":"2018-03-14T23:00:41Z","updated_at":"2018-03-15T12:02:36Z","closed_at":null,"author_association":"MEMBER","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"**[Original report](https://bitbucket.org/blais/beancount/issue/234) by Martin Michlmayr (Bitbucket: [tbm13](https://bitbucket.org/tbm13), GitHub: [tbm](https://github.com/tbm)).**\n\n----------------------------------------\n\nIn the following example \"32.0100 GBP\" is shown as the balance of the account.  I was only expecting 2 digits of precision after the . (i.e. 32.01).\n\n```\n2018-01-01 open Assets:Pension:NEST\n2018-01-01 open Equity:Opening-Balance\n\noption \"inferred_tolerance_default\" \"GBP:0.01\"\n\n2018-01-01 * \"Opening balance: NEST\" #opening-balance\n    Assets:Pension:NEST              57.62 GBP\n    Equity:Opening-Balance\n\n2018-01-02 * \"NEST: Bought NEST Higher Risk Fund with December employee contributions\"\n    fund: \"NESTHIGHER\"\n    Assets:Pension:NEST      11.7520 NESTHIGHER {2.1792 GBP, 2018-01-02}\n    Assets:Pension:NEST                  ; -25.61 GBP\n```\n\ngives:\n\n```\nbean-report d.beancount bal -e Assets:Pension:NEST\nAssets:Pension:NEST   32.0100 GBP\nAssets:Pension:NEST   11.7520 NESTHIGHER\n```\n\nIf I change the example to specify the price in the second posting, it is shown correctly:\n\n```\n2018-01-01 open Assets:Pension:NEST\n2018-01-01 open Equity:Opening-Balance\n\noption \"inferred_tolerance_default\" \"GBP:0.01\"\n\n2018-01-01 * \"Opening balance: NEST\" #opening-balance\n    Assets:Pension:NEST                              57.62 GBP\n    Equity:Opening-Balance\n\n2018-01-02 * \"NEST: Bought NEST Higher Risk Fund with December employee contributions\"\n    fund: \"NESTHIGHER\"\n    Assets:Pension:NEST         11.7520 NESTHIGHER {2.1792 GBP, 2018-01-02}\n    Assets:Pension:NEST                              -25.61 GBP\n\n```\n\nleads to:\n\n```\nbean-report c.beancount bal -e Assets:Pension:NEST\nAssets:Pension:NEST    32.01   GBP\nAssets:Pension:NEST    11.7520 NESTHIGHER\n```\n\nHowever, giving the total purchase price explicitly doesn't help in all examples , e.g.:\n\n```\n2018-01-01 open Assets:Pension:NEST\n2018-01-01 open Equity:Opening-Balance\n\noption \"inferred_tolerance_default\" \"GBP:0.01\"\n\n2018-01-01 * \"Opening balance: NEST\" #opening-balance\n    Assets:Pension:NEST                     57.62 GBP\n    Equity:Opening-Balance\n\n2018-01-01 * \"Opening balance: NEST Higher Risk Fund\" #opening-balance\n    fund: \"NESTHIGHER\"\n    Assets:Pension:NEST      11.7230 NESTHIGHER {2.1846 GBP, 2017-12-14}\n    Assets:Pension:NEST      11.7230 NESTHIGHER {2.1846 GBP, 2017-12-14}\n    Assets:Pension:NEST      14.6526 NESTHIGHER {2.1846 GBP, 2017-12-14}\n    Assets:Pension:NEST      14.6526 NESTHIGHER {2.1846 GBP, 2017-12-14}\n    Equity:Opening-Balance             -115.24 GBP\n```\n\nThis gives:\n\n```\nAssets:Pension:NEST     57.6200 GBP\nAssets:Pension:NEST     52.7512 NESTHIGHER\n```\n","closed_by":null,"reactions":{"url":"https://api.github.com/repos/beancount/beancount/issues/234/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beancount/issues/234/timeline","performed_via_github_app":null,"state_reason":null},{"url":"https://api.github.com/repos/beancount/beancount/issues/233","repository_url":"https://api.github.com/repos/beancount/beancount","labels_url":"https://api.github.com/repos/beancount/beancount/issues/233/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beancount/issues/233/comments","events_url":"https://api.github.com/repos/beancount/beancount/issues/233/events","html_url":"https://github.com/beancount/beancount/issues/233","id":623373469,"node_id":"MDU6SXNzdWU2MjMzNzM0Njk=","number":233,"title":"Please support GPG version 2","user":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":2080994777,"node_id":"MDU6TGFiZWwyMDgwOTk0Nzc3","url":"https://api.github.com/repos/beancount/beancount/labels/P1","name":"P1","color":"ff6666","default":false,"description":"High priority, not breaking but hindering or lessening existing functionality"},{"id":2080994828,"node_id":"MDU6TGFiZWwyMDgwOTk0ODI4","url":"https://api.github.com/repos/beancount/beancount/labels/scripts","name":"scripts","color":"ededed","default":false,"description":"Component: Other scripts"}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":5,"created_at":"2018-03-14T19:45:42Z","updated_at":"2018-03-16T04:47:57Z","closed_at":"2018-03-16T04:47:56Z","author_association":"MEMBER","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"**[Original report](https://bitbucket.org/blais/beancount/issue/233) by Martin Michlmayr (Bitbucket: [tbm13](https://bitbucket.org/tbm13), GitHub: [tbm](https://github.com/tbm)).**\n\n----------------------------------------\n\nbeancount in beancount/utils/encryption.py checks that GPG is version 1.4.x.\n\nHowever, most Linux distributions use GPG 2 these days.\n","closed_by":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/beancount/beancount/issues/233/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beancount/issues/233/timeline","performed_via_github_app":null,"state_reason":"completed"},{"url":"https://api.github.com/repos/beancount/beancount/issues/232","repository_url":"https://api.github.com/repos/beancount/beancount","labels_url":"https://api.github.com/repos/beancount/beancount/issues/232/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beancount/issues/232/comments","events_url":"https://api.github.com/repos/beancount/beancount/issues/232/events","html_url":"https://github.com/beancount/beancount/issues/232","id":623373426,"node_id":"MDU6SXNzdWU2MjMzNzM0MjY=","number":232,"title":"bean-report ledger price statements slightly misaligned with quoted commodities","user":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":2080914000,"node_id":"MDU6TGFiZWwyMDgwOTE0MDAw","url":"https://api.github.com/repos/beancount/beancount/labels/BUG","name":"BUG","color":"cc99cc","default":false,"description":"This is a bug, not a feature request; something isn't working."},{"id":2080994061,"node_id":"MDU6TGFiZWwyMDgwOTk0MDYx","url":"https://api.github.com/repos/beancount/beancount/labels/P3","name":"P3","color":"FFdddd","default":false,"description":"Very low priority, nice to have"},{"id":2080996004,"node_id":"MDU6TGFiZWwyMDgwOTk2MDA0","url":"https://api.github.com/repos/beancount/beancount/labels/reports","name":"reports","color":"ededed","default":false,"description":"Component: Canned reports"}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":5,"created_at":"2018-03-14T17:39:02Z","updated_at":"2018-04-01T05:42:26Z","closed_at":"2018-04-01T05:42:25Z","author_association":"MEMBER","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"**[Original report](https://bitbucket.org/blais/beancount/issue/232) by Martin Michlmayr (Bitbucket: [tbm13](https://bitbucket.org/tbm13), GitHub: [tbm](https://github.com/tbm)).**\n\n----------------------------------------\n\nbean-report ledger doesn't format price statements correctly for quoted \ncommodities because commodities are quoted after the formating takes\nplace.\n\n```\nP 2017/12/31 00:00:00 \"GB00B80QGD89\"            6.353 GBP\n\nP 2017/12/31 00:00:00 \"GB00B80QFW04\"            3.608 GBP\n\nP 2018/03/14 00:00:00 EUR                      0.89 GBP\n```\n","closed_by":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/beancount/beancount/issues/232/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beancount/issues/232/timeline","performed_via_github_app":null,"state_reason":"completed"},{"url":"https://api.github.com/repos/beancount/beancount/issues/231","repository_url":"https://api.github.com/repos/beancount/beancount","labels_url":"https://api.github.com/repos/beancount/beancount/issues/231/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beancount/issues/231/comments","events_url":"https://api.github.com/repos/beancount/beancount/issues/231/events","html_url":"https://github.com/beancount/beancount/issues/231","id":623373399,"node_id":"MDU6SXNzdWU2MjMzNzMzOTk=","number":231,"title":"Failing unittest: TestFileType.test_xml","user":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":2080914000,"node_id":"MDU6TGFiZWwyMDgwOTE0MDAw","url":"https://api.github.com/repos/beancount/beancount/labels/BUG","name":"BUG","color":"cc99cc","default":false,"description":"This is a bug, not a feature request; something isn't working."},{"id":2080994061,"node_id":"MDU6TGFiZWwyMDgwOTk0MDYx","url":"https://api.github.com/repos/beancount/beancount/labels/P3","name":"P3","color":"FFdddd","default":false,"description":"Very low priority, nice to have"}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":2,"created_at":"2018-03-11T15:58:59Z","updated_at":"2018-03-11T17:42:50Z","closed_at":"2018-03-11T17:42:50Z","author_association":"MEMBER","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"**[Original report](https://bitbucket.org/blais/beancount/issue/231) by droogmic (Bitbucket: Michael Droogleever, GitHub: [droogmic](https://github.com/droogmic)).**\n\n----------------------------------------\n\n```\n#!python\n=================================== FAILURES ===================================\n____________________________ TestFileType.test_xml _____________________________\n\nself = <beancount.utils.file_type_test.TestFileType testMethod=test_xml>\n\n    def test_xml(self):\n>       self.check_mime_type('example.xml', 'application/xml')\n\nfile_type_test.py:66: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \nfile_type_test.py:19: in check_mime_type\n    self.assertIn(mime_type, expected_mime_types)\nE   AssertionError: 'text/xml' not found in ['application/xml']\n================ 1 failed, 91 passed, 1 skipped in 0.48 seconds ================\n```\n","closed_by":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/beancount/beancount/issues/231/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beancount/issues/231/timeline","performed_via_github_app":null,"state_reason":"completed"},{"url":"https://api.github.com/repos/beancount/beancount/issues/230","repository_url":"https://api.github.com/repos/beancount/beancount","labels_url":"https://api.github.com/repos/beancount/beancount/issues/230/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beancount/issues/230/comments","events_url":"https://api.github.com/repos/beancount/beancount/issues/230/events","html_url":"https://github.com/beancount/beancount/issues/230","id":623373377,"node_id":"MDU6SXNzdWU2MjMzNzMzNzc=","number":230,"title":"cost of inventory needs to take tolerance rounding into account","user":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":2080914000,"node_id":"MDU6TGFiZWwyMDgwOTE0MDAw","url":"https://api.github.com/repos/beancount/beancount/labels/BUG","name":"BUG","color":"cc99cc","default":false,"description":"This is a bug, not a feature request; something isn't working."},{"id":2080994777,"node_id":"MDU6TGFiZWwyMDgwOTk0Nzc3","url":"https://api.github.com/repos/beancount/beancount/labels/P1","name":"P1","color":"ff6666","default":false,"description":"High priority, not breaking but hindering or lessening existing functionality"},{"id":2081004612,"node_id":"MDU6TGFiZWwyMDgxMDA0NjEy","url":"https://api.github.com/repos/beancount/beancount/labels/booking","name":"booking","color":"ededed","default":false,"description":"Component: Booking algorithms"}],"state":"open","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":1,"created_at":"2018-03-11T00:42:36Z","updated_at":"2021-02-02T06:09:44Z","closed_at":null,"author_association":"MEMBER","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"**[Original report](https://bitbucket.org/blais/beancount/issue/230) by Martin Michlmayr (Bitbucket: [tbm13](https://bitbucket.org/tbm13), GitHub: [tbm](https://github.com/tbm)).**\n\n----------------------------------------\n\nLet's say I buy 10.01 of some share (GB00B80QFW04 in this case) at a price of 3.382 GBP each.  10.01 * 3.382 = 33.85382.  I'm charged 33.85 GBP for it.  Due to inferred_tolerance_default, the transaction balances.\n\nOk, so we know that I paid 33.85 GBP.  Let's repeat this transaction 3 times (as separate transactions).  I know I paid 33.85 * 3 = 101.55.\n\nI now sell the 10.01 * 3 for 4.00 GBP each, or 30.03 * 4 = 120.12\n\nI made a gain of 120.12 - 101.55 = 18.57\n\nbeancount correctly shows that I spent 101.55 for all purchases (Assets:Cash1 in the example below) and that I gained 120.12 in the sale (Assets:Cash2).  But it says that the capital gain was -18.56 rather than -18.57\n\nThis is because the cost of the inventory doesn't take into consideration the rounding that took place.  There should be some way for this to be taken into account, e.g. through an option that sets a flag.  I think bean-count should retain 3.382 as the cost instead of calculating the \"true\" cost (after rounding) of 33.85 / 10.01 = 3.381618381618382 simply because users should still be able to refer to the lot with 3.382 as the price.  But if the flag is set, it should calculate 3.381618381618382 when actually using the cost.  (Maybe with an option)\n\nAnother approach would be to store both the cost per share and the total cost (i.e. 3.382 per share, but 33.85 as the total rather than 33.85382), but it seems Martin doesn't like this approach. (Personally, I like it.)\n\nBTW, while not the same this is related to issue #194 (about specifying total cost with @@).\n\nExample:\n\n```\noption \"inferred_tolerance_default\" \"GBP:0.01\"\n\n2018-01-01 open Assets:Investments\n2018-01-01 open Assets:Cash1\n2018-01-01 open Assets:Cash2\n2018-01-01 open Income:CapitalGains\n\n2018-03-08 * \"Bought GB00B80QFW04 (HSBC FTSE All Share Index)\"\n    Assets:Investments           10.01 GB00B80QFW04 {3.382 GBP, \"lot1\"}\n    Assets:Cash1                -33.85 GBP\n\n2018-03-08 * \"Bought GB00B80QFW04 (HSBC FTSE All Share Index)\"\n    Assets:Investments           10.01 GB00B80QFW04 {3.382 GBP, \"lot2\"}\n    Assets:Cash1                -33.85 GBP\n\n2018-03-08 * \"Bought GB00B80QFW04 (HSBC FTSE All Share Index)\"\n    Assets:Investments           10.01 GB00B80QFW04 {3.382 GBP, \"lot3\"}\n    Assets:Cash1                -33.85 GBP\n\n2018-03-10 * \"Sold GB00B80QFW04 (HSBC FTSE All Share Index)\"\n    Assets:Investments          -30.03 GB00B80QFW04 {3.382 GBP} @ 4.00 GBP\n    Assets:Cash2                 120.12 GBP\n    Income:CapitalGains\n```\n\nbean-query:\n\n```\nbeancount> SELECT account, units(sum(position)), cost(sum(position)) GROUP BY 1;\n      account       units_sum_p cost_sum_po\n------------------- ----------- -----------\nAssets:Cash1        -101.55 GBP -101.55 GBP\nAssets:Cash2         120.12 GBP  120.12 GBP\nAssets:Investments                         \nIncome:CapitalGains  -18.56 GBP  -18.56 GBP\nbeancount> \n```\n","closed_by":null,"reactions":{"url":"https://api.github.com/repos/beancount/beancount/issues/230/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beancount/issues/230/timeline","performed_via_github_app":null,"state_reason":null},{"url":"https://api.github.com/repos/beancount/beancount/issues/229","repository_url":"https://api.github.com/repos/beancount/beancount","labels_url":"https://api.github.com/repos/beancount/beancount/issues/229/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beancount/issues/229/comments","events_url":"https://api.github.com/repos/beancount/beancount/issues/229/events","html_url":"https://github.com/beancount/beancount/issues/229","id":623373362,"node_id":"MDU6SXNzdWU2MjMzNzMzNjI=","number":229,"title":"Trading with Beancount: AVC example wrong (regarding conmission)","user":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":2080914000,"node_id":"MDU6TGFiZWwyMDgwOTE0MDAw","url":"https://api.github.com/repos/beancount/beancount/labels/BUG","name":"BUG","color":"cc99cc","default":false,"description":"This is a bug, not a feature request; something isn't working."},{"id":2080994022,"node_id":"MDU6TGFiZWwyMDgwOTk0MDIy","url":"https://api.github.com/repos/beancount/beancount/labels/P2","name":"P2","color":"ffaaaa","default":false,"description":"Low priority, addressing would result in useful improvements"},{"id":2081000198,"node_id":"MDU6TGFiZWwyMDgxMDAwMTk4","url":"https://api.github.com/repos/beancount/beancount/labels/documentation","name":"documentation","color":"ededed","default":true,"description":"Component: Improvements or additions to documentation"}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":1,"created_at":"2018-03-10T23:53:27Z","updated_at":"2018-03-26T20:11:21Z","closed_at":"2018-03-26T20:11:21Z","author_association":"MEMBER","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"**[Original report](https://bitbucket.org/blais/beancount/issue/229) by Martin Michlmayr (Bitbucket: [tbm13](https://bitbucket.org/tbm13), GitHub: [tbm](https://github.com/tbm)).**\n\n----------------------------------------\n\nTrading with Beancount chapter \"Average Cost Booking\":\n\n> 2014-02-01 * “Selling 5 shares at market price 550 USD”\n\n>  Assets:Investments:Stock               -5 GOOG {*}\n\n>   Assets:Investments:Cash           2759.95 USD\n \n>  Expenses:Commissions                 9.95 USD\n \n>  Income:Investments:CapitalGains\n\n5 * 550 = 2750 minus 9.95 commission means that assets:investments:cash should be 2740.05, not 2759.95 (2750 plus 9.95 commission).\n\nAlso, {*} I believe should be {} according to the new syntax.\n","closed_by":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/beancount/beancount/issues/229/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beancount/issues/229/timeline","performed_via_github_app":null,"state_reason":"completed"},{"url":"https://api.github.com/repos/beancount/beancount/issues/228","repository_url":"https://api.github.com/repos/beancount/beancount","labels_url":"https://api.github.com/repos/beancount/beancount/issues/228/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beancount/issues/228/comments","events_url":"https://api.github.com/repos/beancount/beancount/issues/228/events","html_url":"https://github.com/beancount/beancount/issues/228","id":623373336,"node_id":"MDU6SXNzdWU2MjMzNzMzMzY=","number":228,"title":"Trading with Beancount doesn't know that lot tags exist now","user":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":2080914000,"node_id":"MDU6TGFiZWwyMDgwOTE0MDAw","url":"https://api.github.com/repos/beancount/beancount/labels/BUG","name":"BUG","color":"cc99cc","default":false,"description":"This is a bug, not a feature request; something isn't working."},{"id":2080994022,"node_id":"MDU6TGFiZWwyMDgwOTk0MDIy","url":"https://api.github.com/repos/beancount/beancount/labels/P2","name":"P2","color":"ffaaaa","default":false,"description":"Low priority, addressing would result in useful improvements"},{"id":2081000198,"node_id":"MDU6TGFiZWwyMDgxMDAwMTk4","url":"https://api.github.com/repos/beancount/beancount/labels/documentation","name":"documentation","color":"ededed","default":true,"description":"Component: Improvements or additions to documentation"}],"state":"open","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":0,"created_at":"2018-03-10T23:35:43Z","updated_at":"2018-03-10T23:35:43Z","closed_at":null,"author_association":"MEMBER","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"**[Original report](https://bitbucket.org/blais/beancount/issue/228) by Martin Michlmayr (Bitbucket: [tbm13](https://bitbucket.org/tbm13), GitHub: [tbm](https://github.com/tbm)).**\n\n----------------------------------------\n\nThe \"Trading with Beancount\" document says:\n\n> (Technical Detail: that we’re working on bettering the mechanism for lot selection so that you never have to insert the lot-date yourself, and so that you could disambiguate lot selection by supplying a name instead. See upcoming changes.)\n\nLot tags have been implemented in the meantime.\n","closed_by":null,"reactions":{"url":"https://api.github.com/repos/beancount/beancount/issues/228/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beancount/issues/228/timeline","performed_via_github_app":null,"state_reason":null},{"url":"https://api.github.com/repos/beancount/beancount/issues/227","repository_url":"https://api.github.com/repos/beancount/beancount","labels_url":"https://api.github.com/repos/beancount/beancount/issues/227/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beancount/issues/227/comments","events_url":"https://api.github.com/repos/beancount/beancount/issues/227/events","html_url":"https://github.com/beancount/beancount/issues/227","id":623373322,"node_id":"MDU6SXNzdWU2MjMzNzMzMjI=","number":227,"title":"Narration incorrect in example in Trading with Beancount","user":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":2080914000,"node_id":"MDU6TGFiZWwyMDgwOTE0MDAw","url":"https://api.github.com/repos/beancount/beancount/labels/BUG","name":"BUG","color":"cc99cc","default":false,"description":"This is a bug, not a feature request; something isn't working."},{"id":2080994022,"node_id":"MDU6TGFiZWwyMDgwOTk0MDIy","url":"https://api.github.com/repos/beancount/beancount/labels/P2","name":"P2","color":"ffaaaa","default":false,"description":"Low priority, addressing would result in useful improvements"},{"id":2081000198,"node_id":"MDU6TGFiZWwyMDgxMDAwMTk4","url":"https://api.github.com/repos/beancount/beancount/labels/documentation","name":"documentation","color":"ededed","default":true,"description":"Component: Improvements or additions to documentation"}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":1,"created_at":"2018-03-10T23:32:50Z","updated_at":"2018-03-26T20:09:40Z","closed_at":"2018-03-26T20:09:41Z","author_association":"MEMBER","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"**[Original report](https://bitbucket.org/blais/beancount/issue/227) by Martin Michlmayr (Bitbucket: [tbm13](https://bitbucket.org/tbm13), GitHub: [tbm](https://github.com/tbm)).**\n\n----------------------------------------\n\nThe docs \"Trading with Beancount\" in section \"Booking Methods\" says:\n\n\"You can choose to sell the older shares and realize a larger profit:\" (i.e. you only sell SOME shares) and gives the example:\n\n> 2014-03-18 * \"Selling all my blue chips.\"\n\nThis should be s/all/some of/\n\nThe same applies in the second example.\n","closed_by":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/beancount/beancount/issues/227/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beancount/issues/227/timeline","performed_via_github_app":null,"state_reason":"completed"},{"url":"https://api.github.com/repos/beancount/beancount/issues/226","repository_url":"https://api.github.com/repos/beancount/beancount","labels_url":"https://api.github.com/repos/beancount/beancount/issues/226/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beancount/issues/226/comments","events_url":"https://api.github.com/repos/beancount/beancount/issues/226/events","html_url":"https://github.com/beancount/beancount/issues/226","id":623373303,"node_id":"MDU6SXNzdWU2MjMzNzMzMDM=","number":226,"title":"Document precision & tolerances lists removed option default_tolerance.","user":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":2080914000,"node_id":"MDU6TGFiZWwyMDgwOTE0MDAw","url":"https://api.github.com/repos/beancount/beancount/labels/BUG","name":"BUG","color":"cc99cc","default":false,"description":"This is a bug, not a feature request; something isn't working."},{"id":2080994777,"node_id":"MDU6TGFiZWwyMDgwOTk0Nzc3","url":"https://api.github.com/repos/beancount/beancount/labels/P1","name":"P1","color":"ff6666","default":false,"description":"High priority, not breaking but hindering or lessening existing functionality"},{"id":2081000198,"node_id":"MDU6TGFiZWwyMDgxMDAwMTk4","url":"https://api.github.com/repos/beancount/beancount/labels/documentation","name":"documentation","color":"ededed","default":true,"description":"Component: Improvements or additions to documentation"}],"state":"open","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":0,"created_at":"2018-03-10T22:48:53Z","updated_at":"2018-03-10T22:48:53Z","closed_at":null,"author_association":"MEMBER","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"**[Original report](https://bitbucket.org/blais/beancount/issue/226) by Martin Michlmayr (Bitbucket: [tbm13](https://bitbucket.org/tbm13), GitHub: [tbm](https://github.com/tbm)).**\n\n----------------------------------------\n\nThe precision & tolerances document on Google Docs still mentions the removed option default_tolerance.\n","closed_by":null,"reactions":{"url":"https://api.github.com/repos/beancount/beancount/issues/226/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beancount/issues/226/timeline","performed_via_github_app":null,"state_reason":null},{"url":"https://api.github.com/repos/beancount/beancount/issues/225","repository_url":"https://api.github.com/repos/beancount/beancount","labels_url":"https://api.github.com/repos/beancount/beancount/issues/225/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beancount/issues/225/comments","events_url":"https://api.github.com/repos/beancount/beancount/issues/225/events","html_url":"https://github.com/beancount/beancount/issues/225","id":623373284,"node_id":"MDU6SXNzdWU2MjMzNzMyODQ=","number":225,"title":"Inventory queries in Query document don't work","user":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":2080914000,"node_id":"MDU6TGFiZWwyMDgwOTE0MDAw","url":"https://api.github.com/repos/beancount/beancount/labels/BUG","name":"BUG","color":"cc99cc","default":false,"description":"This is a bug, not a feature request; something isn't working."},{"id":2080994022,"node_id":"MDU6TGFiZWwyMDgwOTk0MDIy","url":"https://api.github.com/repos/beancount/beancount/labels/P2","name":"P2","color":"ffaaaa","default":false,"description":"Low priority, addressing would result in useful improvements"},{"id":2081000198,"node_id":"MDU6TGFiZWwyMDgxMDAwMTk4","url":"https://api.github.com/repos/beancount/beancount/labels/documentation","name":"documentation","color":"ededed","default":true,"description":"Component: Improvements or additions to documentation"}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":1,"created_at":"2018-03-10T22:46:33Z","updated_at":"2018-03-13T23:36:40Z","closed_at":"2018-03-13T23:36:40Z","author_association":"MEMBER","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"**[Original report](https://bitbucket.org/blais/beancount/issue/225) by Martin Michlmayr (Bitbucket: [tbm13](https://bitbucket.org/tbm13), GitHub: [tbm](https://github.com/tbm)).**\n\n----------------------------------------\n\nThe Query Language document on Google docs lists the following two commands which don't work.\n\n> beancount> SELECT account, sum(position);\n\n> ERROR: Aggregate query without a GROUP-BY should have only aggregates.\n\nand\n\n> beancount> SELECT account, sum(position) FLATTEN;\n\n> ERROR: Aggregate query without a GROUP-BY should have only aggregates.\n","closed_by":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/beancount/beancount/issues/225/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beancount/issues/225/timeline","performed_via_github_app":null,"state_reason":"completed"},{"url":"https://api.github.com/repos/beancount/beancount/issues/224","repository_url":"https://api.github.com/repos/beancount/beancount","labels_url":"https://api.github.com/repos/beancount/beancount/issues/224/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beancount/issues/224/comments","events_url":"https://api.github.com/repos/beancount/beancount/issues/224/events","html_url":"https://github.com/beancount/beancount/issues/224","id":623373270,"node_id":"MDU6SXNzdWU2MjMzNzMyNzA=","number":224,"title":"bean-format: allow specifying just the currency column","user":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":2080994022,"node_id":"MDU6TGFiZWwyMDgwOTk0MDIy","url":"https://api.github.com/repos/beancount/beancount/labels/P2","name":"P2","color":"ffaaaa","default":false,"description":"Low priority, addressing would result in useful improvements"},{"id":2080994828,"node_id":"MDU6TGFiZWwyMDgwOTk0ODI4","url":"https://api.github.com/repos/beancount/beancount/labels/scripts","name":"scripts","color":"ededed","default":false,"description":"Component: Other scripts"}],"state":"open","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":0,"created_at":"2018-03-07T16:35:16Z","updated_at":"2020-05-23T13:15:46Z","closed_at":null,"author_association":"MEMBER","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"**[Original report](https://bitbucket.org/blais/beancount/issue/224) by Jakob Schnitzer (Bitbucket: [yagebu](https://bitbucket.org/yagebu), GitHub: [yagebu](https://github.com/yagebu)).**\n\n----------------------------------------\n\nCurrently, bean-format will determine the maximum width of prefix and number \"columns\" and uses this to align the currencies at column number `prefix (left-aligned) + 2 + number_width (right-aligned) + 1` if possible. The recently added command line options allow specifying some preferred values for these widths. I find these options a bit complicated and propose adding the \"simpler\" option `currency-column` (or some other name): For this the algorithm would be adapted to insert the necessary number of spaces between the prefix and number so that the currency ends up in the given column. I think if one wants to set these alignment options by hand, this is really the value that one is interested in (and one doesn't need to study the code to see what the options actually mean and where the +3 comes from). Currently, to achieve this, one has to do some trial and error to see which combination of prefix-width and num-width works best.\n\nNote that this would also mean that the columns could overlap as follows. I find this to be a slight improvement, but one might also see this as a disadvantage.\n\n    longlonglonglonglonglonglonglongprefix     10.00 USD\n    shortprefix              10.00000000000000000000 USD\n\n[I'd be happy to implement this in a PR]\n","closed_by":null,"reactions":{"url":"https://api.github.com/repos/beancount/beancount/issues/224/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beancount/issues/224/timeline","performed_via_github_app":null,"state_reason":null},{"url":"https://api.github.com/repos/beancount/beancount/issues/223","repository_url":"https://api.github.com/repos/beancount/beancount","labels_url":"https://api.github.com/repos/beancount/beancount/issues/223/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beancount/issues/223/comments","events_url":"https://api.github.com/repos/beancount/beancount/issues/223/events","html_url":"https://github.com/beancount/beancount/issues/223","id":623373251,"node_id":"MDU6SXNzdWU2MjMzNzMyNTE=","number":223,"title":"Cost of the same currency","user":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":2080994022,"node_id":"MDU6TGFiZWwyMDgwOTk0MDIy","url":"https://api.github.com/repos/beancount/beancount/labels/P2","name":"P2","color":"ffaaaa","default":false,"description":"Low priority, addressing would result in useful improvements"},{"id":2080995603,"node_id":"MDU6TGFiZWwyMDgwOTk1NjAz","url":"https://api.github.com/repos/beancount/beancount/labels/core-ops","name":"core-ops","color":"ededed","default":false,"description":"Component: Core data structures and stream ops"}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":5,"created_at":"2018-03-01T08:13:22Z","updated_at":"2018-03-02T07:17:32Z","closed_at":"2018-03-01T08:45:42Z","author_association":"MEMBER","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"**[Original report](https://bitbucket.org/blais/beancount/issue/223) by Zhuoyun Wei (Bitbucket: [wzyboy](https://bitbucket.org/wzyboy), GitHub: [wzyboy](https://github.com/wzyboy)).**\n\n----------------------------------------\n\nHi,\n\nI am not sure if this is a bug or this is by design.\n\nI try to use a special approach to record my gift card transactions. Here is a minimal bean file:\n\n```\n1970-01-01 open Assets:Cash\n1970-01-01 open Assets:GiftCards\n1970-01-01 open Income:SomeIncome\n1970-01-01 open Expenses:Music\n1970-01-01 open Expenses:Apps\n\n2018-01-01 * \"Some income\"\n  Income:SomeIncome                         -1000.00 USD\n  Assets:Cash                               +1000.00 USD\n\n2018-02-01 * \"Buy 100 USD gift card with 50% discount\"\n  Assets:Cash                                 -50.00 USD\n  Assets:GiftCards                           +100.00 USD { 0.50 USD }\n\n2018-02-02 * \"Buy some music with gift cards\"\n  Assets:GiftCards                            -10.00 USD { 0.50 USD }\n  Expenses:Music                               +5.00 USD\n```\n\nThe idea is, I am tagging lots in \"Assets:GiftCards\" with a cost, but the cost is of the same currency. I put 100 USD (which I \"bought\" with 50 USD) into GiftCards, then buy music with 10 USD (which I \"bought\" with 5 USD) in the gift card.\n\nThe balance looks good:\n```\n# bean-report\nAssets:Cash           950.00 USD\nAssets:GiftCards       90.00 USD\nEquity\nExpenses:Apps\nExpenses:Music          5.00 USD\nIncome:SomeIncome   -1000.00 USD\nLiabilities\n```\n\nHowever, if I forget to attach a cost, things went wrong:\n\n```\n2018-02-02 * \"Buy some apps with gift cards\"\n  Assets:GiftCards                            -20.00 USD\n  Expenses:Apps\n\n# bean-report\nAssets:Cash           950.00 USD\nAssets:GiftCards       70.00 USD\nEquity\nExpenses:Apps          20.00 USD\nExpenses:Music          5.00 USD\nIncome:SomeIncome   -1000.00 USD\nLiabilities\n```\n\nAt this time the \"Assets:GiftCards\" account should be a mixed inventory, with two lots: 90 \"discounted USD\" and -20 \"normal USD\". But no, Beancount does not distinguish a \"discounted USD\" (i.e. USD with a cost) and a \"normal USD\", instead if merges the two lots together into a 70 USD lot.\n\nThis is quite an edge case. I remember someone in the mailing list recommended creating a new commodity GUSD (gift card USD) for gift card balances. But if I have gift cards of different currencies, creating gift card counterpart for each one of them seems cumbersome.\n\nSo may I ask if distinguishing between \"currency with cost of the same currency (e.g. 100 USD { 0.50 USD })\" and \"normal currency (e.g. 100 USD)\" is trivial to implement? If the \"feature\" is implemented, there would be no need to create imaginary currencies like \"GUSD\" any more.\n","closed_by":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/beancount/beancount/issues/223/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beancount/issues/223/timeline","performed_via_github_app":null,"state_reason":"completed"},{"url":"https://api.github.com/repos/beancount/beancount/issues/222","repository_url":"https://api.github.com/repos/beancount/beancount","labels_url":"https://api.github.com/repos/beancount/beancount/issues/222/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beancount/issues/222/comments","events_url":"https://api.github.com/repos/beancount/beancount/issues/222/events","html_url":"https://github.com/beancount/beancount/issues/222","id":623373223,"node_id":"MDU6SXNzdWU2MjMzNzMyMjM=","number":222,"title":"Re-opening NamedTemporaryFile is not valid on Windows","user":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":2080914000,"node_id":"MDU6TGFiZWwyMDgwOTE0MDAw","url":"https://api.github.com/repos/beancount/beancount/labels/BUG","name":"BUG","color":"cc99cc","default":false,"description":"This is a bug, not a feature request; something isn't working."},{"id":2080994777,"node_id":"MDU6TGFiZWwyMDgwOTk0Nzc3","url":"https://api.github.com/repos/beancount/beancount/labels/P1","name":"P1","color":"ff6666","default":false,"description":"High priority, not breaking but hindering or lessening existing functionality"},{"id":2081006036,"node_id":"MDU6TGFiZWwyMDgxMDA2MDM2","url":"https://api.github.com/repos/beancount/beancount/labels/portability","name":"portability","color":"ededed","default":false,"description":"Component: Portability issues"}],"state":"open","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":4,"created_at":"2018-02-26T05:55:58Z","updated_at":"2024-11-14T21:36:51Z","closed_at":null,"author_association":"MEMBER","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"**[Original report](https://bitbucket.org/blais/beancount/issue/222) by Jeff Brantley (Bitbucket: [jsbmsu](https://bitbucket.org/jsbmsu), GitHub: [jsbmsu](https://github.com/jsbmsu)).**\n\n----------------------------------------\n\nBoth test and production code are using `tempfile.NamedTemporaryFile`, which on non-Windows can be re-opened (by name) while the original handle is still open. For example, `beancount.utils.test_utils.docfile` decorator extracts a test's docstring, writes it to a file, and then---still holding the file open---passes the filename to the test, to be read by that test.\n\nSearching the repo for NamedTemporaryFile turns up 10 files with \"test\" in the name, as well as `beancount.parser.lexer` and `beancount.utils.text_utils`.\n\nIt's unfortunate that this doesn't just work. Assuming all instances are in a `with` statement (not true, but perhaps that is a bug?), then it may be possible to workaround with a wrapper that passes `delete=False` and then manually deletes the file on `__exit__`. I'm not sure what flaws (if any) this may exhibit over the real thing.\n","closed_by":null,"reactions":{"url":"https://api.github.com/repos/beancount/beancount/issues/222/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beancount/issues/222/timeline","performed_via_github_app":null,"state_reason":null},{"url":"https://api.github.com/repos/beancount/beancount/issues/221","repository_url":"https://api.github.com/repos/beancount/beancount","labels_url":"https://api.github.com/repos/beancount/beancount/issues/221/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beancount/issues/221/comments","events_url":"https://api.github.com/repos/beancount/beancount/issues/221/events","html_url":"https://github.com/beancount/beancount/issues/221","id":623373197,"node_id":"MDU6SXNzdWU2MjMzNzMxOTc=","number":221,"title":"Hardcoded '/' in tests leads to widespread test failure on Windows","user":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":2080914000,"node_id":"MDU6TGFiZWwyMDgwOTE0MDAw","url":"https://api.github.com/repos/beancount/beancount/labels/BUG","name":"BUG","color":"cc99cc","default":false,"description":"This is a bug, not a feature request; something isn't working."},{"id":2080994777,"node_id":"MDU6TGFiZWwyMDgwOTk0Nzc3","url":"https://api.github.com/repos/beancount/beancount/labels/P1","name":"P1","color":"ff6666","default":false,"description":"High priority, not breaking but hindering or lessening existing functionality"},{"id":2081006036,"node_id":"MDU6TGFiZWwyMDgxMDA2MDM2","url":"https://api.github.com/repos/beancount/beancount/labels/portability","name":"portability","color":"ededed","default":false,"description":"Component: Portability issues"}],"state":"open","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":3,"created_at":"2018-02-26T05:33:16Z","updated_at":"2020-05-23T15:07:43Z","closed_at":null,"author_association":"MEMBER","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"**[Original report](https://bitbucket.org/blais/beancount/issue/221) by Jeff Brantley (Bitbucket: [jsbmsu](https://bitbucket.org/jsbmsu), GitHub: [jsbmsu](https://github.com/jsbmsu)).**\n\n----------------------------------------\n\nAlthough the beancount codebase and tests do take advantage of os.path.join, lots of tests have hardcoded forward-slash ('/') path separators, particularly in expected-value regex strings. I'm not sure whether there are any failure cases due to trying to *use* a Unix-style path.\n\nSteps to Reproduce:\n\nGenerally follow what the Installing Beancount doc says Martin does for development, but map it to Windows:\n\n1. Install python and pip-install dependencies manually, including nose\n2. Optionally work in a virtual environment using `python -m venv ENV && ENV\\Scripts\\activate`\n3. cd to beancount repo and run `python setup.py build_ext -i`\n4. cd elsewhere, I guess\n5. `set PATH=%PATH%;C:\\path\\to\\repo\\bin`\n6. `set PYTHONPATH=%PYTHONPATH%;C:\\path\\to\\repo`\n7. `nosetests -v beancount`\n\nTo assess and experiment with failing tests \"one-at-a-time\", one (probably non-optimal) way is to run with `-x` to stop on first failure, and then progressively add in `-e TESTNAME` flags to skip individual failing tests in order to get to the next failure. The first failing test will not necessarily be failing due to this issue.\n","closed_by":null,"reactions":{"url":"https://api.github.com/repos/beancount/beancount/issues/221/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beancount/issues/221/timeline","performed_via_github_app":null,"state_reason":null},{"url":"https://api.github.com/repos/beancount/beancount/issues/220","repository_url":"https://api.github.com/repos/beancount/beancount","labels_url":"https://api.github.com/repos/beancount/beancount/issues/220/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beancount/issues/220/comments","events_url":"https://api.github.com/repos/beancount/beancount/issues/220/events","html_url":"https://github.com/beancount/beancount/issues/220","id":623373167,"node_id":"MDU6SXNzdWU2MjMzNzMxNjc=","number":220,"title":"bean-query fails importing readline on native Windows","user":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":2080914000,"node_id":"MDU6TGFiZWwyMDgwOTE0MDAw","url":"https://api.github.com/repos/beancount/beancount/labels/BUG","name":"BUG","color":"cc99cc","default":false,"description":"This is a bug, not a feature request; something isn't working."},{"id":2080994252,"node_id":"MDU6TGFiZWwyMDgwOTk0MjUy","url":"https://api.github.com/repos/beancount/beancount/labels/query-sql","name":"query-sql","color":"ededed","default":false,"description":"Component: SQL query engine"},{"id":2080994777,"node_id":"MDU6TGFiZWwyMDgwOTk0Nzc3","url":"https://api.github.com/repos/beancount/beancount/labels/P1","name":"P1","color":"ff6666","default":false,"description":"High priority, not breaking but hindering or lessening existing functionality"}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":1,"created_at":"2018-02-24T22:50:59Z","updated_at":"2018-03-02T05:52:34Z","closed_at":"2018-03-02T05:52:34Z","author_association":"MEMBER","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"**[Original report](https://bitbucket.org/blais/beancount/issue/220) by Jeff Brantley (Bitbucket: [jsbmsu](https://bitbucket.org/jsbmsu), GitHub: [jsbmsu](https://github.com/jsbmsu)).**\n\n----------------------------------------\n\nWhen running natively on Windows, bean-query fails to launch because beancount.query.shell uses readline, which is unavailable.\n\nI have experimented with the following options:\n\n1. Make readline optional by catching ImportError and setting the value of a file-level variable has_readline, then condition the body of each file-level function using readline on whether has_readline. I was able to run a sample query this way, and Windows CMD naturally provides program-scoped history across multiple bean-query runs until I exit the CMD instance, which is similar to the python shell behavior.\n\n2. Install pyreadline (pip install pyreadline) and run bean-query without modification. This worked, too, and resulted in history persisting across instances of CMD.\n\nQuestion: does beancount provide any facility for explicitly-saved (e.g., with a nickname) queries for later recall, or is the readline-style history the sole mechanism? I guess one could at least write a wrapper script that does a one-shot call to bean-query...\n\nSo, I see the following options:\n\n1. Adopt approach (1). Simple. Impact could be mitigated by writing wrapper scripts to invoke bean-query with favorite queries. Does beancount have a feature for saved queries?\n\n2. Depend on pyreadline explicitly on Windows. I haven't looked into whether a conditional dependency is difficult. FWIW, the project is abandoned.\n\n3. Do approach (1), but log a warning about it with a suggestion to install pyreadline, leaving it to the user's discretion.\n\n@blais , would you like to weigh in? I'm happy to do the work.\n\nEdit: Stupid formatting issues. Sorry if this is generating notification spam. =/\n","closed_by":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/beancount/beancount/issues/220/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beancount/issues/220/timeline","performed_via_github_app":null,"state_reason":"completed"},{"url":"https://api.github.com/repos/beancount/beancount/issues/219","repository_url":"https://api.github.com/repos/beancount/beancount","labels_url":"https://api.github.com/repos/beancount/beancount/issues/219/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beancount/issues/219/comments","events_url":"https://api.github.com/repos/beancount/beancount/issues/219/events","html_url":"https://github.com/beancount/beancount/issues/219","id":623373143,"node_id":"MDU6SXNzdWU2MjMzNzMxNDM=","number":219,"title":"extract does not sort entries anymore","user":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":2080914000,"node_id":"MDU6TGFiZWwyMDgwOTE0MDAw","url":"https://api.github.com/repos/beancount/beancount/labels/BUG","name":"BUG","color":"cc99cc","default":false,"description":"This is a bug, not a feature request; something isn't working."},{"id":2080994022,"node_id":"MDU6TGFiZWwyMDgwOTk0MDIy","url":"https://api.github.com/repos/beancount/beancount/labels/P2","name":"P2","color":"ffaaaa","default":false,"description":"Low priority, addressing would result in useful improvements"}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":2,"created_at":"2018-02-22T21:09:50Z","updated_at":"2018-02-24T05:38:06Z","closed_at":"2018-02-24T05:38:06Z","author_association":"MEMBER","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"**[Original report](https://bitbucket.org/blais/beancount/issue/219) by Jakob Schnitzer (Bitbucket: [yagebu](https://bitbucket.org/yagebu), GitHub: [yagebu](https://github.com/yagebu)).**\n\n----------------------------------------\n\nA test in Fava that relies on entries being sorted fails with the current development version of Beancount. This was changed in 03d9a5c3b2784a6f6a05c12eaeb7776f0478a96d.\n\n@blais: From your comments on the commit, it sounded like removing the sorting wasn't intended. Yet it was removed. Could it be added back in?\n","closed_by":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/beancount/beancount/issues/219/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beancount/issues/219/timeline","performed_via_github_app":null,"state_reason":"completed"},{"url":"https://api.github.com/repos/beancount/beancount/issues/218","repository_url":"https://api.github.com/repos/beancount/beancount","labels_url":"https://api.github.com/repos/beancount/beancount/issues/218/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beancount/issues/218/comments","events_url":"https://api.github.com/repos/beancount/beancount/issues/218/events","html_url":"https://github.com/beancount/beancount/issues/218","id":623373116,"node_id":"MDU6SXNzdWU2MjMzNzMxMTY=","number":218,"title":"Ignore division by zero in queries","user":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":2080994022,"node_id":"MDU6TGFiZWwyMDgwOTk0MDIy","url":"https://api.github.com/repos/beancount/beancount/labels/P2","name":"P2","color":"ffaaaa","default":false,"description":"Low priority, addressing would result in useful improvements"},{"id":2080994252,"node_id":"MDU6TGFiZWwyMDgwOTk0MjUy","url":"https://api.github.com/repos/beancount/beancount/labels/query-sql","name":"query-sql","color":"ededed","default":false,"description":"Component: SQL query engine"}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":4,"created_at":"2018-02-21T13:40:25Z","updated_at":"2018-03-19T09:36:49Z","closed_at":"2018-03-19T09:36:49Z","author_association":"MEMBER","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"**[Original report](https://bitbucket.org/blais/beancount/issue/218) by Jakob Schnitzer (Bitbucket: [yagebu](https://bitbucket.org/yagebu), GitHub: [yagebu](https://github.com/yagebu)).**\n\n----------------------------------------\n\nIn Fava, the holdings report is generated using the BQL. It would be nice if we could use the following query. However, this query will fail (unless one has no closed holdings), as the average_cost column will be \"0/0\" or \"x/0\".\n\n    SELECT\n       units(sum(position)) as units,\n       number(only(first(cost_currency), cost(sum(position))))/number(only(first(currency), units(sum(position)))) as average_cost,\n       cost(sum(position)) as book_value,\n       value(sum(position)) as market_value\n     WHERE account_sortkey(account) ~ \"^[01]\"\n     GROUP BY currency, cost_currency\n     ORDER BY currency, cost_currency\n\nSee also https://github.com/beancount/fava/issues/645.\n\n> It could spit a warning and ignore that row? Is that reasonable?\n\nI think that just setting the failing table cell to be empty would be ideal. Right now there is no way to run a query where a single cell might contain an invalid decimal operation (and there is now way to prevent the invalid operation as far as I can see). The rest of the offending row would still be useful though.\n\n[If you dislike the idea of silently ignoring such errors, another possibility to address this would be to add some query function that silently swallows all exceptions, like `try(0.0/0.0)`]\n","closed_by":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/beancount/beancount/issues/218/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beancount/issues/218/timeline","performed_via_github_app":null,"state_reason":"completed"},{"url":"https://api.github.com/repos/beancount/beancount/issues/217","repository_url":"https://api.github.com/repos/beancount/beancount","labels_url":"https://api.github.com/repos/beancount/beancount/issues/217/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beancount/issues/217/comments","events_url":"https://api.github.com/repos/beancount/beancount/issues/217/events","html_url":"https://github.com/beancount/beancount/issues/217","id":623373087,"node_id":"MDU6SXNzdWU2MjMzNzMwODc=","number":217,"title":"Cannot invoke top-level scripts unqualified in native Windows install","user":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":2080914000,"node_id":"MDU6TGFiZWwyMDgwOTE0MDAw","url":"https://api.github.com/repos/beancount/beancount/labels/BUG","name":"BUG","color":"cc99cc","default":false,"description":"This is a bug, not a feature request; something isn't working."},{"id":2080994777,"node_id":"MDU6TGFiZWwyMDgwOTk0Nzc3","url":"https://api.github.com/repos/beancount/beancount/labels/P1","name":"P1","color":"ff6666","default":false,"description":"High priority, not breaking but hindering or lessening existing functionality"},{"id":2080994828,"node_id":"MDU6TGFiZWwyMDgwOTk0ODI4","url":"https://api.github.com/repos/beancount/beancount/labels/scripts","name":"scripts","color":"ededed","default":false,"description":"Component: Other scripts"}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":8,"created_at":"2018-02-17T05:31:08Z","updated_at":"2018-02-24T04:22:40Z","closed_at":"2018-02-24T04:22:40Z","author_association":"MEMBER","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"**[Original report](https://bitbucket.org/blais/beancount/issue/217) by Jeff Brantley (Bitbucket: [jsbmsu](https://bitbucket.org/jsbmsu), GitHub: [jsbmsu](https://github.com/jsbmsu)).**\n\n----------------------------------------\n\nFor native Windows use, the python scripts cannot be invoked directly as unqualified commands. Wrapper batch scripts installed alongside the python scripts could address this.\n\nI just installed beancount natively on Windows 10 (i.e., sans Cygwin, sans Ubuntu on Windows), as follows:\n\n1. Per https://wiki.python.org/moin/WindowsCompilers, Installed Build Tools for Visual Studio 2017. (Workload: Visual C++ build tools *only*; Optionals: Windows 10 SDK (10.0.16299.0) for Desktop C++ *only*)\n2. Downloaded copy of current source from bitbucket.\n3. `cmd> python -m venv env` (just to confirm it plays nice in a venv)\n4. `cmd> env\\Scripts\\activate.bat`\n5. `cmd> pip install --upgrade setuptools` (not strictly necessary, suggested by link above)\n6. `cmd> pip install .\\<path-to-beancount>`\n\nThis works fine and dumps `bean-*` files into `env\\Scripts`. These files have no extension, and contain a shebang with absolute path to `c:\\<path>\\<to>\\env\\Scripts\\python.exe`, which presumably does something useful under Cygwin/MinGW, but is not processed by Windows command prompt. So, I cannot invoke `bean-*` commands unqualified at this point.\n\nI do not know what the python community's standard practice—if any—is for dealing with this, but the obvious (to me) simple fix is to create `bean-*.bat` files in parallel (e.g., `env\\Scripts\\bean-bake.bat`), with the following trivial contents:\n\n```\n@python %~dp0%~n0 %*\n```\nIn case it's not obvious, this passes a file in the same directory, with same name (sans extension) to python, forwarding all command-line arguments.\n\nFor now, I did this locally, by hand. Since `C:\\<path>\\<to>\\env\\Scripts` was prepended to my path by the venv's `activate.bat`, I can invoke, e.g., `bean-example` or `bean-example.bat` unqualified.\n\nIt would be nice if this happened automatically. Perhaps it could be done on-the-fly by `setup.py`?\n","closed_by":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/beancount/beancount/issues/217/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beancount/issues/217/timeline","performed_via_github_app":null,"state_reason":"completed"},{"url":"https://api.github.com/repos/beancount/beancount/issues/216","repository_url":"https://api.github.com/repos/beancount/beancount","labels_url":"https://api.github.com/repos/beancount/beancount/issues/216/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beancount/issues/216/comments","events_url":"https://api.github.com/repos/beancount/beancount/issues/216/events","html_url":"https://github.com/beancount/beancount/issues/216","id":623373066,"node_id":"MDU6SXNzdWU2MjMzNzMwNjY=","number":216,"title":"Two accounts involving one conversion reported at cost","user":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":2080914000,"node_id":"MDU6TGFiZWwyMDgwOTE0MDAw","url":"https://api.github.com/repos/beancount/beancount/labels/BUG","name":"BUG","color":"cc99cc","default":false,"description":"This is a bug, not a feature request; something isn't working."},{"id":2080994022,"node_id":"MDU6TGFiZWwyMDgwOTk0MDIy","url":"https://api.github.com/repos/beancount/beancount/labels/P2","name":"P2","color":"ffaaaa","default":false,"description":"Low priority, addressing would result in useful improvements"}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":2,"created_at":"2018-02-14T19:05:02Z","updated_at":"2018-02-17T05:49:34Z","closed_at":"2018-02-17T05:49:34Z","author_association":"MEMBER","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"**[Original report](https://bitbucket.org/blais/beancount/issue/216) by Eduardo Villegas (Bitbucket: [ludenticus](https://bitbucket.org/ludenticus), GitHub: [ludenticus](https://github.com/ludenticus)).**\n\n----------------------------------------\n\nIn Beancount, you can have the following two transactions:\n\n(1)\n```\n2018-02-14 * \"On-line purchase\"\n Expenses:Clothing       10 USD\n Expenses:Grocery        14 USD\n Assets:Bank\n```\n\n(2)\n```\n2018-02-14 * \"On-line purchase\"\n Expenses:Grocery        12 USD {}\n Assets:Bank            -10 EUR\n\n```\n\nHowever, you can't have:\n\n(3)\n\n```\n2018-02-14 * \"On-line purchase\"\n Expenses:Clothing       10 USD {}\n Expenses:Grocery        14 USD {}\n Assets:Bank            -20 EUR\n```\n\nUse scenario: whenever you pay with credit card and the payment involves two or more accounts on one leg.\n\nBeancount reports `Too many missing numbers for currency group 'EUR'`.\n\nOf course, I can split the transaction if I make the proper calculations, but this way my journal will differ from the bank statements.\n","closed_by":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/beancount/beancount/issues/216/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beancount/issues/216/timeline","performed_via_github_app":null,"state_reason":"completed"},{"url":"https://api.github.com/repos/beancount/beancount/issues/215","repository_url":"https://api.github.com/repos/beancount/beancount","labels_url":"https://api.github.com/repos/beancount/beancount/issues/215/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beancount/issues/215/comments","events_url":"https://api.github.com/repos/beancount/beancount/issues/215/events","html_url":"https://github.com/beancount/beancount/issues/215","id":623373048,"node_id":"MDU6SXNzdWU2MjMzNzMwNDg=","number":215,"title":"Library of importers, for different filetypes and sources","user":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":2080994777,"node_id":"MDU6TGFiZWwyMDgwOTk0Nzc3","url":"https://api.github.com/repos/beancount/beancount/labels/P1","name":"P1","color":"ff6666","default":false,"description":"High priority, not breaking but hindering or lessening existing functionality"}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":3,"created_at":"2018-02-13T20:38:52Z","updated_at":"2018-02-17T05:46:54Z","closed_at":"2018-02-17T05:46:54Z","author_association":"MEMBER","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"**[Original report](https://bitbucket.org/blais/beancount/issue/215) by droogmic (Bitbucket: Michael Droogleever, GitHub: [droogmic](https://github.com/droogmic)).**\n\n----------------------------------------\n\nPeople are lazy. New users want to see software work for them before they commit to using it. For most new beancount users, especially those that are not already using a double entry accounting system, this involves importing data exported from their financial institutions. Beancount does not include many importers at the moment, there is no formal way of requesting for new ones, and anyone who does make one for themselves has no obvious way of sharing this with other users. The end result, frequently, is many unknown repos containing individual importers.\n\nSuggestion:\n\n+ Provide a simple way for those who do not wish to program an importer to provide sample files that need to be imported (and give guidelines for anonymising them).\n\n+ Use this to make a list of importers which need to be made, ideally sorted using some sort of vote system to determine interest.\n\n+ Create a procedure, naming scheme, save location etc. for adding importers. Invite people to make PRs to add importers. Simplify the process and encourage tests.\n\n+ Finally, advertise the list of  importers included with beancount, \"batteries included\", and provide simple generic guides on how to use them.\n\nThe goal is to have a sizeable coverage of the major financial institutions around the world and their file formats. This will hopefully increase the interest in this software and plain text accounting.\n","closed_by":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/beancount/beancount/issues/215/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beancount/issues/215/timeline","performed_via_github_app":null,"state_reason":"completed"},{"url":"https://api.github.com/repos/beancount/beancount/issues/214","repository_url":"https://api.github.com/repos/beancount/beancount","labels_url":"https://api.github.com/repos/beancount/beancount/issues/214/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beancount/issues/214/comments","events_url":"https://api.github.com/repos/beancount/beancount/issues/214/events","html_url":"https://github.com/beancount/beancount/issues/214","id":623373030,"node_id":"MDU6SXNzdWU2MjMzNzMwMzA=","number":214,"title":"Add top-level directory to sys.path.","user":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":2080994777,"node_id":"MDU6TGFiZWwyMDgwOTk0Nzc3","url":"https://api.github.com/repos/beancount/beancount/labels/P1","name":"P1","color":"ff6666","default":false,"description":"High priority, not breaking but hindering or lessening existing functionality"},{"id":2080995647,"node_id":"MDU6TGFiZWwyMDgwOTk1NjQ3","url":"https://api.github.com/repos/beancount/beancount/labels/parser-loader","name":"parser-loader","color":"ededed","default":false,"description":"Component: Parser and loader"}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":1,"created_at":"2018-02-12T03:21:04Z","updated_at":"2018-12-19T04:11:34Z","closed_at":"2018-12-19T04:11:33Z","author_association":"MEMBER","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"**[Original report](https://bitbucket.org/blais/beancount/issue/214) by Martin Blais (Bitbucket: [blais](https://bitbucket.org/blais), GitHub: [blais](https://github.com/blais)).**\n\n----------------------------------------\n\nTODO: Add top-level directory to sys.path.\n\n\nhttps://groups.google.com/d/msgid/beancount/20180107063557.GA3283%40xenien.wzyboy.org\n\n2018-01-06 03:38:19 Martin Blais <blais@furius.ca>:\n> You need to adjust your PYTHONPATH, or put the code somewhere on the PYTHONPATH.\n> You could improve on what you're doing by appending the absolute path to the current PYTHONPATH value.\n\nI see the problem with PYTHONPATH has been brought up a few times by new\nusers of Beancount. I have two possible suggestions:\n\n1. There could be an option for defining search paths, in which custom\nplugins and importers are searched for.\n\n2. The directory where root beancount file resides could be searched\nimplicitly.\n\nThe idea is inspired by Ansible. By default, Ansible searches the\ncurrent directory for an ansible.cfg file, in which search paths for\nhosts and roles could be defined. This way, the entire Ansible repo is\nself-contained. You could clone it on any machine (with Ansible\ninstalled, of course) and run the playbooks right away, without setting\nup additional config files or environment variables.\n\nCurrently I use a few custom importers. I use a little trick in the\nimporter config file (which is a Python file) to make Beancount search\nthe same directory of the config file for importers:\n\nhere = os.path.dirname(os.path.abspath(__file__))\nsys.path.insert(0, here)\n\nBy doing this, I do not have to modify PYTHONPATH every time I run\nbean-identify / bean-extract / bean-file. But for bean-report,\nbean-check, and fava, I do not have a chance to inject additional search\npaths for custom plugins without modifying PYTHONPATH.\n","closed_by":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/beancount/beancount/issues/214/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beancount/issues/214/timeline","performed_via_github_app":null,"state_reason":"completed"},{"url":"https://api.github.com/repos/beancount/beancount/issues/213","repository_url":"https://api.github.com/repos/beancount/beancount","labels_url":"https://api.github.com/repos/beancount/beancount/issues/213/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beancount/issues/213/comments","events_url":"https://api.github.com/repos/beancount/beancount/issues/213/events","html_url":"https://github.com/beancount/beancount/issues/213","id":623373011,"node_id":"MDU6SXNzdWU2MjMzNzMwMTE=","number":213,"title":"Implement average cost booking","user":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":2080994777,"node_id":"MDU6TGFiZWwyMDgwOTk0Nzc3","url":"https://api.github.com/repos/beancount/beancount/labels/P1","name":"P1","color":"ff6666","default":false,"description":"High priority, not breaking but hindering or lessening existing functionality"},{"id":2080995603,"node_id":"MDU6TGFiZWwyMDgwOTk1NjAz","url":"https://api.github.com/repos/beancount/beancount/labels/core-ops","name":"core-ops","color":"ededed","default":false,"description":"Component: Core data structures and stream ops"}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":14,"created_at":"2018-02-06T05:57:21Z","updated_at":"2025-02-11T01:36:57Z","closed_at":"2021-02-15T03:40:47Z","author_association":"MEMBER","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"**[Original report](https://bitbucket.org/blais/beancount/issue/213) by Martin Blais (Bitbucket: [blais](https://bitbucket.org/blais), GitHub: [blais](https://github.com/blais)).**\n\n----------------------------------------\n\nComplete the work on AVERAGE booking method.\nSee booking_methods.py, at the bottom.\n(This is a tracking ticket.)\n","closed_by":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/beancount/beancount/issues/213/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beancount/issues/213/timeline","performed_via_github_app":null,"state_reason":"completed"},{"url":"https://api.github.com/repos/beancount/beancount/issues/212","repository_url":"https://api.github.com/repos/beancount/beancount","labels_url":"https://api.github.com/repos/beancount/beancount/issues/212/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beancount/issues/212/comments","events_url":"https://api.github.com/repos/beancount/beancount/issues/212/events","html_url":"https://github.com/beancount/beancount/issues/212","id":623372981,"node_id":"MDU6SXNzdWU2MjMzNzI5ODE=","number":212,"title":"query: improve error message for invalid syntax","user":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":2080914000,"node_id":"MDU6TGFiZWwyMDgwOTE0MDAw","url":"https://api.github.com/repos/beancount/beancount/labels/BUG","name":"BUG","color":"cc99cc","default":false,"description":"This is a bug, not a feature request; something isn't working."},{"id":2080994061,"node_id":"MDU6TGFiZWwyMDgwOTk0MDYx","url":"https://api.github.com/repos/beancount/beancount/labels/P3","name":"P3","color":"FFdddd","default":false,"description":"Very low priority, nice to have"},{"id":2080994252,"node_id":"MDU6TGFiZWwyMDgwOTk0MjUy","url":"https://api.github.com/repos/beancount/beancount/labels/query-sql","name":"query-sql","color":"ededed","default":false,"description":"Component: SQL query engine"}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":3,"created_at":"2018-02-04T17:56:47Z","updated_at":"2018-02-12T06:03:19Z","closed_at":"2018-02-12T06:03:19Z","author_association":"MEMBER","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"**[Original report](https://bitbucket.org/blais/beancount/issue/212) by Martin Michlmayr (Bitbucket: [tbm13](https://bitbucket.org/tbm13), GitHub: [tbm](https://github.com/tbm)).**\n\n----------------------------------------\n\nI accidentally added a WHERE clause after ORDER BY instead of before and got:\n\nbeancount> select date, narration, account, position, cost(sum(position)) WHERE account ~ \"Exp\" AND currency ~ 'USD' GROUP BY account, date, narration, position AND date > 2014-07-12\nERROR: All non-aggregates must be covered by GROUP-BY clause in aggregate query.\n\nThis error message doesn't make sense since all non-aggregates are covered.\n","closed_by":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/beancount/beancount/issues/212/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beancount/issues/212/timeline","performed_via_github_app":null,"state_reason":"completed"},{"url":"https://api.github.com/repos/beancount/beancount/issues/211","repository_url":"https://api.github.com/repos/beancount/beancount","labels_url":"https://api.github.com/repos/beancount/beancount/issues/211/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beancount/issues/211/comments","events_url":"https://api.github.com/repos/beancount/beancount/issues/211/events","html_url":"https://github.com/beancount/beancount/issues/211","id":623372951,"node_id":"MDU6SXNzdWU2MjMzNzI5NTE=","number":211,"title":"ingest/importers/regexp.py tests failing","user":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":2080914000,"node_id":"MDU6TGFiZWwyMDgwOTE0MDAw","url":"https://api.github.com/repos/beancount/beancount/labels/BUG","name":"BUG","color":"cc99cc","default":false,"description":"This is a bug, not a feature request; something isn't working."},{"id":2080994022,"node_id":"MDU6TGFiZWwyMDgwOTk0MDIy","url":"https://api.github.com/repos/beancount/beancount/labels/P2","name":"P2","color":"ffaaaa","default":false,"description":"Low priority, addressing would result in useful improvements"}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":10,"created_at":"2018-02-01T10:27:02Z","updated_at":"2018-03-18T17:02:57Z","closed_at":"2018-03-18T17:02:57Z","author_association":"MEMBER","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"**[Original report](https://bitbucket.org/blais/beancount/issue/211) by droogmic (Bitbucket: Michael Droogleever, GitHub: [droogmic](https://github.com/droogmic)).**\n\n----------------------------------------\n\n```\n#!python\nFAIL: test_match (regexp_test.TestRegexpMixin)\n----------------------------------------------------------------------\nTraceback (most recent call last):\n  File \".../beancount/utils/test_utils.py\", line 224, in new_function\n    return function(self, file.name)\n  File \".../beancount/ingest/importers/regexp_test.py\", line 45, in test_match\n    self.assertTrue(importer.identify(file))\nAssertionError: False is not true\n```\n\nCause:\nThe tempfile is detected as \"MimeType: text/x-Algol68\", when the tests expect \"MimeType: text/plain\"\n\ne.g.\n```\n#!python\n>>> print(match_text)\n\"\"\"\nFilename: /tmp/tmptr9cn666\nMimeType: text/x-Algol68\nContents:\nDATE,TYPE,REF #,DESCRIPTION,FEES,AMOUNT,BALANCE\n2014-04-14,BUY,14167001,BOUGHT +CSKO 50 @98.35,7.95,-4925.45,25674.63\n2014-05-08,BUY,12040838,BOUGHT +HOOL 121 @79.11,7.95,-9580.26,16094.37\n2014-05-11,BUY,41579908,BOUGHT +MSFX 104 @64.39,7.95,-6704.51,9389.86\n2014-05-22,DIV,54857517,ORDINARY DIVIDEND~HOOL,0,28.56,9418.42\n\"\"\"\n```\n","closed_by":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/beancount/beancount/issues/211/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beancount/issues/211/timeline","performed_via_github_app":null,"state_reason":"completed"},{"url":"https://api.github.com/repos/beancount/beancount/issues/209","repository_url":"https://api.github.com/repos/beancount/beancount","labels_url":"https://api.github.com/repos/beancount/beancount/issues/209/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beancount/issues/209/comments","events_url":"https://api.github.com/repos/beancount/beancount/issues/209/events","html_url":"https://github.com/beancount/beancount/issues/209","id":623372908,"node_id":"MDU6SXNzdWU2MjMzNzI5MDg=","number":209,"title":"beancount.el should not (require 'ido)","user":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":2080914000,"node_id":"MDU6TGFiZWwyMDgwOTE0MDAw","url":"https://api.github.com/repos/beancount/beancount/labels/BUG","name":"BUG","color":"cc99cc","default":false,"description":"This is a bug, not a feature request; something isn't working."},{"id":2080994777,"node_id":"MDU6TGFiZWwyMDgwOTk0Nzc3","url":"https://api.github.com/repos/beancount/beancount/labels/P1","name":"P1","color":"ff6666","default":false,"description":"High priority, not breaking but hindering or lessening existing functionality"}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":1,"created_at":"2018-01-08T00:44:03Z","updated_at":"2018-01-08T05:26:22Z","closed_at":"2018-01-08T05:26:22Z","author_association":"MEMBER","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"**[Original report](https://bitbucket.org/blais/beancount/issue/209) by Cesar Crusius (Bitbucket: [ccrusius](https://bitbucket.org/ccrusius), GitHub: [ccrusius](https://github.com/ccrusius)).**\n\n----------------------------------------\n\nGiven that \"ido\" is just one of many completion packages, and many people don't use it (including me), \"beancount.el\" should not \"(require 'ido)\". It should instead (autoload 'ido-completing-read \"ido\") or something like that.\n","closed_by":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/beancount/beancount/issues/209/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beancount/issues/209/timeline","performed_via_github_app":null,"state_reason":"completed"},{"url":"https://api.github.com/repos/beancount/beancount/issues/208","repository_url":"https://api.github.com/repos/beancount/beancount","labels_url":"https://api.github.com/repos/beancount/beancount/issues/208/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beancount/issues/208/comments","events_url":"https://api.github.com/repos/beancount/beancount/issues/208/events","html_url":"https://github.com/beancount/beancount/issues/208","id":623372882,"node_id":"MDU6SXNzdWU2MjMzNzI4ODI=","number":208,"title":"cost_to_str does not print total-cost-only CostSpecs","user":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":2080914000,"node_id":"MDU6TGFiZWwyMDgwOTE0MDAw","url":"https://api.github.com/repos/beancount/beancount/labels/BUG","name":"BUG","color":"cc99cc","default":false,"description":"This is a bug, not a feature request; something isn't working."},{"id":2080994022,"node_id":"MDU6TGFiZWwyMDgwOTk0MDIy","url":"https://api.github.com/repos/beancount/beancount/labels/P2","name":"P2","color":"ffaaaa","default":false,"description":"Low priority, addressing would result in useful improvements"}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":4,"created_at":"2018-01-02T21:27:59Z","updated_at":"2018-01-04T02:29:50Z","closed_at":"2018-01-04T02:29:50Z","author_association":"MEMBER","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"**[Original report](https://bitbucket.org/blais/beancount/issue/208) by Robert Sesek (Bitbucket: [rsesek](https://bitbucket.org/rsesek), GitHub: [rsesek](https://github.com/rsesek)).**\n\n----------------------------------------\n\nI'm writing some scripts to convert my existing accounting spreadsheets into Beancount. One issue I ran into is when converting dividend reinvestments for funds, the transactions sometimes do not balance when using the reported unit price and number of shares.\n\nE.g., \"Transaction does not balance: (0.01646 USD)\" for this transaction:\n\n```\n2017-12-27 * \"VXUS\" \"Reinvest\"\n  Assets:Investments:Vanguard:RothIRA:VXUS               1.433 VXUS  {56.62 USD}\n  Income:Investments:Vanguard:RothIRA:VXUS:Div          -81.12 USD\n```\n\nMy solution is to instead have the unit-cost price be inferred from total cost and just attaching/ignoring the reported price, e.g.\n\n```\n2017-12-27 * \"VXUS\" \"Reinvest\"\n  Assets:Investments:Vanguard:RothIRA:VXUS               1.433 VXUS {# 81.12 USD} @ 56.62 USD\n  Income:Investments:Vanguard:RothIRA:VXUS:Div          -81.12 USD                                 \n```\n\nHowever, when trying to generate that posting using the Beancount API:\n\n```python\nasset = data.Posting('Assets:Investments:Vanguard:RothIRA:VXUS',\n        Amount(D('1.433'), 'VXUS'),\n        CostSpec(None, D('81.12'), 'USD', None, None, False),\n        Amount(D('56.62'), 'USD'),\n        None, None)\n# Deliberately missing the sweep account for simplicty.\nprint_entry(data.Transaction(None, '2017-12-27', '*', 'VXUS', 'Reinvest', None, None, [asset]))\n```\n\nIt gets rendered as:\n\n```\n2017-12-27 * \"VXUS\" \"Reinvest\"\n  Assets:Investments:Vanguard:RothIRA:VXUS  1.433 VXUS {} @ 56.62 USD\n```\n\nThere is an issue in beancount.core.position.cost_to_str(), where it only prints the cost if the number_unit is present, ignoring number_total if it is not.\n","closed_by":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/beancount/beancount/issues/208/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beancount/issues/208/timeline","performed_via_github_app":null,"state_reason":"completed"},{"url":"https://api.github.com/repos/beancount/beancount/issues/205","repository_url":"https://api.github.com/repos/beancount/beancount","labels_url":"https://api.github.com/repos/beancount/beancount/issues/205/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beancount/issues/205/comments","events_url":"https://api.github.com/repos/beancount/beancount/issues/205/events","html_url":"https://github.com/beancount/beancount/issues/205","id":623372803,"node_id":"MDU6SXNzdWU2MjMzNzI4MDM=","number":205,"title":"amounts smaller than 1E-6 are incorrectly handled (scientific notation instead of decimal)","user":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":2080914000,"node_id":"MDU6TGFiZWwyMDgwOTE0MDAw","url":"https://api.github.com/repos/beancount/beancount/labels/BUG","name":"BUG","color":"cc99cc","default":false,"description":"This is a bug, not a feature request; something isn't working."},{"id":2080996667,"node_id":"MDU6TGFiZWwyMDgwOTk2NjY3","url":"https://api.github.com/repos/beancount/beancount/labels/P0","name":"P0","color":"ff0000","default":false,"description":"Critical priority, breaking changes to current version"}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":4,"created_at":"2017-12-08T17:55:44Z","updated_at":"2018-01-14T12:24:07Z","closed_at":"2018-01-14T12:24:07Z","author_association":"MEMBER","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"**[Original report](https://bitbucket.org/blais/beancount/issue/205) by Markus Teufelberger (Bitbucket: [MarkusTeufelberger](https://bitbucket.org/MarkusTeufelberger), GitHub: [MarkusTeufelberger](https://github.com/MarkusTeufelberger)).**\n\n----------------------------------------\n\nSee the following test case(s):\n\n```\n#!python\n$ python3\nPython 3.6.3 (default, Oct 24 2017, 14:48:20) \n[GCC 7.2.0] on linux\nType \"help\", \"copyright\", \"credits\" or \"license\" for more information.\n>>> from beancount.core.number import D\n>>> D(\"0.1\")\nDecimal('0.1')\n>>> D(\"0.01\")\nDecimal('0.01')\n>>> D(\"0.001\")\nDecimal('0.001')\n>>> D(\"0.0001\")\nDecimal('0.0001')\n>>> D(\"0.00001\")\nDecimal('0.00001')\n>>> D(\"0.000001\")\nDecimal('0.000001')\n>>> D(\"0.0000001\")\nDecimal('1E-7')\n>>> D(\"0.00000001\")\nDecimal('1E-8')\n```\n\nThis is an issue for me, because I want to import data from Bitcoin into Beancount. While the 8 digit precision of BTC compared to the 2 digits of USD is not an issue in general, any transaction that is smaller than 1 millionth of a BTC breaks the generated file, because it is written in scientific notation by Beancount. This causes errors like `syntax error, unexpected CURRENCY, expecting EOL or COMMENT or ATAT or AT` (in case someone googles that one) because instead of `Assets:Foo   0.00000001 BTC` something like `Assets:Foo   1E-8 BTC` is written by the importer instead.\n\nThe relevant code seems to be in the to_string() function in core amount.\n","closed_by":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/beancount/beancount/issues/205/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beancount/issues/205/timeline","performed_via_github_app":null,"state_reason":"completed"},{"url":"https://api.github.com/repos/beancount/beancount/issues/204","repository_url":"https://api.github.com/repos/beancount/beancount","labels_url":"https://api.github.com/repos/beancount/beancount/issues/204/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beancount/issues/204/comments","events_url":"https://api.github.com/repos/beancount/beancount/issues/204/events","html_url":"https://github.com/beancount/beancount/issues/204","id":623372778,"node_id":"MDU6SXNzdWU2MjMzNzI3Nzg=","number":204,"title":"Add international support for rendering commas","user":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":2080994022,"node_id":"MDU6TGFiZWwyMDgwOTk0MDIy","url":"https://api.github.com/repos/beancount/beancount/labels/P2","name":"P2","color":"ffaaaa","default":false,"description":"Low priority, addressing would result in useful improvements"},{"id":2080996004,"node_id":"MDU6TGFiZWwyMDgwOTk2MDA0","url":"https://api.github.com/repos/beancount/beancount/labels/reports","name":"reports","color":"ededed","default":false,"description":"Component: Canned reports"}],"state":"open","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":3,"created_at":"2017-12-04T04:06:11Z","updated_at":"2020-05-23T13:15:46Z","closed_at":null,"author_association":"MEMBER","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"**[Original report](https://bitbucket.org/blais/beancount/issue/204) by Martin Blais (Bitbucket: [blais](https://bitbucket.org/blais), GitHub: [blais](https://github.com/blais)).**\n\n----------------------------------------\n\nHello,\nI love fava and beancount. This is a fantastic and powerful personal finance system.\n\nI live in India and we follow a different numbering system (the placement of the commas in currency) as compared to the rest of the world. Reference - Indian numbering system\n\nWould it be possible to include an option in render_commas to include the locale like in here - https://stackoverflow.com/a/40952632\n\nThanks and have a great day!\nBala\n","closed_by":null,"reactions":{"url":"https://api.github.com/repos/beancount/beancount/issues/204/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beancount/issues/204/timeline","performed_via_github_app":null,"state_reason":null},{"url":"https://api.github.com/repos/beancount/beancount/issues/203","repository_url":"https://api.github.com/repos/beancount/beancount","labels_url":"https://api.github.com/repos/beancount/beancount/issues/203/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beancount/issues/203/comments","events_url":"https://api.github.com/repos/beancount/beancount/issues/203/events","html_url":"https://github.com/beancount/beancount/issues/203","id":623372751,"node_id":"MDU6SXNzdWU2MjMzNzI3NTE=","number":203,"title":"Google and Yahoo price sources no longer work","user":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":2080914000,"node_id":"MDU6TGFiZWwyMDgwOTE0MDAw","url":"https://api.github.com/repos/beancount/beancount/labels/BUG","name":"BUG","color":"cc99cc","default":false,"description":"This is a bug, not a feature request; something isn't working."},{"id":2080994777,"node_id":"MDU6TGFiZWwyMDgwOTk0Nzc3","url":"https://api.github.com/repos/beancount/beancount/labels/P1","name":"P1","color":"ff6666","default":false,"description":"High priority, not breaking but hindering or lessening existing functionality"}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":4,"created_at":"2017-12-01T03:32:47Z","updated_at":"2018-04-02T05:12:06Z","closed_at":"2018-04-02T04:59:34Z","author_association":"MEMBER","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"**[Original report](https://bitbucket.org/blais/beancount/issue/203) by Justus Pendleton (Bitbucket: [hoostus](https://bitbucket.org/hoostus), GitHub: [hoostus](https://github.com/hoostus)).**\n\n----------------------------------------\n\nBoth services have been deprecated AFAIK, so there is no \"fix\" available, so they should probably be removed.\n\nThe unit tests still pass because they mock out actually calling the web services.\n","closed_by":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/beancount/beancount/issues/203/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beancount/issues/203/timeline","performed_via_github_app":null,"state_reason":"completed"},{"url":"https://api.github.com/repos/beancount/beancount/issues/201","repository_url":"https://api.github.com/repos/beancount/beancount","labels_url":"https://api.github.com/repos/beancount/beancount/issues/201/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beancount/issues/201/comments","events_url":"https://api.github.com/repos/beancount/beancount/issues/201/events","html_url":"https://github.com/beancount/beancount/issues/201","id":623372710,"node_id":"MDU6SXNzdWU2MjMzNzI3MTA=","number":201,"title":"Alternative compact balance/price syntax","user":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":2080994022,"node_id":"MDU6TGFiZWwyMDgwOTk0MDIy","url":"https://api.github.com/repos/beancount/beancount/labels/P2","name":"P2","color":"ffaaaa","default":false,"description":"Low priority, addressing would result in useful improvements"},{"id":2080995647,"node_id":"MDU6TGFiZWwyMDgwOTk1NjQ3","url":"https://api.github.com/repos/beancount/beancount/labels/parser-loader","name":"parser-loader","color":"ededed","default":false,"description":"Component: Parser and loader"}],"state":"open","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":1,"created_at":"2017-11-26T07:38:32Z","updated_at":"2020-05-23T13:15:46Z","closed_at":null,"author_association":"MEMBER","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"**[Original report](https://bitbucket.org/blais/beancount/issue/201) by Yuchen Ying (Bitbucket: [yegle](https://bitbucket.org/yegle), GitHub: [yegle](https://github.com/yegle)).**\n\n----------------------------------------\n\nTo support something like:\n\n```\n2016-04-01 balance\n    Account:One 10.00 USD\n    Account:Two 20.00 USD\n\n2016-04-01 price\n    TickOne 1.23 USD\n    TickTwo 4.56 USD\n```\n\nMartin, I can work on this if you are fine with the feature.\nhttps://groups.google.com/d/msg/beancount/QL7Cn0Gp37k/6s7YpJVHBAAJ\n","closed_by":null,"reactions":{"url":"https://api.github.com/repos/beancount/beancount/issues/201/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beancount/issues/201/timeline","performed_via_github_app":null,"state_reason":null},{"url":"https://api.github.com/repos/beancount/beancount/issues/199","repository_url":"https://api.github.com/repos/beancount/beancount","labels_url":"https://api.github.com/repos/beancount/beancount/issues/199/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beancount/issues/199/comments","events_url":"https://api.github.com/repos/beancount/beancount/issues/199/events","html_url":"https://github.com/beancount/beancount/issues/199","id":623372618,"node_id":"MDU6SXNzdWU2MjMzNzI2MTg=","number":199,"title":"bean-report hledger/ledger puts link/tag comments before payee/description","user":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":2080914000,"node_id":"MDU6TGFiZWwyMDgwOTE0MDAw","url":"https://api.github.com/repos/beancount/beancount/labels/BUG","name":"BUG","color":"cc99cc","default":false,"description":"This is a bug, not a feature request; something isn't working."},{"id":2080996004,"node_id":"MDU6TGFiZWwyMDgwOTk2MDA0","url":"https://api.github.com/repos/beancount/beancount/labels/reports","name":"reports","color":"ededed","default":false,"description":"Component: Canned reports"},{"id":2080996667,"node_id":"MDU6TGFiZWwyMDgwOTk2NjY3","url":"https://api.github.com/repos/beancount/beancount/labels/P0","name":"P0","color":"ff0000","default":false,"description":"Critical priority, breaking changes to current version"}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":5,"created_at":"2017-10-27T20:57:57Z","updated_at":"2019-01-30T04:19:03Z","closed_at":"2019-01-30T04:19:03Z","author_association":"MEMBER","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"**[Original report](https://bitbucket.org/blais/beancount/issue/199) by Trevor Davis (Bitbucket: [trevorld](https://bitbucket.org/trevorld), GitHub: [trevorld](https://github.com/trevorld)).**\n\n----------------------------------------\n\nThanks for your awesome beancount package!\n\nI've come across a bug in the bean-report hledger/ledger export for transactions that have tags or links.  In such cases the link/tag comments are placed before the payee/description field in the resulting ledger/hledger files.  For example\n\n```\n2017-01-01 * \"Payee\" \"Description\" ^link #tag\n    Assets:Cash             200 USD\n    Equity:Opening\n```\n\ngets exported to (H)Ledger as\n\n```\n2017-01-01 * ;; Link: ^link ;; Tag: #tag Payee | Description\n    Assets:Cash             200 USD\n    Equity:Opening\n```\n\ninstead of \n\n```\n2017-01-01 *  Payee | Description ;; Link: ^link ;; Tag: #tag\n    Assets:Cash             200 USD\n    Equity:Opening\n```\n\nIn particular when I import my beancount file into an R data frame via hledger csv export for further querying this bug causes my payee / description info to be lost for any transactions with a tag or link.  If I instead import my beancount file into R via ledger csv export the info isn't fully lost but it is much much harder to further parse into payee, description, and tag/link metadata fields than if the bug was fixed.  I currently don't want to import my beancount file into R via  `bean-query -f csv filename.beancount \"SELECT *\"` since it seems to be missing the critical account field (as well as tag/link metadata fields).  \n\nFor your convenience I've attached a minimal beancount file that includes four transactions that should highlight this bug.\n\n```\nbean-report min_reproducible_example.beancount hledger > mre.hledger\nbean-report min_reproducible_example.beancount ledger > mre.ledger\nhledger -f mre.hledger register -Ocsv\nledger -f mre.ledger csv\nbean-query -f csv min_reproducible_example.beancount \"SELECT *\"\n```\n\nThanks for your attention to this matter!\n","closed_by":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/beancount/beancount/issues/199/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beancount/issues/199/timeline","performed_via_github_app":null,"state_reason":"completed"},{"url":"https://api.github.com/repos/beancount/beancount/issues/198","repository_url":"https://api.github.com/repos/beancount/beancount","labels_url":"https://api.github.com/repos/beancount/beancount/issues/198/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beancount/issues/198/comments","events_url":"https://api.github.com/repos/beancount/beancount/issues/198/events","html_url":"https://github.com/beancount/beancount/issues/198","id":623372589,"node_id":"MDU6SXNzdWU2MjMzNzI1ODk=","number":198,"title":"bean-extract ignores output file arguments, redirects everything to stdout","user":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":2080914000,"node_id":"MDU6TGFiZWwyMDgwOTE0MDAw","url":"https://api.github.com/repos/beancount/beancount/labels/BUG","name":"BUG","color":"cc99cc","default":false,"description":"This is a bug, not a feature request; something isn't working."},{"id":2080994777,"node_id":"MDU6TGFiZWwyMDgwOTk0Nzc3","url":"https://api.github.com/repos/beancount/beancount/labels/P1","name":"P1","color":"ff6666","default":false,"description":"High priority, not breaking but hindering or lessening existing functionality"}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":1,"created_at":"2017-10-17T04:46:45Z","updated_at":"2017-10-18T01:48:24Z","closed_at":"2017-10-18T01:48:24Z","author_association":"MEMBER","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"**[Original report](https://bitbucket.org/blais/beancount/issue/198) by Lluis Pamies-Juarez (Bitbucket: [llpamies](https://bitbucket.org/llpamies), GitHub: [llpamies](https://github.com/llpamies)).**\n\n----------------------------------------\n\n\n","closed_by":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/beancount/beancount/issues/198/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beancount/issues/198/timeline","performed_via_github_app":null,"state_reason":"completed"},{"url":"https://api.github.com/repos/beancount/beancount/issues/197","repository_url":"https://api.github.com/repos/beancount/beancount","labels_url":"https://api.github.com/repos/beancount/beancount/issues/197/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beancount/issues/197/comments","events_url":"https://api.github.com/repos/beancount/beancount/issues/197/events","html_url":"https://github.com/beancount/beancount/issues/197","id":623372570,"node_id":"MDU6SXNzdWU2MjMzNzI1NzA=","number":197,"title":"Doc update: install from source with pip","user":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":2080996667,"node_id":"MDU6TGFiZWwyMDgwOTk2NjY3","url":"https://api.github.com/repos/beancount/beancount/labels/P0","name":"P0","color":"ff0000","default":false,"description":"Critical priority, breaking changes to current version"},{"id":2081000198,"node_id":"MDU6TGFiZWwyMDgxMDAwMTk4","url":"https://api.github.com/repos/beancount/beancount/labels/documentation","name":"documentation","color":"ededed","default":true,"description":"Component: Improvements or additions to documentation"}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":1,"created_at":"2017-10-04T05:17:30Z","updated_at":"2020-05-22T22:12:52Z","closed_at":"2020-05-22T22:12:52Z","author_association":"MEMBER","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"**[Original report](https://bitbucket.org/blais/beancount/issue/197) by pjz (Bitbucket: [pjz](https://bitbucket.org/pjz), GitHub: [pjz](https://github.com/pjz)).**\n\n----------------------------------------\n\npip can now install from an hg repo.  See [here](https://pip.pypa.io/en/latest/reference/pip_install/#vcs-support) for details, but the upshot is you can do:\n\n\n```\n#!bash\n\npip install hg+https://bitbucket.org/blais/beancount#egg=beancount\n\n```\n\nand end up with it installed from source.  Upgrades should work too.\n","closed_by":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/beancount/beancount/issues/197/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beancount/issues/197/timeline","performed_via_github_app":null,"state_reason":"completed"},{"url":"https://api.github.com/repos/beancount/beancount/issues/196","repository_url":"https://api.github.com/repos/beancount/beancount","labels_url":"https://api.github.com/repos/beancount/beancount/issues/196/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beancount/issues/196/comments","events_url":"https://api.github.com/repos/beancount/beancount/issues/196/events","html_url":"https://github.com/beancount/beancount/issues/196","id":623372549,"node_id":"MDU6SXNzdWU2MjMzNzI1NDk=","number":196,"title":"Warning \"PRICE() is deprecated; use GETPRICE() instead\" even if I'm using the correct function","user":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":2080914000,"node_id":"MDU6TGFiZWwyMDgwOTE0MDAw","url":"https://api.github.com/repos/beancount/beancount/labels/BUG","name":"BUG","color":"cc99cc","default":false,"description":"This is a bug, not a feature request; something isn't working."},{"id":2080994061,"node_id":"MDU6TGFiZWwyMDgwOTk0MDYx","url":"https://api.github.com/repos/beancount/beancount/labels/P3","name":"P3","color":"FFdddd","default":false,"description":"Very low priority, nice to have"}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":2,"created_at":"2017-09-30T14:08:46Z","updated_at":"2018-02-28T06:04:26Z","closed_at":"2018-02-28T06:04:26Z","author_association":"MEMBER","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"**[Original report](https://bitbucket.org/blais/beancount/issue/196) by mariosangiorgio (Bitbucket: [mariosangiorgio](https://bitbucket.org/mariosangiorgio), GitHub: [mariosangiorgio](https://github.com/mariosangiorgio)).**\n\n----------------------------------------\n\nI noticed this while looking at the logs of a dev version of fava.\n\nI find it confusing that the warning is reported even if I'm using the new function. I also spent a bit of time looking for usages of the deprecated function before I realised what is going on.\n\nThis is happening because both in `query_env.py` `getprice` and `price` map to the same object, which prints the warning.\n\n```\n#!python\n\n    # Note: Remove PRICE() at some point, GETPRICE() is less confusing.\n    ('price', str, str)                                  : Price,\n    ('price', str, str, datetime.date)                   : PriceWithDate,\n    ('getprice', str, str)                               : Price,\n    ('getprice', str, str, datetime.date)                : PriceWithDate,\n```\n\nHow long is `price` going to stay around for? If it is for long I think we should stop `getprice` from printing the warning.\n","closed_by":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/beancount/beancount/issues/196/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beancount/issues/196/timeline","performed_via_github_app":null,"state_reason":"completed"},{"url":"https://api.github.com/repos/beancount/beancount/issues/195","repository_url":"https://api.github.com/repos/beancount/beancount","labels_url":"https://api.github.com/repos/beancount/beancount/issues/195/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beancount/issues/195/comments","events_url":"https://api.github.com/repos/beancount/beancount/issues/195/events","html_url":"https://github.com/beancount/beancount/issues/195","id":623372518,"node_id":"MDU6SXNzdWU2MjMzNzI1MTg=","number":195,"title":"Documentation: price entries are no longer automatically synthesized","user":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":2080914000,"node_id":"MDU6TGFiZWwyMDgwOTE0MDAw","url":"https://api.github.com/repos/beancount/beancount/labels/BUG","name":"BUG","color":"cc99cc","default":false,"description":"This is a bug, not a feature request; something isn't working."},{"id":2080994022,"node_id":"MDU6TGFiZWwyMDgwOTk0MDIy","url":"https://api.github.com/repos/beancount/beancount/labels/P2","name":"P2","color":"ffaaaa","default":false,"description":"Low priority, addressing would result in useful improvements"},{"id":2081000198,"node_id":"MDU6TGFiZWwyMDgxMDAwMTk4","url":"https://api.github.com/repos/beancount/beancount/labels/documentation","name":"documentation","color":"ededed","default":true,"description":"Component: Improvements or additions to documentation"}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":1,"created_at":"2017-09-23T16:40:28Z","updated_at":"2017-09-24T15:53:27Z","closed_at":"2017-09-24T15:53:27Z","author_association":"MEMBER","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"**[Original report](https://bitbucket.org/blais/beancount/issue/195) by Ethan Glasser-Camp (Bitbucket: [glasserc](https://bitbucket.org/glasserc), GitHub: [glasserc](https://github.com/glasserc)).**\n\n----------------------------------------\n\nThe Beancount Language Syntax page (https://docs.google.com/document/d/1wAMVrKIA2qtRGmoVDSUBJGmYZSygUaR0uOMW1GV3YE0/) includes the following remark:\n\n\n```\n#!\n\nEvery time a Posting appears that has a cost or \nan optional price declared, it uses that cost or \nprice to automatically synthesize a Price directive. \nFor example, this transaction:\n\n2014-05-23 *\n  Assets:Investments:MSFT        -10 MSFT {43.40 USD}\n  Assets:Investments:Cash     434.00 USD\n\nautomatically becomes this after parsing:\n\n2014-05-23 *\n  Assets:Investments:MSFT        -10 MSFT {43.40 USD}\n  Assets:Investments:Cash     434.00 USD\n\n2014-05-23 price MSFT  43.40 USD\n```\n\nHowever, this seems not to be true out-of-the-box. This beancount file:\n\n```\n2017-01-01 open Assets:MyBank:Cash USD\n2017-01-01 open Assets:MyBank:DJIA DJIA\n2017-01-01 open Equity:Opening-Balances\n\n2017-01-01 * \"Initial balance\"\n  Assets:MyBank:Cash  10 USD\n  Equity:Opening-Balances\n\n2017-03-01 * \"Bought some DJIA\"\n  Assets:MyBank:DJIA  1 DJIA {1 USD}\n  Assets:MyBank:Cash\n```\n\ncombined with this query:\n\n```\nbean-report ~/Documents/prices.beancount all_prices\n```\n\ndoes not report any prices. It seems from looking through the documentation that the implicit_prices plugin is meant for this use case. Activating the implicit_prices plugin causes a price entry to appear in the report as expected. Perhaps the documentation should be amended to suggest the use of this plugin to generate these price entries. Similarly, the Trading With Beancount document at https://docs.google.com/document/d/1WjARst_cSxNE-Lq6JnJ5CC41T3WndEsiMw4d46r2694/edit#heading=h.rssekxnidtcf refers to the synthesis of a price entry based on a price in a posting, and should maybe refer interested users to the plugin.\n","closed_by":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/beancount/beancount/issues/195/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beancount/issues/195/timeline","performed_via_github_app":null,"state_reason":"completed"},{"url":"https://api.github.com/repos/beancount/beancount/issues/194","repository_url":"https://api.github.com/repos/beancount/beancount","labels_url":"https://api.github.com/repos/beancount/beancount/issues/194/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beancount/issues/194/comments","events_url":"https://api.github.com/repos/beancount/beancount/issues/194/events","html_url":"https://github.com/beancount/beancount/issues/194","id":623372457,"node_id":"MDU6SXNzdWU2MjMzNzI0NTc=","number":194,"title":"Use of \"@@\" syntax (was: Use of float numbers in Amount)","user":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":2080914000,"node_id":"MDU6TGFiZWwyMDgwOTE0MDAw","url":"https://api.github.com/repos/beancount/beancount/labels/BUG","name":"BUG","color":"cc99cc","default":false,"description":"This is a bug, not a feature request; something isn't working."},{"id":2080994022,"node_id":"MDU6TGFiZWwyMDgwOTk0MDIy","url":"https://api.github.com/repos/beancount/beancount/labels/P2","name":"P2","color":"ffaaaa","default":false,"description":"Low priority, addressing would result in useful improvements"},{"id":2080995603,"node_id":"MDU6TGFiZWwyMDgwOTk1NjAz","url":"https://api.github.com/repos/beancount/beancount/labels/core-ops","name":"core-ops","color":"ededed","default":false,"description":"Component: Core data structures and stream ops"}],"state":"open","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":28,"created_at":"2017-09-16T16:16:12Z","updated_at":"2025-03-15T05:31:12Z","closed_at":null,"author_association":"MEMBER","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"**[Original report](https://bitbucket.org/blais/beancount/issue/194) by Zhuoyun Wei (Bitbucket: [wzyboy](https://bitbucket.org/wzyboy), GitHub: [wzyboy](https://github.com/wzyboy)).**\n\n----------------------------------------\n\nHi,\n\nI have always been bugged by the fact that in Fava, in almost all\ntransactions involving currency conversions (that is, every time I pay\nwith international credit cards), very long fractional\nnumbers are displayed in postings.\n\nI always thought it's something about DisplayContext and did not dig\ninto the reasons. Today I am playing with BQL and finally it occurs to\nme that float numbers, instead of Decimals, are used somewhere\ninternally in Beancount.\n\nObserve the float round-off errors:\n\n```\nbeancount> select date, narration, position, weight where account ~ \"Expenses:\" and narration ~ \"Amazon web services\";\n   date         narration      position                weight\n---------- ------------------- --------- ----------------------------------\n[...]\n2016-07-04 Amazon web services 12.06 USD  80.53000000000000000000000001 CNY\n[...]\n2017-05-05 Amazon web services 13.04 USD  90.13999999999999999999999999 CNY\n```\n\nI can see that in Beancount's docs, Martin always uses \"@\" syntax to\nrecord currency conversions, like \"10 USD @ 1.3 CAD\". I, however,\nalways uses \"@@\" syntax to record conversions, like \"10 USD @@ 65 CNY\".\nBecause on my bank statements there are no currency exchange rates, and\nonly the numbers in foreign currency and local currency are provided.\n\nHere is how the two transactions in the bean-query examples above look\nlike in the Beancount input files:\n\n```\n2016-07-04 * \"Amazon web services\"\n  Liabilities:CMB:CreditCards                 -80.53 CNY\n  Expenses:Communications:Internet            +12.06 USD @@ 80.53 CNY\n\n2017-05-05 * \"Amazon web services\"\n  Liabilities:CMB:CreditCards                 -90.14 CNY\n  Expenses:Communications:Internet            +13.04 USD @@ 90.14 CNY\n```\n\nIt seems that Beancoun did not use these numbers directly. Instead, it\nuses the quotient of the two numbers to calculate the weight. In this\nprocess, float round-off errors occur.\n","closed_by":null,"reactions":{"url":"https://api.github.com/repos/beancount/beancount/issues/194/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beancount/issues/194/timeline","performed_via_github_app":null,"state_reason":null},{"url":"https://api.github.com/repos/beancount/beancount/issues/192","repository_url":"https://api.github.com/repos/beancount/beancount","labels_url":"https://api.github.com/repos/beancount/beancount/issues/192/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beancount/issues/192/comments","events_url":"https://api.github.com/repos/beancount/beancount/issues/192/events","html_url":"https://github.com/beancount/beancount/issues/192","id":623372373,"node_id":"MDU6SXNzdWU2MjMzNzIzNzM=","number":192,"title":"Make it possible to use single letter as commodity name","user":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":2080994022,"node_id":"MDU6TGFiZWwyMDgwOTk0MDIy","url":"https://api.github.com/repos/beancount/beancount/labels/P2","name":"P2","color":"ffaaaa","default":false,"description":"Low priority, addressing would result in useful improvements"},{"id":2080995647,"node_id":"MDU6TGFiZWwyMDgwOTk1NjQ3","url":"https://api.github.com/repos/beancount/beancount/labels/parser-loader","name":"parser-loader","color":"ededed","default":false,"description":"Component: Parser and loader"}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":22,"created_at":"2017-09-13T10:03:25Z","updated_at":"2025-05-22T12:32:44Z","closed_at":"2024-02-15T17:49:02Z","author_association":"MEMBER","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"**[Original report](https://bitbucket.org/blais/beancount/issue/192) by Zhuoyun Wei (Bitbucket: [wzyboy](https://bitbucket.org/wzyboy), GitHub: [wzyboy](https://github.com/wzyboy)).**\n\n----------------------------------------\n\nHi Martin,\n\nthis is a similar issue to #138. I recently found out that Beancount currently does not allow single-letter commodity name. A minimal reproducible example:\n\n```\n1970-01-01 commodity USD\n1970-01-01 commodity V\n\n2017-09-01 open Assets:SingleLetter:X\n2017-09-01 open Assets:Trade:Cash USD\n2017-09-01 open Assets:Trade:Positions \"FIFO\"\n\n2017-09-13 * \"Buy 10 shares of Visa\"\n  Assets:Trade:Cash                         -1000.00 USD\n  Assets:Trade:Positions                      +10.00 V { 100.00 USD }\n```\n\nA bean-check shows:\n\n```\nsingle-letter.beancount:2:       Invalid token: 'V'\nsingle-letter.beancount:10:      Invalid token: 'V'\n```\n\nIt seems that single-letter account names do not trigger errors any more (line 4) since #138 is resolved, but single-letter commodity names are still not allowed (line 2 and line 10).\n\nCould you please make single-letter commodity possible? I would like to make pull request but I do not know how to write C code...\n","closed_by":{"login":"dnicolodi","id":987145,"node_id":"MDQ6VXNlcjk4NzE0NQ==","avatar_url":"https://avatars.githubusercontent.com/u/987145?v=4","gravatar_id":"","url":"https://api.github.com/users/dnicolodi","html_url":"https://github.com/dnicolodi","followers_url":"https://api.github.com/users/dnicolodi/followers","following_url":"https://api.github.com/users/dnicolodi/following{/other_user}","gists_url":"https://api.github.com/users/dnicolodi/gists{/gist_id}","starred_url":"https://api.github.com/users/dnicolodi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dnicolodi/subscriptions","organizations_url":"https://api.github.com/users/dnicolodi/orgs","repos_url":"https://api.github.com/users/dnicolodi/repos","events_url":"https://api.github.com/users/dnicolodi/events{/privacy}","received_events_url":"https://api.github.com/users/dnicolodi/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/beancount/beancount/issues/192/reactions","total_count":4,"+1":4,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beancount/issues/192/timeline","performed_via_github_app":null,"state_reason":"completed"},{"url":"https://api.github.com/repos/beancount/beancount/issues/191","repository_url":"https://api.github.com/repos/beancount/beancount","labels_url":"https://api.github.com/repos/beancount/beancount/issues/191/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beancount/issues/191/comments","events_url":"https://api.github.com/repos/beancount/beancount/issues/191/events","html_url":"https://github.com/beancount/beancount/issues/191","id":623372341,"node_id":"MDU6SXNzdWU2MjMzNzIzNDE=","number":191,"title":"beancount.core.Inventory should be a dict when Costs have dates","user":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":2080995603,"node_id":"MDU6TGFiZWwyMDgwOTk1NjAz","url":"https://api.github.com/repos/beancount/beancount/labels/core-ops","name":"core-ops","color":"ededed","default":false,"description":"Component: Core data structures and stream ops"},{"id":2080996667,"node_id":"MDU6TGFiZWwyMDgwOTk2NjY3","url":"https://api.github.com/repos/beancount/beancount/labels/P0","name":"P0","color":"ff0000","default":false,"description":"Critical priority, breaking changes to current version"}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":5,"created_at":"2017-09-11T03:29:03Z","updated_at":"2020-05-23T13:32:27Z","closed_at":"2020-05-23T13:32:27Z","author_association":"MEMBER","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"**[Original report](https://bitbucket.org/blais/beancount/issue/191) by Jason Chu (Bitbucket: [xentac](https://bitbucket.org/xentac), GitHub: [xentac](https://github.com/xentac)).**\n\n----------------------------------------\n\nThe claim in https://bitbucket.org/blais/beancount/src/621cec5ed38bcd128a3502a3b5c367f283deffe2/beancount/core/inventory.py?at=default&fileviewer=file-view-default#inventory.py-58 doesn't hold up anymore. Any account where you buy small amounts of a commodity will expand the list of positions indefinitely because each Cost object will be unique.\n\nMost of the computational pain happens in add_amount (https://bitbucket.org/blais/beancount/src/621cec5ed38bcd128a3502a3b5c367f283deffe2/beancount/core/inventory.py?at=default&fileviewer=file-view-default#inventory.py-365) when iterating over a list of positions that usually don't match (unless reducing).\n\nI have a hack that proves it too. The original code (when rendering the fava balance sheet) takes about 3 seconds to render net worth and a balance tree, with the hack applied it takes about 2 seconds.\n","closed_by":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/beancount/beancount/issues/191/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beancount/issues/191/timeline","performed_via_github_app":null,"state_reason":"completed"},{"url":"https://api.github.com/repos/beancount/beancount/issues/190","repository_url":"https://api.github.com/repos/beancount/beancount","labels_url":"https://api.github.com/repos/beancount/beancount/issues/190/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beancount/issues/190/comments","events_url":"https://api.github.com/repos/beancount/beancount/issues/190/events","html_url":"https://github.com/beancount/beancount/issues/190","id":623372303,"node_id":"MDU6SXNzdWU2MjMzNzIzMDM=","number":190,"title":"Use of implicit_prices and operating_currency together leads to incorrect calculations of net worth","user":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":2080914000,"node_id":"MDU6TGFiZWwyMDgwOTE0MDAw","url":"https://api.github.com/repos/beancount/beancount/labels/BUG","name":"BUG","color":"cc99cc","default":false,"description":"This is a bug, not a feature request; something isn't working."},{"id":2080994777,"node_id":"MDU6TGFiZWwyMDgwOTk0Nzc3","url":"https://api.github.com/repos/beancount/beancount/labels/P1","name":"P1","color":"ff6666","default":false,"description":"High priority, not breaking but hindering or lessening existing functionality"}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":4,"created_at":"2017-09-06T12:45:08Z","updated_at":"2019-03-04T05:13:35Z","closed_at":"2017-09-07T21:36:04Z","author_association":"MEMBER","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"**[Original report](https://bitbucket.org/blais/beancount/issue/190) by Zhuoyun Wei (Bitbucket: [wzyboy](https://bitbucket.org/wzyboy), GitHub: [wzyboy](https://github.com/wzyboy)).**\n\n----------------------------------------\n\nHi,\n\nif you have the following conditions to be true, the calculated net worth is wrong:\n\n- Two operating currencies are defined;\n- At least one transaction involves the two currencies with `@@`;\n- The implicit_prices plugin is enabled.\n\nHere is a minimal example:\n\n```\nplugin \"beancount.plugins.implicit_prices\"\n  \noption \"operating_currency\" \"CNY\"\noption \"operating_currency\" \"USD\"\n\n1970-01-01 open Liabilities:CC\n1970-01-01 open Expenses:Food\n\n2017-09-01 * \"\"\n  Liabilities:CC                             -660.00 CNY\n  Expenses:Food                              +100.00 USD @@ 660.00 CNY\n```\n\nRunning bean-report:\n\n```\nCurrency  Net Worth\n--------  ---------\nCNY         -660.00\nUSD         -100.00\n--------  ---------\n```\n\nEither:\n\n- disabling one of the operating currencies\n\nor\n\n- disabling implicit_prices plugin\n\nrestores the correct calculation of net worth:\n\n```\nCurrency  Net Worth\n--------  ---------\nCNY         -660.00\n--------  ---------\n```\n\nI rooted the cause of this behavior in a very confusing situation. I was looking at the net worth graph in Fava and found something very strange:\n\n- My ledger spans from 2013 to 2017.\n- The ledger consists of only CNY transactions from 2013 to 2015. The net worth graph from 2013 to 2015 consists of a rising line of CNY and a flat line of USD which is always 0.\n- In year 2015 I got my first international credit card and there were USD @@ CNY transactions from then on.\n- On the day the first USD @@ CNY transaction occurs, the USD value in Fava net worth graph spikes from zero to a non-zero value, which roughly equals to all my CNY assets converted to USD.\n- The USD line in the graph keeps a similar shape with CNY line from 2015 to 2017.\n\nAttachment: the USD net worth spikes from zero to non-zero starting from the day the first USD @@ CNY transaction occurs, and keeps a similar shape with CNY value from then on.\n","closed_by":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/beancount/beancount/issues/190/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beancount/issues/190/timeline","performed_via_github_app":null,"state_reason":"completed"},{"url":"https://api.github.com/repos/beancount/beancount/issues/189","repository_url":"https://api.github.com/repos/beancount/beancount","labels_url":"https://api.github.com/repos/beancount/beancount/issues/189/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beancount/issues/189/comments","events_url":"https://api.github.com/repos/beancount/beancount/issues/189/events","html_url":"https://github.com/beancount/beancount/issues/189","id":623372269,"node_id":"MDU6SXNzdWU2MjMzNzIyNjk=","number":189,"title":"beancount error in Arch","user":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":2080914000,"node_id":"MDU6TGFiZWwyMDgwOTE0MDAw","url":"https://api.github.com/repos/beancount/beancount/labels/BUG","name":"BUG","color":"cc99cc","default":false,"description":"This is a bug, not a feature request; something isn't working."},{"id":2080994777,"node_id":"MDU6TGFiZWwyMDgwOTk0Nzc3","url":"https://api.github.com/repos/beancount/beancount/labels/P1","name":"P1","color":"ff6666","default":false,"description":"High priority, not breaking but hindering or lessening existing functionality"}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":3,"created_at":"2017-09-06T00:57:16Z","updated_at":"2017-09-07T21:33:54Z","closed_at":"2017-09-06T01:38:50Z","author_association":"MEMBER","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"**[Original report](https://bitbucket.org/blais/beancount/issue/189) by Jib (Bitbucket: [jibzzz](https://bitbucket.org/jibzzz), GitHub: [jibzzz](https://github.com/jibzzz)).**\n\n----------------------------------------\n\nWhen I run a beancount command (or fava) I get an error: for example`$ bean-check Documents/beancount.beancount ` returns\n\n```\nTraceback (most recent call last):\n  File \"/usr/bin/bean-check\", line 2, in <module>\n    from beancount.scripts.check import main; main()\n  File \"/usr/lib/python3.6/site-packages/beancount/scripts/check.py\", line 39, in main\n    extra_validations=validation.HARDCORE_VALIDATIONS)\n  File \"/usr/lib/python3.6/site-packages/beancount/loader.py\", line 87, in load_file\n    extra_validations, encoding)\n  File \"/usr/lib/python3.6/site-packages/beancount/loader.py\", line 200, in wrapped\n    result = function(toplevel_filename, *args, **kw)\n  File \"/usr/lib/python3.6/site-packages/beancount/loader.py\", line 219, in _load_file\n    return _load([(filename, True)], *args, **kw)\n  File \"/usr/lib/python3.6/site-packages/beancount/loader.py\", line 460, in _load\n    extra_validations)\n  File \"/usr/lib/python3.6/site-packages/beancount/ops/validation.py\", line 395, in validate\n    new_errors = validation_function(entries, options_map)\n  File \"/usr/lib/python3.6/site-packages/beancount/ops/validation.py\", line 348, in validate_check_transaction_balances\n    \"Transaction does not balance: {}\".format(residual),\n  File \"/usr/lib/python3.6/site-packages/beancount/core/inventory.py\", line 106, in __str__\n    return self.to_string()\n  File \"/usr/lib/python3.6/site-packages/beancount/core/inventory.py\", line 98, in to_string\n    ', '.join(pos.to_string(dformat) for pos in sorted(self)))\n  File \"/usr/lib/python3.6/site-packages/beancount/core/position.py\", line 228, in __lt__\n    return self.sortkey() < other.sortkey()\n  File \"/usr/lib/python3.6/site-packages/beancount/core/position.py\", line 210, in sortkey\n    order_units = CURRENCY_ORDER.get(currency, NCURRENCIES + len(currency))\nTypeError: object of type 'type' has no len()\n```\n\nThis is a new error, I started experiencing it today.\n\nI use Arch, and got beancount from [this AUR package](https://aur.archlinux.org/packages/beancount/).\n\nAny ideas ?\n","closed_by":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/beancount/beancount/issues/189/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beancount/issues/189/timeline","performed_via_github_app":null,"state_reason":"completed"},{"url":"https://api.github.com/repos/beancount/beancount/issues/188","repository_url":"https://api.github.com/repos/beancount/beancount","labels_url":"https://api.github.com/repos/beancount/beancount/issues/188/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beancount/issues/188/comments","events_url":"https://api.github.com/repos/beancount/beancount/issues/188/events","html_url":"https://github.com/beancount/beancount/issues/188","id":623372254,"node_id":"MDU6SXNzdWU2MjMzNzIyNTQ=","number":188,"title":"ignore .idea and beancount.egg-info folders","user":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":2080994022,"node_id":"MDU6TGFiZWwyMDgwOTk0MDIy","url":"https://api.github.com/repos/beancount/beancount/labels/P2","name":"P2","color":"ffaaaa","default":false,"description":"Low priority, addressing would result in useful improvements"}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":2,"created_at":"2017-09-06T00:04:35Z","updated_at":"2017-09-08T07:04:27Z","closed_at":"2017-09-07T21:39:11Z","author_association":"MEMBER","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"**[Original report](https://bitbucket.org/blais/beancount/issue/188) by Johannes Harms (Bitbucket: [johannesjh](https://bitbucket.org/johannesjh), GitHub: [johannesjh](https://github.com/johannesjh)).**\n\n----------------------------------------\n\nfolders to be ignored by version control:\n\n* can the `beancount.egg-info` folder be ignored in mercurial? I guess so, because it seems to be re-created whenever I build beancount.\n* and could you please also ignore intellij's `.idea` folder, that would be very convenient, thanks!\n\n-> if that's ok for you, could you please add the following two lines to .hgignore:\n\n    .idea\n    beancount.egg-info\n\nthx, \nJohannes\n","closed_by":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/beancount/beancount/issues/188/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beancount/issues/188/timeline","performed_via_github_app":null,"state_reason":"completed"},{"url":"https://api.github.com/repos/beancount/beancount/issues/186","repository_url":"https://api.github.com/repos/beancount/beancount","labels_url":"https://api.github.com/repos/beancount/beancount/issues/186/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beancount/issues/186/comments","events_url":"https://api.github.com/repos/beancount/beancount/issues/186/events","html_url":"https://github.com/beancount/beancount/issues/186","id":623372233,"node_id":"MDU6SXNzdWU2MjMzNzIyMzM=","number":186,"title":"Cost & price currency should be coerced to be equal","user":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":2080914000,"node_id":"MDU6TGFiZWwyMDgwOTE0MDAw","url":"https://api.github.com/repos/beancount/beancount/labels/BUG","name":"BUG","color":"cc99cc","default":false,"description":"This is a bug, not a feature request; something isn't working."},{"id":2080994777,"node_id":"MDU6TGFiZWwyMDgwOTk0Nzc3","url":"https://api.github.com/repos/beancount/beancount/labels/P1","name":"P1","color":"ff6666","default":false,"description":"High priority, not breaking but hindering or lessening existing functionality"},{"id":2080995647,"node_id":"MDU6TGFiZWwyMDgwOTk1NjQ3","url":"https://api.github.com/repos/beancount/beancount/labels/parser-loader","name":"parser-loader","color":"ededed","default":false,"description":"Component: Parser and loader"}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":2,"created_at":"2017-08-19T05:46:27Z","updated_at":"2018-03-26T21:32:38Z","closed_at":"2018-03-26T21:32:38Z","author_association":"MEMBER","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"**[Original report](https://bitbucket.org/blais/beancount/issue/186) by Martin Blais (Bitbucket: [blais](https://bitbucket.org/blais), GitHub: [blais](https://github.com/blais)).**\n\n----------------------------------------\n\nSomehow this doesn't raise an error anymore... fix this ASAP.\n","closed_by":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/beancount/beancount/issues/186/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beancount/issues/186/timeline","performed_via_github_app":null,"state_reason":"completed"},{"url":"https://api.github.com/repos/beancount/beancount/issues/184","repository_url":"https://api.github.com/repos/beancount/beancount","labels_url":"https://api.github.com/repos/beancount/beancount/issues/184/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beancount/issues/184/comments","events_url":"https://api.github.com/repos/beancount/beancount/issues/184/events","html_url":"https://github.com/beancount/beancount/issues/184","id":623372191,"node_id":"MDU6SXNzdWU2MjMzNzIxOTE=","number":184,"title":"Inventory averaging can results in division by zero","user":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":2080914000,"node_id":"MDU6TGFiZWwyMDgwOTE0MDAw","url":"https://api.github.com/repos/beancount/beancount/labels/BUG","name":"BUG","color":"cc99cc","default":false,"description":"This is a bug, not a feature request; something isn't working."},{"id":2080995603,"node_id":"MDU6TGFiZWwyMDgwOTk1NjAz","url":"https://api.github.com/repos/beancount/beancount/labels/core-ops","name":"core-ops","color":"ededed","default":false,"description":"Component: Core data structures and stream ops"},{"id":2080996667,"node_id":"MDU6TGFiZWwyMDgwOTk2NjY3","url":"https://api.github.com/repos/beancount/beancount/labels/P0","name":"P0","color":"ff0000","default":false,"description":"Critical priority, breaking changes to current version"}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":1,"created_at":"2017-08-03T17:00:57Z","updated_at":"2020-05-23T16:38:36Z","closed_at":"2020-05-23T16:38:36Z","author_association":"MEMBER","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"**[Original report](https://bitbucket.org/blais/beancount/issue/184) by Stephan Müller (Bitbucket: [pg3-stephan](https://bitbucket.org/pg3-stephan)).**\n\n----------------------------------------\n\nNot 100% sure whether this is a bug (or just an incoherent inventory), but in my mind, averaging should still work even if the inventory is atypical. Alternatively, one could assert that `total_units != ZERO` and show a meaningful message otherwise.\n\nWith this preamble: if there are offsetting amounts of the same currency with different costs (eg a different date), the division in `cost = Cost(total_cost / total_units, cost_currency, None, None)` in the method [`Inventory.average`](https://bitbucket.org/blais/beancount/src/cbb3f348ec5e23f4d224f2b2f7a5811958d87873/beancount/core/inventory.py?at=default&fileviewer=file-view-default#inventory.py-302) (module `beancount.core.inventory`) results in a division by zero.\n\nThe following extension to [`TestInventory.test_average`](https://bitbucket.org/blais/beancount/src/cbb3f348ec5e23f4d224f2b2f7a5811958d87873/beancount/core/inventory_test.py?at=default&fileviewer=file-view-default#inventory_test.py-278) shows the problem (last test fails because the +/- 2 HOOL have different costs, so don't offset in the inventory but the overall position is 0):\n\n    def test_average(self):\n        # Identity, no aggregation.\n        inv = I('40.50 JPY, 40.51 USD {1.01 CAD}, 40.52 CAD')\n        self.assertEqual(inv.average(), inv)\n\n        # Identity, no aggregation, with a mix of lots at cost and without\n        # cost.\n        inv = I('40 USD {1.01 CAD}, 40 USD')\n        self.assertEqual(inv.average(), inv)\n\n        # Aggregation.\n        inv = I('40 USD {1.01 CAD}, 40 USD {1.02 CAD}')\n        self.assertEqual(inv.average(), I('80.00 USD {1.015 CAD}'))\n\n        # Aggregation, more units.\n        inv = I('2 HOOL {500 USD}, 3 HOOL {520 USD}, 4 HOOL {530 USD}')\n        self.assertEqual(inv.average(), I('9 HOOL {520 USD}'))\n\n        # ADDED--------------------------------------------------------\n        # Average on zero amount, same costs\n        inv = I('2 HOOL {500 USD}')\n        inv.add_amount(A('-2 HOOL'), Cost(D('500'), 'USD', None, None))\n        self.assertEqual(inv.average(), I(''))\n\n        # Average on zero amount, different costs\n        inv = I('2 HOOL {500 USD}')\n        inv.add_amount(A('-2 HOOL'),\n                       Cost(D('500'), 'USD', datetime.date(2000, 1, 1), None))\n        self.assertEqual(inv.average(), I(''))\n\nA simple fix would be to add the line `if total_units == ZERO: continue` in the method `Inventory.average` as per below:\n\n    def average(self):\n        \"\"\"Average all lots of the same currency together.\n\n        Returns:\n          An instance of Inventory.\n        \"\"\"\n        groups = collections.defaultdict(list)\n        for position in self:\n            key = (position.units.currency,\n                   position.cost.currency if position.cost else None)\n            groups[key].append(position)\n\n        average_inventory = Inventory()\n        for (currency, cost_currency), positions in groups.items():\n            total_units = sum(position.units.number\n                              for position in positions)\n            if total_units == ZERO: continue  # ADDED-----------------------------------\n            units_amount = Amount(total_units, currency)\n\n            if cost_currency:\n                total_cost = sum(convert.get_cost(position).number\n                                 for position in positions)\n                cost = Cost(total_cost / total_units,\n                            cost_currency, None, None)\n            else:\n                cost = None\n\n            average_inventory.add_amount(units_amount, cost)\n\n        return average_inventory\n","closed_by":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/beancount/beancount/issues/184/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beancount/issues/184/timeline","performed_via_github_app":null,"state_reason":"completed"},{"url":"https://api.github.com/repos/beancount/beancount/issues/182","repository_url":"https://api.github.com/repos/beancount/beancount","labels_url":"https://api.github.com/repos/beancount/beancount/issues/182/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beancount/issues/182/comments","events_url":"https://api.github.com/repos/beancount/beancount/issues/182/events","html_url":"https://github.com/beancount/beancount/issues/182","id":623372167,"node_id":"MDU6SXNzdWU2MjMzNzIxNjc=","number":182,"title":"Eliding an amount with total price raises TypeError","user":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":2080914000,"node_id":"MDU6TGFiZWwyMDgwOTE0MDAw","url":"https://api.github.com/repos/beancount/beancount/labels/BUG","name":"BUG","color":"cc99cc","default":false,"description":"This is a bug, not a feature request; something isn't working."},{"id":2080995603,"node_id":"MDU6TGFiZWwyMDgwOTk1NjAz","url":"https://api.github.com/repos/beancount/beancount/labels/core-ops","name":"core-ops","color":"ededed","default":false,"description":"Component: Core data structures and stream ops"},{"id":2080996667,"node_id":"MDU6TGFiZWwyMDgwOTk2NjY3","url":"https://api.github.com/repos/beancount/beancount/labels/P0","name":"P0","color":"ff0000","default":false,"description":"Critical priority, breaking changes to current version"}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":0,"created_at":"2017-07-25T11:52:21Z","updated_at":"2020-05-23T13:59:47Z","closed_at":"2020-05-23T13:59:47Z","author_association":"MEMBER","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"**[Original report](https://bitbucket.org/blais/beancount/issue/182) by Martin Blais (Bitbucket: [blais](https://bitbucket.org/blais), GitHub: [blais](https://github.com/blais)).**\n\n----------------------------------------\n\n```\n#!python\n\nplugin \"beancount.plugins.auto\"\n\n2017-05-19 * \"Spotify\"\n    Expenses:Online-Services:Music              7.99 EUR @@ BGN\n    Liabilities:Credit-Card:SomeBank           -15.81 BGN\n\n/home/blais/p/beancount/beancount/parser/grammar.py:815:     TypeError: unsupported operand type(s) for /: 'type' and 'decimal.Decimal'\n (/home/blais/p/beancount/beancount/parser/grammar.py:815)\n```\n","closed_by":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/beancount/beancount/issues/182/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beancount/issues/182/timeline","performed_via_github_app":null,"state_reason":"completed"},{"url":"https://api.github.com/repos/beancount/beancount/issues/180","repository_url":"https://api.github.com/repos/beancount/beancount","labels_url":"https://api.github.com/repos/beancount/beancount/issues/180/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beancount/issues/180/comments","events_url":"https://api.github.com/repos/beancount/beancount/issues/180/events","html_url":"https://github.com/beancount/beancount/issues/180","id":623372116,"node_id":"MDU6SXNzdWU2MjMzNzIxMTY=","number":180,"title":"Make options work within files","user":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":2080994022,"node_id":"MDU6TGFiZWwyMDgwOTk0MDIy","url":"https://api.github.com/repos/beancount/beancount/labels/P2","name":"P2","color":"ffaaaa","default":false,"description":"Low priority, addressing would result in useful improvements"},{"id":2080995647,"node_id":"MDU6TGFiZWwyMDgwOTk1NjQ3","url":"https://api.github.com/repos/beancount/beancount/labels/parser-loader","name":"parser-loader","color":"ededed","default":false,"description":"Component: Parser and loader"}],"state":"open","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":0,"created_at":"2017-07-17T04:05:09Z","updated_at":"2020-05-23T13:15:46Z","closed_at":null,"author_association":"MEMBER","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"**[Original report](https://bitbucket.org/blais/beancount/issue/180) by Martin Blais (Bitbucket: [blais](https://bitbucket.org/blais), GitHub: [blais](https://github.com/blais)).**\n\n----------------------------------------\n\nelix Geisendoerfer\n1:52 PM Jul 11\nResolve\nFrom my testing it seems that this also impacts plugins. I.e. if I include a file which uses plugins the plugin entries are lost. Is that expected?\n\nEdit: In case you're wondering what my use case is: I have a main file where I keep all my transactions, but then I'd like to have several files where I include this file + a few plugins I wrote. Those plugins essentially allow me to see a different \"view\" of my finances, e.g. my travel costs excluded, things split up between me and my wife, etc.\nShow less\nMartin Blais\nMartin Blais\n2:44 AM Jul 13\nI don't think plugins in files other than the top level file are processed. But I can't remember very well. See here for the logic: https://bitbucket.org/blais/beancount/src/tip/beancount/loader.py?fileviewer=file-view-default\n\nIf you can provide a minimal example that shows the problem I can probably fix this easily.\nShow less\nFelix Geisendoerfer\nFelix Geisendoerfer\n12:29 PM Jul 13\nHi Martin. Here is a minimal example: https://gist.github.com/felixge/d8eb732daac615adc5974d9e106fa3bb\n\nIf you could fix this that'd be great. I took a look at loader_test.py to see if I could contribute a test case/fix, but I'm not quite sure how to go about it. Could I simply tie one of the existing plugins into the test case?\n\n\n```\n#!\n\n\n\n$ cat a.beancount\nplugin \"beancount.plugins.auto_accounts\"\n\n2017-07-13 * \"Test\"\n  Expenses:Food 10 EUR\n  Assets:Cash\n$ cat b.beancount\ninclude \"a.beancount\"\n$ bean-report a.beancount bal\nAssets:Cash    -10 EUR\nEquity\nExpenses:Food   10 EUR\nIncome\nLiabilities\n$ bean-report b.beancount bal\n/Users/felixge/code/beancount/a.beancount:3:       Invalid reference to unknown account 'Expenses:Food'\n\n   2017-07-13 * \"Test\"\n     Expenses:Food   10 EUR\n     Assets:Cash    -10 EUR\n\n\n/Users/felixge/code/beancount/a.beancount:3:       Invalid reference to unknown account 'Assets:Cash'\n\n   2017-07-13 * \"Test\"\n     Expenses:Food   10 EUR\n     Assets:Cash    -10 EUR\n\n\nAssets:Cash   -10.00000000 EUR\nEquity\nExpenses:Food 10.00000000 EUR\nIncome\nLiabilities\n(master * u=) beancount ⌁\nSign up for free\n```\n","closed_by":null,"reactions":{"url":"https://api.github.com/repos/beancount/beancount/issues/180/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beancount/issues/180/timeline","performed_via_github_app":null,"state_reason":null},{"url":"https://api.github.com/repos/beancount/beancount/issues/179","repository_url":"https://api.github.com/repos/beancount/beancount","labels_url":"https://api.github.com/repos/beancount/beancount/issues/179/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beancount/issues/179/comments","events_url":"https://api.github.com/repos/beancount/beancount/issues/179/events","html_url":"https://github.com/beancount/beancount/issues/179","id":623372095,"node_id":"MDU6SXNzdWU2MjMzNzIwOTU=","number":179,"title":"Scientific notation showing up in reports; Transactions balancing errors with very small remainder","user":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":2080914000,"node_id":"MDU6TGFiZWwyMDgwOTE0MDAw","url":"https://api.github.com/repos/beancount/beancount/labels/BUG","name":"BUG","color":"cc99cc","default":false,"description":"This is a bug, not a feature request; something isn't working."},{"id":2080994777,"node_id":"MDU6TGFiZWwyMDgwOTk0Nzc3","url":"https://api.github.com/repos/beancount/beancount/labels/P1","name":"P1","color":"ff6666","default":false,"description":"High priority, not breaking but hindering or lessening existing functionality"},{"id":2080995603,"node_id":"MDU6TGFiZWwyMDgwOTk1NjAz","url":"https://api.github.com/repos/beancount/beancount/labels/core-ops","name":"core-ops","color":"ededed","default":false,"description":"Component: Core data structures and stream ops"}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":1,"created_at":"2017-07-16T21:18:54Z","updated_at":"2017-07-23T16:50:18Z","closed_at":"2017-07-23T16:50:18Z","author_association":"MEMBER","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"**[Original report](https://bitbucket.org/blais/beancount/issue/179) by Metin Akat (Bitbucket: [m_akat](https://bitbucket.org/m_akat), GitHub: [loxs](https://github.com/loxs)).**\n\n----------------------------------------\n\nHere is the journal file to reproduce the bug:\n\n```\n#!beancount\n\n2016-11-05 open Expenses:Bank:Conversion\n2016-11-05 open Expenses:Gifts\n2016-11-05 open Expenses:Entertainment:Travel\n2016-11-05 open Assets:Current:Bank:SomeBank\n\n2016-11-05 * \"Aquarium\"\n    Expenses:Gifts                               435 DKK  ; 2 adult + 1 child\n    Expenses:Entertainment:Travel                340 DKK  ; 2 adult tickets\n    Expenses:Bank:Conversion\n    Assets:Current:Bank:SomeBank            -204.17 BGN @@ 775.00 DKK\n\n```\n\nTwo problems:\n\n1. If I don't provide the additional \"Expenses:Bank:Conversion\" account, bean-check refuses to validate the transaction. The error is  `broken-test.beancount:7:       Transaction does not balance: (-1E-25 DKK)`\n\n2. When I do a ledger export, when I try to run ledger on the resulting file, I get this error:\n\n\n```\n#!shell\n\nWhile parsing file \"<path>/broken-test.ledger\", line 12:\nWhile parsing posting:\n  Expenses:Bank:Conversion                                         1E-25 DKK\n                                                                   ^^^^^^^^^\nError: Unexpected char '-' (Note: inline math requires parentheses)\n```\n","closed_by":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/beancount/beancount/issues/179/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beancount/issues/179/timeline","performed_via_github_app":null,"state_reason":"completed"},{"url":"https://api.github.com/repos/beancount/beancount/issues/178","repository_url":"https://api.github.com/repos/beancount/beancount","labels_url":"https://api.github.com/repos/beancount/beancount/issues/178/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beancount/issues/178/comments","events_url":"https://api.github.com/repos/beancount/beancount/issues/178/events","html_url":"https://github.com/beancount/beancount/issues/178","id":623372069,"node_id":"MDU6SXNzdWU2MjMzNzIwNjk=","number":178,"title":"bean-report accounts traceback when no account opened","user":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":2080914000,"node_id":"MDU6TGFiZWwyMDgwOTE0MDAw","url":"https://api.github.com/repos/beancount/beancount/labels/BUG","name":"BUG","color":"cc99cc","default":false,"description":"This is a bug, not a feature request; something isn't working."},{"id":2080994022,"node_id":"MDU6TGFiZWwyMDgwOTk0MDIy","url":"https://api.github.com/repos/beancount/beancount/labels/P2","name":"P2","color":"ffaaaa","default":false,"description":"Low priority, addressing would result in useful improvements"},{"id":2080995603,"node_id":"MDU6TGFiZWwyMDgwOTk1NjAz","url":"https://api.github.com/repos/beancount/beancount/labels/core-ops","name":"core-ops","color":"ededed","default":false,"description":"Component: Core data structures and stream ops"}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":2,"created_at":"2017-07-14T19:54:57Z","updated_at":"2022-04-03T01:18:24Z","closed_at":"2017-07-16T00:18:11Z","author_association":"MEMBER","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"**[Original report](https://bitbucket.org/blais/beancount/issue/178) by Martin Michlmayr (Bitbucket: [tbm13](https://bitbucket.org/tbm13), GitHub: [tbm](https://github.com/tbm)).**\n\n----------------------------------------\n\nWith the example file in which no accounts have been opened, I get a traceback with `bean-report accounts`:\n\n```\n2014-07-12 * \"Black Iron Burger\" \"\"\n     Expenses:Food:Restaurant               17.23 USD\n     Assets:Cash                           -17.23 USD\n```\n\nTraceback:\n\n```\nTraceback (most recent call last):\n  File \"/usr/local/bin/bean-report\", line 4, in <module>\n    from beancount.reports.report import main; main()\n  File \"/usr/local/lib/python3.5/dist-packages/beancount/reports/report.py\", line 251, in main\n    chosen_report.render(entries, errors, options_map, args.format, outfile)\n  File \"/usr/local/lib/python3.5/dist-packages/beancount/reports/base.py\", line 114, in render\n    result = render_method(entries, errors, options_map, outfile)\n  File \"/usr/local/lib/python3.5/dist-packages/beancount/reports/misc_reports.py\", line 94, in render_beancount\n    maxlen = max(len(account) for account in open_close)\nValueError: max() arg is an empty sequence\n```\n\nI've attached a fix.\n","closed_by":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/beancount/beancount/issues/178/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beancount/issues/178/timeline","performed_via_github_app":null,"state_reason":"completed"},{"url":"https://api.github.com/repos/beancount/beancount/issues/177","repository_url":"https://api.github.com/repos/beancount/beancount","labels_url":"https://api.github.com/repos/beancount/beancount/issues/177/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beancount/issues/177/comments","events_url":"https://api.github.com/repos/beancount/beancount/issues/177/events","html_url":"https://github.com/beancount/beancount/issues/177","id":623372039,"node_id":"MDU6SXNzdWU2MjMzNzIwMzk=","number":177,"title":"Traceback from bean-doctor checkdeps with filemagic","user":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":2080914000,"node_id":"MDU6TGFiZWwyMDgwOTE0MDAw","url":"https://api.github.com/repos/beancount/beancount/labels/BUG","name":"BUG","color":"cc99cc","default":false,"description":"This is a bug, not a feature request; something isn't working."},{"id":2080994022,"node_id":"MDU6TGFiZWwyMDgwOTk0MDIy","url":"https://api.github.com/repos/beancount/beancount/labels/P2","name":"P2","color":"ffaaaa","default":false,"description":"Low priority, addressing would result in useful improvements"},{"id":2080994828,"node_id":"MDU6TGFiZWwyMDgwOTk0ODI4","url":"https://api.github.com/repos/beancount/beancount/labels/scripts","name":"scripts","color":"ededed","default":false,"description":"Component: Other scripts"}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":6,"created_at":"2017-07-14T19:20:58Z","updated_at":"2018-04-01T16:53:50Z","closed_at":"2018-03-16T04:49:04Z","author_association":"MEMBER","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"**[Original report](https://bitbucket.org/blais/beancount/issue/177) by Martin Michlmayr (Bitbucket: [tbm13](https://bitbucket.org/tbm13), GitHub: [tbm](https://github.com/tbm)).**\n\n----------------------------------------\n\nIt seems the \"python3-magic\" package in Debian corresponds to filemagic rather than python-magic.  filemagic lacks from_file.  beancount/utils/file_type.py already checks for this but bean-doctor checkdeps gives a traceback:\n\n```\nTraceback (most recent call last):\n  File \"/usr/local/bin/bean-doctor\", line 4, in <module>\n    from beancount.scripts.doctor import main; main()\n  File \"/usr/local/lib/python3.5/dist-packages/beancount/scripts/doctor.py\", line 392, in main\n    function(opts.filename, opts.rest)\n  File \"/usr/local/lib/python3.5/dist-packages/beancount/scripts/doctor.py\", line 184, in do_deps\n    deps.list_dependencies(sys.stdout)\n  File \"/usr/local/lib/python3.5/dist-packages/beancount/scripts/deps.py\", line 20, in list_dependencies\n    for package, version, sufficient in check_dependencies():\nTypeError: 'NoneType' object is not iterable\n```\n\nI've attached a proposed fix.\n","closed_by":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/beancount/beancount/issues/177/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beancount/issues/177/timeline","performed_via_github_app":null,"state_reason":"completed"},{"url":"https://api.github.com/repos/beancount/beancount/issues/176","repository_url":"https://api.github.com/repos/beancount/beancount","labels_url":"https://api.github.com/repos/beancount/beancount/issues/176/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beancount/issues/176/comments","events_url":"https://api.github.com/repos/beancount/beancount/issues/176/events","html_url":"https://github.com/beancount/beancount/issues/176","id":623372029,"node_id":"MDU6SXNzdWU2MjMzNzIwMjk=","number":176,"title":"Link one document to multiple accounts in one directive","user":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":2080994022,"node_id":"MDU6TGFiZWwyMDgwOTk0MDIy","url":"https://api.github.com/repos/beancount/beancount/labels/P2","name":"P2","color":"ffaaaa","default":false,"description":"Low priority, addressing would result in useful improvements"},{"id":2080995647,"node_id":"MDU6TGFiZWwyMDgwOTk1NjQ3","url":"https://api.github.com/repos/beancount/beancount/labels/parser-loader","name":"parser-loader","color":"ededed","default":false,"description":"Component: Parser and loader"}],"state":"open","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":0,"created_at":"2017-07-10T06:13:48Z","updated_at":"2020-05-23T13:15:46Z","closed_at":null,"author_association":"MEMBER","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"**[Original report](https://bitbucket.org/blais/beancount/issue/176) by Yuchen Ying (Bitbucket: [yegle](https://bitbucket.org/yegle), GitHub: [yegle](https://github.com/yegle)).**\n\n----------------------------------------\n\nThis is somewhat related to https://bitbucket.org/blais/beancount/issues/175/support-multiple-accounts-in-one-balance but I figure it can be used for other cases.\n\nIf issue 175 is implemented, a followup feature request would be able to specify one statement file for a balance directive with multiple accounts. E.g. my bank issues one statement for all the CD/checking/saving accounts. Something like this would be great:\n\n```\n2017-01-01 balance\n  Assets:Cash:CD01 xx USD\n  Assets:Cash:CD02 xx USD\n  Assets:Cash:Checking xx USD\n  document: \"path/to/2017-01-01.statement.pdf\"\n```\n\nWhich should be equivalent to\n```\n2017-01-01 balance Assets:Cash:CD01 xx USD\n2017-01-01 balance Assets:Cash:CD02 xx USD\n2017-01-01 balance Assets:Cash:CD03 xx USD\n2017-01-01 document Assets:Cash:CD01 \"path/to/2017-01-01.statement.pdf\"\n2017-01-01 document Assets:Cash:CD02 \"path/to/2017-01-01.statement.pdf\"\n2017-01-01 document Assets:Cash:CD03 \"path/to/2017-01-01.statement.pdf\"\n```\n","closed_by":null,"reactions":{"url":"https://api.github.com/repos/beancount/beancount/issues/176/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beancount/issues/176/timeline","performed_via_github_app":null,"state_reason":null},{"url":"https://api.github.com/repos/beancount/beancount/issues/175","repository_url":"https://api.github.com/repos/beancount/beancount","labels_url":"https://api.github.com/repos/beancount/beancount/issues/175/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beancount/issues/175/comments","events_url":"https://api.github.com/repos/beancount/beancount/issues/175/events","html_url":"https://github.com/beancount/beancount/issues/175","id":623372015,"node_id":"MDU6SXNzdWU2MjMzNzIwMTU=","number":175,"title":"Support multiple accounts in one balance statement","user":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":2080994777,"node_id":"MDU6TGFiZWwyMDgwOTk0Nzc3","url":"https://api.github.com/repos/beancount/beancount/labels/P1","name":"P1","color":"ff6666","default":false,"description":"High priority, not breaking but hindering or lessening existing functionality"},{"id":2080995647,"node_id":"MDU6TGFiZWwyMDgwOTk1NjQ3","url":"https://api.github.com/repos/beancount/beancount/labels/parser-loader","name":"parser-loader","color":"ededed","default":false,"description":"Component: Parser and loader"}],"state":"open","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":3,"created_at":"2017-07-10T05:59:02Z","updated_at":"2020-05-23T13:15:46Z","closed_at":null,"author_association":"MEMBER","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"**[Original report](https://bitbucket.org/blais/beancount/issue/175) by Yuchen Ying (Bitbucket: [yegle](https://bitbucket.org/yegle), GitHub: [yegle](https://github.com/yegle)).**\n\n----------------------------------------\n\nI'm building a CD ladder and the balance statement at the end of each month is getting longer. It would be great if I can have multiple accounts in one balance statement.\n\nE.g. something like this would be great:\n\n```\n2017-01-01 balance\n  Assets:Cash:CD01 xx USD\n  Assets:Cash:CD02 xx USD\n```\n","closed_by":null,"reactions":{"url":"https://api.github.com/repos/beancount/beancount/issues/175/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beancount/issues/175/timeline","performed_via_github_app":null,"state_reason":null},{"url":"https://api.github.com/repos/beancount/beancount/issues/173","repository_url":"https://api.github.com/repos/beancount/beancount","labels_url":"https://api.github.com/repos/beancount/beancount/issues/173/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beancount/issues/173/comments","events_url":"https://api.github.com/repos/beancount/beancount/issues/173/events","html_url":"https://github.com/beancount/beancount/issues/173","id":623371960,"node_id":"MDU6SXNzdWU2MjMzNzE5NjA=","number":173,"title":"Tweak to work with Windows 10 + VisualStudio 2015 + Python 3.6","user":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":2080914000,"node_id":"MDU6TGFiZWwyMDgwOTE0MDAw","url":"https://api.github.com/repos/beancount/beancount/labels/BUG","name":"BUG","color":"cc99cc","default":false,"description":"This is a bug, not a feature request; something isn't working."},{"id":2080994061,"node_id":"MDU6TGFiZWwyMDgwOTk0MDYx","url":"https://api.github.com/repos/beancount/beancount/labels/P3","name":"P3","color":"FFdddd","default":false,"description":"Very low priority, nice to have"},{"id":2080995603,"node_id":"MDU6TGFiZWwyMDgwOTk1NjAz","url":"https://api.github.com/repos/beancount/beancount/labels/core-ops","name":"core-ops","color":"ededed","default":false,"description":"Component: Core data structures and stream ops"}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":6,"created_at":"2017-07-06T00:23:54Z","updated_at":"2017-07-12T23:20:53Z","closed_at":"2017-07-06T02:40:20Z","author_association":"MEMBER","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"**[Original report](https://bitbucket.org/blais/beancount/issue/173) by rayalan (Bitbucket: [rayalan](https://bitbucket.org/rayalan), GitHub: [rayalan](https://github.com/rayalan)).**\n\n----------------------------------------\n\nSo it turns out that it's fairly trivial to get a working install with Python3.6 + Visual Studio 2015 on Windows 10 (and I presume other configurations). \n\n(The long story is that I've been looking for something like beancounter, but would like decent Windows support and didn't want to deal with cygwin etc. So I said \"How hard can this be to ignore all the instructions for how to do a Windows build and do it the Python way?\" It turns out that it isn't too hard.)\n\n1. Download the source code.\n2. Modify `parser/lexer.c` and `parser/lexer.h` to optionally include unistd.h, which isn't available under VS2015. e.g. \n```\n#ifndef _WIN32\n#include <unistd.h>\n#endif\n```\n3. Modify setup.py to define the source hash macro differently. Both these options work, but the second is likely more cross-platform friendly.\n```\ndefine_macros=[('PARSER_SOURCE_HASH',\n                                  '\\\\\"{}\\\\\"'.format(hash_parser_source_files()))]),\ndefine_macros=[('PARSER_SOURCE_HASH',\n                                  '\"h{}\"'.format(hash_parser_source_files()))]),\n```\n\n(The root issue here is Visual Studio strips out the quotes, and so it interprets the hash as a number, and then gets angry when the number isn't a valid number. So one can either escape the quotes, or simply ensure that the hash starts with a letter -- like 'h'. \n\n4. Install: \n```python setup.py  install```\n5. profit.\n","closed_by":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/beancount/beancount/issues/173/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beancount/issues/173/timeline","performed_via_github_app":null,"state_reason":"completed"},{"url":"https://api.github.com/repos/beancount/beancount/issues/171","repository_url":"https://api.github.com/repos/beancount/beancount","labels_url":"https://api.github.com/repos/beancount/beancount/issues/171/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beancount/issues/171/comments","events_url":"https://api.github.com/repos/beancount/beancount/issues/171/events","html_url":"https://github.com/beancount/beancount/issues/171","id":623371935,"node_id":"MDU6SXNzdWU2MjMzNzE5MzU=","number":171,"title":"Add an option to allow the user to override the displayed / rendered precision","user":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":2080994022,"node_id":"MDU6TGFiZWwyMDgwOTk0MDIy","url":"https://api.github.com/repos/beancount/beancount/labels/P2","name":"P2","color":"ffaaaa","default":false,"description":"Low priority, addressing would result in useful improvements"},{"id":2080995603,"node_id":"MDU6TGFiZWwyMDgwOTk1NjAz","url":"https://api.github.com/repos/beancount/beancount/labels/core-ops","name":"core-ops","color":"ededed","default":false,"description":"Component: Core data structures and stream ops"}],"state":"open","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":6,"created_at":"2017-06-30T05:18:25Z","updated_at":"2024-06-22T18:23:08Z","closed_at":null,"author_association":"MEMBER","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"**[Original report](https://bitbucket.org/blais/beancount/issue/171) by Martin Blais (Bitbucket: [blais](https://bitbucket.org/blais), GitHub: [blais](https://github.com/blais)).**\n\n----------------------------------------\n\nIt should be possible - via an option - for the user the specify the desired rendering precision for decimals instead of having it inferred from the input data.\n","closed_by":null,"reactions":{"url":"https://api.github.com/repos/beancount/beancount/issues/171/reactions","total_count":5,"+1":5,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beancount/issues/171/timeline","performed_via_github_app":null,"state_reason":null},{"url":"https://api.github.com/repos/beancount/beancount/issues/170","repository_url":"https://api.github.com/repos/beancount/beancount","labels_url":"https://api.github.com/repos/beancount/beancount/issues/170/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beancount/issues/170/comments","events_url":"https://api.github.com/repos/beancount/beancount/issues/170/events","html_url":"https://github.com/beancount/beancount/issues/170","id":623371914,"node_id":"MDU6SXNzdWU2MjMzNzE5MTQ=","number":170,"title":"Try inferring currency from the contents of ante-inventory","user":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":2080994022,"node_id":"MDU6TGFiZWwyMDgwOTk0MDIy","url":"https://api.github.com/repos/beancount/beancount/labels/P2","name":"P2","color":"ffaaaa","default":false,"description":"Low priority, addressing would result in useful improvements"},{"id":2080995647,"node_id":"MDU6TGFiZWwyMDgwOTk1NjQ3","url":"https://api.github.com/repos/beancount/beancount/labels/parser-loader","name":"parser-loader","color":"ededed","default":false,"description":"Component: Parser and loader"}],"state":"open","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":0,"created_at":"2017-06-16T03:44:03Z","updated_at":"2020-05-23T13:15:46Z","closed_at":null,"author_association":"MEMBER","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"**[Original report](https://bitbucket.org/blais/beancount/issue/170) by Martin Blais (Bitbucket: [blais](https://bitbucket.org/blais), GitHub: [blais](https://github.com/blais)).**\n\n----------------------------------------\n\nhttps://groups.google.com/forum/?utm_medium=email&utm_source=footer#!msg/beancount/bMKLxoWJb04/cQJtN8pXBAAJ\n","closed_by":null,"reactions":{"url":"https://api.github.com/repos/beancount/beancount/issues/170/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beancount/issues/170/timeline","performed_via_github_app":null,"state_reason":null},{"url":"https://api.github.com/repos/beancount/beancount/issues/169","repository_url":"https://api.github.com/repos/beancount/beancount","labels_url":"https://api.github.com/repos/beancount/beancount/issues/169/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beancount/issues/169/comments","events_url":"https://api.github.com/repos/beancount/beancount/issues/169/events","html_url":"https://github.com/beancount/beancount/issues/169","id":623371899,"node_id":"MDU6SXNzdWU2MjMzNzE4OTk=","number":169,"title":"bean-doctor context: Consider always creating some transaction object even when there are errors.","user":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":2080995647,"node_id":"MDU6TGFiZWwyMDgwOTk1NjQ3","url":"https://api.github.com/repos/beancount/beancount/labels/parser-loader","name":"parser-loader","color":"ededed","default":false,"description":"Component: Parser and loader"},{"id":2080996667,"node_id":"MDU6TGFiZWwyMDgwOTk2NjY3","url":"https://api.github.com/repos/beancount/beancount/labels/P0","name":"P0","color":"ff0000","default":false,"description":"Critical priority, breaking changes to current version"}],"state":"open","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":0,"created_at":"2017-06-16T03:34:28Z","updated_at":"2021-01-28T03:40:07Z","closed_at":null,"author_association":"MEMBER","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"**[Original report](https://bitbucket.org/blais/beancount/issue/169) by Martin Blais (Bitbucket: [blais](https://bitbucket.org/blais), GitHub: [blais](https://github.com/blais)).**\n\n----------------------------------------\n\n> Furthermore, attempting to debug with bean-doctor doesn't quite work for me. The transaction in question starts at line 17. But beandoctor context <filename> 17 returns the context for the previous transaction at line 13.\n\nThat's interesting; if there's no error, it works fine.\nHowever, I think in this case, because this error was irrecoverable, the transaction was skipped, and the behavior of the line-number selection is to select the closest previous transaction. It does result in an odd behavior.\n\nMaybe I should always create transactions even when there are errors. \nThis would require a fair amount of testing.\nIt's not necessarily a bad idea.\n","closed_by":null,"reactions":{"url":"https://api.github.com/repos/beancount/beancount/issues/169/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beancount/issues/169/timeline","performed_via_github_app":null,"state_reason":null},{"url":"https://api.github.com/repos/beancount/beancount/issues/168","repository_url":"https://api.github.com/repos/beancount/beancount","labels_url":"https://api.github.com/repos/beancount/beancount/issues/168/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beancount/issues/168/comments","events_url":"https://api.github.com/repos/beancount/beancount/issues/168/events","html_url":"https://github.com/beancount/beancount/issues/168","id":623371885,"node_id":"MDU6SXNzdWU2MjMzNzE4ODU=","number":168,"title":"FIFO without a cost currency appears to fail due to incorrect currency inference","user":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":2080914000,"node_id":"MDU6TGFiZWwyMDgwOTE0MDAw","url":"https://api.github.com/repos/beancount/beancount/labels/BUG","name":"BUG","color":"cc99cc","default":false,"description":"This is a bug, not a feature request; something isn't working."},{"id":2080995603,"node_id":"MDU6TGFiZWwyMDgwOTk1NjAz","url":"https://api.github.com/repos/beancount/beancount/labels/core-ops","name":"core-ops","color":"ededed","default":false,"description":"Component: Core data structures and stream ops"},{"id":2080996667,"node_id":"MDU6TGFiZWwyMDgwOTk2NjY3","url":"https://api.github.com/repos/beancount/beancount/labels/P0","name":"P0","color":"ff0000","default":false,"description":"Critical priority, breaking changes to current version"}],"state":"open","locked":false,"assignee":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"assignees":[{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false}],"milestone":null,"comments":2,"created_at":"2017-06-13T03:14:41Z","updated_at":"2021-05-02T12:11:59Z","closed_at":null,"author_association":"MEMBER","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"**[Original report](https://bitbucket.org/blais/beancount/issue/168) by Martin Blais (Bitbucket: [blais](https://bitbucket.org/blais), GitHub: [blais](https://github.com/blais)).**\n\n----------------------------------------\n\n2013-11-27 open Assets:AU:Coinjar:BTC  BTC \"FIFO\"\n2013-11-27 open Assets:AU:Coinjar:Cash AUD\n2013-11-27 open Assets:AU:ColdStorage:BTC BTC\n\n2013-11-27 * \"Buy BTC\"\n  Assets:AU:Coinjar:BTC                         0.14161 BTC {1059.247228303085940258456324 AUD}\n  Assets:AU:Coinjar:Cash                     -150.00 AUD\n\n2013-11-29 * \"Buy BTC\"\n  Assets:AU:Coinjar:BTC                         0.118776 BTC {1262.881390179834309961608406 AUD}\n  Assets:AU:Coinjar:Cash                     -150.00 AUD\n\n2013-12-10 * \"Buy BTC\"\n  Assets:AU:Coinjar:BTC                         0.149156 BTC {1005.658505189197886776261096 AUD}\n  Assets:AU:Coinjar:Cash                     -150.00 AUD\n\n2013-12-17 * \"Buy BTC\"\n  Assets:AU:Coinjar:BTC                         0.673358 BTC {742.5470552068884605217432629 AUD}\n  Assets:AU:Coinjar:Cash                     -500.00 AUD\n\n2013-12-19 * \"Buy BTC\"\n  Assets:AU:Coinjar:BTC                         0.230398 BTC {651.0473181190808947994340229 AUD}\n  Assets:AU:Coinjar:Cash                     -150.00 AUD\n\n2014-01-05 * \"Deposit Cold storage\"\n  Assets:AU:ColdStorage:BTC                     1.0 BTC\n  Assets:AU:Coinjar:BTC                        -1.0 BTC {}\n","closed_by":null,"reactions":{"url":"https://api.github.com/repos/beancount/beancount/issues/168/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beancount/issues/168/timeline","performed_via_github_app":null,"state_reason":null},{"url":"https://api.github.com/repos/beancount/beancount/issues/167","repository_url":"https://api.github.com/repos/beancount/beancount","labels_url":"https://api.github.com/repos/beancount/beancount/issues/167/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beancount/issues/167/comments","events_url":"https://api.github.com/repos/beancount/beancount/issues/167/events","html_url":"https://github.com/beancount/beancount/issues/167","id":623371868,"node_id":"MDU6SXNzdWU2MjMzNzE4Njg=","number":167,"title":"Reductions without a cost basis should fail against a balance in the same currency with a cost basis","user":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":2080914000,"node_id":"MDU6TGFiZWwyMDgwOTE0MDAw","url":"https://api.github.com/repos/beancount/beancount/labels/BUG","name":"BUG","color":"cc99cc","default":false,"description":"This is a bug, not a feature request; something isn't working."},{"id":2080995603,"node_id":"MDU6TGFiZWwyMDgwOTk1NjAz","url":"https://api.github.com/repos/beancount/beancount/labels/core-ops","name":"core-ops","color":"ededed","default":false,"description":"Component: Core data structures and stream ops"},{"id":2080996667,"node_id":"MDU6TGFiZWwyMDgwOTk2NjY3","url":"https://api.github.com/repos/beancount/beancount/labels/P0","name":"P0","color":"ff0000","default":false,"description":"Critical priority, breaking changes to current version"}],"state":"open","locked":false,"assignee":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"assignees":[{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false}],"milestone":null,"comments":0,"created_at":"2017-06-13T03:13:16Z","updated_at":"2020-09-09T14:43:37Z","closed_at":null,"author_association":"MEMBER","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"**[Original report](https://bitbucket.org/blais/beancount/issue/167) by Martin Blais (Bitbucket: [blais](https://bitbucket.org/blais), GitHub: [blais](https://github.com/blais)).**\n\n----------------------------------------\n\n2013-11-27 open Assets:AU:Coinjar:BTC  BTC\n2013-11-27 open Assets:AU:Coinjar:Cash AUD\n2013-11-27 open Assets:AU:ColdStorage:BTC BTC\n\n2013-11-27 * \"Buy BTC\"\n  Assets:AU:Coinjar:BTC                         0.14161 BTC {1059.247228303085940258456324 AUD}\n  Assets:AU:Coinjar:Cash                     -150.00 AUD\n\n2013-11-29 * \"Buy BTC\"\n  Assets:AU:Coinjar:BTC                         0.118776 BTC {1262.881390179834309961608406 AUD}\n  Assets:AU:Coinjar:Cash                     -150.00 AUD\n\n2013-12-10 * \"Buy BTC\"\n  Assets:AU:Coinjar:BTC                         0.149156 BTC {1005.658505189197886776261096 AUD}\n  Assets:AU:Coinjar:Cash                     -150.00 AUD\n\n2013-12-17 * \"Buy BTC\"\n  Assets:AU:Coinjar:BTC                         0.673358 BTC {742.5470552068884605217432629 AUD}\n  Assets:AU:Coinjar:Cash                     -500.00 AUD\n\n2013-12-19 * \"Buy BTC\"\n  Assets:AU:Coinjar:BTC                         0.230398 BTC {651.0473181190808947994340229 AUD}\n  Assets:AU:Coinjar:Cash                     -150.00 AUD\n\n2014-01-05 * \"Deposit Cold storage\"\n  Assets:AU:ColdStorage:BTC                     1.0 BTC\n  Assets:AU:Coinjar:BTC                        -1.0 BTC\n","closed_by":null,"reactions":{"url":"https://api.github.com/repos/beancount/beancount/issues/167/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beancount/issues/167/timeline","performed_via_github_app":null,"state_reason":null},{"url":"https://api.github.com/repos/beancount/beancount/issues/166","repository_url":"https://api.github.com/repos/beancount/beancount","labels_url":"https://api.github.com/repos/beancount/beancount/issues/166/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beancount/issues/166/comments","events_url":"https://api.github.com/repos/beancount/beancount/issues/166/events","html_url":"https://github.com/beancount/beancount/issues/166","id":623371849,"node_id":"MDU6SXNzdWU2MjMzNzE4NDk=","number":166,"title":"Inconsistent rendering of decimal numbers","user":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":2080914000,"node_id":"MDU6TGFiZWwyMDgwOTE0MDAw","url":"https://api.github.com/repos/beancount/beancount/labels/BUG","name":"BUG","color":"cc99cc","default":false,"description":"This is a bug, not a feature request; something isn't working."},{"id":2080994022,"node_id":"MDU6TGFiZWwyMDgwOTk0MDIy","url":"https://api.github.com/repos/beancount/beancount/labels/P2","name":"P2","color":"ffaaaa","default":false,"description":"Low priority, addressing would result in useful improvements"},{"id":2080996004,"node_id":"MDU6TGFiZWwyMDgwOTk2MDA0","url":"https://api.github.com/repos/beancount/beancount/labels/reports","name":"reports","color":"ededed","default":false,"description":"Component: Canned reports"}],"state":"open","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":2,"created_at":"2017-05-03T16:05:05Z","updated_at":"2020-05-23T13:45:10Z","closed_at":null,"author_association":"MEMBER","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"**[Original report](https://bitbucket.org/blais/beancount/issue/166) by Limbo Peng (Bitbucket: [iwinux](https://bitbucket.org/iwinux), GitHub: [iwinux](https://github.com/iwinux)).**\n\n----------------------------------------\n\n## Description\n\nThe output of `bean-report` renders decimal numbers inconsistently when a beancount file is included in another.\n\n## Environment\n\n* Python 3.5.1\n* beancount 2.0rc1\n\n## Normal Rendering\n\n```\n; test1.beancount\noption \"operating_currency\" \"CNY\"\n\n2017-01-01 open Equity:OpeningBalances\n2017-01-01 open Assets:Cash\n\n2017-05-02 pad Assets:Cash Equity:OpeningBalances\n2017-05-03 balance Assets:Cash 100.01 CNY\n```\n\n```sh\n$ bean-report test.beancount bal\nAssets:Cash              100.01 CNY\nEquity:OpeningBalances  -100.01 CNY\nExpenses\nIncome\nLiabilities\n```\n\n## Weird Rendering in Included File\n\n```\n; test2a.beancount\noption \"operating_currency\" \"CNY\"\ninclude \"test2b.beancount\"\n```\n\n```\n; test2b.beancount\n2017-01-01 open Equity:OpeningBalances\n2017-01-01 open Assets:Cash\n\n2017-05-02 pad Assets:Cash Equity:OpeningBalances\n2017-05-03 balance Assets:Cash 100.01 CNY\n```\n\n```sh\n$ bean-report test.beancount bal\nAssets:Cash            100.01000000 CNY\nEquity:OpeningBalances -100.01000000 CNY\nExpenses\nIncome\nLiabilities\n```\n","closed_by":null,"reactions":{"url":"https://api.github.com/repos/beancount/beancount/issues/166/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beancount/issues/166/timeline","performed_via_github_app":null,"state_reason":null},{"url":"https://api.github.com/repos/beancount/beancount/issues/165","repository_url":"https://api.github.com/repos/beancount/beancount","labels_url":"https://api.github.com/repos/beancount/beancount/issues/165/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beancount/issues/165/comments","events_url":"https://api.github.com/repos/beancount/beancount/issues/165/events","html_url":"https://github.com/beancount/beancount/issues/165","id":623371828,"node_id":"MDU6SXNzdWU2MjMzNzE4Mjg=","number":165,"title":"Bug in interpolation","user":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":2080914000,"node_id":"MDU6TGFiZWwyMDgwOTE0MDAw","url":"https://api.github.com/repos/beancount/beancount/labels/BUG","name":"BUG","color":"cc99cc","default":false,"description":"This is a bug, not a feature request; something isn't working."},{"id":2080994022,"node_id":"MDU6TGFiZWwyMDgwOTk0MDIy","url":"https://api.github.com/repos/beancount/beancount/labels/P2","name":"P2","color":"ffaaaa","default":false,"description":"Low priority, addressing would result in useful improvements"},{"id":2081004612,"node_id":"MDU6TGFiZWwyMDgxMDA0NjEy","url":"https://api.github.com/repos/beancount/beancount/labels/booking","name":"booking","color":"ededed","default":false,"description":"Component: Booking algorithms"}],"state":"open","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":1,"created_at":"2017-04-21T16:19:42Z","updated_at":"2018-04-18T05:10:53Z","closed_at":null,"author_association":"MEMBER","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"**[Original report](https://bitbucket.org/blais/beancount/issue/165) by Martin Blais (Bitbucket: [blais](https://bitbucket.org/blais), GitHub: [blais](https://github.com/blais)).**\n\n----------------------------------------\n\n2017-04-01 * \"Train tickets\"\n        Liabilities:CreditCard     -230.00 USD\n        Expenses:Trains       230.00 USD\n        Assets:Points     150 AMTKPTS\n        Income:Rewards  -150\n","closed_by":null,"reactions":{"url":"https://api.github.com/repos/beancount/beancount/issues/165/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beancount/issues/165/timeline","performed_via_github_app":null,"state_reason":null},{"url":"https://api.github.com/repos/beancount/beancount/issues/164","repository_url":"https://api.github.com/repos/beancount/beancount","labels_url":"https://api.github.com/repos/beancount/beancount/issues/164/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beancount/issues/164/comments","events_url":"https://api.github.com/repos/beancount/beancount/issues/164/events","html_url":"https://github.com/beancount/beancount/issues/164","id":623371815,"node_id":"MDU6SXNzdWU2MjMzNzE4MTU=","number":164,"title":"infer_tolerance_from_cost broken","user":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":2080914000,"node_id":"MDU6TGFiZWwyMDgwOTE0MDAw","url":"https://api.github.com/repos/beancount/beancount/labels/BUG","name":"BUG","color":"cc99cc","default":false,"description":"This is a bug, not a feature request; something isn't working."},{"id":2080994777,"node_id":"MDU6TGFiZWwyMDgwOTk0Nzc3","url":"https://api.github.com/repos/beancount/beancount/labels/P1","name":"P1","color":"ff6666","default":false,"description":"High priority, not breaking but hindering or lessening existing functionality"}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":2,"created_at":"2017-04-18T17:04:07Z","updated_at":"2017-04-20T12:42:12Z","closed_at":"2017-04-20T12:42:12Z","author_association":"MEMBER","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"**[Original report](https://bitbucket.org/blais/beancount/issue/164) by Jeremy Maitin-Shepard (Bitbucket: [jbms](https://bitbucket.org/jbms), GitHub: [jbms](https://github.com/jbms)).**\n\n----------------------------------------\n\nSome of the booking changes seem to have broken the infer_tolerance_from_cost option: it results in:\n\n  File \"beancount/src/python/beancount/core/interpolate.py\", line 209, in infer_tolerances\n    cost_tolerance = min(tolerance * cost_number, cost_tolerance)\nTypeError: unsupported operand type(s) for *: 'decimal.Decimal' and 'type'\n\nbecause cost_number is the special MISSING value.\n\nThe attached trivial patch seems to fix it.\n","closed_by":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/beancount/beancount/issues/164/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beancount/issues/164/timeline","performed_via_github_app":null,"state_reason":"completed"},{"url":"https://api.github.com/repos/beancount/beancount/issues/163","repository_url":"https://api.github.com/repos/beancount/beancount","labels_url":"https://api.github.com/repos/beancount/beancount/issues/163/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beancount/issues/163/comments","events_url":"https://api.github.com/repos/beancount/beancount/issues/163/events","html_url":"https://github.com/beancount/beancount/issues/163","id":623371794,"node_id":"MDU6SXNzdWU2MjMzNzE3OTQ=","number":163,"title":"Allow reducing positions just added in the same transaction (was: Position tracking regression)","user":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":2080914000,"node_id":"MDU6TGFiZWwyMDgwOTE0MDAw","url":"https://api.github.com/repos/beancount/beancount/labels/BUG","name":"BUG","color":"cc99cc","default":false,"description":"This is a bug, not a feature request; something isn't working."},{"id":2080994777,"node_id":"MDU6TGFiZWwyMDgwOTk0Nzc3","url":"https://api.github.com/repos/beancount/beancount/labels/P1","name":"P1","color":"ff6666","default":false,"description":"High priority, not breaking but hindering or lessening existing functionality"},{"id":2081004612,"node_id":"MDU6TGFiZWwyMDgxMDA0NjEy","url":"https://api.github.com/repos/beancount/beancount/labels/booking","name":"booking","color":"ededed","default":false,"description":"Component: Booking algorithms"}],"state":"open","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":3,"created_at":"2017-04-16T18:12:37Z","updated_at":"2018-04-18T04:58:48Z","closed_at":null,"author_association":"MEMBER","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"**[Original report](https://bitbucket.org/blais/beancount/issue/163) by Rob Smith (Bitbucket: [robsmith11](https://bitbucket.org/robsmith11), GitHub: [robsmith11](https://github.com/robsmith11)).**\n\n----------------------------------------\n\nAfter loading my file with beancount-2.0b15, I noticed a few errors related to position tracking.  My beancount file had worked fine when I used it with the latest version a few months ago.\n\nI've created a minimal reproducible example.  The problem goes away if I remove either:\n\n1) The starting balance, or\n\n2) The shares withheld for taxes.\n\n```\n2014-12-31 open Assets:MorganStanley:RSU\n2014-12-31 open Equity:Opening-Balances\n2014-12-31 open Expenses:Taxes:Y2015:Federal\n2014-12-31 open Income:Employer:RSU\n\n2014-12-31 * \"Opening Balance\"\n  Assets:MorganStanley:RSU          350 AAPL {95.23 USD}\n  Equity:Opening-Balances\n\n2015-01-31 * \"RSU Vesting\"\n  Income:Employer:RSU          -5000.00 USD\n  Assets:MorganStanley:RSU           50 AAPL {100.00 USD}\n  Assets:MorganStanley:RSU           -5 AAPL {100.00 USD}\n  Expenses:Taxes:Y2015:Federal   500.00 USD\n```\n\nError:\n```\nbean-check test.beancount\n/tmp/test.beancount:12:      No position matches \"Posting(account='Assets:MorganStanley:RSU', units=-5 AAPL, cost=CostSpec(number_per=Decimal('100\\\n.00'), number_total=None, currency='USD', date=None, label=None, merge=False), price=None, flag=None, meta={'filename': '/tmp/test.beancount', 'li\\\nneno': 15})\" against balance (350 AAPL {95.23 USD, 2014-12-31})\n\n   2015-01-31 * \"RSU Vesting\"\n     Income:Employer:RSU           -5000.00 USD\n     Assets:MorganStanley:RSU            50 AAPL {100.00 USD}\n     Assets:MorganStanley:RSU            -5 AAPL {100.00 USD}\n     Expenses:Taxes:Y2015:Federal    500.00 USD\n```\n","closed_by":null,"reactions":{"url":"https://api.github.com/repos/beancount/beancount/issues/163/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beancount/issues/163/timeline","performed_via_github_app":null,"state_reason":null},{"url":"https://api.github.com/repos/beancount/beancount/issues/162","repository_url":"https://api.github.com/repos/beancount/beancount","labels_url":"https://api.github.com/repos/beancount/beancount/issues/162/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beancount/issues/162/comments","events_url":"https://api.github.com/repos/beancount/beancount/issues/162/events","html_url":"https://github.com/beancount/beancount/issues/162","id":623371772,"node_id":"MDU6SXNzdWU2MjMzNzE3NzI=","number":162,"title":"Include src/elisp/beancount.el in package","user":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":2080994777,"node_id":"MDU6TGFiZWwyMDgwOTk0Nzc3","url":"https://api.github.com/repos/beancount/beancount/labels/P1","name":"P1","color":"ff6666","default":false,"description":"High priority, not breaking but hindering or lessening existing functionality"}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":3,"created_at":"2017-04-16T03:47:57Z","updated_at":"2017-04-16T23:41:58Z","closed_at":"2017-04-16T23:41:58Z","author_association":"MEMBER","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"**[Original report](https://bitbucket.org/blais/beancount/issue/162) by Rob Smith (Bitbucket: [robsmith11](https://bitbucket.org/robsmith11), GitHub: [robsmith11](https://github.com/robsmith11)).**\n\n----------------------------------------\n\nIs there any reason the emacs mode isn't included when building the package?  It would be nice to have it in the tarball so that distros can easily install the emacs mode if desired, without having to download it somewhere else.\n","closed_by":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/beancount/beancount/issues/162/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beancount/issues/162/timeline","performed_via_github_app":null,"state_reason":"completed"},{"url":"https://api.github.com/repos/beancount/beancount/issues/161","repository_url":"https://api.github.com/repos/beancount/beancount","labels_url":"https://api.github.com/repos/beancount/beancount/issues/161/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beancount/issues/161/comments","events_url":"https://api.github.com/repos/beancount/beancount/issues/161/events","html_url":"https://github.com/beancount/beancount/issues/161","id":623371748,"node_id":"MDU6SXNzdWU2MjMzNzE3NDg=","number":161,"title":"Unicode support","user":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":2080914000,"node_id":"MDU6TGFiZWwyMDgwOTE0MDAw","url":"https://api.github.com/repos/beancount/beancount/labels/BUG","name":"BUG","color":"cc99cc","default":false,"description":"This is a bug, not a feature request; something isn't working."},{"id":2080994777,"node_id":"MDU6TGFiZWwyMDgwOTk0Nzc3","url":"https://api.github.com/repos/beancount/beancount/labels/P1","name":"P1","color":"ff6666","default":false,"description":"High priority, not breaking but hindering or lessening existing functionality"},{"id":2080995647,"node_id":"MDU6TGFiZWwyMDgwOTk1NjQ3","url":"https://api.github.com/repos/beancount/beancount/labels/parser-loader","name":"parser-loader","color":"ededed","default":false,"description":"Component: Parser and loader"},{"id":2082671637,"node_id":"MDU6TGFiZWwyMDgyNjcxNjM3","url":"https://api.github.com/repos/beancount/beancount/labels/V3","name":"V3","color":"1762b2","default":false,"description":"Issues that will be addressed in the V3 C++ rewrite."}],"state":"open","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":2,"created_at":"2017-03-12T23:30:50Z","updated_at":"2020-06-27T18:31:32Z","closed_at":null,"author_association":"MEMBER","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"**[Original report](https://bitbucket.org/blais/beancount/issue/161) by rutsky (Bitbucket: [rutsky](https://bitbucket.org/rutsky), GitHub: [rutsky](https://github.com/rutsky)).**\n\n----------------------------------------\n\nI believe this issue arised [several](https://groups.google.com/d/msg/ledger-cli/C6GOOj8kGtQ/6pGThn3DRTIJ) [times](https://groups.google.com/d/msg/beancount/vVzzfE3m_ow/usM6Ft6-zi0J), but haven't found ticket for it with information about current status and plans.\n\nFor example, I want to have account name with Unicode characters in it. As I see beancount currently doesn't support that:\n\n```\n$ cat test2.beancount \noption \"operating_currency\" \"RUB\"\n\n2014-01-31 open Assets:Imbalance-RUB                            RUB\n2014-01-31 open Assets:Orphan-RUB                               RUB\n2014-01-31 open Assets:Активы                                   RUB\n$ bean-check test2.beancount \n/home/bob/stuff/money/test2.beancount:5:       Invalid token: 'Assets:Активы'\n$ pip list | grep beancount\nbeancount (2.0b15)\n```\n\nI'm trying to switch from Gnucash to Beancount (with [gnucash-to-beancount](https://github.com/henriquebastos/gnucash-to-beancount) converter tool), and limiting account names to ASCII is a showstopper for me.\n\nWhat is the current status of Unicode support (in account names and other entities)?\n\nWhat are the plans to support Unicode everywhere?\n\nMaybe there are known workarounds?\n","closed_by":null,"reactions":{"url":"https://api.github.com/repos/beancount/beancount/issues/161/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beancount/issues/161/timeline","performed_via_github_app":null,"state_reason":null},{"url":"https://api.github.com/repos/beancount/beancount/issues/160","repository_url":"https://api.github.com/repos/beancount/beancount","labels_url":"https://api.github.com/repos/beancount/beancount/issues/160/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beancount/issues/160/comments","events_url":"https://api.github.com/repos/beancount/beancount/issues/160/events","html_url":"https://github.com/beancount/beancount/issues/160","id":623371727,"node_id":"MDU6SXNzdWU2MjMzNzE3Mjc=","number":160,"title":"Is it possible to combine the \"balance\" column with aggregate functions?","user":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":2080914000,"node_id":"MDU6TGFiZWwyMDgwOTE0MDAw","url":"https://api.github.com/repos/beancount/beancount/labels/BUG","name":"BUG","color":"cc99cc","default":false,"description":"This is a bug, not a feature request; something isn't working."},{"id":2080994061,"node_id":"MDU6TGFiZWwyMDgwOTk0MDYx","url":"https://api.github.com/repos/beancount/beancount/labels/P3","name":"P3","color":"FFdddd","default":false,"description":"Very low priority, nice to have"},{"id":2080994252,"node_id":"MDU6TGFiZWwyMDgwOTk0MjUy","url":"https://api.github.com/repos/beancount/beancount/labels/query-sql","name":"query-sql","color":"ededed","default":false,"description":"Component: SQL query engine"}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":1,"created_at":"2017-03-03T17:58:42Z","updated_at":"2017-03-11T04:41:53Z","closed_at":"2017-03-11T04:41:53Z","author_association":"MEMBER","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"**[Original report](https://bitbucket.org/blais/beancount/issue/160) by Jonatan Kornholt (Bitbucket: [jonatank](https://bitbucket.org/jonatank), GitHub: [jonatank](https://github.com/jonatank)).**\n\n----------------------------------------\n\nI have tried to create a beancount-query to show the increase in net worth per month and the total net worth in one query. But it doesn't seem like I can combine the sum function with the balance function:\n\nSELECT year(date) as year, month, sum(value(position)) as NetIncrease, balance as NetWorth\nWHERE account ~ 'Assets|Liabilities'\nAND not account ~ 'Pension'\nGROUP BY year, month\nORDER by year, month\n\nThis returns:\n\n> \"All non-aggregates must be covered by GROUP-BY clause in aggregate query.\"\n\nIf I then add:\n\nGROUP BY year, month, NetWorth\n\nThen the Fava website returns:\n\n> \"The server encountered an internal error and was unable to complete your request. Either the server is overloaded or there is an error in the application.\"\n\nI first posted this issue in bean-count-sql-queries and aumayr suggested I posted here instead. He also supplied the following stacktrace:\n\n```\n#!python\n\nTraceback (most recent call last):\n  File \"/usr/local/Cellar/python3/3.6.0/Frameworks/Python.framework/Versions/3.6/lib/python3.6/cmd.py\", line 214, in onecmd\n    func = getattr(self, 'do_' + cmd)\nAttributeError: 'QueryShell' object has no attribute 'do_SELECT'\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File \"/Users/dominik/Projects/beancount/beancount/src/python/beancount/query/shell.py\", line 258, in run_parser\n    self.dispatch(statement)\n  File \"/Users/dominik/Projects/beancount/beancount/src/python/beancount/query/shell.py\", line 238, in dispatch\n    return method(statement)\n  File \"/Users/dominik/Projects/beancount/fava/fava/core/query_shell.py\", line 83, in on_Select\n    self.options_map)\n  File \"/Users/dominik/Projects/beancount/beancount/src/python/beancount/query/query_execute.py\", line 288, in execute_query\n    store = agg_store[row_key]\nTypeError: unhashable type: 'Inventory'\n```\n\nIs it possible to combine sum and balance to produce the result I want?\n","closed_by":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/beancount/beancount/issues/160/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beancount/issues/160/timeline","performed_via_github_app":null,"state_reason":"completed"},{"url":"https://api.github.com/repos/beancount/beancount/issues/159","repository_url":"https://api.github.com/repos/beancount/beancount","labels_url":"https://api.github.com/repos/beancount/beancount/issues/159/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beancount/issues/159/comments","events_url":"https://api.github.com/repos/beancount/beancount/issues/159/events","html_url":"https://github.com/beancount/beancount/issues/159","id":623371700,"node_id":"MDU6SXNzdWU2MjMzNzE3MDA=","number":159,"title":"Windows Cygwin Install Issue - Insufficient Python version; you need v3.5 or higher.","user":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":2080914000,"node_id":"MDU6TGFiZWwyMDgwOTE0MDAw","url":"https://api.github.com/repos/beancount/beancount/labels/BUG","name":"BUG","color":"cc99cc","default":false,"description":"This is a bug, not a feature request; something isn't working."},{"id":2080994777,"node_id":"MDU6TGFiZWwyMDgwOTk0Nzc3","url":"https://api.github.com/repos/beancount/beancount/labels/P1","name":"P1","color":"ff6666","default":false,"description":"High priority, not breaking but hindering or lessening existing functionality"},{"id":2081006036,"node_id":"MDU6TGFiZWwyMDgxMDA2MDM2","url":"https://api.github.com/repos/beancount/beancount/labels/portability","name":"portability","color":"ededed","default":false,"description":"Component: Portability issues"}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":3,"created_at":"2017-02-23T15:26:45Z","updated_at":"2018-04-18T05:05:28Z","closed_at":"2018-04-18T05:05:28Z","author_association":"MEMBER","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"**[Original report](https://bitbucket.org/blais/beancount/issue/159) by Chris Weber (Bitbucket: [xybits](https://bitbucket.org/xybits), GitHub: [xybits](https://github.com/xybits)).**\n\n----------------------------------------\n\nWhen following the instructions for a windows install with Python, I ran into this error message:\n\n\n```\n#!python\n\n$ pip3 install beancount\nCollecting beancount\n  Downloading beancount-2.0b15.tar.gz (554kB)\n    100% |████████████████████████████████| 563kB 1.3MB/s\n    Complete output from command python setup.py egg_info:\n    ERROR: Insufficient Python version; you need v3.5 or higher.\n```\n\n\nApparently cygwin does not yet have python 3.5 available but the latest (only?) release on pypi requires 3.5.\n\nI'm running cygwin x64 on Windows 10. It comes with Python 3.4.5. I'm not sure if the 32 bit version would have the updated Python or not. \n\nThis is probably outside of the scope of what can be fix in the Beancount project but maybe we can update the documentation with this issue? I'd hate to have others waste their time trying to install cygwin + beancount if it's currently not going to work anyway.\n","closed_by":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/beancount/beancount/issues/159/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beancount/issues/159/timeline","performed_via_github_app":null,"state_reason":"completed"},{"url":"https://api.github.com/repos/beancount/beancount/issues/158","repository_url":"https://api.github.com/repos/beancount/beancount","labels_url":"https://api.github.com/repos/beancount/beancount/issues/158/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beancount/issues/158/comments","events_url":"https://api.github.com/repos/beancount/beancount/issues/158/events","html_url":"https://github.com/beancount/beancount/issues/158","id":623371666,"node_id":"MDU6SXNzdWU2MjMzNzE2NjY=","number":158,"title":"OFX/QFX files with with all tags on one line are not imported","user":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":2080914000,"node_id":"MDU6TGFiZWwyMDgwOTE0MDAw","url":"https://api.github.com/repos/beancount/beancount/labels/BUG","name":"BUG","color":"cc99cc","default":false,"description":"This is a bug, not a feature request; something isn't working."},{"id":2080994777,"node_id":"MDU6TGFiZWwyMDgwOTk0Nzc3","url":"https://api.github.com/repos/beancount/beancount/labels/P1","name":"P1","color":"ff6666","default":false,"description":"High priority, not breaking but hindering or lessening existing functionality"}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":7,"created_at":"2017-02-03T13:56:00Z","updated_at":"2018-10-13T19:23:48Z","closed_at":"2018-04-18T05:11:39Z","author_association":"MEMBER","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"**[Original report](https://bitbucket.org/blais/beancount/issue/158) by scanta2 (Bitbucket: [scanta2](https://bitbucket.org/scanta2), GitHub: [scanta2](https://github.com/scanta2)).**\n\n----------------------------------------\n\nI am using bean-extract to read transactions from a variety of institutions in the US (i.e. Chase, Citi, my credit union, etc), but it does not work for Amex and Vanguard. The difference that I saw is that the ofx tags are separated on multiple lines for those institutions for which import works, while they are all on one line for Amex and Vanguard.\n","closed_by":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/beancount/beancount/issues/158/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beancount/issues/158/timeline","performed_via_github_app":null,"state_reason":"completed"},{"url":"https://api.github.com/repos/beancount/beancount/issues/157","repository_url":"https://api.github.com/repos/beancount/beancount","labels_url":"https://api.github.com/repos/beancount/beancount/issues/157/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beancount/issues/157/comments","events_url":"https://api.github.com/repos/beancount/beancount/issues/157/events","html_url":"https://github.com/beancount/beancount/issues/157","id":623371647,"node_id":"MDU6SXNzdWU2MjMzNzE2NDc=","number":157,"title":"bean-web crashes on prices that are zero.","user":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":2080914000,"node_id":"MDU6TGFiZWwyMDgwOTE0MDAw","url":"https://api.github.com/repos/beancount/beancount/labels/BUG","name":"BUG","color":"cc99cc","default":false,"description":"This is a bug, not a feature request; something isn't working."},{"id":2080994777,"node_id":"MDU6TGFiZWwyMDgwOTk0Nzc3","url":"https://api.github.com/repos/beancount/beancount/labels/P1","name":"P1","color":"ff6666","default":false,"description":"High priority, not breaking but hindering or lessening existing functionality"}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":5,"created_at":"2017-01-29T23:01:07Z","updated_at":"2018-04-18T04:31:28Z","closed_at":"2018-04-18T04:31:28Z","author_association":"MEMBER","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"**[Original report](https://bitbucket.org/blais/beancount/issue/157) by Andrew Stein (Bitbucket: [AndrewStein9](https://bitbucket.org/AndrewStein9)).**\n\n----------------------------------------\n\nI have some prices that are zero in the beancount file. For example:\n```\n2011-09-14 price MCMXX                                 0 MCMXX\n```\n\n`bean-web` crashes when processing these.\n\nThis is the stack trace\n```\nTraceback (most recent call last):\n  File \"/usr/local/bin/bottle.py\", line 862, in _handle\n    return route.call(**args)\n  File \"/usr/local/bin/bottle.py\", line 1740, in wrapper\n    rv = callback(*a, **ka)\n  File \"/usr/local/lib/python3.6/site-packages/beancount-2.0b13-py3.6-macosx-10.12-x86_64.egg/beancount/web/web.py\", line 1030, in wrapper\n    app.price_map = prices.build_price_map(entries)\n  File \"/usr/local/lib/python3.6/site-packages/beancount-2.0b13-py3.6-macosx-10.12-x86_64.egg/beancount/ops/prices.py\", line 116, in build_price_map\n    for (date, rate) in remove_list]\n  File \"/usr/local/lib/python3.6/site-packages/beancount-2.0b13-py3.6-macosx-10.12-x86_64.egg/beancount/ops/prices.py\", line 116, in <listcomp>\n    for (date, rate) in remove_list]\ndecimal.DivisionByZero: [<class 'decimal.DivisionByZero'>]\n127.0.0.1 - - [29/Jan/2017 16:43:05] \"GET / HTTP/1.1\" 500 741\n```\n","closed_by":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/beancount/beancount/issues/157/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beancount/issues/157/timeline","performed_via_github_app":null,"state_reason":"completed"},{"url":"https://api.github.com/repos/beancount/beancount/issues/156","repository_url":"https://api.github.com/repos/beancount/beancount","labels_url":"https://api.github.com/repos/beancount/beancount/issues/156/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beancount/issues/156/comments","events_url":"https://api.github.com/repos/beancount/beancount/issues/156/events","html_url":"https://github.com/beancount/beancount/issues/156","id":623371629,"node_id":"MDU6SXNzdWU2MjMzNzE2Mjk=","number":156,"title":"Internal error (to do with sorting/serializing)","user":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":2080914000,"node_id":"MDU6TGFiZWwyMDgwOTE0MDAw","url":"https://api.github.com/repos/beancount/beancount/labels/BUG","name":"BUG","color":"cc99cc","default":false,"description":"This is a bug, not a feature request; something isn't working."},{"id":2080994022,"node_id":"MDU6TGFiZWwyMDgwOTk0MDIy","url":"https://api.github.com/repos/beancount/beancount/labels/P2","name":"P2","color":"ffaaaa","default":false,"description":"Low priority, addressing would result in useful improvements"},{"id":2080995603,"node_id":"MDU6TGFiZWwyMDgwOTk1NjAz","url":"https://api.github.com/repos/beancount/beancount/labels/core-ops","name":"core-ops","color":"ededed","default":false,"description":"Component: Core data structures and stream ops"}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":1,"created_at":"2017-01-19T04:44:33Z","updated_at":"2017-09-24T21:27:28Z","closed_at":"2017-09-24T21:27:27Z","author_association":"MEMBER","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"**[Original report](https://bitbucket.org/blais/beancount/issue/156) by Martin Blais (Bitbucket: [blais](https://bitbucket.org/blais), GitHub: [blais](https://github.com/blais)).**\n\n----------------------------------------\n\nThis is an error in Beancount (although Fava could handle it better and still render the page).\n\n@blais: In this line (where Beancount renders the DisplayContext to a string) it tries to sort the dict of currencies to _CurrencyContexts. That's fine if all the currencies are strings, but in this case a _CurrencyContext for beancount.core.number.MISSING has been generated which causes the TypeErrror as the index is of type type and not str. Either DisplayContext.__str__ should handle this case or this _CurrencyContext should be prevented from being created in the first place.\n\n—\nYou are receiving this because you were mentioned.\nReply to this email directly, view it on GitHub, or mute the thread.\n\n\n\nhttps://github.com/beancount/fava/issues/472#issuecomment-273048476\n","closed_by":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/beancount/beancount/issues/156/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beancount/issues/156/timeline","performed_via_github_app":null,"state_reason":"completed"},{"url":"https://api.github.com/repos/beancount/beancount/issues/155","repository_url":"https://api.github.com/repos/beancount/beancount","labels_url":"https://api.github.com/repos/beancount/beancount/issues/155/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beancount/issues/155/comments","events_url":"https://api.github.com/repos/beancount/beancount/issues/155/events","html_url":"https://github.com/beancount/beancount/issues/155","id":623371604,"node_id":"MDU6SXNzdWU2MjMzNzE2MDQ=","number":155,"title":"Use entry_points instead of scripts in setup.py","user":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":2080994777,"node_id":"MDU6TGFiZWwyMDgwOTk0Nzc3","url":"https://api.github.com/repos/beancount/beancount/labels/P1","name":"P1","color":"ff6666","default":false,"description":"High priority, not breaking but hindering or lessening existing functionality"}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":3,"created_at":"2017-01-17T09:39:20Z","updated_at":"2017-01-21T07:02:49Z","closed_at":"2017-01-21T07:02:49Z","author_association":"MEMBER","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"**[Original report](https://bitbucket.org/blais/beancount/issue/155) by rkhwaja (Bitbucket: [rkhwaja](https://bitbucket.org/rkhwaja), GitHub: [rkhwaja](https://github.com/rkhwaja)).**\n\n----------------------------------------\n\nOn windows, the install puts files named like \"bean-bake\" in the python scripts directory. To run these on windows you have to type:\npy.exe <<PYTHON_INSTALL_DIR>>\\scripts\\bean-bake\n\nIf you use entry_points, it will generate the right files for windows and others.\n","closed_by":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/beancount/beancount/issues/155/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beancount/issues/155/timeline","performed_via_github_app":null,"state_reason":"completed"},{"url":"https://api.github.com/repos/beancount/beancount/issues/154","repository_url":"https://api.github.com/repos/beancount/beancount","labels_url":"https://api.github.com/repos/beancount/beancount/issues/154/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beancount/issues/154/comments","events_url":"https://api.github.com/repos/beancount/beancount/issues/154/events","html_url":"https://github.com/beancount/beancount/issues/154","id":623371577,"node_id":"MDU6SXNzdWU2MjMzNzE1Nzc=","number":154,"title":"Distribute some wheels on pypi","user":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":2080994777,"node_id":"MDU6TGFiZWwyMDgwOTk0Nzc3","url":"https://api.github.com/repos/beancount/beancount/labels/P1","name":"P1","color":"ff6666","default":false,"description":"High priority, not breaking but hindering or lessening existing functionality"}],"state":"open","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":9,"created_at":"2017-01-12T09:42:12Z","updated_at":"2020-10-05T00:31:18Z","closed_at":null,"author_association":"MEMBER","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"**[Original report](https://bitbucket.org/blais/beancount/issue/154) by rkhwaja (Bitbucket: [rkhwaja](https://bitbucket.org/rkhwaja), GitHub: [rkhwaja](https://github.com/rkhwaja)).**\n\n----------------------------------------\n\nI'm particuarly interested in python 3.6 on windows\n","closed_by":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/beancount/beancount/issues/154/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beancount/issues/154/timeline","performed_via_github_app":null,"state_reason":null},{"url":"https://api.github.com/repos/beancount/beancount/issues/153","repository_url":"https://api.github.com/repos/beancount/beancount","labels_url":"https://api.github.com/repos/beancount/beancount/issues/153/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beancount/issues/153/comments","events_url":"https://api.github.com/repos/beancount/beancount/issues/153/events","html_url":"https://github.com/beancount/beancount/issues/153","id":623371545,"node_id":"MDU6SXNzdWU2MjMzNzE1NDU=","number":153,"title":"issue with bean-web since python update to 3.6","user":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":2080914000,"node_id":"MDU6TGFiZWwyMDgwOTE0MDAw","url":"https://api.github.com/repos/beancount/beancount/labels/BUG","name":"BUG","color":"cc99cc","default":false,"description":"This is a bug, not a feature request; something isn't working."},{"id":2080994777,"node_id":"MDU6TGFiZWwyMDgwOTk0Nzc3","url":"https://api.github.com/repos/beancount/beancount/labels/P1","name":"P1","color":"ff6666","default":false,"description":"High priority, not breaking but hindering or lessening existing functionality"}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":6,"created_at":"2017-01-08T21:07:06Z","updated_at":"2017-01-11T09:06:03Z","closed_at":"2017-01-11T09:06:03Z","author_association":"MEMBER","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"**[Original report](https://bitbucket.org/blais/beancount/issue/153) by jb M (Bitbucket: [jbbb](https://bitbucket.org/jbbb), GitHub: [jbbb](https://github.com/jbbb)).**\n\n----------------------------------------\n\nSince updating to python 3.6 (Arch Linux), I get a problem when using bean-web.\n\nIt fails and returns:\n\n\n```\n\nBottle v0.12.12 server starting up (using WSGIRefServer())...\nListening on http://localhost:8080/\nHit Ctrl-C to quit.\n\nTraceback (most recent call last):\n  File \"/usr/bin/bean-web\", line 2, in <module>\n    from beancount.web.web import main; main()\n  File \"/usr/lib/python3.6/site-packages/beancount/web/web.py\", line 1190, in main\n    run_app(args)\n  File \"/usr/lib/python3.6/site-packages/beancount/web/web.py\", line 1108, in run_app\n    quiet=args.quiet if hasattr(args, 'quiet') else quiet)\n  File \"/usr/bin/bottle.py\", line 755, in run\n    run(self, **kwargs)\n  File \"/usr/bin/bottle.py\", line 3127, in run\n    server.run(app)\n  File \"/usr/bin/bottle.py\", line 2781, in run\n    srv = make_server(self.host, self.port, app, server_cls, handler_cls)\n  File \"/usr/lib/python3.6/site-packages/beancount/web/web.py\", line 1131, in stealing_make_server\n    server = make_server(*args, **kw)\n  File \"/usr/lib/python3.6/wsgiref/simple_server.py\", line 153, in make_server\n    server = server_class((host, port), handler_class)\n  File \"/usr/lib/python3.6/socketserver.py\", line 453, in __init__\n    self.server_bind()\n  File \"/usr/lib/python3.6/wsgiref/simple_server.py\", line 50, in server_bind\n    HTTPServer.server_bind(self)\n  File \"/usr/lib/python3.6/http/server.py\", line 136, in server_bind\n    socketserver.TCPServer.server_bind(self)\n  File \"/usr/lib/python3.6/socketserver.py\", line 467, in server_bind\n    self.socket.bind(self.server_address)\n\n```\n\nAny ideas ?\n","closed_by":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/beancount/beancount/issues/153/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beancount/issues/153/timeline","performed_via_github_app":null,"state_reason":"completed"},{"url":"https://api.github.com/repos/beancount/beancount/issues/151","repository_url":"https://api.github.com/repos/beancount/beancount","labels_url":"https://api.github.com/repos/beancount/beancount/issues/151/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beancount/issues/151/comments","events_url":"https://api.github.com/repos/beancount/beancount/issues/151/events","html_url":"https://github.com/beancount/beancount/issues/151","id":623371484,"node_id":"MDU6SXNzdWU2MjMzNzE0ODQ=","number":151,"title":"Expand includes for sources in bean-web","user":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":2080994022,"node_id":"MDU6TGFiZWwyMDgwOTk0MDIy","url":"https://api.github.com/repos/beancount/beancount/labels/P2","name":"P2","color":"ffaaaa","default":false,"description":"Low priority, addressing would result in useful improvements"},{"id":2080994900,"node_id":"MDU6TGFiZWwyMDgwOTk0OTAw","url":"https://api.github.com/repos/beancount/beancount/labels/web","name":"web","color":"ededed","default":false,"description":"Component: bean-web built-in server"}],"state":"open","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":0,"created_at":"2017-01-03T22:49:04Z","updated_at":"2020-05-23T13:15:46Z","closed_at":null,"author_association":"MEMBER","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"**[Original report](https://bitbucket.org/blais/beancount/issue/151) by Chad Whitacre (Bitbucket: [chadwhitacre](https://bitbucket.org/chadwhitacre), GitHub: [chadwhitacre](https://github.com/chadwhitacre)).**\n\n----------------------------------------\n\nGreetings! We're using `include` in our Beancount implementation, and it would be swell to have these expand in source view in `bean-web`. Thanks for considering! :-)\n","closed_by":null,"reactions":{"url":"https://api.github.com/repos/beancount/beancount/issues/151/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beancount/issues/151/timeline","performed_via_github_app":null,"state_reason":null},{"url":"https://api.github.com/repos/beancount/beancount/issues/150","repository_url":"https://api.github.com/repos/beancount/beancount","labels_url":"https://api.github.com/repos/beancount/beancount/issues/150/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beancount/issues/150/comments","events_url":"https://api.github.com/repos/beancount/beancount/issues/150/events","html_url":"https://github.com/beancount/beancount/issues/150","id":623371467,"node_id":"MDU6SXNzdWU2MjMzNzE0Njc=","number":150,"title":"Review behaviour of options and plugins directives in included files","user":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":2080994022,"node_id":"MDU6TGFiZWwyMDgwOTk0MDIy","url":"https://api.github.com/repos/beancount/beancount/labels/P2","name":"P2","color":"ffaaaa","default":false,"description":"Low priority, addressing would result in useful improvements"},{"id":2080995647,"node_id":"MDU6TGFiZWwyMDgwOTk1NjQ3","url":"https://api.github.com/repos/beancount/beancount/labels/parser-loader","name":"parser-loader","color":"ededed","default":false,"description":"Component: Parser and loader"}],"state":"open","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":1,"created_at":"2016-12-26T16:28:46Z","updated_at":"2020-05-23T13:15:46Z","closed_at":null,"author_association":"MEMBER","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"**[Original report](https://bitbucket.org/blais/beancount/issue/150) by Martin Blais (Bitbucket: [blais](https://bitbucket.org/blais), GitHub: [blais](https://github.com/blais)).**\n\n----------------------------------------\n\nMinimum: There should be a warning if ignored.\nBetter: Consider alternative semantics.\n\nSee thread below.\n\n\n\nOn Sun, Dec 25, 2016 at 02:35:08PM -0500, Martin Blais wrote:\n> Tell me, how would you expect / like that the options and plugins\n> directives be interpreted over multiple files?\n> What seems to be a good behavior in your view?\n\nJFTR: I use a single \"big ledger\" file, so I don't personally suffer\nfrom the problem of repeating plugins in multiple files. Still, from a\n\"ledger engineering\" point of view, I'd love to have a single \"include\nplugins.beancount\" directive somewhere.\n\nAnswering your question, as a user I'd love \"include\" to be completely\ntransparent. That is: the behavior of beancount on a file that contains\none or more \"include\" lines should be exactly the same of beancount\ncalled on a different file where all includes have been (transitively)\nresolved inlining the content(s) of the referenced file(s).\n\nI'd be totally fine if, to achieve this, you'll end up imposing\ndraconian restrictions such as: \"all 'plugin' and/or 'option' directives\nmust appear at the beginning of the file obtained after resolving all\n'include' directives\".\n\nI do realize that this might entail implementing a two-stage parsing of\nsort, which might be annoying. But you asked about my favorite behavior,\nand that would be it :)\n","closed_by":null,"reactions":{"url":"https://api.github.com/repos/beancount/beancount/issues/150/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beancount/issues/150/timeline","performed_via_github_app":null,"state_reason":null},{"url":"https://api.github.com/repos/beancount/beancount/issues/149","repository_url":"https://api.github.com/repos/beancount/beancount","labels_url":"https://api.github.com/repos/beancount/beancount/issues/149/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beancount/issues/149/comments","events_url":"https://api.github.com/repos/beancount/beancount/issues/149/events","html_url":"https://github.com/beancount/beancount/issues/149","id":623371428,"node_id":"MDU6SXNzdWU2MjMzNzE0Mjg=","number":149,"title":"Too many transactions lead to closed-connection/connection-reset?","user":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":2080914000,"node_id":"MDU6TGFiZWwyMDgwOTE0MDAw","url":"https://api.github.com/repos/beancount/beancount/labels/BUG","name":"BUG","color":"cc99cc","default":false,"description":"This is a bug, not a feature request; something isn't working."},{"id":2080994777,"node_id":"MDU6TGFiZWwyMDgwOTk0Nzc3","url":"https://api.github.com/repos/beancount/beancount/labels/P1","name":"P1","color":"ff6666","default":false,"description":"High priority, not breaking but hindering or lessening existing functionality"}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":9,"created_at":"2016-12-16T10:15:51Z","updated_at":"2017-03-22T09:49:37Z","closed_at":"2017-03-22T09:49:37Z","author_association":"MEMBER","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"**[Original report](https://bitbucket.org/blais/beancount/issue/149) by Unnamed (Bitbucket: [not_a_serious_name](https://bitbucket.org/not_a_serious_name)).**\n\n----------------------------------------\n\n**Environment**\nWindows 10 Linux Subsystem, Python 3.5, Beancount 2.0b13\n\n**Test Case**\nUsing attached examples files. \n\n```\n#!bash\n\nbean-web example.beancount\n```\n\nAccount Liabilities:US:Chase:Slate has 500+ transactions and creates 1M+ response. Click this account will often get a connection_reset. \n\n![connection_reset.png](https://bitbucket.org/repo/7M55BB/images/673192920-connection_reset.png)\n\n![connection_closed.png](https://bitbucket.org/repo/7M55BB/images/1164031290-connection_closed.png)\n\nEarlier versions was OK.\n","closed_by":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/beancount/beancount/issues/149/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beancount/issues/149/timeline","performed_via_github_app":null,"state_reason":"completed"},{"url":"https://api.github.com/repos/beancount/beancount/issues/148","repository_url":"https://api.github.com/repos/beancount/beancount","labels_url":"https://api.github.com/repos/beancount/beancount/issues/148/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beancount/issues/148/comments","events_url":"https://api.github.com/repos/beancount/beancount/issues/148/events","html_url":"https://github.com/beancount/beancount/issues/148","id":623371407,"node_id":"MDU6SXNzdWU2MjMzNzE0MDc=","number":148,"title":"bean-query makes it cumbersome to run queries from CLI","user":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":2080994022,"node_id":"MDU6TGFiZWwyMDgwOTk0MDIy","url":"https://api.github.com/repos/beancount/beancount/labels/P2","name":"P2","color":"ffaaaa","default":false,"description":"Low priority, addressing would result in useful improvements"},{"id":2080994252,"node_id":"MDU6TGFiZWwyMDgwOTk0MjUy","url":"https://api.github.com/repos/beancount/beancount/labels/query-sql","name":"query-sql","color":"ededed","default":false,"description":"Component: SQL query engine"}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":2,"created_at":"2016-11-12T21:09:32Z","updated_at":"2016-11-12T21:49:31Z","closed_at":"2016-11-12T21:49:31Z","author_association":"MEMBER","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"**[Original report](https://bitbucket.org/blais/beancount/issue/148) by Stefano Zacchiroli (Bitbucket: [zacchiro](https://bitbucket.org/zacchiro), GitHub: [zacchiro](https://github.com/zacchiro)).**\n\n----------------------------------------\n\nConsider the example of the query directive given in the syntax reference:\n```\n#!beancount\n\n2014-07-09 query \"france-balances\" \"\n  SELECT account, sum(position) WHERE ‘trip-france-2014’ in tags\"\n```\nRunning this query requires quoting (single or double) the query name, because otherwise the SQL tokenizer will consider \"france\" and \"balances\" separate tokens. This is not so bad when using the REPL, but gets annoying on the CLI, as one has to escape the quotes to avoid shell capture, e.g.:\n```\n#!shell\n\nbean-query foo.beancount run \\\"france-balances\\\"\n```\nGiven that run accepts only a query name, the run sub-command should automatically quote its argument to ensure that the SQL tokenizer will consider it one token.\n\nThanks for considering!\n","closed_by":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/beancount/beancount/issues/148/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beancount/issues/148/timeline","performed_via_github_app":null,"state_reason":"completed"},{"url":"https://api.github.com/repos/beancount/beancount/issues/147","repository_url":"https://api.github.com/repos/beancount/beancount","labels_url":"https://api.github.com/repos/beancount/beancount/issues/147/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beancount/issues/147/comments","events_url":"https://api.github.com/repos/beancount/beancount/issues/147/events","html_url":"https://github.com/beancount/beancount/issues/147","id":623371395,"node_id":"MDU6SXNzdWU2MjMzNzEzOTU=","number":147,"title":"plugins declared in include-d files are ignored","user":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":2080914000,"node_id":"MDU6TGFiZWwyMDgwOTE0MDAw","url":"https://api.github.com/repos/beancount/beancount/labels/BUG","name":"BUG","color":"cc99cc","default":false,"description":"This is a bug, not a feature request; something isn't working."},{"id":2080994022,"node_id":"MDU6TGFiZWwyMDgwOTk0MDIy","url":"https://api.github.com/repos/beancount/beancount/labels/P2","name":"P2","color":"ffaaaa","default":false,"description":"Low priority, addressing would result in useful improvements"},{"id":2081000893,"node_id":"MDU6TGFiZWwyMDgxMDAwODkz","url":"https://api.github.com/repos/beancount/beancount/labels/plugins","name":"plugins","color":"ededed","default":false,"description":"Component: Plug-ins"}],"state":"open","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":0,"created_at":"2016-11-11T15:20:32Z","updated_at":"2016-11-11T15:20:32Z","closed_at":null,"author_association":"MEMBER","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"**[Original report](https://bitbucket.org/blais/beancount/issue/147) by Stefano Zacchiroli (Bitbucket: [zacchiro](https://bitbucket.org/zacchiro), GitHub: [zacchiro](https://github.com/zacchiro)).**\n\n----------------------------------------\n\nI'd like to keep my \"main\" ledger clean, with a single \"include header.beancount\", which in turn includes beancount files with various roles (account openings, commodities declarations, etc).\n\nMost notably I'd like to have a plugins.beancount file that lists all plugins to be loaded, and that doesn't seem to work.\n\nplugin declarations are effective if I put them in the top-level beancount file, but are completely ignored (i.e., the plugins are not executed) if I move them to (recursively) included files. This is, at least, according to bean-check which I'm using to test this.\n\nIt would be nice if one could put plugin declarations in any (recursively) included beancount files, without any semantic change in beancount behavior.\n","closed_by":null,"reactions":{"url":"https://api.github.com/repos/beancount/beancount/issues/147/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beancount/issues/147/timeline","performed_via_github_app":null,"state_reason":null},{"url":"https://api.github.com/repos/beancount/beancount/issues/146","repository_url":"https://api.github.com/repos/beancount/beancount","labels_url":"https://api.github.com/repos/beancount/beancount/issues/146/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beancount/issues/146/comments","events_url":"https://api.github.com/repos/beancount/beancount/issues/146/events","html_url":"https://github.com/beancount/beancount/issues/146","id":623371367,"node_id":"MDU6SXNzdWU2MjMzNzEzNjc=","number":146,"title":"bean-format fails on currencies that contain \"_\" (underscore)","user":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":2080914000,"node_id":"MDU6TGFiZWwyMDgwOTE0MDAw","url":"https://api.github.com/repos/beancount/beancount/labels/BUG","name":"BUG","color":"cc99cc","default":false,"description":"This is a bug, not a feature request; something isn't working."},{"id":2080994022,"node_id":"MDU6TGFiZWwyMDgwOTk0MDIy","url":"https://api.github.com/repos/beancount/beancount/labels/P2","name":"P2","color":"ffaaaa","default":false,"description":"Low priority, addressing would result in useful improvements"},{"id":2080994828,"node_id":"MDU6TGFiZWwyMDgwOTk0ODI4","url":"https://api.github.com/repos/beancount/beancount/labels/scripts","name":"scripts","color":"ededed","default":false,"description":"Component: Other scripts"}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":3,"created_at":"2016-11-09T16:09:26Z","updated_at":"2016-11-20T21:09:46Z","closed_at":"2016-11-20T21:09:46Z","author_association":"MEMBER","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"**[Original report](https://bitbucket.org/blais/beancount/issue/146) by Stefano Zacchiroli (Bitbucket: [zacchiro](https://bitbucket.org/zacchiro), GitHub: [zacchiro](https://github.com/zacchiro)).**\n\n----------------------------------------\n\nThe following beancount input:\n```\n#!beancount\n\n1970-01-01 open Equity:Opening-balances\n1970-01-01 open Assets:Investments\n\n2014-03-31 * \"opening\"\n  Assets:Investments                 1.23 FOO_BAR\n  Equity:Opening-balances\n```\npasses bean-check just fine, but makes bean-format fail with an assertion error:\n```\n#!\n\nTraceback (most recent call last):\n  File \"/home/zack/.local/bin/bean-format\", line 2, in <module>\n    from beancount.scripts.format import main; main()\n  File \"/home/zack/.local/lib/python3.5/site-packages/beancount/scripts/format.py\", line 154, in main\n    formatted_contents = align_beancount(contents)\n  File \"/home/zack/.local/lib/python3.5/site-packages/beancount/scripts/format.py\", line 81, in align_beancount\n    assert (old_stripped == new_stripped), (old_stripped, new_stripped)\nAssertionError: ('1970-01-01 open Equity:Opening-balances 1970-01-01 open Assets:Investments 2014-03-31 * \"opening\" Assets:Investments 1.23 FOO_BAR Equity:Opening-balances', '1970-01-01 open Equity:Opening-balances 1970-01-01 open Assets:Investments 2014-03-31 * \"opening\" Assets:Investments Equity:Opening-balances')\n```\nBy the look of it, it's possible that just an \"_\" is missing in the final part of the regex in python/beancount/scripts/format.py:align_beancount(). But I haven't tested the fix yet.\n","closed_by":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/beancount/beancount/issues/146/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beancount/issues/146/timeline","performed_via_github_app":null,"state_reason":"completed"},{"url":"https://api.github.com/repos/beancount/beancount/issues/145","repository_url":"https://api.github.com/repos/beancount/beancount","labels_url":"https://api.github.com/repos/beancount/beancount/issues/145/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beancount/issues/145/comments","events_url":"https://api.github.com/repos/beancount/beancount/issues/145/events","html_url":"https://github.com/beancount/beancount/issues/145","id":623371331,"node_id":"MDU6SXNzdWU2MjMzNzEzMzE=","number":145,"title":"Commodities acquired and sold within a single transaction aren't found","user":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":2080914000,"node_id":"MDU6TGFiZWwyMDgwOTE0MDAw","url":"https://api.github.com/repos/beancount/beancount/labels/BUG","name":"BUG","color":"cc99cc","default":false,"description":"This is a bug, not a feature request; something isn't working."},{"id":2080994777,"node_id":"MDU6TGFiZWwyMDgwOTk0Nzc3","url":"https://api.github.com/repos/beancount/beancount/labels/P1","name":"P1","color":"ff6666","default":false,"description":"High priority, not breaking but hindering or lessening existing functionality"},{"id":2081004612,"node_id":"MDU6TGFiZWwyMDgxMDA0NjEy","url":"https://api.github.com/repos/beancount/beancount/labels/booking","name":"booking","color":"ededed","default":false,"description":"Component: Booking algorithms"}],"state":"open","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":8,"created_at":"2016-11-06T23:10:37Z","updated_at":"2018-04-18T05:13:20Z","closed_at":null,"author_association":"MEMBER","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"**[Original report](https://bitbucket.org/blais/beancount/issue/145) by Jason Chu (Bitbucket: [xentac](https://bitbucket.org/xentac), GitHub: [xentac](https://github.com/xentac)).**\n\n----------------------------------------\n\nIf an account doesn't contain any lots, it's possible to have a transaction that acquires a commodity and sells it at the same time.\n\nIf an account already has lots the exact same transaction is an error.  The same transaction split into two parts (acquire commodity then sell) is valid.\n\nThis is definitely a regression from the previous booking method because those transactions weren't errors for me previously.\n\nExample attached.\n","closed_by":null,"reactions":{"url":"https://api.github.com/repos/beancount/beancount/issues/145/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beancount/issues/145/timeline","performed_via_github_app":null,"state_reason":null},{"url":"https://api.github.com/repos/beancount/beancount/issues/144","repository_url":"https://api.github.com/repos/beancount/beancount","labels_url":"https://api.github.com/repos/beancount/beancount/issues/144/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beancount/issues/144/comments","events_url":"https://api.github.com/repos/beancount/beancount/issues/144/events","html_url":"https://github.com/beancount/beancount/issues/144","id":623371313,"node_id":"MDU6SXNzdWU2MjMzNzEzMTM=","number":144,"title":"allow tagging of individual postings / transaction legs","user":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":2080994022,"node_id":"MDU6TGFiZWwyMDgwOTk0MDIy","url":"https://api.github.com/repos/beancount/beancount/labels/P2","name":"P2","color":"ffaaaa","default":false,"description":"Low priority, addressing would result in useful improvements"},{"id":2080995647,"node_id":"MDU6TGFiZWwyMDgwOTk1NjQ3","url":"https://api.github.com/repos/beancount/beancount/labels/parser-loader","name":"parser-loader","color":"ededed","default":false,"description":"Component: Parser and loader"}],"state":"open","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":3,"created_at":"2016-11-06T09:48:08Z","updated_at":"2024-12-18T17:22:16Z","closed_at":null,"author_association":"MEMBER","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"**[Original report](https://bitbucket.org/blais/beancount/issue/144) by Stefano Zacchiroli (Bitbucket: [zacchiro](https://bitbucket.org/zacchiro), GitHub: [zacchiro](https://github.com/zacchiro)).**\n\n----------------------------------------\n\nCurrently tags are only allowed to be \"global\" to a transaction. Given that metadata are allowed on both transactions as wholes and on individual postings, it would make sense for tags to behave similarly, and be permitted on individual postings.\n\nIt is less clear (to me at least :-)) whether *links* should be allowed on individual postings too.\n\nSee related thread, with early feedback on this proposal from Martin: https://groups.google.com/forum/#!topic/beancount/XPtFOnqCVws\n","closed_by":null,"reactions":{"url":"https://api.github.com/repos/beancount/beancount/issues/144/reactions","total_count":7,"+1":7,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beancount/issues/144/timeline","performed_via_github_app":null,"state_reason":null},{"url":"https://api.github.com/repos/beancount/beancount/issues/143","repository_url":"https://api.github.com/repos/beancount/beancount","labels_url":"https://api.github.com/repos/beancount/beancount/issues/143/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beancount/issues/143/comments","events_url":"https://api.github.com/repos/beancount/beancount/issues/143/events","html_url":"https://github.com/beancount/beancount/issues/143","id":623371296,"node_id":"MDU6SXNzdWU2MjMzNzEyOTY=","number":143,"title":"full-line comments not allowed within transactions","user":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":2080914000,"node_id":"MDU6TGFiZWwyMDgwOTE0MDAw","url":"https://api.github.com/repos/beancount/beancount/labels/BUG","name":"BUG","color":"cc99cc","default":false,"description":"This is a bug, not a feature request; something isn't working."},{"id":2080994777,"node_id":"MDU6TGFiZWwyMDgwOTk0Nzc3","url":"https://api.github.com/repos/beancount/beancount/labels/P1","name":"P1","color":"ff6666","default":false,"description":"High priority, not breaking but hindering or lessening existing functionality"},{"id":2080995647,"node_id":"MDU6TGFiZWwyMDgwOTk1NjQ3","url":"https://api.github.com/repos/beancount/beancount/labels/parser-loader","name":"parser-loader","color":"ededed","default":false,"description":"Component: Parser and loader"}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":6,"created_at":"2016-11-04T12:41:28Z","updated_at":"2020-06-27T18:31:54Z","closed_at":"2020-06-27T18:31:54Z","author_association":"MEMBER","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"**[Original report](https://bitbucket.org/blais/beancount/issue/143) by Stefano Zacchiroli (Bitbucket: [zacchiro](https://bitbucket.org/zacchiro), GitHub: [zacchiro](https://github.com/zacchiro)).**\n\n----------------------------------------\n\nAccording to my reading of the syntax reference, comment should be allowed everywhere in a beancount file, no matter if they are in-line comments or entire-line comments.\n\nAccording to bean-check this is not the case though. While the following passes bean-check just fine:\n```\n#!beancount\n\n2014-04-23 * \"Flight to Berlin\" #berlin-trip-2014\n  foo: \"bar\"\n  Expenses:Flights                                                    -1230.27 USD\n    foo: \"baz\"   ; in-line comment 1\n  Liabilities:CreditCard   ; in-line comment 2\n    foo: \"qux\"\n```\nthe following (note the addition of \"; full-line comment 3\") does not:\n```\n#!beancount\n\n2014-04-23 * \"Flight to Berlin\" #berlin-trip-2014\n  foo: \"bar\"\n  Expenses:Flights                                                    -1230.27 USD\n    ; full-line comment 3\n    foo: \"baz\"   ; comment 1\n  Liabilities:CreditCard   ; comment 2\n    foo: \"qux\"\n```\nwith bean-check failing like this:\n```\n#!\n\n/tmp/foo.beancount:8:       syntax error, unexpected KEY\n\n/tmp/foo.beancount:9:       syntax error, unexpected ACCOUNT\n\n/tmp/foo.beancount:10:      syntax error, unexpected KEY\n\n/tmp/foo.beancount:4:       Transaction does not balance: (-1230.27 USD)\n\n   2014-04-23 * \"Flight to Berlin\" #berlin-trip-2014\n     foo: \"bar\"\n     Expenses:Flights  -1230.27 USD\n```\n\nAccording to some additional experiments I've made:\n* no placement of full-line comments within a transaction works\n* full-line comments to work between transactions though\n* in-line comments work everywhere within transactions\n* removing the leading whitespace (i.e., moving the \";\" to column 0) does not fix the issue\n\nI've only briefly looked at the yacc grammer, and it is not immediately clear why this does not work, as \"posting_or_kv_list\" entries are made of \"key_value_line\", which are properly terminated by \"eol\", which in turn can contain comments. I haven't debugged it any further though.\n","closed_by":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/beancount/beancount/issues/143/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beancount/issues/143/timeline","performed_via_github_app":null,"state_reason":"completed"},{"url":"https://api.github.com/repos/beancount/beancount/issues/142","repository_url":"https://api.github.com/repos/beancount/beancount","labels_url":"https://api.github.com/repos/beancount/beancount/issues/142/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beancount/issues/142/comments","events_url":"https://api.github.com/repos/beancount/beancount/issues/142/events","html_url":"https://github.com/beancount/beancount/issues/142","id":623371276,"node_id":"MDU6SXNzdWU2MjMzNzEyNzY=","number":142,"title":"bean-check should return non-zero exit code upon failure","user":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":2080914000,"node_id":"MDU6TGFiZWwyMDgwOTE0MDAw","url":"https://api.github.com/repos/beancount/beancount/labels/BUG","name":"BUG","color":"cc99cc","default":false,"description":"This is a bug, not a feature request; something isn't working."},{"id":2080994022,"node_id":"MDU6TGFiZWwyMDgwOTk0MDIy","url":"https://api.github.com/repos/beancount/beancount/labels/P2","name":"P2","color":"ffaaaa","default":false,"description":"Low priority, addressing would result in useful improvements"}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":2,"created_at":"2016-11-03T22:53:17Z","updated_at":"2016-11-06T01:45:33Z","closed_at":"2016-11-06T01:44:41Z","author_association":"MEMBER","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"**[Original report](https://bitbucket.org/blais/beancount/issue/142) by Stefano Zacchiroli (Bitbucket: [zacchiro](https://bitbucket.org/zacchiro), GitHub: [zacchiro](https://github.com/zacchiro)).**\n\n----------------------------------------\n\nAs per title. Currently, bean-check seems to always return exit code 0, no matter if errors are encountered in the file being checked or not. This makes it hard(er) to use bean-check in shell scripts or Makefiles.\n","closed_by":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/beancount/beancount/issues/142/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beancount/issues/142/timeline","performed_via_github_app":null,"state_reason":"completed"},{"url":"https://api.github.com/repos/beancount/beancount/issues/141","repository_url":"https://api.github.com/repos/beancount/beancount","labels_url":"https://api.github.com/repos/beancount/beancount/issues/141/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beancount/issues/141/comments","events_url":"https://api.github.com/repos/beancount/beancount/issues/141/events","html_url":"https://github.com/beancount/beancount/issues/141","id":623371242,"node_id":"MDU6SXNzdWU2MjMzNzEyNDI=","number":141,"title":"beancount fails with ValueError: day is out of range for month on document","user":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":2080914000,"node_id":"MDU6TGFiZWwyMDgwOTE0MDAw","url":"https://api.github.com/repos/beancount/beancount/labels/BUG","name":"BUG","color":"cc99cc","default":false,"description":"This is a bug, not a feature request; something isn't working."},{"id":2080994777,"node_id":"MDU6TGFiZWwyMDgwOTk0Nzc3","url":"https://api.github.com/repos/beancount/beancount/labels/P1","name":"P1","color":"ff6666","default":false,"description":"High priority, not breaking but hindering or lessening existing functionality"}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":3,"created_at":"2016-10-29T20:13:03Z","updated_at":"2016-10-29T23:26:23Z","closed_at":"2016-10-29T22:33:51Z","author_association":"MEMBER","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"**[Original report](https://bitbucket.org/blais/beancount/issue/141) by Renato Alves.**\n\n----------------------------------------\n\nThis was a tricky one.\n\nThe error:\n\n```\n#!python\n  ...\n  File \"/virtualenvs/beancount/lib/python3.4/site-packages/beancount/ops/documents.py\", line 141, in find_documents\n    date = datetime.date(*map(int, match.group(1, 2, 3)))\nValueError: day is out of range for month\n```\n\nInitially I thought I had mistyped a date in my document. Turned out the cause was a document named `2016-09-31.doc.pdf`.\n\nObviously beancount is correct in that the month 9 only has 30 days, therefore 31 is invalid. However it crashes with a traceback that provides no helpful information of what is wrong. Be it a line in the document or in this case, the name of the offending file.\n","closed_by":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/beancount/beancount/issues/141/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beancount/issues/141/timeline","performed_via_github_app":null,"state_reason":"completed"},{"url":"https://api.github.com/repos/beancount/beancount/issues/140","repository_url":"https://api.github.com/repos/beancount/beancount","labels_url":"https://api.github.com/repos/beancount/beancount/issues/140/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beancount/issues/140/comments","events_url":"https://api.github.com/repos/beancount/beancount/issues/140/events","html_url":"https://github.com/beancount/beancount/issues/140","id":623371193,"node_id":"MDU6SXNzdWU2MjMzNzExOTM=","number":140,"title":"Add type annotation to beancount codebase","user":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":2080994022,"node_id":"MDU6TGFiZWwyMDgwOTk0MDIy","url":"https://api.github.com/repos/beancount/beancount/labels/P2","name":"P2","color":"ffaaaa","default":false,"description":"Low priority, addressing would result in useful improvements"},{"id":2081004216,"node_id":"MDU6TGFiZWwyMDgxMDA0MjE2","url":"https://api.github.com/repos/beancount/beancount/labels/infra-server","name":"infra-server","color":"ededed","default":false,"description":"Component: Admin scripts, build, and server issues"}],"state":"open","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":15,"created_at":"2016-10-19T01:17:55Z","updated_at":"2021-09-16T14:30:40Z","closed_at":null,"author_association":"MEMBER","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"**[Original report](https://bitbucket.org/blais/beancount/issue/140) by Yuchen Ying (Bitbucket: [yegle](https://bitbucket.org/yegle), GitHub: [yegle](https://github.com/yegle)).**\n\n----------------------------------------\n\nI've started using type annotation for code written during work, and really like it.\n\nMartin, do you mind having code annotation in beancount codebase? AFAIK http://mypy-lang.org/ works well with Syntastic vim plugin, but I'm not sure about emacs.\n","closed_by":null,"reactions":{"url":"https://api.github.com/repos/beancount/beancount/issues/140/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beancount/issues/140/timeline","performed_via_github_app":null,"state_reason":null},{"url":"https://api.github.com/repos/beancount/beancount/issues/139","repository_url":"https://api.github.com/repos/beancount/beancount","labels_url":"https://api.github.com/repos/beancount/beancount/issues/139/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beancount/issues/139/comments","events_url":"https://api.github.com/repos/beancount/beancount/issues/139/events","html_url":"https://github.com/beancount/beancount/issues/139","id":623371153,"node_id":"MDU6SXNzdWU2MjMzNzExNTM=","number":139,"title":"TypeError in core.display_context","user":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":2080914000,"node_id":"MDU6TGFiZWwyMDgwOTE0MDAw","url":"https://api.github.com/repos/beancount/beancount/labels/BUG","name":"BUG","color":"cc99cc","default":false,"description":"This is a bug, not a feature request; something isn't working."},{"id":2080994022,"node_id":"MDU6TGFiZWwyMDgwOTk0MDIy","url":"https://api.github.com/repos/beancount/beancount/labels/P2","name":"P2","color":"ffaaaa","default":false,"description":"Low priority, addressing would result in useful improvements"}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":10,"created_at":"2016-09-18T11:14:27Z","updated_at":"2017-02-02T02:32:32Z","closed_at":"2016-11-07T03:07:13Z","author_association":"MEMBER","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"**[Original report](https://bitbucket.org/blais/beancount/issue/139) by Jakob Schnitzer (Bitbucket: [yagebu](https://bitbucket.org/yagebu), GitHub: [yagebu](https://github.com/yagebu)).**\n\n----------------------------------------\n\nWhen converting the DisplayContext to a string for display on fava's options page, I get a TypeError. I'm using the \"FULL\" booking algorithm. (maybe the context for `MISSING` is tripping beancount up?)\n\n    File \"/Users/jakob/dev/beancount/src/python/beancount/core/display_context.py\", line 189, in __str__\n        for currency, ccontext in sorted(self.ccontexts.items()):\n    TypeError: unorderable types: type() < str()\n","closed_by":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/beancount/beancount/issues/139/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beancount/issues/139/timeline","performed_via_github_app":null,"state_reason":"completed"},{"url":"https://api.github.com/repos/beancount/beancount/issues/138","repository_url":"https://api.github.com/repos/beancount/beancount","labels_url":"https://api.github.com/repos/beancount/beancount/issues/138/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beancount/issues/138/comments","events_url":"https://api.github.com/repos/beancount/beancount/issues/138/events","html_url":"https://github.com/beancount/beancount/issues/138","id":623371130,"node_id":"MDU6SXNzdWU2MjMzNzExMzA=","number":138,"title":"Make it possible to use account names with a single character.","user":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":2080994022,"node_id":"MDU6TGFiZWwyMDgwOTk0MDIy","url":"https://api.github.com/repos/beancount/beancount/labels/P2","name":"P2","color":"ffaaaa","default":false,"description":"Low priority, addressing would result in useful improvements"},{"id":2080995647,"node_id":"MDU6TGFiZWwyMDgwOTk1NjQ3","url":"https://api.github.com/repos/beancount/beancount/labels/parser-loader","name":"parser-loader","color":"ededed","default":false,"description":"Component: Parser and loader"}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":1,"created_at":"2016-08-04T04:09:19Z","updated_at":"2016-08-04T05:05:44Z","closed_at":"2016-08-04T05:05:44Z","author_association":"MEMBER","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"**[Original report](https://bitbucket.org/blais/beancount/issue/138) by Martin Blais (Bitbucket: [blais](https://bitbucket.org/blais), GitHub: [blais](https://github.com/blais)).**\n\n----------------------------------------\n\nI'm not 100% sure, but I think the limitation is related to the lexer.\nThe grammar for flags plays not to nicely with other things, and I think this is one of them.\nHowever, I think I _may_ be able to change the definition to that of Alan's suggestion for account name components beyond the first one.\n\n\n\n\nOn Mon, Aug 1, 2016 at 8:26 PM, Luciano <newscasta@gmail.com> wrote:\nHi Martin,\n\nQuick question. Is there a reason why account and commodity names need to be at least two characters? \nDoes it make parsing easier or is it just a matter of preference?\n\nI have some holdings of stock with single letter tickers and it'd be nice to use their actual tickers in account and commodity names.\nObviously not a big deal, just a minor annoyance, but if it's a trivial change to the grammar I'd welcome it.\n\nI'll dig into the codebase at some point but I'm just now learning Python so it might be a while.\n\nRegards,\nLuciano \n-- \nYou received this message because you are subscribed to the Google Groups \"Beancount\" group.\n","closed_by":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/beancount/beancount/issues/138/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beancount/issues/138/timeline","performed_via_github_app":null,"state_reason":"completed"},{"url":"https://api.github.com/repos/beancount/beancount/issues/137","repository_url":"https://api.github.com/repos/beancount/beancount","labels_url":"https://api.github.com/repos/beancount/beancount/issues/137/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beancount/issues/137/comments","events_url":"https://api.github.com/repos/beancount/beancount/issues/137/events","html_url":"https://github.com/beancount/beancount/issues/137","id":623371112,"node_id":"MDU6SXNzdWU2MjMzNzExMTI=","number":137,"title":"Feature request: Add option to specify column for bean-format","user":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":2080994022,"node_id":"MDU6TGFiZWwyMDgwOTk0MDIy","url":"https://api.github.com/repos/beancount/beancount/labels/P2","name":"P2","color":"ffaaaa","default":false,"description":"Low priority, addressing would result in useful improvements"},{"id":2080994828,"node_id":"MDU6TGFiZWwyMDgwOTk0ODI4","url":"https://api.github.com/repos/beancount/beancount/labels/scripts","name":"scripts","color":"ededed","default":false,"description":"Component: Other scripts"}],"state":"open","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":0,"created_at":"2016-08-02T08:44:50Z","updated_at":"2020-05-23T13:15:46Z","closed_at":null,"author_association":"MEMBER","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"**[Original report](https://bitbucket.org/blais/beancount/issue/137) by Dominik Aumayr (GitHub: [aumayr](https://github.com/aumayr)).**\n\n----------------------------------------\n\nCurrently `bean-format` aligns the currencies at the left-most column. \n\nIt would be very nice to have an option `-c` or `--column` to specify the column the currencies should be aligned at, with the ones that do not have enough space to stick out to the right.\n","closed_by":null,"reactions":{"url":"https://api.github.com/repos/beancount/beancount/issues/137/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beancount/issues/137/timeline","performed_via_github_app":null,"state_reason":null},{"url":"https://api.github.com/repos/beancount/beancount/issues/136","repository_url":"https://api.github.com/repos/beancount/beancount","labels_url":"https://api.github.com/repos/beancount/beancount/issues/136/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beancount/issues/136/comments","events_url":"https://api.github.com/repos/beancount/beancount/issues/136/events","html_url":"https://github.com/beancount/beancount/issues/136","id":623371091,"node_id":"MDU6SXNzdWU2MjMzNzEwOTE=","number":136,"title":"bean-format get's tripped by calculated values","user":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":2080914000,"node_id":"MDU6TGFiZWwyMDgwOTE0MDAw","url":"https://api.github.com/repos/beancount/beancount/labels/BUG","name":"BUG","color":"cc99cc","default":false,"description":"This is a bug, not a feature request; something isn't working."},{"id":2080994022,"node_id":"MDU6TGFiZWwyMDgwOTk0MDIy","url":"https://api.github.com/repos/beancount/beancount/labels/P2","name":"P2","color":"ffaaaa","default":false,"description":"Low priority, addressing would result in useful improvements"},{"id":2080994828,"node_id":"MDU6TGFiZWwyMDgwOTk0ODI4","url":"https://api.github.com/repos/beancount/beancount/labels/scripts","name":"scripts","color":"ededed","default":false,"description":"Component: Other scripts"}],"state":"open","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":3,"created_at":"2016-08-02T08:37:44Z","updated_at":"2018-04-18T05:14:07Z","closed_at":null,"author_association":"MEMBER","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"**[Original report](https://bitbucket.org/blais/beancount/issue/136) by Dominik Aumayr (GitHub: [aumayr](https://github.com/aumayr)).**\n\n----------------------------------------\n\n`bean-format` fails with an `assert`-error when using the following simple test-file:\n\n\n```\n2016-08-01 open Expenses:Test\n2016-08-01 open Assets:Test\n\n2016-08-02 * \"\" \"\"\n  Expenses:Test     10.0/2 USD\n  Assets:Test\n```\n\n`bean-check` does not complain about the `10.0/2 USD`, and I think this is also explicitly supported by beancount. \n\nBut it does trip up `bean-format`.\n","closed_by":null,"reactions":{"url":"https://api.github.com/repos/beancount/beancount/issues/136/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beancount/issues/136/timeline","performed_via_github_app":null,"state_reason":null},{"url":"https://api.github.com/repos/beancount/beancount/issues/135","repository_url":"https://api.github.com/repos/beancount/beancount","labels_url":"https://api.github.com/repos/beancount/beancount/issues/135/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beancount/issues/135/comments","events_url":"https://api.github.com/repos/beancount/beancount/issues/135/events","html_url":"https://github.com/beancount/beancount/issues/135","id":623371073,"node_id":"MDU6SXNzdWU2MjMzNzEwNzM=","number":135,"title":"Deviation of currency converting","user":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":2080914000,"node_id":"MDU6TGFiZWwyMDgwOTE0MDAw","url":"https://api.github.com/repos/beancount/beancount/labels/BUG","name":"BUG","color":"cc99cc","default":false,"description":"This is a bug, not a feature request; something isn't working."},{"id":2080994022,"node_id":"MDU6TGFiZWwyMDgwOTk0MDIy","url":"https://api.github.com/repos/beancount/beancount/labels/P2","name":"P2","color":"ffaaaa","default":false,"description":"Low priority, addressing would result in useful improvements"}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":1,"created_at":"2016-07-09T00:49:14Z","updated_at":"2016-07-11T08:58:20Z","closed_at":"2016-07-11T08:58:20Z","author_association":"MEMBER","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"**[Original report](https://bitbucket.org/blais/beancount/issue/135) by B.Wang (Bitbucket: [ghost_426](https://bitbucket.org/ghost_426)).**\n\n----------------------------------------\n\nFound a deviation while converting currency like this:\n\n```\n2016-07-08 *\n\tIncome:Banking:Transfer          -124.98 USD @@ 675 CNY\n\tExpenses:Banking:Fee                 +15 CNY\n\tAssets:CCB:DebitCard                +660 CNY\n\n//Transaction does not balance: (1E-25 CNY)\n```\n\nHowever, this works:\n```\n2016-07-08 *\n\tIncome:Banking:Transfer          -124.98 USD @@ 675 CNY\n\tExpenses:Banking:Fee                 +15 CNY\n\tAssets:CCB:DebitCard             +660.00 CNY\n```\n","closed_by":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/beancount/beancount/issues/135/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beancount/issues/135/timeline","performed_via_github_app":null,"state_reason":"completed"},{"url":"https://api.github.com/repos/beancount/beancount/issues/134","repository_url":"https://api.github.com/repos/beancount/beancount","labels_url":"https://api.github.com/repos/beancount/beancount/issues/134/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beancount/issues/134/comments","events_url":"https://api.github.com/repos/beancount/beancount/issues/134/events","html_url":"https://github.com/beancount/beancount/issues/134","id":623371046,"node_id":"MDU6SXNzdWU2MjMzNzEwNDY=","number":134,"title":"Toplevel accounts need to be provided on each file","user":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":2080994022,"node_id":"MDU6TGFiZWwyMDgwOTk0MDIy","url":"https://api.github.com/repos/beancount/beancount/labels/P2","name":"P2","color":"ffaaaa","default":false,"description":"Low priority, addressing would result in useful improvements"},{"id":2080995647,"node_id":"MDU6TGFiZWwyMDgwOTk1NjQ3","url":"https://api.github.com/repos/beancount/beancount/labels/parser-loader","name":"parser-loader","color":"ededed","default":false,"description":"Component: Parser and loader"}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":2,"created_at":"2016-06-14T17:56:57Z","updated_at":"2019-02-18T19:30:08Z","closed_at":"2019-02-18T19:30:08Z","author_association":"MEMBER","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"**[Original report](https://bitbucket.org/blais/beancount/issue/134) by Anonymous.**\n\n----------------------------------------\n\nI use multiple journals which I include from a main file, and I use custom-named top-level accounts.  At the moment I have to declare these options in each file.  I would like to declare the \"name_assets\" option (and the others) in the main file and have them applied to all files it includes (which don't themselves override it).\n\nPlease, see ISSUE-95.\n","closed_by":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/beancount/beancount/issues/134/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beancount/issues/134/timeline","performed_via_github_app":null,"state_reason":"completed"},{"url":"https://api.github.com/repos/beancount/beancount/issues/132","repository_url":"https://api.github.com/repos/beancount/beancount","labels_url":"https://api.github.com/repos/beancount/beancount/issues/132/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beancount/issues/132/comments","events_url":"https://api.github.com/repos/beancount/beancount/issues/132/events","html_url":"https://github.com/beancount/beancount/issues/132","id":623370998,"node_id":"MDU6SXNzdWU2MjMzNzA5OTg=","number":132,"title":"bean-query csv output format","user":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":2080994022,"node_id":"MDU6TGFiZWwyMDgwOTk0MDIy","url":"https://api.github.com/repos/beancount/beancount/labels/P2","name":"P2","color":"ffaaaa","default":false,"description":"Low priority, addressing would result in useful improvements"}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":2,"created_at":"2016-06-13T17:18:42Z","updated_at":"2018-01-24T02:49:36Z","closed_at":"2018-01-24T02:49:36Z","author_association":"MEMBER","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"**[Original report](https://bitbucket.org/blais/beancount/issue/132) by Jason Chu (Bitbucket: [xentac](https://bitbucket.org/xentac), GitHub: [xentac](https://github.com/xentac)).**\n\n----------------------------------------\n\nWhen do you think bean-query will support csv output?\n\nI'd like to be able to expand the vim-beancount autocomplete code and it seems like using bean-query to get the data will work super well.  Having a machine readable output format will make it way easier.\n","closed_by":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/beancount/beancount/issues/132/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beancount/issues/132/timeline","performed_via_github_app":null,"state_reason":"completed"},{"url":"https://api.github.com/repos/beancount/beancount/issues/131","repository_url":"https://api.github.com/repos/beancount/beancount","labels_url":"https://api.github.com/repos/beancount/beancount/issues/131/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beancount/issues/131/comments","events_url":"https://api.github.com/repos/beancount/beancount/issues/131/events","html_url":"https://github.com/beancount/beancount/issues/131","id":623370977,"node_id":"MDU6SXNzdWU2MjMzNzA5Nzc=","number":131,"title":"Aggregate the state of DisplayContext across all parsed files.","user":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":2080994022,"node_id":"MDU6TGFiZWwyMDgwOTk0MDIy","url":"https://api.github.com/repos/beancount/beancount/labels/P2","name":"P2","color":"ffaaaa","default":false,"description":"Low priority, addressing would result in useful improvements"},{"id":2080995647,"node_id":"MDU6TGFiZWwyMDgwOTk1NjQ3","url":"https://api.github.com/repos/beancount/beancount/labels/parser-loader","name":"parser-loader","color":"ededed","default":false,"description":"Component: Parser and loader"}],"state":"open","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":0,"created_at":"2016-06-07T02:28:39Z","updated_at":"2020-05-23T13:15:46Z","closed_at":null,"author_association":"MEMBER","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"**[Original report](https://bitbucket.org/blais/beancount/issue/131) by Martin Blais (Bitbucket: [blais](https://bitbucket.org/blais), GitHub: [blais](https://github.com/blais)).**\n\n----------------------------------------\n\nSee thread \"[fava] Display budgets (#165)\" in email.\nDisplayContext is uninitialized if the top-level file is just a list of includes...\nI think it's time to make at least some of the state aggregated across all parsed files.\nDisplayContext should be it for sure.\n","closed_by":null,"reactions":{"url":"https://api.github.com/repos/beancount/beancount/issues/131/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beancount/issues/131/timeline","performed_via_github_app":null,"state_reason":null},{"url":"https://api.github.com/repos/beancount/beancount/issues/130","repository_url":"https://api.github.com/repos/beancount/beancount","labels_url":"https://api.github.com/repos/beancount/beancount/issues/130/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beancount/issues/130/comments","events_url":"https://api.github.com/repos/beancount/beancount/issues/130/events","html_url":"https://github.com/beancount/beancount/issues/130","id":623370964,"node_id":"MDU6SXNzdWU2MjMzNzA5NjQ=","number":130,"title":"Padding involving the same account doesn't work incrementally","user":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":2080914000,"node_id":"MDU6TGFiZWwyMDgwOTE0MDAw","url":"https://api.github.com/repos/beancount/beancount/labels/BUG","name":"BUG","color":"cc99cc","default":false,"description":"This is a bug, not a feature request; something isn't working."},{"id":2080995603,"node_id":"MDU6TGFiZWwyMDgwOTk1NjAz","url":"https://api.github.com/repos/beancount/beancount/labels/core-ops","name":"core-ops","color":"ededed","default":false,"description":"Component: Core data structures and stream ops"},{"id":2080996667,"node_id":"MDU6TGFiZWwyMDgwOTk2NjY3","url":"https://api.github.com/repos/beancount/beancount/labels/P0","name":"P0","color":"ff0000","default":false,"description":"Critical priority, breaking changes to current version"}],"state":"open","locked":false,"assignee":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"assignees":[{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false}],"milestone":null,"comments":3,"created_at":"2016-06-07T02:21:16Z","updated_at":"2022-12-17T20:13:00Z","closed_at":null,"author_association":"MEMBER","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"**[Original report](https://bitbucket.org/blais/beancount/issue/130) by Martin Blais (Bitbucket: [blais](https://bitbucket.org/blais), GitHub: [blais](https://github.com/blais)).**\n\n----------------------------------------\n\nThere is no cross-talk between Pad directives.\nThe account balances should be updated as they are inserted.\nOr something.\nFor example, this should not fail:\n\n\n;; -*- mode: beancount -*-                                                                                    \nplugin \"beancount.plugins.auto_accounts\"\n\n2016-01-04 pad Expenses:Unknown Assets:Bank\n2016-01-05 pad Assets:Bank Expenses:Groceries\n2016-01-06 balance Expenses:Unknown 100.00 CNY\n2016-01-07 balance Assets:Bank 700.00 CNY\n\n\nSee discussion here:\nhttps://groups.google.com/d/msg/beancount/QvPzQZdQjfo/LTXm-0MLBAAJ\n","closed_by":null,"reactions":{"url":"https://api.github.com/repos/beancount/beancount/issues/130/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beancount/issues/130/timeline","performed_via_github_app":null,"state_reason":null},{"url":"https://api.github.com/repos/beancount/beancount/issues/129","repository_url":"https://api.github.com/repos/beancount/beancount","labels_url":"https://api.github.com/repos/beancount/beancount/issues/129/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beancount/issues/129/comments","events_url":"https://api.github.com/repos/beancount/beancount/issues/129/events","html_url":"https://github.com/beancount/beancount/issues/129","id":623370941,"node_id":"MDU6SXNzdWU2MjMzNzA5NDE=","number":129,"title":"bean-report and custom directives","user":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":2080914000,"node_id":"MDU6TGFiZWwyMDgwOTE0MDAw","url":"https://api.github.com/repos/beancount/beancount/labels/BUG","name":"BUG","color":"cc99cc","default":false,"description":"This is a bug, not a feature request; something isn't working."},{"id":2080994061,"node_id":"MDU6TGFiZWwyMDgwOTk0MDYx","url":"https://api.github.com/repos/beancount/beancount/labels/P3","name":"P3","color":"FFdddd","default":false,"description":"Very low priority, nice to have"},{"id":2080996004,"node_id":"MDU6TGFiZWwyMDgwOTk2MDA0","url":"https://api.github.com/repos/beancount/beancount/labels/reports","name":"reports","color":"ededed","default":false,"description":"Component: Canned reports"}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":3,"created_at":"2016-06-03T03:31:07Z","updated_at":"2016-11-07T03:11:01Z","closed_at":"2016-11-07T03:11:01Z","author_association":"MEMBER","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"**[Original report](https://bitbucket.org/blais/beancount/issue/129) by Bruno Vernier (Bitbucket: [brunov25](https://bitbucket.org/brunov25), GitHub: [brunov25](https://github.com/brunov25)).**\n\n----------------------------------------\n\nbean-report beanfile [h]ledger barfs the following when fed custom directives:\n\n\n\"Traceback (most recent call last):\n  File \"/usr/local/bin/bean-report\", line 2, in <module>\n    from beancount.reports.report import main; main()\n  File \"/usr/local/lib/python3.4/dist-packages/beancount/reports/report.py\", line 250, in main\n    chosen_report.render(entries, errors, options_map, args.format, outfile)\n  File \"/usr/local/lib/python3.4/dist-packages/beancount/reports/base.py\", line 113, in render\n    result = render_method(entries, errors, options_map, outfile)\n  File \"/usr/local/lib/python3.4/dist-packages/beancount/reports/convert_reports.py\", line 139, in render_ledger\n    file.write(ledger_printer(entry))\n  File \"/usr/local/lib/python3.4/dist-packages/beancount/reports/convert_reports.py\", line 155, in __call__\n    method = getattr(self, obj.__class__.__name__)\nAttributeError: 'LedgerPrinter' object has no attribute 'Custom'\n","closed_by":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/beancount/beancount/issues/129/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beancount/issues/129/timeline","performed_via_github_app":null,"state_reason":"completed"},{"url":"https://api.github.com/repos/beancount/beancount/issues/128","repository_url":"https://api.github.com/repos/beancount/beancount","labels_url":"https://api.github.com/repos/beancount/beancount/issues/128/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beancount/issues/128/comments","events_url":"https://api.github.com/repos/beancount/beancount/issues/128/events","html_url":"https://github.com/beancount/beancount/issues/128","id":623370904,"node_id":"MDU6SXNzdWU2MjMzNzA5MDQ=","number":128,"title":"bean-report holdings market value incorrect if no price given initially","user":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":2080914000,"node_id":"MDU6TGFiZWwyMDgwOTE0MDAw","url":"https://api.github.com/repos/beancount/beancount/labels/BUG","name":"BUG","color":"cc99cc","default":false,"description":"This is a bug, not a feature request; something isn't working."},{"id":2080994022,"node_id":"MDU6TGFiZWwyMDgwOTk0MDIy","url":"https://api.github.com/repos/beancount/beancount/labels/P2","name":"P2","color":"ffaaaa","default":false,"description":"Low priority, addressing would result in useful improvements"},{"id":2080995603,"node_id":"MDU6TGFiZWwyMDgwOTk1NjAz","url":"https://api.github.com/repos/beancount/beancount/labels/core-ops","name":"core-ops","color":"ededed","default":false,"description":"Component: Core data structures and stream ops"}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":9,"created_at":"2016-05-28T22:41:44Z","updated_at":"2016-06-11T06:00:23Z","closed_at":"2016-06-10T04:12:20Z","author_association":"MEMBER","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"**[Original report](https://bitbucket.org/blais/beancount/issue/128) by Len Wanger (GitHub: [lwanger](https://github.com/lwanger)).**\n\n----------------------------------------\n\nWhen I run reports the market value is calculated correctly if I give a price initially, but will just use a price of 1.0 if the initial price is left off - regardless of implicit price statements. See the attached example for two identical commodities with the exception of the initial price being set.\n\nLen\n","closed_by":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/beancount/beancount/issues/128/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beancount/issues/128/timeline","performed_via_github_app":null,"state_reason":"completed"},{"url":"https://api.github.com/repos/beancount/beancount/issues/126","repository_url":"https://api.github.com/repos/beancount/beancount","labels_url":"https://api.github.com/repos/beancount/beancount/issues/126/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beancount/issues/126/comments","events_url":"https://api.github.com/repos/beancount/beancount/issues/126/events","html_url":"https://github.com/beancount/beancount/issues/126","id":623370856,"node_id":"MDU6SXNzdWU2MjMzNzA4NTY=","number":126,"title":"restricted page in Google docs.","user":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":2080914000,"node_id":"MDU6TGFiZWwyMDgwOTE0MDAw","url":"https://api.github.com/repos/beancount/beancount/labels/BUG","name":"BUG","color":"cc99cc","default":false,"description":"This is a bug, not a feature request; something isn't working."},{"id":2080994777,"node_id":"MDU6TGFiZWwyMDgwOTk0Nzc3","url":"https://api.github.com/repos/beancount/beancount/labels/P1","name":"P1","color":"ff6666","default":false,"description":"High priority, not breaking but hindering or lessening existing functionality"},{"id":2081000198,"node_id":"MDU6TGFiZWwyMDgxMDAwMTk4","url":"https://api.github.com/repos/beancount/beancount/labels/documentation","name":"documentation","color":"ededed","default":true,"description":"Component: Improvements or additions to documentation"}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":1,"created_at":"2016-05-15T13:17:56Z","updated_at":"2016-05-15T17:39:15Z","closed_at":"2016-05-15T17:39:15Z","author_association":"MEMBER","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"**[Original report](https://bitbucket.org/blais/beancount/issue/126) by Akuukis (Bitbucket: [Akuukis](https://bitbucket.org/Akuukis), GitHub: [Akuukis](https://github.com/Akuukis)).**\n\n----------------------------------------\n\nHi,\n\nPage \"How Inventories Work\" is locked behind obligatory google signin. Imo it should be public like others or the reason explained in index page.\n\nThanks for the great app, migrating my accounting to it now.\n","closed_by":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/beancount/beancount/issues/126/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beancount/issues/126/timeline","performed_via_github_app":null,"state_reason":"completed"},{"url":"https://api.github.com/repos/beancount/beancount/issues/125","repository_url":"https://api.github.com/repos/beancount/beancount","labels_url":"https://api.github.com/repos/beancount/beancount/issues/125/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beancount/issues/125/comments","events_url":"https://api.github.com/repos/beancount/beancount/issues/125/events","html_url":"https://github.com/beancount/beancount/issues/125","id":623370837,"node_id":"MDU6SXNzdWU2MjMzNzA4Mzc=","number":125,"title":"Omitting all currencies in a transaction does not raise an error.","user":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":2080914000,"node_id":"MDU6TGFiZWwyMDgwOTE0MDAw","url":"https://api.github.com/repos/beancount/beancount/labels/BUG","name":"BUG","color":"cc99cc","default":false,"description":"This is a bug, not a feature request; something isn't working."},{"id":2080994022,"node_id":"MDU6TGFiZWwyMDgwOTk0MDIy","url":"https://api.github.com/repos/beancount/beancount/labels/P2","name":"P2","color":"ffaaaa","default":false,"description":"Low priority, addressing would result in useful improvements"},{"id":2080995647,"node_id":"MDU6TGFiZWwyMDgwOTk1NjQ3","url":"https://api.github.com/repos/beancount/beancount/labels/parser-loader","name":"parser-loader","color":"ededed","default":false,"description":"Component: Parser and loader"}],"state":"open","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":0,"created_at":"2016-05-08T20:50:50Z","updated_at":"2016-05-08T20:51:30Z","closed_at":null,"author_association":"MEMBER","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"**[Original report](https://bitbucket.org/blais/beancount/issue/125) by Martin Blais (Bitbucket: [blais](https://bitbucket.org/blais), GitHub: [blais](https://github.com/blais)).**\n\n----------------------------------------\n\n\n```\n#!python\n\nplugin \"beancount.plugins.auto_accounts\"\n\n2016-03-13 *\n  Expenses:Bank:Fee +3\n  Expenses:Transport +99.5\n  Expenses:Restaurant +103\n  Expenses:Shopping +26\n  Assets:CMB:Main\n```\n\n\n","closed_by":null,"reactions":{"url":"https://api.github.com/repos/beancount/beancount/issues/125/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beancount/issues/125/timeline","performed_via_github_app":null,"state_reason":null},{"url":"https://api.github.com/repos/beancount/beancount/issues/124","repository_url":"https://api.github.com/repos/beancount/beancount","labels_url":"https://api.github.com/repos/beancount/beancount/issues/124/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beancount/issues/124/comments","events_url":"https://api.github.com/repos/beancount/beancount/issues/124/events","html_url":"https://github.com/beancount/beancount/issues/124","id":623370809,"node_id":"MDU6SXNzdWU2MjMzNzA4MDk=","number":124,"title":"Possible memory leak in the parser.","user":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":2080914000,"node_id":"MDU6TGFiZWwyMDgwOTE0MDAw","url":"https://api.github.com/repos/beancount/beancount/labels/BUG","name":"BUG","color":"cc99cc","default":false,"description":"This is a bug, not a feature request; something isn't working."},{"id":2080994777,"node_id":"MDU6TGFiZWwyMDgwOTk0Nzc3","url":"https://api.github.com/repos/beancount/beancount/labels/P1","name":"P1","color":"ff6666","default":false,"description":"High priority, not breaking but hindering or lessening existing functionality"},{"id":2080995603,"node_id":"MDU6TGFiZWwyMDgwOTk1NjAz","url":"https://api.github.com/repos/beancount/beancount/labels/core-ops","name":"core-ops","color":"ededed","default":false,"description":"Component: Core data structures and stream ops"}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":5,"created_at":"2016-05-01T10:24:16Z","updated_at":"2016-05-01T22:48:53Z","closed_at":"2016-05-01T22:48:13Z","author_association":"MEMBER","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"**[Original report](https://bitbucket.org/blais/beancount/issue/124) by Jakob Schnitzer (Bitbucket: [yagebu](https://bitbucket.org/yagebu), GitHub: [yagebu](https://github.com/yagebu)).**\n\n----------------------------------------\n\nIn the process of investigating https://github.com/aumayr/fava/issues/247, I've found that the script below leads to a high memory usage. This leads me to believe the cause for the high memory usage of a long running `fava` process lies somewhere in the parser (if the file is read from cache, the memory usage is basically constant). Are there any global objects that might not be discarded by the garbage collection?\n\n    import os\n\n    os.environ['BEANCOUNT_DISABLE_LOAD_CACHE'] = '1'\n\n    from beancount import loader    # noqa\n\n\n    def load_file():\n        loader.load_file(os.environ['BEANCOUNT_FILE'])\n\n\n    for i in range(100):\n        load_file()\n","closed_by":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/beancount/beancount/issues/124/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beancount/issues/124/timeline","performed_via_github_app":null,"state_reason":"completed"},{"url":"https://api.github.com/repos/beancount/beancount/issues/123","repository_url":"https://api.github.com/repos/beancount/beancount","labels_url":"https://api.github.com/repos/beancount/beancount/issues/123/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beancount/issues/123/comments","events_url":"https://api.github.com/repos/beancount/beancount/issues/123/events","html_url":"https://github.com/beancount/beancount/issues/123","id":623370795,"node_id":"MDU6SXNzdWU2MjMzNzA3OTU=","number":123,"title":"Option to disable pickle cache.","user":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":2080994022,"node_id":"MDU6TGFiZWwyMDgwOTk0MDIy","url":"https://api.github.com/repos/beancount/beancount/labels/P2","name":"P2","color":"ffaaaa","default":false,"description":"Low priority, addressing would result in useful improvements"},{"id":2080995603,"node_id":"MDU6TGFiZWwyMDgwOTk1NjAz","url":"https://api.github.com/repos/beancount/beancount/labels/core-ops","name":"core-ops","color":"ededed","default":false,"description":"Component: Core data structures and stream ops"}],"state":"open","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":1,"created_at":"2016-04-20T14:35:55Z","updated_at":"2020-05-23T13:15:46Z","closed_at":null,"author_association":"MEMBER","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"**[Original report](https://bitbucket.org/blais/beancount/issue/123) by Jakob Schnitzer (Bitbucket: [yagebu](https://bitbucket.org/yagebu), GitHub: [yagebu](https://github.com/yagebu)).**\n\n----------------------------------------\n\nCurrently the only way to disable the pickle cache from being used is setting an environment variable (or copying code from `beancount.loader`). These are not ideal solutions when beancount is used as a library like in fava. In fava, the pickle cache is not really useful and seems to causing some issues ([#156](https://github.com/aumayr/fava/issues/156), [#247](https://github.com/aumayr/fava/issues/247)), so it would be nice if we could avoid using it.\n\nMaybe `loader.load_file` could take an optional `ignore_cache` argument or something like that.\n","closed_by":null,"reactions":{"url":"https://api.github.com/repos/beancount/beancount/issues/123/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beancount/issues/123/timeline","performed_via_github_app":null,"state_reason":null},{"url":"https://api.github.com/repos/beancount/beancount/issues/122","repository_url":"https://api.github.com/repos/beancount/beancount","labels_url":"https://api.github.com/repos/beancount/beancount/issues/122/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beancount/issues/122/comments","events_url":"https://api.github.com/repos/beancount/beancount/issues/122/events","html_url":"https://github.com/beancount/beancount/issues/122","id":623370772,"node_id":"MDU6SXNzdWU2MjMzNzA3NzI=","number":122,"title":"pickle cache prevents document folder from being scanned","user":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":2080914000,"node_id":"MDU6TGFiZWwyMDgwOTE0MDAw","url":"https://api.github.com/repos/beancount/beancount/labels/BUG","name":"BUG","color":"cc99cc","default":false,"description":"This is a bug, not a feature request; something isn't working."},{"id":2080994022,"node_id":"MDU6TGFiZWwyMDgwOTk0MDIy","url":"https://api.github.com/repos/beancount/beancount/labels/P2","name":"P2","color":"ffaaaa","default":false,"description":"Low priority, addressing would result in useful improvements"},{"id":2080995603,"node_id":"MDU6TGFiZWwyMDgwOTk1NjAz","url":"https://api.github.com/repos/beancount/beancount/labels/core-ops","name":"core-ops","color":"ededed","default":false,"description":"Component: Core data structures and stream ops"}],"state":"open","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":3,"created_at":"2016-04-20T14:23:30Z","updated_at":"2016-04-20T15:19:03Z","closed_at":null,"author_association":"MEMBER","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"**[Original report](https://bitbucket.org/blais/beancount/issue/122) by Jakob Schnitzer (Bitbucket: [yagebu](https://bitbucket.org/yagebu), GitHub: [yagebu](https://github.com/yagebu)).**\n\n----------------------------------------\n\nWhen none of the beancount files changed, the results will be read completely from the pickle cache. The documents and other plugins should maybe be run in any case as they might also depend on external files that beancount doesn't know about.\n","closed_by":null,"reactions":{"url":"https://api.github.com/repos/beancount/beancount/issues/122/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beancount/issues/122/timeline","performed_via_github_app":null,"state_reason":null},{"url":"https://api.github.com/repos/beancount/beancount/issues/121","repository_url":"https://api.github.com/repos/beancount/beancount","labels_url":"https://api.github.com/repos/beancount/beancount/issues/121/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beancount/issues/121/comments","events_url":"https://api.github.com/repos/beancount/beancount/issues/121/events","html_url":"https://github.com/beancount/beancount/issues/121","id":623370756,"node_id":"MDU6SXNzdWU2MjMzNzA3NTY=","number":121,"title":"Build some common infrastructure function to make configuring plugins via argparse easy, with nice error reporting.","user":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":2080994022,"node_id":"MDU6TGFiZWwyMDgwOTk0MDIy","url":"https://api.github.com/repos/beancount/beancount/labels/P2","name":"P2","color":"ffaaaa","default":false,"description":"Low priority, addressing would result in useful improvements"},{"id":2081000893,"node_id":"MDU6TGFiZWwyMDgxMDAwODkz","url":"https://api.github.com/repos/beancount/beancount/labels/plugins","name":"plugins","color":"ededed","default":false,"description":"Component: Plug-ins"}],"state":"open","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":1,"created_at":"2016-04-18T01:35:08Z","updated_at":"2020-05-23T13:15:46Z","closed_at":null,"author_association":"MEMBER","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"**[Original report](https://bitbucket.org/blais/beancount/issue/121) by Martin Blais (Bitbucket: [blais](https://bitbucket.org/blais), GitHub: [blais](https://github.com/blais)).**\n\n----------------------------------------\n\nHere is an example of a plugin using argparse to parse its config string:\nhttps://bitbucket.org/fxt/beansoup/src/35f85ab19765ff57f6900607262e05d9c8367eaa/beansoup/plugins/clear_transactions.py?at=default&fileviewer=file-view-default\n\nIt is set up in the beancount file like this:\n\nplugin \"beansoup.plugins.clear_transactions\" \"\n    --flag_pending\n    --cleared_tag=AUTO_CLEARED\n    --pending_tag=PENDING\n    --ignored_tag=CLEARED\n    --link_prefix=auto-cleared\n    --max_days=5\n    --skip_weekends\n    Assets:Clearing:Amex,Liabilities:Amex\n    Assets:Clearing:MyBank:Checking,Assets:MyBank:Checking\"\n\nAnd it will output config error messages like this:\n\nme$ bean-check fxt.beancount\n/Users/me/Documents/example.beancount:0:       argument CLEARING_ACCOUNT,MAIN_ACCOUNT: account 'Assets:Clearing:Amex' does not exist\n\nusage: beansoup.plugins.clear_transactions [--flag_pending]\n                                           [--cleared_tag TAG]\n                                           [--pending_tag TAG]\n                                           [--ignored_tag TAG]\n                                           [--link_prefix PREFIX]\n                                           [--max_days N] [--skip_weekends]\n                                           CLEARING_ACCOUNT,MAIN_ACCOUNT\n                                           [CLEARING_ACCOUNT,MAIN_ACCOUNT ...]\n\nA plugin that automatically tags cleared and pending transactions.\n\npositional arguments:\n  CLEARING_ACCOUNT,MAIN_ACCOUNT\n                        the names of a clearing account and its main account,\n                        separated by a comma (no space)\n\noptional arguments:\n  --flag_pending        annotate pending transactions with a ! flag (default:\n                        False)\n  --cleared_tag TAG     tag cleared transactions with TAG (default: CLEARED)\n  --pending_tag TAG     tag pending transactions with TAG (default: PENDING)\n  --ignored_tag TAG     ignore transactions that have a TAG tag (default:\n                        PRE_CLEARED)\n  --link_prefix PREFIX  link pairs of cleared transactions with PREFIX string\n                        followed by increasing count (default: cleared)\n  --max_days N          only pair transactions if they occurred no more than N\n                        days apart (default: 7)\n  --skip_weekends       skip weekends when measuring the time gap between\n                        transactions (default: False)\n\n\nIt takes very few lines of code to write a robust config string parser using argparse and it produces very helpful error and help messages.\nUsing a python literal dict and parsing it with ast.literal_eval() takes almost no code, but checking every parameter in that dict for the correct type and range of values and returning meaningful error messages for each of them would take some programming unless we wrote some helpers for that. Since argparse is already there and many programmers already know it, I felt it could be a good way to go about it. Again, Martin kept it all flexible, so this is just one way to deal with the config string.\n\nI have factored out a few lines of code useful for this in beansoup.plugins.config so that the code for the all the parsing and error reporting above boils down to:\n\ndef clear_transactions(entries, options_map, config_string):\n    parser = config.ArgumentParser(\n        prog='beansoup.plugins.clear_transactions',\n        description='A plugin that automatically tags cleared and pending transactions.',\n        formatter_class=argparse.ArgumentDefaultsHelpFormatter,\n        add_help=False,\n        entries_filename=options_map['filename'])\n    parser.add_argument(\n        '--flag_pending', action='store_true', default=False,\n        help='annotate pending transactions with a {} flag'.format(flags.FLAG_WARNING))\n    parser.add_argument(\n        '--cleared_tag', metavar='TAG', default='CLEARED',\n        help='tag cleared transactions with %(metavar)s')\n    parser.add_argument(\n        '--pending_tag', metavar='TAG', default='PENDING',\n        help='tag pending transactions with %(metavar)s')\n    parser.add_argument(\n        '--ignored_tag', metavar='TAG', default='PRE_CLEARED',\n        help='ignore transactions that have a %(metavar)s tag')\n    parser.add_argument(\n        '--link_prefix', metavar='PREFIX', default='cleared',\n        help='link pairs of cleared transactions with %(metavar)s string followed by increasing count')\n    parser.add_argument(\n        '--max_days', metavar='N', type=int, default=7,\n        help='only pair transactions if they occurred no more than %(metavar)s days apart')\n    parser.add_argument(\n        '--skip_weekends', action='store_true', default=False,\n        help='skip weekends when measuring the time gap between transactions')\n    parser.add_argument(\n        'account_pairs', metavar='CLEARING_ACCOUNT,MAIN_ACCOUNT', nargs='+',\n        type=AccountPairType(entries),\n        help='the names of a clearing account and its main account, separated by a comma (no space)')\n\n    try:\n        args = parser.parse_args((config_string or '').split())\n    except config.ParseError as error:\n        return entries, [error]\n\n    processor = Processor(args)\n    modified_entries, errors = processor.clear_transactions(entries)\n    \n    return [modified_entries.get(id(entry), entry) for entry in entries], errors\n","closed_by":null,"reactions":{"url":"https://api.github.com/repos/beancount/beancount/issues/121/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beancount/issues/121/timeline","performed_via_github_app":null,"state_reason":null},{"url":"https://api.github.com/repos/beancount/beancount/issues/120","repository_url":"https://api.github.com/repos/beancount/beancount","labels_url":"https://api.github.com/repos/beancount/beancount/issues/120/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beancount/issues/120/comments","events_url":"https://api.github.com/repos/beancount/beancount/issues/120/events","html_url":"https://github.com/beancount/beancount/issues/120","id":623370732,"node_id":"MDU6SXNzdWU2MjMzNzA3MzI=","number":120,"title":"Documents directive with a trailing slash fails; relative path is undocumented","user":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":2080914000,"node_id":"MDU6TGFiZWwyMDgwOTE0MDAw","url":"https://api.github.com/repos/beancount/beancount/labels/BUG","name":"BUG","color":"cc99cc","default":false,"description":"This is a bug, not a feature request; something isn't working."},{"id":2080994061,"node_id":"MDU6TGFiZWwyMDgwOTk0MDYx","url":"https://api.github.com/repos/beancount/beancount/labels/P3","name":"P3","color":"FFdddd","default":false,"description":"Very low priority, nice to have"},{"id":2080995603,"node_id":"MDU6TGFiZWwyMDgwOTk1NjAz","url":"https://api.github.com/repos/beancount/beancount/labels/core-ops","name":"core-ops","color":"ededed","default":false,"description":"Component: Core data structures and stream ops"}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":1,"created_at":"2016-04-14T16:46:38Z","updated_at":"2018-03-31T05:33:36Z","closed_at":"2018-03-31T05:33:36Z","author_association":"MEMBER","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"**[Original report](https://bitbucket.org/blais/beancount/issue/120) by Martin Blais (Bitbucket: [blais](https://bitbucket.org/blais), GitHub: [blais](https://github.com/blais)).**\n\n----------------------------------------\n\nOh looks like I found the problem. If the path input via option \"documents\" includes a trailing slash (e.g. \"/home/joe/stmts/\") it won't work. Getting rid of the trailing / fixed it.\n\nOne thing not mentioned is that the path can be relative to the location of the beancount file.\n","closed_by":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/beancount/beancount/issues/120/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beancount/issues/120/timeline","performed_via_github_app":null,"state_reason":"completed"},{"url":"https://api.github.com/repos/beancount/beancount/issues/119","repository_url":"https://api.github.com/repos/beancount/beancount","labels_url":"https://api.github.com/repos/beancount/beancount/issues/119/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beancount/issues/119/comments","events_url":"https://api.github.com/repos/beancount/beancount/issues/119/events","html_url":"https://github.com/beancount/beancount/issues/119","id":623370713,"node_id":"MDU6SXNzdWU2MjMzNzA3MTM=","number":119,"title":"If beancount file is encrypted relative document paths behave differently","user":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":2080914000,"node_id":"MDU6TGFiZWwyMDgwOTE0MDAw","url":"https://api.github.com/repos/beancount/beancount/labels/BUG","name":"BUG","color":"cc99cc","default":false,"description":"This is a bug, not a feature request; something isn't working."},{"id":2080994022,"node_id":"MDU6TGFiZWwyMDgwOTk0MDIy","url":"https://api.github.com/repos/beancount/beancount/labels/P2","name":"P2","color":"ffaaaa","default":false,"description":"Low priority, addressing would result in useful improvements"},{"id":2080995647,"node_id":"MDU6TGFiZWwyMDgwOTk1NjQ3","url":"https://api.github.com/repos/beancount/beancount/labels/parser-loader","name":"parser-loader","color":"ededed","default":false,"description":"Component: Parser and loader"}],"state":"open","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":1,"created_at":"2016-04-13T21:01:05Z","updated_at":"2018-08-20T15:23:36Z","closed_at":null,"author_association":"MEMBER","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"**[Original report](https://bitbucket.org/blais/beancount/issue/119) by Renato Alves.**\n\n----------------------------------------\n\nHi everyone,\n\nI just noticed this behavior after trying to setup `option \"documents\"` to automatically collect documents.\n\nIf the beancount file is not encrypted paths are relative to the location of said file.\nIf on the other hand the file is encrypted paths become relative to the current working directory.\n\nTo test this:\n\n1. Create a beancount file in `folder/file.beancount` and add a `document` statement containing `file.pdf` which should be located on the same folder as `file.beancount`.\n2. From the parent folder run: `bean-report -f html folder/file.beancount documents`. You should see some documents listed.\n3. Encrypt `folder/file.beancount` to `folder/file.beancount.gpg`.\n4. Repeat the previous report now pointing to `folder/file.beancount.gpg`. It should show `no documents`.\n5. Finally `chdir` into `folder` and repeat the `bean-report` command pointing to `file.beancount.gpg`. It should work normally again.\n","closed_by":null,"reactions":{"url":"https://api.github.com/repos/beancount/beancount/issues/119/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beancount/issues/119/timeline","performed_via_github_app":null,"state_reason":null},{"url":"https://api.github.com/repos/beancount/beancount/issues/118","repository_url":"https://api.github.com/repos/beancount/beancount","labels_url":"https://api.github.com/repos/beancount/beancount/issues/118/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beancount/issues/118/comments","events_url":"https://api.github.com/repos/beancount/beancount/issues/118/events","html_url":"https://github.com/beancount/beancount/issues/118","id":623370687,"node_id":"MDU6SXNzdWU2MjMzNzA2ODc=","number":118,"title":"Create a balance_end directive","user":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":2080994022,"node_id":"MDU6TGFiZWwyMDgwOTk0MDIy","url":"https://api.github.com/repos/beancount/beancount/labels/P2","name":"P2","color":"ffaaaa","default":false,"description":"Low priority, addressing would result in useful improvements"},{"id":2080995647,"node_id":"MDU6TGFiZWwyMDgwOTk1NjQ3","url":"https://api.github.com/repos/beancount/beancount/labels/parser-loader","name":"parser-loader","color":"ededed","default":false,"description":"Component: Parser and loader"}],"state":"open","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":2,"created_at":"2016-04-10T23:13:14Z","updated_at":"2022-05-22T01:31:13Z","closed_at":null,"author_association":"MEMBER","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"**[Original report](https://bitbucket.org/blais/beancount/issue/118) by Martin Blais (Bitbucket: [blais](https://bitbucket.org/blais), GitHub: [blais](https://github.com/blais)).**\n\n----------------------------------------\n\nSee:\nhttps://groups.google.com/d/msgid/beancount/CALkVjQbGAgJiGFb0aT9rUUYtiWOYOWvJGUgKqgGsuSE7%3DrodCQ%40mail.gmail.com?utm_medium=email&utm_source=footer\n\nThe new syntax should not have to produce a new directive type; rather, just fudge the date at input time.\n","closed_by":null,"reactions":{"url":"https://api.github.com/repos/beancount/beancount/issues/118/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beancount/issues/118/timeline","performed_via_github_app":null,"state_reason":null},{"url":"https://api.github.com/repos/beancount/beancount/issues/117","repository_url":"https://api.github.com/repos/beancount/beancount","labels_url":"https://api.github.com/repos/beancount/beancount/issues/117/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beancount/issues/117/comments","events_url":"https://api.github.com/repos/beancount/beancount/issues/117/events","html_url":"https://github.com/beancount/beancount/issues/117","id":623370670,"node_id":"MDU6SXNzdWU2MjMzNzA2NzA=","number":117,"title":"Support for locale based currency","user":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":2080994022,"node_id":"MDU6TGFiZWwyMDgwOTk0MDIy","url":"https://api.github.com/repos/beancount/beancount/labels/P2","name":"P2","color":"ffaaaa","default":false,"description":"Low priority, addressing would result in useful improvements"},{"id":2080995647,"node_id":"MDU6TGFiZWwyMDgwOTk1NjQ3","url":"https://api.github.com/repos/beancount/beancount/labels/parser-loader","name":"parser-loader","color":"ededed","default":false,"description":"Component: Parser and loader"}],"state":"open","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":1,"created_at":"2016-04-05T23:07:27Z","updated_at":"2020-05-23T13:15:46Z","closed_at":null,"author_association":"MEMBER","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"**[Original report](https://bitbucket.org/blais/beancount/issue/117) by Renato Alves.**\n\n----------------------------------------\n\nIn my locale the decimal separator is `,` instead of `.`.\nThe inverse is also true for the thousands separator.\n\nExample code:\n\n    >> import locale\n    >> _ = locale.setlocale(locale.LC_ALL, \"\")\n    >> print(locale.currency(12312323123, symbol=False, grouping=True))\n    12.312.323.123,00\n\nCould the parser support this to allow specifying currency in the beancount file according to the configured locale?\n\nOr alternatively provide one ore more `option` to define the thousands and decimal separators.\n","closed_by":null,"reactions":{"url":"https://api.github.com/repos/beancount/beancount/issues/117/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beancount/issues/117/timeline","performed_via_github_app":null,"state_reason":null},{"url":"https://api.github.com/repos/beancount/beancount/issues/116","repository_url":"https://api.github.com/repos/beancount/beancount","labels_url":"https://api.github.com/repos/beancount/beancount/issues/116/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beancount/issues/116/comments","events_url":"https://api.github.com/repos/beancount/beancount/issues/116/events","html_url":"https://github.com/beancount/beancount/issues/116","id":623370636,"node_id":"MDU6SXNzdWU2MjMzNzA2MzY=","number":116,"title":"Missing account from bean-report balances","user":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":2080914000,"node_id":"MDU6TGFiZWwyMDgwOTE0MDAw","url":"https://api.github.com/repos/beancount/beancount/labels/BUG","name":"BUG","color":"cc99cc","default":false,"description":"This is a bug, not a feature request; something isn't working."},{"id":2080994777,"node_id":"MDU6TGFiZWwyMDgwOTk0Nzc3","url":"https://api.github.com/repos/beancount/beancount/labels/P1","name":"P1","color":"ff6666","default":false,"description":"High priority, not breaking but hindering or lessening existing functionality"},{"id":2080996004,"node_id":"MDU6TGFiZWwyMDgwOTk2MDA0","url":"https://api.github.com/repos/beancount/beancount/labels/reports","name":"reports","color":"ededed","default":false,"description":"Component: Canned reports"}],"state":"open","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":4,"created_at":"2016-04-04T04:06:01Z","updated_at":"2018-04-18T04:57:33Z","closed_at":null,"author_association":"MEMBER","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"**[Original report](https://bitbucket.org/blais/beancount/issue/116) by Yuchen Ying (Bitbucket: [yegle](https://bitbucket.org/yegle), GitHub: [yegle](https://github.com/yegle)).**\n\n----------------------------------------\n\nA minimal case to demonstrate the problem:\n```\noption \"operating_currency\" \"USD\"\n\n2016-01-22 open Assets:One \"NONE\"\n2016-01-22 open Assets:Cash\n\n2016-01-28 open Assets:Two \"NONE\"\n\n2016-01-22 *\n    Assets:One   1 UNIT {10 USD}\n    Assets:Cash\n\n2016-01-28 *\n    Assets:One  -1 UNIT @10 USD\n    Assets:Two   1 UNIT @10 USD\n```\n\nWhen run `bean-report test.bean balances`, the output doesn't contain `Assets:One`'s balance:\n\n```\n$ bean-report test.bean balances\nAssets:Cash       -10.00 USD\nAssets:Two          1.00 UNIT\nEquity\nExpenses\nIncome\nLiabilities\n```\n","closed_by":null,"reactions":{"url":"https://api.github.com/repos/beancount/beancount/issues/116/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beancount/issues/116/timeline","performed_via_github_app":null,"state_reason":null},{"url":"https://api.github.com/repos/beancount/beancount/issues/112","repository_url":"https://api.github.com/repos/beancount/beancount","labels_url":"https://api.github.com/repos/beancount/beancount/issues/112/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beancount/issues/112/comments","events_url":"https://api.github.com/repos/beancount/beancount/issues/112/events","html_url":"https://github.com/beancount/beancount/issues/112","id":623370570,"node_id":"MDU6SXNzdWU2MjMzNzA1NzA=","number":112,"title":"Make the bean-report command run the queries from Query directives by default.","user":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":2080994022,"node_id":"MDU6TGFiZWwyMDgwOTk0MDIy","url":"https://api.github.com/repos/beancount/beancount/labels/P2","name":"P2","color":"ffaaaa","default":false,"description":"Low priority, addressing would result in useful improvements"},{"id":2080996004,"node_id":"MDU6TGFiZWwyMDgwOTk2MDA0","url":"https://api.github.com/repos/beancount/beancount/labels/reports","name":"reports","color":"ededed","default":false,"description":"Component: Canned reports"}],"state":"open","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":0,"created_at":"2016-03-20T19:08:14Z","updated_at":"2020-05-23T13:15:46Z","closed_at":null,"author_association":"MEMBER","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"**[Original report](https://bitbucket.org/blais/beancount/issue/112) by Martin Blais (Bitbucket: [blais](https://bitbucket.org/blais), GitHub: [blais](https://github.com/blais)).**\n\n----------------------------------------\n\n\n","closed_by":null,"reactions":{"url":"https://api.github.com/repos/beancount/beancount/issues/112/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beancount/issues/112/timeline","performed_via_github_app":null,"state_reason":null},{"url":"https://api.github.com/repos/beancount/beancount/issues/111","repository_url":"https://api.github.com/repos/beancount/beancount","labels_url":"https://api.github.com/repos/beancount/beancount/issues/111/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beancount/issues/111/comments","events_url":"https://api.github.com/repos/beancount/beancount/issues/111/events","html_url":"https://github.com/beancount/beancount/issues/111","id":623370557,"node_id":"MDU6SXNzdWU2MjMzNzA1NTc=","number":111,"title":"Allow unknown options for other programs.","user":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":2080994022,"node_id":"MDU6TGFiZWwyMDgwOTk0MDIy","url":"https://api.github.com/repos/beancount/beancount/labels/P2","name":"P2","color":"ffaaaa","default":false,"description":"Low priority, addressing would result in useful improvements"},{"id":2080995647,"node_id":"MDU6TGFiZWwyMDgwOTk1NjQ3","url":"https://api.github.com/repos/beancount/beancount/labels/parser-loader","name":"parser-loader","color":"ededed","default":false,"description":"Component: Parser and loader"}],"state":"open","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":3,"created_at":"2016-03-18T04:30:33Z","updated_at":"2021-11-24T19:20:21Z","closed_at":null,"author_association":"MEMBER","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"**[Original report](https://bitbucket.org/blais/beancount/issue/111) by Martin Blais (Bitbucket: [blais](https://bitbucket.org/blais), GitHub: [blais](https://github.com/blais)).**\n\n----------------------------------------\n\nhttps://www.youtube.com/watch?v=B2AWUYVH0wQ\n","closed_by":null,"reactions":{"url":"https://api.github.com/repos/beancount/beancount/issues/111/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beancount/issues/111/timeline","performed_via_github_app":null,"state_reason":null},{"url":"https://api.github.com/repos/beancount/beancount/issues/110","repository_url":"https://api.github.com/repos/beancount/beancount","labels_url":"https://api.github.com/repos/beancount/beancount/issues/110/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beancount/issues/110/comments","events_url":"https://api.github.com/repos/beancount/beancount/issues/110/events","html_url":"https://github.com/beancount/beancount/issues/110","id":623370546,"node_id":"MDU6SXNzdWU2MjMzNzA1NDY=","number":110,"title":"Add the ability to include with globbing patterns","user":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":2080994061,"node_id":"MDU6TGFiZWwyMDgwOTk0MDYx","url":"https://api.github.com/repos/beancount/beancount/labels/P3","name":"P3","color":"FFdddd","default":false,"description":"Very low priority, nice to have"},{"id":2080995647,"node_id":"MDU6TGFiZWwyMDgwOTk1NjQ3","url":"https://api.github.com/repos/beancount/beancount/labels/parser-loader","name":"parser-loader","color":"ededed","default":false,"description":"Component: Parser and loader"}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":2,"created_at":"2016-03-18T03:52:31Z","updated_at":"2018-03-20T04:54:24Z","closed_at":"2018-03-20T04:54:24Z","author_association":"MEMBER","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"**[Original report](https://bitbucket.org/blais/beancount/issue/110) by Martin Blais (Bitbucket: [blais](https://bitbucket.org/blais), GitHub: [blais](https://github.com/blais)).**\n\n----------------------------------------\n\n>>>>> Gavin Hughes <gavhug@gmail.com> writes:\n\n> That doesn't work either, nor does subdir/**/*.* or any other combo I can\n> think of.\n\n> Open a bug report?\n\nIt's not really a bug, per se, but I'd welcome a feature request. Not every\napplication supports a recursive globbing syntax. Not even bash did until\nversion 4, for example.\n","closed_by":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/beancount/beancount/issues/110/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beancount/issues/110/timeline","performed_via_github_app":null,"state_reason":"completed"},{"url":"https://api.github.com/repos/beancount/beancount/issues/109","repository_url":"https://api.github.com/repos/beancount/beancount","labels_url":"https://api.github.com/repos/beancount/beancount/issues/109/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beancount/issues/109/comments","events_url":"https://api.github.com/repos/beancount/beancount/issues/109/events","html_url":"https://github.com/beancount/beancount/issues/109","id":623370522,"node_id":"MDU6SXNzdWU2MjMzNzA1MjI=","number":109,"title":"A lot of decimal digits if using total price","user":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":2080914000,"node_id":"MDU6TGFiZWwyMDgwOTE0MDAw","url":"https://api.github.com/repos/beancount/beancount/labels/BUG","name":"BUG","color":"cc99cc","default":false,"description":"This is a bug, not a feature request; something isn't working."},{"id":2080994022,"node_id":"MDU6TGFiZWwyMDgwOTk0MDIy","url":"https://api.github.com/repos/beancount/beancount/labels/P2","name":"P2","color":"ffaaaa","default":false,"description":"Low priority, addressing would result in useful improvements"},{"id":2080995603,"node_id":"MDU6TGFiZWwyMDgwOTk1NjAz","url":"https://api.github.com/repos/beancount/beancount/labels/core-ops","name":"core-ops","color":"ededed","default":false,"description":"Component: Core data structures and stream ops"}],"state":"open","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":1,"created_at":"2016-03-17T07:59:37Z","updated_at":"2018-04-18T05:16:22Z","closed_at":null,"author_association":"MEMBER","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"**[Original report](https://bitbucket.org/blais/beancount/issue/109) by Jakob Schnitzer (Bitbucket: [yagebu](https://bitbucket.org/yagebu), GitHub: [yagebu](https://github.com/yagebu)).**\n\n----------------------------------------\n\nThe `bean-web` journal (and the `fava` journal) use the input precision to render units, price and cost. I actually like this as it allows me to spot problems with the data in my file. However, some computed will be shown with ~20 decimal digits.\n\nI've input most of my transactions in foreign currencies using a total price with `@@`, e.g. `9.50 GBP @@ 11.18 EUR`. This leads to a price with a lot of unnecessary digits (1.176842105263157894736842105 EUR in the example), as the number don't divide nicely. It would be nice if beancount would only calculate the price number of digits required to make the transaction balance under the known tolerances. Or is there some reason why this behaviour would be bad?\n","closed_by":null,"reactions":{"url":"https://api.github.com/repos/beancount/beancount/issues/109/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beancount/issues/109/timeline","performed_via_github_app":null,"state_reason":null},{"url":"https://api.github.com/repos/beancount/beancount/issues/108","repository_url":"https://api.github.com/repos/beancount/beancount","labels_url":"https://api.github.com/repos/beancount/beancount/issues/108/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beancount/issues/108/comments","events_url":"https://api.github.com/repos/beancount/beancount/issues/108/events","html_url":"https://github.com/beancount/beancount/issues/108","id":623370505,"node_id":"MDU6SXNzdWU2MjMzNzA1MDU=","number":108,"title":"beancount.report reports aren't honoring the DisplayContext.. make them do so.","user":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":2080914000,"node_id":"MDU6TGFiZWwyMDgwOTE0MDAw","url":"https://api.github.com/repos/beancount/beancount/labels/BUG","name":"BUG","color":"cc99cc","default":false,"description":"This is a bug, not a feature request; something isn't working."},{"id":2080994777,"node_id":"MDU6TGFiZWwyMDgwOTk0Nzc3","url":"https://api.github.com/repos/beancount/beancount/labels/P1","name":"P1","color":"ff6666","default":false,"description":"High priority, not breaking but hindering or lessening existing functionality"},{"id":2080996004,"node_id":"MDU6TGFiZWwyMDgwOTk2MDA0","url":"https://api.github.com/repos/beancount/beancount/labels/reports","name":"reports","color":"ededed","default":false,"description":"Component: Canned reports"}],"state":"open","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":2,"created_at":"2016-03-12T19:54:30Z","updated_at":"2018-03-26T20:42:37Z","closed_at":null,"author_association":"MEMBER","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"**[Original report](https://bitbucket.org/blais/beancount/issue/108) by Martin Blais (Bitbucket: [blais](https://bitbucket.org/blais), GitHub: [blais](https://github.com/blais)).**\n\n----------------------------------------\n\nI think this is an oversight. The reports defined under beancount.report have never been converted to honor the display precision... make them do so.\n","closed_by":null,"reactions":{"url":"https://api.github.com/repos/beancount/beancount/issues/108/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beancount/issues/108/timeline","performed_via_github_app":null,"state_reason":null},{"url":"https://api.github.com/repos/beancount/beancount/issues/107","repository_url":"https://api.github.com/repos/beancount/beancount","labels_url":"https://api.github.com/repos/beancount/beancount/issues/107/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beancount/issues/107/comments","events_url":"https://api.github.com/repos/beancount/beancount/issues/107/events","html_url":"https://github.com/beancount/beancount/issues/107","id":623370488,"node_id":"MDU6SXNzdWU2MjMzNzA0ODg=","number":107,"title":"Review all codes that renders units, costs and prices for precision using display context.","user":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":2080994777,"node_id":"MDU6TGFiZWwyMDgwOTk0Nzc3","url":"https://api.github.com/repos/beancount/beancount/labels/P1","name":"P1","color":"ff6666","default":false,"description":"High priority, not breaking but hindering or lessening existing functionality"},{"id":2080995603,"node_id":"MDU6TGFiZWwyMDgwOTk1NjAz","url":"https://api.github.com/repos/beancount/beancount/labels/core-ops","name":"core-ops","color":"ededed","default":false,"description":"Component: Core data structures and stream ops"}],"state":"open","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":0,"created_at":"2016-03-12T19:36:37Z","updated_at":"2020-05-23T13:15:46Z","closed_at":null,"author_association":"MEMBER","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"**[Original report](https://bitbucket.org/blais/beancount/issue/107) by Martin Blais (Bitbucket: [blais](https://bitbucket.org/blais), GitHub: [blais](https://github.com/blais)).**\n\n----------------------------------------\n\nI don't believe all the code using the display context is doing the right thing re. costs and prices. We need to review all this code and make sure it is rendering those numbers consistently. Maybe propagate three DCs; not sure.\n","closed_by":null,"reactions":{"url":"https://api.github.com/repos/beancount/beancount/issues/107/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beancount/issues/107/timeline","performed_via_github_app":null,"state_reason":null},{"url":"https://api.github.com/repos/beancount/beancount/issues/106","repository_url":"https://api.github.com/repos/beancount/beancount","labels_url":"https://api.github.com/repos/beancount/beancount/issues/106/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beancount/issues/106/comments","events_url":"https://api.github.com/repos/beancount/beancount/issues/106/events","html_url":"https://github.com/beancount/beancount/issues/106","id":623370460,"node_id":"MDU6SXNzdWU2MjMzNzA0NjA=","number":106,"title":"render_commas is unused","user":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":2080914000,"node_id":"MDU6TGFiZWwyMDgwOTE0MDAw","url":"https://api.github.com/repos/beancount/beancount/labels/BUG","name":"BUG","color":"cc99cc","default":false,"description":"This is a bug, not a feature request; something isn't working."},{"id":2080994777,"node_id":"MDU6TGFiZWwyMDgwOTk0Nzc3","url":"https://api.github.com/repos/beancount/beancount/labels/P1","name":"P1","color":"ff6666","default":false,"description":"High priority, not breaking but hindering or lessening existing functionality"},{"id":2080995647,"node_id":"MDU6TGFiZWwyMDgwOTk1NjQ3","url":"https://api.github.com/repos/beancount/beancount/labels/parser-loader","name":"parser-loader","color":"ededed","default":false,"description":"Component: Parser and loader"}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":4,"created_at":"2016-03-12T18:16:48Z","updated_at":"2016-03-12T19:38:13Z","closed_at":"2016-03-12T19:38:13Z","author_association":"MEMBER","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"**[Original report](https://bitbucket.org/blais/beancount/issue/106) by Martin Blais (Bitbucket: [blais](https://bitbucket.org/blais), GitHub: [blais](https://github.com/blais)).**\n\n----------------------------------------\n\nMake it set the default of DisplayContext value for rendering commas, write unit tests\n","closed_by":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/beancount/beancount/issues/106/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beancount/issues/106/timeline","performed_via_github_app":null,"state_reason":"completed"},{"url":"https://api.github.com/repos/beancount/beancount/issues/104","repository_url":"https://api.github.com/repos/beancount/beancount","labels_url":"https://api.github.com/repos/beancount/beancount/issues/104/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beancount/issues/104/comments","events_url":"https://api.github.com/repos/beancount/beancount/issues/104/events","html_url":"https://github.com/beancount/beancount/issues/104","id":623370407,"node_id":"MDU6SXNzdWU2MjMzNzA0MDc=","number":104,"title":"bean-format failed when number contains comma","user":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":2080914000,"node_id":"MDU6TGFiZWwyMDgwOTE0MDAw","url":"https://api.github.com/repos/beancount/beancount/labels/BUG","name":"BUG","color":"cc99cc","default":false,"description":"This is a bug, not a feature request; something isn't working."},{"id":2080994022,"node_id":"MDU6TGFiZWwyMDgwOTk0MDIy","url":"https://api.github.com/repos/beancount/beancount/labels/P2","name":"P2","color":"ffaaaa","default":false,"description":"Low priority, addressing would result in useful improvements"}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":2,"created_at":"2016-03-10T07:11:04Z","updated_at":"2016-03-12T19:45:57Z","closed_at":"2016-03-12T19:45:57Z","author_association":"MEMBER","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"**[Original report](https://bitbucket.org/blais/beancount/issue/104) by Yuchen Ying (Bitbucket: [yegle](https://bitbucket.org/yegle), GitHub: [yegle](https://github.com/yegle)).**\n\n----------------------------------------\n\nbean-check happily accept the file but bean-format doesn't agree:\n\n```\n$ cat test.bean\n2016-03-09 open Assets:Test\n2016-03-09 open Liabilities:Test\n2016-03-09 *\n    Assets:Test -20,000 USD\n    Liabilities:Test 20,000 USD\n\n$ bean-format test.bean\nTraceback (most recent call last):\n  File \"/Users/yegle/.py3kvenv/bin/bean-format\", line 2, in <module>\n    from beancount.scripts.format import main; main()\n  File \"/Users/yegle/.py3kvenv/lib/python3.5/site-packages/beancount/scripts/format.py\", line 153, in main\n    formatted_contents = align_beancount(contents)\n  File \"/Users/yegle/.py3kvenv/lib/python3.5/site-packages/beancount/scripts/format.py\", line 81, in align_beancount\n    assert (old_stripped == new_stripped), (old_stripped, new_stripped)\nAssertionError: ('2016-03-09 open Assets:Test 2016-03-09 open Liabilities:Test 2016-03-09 * Assets:Test -20,000 USD Liabilities:Test 20,000 USD', '2016-03-09 open Assets:Test 2016-03-09 open Liabilities:Test 2016-03-09 * Assets:Test Liabilities:Test')\n```\n","closed_by":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/beancount/beancount/issues/104/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beancount/issues/104/timeline","performed_via_github_app":null,"state_reason":"completed"},{"url":"https://api.github.com/repos/beancount/beancount/issues/103","repository_url":"https://api.github.com/repos/beancount/beancount","labels_url":"https://api.github.com/repos/beancount/beancount/issues/103/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beancount/issues/103/comments","events_url":"https://api.github.com/repos/beancount/beancount/issues/103/events","html_url":"https://github.com/beancount/beancount/issues/103","id":623370392,"node_id":"MDU6SXNzdWU2MjMzNzAzOTI=","number":103,"title":"Make the balance sheet and income statement reports support conversion to a single currency","user":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":2080994777,"node_id":"MDU6TGFiZWwyMDgwOTk0Nzc3","url":"https://api.github.com/repos/beancount/beancount/labels/P1","name":"P1","color":"ff6666","default":false,"description":"High priority, not breaking but hindering or lessening existing functionality"},{"id":2080996004,"node_id":"MDU6TGFiZWwyMDgwOTk2MDA0","url":"https://api.github.com/repos/beancount/beancount/labels/reports","name":"reports","color":"ededed","default":false,"description":"Component: Canned reports"}],"state":"open","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":0,"created_at":"2016-03-08T03:52:19Z","updated_at":"2020-05-23T13:15:46Z","closed_at":null,"author_association":"MEMBER","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"**[Original report](https://bitbucket.org/blais/beancount/issue/103) by Martin Blais (Bitbucket: [blais](https://bitbucket.org/blais), GitHub: [blais](https://github.com/blais)).**\n\n----------------------------------------\n\nhttps://groups.google.com/d/msgid/beancount/abd01e35-922e-4938-a735-c0c7212a4856%40googlegroups.com?utm_medium=email&utm_source=footer\n","closed_by":null,"reactions":{"url":"https://api.github.com/repos/beancount/beancount/issues/103/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beancount/issues/103/timeline","performed_via_github_app":null,"state_reason":null},{"url":"https://api.github.com/repos/beancount/beancount/issues/102","repository_url":"https://api.github.com/repos/beancount/beancount","labels_url":"https://api.github.com/repos/beancount/beancount/issues/102/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beancount/issues/102/comments","events_url":"https://api.github.com/repos/beancount/beancount/issues/102/events","html_url":"https://github.com/beancount/beancount/issues/102","id":623370373,"node_id":"MDU6SXNzdWU2MjMzNzAzNzM=","number":102,"title":"Create a balance assertion that applies only to tagged or linked transactions.","user":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":2080994777,"node_id":"MDU6TGFiZWwyMDgwOTk0Nzc3","url":"https://api.github.com/repos/beancount/beancount/labels/P1","name":"P1","color":"ff6666","default":false,"description":"High priority, not breaking but hindering or lessening existing functionality"},{"id":2080995603,"node_id":"MDU6TGFiZWwyMDgwOTk1NjAz","url":"https://api.github.com/repos/beancount/beancount/labels/core-ops","name":"core-ops","color":"ededed","default":false,"description":"Component: Core data structures and stream ops"}],"state":"open","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":0,"created_at":"2016-02-25T05:48:58Z","updated_at":"2020-05-23T13:15:46Z","closed_at":null,"author_association":"MEMBER","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"**[Original report](https://bitbucket.org/blais/beancount/issue/102) by Martin Blais (Bitbucket: [blais](https://bitbucket.org/blais), GitHub: [blais](https://github.com/blais)).**\n\n----------------------------------------\n\nOn Wed, Feb 24, 2016 at 1:55 AM, Daniël Bos <corani@gmail.com> wrote:\nA small change of wording:\n\n> It would be nice in this case to assert that after these transactions the payable and receivable accounts have balances of zero.\n\nAfter all transactions linked with \"dental-claim-XXXX\" are applied,\nthe *net effect* on AccountsReceivable and AccountsPayable is zero.\nOr, on a trial balance with only the linked transactions, the balance\nin AccountsReceivable and AccountsPayable is zero.\n\nI can see how this could come in handy, I regularly need to do the\nsame (routing money through a bunch of accounts before they arrive at\nthe final Expense account).\n\nMy first thought as to syntax was to link balance assertions to the\ntransactions. That would require the smallest syntax change, and\nassure the assertions show up with the linked transactions. I'm not\nsure if this would be *too* subtle though:\n\n2015-11-03 balance Assets:AccountsReceivable 0 ^dental-claim-XXXXXXXXXXXXXX\n2015-11-03 balance Liabilities:AccountsPayable 0 ^dental-claim-XXXXXXXXXXXXXX\n\nThis is _exactly_ what I'd been thinking. \n\nI agree that it's a bit subtle... links are used in transactions to associate them together; the equivalent semantics here would be merely to include the balance in the set of filtered directives (along with its associated transactions), not to indicate that the balance assertion should only apply to this filtered set only.\n\nHOWEVER, a global balance assertion could not apply to a set of filtered transactions, it would make no sense. So I think it might be reasonable to define it in this way, that is, if there is a link on the balance directive, the semantics would be that the balance only applies to the set of filtered transactions.\n\nIn the implementation, this will require a new processing step.\n\nThanks for your feedback.\n","closed_by":null,"reactions":{"url":"https://api.github.com/repos/beancount/beancount/issues/102/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beancount/issues/102/timeline","performed_via_github_app":null,"state_reason":null},{"url":"https://api.github.com/repos/beancount/beancount/issues/101","repository_url":"https://api.github.com/repos/beancount/beancount","labels_url":"https://api.github.com/repos/beancount/beancount/issues/101/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beancount/issues/101/comments","events_url":"https://api.github.com/repos/beancount/beancount/issues/101/events","html_url":"https://github.com/beancount/beancount/issues/101","id":623370332,"node_id":"MDU6SXNzdWU2MjMzNzAzMzI=","number":101,"title":"Integrate aumayr's beancount-docs into beancount/doc","user":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":2080994022,"node_id":"MDU6TGFiZWwyMDgwOTk0MDIy","url":"https://api.github.com/repos/beancount/beancount/labels/P2","name":"P2","color":"ffaaaa","default":false,"description":"Low priority, addressing would result in useful improvements"},{"id":2081000198,"node_id":"MDU6TGFiZWwyMDgxMDAwMTk4","url":"https://api.github.com/repos/beancount/beancount/labels/documentation","name":"documentation","color":"ededed","default":true,"description":"Component: Improvements or additions to documentation"}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":13,"created_at":"2016-02-24T02:31:52Z","updated_at":"2020-05-22T22:13:48Z","closed_at":"2020-05-22T22:13:47Z","author_association":"MEMBER","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"**[Original report](https://bitbucket.org/blais/beancount/issue/101) by Martin Blais (Bitbucket: [blais](https://bitbucket.org/blais), GitHub: [blais](https://github.com/blais)).**\n\n----------------------------------------\n\nhttps://github.com/aumayr/beancount-docs\n","closed_by":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/beancount/beancount/issues/101/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beancount/issues/101/timeline","performed_via_github_app":null,"state_reason":"completed"},{"url":"https://api.github.com/repos/beancount/beancount/issues/100","repository_url":"https://api.github.com/repos/beancount/beancount","labels_url":"https://api.github.com/repos/beancount/beancount/issues/100/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beancount/issues/100/comments","events_url":"https://api.github.com/repos/beancount/beancount/issues/100/events","html_url":"https://github.com/beancount/beancount/issues/100","id":623370299,"node_id":"MDU6SXNzdWU2MjMzNzAyOTk=","number":100,"title":"Provide an external registration mechanism to build new reports, for fava","user":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":2080996004,"node_id":"MDU6TGFiZWwyMDgwOTk2MDA0","url":"https://api.github.com/repos/beancount/beancount/labels/reports","name":"reports","color":"ededed","default":false,"description":"Component: Canned reports"},{"id":2080996667,"node_id":"MDU6TGFiZWwyMDgwOTk2NjY3","url":"https://api.github.com/repos/beancount/beancount/labels/P0","name":"P0","color":"ff0000","default":false,"description":"Critical priority, breaking changes to current version"}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":2,"created_at":"2016-02-20T22:44:57Z","updated_at":"2020-05-23T13:34:15Z","closed_at":"2020-05-23T13:34:15Z","author_association":"MEMBER","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"**[Original report](https://bitbucket.org/blais/beancount/issue/100) by Martin Blais (Bitbucket: [blais](https://bitbucket.org/blais), GitHub: [blais](https://github.com/blais)).**\n\n----------------------------------------\n\nhttps://github.com/aumayr/fava/issues/145#issuecomment-186693708\n\n\n\nI favor (3).\nbean-report was designed to include extensible reports that would render in\na variety of formats.\nI think those formats should include CSV, ODF, XLS, etc. from Beancount\nitself.\nI don't think the dependencies to make those happen are unreasonable, and\nif they are fat dependencies, we can make those optional. IMO it is within\nthe scope of Beancount to provide this.\n\nPerfect, I will look how to integrate the ones I had in mind (PDF, XLS) into beancount and then get those reports for a download-button in fava.\n\nI could extend the registration mechanism for reports (\nhttps://bitbucket.org/blais/beancount/src/54157625f090c97e70356ecf71607cf3784eadf3/src/python/beancount/reports/balance_reports.> py?at=default&fileviewer=file-view-default#balance_reports.py-140)\nto include outside modules, so you could create your own reports outside so\nBeancount's development doesn't slow you down, yet still work within its\nframework, if this makes sense.\n\nWould definitely make sense and would be much appreciated if it isn't too much effort on your part.\n","closed_by":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/beancount/beancount/issues/100/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beancount/issues/100/timeline","performed_via_github_app":null,"state_reason":"completed"},{"url":"https://api.github.com/repos/beancount/beancount/issues/99","repository_url":"https://api.github.com/repos/beancount/beancount","labels_url":"https://api.github.com/repos/beancount/beancount/issues/99/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beancount/issues/99/comments","events_url":"https://api.github.com/repos/beancount/beancount/issues/99/events","html_url":"https://github.com/beancount/beancount/issues/99","id":623370271,"node_id":"MDU6SXNzdWU2MjMzNzAyNzE=","number":99,"title":"multi-line syntax for tags and links","user":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":2080994022,"node_id":"MDU6TGFiZWwyMDgwOTk0MDIy","url":"https://api.github.com/repos/beancount/beancount/labels/P2","name":"P2","color":"ffaaaa","default":false,"description":"Low priority, addressing would result in useful improvements"},{"id":2080995647,"node_id":"MDU6TGFiZWwyMDgwOTk1NjQ3","url":"https://api.github.com/repos/beancount/beancount/labels/parser-loader","name":"parser-loader","color":"ededed","default":false,"description":"Component: Parser and loader"}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":6,"created_at":"2016-02-19T08:10:28Z","updated_at":"2018-05-04T03:06:11Z","closed_at":"2018-05-04T03:06:09Z","author_association":"MEMBER","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"**[Original report](https://bitbucket.org/blais/beancount/issue/99) by Stefano Zacchiroli (Bitbucket: [zacchiro](https://bitbucket.org/zacchiro), GitHub: [zacchiro](https://github.com/zacchiro)).**\n\n----------------------------------------\n\nCurrently, #tags and ^links are bound to be written in-line, on the first line of a transaction, like this:\n```\n  2015-05-30 ! \"Cable Co\" \"Phone Bill\" #tag1 ˆlink1\n    id: \"TW378743437\"               ; Meta-data\n    Expenses:Home:Phone  87.45 USD\n    Assets:Checking                 ; You may leave one amount out\n```\nwhereas metadata are written on multiple lines.\n\nThis is unfortunate, as it discourages using multiple tags and links, barring having to maintain very long lines in your journal.\n\nIt would be nice if tags and links could be written both on the first line of a transaction and also elsewhere in it, e.g., between the first line and the first posting like this:\n```\n  2015-05-30 ! \"Cable Co\" \"Phone Bill\" #tag1 ˆlink1\n    #tag2 #tag3\n    ^link2\n    #tag4\n    ^link3 ^link4 ^link5\n    id: \"TW378743437\"               ; Meta-data\n    Expenses:Home:Phone  87.45 USD\n    Assets:Checking                 ; You may leave one amount out\n```\n\nThanks for considering,\n","closed_by":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/beancount/beancount/issues/99/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beancount/issues/99/timeline","performed_via_github_app":null,"state_reason":"completed"},{"url":"https://api.github.com/repos/beancount/beancount/issues/96","repository_url":"https://api.github.com/repos/beancount/beancount","labels_url":"https://api.github.com/repos/beancount/beancount/issues/96/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beancount/issues/96/comments","events_url":"https://api.github.com/repos/beancount/beancount/issues/96/events","html_url":"https://github.com/beancount/beancount/issues/96","id":623370186,"node_id":"MDU6SXNzdWU2MjMzNzAxODY=","number":96,"title":"Try to import \"cdecimal\" explicitly if regular \"decimal\" isn't cdecimal","user":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":2080994061,"node_id":"MDU6TGFiZWwyMDgwOTk0MDYx","url":"https://api.github.com/repos/beancount/beancount/labels/P3","name":"P3","color":"FFdddd","default":false,"description":"Very low priority, nice to have"},{"id":2080995603,"node_id":"MDU6TGFiZWwyMDgwOTk1NjAz","url":"https://api.github.com/repos/beancount/beancount/labels/core-ops","name":"core-ops","color":"ededed","default":false,"description":"Component: Core data structures and stream ops"}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":3,"created_at":"2016-01-08T13:24:18Z","updated_at":"2016-01-11T00:39:22Z","closed_at":"2016-01-11T00:39:22Z","author_association":"MEMBER","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"**[Original report](https://bitbucket.org/blais/beancount/issue/96) by Martin Blais (Bitbucket: [blais](https://bitbucket.org/blais), GitHub: [blais](https://github.com/blais)).**\n\n----------------------------------------\n\nNot a great solution.\n\nAlternatives:\n\n- I could try to import \"cdecimal\" explicitly if the Python 3 install's default decimal library is not cdecimal. That would solve your problem, if you then install the \"cdecimal\" package.\n\n- You could also build your own Python from source, like I do. It's nice to use something more recenty.\n\n\n\n\n\n\n\n\nOn Fri, Jan 8, 2016 at 6:27 AM, Daniël Bos <corani@gmail.com> wrote:\nAh, I found a way. You're right, Ubuntu indeed doesn't include cdecimal.\n\n$ python3 -i\nPython 3.4.3 (default, Oct 14 2015, 20:28:29)\n>>> import decimal\n>>> decimal.__file__\n'/usr/lib/python3.4/decimal.py'\n\nI guess I'll just remove the warning from the source before building,\nsince there doesn't seem to be an (easy) way to fix this on Ubuntu...\n\nOn Fri, Jan 8, 2016 at 7:18 PM, Martin Blais <blais@furius.ca> wrote:\n> I'm not sure.\n> I looked into it a bit at the time but did not conclude on a good reason why\n> Ubuntu seems to not just built it in by default.\n>\n","closed_by":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/beancount/beancount/issues/96/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beancount/issues/96/timeline","performed_via_github_app":null,"state_reason":"completed"},{"url":"https://api.github.com/repos/beancount/beancount/issues/95","repository_url":"https://api.github.com/repos/beancount/beancount","labels_url":"https://api.github.com/repos/beancount/beancount/issues/95/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beancount/issues/95/comments","events_url":"https://api.github.com/repos/beancount/beancount/issues/95/events","html_url":"https://github.com/beancount/beancount/issues/95","id":623370175,"node_id":"MDU6SXNzdWU2MjMzNzAxNzU=","number":95,"title":"Provide a standardized method to identify automatically-generated transactions","user":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":2080994022,"node_id":"MDU6TGFiZWwyMDgwOTk0MDIy","url":"https://api.github.com/repos/beancount/beancount/labels/P2","name":"P2","color":"ffaaaa","default":false,"description":"Low priority, addressing would result in useful improvements"},{"id":2081000893,"node_id":"MDU6TGFiZWwyMDgxMDAwODkz","url":"https://api.github.com/repos/beancount/beancount/labels/plugins","name":"plugins","color":"ededed","default":false,"description":"Component: Plug-ins"}],"state":"open","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":0,"created_at":"2016-01-08T00:57:28Z","updated_at":"2020-05-23T13:15:46Z","closed_at":null,"author_association":"MEMBER","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"**[Original report](https://bitbucket.org/blais/beancount/issue/95) by Red Street (GitHub: [redstreet](https://github.com/redstreet)).**\n\n----------------------------------------\n\nFor several reasons, it would be helpful for automatically-generated transactions to be identifiable as such by other plugins and reporting tools. [1] shows and example of where this would be useful. It would also be useful in other situations including when plugins need to identify transactions that came from a user's source file vs. transactions that were added by another plugin or the core.\n\n[1] https://github.com/aumayr/beancount-web/issues/35#issuecomment-167024633\n","closed_by":null,"reactions":{"url":"https://api.github.com/repos/beancount/beancount/issues/95/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beancount/issues/95/timeline","performed_via_github_app":null,"state_reason":null},{"url":"https://api.github.com/repos/beancount/beancount/issues/94","repository_url":"https://api.github.com/repos/beancount/beancount","labels_url":"https://api.github.com/repos/beancount/beancount/issues/94/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beancount/issues/94/comments","events_url":"https://api.github.com/repos/beancount/beancount/issues/94/events","html_url":"https://github.com/beancount/beancount/issues/94","id":623370150,"node_id":"MDU6SXNzdWU2MjMzNzAxNTA=","number":94,"title":"Cache does not handle moved files","user":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":2080914000,"node_id":"MDU6TGFiZWwyMDgwOTE0MDAw","url":"https://api.github.com/repos/beancount/beancount/labels/BUG","name":"BUG","color":"cc99cc","default":false,"description":"This is a bug, not a feature request; something isn't working."},{"id":2080994777,"node_id":"MDU6TGFiZWwyMDgwOTk0Nzc3","url":"https://api.github.com/repos/beancount/beancount/labels/P1","name":"P1","color":"ff6666","default":false,"description":"High priority, not breaking but hindering or lessening existing functionality"},{"id":2080995603,"node_id":"MDU6TGFiZWwyMDgwOTk1NjAz","url":"https://api.github.com/repos/beancount/beancount/labels/core-ops","name":"core-ops","color":"ededed","default":false,"description":"Component: Core data structures and stream ops"}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":1,"created_at":"2016-01-07T08:52:14Z","updated_at":"2016-01-09T22:11:24Z","closed_at":"2016-01-09T22:11:24Z","author_association":"MEMBER","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"**[Original report](https://bitbucket.org/blais/beancount/issue/94) by Jeremy Maitin-Shepard (Bitbucket: [jbms](https://bitbucket.org/jbms), GitHub: [jbms](https://github.com/jbms)).**\n\n----------------------------------------\n\nThe cache validation logic currently fails with an exception if a file is missing.  Instead, the cache should simply be invalidated.  This problem occurs when the journal, including the cache file, is moved to a different location.  The attached patch fixes the problem.\n","closed_by":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/beancount/beancount/issues/94/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beancount/issues/94/timeline","performed_via_github_app":null,"state_reason":"completed"},{"url":"https://api.github.com/repos/beancount/beancount/issues/93","repository_url":"https://api.github.com/repos/beancount/beancount","labels_url":"https://api.github.com/repos/beancount/beancount/issues/93/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beancount/issues/93/comments","events_url":"https://api.github.com/repos/beancount/beancount/issues/93/events","html_url":"https://github.com/beancount/beancount/issues/93","id":623370116,"node_id":"MDU6SXNzdWU2MjMzNzAxMTY=","number":93,"title":"make build error: \"invalid directive: `%precedence'\"","user":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":2080914000,"node_id":"MDU6TGFiZWwyMDgwOTE0MDAw","url":"https://api.github.com/repos/beancount/beancount/labels/BUG","name":"BUG","color":"cc99cc","default":false,"description":"This is a bug, not a feature request; something isn't working."},{"id":2080994777,"node_id":"MDU6TGFiZWwyMDgwOTk0Nzc3","url":"https://api.github.com/repos/beancount/beancount/labels/P1","name":"P1","color":"ff6666","default":false,"description":"High priority, not breaking but hindering or lessening existing functionality"},{"id":2080995603,"node_id":"MDU6TGFiZWwyMDgwOTk1NjAz","url":"https://api.github.com/repos/beancount/beancount/labels/core-ops","name":"core-ops","color":"ededed","default":false,"description":"Component: Core data structures and stream ops"}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":9,"created_at":"2015-12-15T17:04:51Z","updated_at":"2018-08-23T17:22:22Z","closed_at":"2015-12-17T05:35:06Z","author_association":"MEMBER","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"**[Original report](https://bitbucket.org/blais/beancount/issue/93) by Aaron Bull Schaefer (Bitbucket: [elasticdog](https://bitbucket.org/elasticdog), GitHub: [elasticdog](https://github.com/elasticdog)).**\n\n----------------------------------------\n\nI pulled the most recent beancount and ran the `python3 setup install` just fine, but was warned that \"The Beancount parser C extension module is out-of-date.\" when trying a `bean-check`. Trying to rebuild the extension, I'm running across this error:\n\n```\n$ make build\nbison --report=itemset --verbose -o src/python/beancount/parser/grammar.c src/python/beancount/parser/grammar.y\nsrc/python/beancount/parser/grammar.y:236.1-11: invalid directive: `%precedence'\nmake: *** [src/python/beancount/parser/grammar.h] Error 1\n```\n\nUsing `hg bisect`, it looks like this was the first bad revision (from just a couple of days ago):\n\n```\nThe first bad revision is:\nchangeset:   3398:eb69edcfaf1f\nbranch:      remove_position\nuser:        Martin Blais <blais@furius.ca>\ndate:        Sun Dec 13 18:04:31 2015 -0500\nsummary:     Removed the old Position implementation, replaced it by the newer (units,cost) representation.\n```\n","closed_by":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/beancount/beancount/issues/93/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beancount/issues/93/timeline","performed_via_github_app":null,"state_reason":"completed"},{"url":"https://api.github.com/repos/beancount/beancount/issues/92","repository_url":"https://api.github.com/repos/beancount/beancount","labels_url":"https://api.github.com/repos/beancount/beancount/issues/92/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beancount/issues/92/comments","events_url":"https://api.github.com/repos/beancount/beancount/issues/92/events","html_url":"https://github.com/beancount/beancount/issues/92","id":623370085,"node_id":"MDU6SXNzdWU2MjMzNzAwODU=","number":92,"title":"bean-check doesn't produce error listing when using data cached via picklecache","user":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":2080914000,"node_id":"MDU6TGFiZWwyMDgwOTE0MDAw","url":"https://api.github.com/repos/beancount/beancount/labels/BUG","name":"BUG","color":"cc99cc","default":false,"description":"This is a bug, not a feature request; something isn't working."},{"id":2080994022,"node_id":"MDU6TGFiZWwyMDgwOTk0MDIy","url":"https://api.github.com/repos/beancount/beancount/labels/P2","name":"P2","color":"ffaaaa","default":false,"description":"Low priority, addressing would result in useful improvements"}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":4,"created_at":"2015-12-13T10:22:24Z","updated_at":"2015-12-13T19:58:24Z","closed_at":"2015-12-13T19:32:37Z","author_association":"MEMBER","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"**[Original report](https://bitbucket.org/blais/beancount/issue/92) by Red Street (GitHub: [redstreet](https://github.com/redstreet)).**\n\n----------------------------------------\n\nSteps to reproduce:\n1) Change: [this line](https://bitbucket.org/blais/beancount/src/42ecea188d8daf595c4338ac84b29eea003d5587/src/python/beancount/loader.py?at=default&fileviewer=file-view-default#loader.py-135) to:\n\n```\nif t2 - t1 > time_threshold or True:\n```\n\n\nto force creating the picklecache to reproduce the bug on a small example\n\n2) Run attached file two or more times in succession:\n\n```\n#!shell\n$ bean-check bean-check-cache-bug.bc\n$ bean-check bean-check-cache-bug.bc\n$ bean-check bean-check-cache-bug.bc\n\nExpected output:\n---------------------\nThe balancing error on the input file should show up each time bean-check is run.\n\nActual output:\n---------------------\nInstead, the error shows up the first time, but not thereafter. Removing the picklecache file fixes the problem:\n$ bean-check bean-check-cache-bug.bc     \nbean-check-cache-bug.bc:5:       Transaction does not balance: (51.90705 USD)\n\n   2001-01-01 * \"Purchase\"\n     Assets:Investments1  24.721 AAPL {1.05 USD}\n     Assets:Bank1          25.95 USD            \n\n\n$ bean-check bean-check-cache-bug.bc\n$ bean-check bean-check-cache-bug.bc\n$ rm .bean-check-cache-bug.bc.picklecache\n$ bean-check bean-check-cache-bug.bc     \nbean-check-cache-bug.bc:5:       Transaction does not balance: (51.90705 USD)\n\n   2001-01-01 * \"Purchase\"\n     Assets:Investments1  24.721 AAPL {1.05 USD}\n     Assets:Bank1          25.95 USD            \n\n```\n","closed_by":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/beancount/beancount/issues/92/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beancount/issues/92/timeline","performed_via_github_app":null,"state_reason":"completed"},{"url":"https://api.github.com/repos/beancount/beancount/issues/91","repository_url":"https://api.github.com/repos/beancount/beancount","labels_url":"https://api.github.com/repos/beancount/beancount/issues/91/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beancount/issues/91/comments","events_url":"https://api.github.com/repos/beancount/beancount/issues/91/events","html_url":"https://github.com/beancount/beancount/issues/91","id":623370056,"node_id":"MDU6SXNzdWU2MjMzNzAwNTY=","number":91,"title":"options_map misses entries from multiple import directives","user":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":2080914000,"node_id":"MDU6TGFiZWwyMDgwOTE0MDAw","url":"https://api.github.com/repos/beancount/beancount/labels/BUG","name":"BUG","color":"cc99cc","default":false,"description":"This is a bug, not a feature request; something isn't working."},{"id":2080996667,"node_id":"MDU6TGFiZWwyMDgwOTk2NjY3","url":"https://api.github.com/repos/beancount/beancount/labels/P0","name":"P0","color":"ff0000","default":false,"description":"Critical priority, breaking changes to current version"}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":4,"created_at":"2015-12-12T20:13:54Z","updated_at":"2015-12-13T08:17:00Z","closed_at":"2015-12-12T22:31:18Z","author_association":"MEMBER","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"**[Original report](https://bitbucket.org/blais/beancount/issue/91) by Dominik Aumayr (GitHub: [aumayr](https://github.com/aumayr)).**\n\n----------------------------------------\n\n*This was first reported by [yegle](https://github.com/yegle) [here](https://github.com/aumayr/beancount-web/issues/9).*\n\nIt looks like `beancount.loader.load_file` does not return a correct `options_map` when using `include` directives: The keys `operating_currency` and `commodities` are missing or reporting the wrong value.\n\nHere's a minimal test case that demonstrate the problem.\n\ninvest.bean\n```\ninclude \"accounts.bean\"\ninclude \"a.bean\"\ninclude \"b.bean\"\n```\n\naccounts.bean\n```\n2015-12-09 open Assets:AccountA\n2015-12-09 open Assets:AccountB\n```\n\na.bean\n```\ninclude \"accounts.bean\"\n\n2015-12-09 *\n    Assets:AccountA -1 USD\n    Assets:AccountB 1 USD\n```\n\nb.bean\n```\ninclude \"accounts.bean\"\n\n2015-12-10 *\n    Assets:AccountA -1 USD\n    Assets:AccountB 1 USD\n```\n\n\n`beancount.loader.load_files` returns an `options_map` without the key `commodities`. When defining `option \"operating_currency\" \"USD\"` in one of the included files this key is also missing from `options_map`.\n\nUse `bean-report -f beancount invest.bean print > /tmp/output.beancount` to `concatenate` everything into a single file, and `beancount.loader.load_files` returns a correct `options_map`.\n","closed_by":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/beancount/beancount/issues/91/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beancount/issues/91/timeline","performed_via_github_app":null,"state_reason":"completed"},{"url":"https://api.github.com/repos/beancount/beancount/issues/90","repository_url":"https://api.github.com/repos/beancount/beancount","labels_url":"https://api.github.com/repos/beancount/beancount/issues/90/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beancount/issues/90/comments","events_url":"https://api.github.com/repos/beancount/beancount/issues/90/events","html_url":"https://github.com/beancount/beancount/issues/90","id":623370008,"node_id":"MDU6SXNzdWU2MjMzNzAwMDg=","number":90,"title":"beancount should consider warning when the _decimal C extension is missing","user":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":2080914000,"node_id":"MDU6TGFiZWwyMDgwOTE0MDAw","url":"https://api.github.com/repos/beancount/beancount/labels/BUG","name":"BUG","color":"cc99cc","default":false,"description":"This is a bug, not a feature request; something isn't working."},{"id":2080994061,"node_id":"MDU6TGFiZWwyMDgwOTk0MDYx","url":"https://api.github.com/repos/beancount/beancount/labels/P3","name":"P3","color":"FFdddd","default":false,"description":"Very low priority, nice to have"}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":13,"created_at":"2015-12-12T08:14:33Z","updated_at":"2016-08-07T17:11:21Z","closed_at":"2015-12-12T21:03:53Z","author_association":"MEMBER","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"**[Original report](https://bitbucket.org/blais/beancount/issue/90) by Jeremy Maitin-Shepard (Bitbucket: [jbms](https://bitbucket.org/jbms), GitHub: [jbms](https://github.com/jbms)).**\n\n----------------------------------------\n\nPython 3 includes a much faster C implementation of the decimal library, but this is not always installed by default.  For example, on Arch Linux it is only available if the mpdecimal package is installed, and I didn't happen to have that package installed on my computer.\n\nThis dramatically improves the performance of Beancount, and therefore it might be worth suggesting in the documentation to be sure it is available, or checking automatically in the code and issuing a warning if it is not found.  It can be tested by trying to:\n\nimport _decimal\n\nThis check might have to be updated eventually in a later version of Python, but since it would just be a warning it is not as big a deal if it breaks.\n","closed_by":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/beancount/beancount/issues/90/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beancount/issues/90/timeline","performed_via_github_app":null,"state_reason":"completed"},{"url":"https://api.github.com/repos/beancount/beancount/issues/89","repository_url":"https://api.github.com/repos/beancount/beancount","labels_url":"https://api.github.com/repos/beancount/beancount/issues/89/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beancount/issues/89/comments","events_url":"https://api.github.com/repos/beancount/beancount/issues/89/events","html_url":"https://github.com/beancount/beancount/issues/89","id":623369991,"node_id":"MDU6SXNzdWU2MjMzNjk5OTE=","number":89,"title":"Create a unittest to verify that all the binaries and packages are installed in setup.py","user":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":2080994061,"node_id":"MDU6TGFiZWwyMDgwOTk0MDYx","url":"https://api.github.com/repos/beancount/beancount/labels/P3","name":"P3","color":"FFdddd","default":false,"description":"Very low priority, nice to have"},{"id":2080994828,"node_id":"MDU6TGFiZWwyMDgwOTk0ODI4","url":"https://api.github.com/repos/beancount/beancount/labels/scripts","name":"scripts","color":"ededed","default":false,"description":"Component: Other scripts"}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":1,"created_at":"2015-12-09T14:29:17Z","updated_at":"2018-03-20T04:52:58Z","closed_at":"2018-03-20T04:52:58Z","author_association":"MEMBER","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"**[Original report](https://bitbucket.org/blais/beancount/issue/89) by Martin Blais (Bitbucket: [blais](https://bitbucket.org/blais), GitHub: [blais](https://github.com/blais)).**\n\n----------------------------------------\n\nDo this, and fail a test. \nDon't automatically compute the list; it must be vetted.\nBut the test should fail if some new code has been added but not installed.\n","closed_by":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/beancount/beancount/issues/89/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beancount/issues/89/timeline","performed_via_github_app":null,"state_reason":"completed"},{"url":"https://api.github.com/repos/beancount/beancount/issues/88","repository_url":"https://api.github.com/repos/beancount/beancount","labels_url":"https://api.github.com/repos/beancount/beancount/issues/88/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beancount/issues/88/comments","events_url":"https://api.github.com/repos/beancount/beancount/issues/88/events","html_url":"https://github.com/beancount/beancount/issues/88","id":623369969,"node_id":"MDU6SXNzdWU2MjMzNjk5Njk=","number":88,"title":"Improve docs index-ability","user":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":2080994022,"node_id":"MDU6TGFiZWwyMDgwOTk0MDIy","url":"https://api.github.com/repos/beancount/beancount/labels/P2","name":"P2","color":"ffaaaa","default":false,"description":"Low priority, addressing would result in useful improvements"},{"id":2081000198,"node_id":"MDU6TGFiZWwyMDgxMDAwMTk4","url":"https://api.github.com/repos/beancount/beancount/labels/documentation","name":"documentation","color":"ededed","default":true,"description":"Component: Improvements or additions to documentation"}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":7,"created_at":"2015-12-05T17:09:12Z","updated_at":"2020-05-22T22:28:49Z","closed_at":"2020-05-22T22:28:49Z","author_association":"MEMBER","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"**[Original report](https://bitbucket.org/blais/beancount/issue/88) by Yuchen Ying (Bitbucket: [yegle](https://bitbucket.org/yegle), GitHub: [yegle](https://github.com/yegle)).**\n\n----------------------------------------\n\nIt looks like only one doc was indexed by Google: https://www.google.com/search?q=beancount+site%3Adocs.google.com&ie=utf-8&oe=utf-8\n\nI'm not sure how Google index works on Google Docs page, but maybe link http://furius.ca/beancount/doc/XXX to the read-only version may help?\n","closed_by":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/beancount/beancount/issues/88/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beancount/issues/88/timeline","performed_via_github_app":null,"state_reason":"completed"},{"url":"https://api.github.com/repos/beancount/beancount/issues/87","repository_url":"https://api.github.com/repos/beancount/beancount","labels_url":"https://api.github.com/repos/beancount/beancount/issues/87/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beancount/issues/87/comments","events_url":"https://api.github.com/repos/beancount/beancount/issues/87/events","html_url":"https://github.com/beancount/beancount/issues/87","id":623369953,"node_id":"MDU6SXNzdWU2MjMzNjk5NTM=","number":87,"title":"Use unicode.east_asian_width() to compute character widths?","user":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":2080994061,"node_id":"MDU6TGFiZWwyMDgwOTk0MDYx","url":"https://api.github.com/repos/beancount/beancount/labels/P3","name":"P3","color":"FFdddd","default":false,"description":"Very low priority, nice to have"},{"id":2080996004,"node_id":"MDU6TGFiZWwyMDgwOTk2MDA0","url":"https://api.github.com/repos/beancount/beancount/labels/reports","name":"reports","color":"ededed","default":false,"description":"Component: Canned reports"}],"state":"open","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":1,"created_at":"2015-12-05T15:13:25Z","updated_at":"2020-05-23T13:15:46Z","closed_at":null,"author_association":"MEMBER","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"**[Original report](https://bitbucket.org/blais/beancount/issue/87) by Zhuoyun Wei (Bitbucket: [wzyboy](https://bitbucket.org/wzyboy), GitHub: [wzyboy](https://github.com/wzyboy)).**\n\n----------------------------------------\n\nHi Martin,\n\nwould you please consider using `unicodedata.east_asian_width()` to compute the character widths before printing them to the terminal?\n\nI know most Beancount users use English to write their ledgers (including me), but in some cases there are full-width characters in \"Payee\" or \"Narration\" fields. In my case, I live in China so all my bank statements are in Chinese. After importing them into Beancount, I found that they do not align well (see attachments) in `bean-query`. However, in other shells (like MySQL shell), Chinese characters can be rendered and aligned well.\n\nAfter some research, I found out that Beancount uses `len()` and `str.format()` to align columns. These two builtins cannot handle full-width characters like Chinese, Japanese and Korean (CJK, or more widely, \"East Asian Characters\", see http://unicode.org/reports/tr11/ )\n\nTherefore, I wrote a small function to compute the correct string width, which takes full-width characters into account:\n\n\n```\n#!python\n\nfrom unicodedata import east_asian_width as eaw \n\ndef str_width(string):\n    width = sum([\n        2 if eaw(c) in ['F', 'W'] else 1\n        for c in string\n    ])  \n    return width\n\n```\n\nIt computes the correct width for a string, for terminal display. After rewriting some of Beancount's code, I managed to make `bean-report` outputs aligned text when processing mixed half-width / full-width characters. (still see attachments)\n\nHere is the Beancount file I used for testing:\n\n```\n; vim: ft=beancount nofoldenable:\n\n1970-01-01 open Income:Salary\n1970-01-01 open Assets:Cash\n\n2003-01-01 * \"Foo\"\n  Income:Salary                              -100 CNY\n  Assets:Cash                                +100 CNY\n\n2005-01-01 * \"汉字\"\n  Income:Salary                              -200 CNY\n  Assets:Cash                                +200 CNY\n\n2008-01-01 * \"汉字foo\"\n  Income:Salary                              -200 CNY\n  Assets:Cash                                +200 CNY\n```\n\nMy modications are too messy (I am a Python newcomer) and I am not familer with Mericual, so I'm not opening a pull request. If you have time, please consider supporting this. (Maybe, put my tiny function in `textutils`?)\n\nThanks for your consideration.\n","closed_by":null,"reactions":{"url":"https://api.github.com/repos/beancount/beancount/issues/87/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beancount/issues/87/timeline","performed_via_github_app":null,"state_reason":null},{"url":"https://api.github.com/repos/beancount/beancount/issues/86","repository_url":"https://api.github.com/repos/beancount/beancount","labels_url":"https://api.github.com/repos/beancount/beancount/issues/86/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beancount/issues/86/comments","events_url":"https://api.github.com/repos/beancount/beancount/issues/86/events","html_url":"https://github.com/beancount/beancount/issues/86","id":623369927,"node_id":"MDU6SXNzdWU2MjMzNjk5Mjc=","number":86,"title":"textutils.replace_numbers() does not replace integers","user":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":2080994061,"node_id":"MDU6TGFiZWwyMDgwOTk0MDYx","url":"https://api.github.com/repos/beancount/beancount/labels/P3","name":"P3","color":"FFdddd","default":false,"description":"Very low priority, nice to have"},{"id":2080994900,"node_id":"MDU6TGFiZWwyMDgwOTk0OTAw","url":"https://api.github.com/repos/beancount/beancount/labels/web","name":"web","color":"ededed","default":false,"description":"Component: bean-web built-in server"}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":5,"created_at":"2015-12-04T14:06:34Z","updated_at":"2015-12-12T18:10:03Z","closed_at":"2015-12-12T07:59:22Z","author_association":"MEMBER","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"**[Original report](https://bitbucket.org/blais/beancount/issue/86) by Zhuoyun Wei (Bitbucket: [wzyboy](https://bitbucket.org/wzyboy), GitHub: [wzyboy](https://github.com/wzyboy)).**\n\n----------------------------------------\n\nI use `bean-web foo.beancount --incognito` to do some public demo. However, some of the numbers in my stock shares are not hidden. It turns out that `--incognito` calls `textutils.replace_numbers()` to replace numbers with `X`s, while the regular expression used in this function (`\\b([0-9,]+\\.[0-9]*)\\b([^0-9,.]|$)`) does not substitute numbers that without decimal dots.\n","closed_by":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/beancount/beancount/issues/86/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beancount/issues/86/timeline","performed_via_github_app":null,"state_reason":"completed"},{"url":"https://api.github.com/repos/beancount/beancount/issues/85","repository_url":"https://api.github.com/repos/beancount/beancount","labels_url":"https://api.github.com/repos/beancount/beancount/issues/85/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beancount/issues/85/comments","events_url":"https://api.github.com/repos/beancount/beancount/issues/85/events","html_url":"https://github.com/beancount/beancount/issues/85","id":623369900,"node_id":"MDU6SXNzdWU2MjMzNjk5MDA=","number":85,"title":"GET /errors returns 500 error","user":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":2080914000,"node_id":"MDU6TGFiZWwyMDgwOTE0MDAw","url":"https://api.github.com/repos/beancount/beancount/labels/BUG","name":"BUG","color":"cc99cc","default":false,"description":"This is a bug, not a feature request; something isn't working."},{"id":2080994022,"node_id":"MDU6TGFiZWwyMDgwOTk0MDIy","url":"https://api.github.com/repos/beancount/beancount/labels/P2","name":"P2","color":"ffaaaa","default":false,"description":"Low priority, addressing would result in useful improvements"},{"id":2080994900,"node_id":"MDU6TGFiZWwyMDgwOTk0OTAw","url":"https://api.github.com/repos/beancount/beancount/labels/web","name":"web","color":"ededed","default":false,"description":"Component: bean-web built-in server"}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":3,"created_at":"2015-12-03T06:08:55Z","updated_at":"2015-12-08T14:19:04Z","closed_at":"2015-12-08T14:18:29Z","author_association":"MEMBER","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"**[Original report](https://bitbucket.org/blais/beancount/issue/85) by Zhuoyun Wei (Bitbucket: [wzyboy](https://bitbucket.org/wzyboy), GitHub: [wzyboy](https://github.com/wzyboy)).**\n\n----------------------------------------\n\nIn bean-web, whenever I navigate to \"/errors\" page, I get an HTTP 500 error.\n\nThe Traceback:\n\n\n```\n#!python\n\nTraceback (most recent call last):\n  File \"/home/wzyboy/git/beancount/BEANCOUNT/bin/bottle.py\", line 862, in _handle\n    return route.call(**args)\n  File \"/home/wzyboy/git/beancount/BEANCOUNT/bin/bottle.py\", line 1732, in wrapper\n    rv = callback(*a, **ka)\n  File \"/home/wzyboy/git/beancount/BEANCOUNT/lib/python3.5/site-packages/beancount/web/web.py\", line 962, in wrapper\n    return callback(*posargs, **kwargs)\n  File \"/home/wzyboy/git/beancount/BEANCOUNT/lib/python3.5/site-packages/beancount/web/web.py\", line 323, in errors\n    contents=render_report(misc_reports.ErrorReport, [], leaf_only=False))\n  File \"/home/wzyboy/git/beancount/BEANCOUNT/lib/python3.5/site-packages/beancount/web/web.py\", line 159, in render_report\n    report_.render_htmldiv(entries, app.errors, app.options, oss)\n  File \"/home/wzyboy/git/beancount/BEANCOUNT/lib/python3.5/site-packages/beancount/reports/misc_reports.py\", line 51, in render_htmldiv\n    self.formatter.render_source(error.source),\n  File \"/home/wzyboy/git/beancount/BEANCOUNT/lib/python3.5/site-packages/beancount/web/web.py\", line 132, in render_source\n    return '{}#{}'.format(app.get_url('source'), source.lineno)\nAttributeError: 'dict' object has no attribute 'lineno'\n```\n","closed_by":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/beancount/beancount/issues/85/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beancount/issues/85/timeline","performed_via_github_app":null,"state_reason":"completed"},{"url":"https://api.github.com/repos/beancount/beancount/issues/84","repository_url":"https://api.github.com/repos/beancount/beancount","labels_url":"https://api.github.com/repos/beancount/beancount/issues/84/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beancount/issues/84/comments","events_url":"https://api.github.com/repos/beancount/beancount/issues/84/events","html_url":"https://github.com/beancount/beancount/issues/84","id":623369879,"node_id":"MDU6SXNzdWU2MjMzNjk4Nzk=","number":84,"title":"include doesn't work with booking method","user":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":2080914000,"node_id":"MDU6TGFiZWwyMDgwOTE0MDAw","url":"https://api.github.com/repos/beancount/beancount/labels/BUG","name":"BUG","color":"cc99cc","default":false,"description":"This is a bug, not a feature request; something isn't working."},{"id":2080994022,"node_id":"MDU6TGFiZWwyMDgwOTk0MDIy","url":"https://api.github.com/repos/beancount/beancount/labels/P2","name":"P2","color":"ffaaaa","default":false,"description":"Low priority, addressing would result in useful improvements"}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":1,"created_at":"2015-12-01T06:19:04Z","updated_at":"2015-12-01T15:36:21Z","closed_at":"2015-12-01T15:36:21Z","author_association":"MEMBER","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"**[Original report](https://bitbucket.org/blais/beancount/issue/84) by Yuchen Ying (Bitbucket: [yegle](https://bitbucket.org/yegle), GitHub: [yegle](https://github.com/yegle)).**\n\n----------------------------------------\n\nI was trying to put all accounts open/close in one file and include it in multiple files (so I have `vanguard.bean` for vanguard related transactions, `hooli.bean` for hooli related transactions, but both file may refer to an `Assets:US:BoA:Checking`)\n\nIt seems like the optional booking method of an `open` directive doesn't work with included file. I have a minimal test case that reproduce the problem https://gist.github.com/yegle/b2c9efc7e9d919833e82\n\nIn the test case if you replace `include \"accounts.bean\"` with the content of file `accounts.bean`, there will be no error from `bean-check`.\n","closed_by":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/beancount/beancount/issues/84/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beancount/issues/84/timeline","performed_via_github_app":null,"state_reason":"completed"},{"url":"https://api.github.com/repos/beancount/beancount/issues/83","repository_url":"https://api.github.com/repos/beancount/beancount","labels_url":"https://api.github.com/repos/beancount/beancount/issues/83/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beancount/issues/83/comments","events_url":"https://api.github.com/repos/beancount/beancount/issues/83/events","html_url":"https://github.com/beancount/beancount/issues/83","id":623369860,"node_id":"MDU6SXNzdWU2MjMzNjk4NjA=","number":83,"title":"Renamed \"default_tolerances\" option, users find it confusing.","user":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":2080994061,"node_id":"MDU6TGFiZWwyMDgwOTk0MDYx","url":"https://api.github.com/repos/beancount/beancount/labels/P3","name":"P3","color":"FFdddd","default":false,"description":"Very low priority, nice to have"},{"id":2080995603,"node_id":"MDU6TGFiZWwyMDgwOTk1NjAz","url":"https://api.github.com/repos/beancount/beancount/labels/core-ops","name":"core-ops","color":"ededed","default":false,"description":"Component: Core data structures and stream ops"}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":1,"created_at":"2015-11-30T14:10:00Z","updated_at":"2016-03-07T06:41:12Z","closed_at":"2016-03-07T06:41:12Z","author_association":"MEMBER","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"**[Original report](https://bitbucket.org/blais/beancount/issue/83) by Martin Blais (Bitbucket: [blais](https://bitbucket.org/blais), GitHub: [blais](https://github.com/blais)).**\n\n----------------------------------------\n\nProbably best to rename it to \"inferred_fallback_tolerance\".\n","closed_by":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/beancount/beancount/issues/83/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beancount/issues/83/timeline","performed_via_github_app":null,"state_reason":"completed"},{"url":"https://api.github.com/repos/beancount/beancount/issues/82","repository_url":"https://api.github.com/repos/beancount/beancount","labels_url":"https://api.github.com/repos/beancount/beancount/issues/82/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beancount/issues/82/comments","events_url":"https://api.github.com/repos/beancount/beancount/issues/82/events","html_url":"https://github.com/beancount/beancount/issues/82","id":623369841,"node_id":"MDU6SXNzdWU2MjMzNjk4NDE=","number":82,"title":"Ability to associate documents to a component","user":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":2080994022,"node_id":"MDU6TGFiZWwyMDgwOTk0MDIy","url":"https://api.github.com/repos/beancount/beancount/labels/P2","name":"P2","color":"ffaaaa","default":false,"description":"Low priority, addressing would result in useful improvements"}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":1,"created_at":"2015-11-30T01:21:52Z","updated_at":"2015-11-30T04:26:01Z","closed_at":"2015-11-30T04:26:01Z","author_association":"MEMBER","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"**[Original report](https://bitbucket.org/blais/beancount/issue/82) by Yuchen Ying (Bitbucket: [yegle](https://bitbucket.org/yegle), GitHub: [yegle](https://github.com/yegle)).**\n\n----------------------------------------\n\nCurrently documents can only be associated with account. But it's common to separate the stocks in a trading account in this way:\n\n```\n2015-01-01 open Assets:US:ETrade:Cash\n2015-01-01 open Assets:US:ETrade:SockA\n2015-01-01 open Assets:US:ETrade:StockB\n2015-01-01 open Assets:US:ETrade:StockC\n```\n\nbeancount should:\n\n1. able to associate statement documents from ETrade to `Assets:US:ETrade` (instead of a concrete account)\n2. on `bean-web`, show links to documents on all of the concrete accounts' journal page.\n","closed_by":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/beancount/beancount/issues/82/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beancount/issues/82/timeline","performed_via_github_app":null,"state_reason":"completed"},{"url":"https://api.github.com/repos/beancount/beancount/issues/81","repository_url":"https://api.github.com/repos/beancount/beancount","labels_url":"https://api.github.com/repos/beancount/beancount/issues/81/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beancount/issues/81/comments","events_url":"https://api.github.com/repos/beancount/beancount/issues/81/events","html_url":"https://github.com/beancount/beancount/issues/81","id":623369824,"node_id":"MDU6SXNzdWU2MjMzNjk4MjQ=","number":81,"title":"default_tolerance doesn't work as expected","user":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":2080914000,"node_id":"MDU6TGFiZWwyMDgwOTE0MDAw","url":"https://api.github.com/repos/beancount/beancount/labels/BUG","name":"BUG","color":"cc99cc","default":false,"description":"This is a bug, not a feature request; something isn't working."},{"id":2080994022,"node_id":"MDU6TGFiZWwyMDgwOTk0MDIy","url":"https://api.github.com/repos/beancount/beancount/labels/P2","name":"P2","color":"ffaaaa","default":false,"description":"Low priority, addressing would result in useful improvements"}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":2,"created_at":"2015-11-30T01:16:06Z","updated_at":"2015-11-30T04:43:07Z","closed_at":"2015-11-30T04:43:07Z","author_association":"MEMBER","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"**[Original report](https://bitbucket.org/blais/beancount/issue/81) by Yuchen Ying (Bitbucket: [yegle](https://bitbucket.org/yegle), GitHub: [yegle](https://github.com/yegle)).**\n\n----------------------------------------\n\nTrying to fix an in-balance from Vanguard using default_tolerance to a higher number but failed. A minimal test case looks like this:\n\n```\n$ cat test.bean\noption \"default_tolerance\" \"PRETAXUSD:0.02\"\n2014-08-15 open Assets:Vanguard:Retirement  SOMETHING\n2014-08-15 open Income:Hooli:Match401k      PRETAXUSD\n2014-08-15 open Income:Hooli:Paycheck       PRETAXUSD\n\n2014-08-29 *\n    Assets:Vanguard:Retirement   8.1030 SOMETHING {46.99 PRETAXUSD}\n    Assets:Vanguard:Retirement   4.0520 SOMETHING {46.99 PRETAXUSD}\n    Income:Hooli:Paycheck       -380.77 PRETAXUSD\n    Income:Hooli:Match401k      -190.38 PRETAXUSD\n```\n\nbean-check reported\n\n```\nTransaction does not balance: (0.013450 PRETAXUSD)?\n```\n\nbean-doctor context on this transaction:\n```\nHash:94b94b49f7e9de3acb024dbd9e947651\nLocation: /Users/yegle/test.bean:6\n\n\n2014-08-29 *\n  Assets:Vanguard:Retirement   8.1030 SOMETHING {46.99 PRETAXUSD}  ; 380.759970 PRETAXUSD\n  Assets:Vanguard:Retirement   4.0520 SOMETHING {46.99 PRETAXUSD}  ; 190.403480 PRETAXUSD\n  Income:Hooli:Paycheck       -380.77 PRETAXUSD                    ;    -380.77 PRETAXUSD\n  Income:Hooli:Match401k      -190.38 PRETAXUSD                    ;    -190.38 PRETAXUSD\n\n\n;;; Residual: (0.013450 PRETAXUSD)\n\n;;; Tolerances: PRETAXUSD=0.005, SOMETHING=0.00005\n```\n\n\n```\n$ bean-doctor print_options test.bean|grep ^default_tolerance\ndefault_tolerance: {'PRETAXUSD': Decimal('0.02')}\n```\n","closed_by":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/beancount/beancount/issues/81/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beancount/issues/81/timeline","performed_via_github_app":null,"state_reason":"completed"},{"url":"https://api.github.com/repos/beancount/beancount/issues/80","repository_url":"https://api.github.com/repos/beancount/beancount","labels_url":"https://api.github.com/repos/beancount/beancount/issues/80/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beancount/issues/80/comments","events_url":"https://api.github.com/repos/beancount/beancount/issues/80/events","html_url":"https://github.com/beancount/beancount/issues/80","id":623369808,"node_id":"MDU6SXNzdWU2MjMzNjk4MDg=","number":80,"title":"bean-format fail on files without transactions","user":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":2080914000,"node_id":"MDU6TGFiZWwyMDgwOTE0MDAw","url":"https://api.github.com/repos/beancount/beancount/labels/BUG","name":"BUG","color":"cc99cc","default":false,"description":"This is a bug, not a feature request; something isn't working."},{"id":2080994022,"node_id":"MDU6TGFiZWwyMDgwOTk0MDIy","url":"https://api.github.com/repos/beancount/beancount/labels/P2","name":"P2","color":"ffaaaa","default":false,"description":"Low priority, addressing would result in useful improvements"}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":1,"created_at":"2015-11-29T02:52:42Z","updated_at":"2015-11-29T03:27:45Z","closed_at":"2015-11-29T03:27:45Z","author_association":"MEMBER","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"**[Original report](https://bitbucket.org/blais/beancount/issue/80) by Yuchen Ying (Bitbucket: [yegle](https://bitbucket.org/yegle), GitHub: [yegle](https://github.com/yegle)).**\n\n----------------------------------------\n\nJust started using beancount and there's only \"open\" statements in the file. It looks like this:\n\n```\n2015-07-16 open Assets:BoA:checking USD\n```\n\nAnd bean-format will fail on such a file:\n\n```\nTraceback (most recent call last):\n  File \"/Users/yegle/.py3kvenv/bin/bean-format\", line 2, in <module>\n    from beancount.scripts.format import main; main()\n  File \"/Users/yegle/.py3kvenv/lib/python3.5/site-packages/beancount/scripts/format.py\", line 150, in main\n    formatted_contents = align_beancount(contents)\n  File \"/Users/yegle/.py3kvenv/lib/python3.5/site-packages/beancount/scripts/format.py\", line 49, in align_beancount\n    for prefix, number, _ in match_pairs\nValueError: max() arg is an empty sequence\n```\n","closed_by":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/beancount/beancount/issues/80/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beancount/issues/80/timeline","performed_via_github_app":null,"state_reason":"completed"},{"url":"https://api.github.com/repos/beancount/beancount/issues/79","repository_url":"https://api.github.com/repos/beancount/beancount","labels_url":"https://api.github.com/repos/beancount/beancount/issues/79/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beancount/issues/79/comments","events_url":"https://api.github.com/repos/beancount/beancount/issues/79/events","html_url":"https://github.com/beancount/beancount/issues/79","id":623369787,"node_id":"MDU6SXNzdWU2MjMzNjk3ODc=","number":79,"title":"beancount.core.data.AttrDict.__getattr__ raises KeyError, foiling deepcopy.","user":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":2080914000,"node_id":"MDU6TGFiZWwyMDgwOTE0MDAw","url":"https://api.github.com/repos/beancount/beancount/labels/BUG","name":"BUG","color":"cc99cc","default":false,"description":"This is a bug, not a feature request; something isn't working."},{"id":2080994022,"node_id":"MDU6TGFiZWwyMDgwOTk0MDIy","url":"https://api.github.com/repos/beancount/beancount/labels/P2","name":"P2","color":"ffaaaa","default":false,"description":"Low priority, addressing would result in useful improvements"},{"id":2080995603,"node_id":"MDU6TGFiZWwyMDgwOTk1NjAz","url":"https://api.github.com/repos/beancount/beancount/labels/core-ops","name":"core-ops","color":"ededed","default":false,"description":"Component: Core data structures and stream ops"}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":4,"created_at":"2015-11-21T23:17:15Z","updated_at":"2015-11-23T05:03:33Z","closed_at":"2015-11-23T05:03:33Z","author_association":"MEMBER","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"**[Original report](https://bitbucket.org/blais/beancount/issue/79) by Nathan  Grigg (Bitbucket: [nathangrigg](https://bitbucket.org/nathangrigg), GitHub: [nathangrigg](https://github.com/nathangrigg)).**\n\n----------------------------------------\n\nOn an `AttrDict` instance (or anything containing one, e.g. a `Posting`), `copy.deepcopy` fails.\n\nThe reason is that deepcopy checks for a `__deepcopy__` method at each stage, and accessing `AttrDict.__deepcopy__` raises a `KeyError` (and deepcopy expects an `AttributeError`).\n\n(The reason I'm using deepcopy is that I'm splitting a posting into two pieces, and I don't want their position or meta fields to be incorrectly linked.)\n\nExample fix:\n\n\n```\n#!diff\n\n--- a/src/python/beancount/core/data.py\tSat Nov 21 17:13:39 2015 -0500\n+++ b/src/python/beancount/core/data.py\tSat Nov 21 15:14:17 2015 -0800\n@@ -262,9 +262,14 @@\n class AttrDict(dict):\n     \"\"\"A dict with attribute access.\n     \"\"\"\n-    __getattr__ = dict.__getitem__\n     __setattr__ = dict.__setitem__\n\n+    def __getattr__(self, key):\n+        try:\n+            return self[key]\n+        except KeyError as err:\n+            raise AttributeError(*err.args)\n+\n     def __getstate__(self):\n         \"Ensure this object may be pickled.\"\n         return self\n```\n","closed_by":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/beancount/beancount/issues/79/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beancount/issues/79/timeline","performed_via_github_app":null,"state_reason":"completed"},{"url":"https://api.github.com/repos/beancount/beancount/issues/78","repository_url":"https://api.github.com/repos/beancount/beancount","labels_url":"https://api.github.com/repos/beancount/beancount/issues/78/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beancount/issues/78/comments","events_url":"https://api.github.com/repos/beancount/beancount/issues/78/events","html_url":"https://github.com/beancount/beancount/issues/78","id":623369758,"node_id":"MDU6SXNzdWU2MjMzNjk3NTg=","number":78,"title":"pad directive skips balance when balance is for 0 units","user":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":2080914000,"node_id":"MDU6TGFiZWwyMDgwOTE0MDAw","url":"https://api.github.com/repos/beancount/beancount/labels/BUG","name":"BUG","color":"cc99cc","default":false,"description":"This is a bug, not a feature request; something isn't working."},{"id":2080994022,"node_id":"MDU6TGFiZWwyMDgwOTk0MDIy","url":"https://api.github.com/repos/beancount/beancount/labels/P2","name":"P2","color":"ffaaaa","default":false,"description":"Low priority, addressing would result in useful improvements"},{"id":2080995603,"node_id":"MDU6TGFiZWwyMDgwOTk1NjAz","url":"https://api.github.com/repos/beancount/beancount/labels/core-ops","name":"core-ops","color":"ededed","default":false,"description":"Component: Core data structures and stream ops"}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":4,"created_at":"2015-11-07T12:55:50Z","updated_at":"2015-11-09T09:51:26Z","closed_at":"2015-11-07T22:17:09Z","author_association":"MEMBER","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"**[Original report](https://bitbucket.org/blais/beancount/issue/78) by clemente (Bitbucket: [clemente](https://bitbucket.org/clemente), GitHub: [clemente](https://github.com/clemente)).**\n\n----------------------------------------\n\nSee this testcase with explanations:\n\n~~~~\n\n1970-01-01 open Assets:Bank1\n1970-01-01 open Assets:Cash\n1970-01-01 open Expenses:Food\n\n\n; The first time I took HKD is 2015-11-02\n2015-09-15 balance Assets:Cash 0 HKD ; I had no HKD until November\n\n; This „pad“ is here for other reasons (to create an automatic expense for OTHER currency not included in this test). It shouldn't affect HKD but it does, that's the bug. The „pad“ gets the „balance“ from 2015-11-02 (1000 HKD) instead of the one from 2015-09-16 (0 HKD), possibly because the latter one (0 HKD) is zero and is wrongfully ignored.\n2015-09-15 pad Assets:Cash Expenses:Food\n2015-09-16 balance Assets:Cash 0 HKD\n\n\n2015-11-02 * \"I took my first HKD. I had 0, now I have 1000.\"\n  Assets:Cash\t\t 1000 HKD @@ 119.07 EUR\n  Assets:Bank1\n2015-11-02 balance Assets:Cash 1000 HKD ; I just got them\n~~~~\n\n2015-09-15 sees:  (Padding inserted for Balance of 1000 HKD for difference 1000 HKD)\n\nIt should have inserted a padding for 0 HKD (or just insert nothing).\n\nThis happens because the number used in the „balance“ in 2015-09-16 is 0 HKD, and it's skipped (it shouldn't). If I use balance 1 HKD in that date, it isn't skipped anymore (correct).\n","closed_by":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/beancount/beancount/issues/78/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beancount/issues/78/timeline","performed_via_github_app":null,"state_reason":"completed"},{"url":"https://api.github.com/repos/beancount/beancount/issues/77","repository_url":"https://api.github.com/repos/beancount/beancount","labels_url":"https://api.github.com/repos/beancount/beancount/issues/77/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beancount/issues/77/comments","events_url":"https://api.github.com/repos/beancount/beancount/issues/77/events","html_url":"https://github.com/beancount/beancount/issues/77","id":623369732,"node_id":"MDU6SXNzdWU2MjMzNjk3MzI=","number":77,"title":"@ EUR  not working","user":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":2080914000,"node_id":"MDU6TGFiZWwyMDgwOTE0MDAw","url":"https://api.github.com/repos/beancount/beancount/labels/BUG","name":"BUG","color":"cc99cc","default":false,"description":"This is a bug, not a feature request; something isn't working."},{"id":2080994061,"node_id":"MDU6TGFiZWwyMDgwOTk0MDYx","url":"https://api.github.com/repos/beancount/beancount/labels/P3","name":"P3","color":"FFdddd","default":false,"description":"Very low priority, nice to have"},{"id":2080995647,"node_id":"MDU6TGFiZWwyMDgwOTk1NjQ3","url":"https://api.github.com/repos/beancount/beancount/labels/parser-loader","name":"parser-loader","color":"ededed","default":false,"description":"Component: Parser and loader"}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":3,"created_at":"2015-10-27T06:08:46Z","updated_at":"2018-01-24T02:49:13Z","closed_at":"2018-01-24T02:49:13Z","author_association":"MEMBER","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"**[Original report](https://bitbucket.org/blais/beancount/issue/77) by clemente (Bitbucket: [clemente](https://bitbucket.org/clemente), GitHub: [clemente](https://github.com/clemente)).**\n\n----------------------------------------\n\nI tried „booking“ branch to use the „@ EUR“ syntax.\n grammar.py, around line 740:\n\n~~~~\n        # If the price is specified for the entire amount, compute the effective\n        # price here and forget about that detail of the input syntax.\n        if istotal:\n            if position.units.number == ZERO:\n                number = ZERO\n            else:\n                if __allow_negative_prices__:\n                    number = price.number/position.units.number\n                else:\n                    number = price.number/abs(position.units.number)\n            price = Amount(number, price.currency)\n~~~~\n\nBut price.number is `<class 'beancount.core.number.MISSING'> EUR`, so line 740 fails with:\n\n    /w/beancount/src/python/beancount/parser/grammar.py:741:     TypeError: unsupported operand type(s) for /: 'type' and 'decimal.Decimal'\n","closed_by":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/beancount/beancount/issues/77/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beancount/issues/77/timeline","performed_via_github_app":null,"state_reason":"completed"},{"url":"https://api.github.com/repos/beancount/beancount/issues/76","repository_url":"https://api.github.com/repos/beancount/beancount","labels_url":"https://api.github.com/repos/beancount/beancount/issues/76/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beancount/issues/76/comments","events_url":"https://api.github.com/repos/beancount/beancount/issues/76/events","html_url":"https://github.com/beancount/beancount/issues/76","id":623369712,"node_id":"MDU6SXNzdWU2MjMzNjk3MTI=","number":76,"title":"Infer prices from price database, not just locally. (Optionally)","user":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":2080994022,"node_id":"MDU6TGFiZWwyMDgwOTk0MDIy","url":"https://api.github.com/repos/beancount/beancount/labels/P2","name":"P2","color":"ffaaaa","default":false,"description":"Low priority, addressing would result in useful improvements"},{"id":2080995647,"node_id":"MDU6TGFiZWwyMDgwOTk1NjQ3","url":"https://api.github.com/repos/beancount/beancount/labels/parser-loader","name":"parser-loader","color":"ededed","default":false,"description":"Component: Parser and loader"}],"state":"open","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":1,"created_at":"2015-10-20T04:01:38Z","updated_at":"2020-05-23T13:15:46Z","closed_at":null,"author_association":"MEMBER","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"**[Original report](https://bitbucket.org/blais/beancount/issue/76) by Martin Blais (Bitbucket: [blais](https://bitbucket.org/blais), GitHub: [blais](https://github.com/blais)).**\n\n----------------------------------------\n\n\n```\n#!python\n\n2015-10-14 * \"Recharge\"\n  Assets:Bank\n  Assets:SMS   10 SMS @\n\n```\n\nIn theory, we should be able to consult the inventory contents of Assets:Bank and figure out if there's a single currency, and to automatically transform this into that:\n\n\n```\n#!python\n\n2015-10-14 * \"Recharge\"\n  Assets:Bank   USD\n  Assets:SMS   10 SMS @ USD\n\n```\n\nNow, if we have a price, and a special option is enabled (experimental, probably), we could infer the price from the price database at that time. I think we only want to allow this optionally, but it's possible.\n","closed_by":null,"reactions":{"url":"https://api.github.com/repos/beancount/beancount/issues/76/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beancount/issues/76/timeline","performed_via_github_app":null,"state_reason":null},{"url":"https://api.github.com/repos/beancount/beancount/issues/75","repository_url":"https://api.github.com/repos/beancount/beancount","labels_url":"https://api.github.com/repos/beancount/beancount/issues/75/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beancount/issues/75/comments","events_url":"https://api.github.com/repos/beancount/beancount/issues/75/events","html_url":"https://github.com/beancount/beancount/issues/75","id":623369685,"node_id":"MDU6SXNzdWU2MjMzNjk2ODU=","number":75,"title":"Invalid priority for SQL parser","user":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":2080914000,"node_id":"MDU6TGFiZWwyMDgwOTE0MDAw","url":"https://api.github.com/repos/beancount/beancount/labels/BUG","name":"BUG","color":"cc99cc","default":false,"description":"This is a bug, not a feature request; something isn't working."},{"id":2080994252,"node_id":"MDU6TGFiZWwyMDgwOTk0MjUy","url":"https://api.github.com/repos/beancount/beancount/labels/query-sql","name":"query-sql","color":"ededed","default":false,"description":"Component: SQL query engine"},{"id":2080994777,"node_id":"MDU6TGFiZWwyMDgwOTk0Nzc3","url":"https://api.github.com/repos/beancount/beancount/labels/P1","name":"P1","color":"ff6666","default":false,"description":"High priority, not breaking but hindering or lessening existing functionality"}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":2,"created_at":"2015-10-10T13:05:50Z","updated_at":"2018-03-31T05:38:59Z","closed_at":"2018-03-31T05:38:52Z","author_association":"MEMBER","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"**[Original report](https://bitbucket.org/blais/beancount/issue/75) by Martin Blais (Bitbucket: [blais](https://bitbucket.org/blais), GitHub: [blais](https://github.com/blais)).**\n\n----------------------------------------\n\nThis does not work:\nmandarine:~/u/Downloads$ bean-query $L 'SELECT sum(position) WHERE account ~ \"Income\" AND \"trip-asia-hkskjp-2015\" in tags'\n\nThis works:\nmandarine:~/u/Downloads$ bean-query $L 'SELECT sum(position) WHERE account ~ \"Income\" AND (\"trip-asia-hkskjp-2015\" in tags')\n","closed_by":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/beancount/beancount/issues/75/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beancount/issues/75/timeline","performed_via_github_app":null,"state_reason":"completed"},{"url":"https://api.github.com/repos/beancount/beancount/issues/74","repository_url":"https://api.github.com/repos/beancount/beancount","labels_url":"https://api.github.com/repos/beancount/beancount/issues/74/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beancount/issues/74/comments","events_url":"https://api.github.com/repos/beancount/beancount/issues/74/events","html_url":"https://github.com/beancount/beancount/issues/74","id":623369669,"node_id":"MDU6SXNzdWU2MjMzNjk2Njk=","number":74,"title":"Make the printer not output | separator anymore","user":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":2080994061,"node_id":"MDU6TGFiZWwyMDgwOTk0MDYx","url":"https://api.github.com/repos/beancount/beancount/labels/P3","name":"P3","color":"FFdddd","default":false,"description":"Very low priority, nice to have"},{"id":2080995647,"node_id":"MDU6TGFiZWwyMDgwOTk1NjQ3","url":"https://api.github.com/repos/beancount/beancount/labels/parser-loader","name":"parser-loader","color":"ededed","default":false,"description":"Component: Parser and loader"}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":1,"created_at":"2015-10-08T21:17:48Z","updated_at":"2018-03-20T04:50:20Z","closed_at":"2018-03-20T04:50:20Z","author_association":"MEMBER","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"**[Original report](https://bitbucket.org/blais/beancount/issue/74) by Martin Blais (Bitbucket: [blais](https://bitbucket.org/blais), GitHub: [blais](https://github.com/blais)).**\n\n----------------------------------------\n\n\n","closed_by":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/beancount/beancount/issues/74/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beancount/issues/74/timeline","performed_via_github_app":null,"state_reason":"completed"},{"url":"https://api.github.com/repos/beancount/beancount/issues/73","repository_url":"https://api.github.com/repos/beancount/beancount","labels_url":"https://api.github.com/repos/beancount/beancount/issues/73/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beancount/issues/73/comments","events_url":"https://api.github.com/repos/beancount/beancount/issues/73/events","html_url":"https://github.com/beancount/beancount/issues/73","id":623369654,"node_id":"MDU6SXNzdWU2MjMzNjk2NTQ=","number":73,"title":"bean-bake should support all the same options as bean-web","user":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":2080994022,"node_id":"MDU6TGFiZWwyMDgwOTk0MDIy","url":"https://api.github.com/repos/beancount/beancount/labels/P2","name":"P2","color":"ffaaaa","default":false,"description":"Low priority, addressing would result in useful improvements"},{"id":2080994900,"node_id":"MDU6TGFiZWwyMDgwOTk0OTAw","url":"https://api.github.com/repos/beancount/beancount/labels/web","name":"web","color":"ededed","default":false,"description":"Component: bean-web built-in server"}],"state":"open","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":2,"created_at":"2015-10-08T05:29:04Z","updated_at":"2020-05-23T13:15:46Z","closed_at":null,"author_association":"MEMBER","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"**[Original report](https://bitbucket.org/blais/beancount/issue/73) by Martin Blais (Bitbucket: [blais](https://bitbucket.org/blais), GitHub: [blais](https://github.com/blais)).**\n\n----------------------------------------\n\nNew issue 71: bean-bake doesn't pass all options through to bean-web\nhttps://bitbucket.org/blais/beancount/issues/71/bean-bake-doesnt-pass-all-options-through\n\nGary Peck:\n\nI'm trying to run `bean-bake` with the `--first-month` option but it has no effect on the output. [The call to `scrape.scrape` in bake.py](https://bitbucket.org/blais/beancount/src/8417fbc170a8805ccd1f44345080b4f798f042a6/src/python/beancount/scripts/bake.py?at=default&fileviewer=file-view-default#bake.py-133) needs to pass all of `webargs` down into the scrape function instead of just `filename` and `port`.\n","closed_by":null,"reactions":{"url":"https://api.github.com/repos/beancount/beancount/issues/73/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beancount/issues/73/timeline","performed_via_github_app":null,"state_reason":null},{"url":"https://api.github.com/repos/beancount/beancount/issues/72","repository_url":"https://api.github.com/repos/beancount/beancount","labels_url":"https://api.github.com/repos/beancount/beancount/issues/72/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beancount/issues/72/comments","events_url":"https://api.github.com/repos/beancount/beancount/issues/72/events","html_url":"https://github.com/beancount/beancount/issues/72","id":623369611,"node_id":"MDU6SXNzdWU2MjMzNjk2MTE=","number":72,"title":"Consider installing with setuptools again","user":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":2080994061,"node_id":"MDU6TGFiZWwyMDgwOTk0MDYx","url":"https://api.github.com/repos/beancount/beancount/labels/P3","name":"P3","color":"FFdddd","default":false,"description":"Very low priority, nice to have"},{"id":2080994828,"node_id":"MDU6TGFiZWwyMDgwOTk0ODI4","url":"https://api.github.com/repos/beancount/beancount/labels/scripts","name":"scripts","color":"ededed","default":false,"description":"Component: Other scripts"}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":8,"created_at":"2015-10-08T05:24:16Z","updated_at":"2020-05-23T13:17:52Z","closed_at":"2020-05-23T13:17:52Z","author_association":"MEMBER","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"**[Original report](https://bitbucket.org/blais/beancount/issue/72) by Martin Blais (Bitbucket: [blais](https://bitbucket.org/blais), GitHub: [blais](https://github.com/blais)).**\n\n----------------------------------------\n\nOn Thursday, July 2, 2015 at 3:14:33 PM UTC-7, Martin Blais wrote:\nOn Thu, Jul 2, 2015 at 3:23 PM, Martin Blais <bl...@furius.ca> wrote:\n\nI'd been having problems with setup.py in that it's supposed to be able to install dependencies by default, so in theory you shouldn't have to install anything but Beancount now. It hadn't been working before. \n\nHere's some background, in case anyone's interested: Python has two active supporting projects for packaging: \n\n(1) distutils, which comes with it in the stdlib, and \n(2) setuptools, which is newer and better, but which needs to be installed on top of the stdlib. \n\nThere's a deep history of why that is and many projects have come and gone trying to make this better (e.g. distribute). The main issue with disutils is that it does not support automatic installation of dependencies (it's really old but a ton of packages still depend on it, that's the price of popularity). Setuptools does support it, the packager can declare dependencies and pip3 should be able to pull in and install all requirements automatically.  I could not get setuptools to install my dependencies due to a namespace collision with the 'parser' module (was my fault).\n\nNow that I've made changes, Beancount supports setuptools and installs dependencies automatically. If you don't have setuptools installed, it falls back on distutils (and you have to install the dependencies manually, e.g. it's a one-liner:  \"pip3 install python-dateutil lxml bottle ply\").\n\nOkay, an update: the state of setuptools / distutils Python distribution tools is in a really sorry state indeed. I've spend much of my afternoon dealing with some more setuptools brokenness and running around its sad, sad source code. When I use\n\n  python3 setup.py build_ext -i\n\nwith setuptools installed, it puts the _parser.so library under src/python and not under src/python/beancount/parser where it should be, so that's a no go.\n\nThis is using setuptools v15. Manually installing the latest v18 puts the .so in the right place but there is an annoying warning about not running it with pip3.\n\n#$&*# this. No seriously, I've had enough. I want to spend my time building features instead of packaging, and I've wasted the better part of a beautiful vacation day just dealing with setuptools and reading conflicting information on the web. I'm ditching support for setuptools. \n\nBeancount will use distutils, which is basic, comes with all versions of Python, and does the right thing by default. It's only drawback is that you need to install the dependencies manually. It won't do the dependencies automatically. It's a one-liner to install dependencies. No big deal in my book.\n\nPython seriously needs a brand new, rewritten from scratch packaging system.\n\nI fully understand your pain and frustration with setuptools, but I'm hoping you might reconsider. With a few small changes to setup.py, I have not been able to find an installation method that fails. If you let me know environments where the installation fails, I'm happy to try to fix those environments too. I'm trying to get others in my company to use beancount for our bookkeeping and it's really nice to be able to point people at a single installation command, as well as being able to use tools like pipsi to install beancount.\n\nI tested the following commands under Ubuntu 15.04 and (a) a virtualenv with python 3.4.3, pip 7.1.0, and setuptools 18.0.1, as well as (b) a pyvenv with python 3.4.3, pip 1.5.6, setuptools 12.2:\n\n- pip3 install -e . (this is recommended by the python packaging guide for development installs rather than using \"python3 setup.py install\" directly)\n- pip3 install .\n- python3 setup.py install (yes, you get an annoying warning about not running it under pip, but everything works)\n- python3 setup.py build_ext -i (copies _parser.so to src/python/beancount/parser)\n\nHere's a diff of the changes I had to make. I think the reason you were having trouble with _parser.so getting copied to the right place is because the first argument to Extension needs to be a python package path, not a filesystem path.\n\n\ndiff -r b5d8ae469380 setup.py\n--- a/setup.py\tMon Oct 05 11:31:52 2015 +0800\n+++ b/setup.py\tWed Oct 07 15:36:42 2015 -0700\n@@ -18,7 +18,7 @@\n \n # Import setup().\n setup_extra_kwargs = {}\n-from distutils.core import setup, Extension\n+from setuptools import setup, Extension\n \n # Unused support for setuptools. Setuptools is seriously broken:\n #\n@@ -132,7 +132,7 @@\n     scripts=install_scripts,\n \n     ext_modules=[\n-        Extension(\"beancount/parser/_parser\",\n+        Extension(\"beancount.parser._parser\",\n                   sources=[\n                       \"src/python/beancount/parser/lexer.c\",\n                       \"src/python/beancount/parser/grammar.c\",\n@@ -142,6 +142,13 @@\n                                   '\"{}\"'.format(hash_parser_source_files()))]),\n     ],\n \n+    install_requires=[\n+        'python-dateutil',\n+        'bottle',\n+        'ply',\n+        'lxml',\n+    ],\n+\n     # Add optional arguments that only work with some variants of setup().\n     **setup_extra_kwargs\n )\n\n\nThanks,\nGary\n","closed_by":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/beancount/beancount/issues/72/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beancount/issues/72/timeline","performed_via_github_app":null,"state_reason":"completed"},{"url":"https://api.github.com/repos/beancount/beancount/issues/71","repository_url":"https://api.github.com/repos/beancount/beancount","labels_url":"https://api.github.com/repos/beancount/beancount/issues/71/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beancount/issues/71/comments","events_url":"https://api.github.com/repos/beancount/beancount/issues/71/events","html_url":"https://github.com/beancount/beancount/issues/71","id":623369588,"node_id":"MDU6SXNzdWU2MjMzNjk1ODg=","number":71,"title":"bean-bake doesn't pass all options through to bean-web","user":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":2080914000,"node_id":"MDU6TGFiZWwyMDgwOTE0MDAw","url":"https://api.github.com/repos/beancount/beancount/labels/BUG","name":"BUG","color":"cc99cc","default":false,"description":"This is a bug, not a feature request; something isn't working."},{"id":2080994777,"node_id":"MDU6TGFiZWwyMDgwOTk0Nzc3","url":"https://api.github.com/repos/beancount/beancount/labels/P1","name":"P1","color":"ff6666","default":false,"description":"High priority, not breaking but hindering or lessening existing functionality"},{"id":2080994828,"node_id":"MDU6TGFiZWwyMDgwOTk0ODI4","url":"https://api.github.com/repos/beancount/beancount/labels/scripts","name":"scripts","color":"ededed","default":false,"description":"Component: Other scripts"}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":1,"created_at":"2015-10-07T15:51:22Z","updated_at":"2015-10-08T18:52:06Z","closed_at":"2015-10-08T18:52:06Z","author_association":"MEMBER","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"**[Original report](https://bitbucket.org/blais/beancount/issue/71) by Gary Peck (Bitbucket: [tylix](https://bitbucket.org/tylix), GitHub: [garyp](https://github.com/garyp)).**\n\n----------------------------------------\n\nI'm trying to run `bean-bake` with the `--first-month` option but it has no effect on the output. [The call to `scrape.scrape` in bake.py](https://bitbucket.org/blais/beancount/src/8417fbc170a8805ccd1f44345080b4f798f042a6/src/python/beancount/scripts/bake.py?at=default&fileviewer=file-view-default#bake.py-133) needs to pass all of `webargs` down into the scrape function instead of just `filename` and `port`.\n","closed_by":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/beancount/beancount/issues/71/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beancount/issues/71/timeline","performed_via_github_app":null,"state_reason":"completed"},{"url":"https://api.github.com/repos/beancount/beancount/issues/70","repository_url":"https://api.github.com/repos/beancount/beancount","labels_url":"https://api.github.com/repos/beancount/beancount/issues/70/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beancount/issues/70/comments","events_url":"https://api.github.com/repos/beancount/beancount/issues/70/events","html_url":"https://github.com/beancount/beancount/issues/70","id":623369566,"node_id":"MDU6SXNzdWU2MjMzNjk1NjY=","number":70,"title":"Add #tag to the Pad directive and propagate the tags to the generated transactions","user":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":2080994022,"node_id":"MDU6TGFiZWwyMDgwOTk0MDIy","url":"https://api.github.com/repos/beancount/beancount/labels/P2","name":"P2","color":"ffaaaa","default":false,"description":"Low priority, addressing would result in useful improvements"},{"id":2080995603,"node_id":"MDU6TGFiZWwyMDgwOTk1NjAz","url":"https://api.github.com/repos/beancount/beancount/labels/core-ops","name":"core-ops","color":"ededed","default":false,"description":"Component: Core data structures and stream ops"}],"state":"open","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":3,"created_at":"2015-09-28T14:41:30Z","updated_at":"2020-05-23T13:15:46Z","closed_at":null,"author_association":"MEMBER","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"**[Original report](https://bitbucket.org/blais/beancount/issue/70) by Martin Blais (Bitbucket: [blais](https://bitbucket.org/blais), GitHub: [blais](https://github.com/blais)).**\n\n----------------------------------------\n\nFrom Daniel Clemente:\n\n  Minor feature request: #tag for „pad“.\n  E.g. I'd like this:\n\n\n```\n#!\n\n2015-09-15 pad Assets:Cash Expenses:Cash:FoodEtc #indo2015\n\n```\n\n  Then the tag will be added to the generated transactions; in this case to the expense created by the „pad“.\n\n\n\n  Use case:\n\n  I'm using this formula to say „I spent all the cash I had in my pocket and then I had to draw more from the ATM“:\n\n\n```\n#!\n\n2015-09-15 pad Assets:Cash Expenses:Cash:FoodEtc\n2015-09-16 balance Assets:Cash 0 EUR\n2015-09-16 * \"Get money from the ATM\"\n  Assets:Cash            20 EUR\n\n```\n  Assets:Bank1\n\n\n  This is working well and makes sense to me.\n  Now I want to annotate that this expense happened during a particular trip. I use a tag for each trip. I need the tag in every *expense*, therefore it needs to go in the „pad“ and not in the asset-to-asset transaction written above.\n\n  pushtag/poptag should add the tag to „pad“ too.\n\n\n  This is just „nice to have“; not really important. I can get the data I need through another manual approach.\n\n\n  Thanks\n","closed_by":null,"reactions":{"url":"https://api.github.com/repos/beancount/beancount/issues/70/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beancount/issues/70/timeline","performed_via_github_app":null,"state_reason":null},{"url":"https://api.github.com/repos/beancount/beancount/issues/69","repository_url":"https://api.github.com/repos/beancount/beancount","labels_url":"https://api.github.com/repos/beancount/beancount/issues/69/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beancount/issues/69/comments","events_url":"https://api.github.com/repos/beancount/beancount/issues/69/events","html_url":"https://github.com/beancount/beancount/issues/69","id":623369524,"node_id":"MDU6SXNzdWU2MjMzNjk1MjQ=","number":69,"title":"Emacs: Using syntax tables for strings fails on long strings","user":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":2080914000,"node_id":"MDU6TGFiZWwyMDgwOTE0MDAw","url":"https://api.github.com/repos/beancount/beancount/labels/BUG","name":"BUG","color":"cc99cc","default":false,"description":"This is a bug, not a feature request; something isn't working."},{"id":2080994777,"node_id":"MDU6TGFiZWwyMDgwOTk0Nzc3","url":"https://api.github.com/repos/beancount/beancount/labels/P1","name":"P1","color":"ff6666","default":false,"description":"High priority, not breaking but hindering or lessening existing functionality"}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":9,"created_at":"2015-09-15T02:19:33Z","updated_at":"2015-09-17T18:07:29Z","closed_at":"2015-09-17T18:07:26Z","author_association":"MEMBER","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"**[Original report](https://bitbucket.org/blais/beancount/issue/69) by Martin Blais (Bitbucket: [blais](https://bitbucket.org/blais), GitHub: [blais](https://github.com/blais)).**\n\n----------------------------------------\n\nThere's a bug: loading the file, with a long multiline string, the string SOMETIMES does not end.\nOpen the file in attachment, for example, you'll see that after the long string that contains \"Estimated Total Taxes Paid\" it's all pink all the way to the EOF.\n","closed_by":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/beancount/beancount/issues/69/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beancount/issues/69/timeline","performed_via_github_app":null,"state_reason":"completed"},{"url":"https://api.github.com/repos/beancount/beancount/issues/68","repository_url":"https://api.github.com/repos/beancount/beancount","labels_url":"https://api.github.com/repos/beancount/beancount/issues/68/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beancount/issues/68/comments","events_url":"https://api.github.com/repos/beancount/beancount/issues/68/events","html_url":"https://github.com/beancount/beancount/issues/68","id":623369499,"node_id":"MDU6SXNzdWU2MjMzNjk0OTk=","number":68,"title":"DecimalRenderer ignores its currency when formatting for an Amount","user":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":2080914000,"node_id":"MDU6TGFiZWwyMDgwOTE0MDAw","url":"https://api.github.com/repos/beancount/beancount/labels/BUG","name":"BUG","color":"cc99cc","default":false,"description":"This is a bug, not a feature request; something isn't working."},{"id":2080994777,"node_id":"MDU6TGFiZWwyMDgwOTk0Nzc3","url":"https://api.github.com/repos/beancount/beancount/labels/P1","name":"P1","color":"ff6666","default":false,"description":"High priority, not breaking but hindering or lessening existing functionality"},{"id":2080995603,"node_id":"MDU6TGFiZWwyMDgwOTk1NjAz","url":"https://api.github.com/repos/beancount/beancount/labels/core-ops","name":"core-ops","color":"ededed","default":false,"description":"Component: Core data structures and stream ops"}],"state":"open","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":1,"created_at":"2015-09-08T05:59:14Z","updated_at":"2018-08-07T15:30:04Z","closed_at":null,"author_association":"MEMBER","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"**[Original report](https://bitbucket.org/blais/beancount/issue/68) by Martin Blais (Bitbucket: [blais](https://bitbucket.org/blais), GitHub: [blais](https://github.com/blais)).**\n\n----------------------------------------\n\nSee beancount.query.query_render.DecimalRenderer.format().\nIt ignores key.\nThis could explain a lot of the inconsistencies I've been witnessing.\n","closed_by":null,"reactions":{"url":"https://api.github.com/repos/beancount/beancount/issues/68/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beancount/issues/68/timeline","performed_via_github_app":null,"state_reason":null},{"url":"https://api.github.com/repos/beancount/beancount/issues/67","repository_url":"https://api.github.com/repos/beancount/beancount","labels_url":"https://api.github.com/repos/beancount/beancount/issues/67/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beancount/issues/67/comments","events_url":"https://api.github.com/repos/beancount/beancount/issues/67/events","html_url":"https://github.com/beancount/beancount/issues/67","id":623369484,"node_id":"MDU6SXNzdWU2MjMzNjk0ODQ=","number":67,"title":"option \"account_rounding\" should check for valid account name","user":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":2080914000,"node_id":"MDU6TGFiZWwyMDgwOTE0MDAw","url":"https://api.github.com/repos/beancount/beancount/labels/BUG","name":"BUG","color":"cc99cc","default":false,"description":"This is a bug, not a feature request; something isn't working."},{"id":2080994777,"node_id":"MDU6TGFiZWwyMDgwOTk0Nzc3","url":"https://api.github.com/repos/beancount/beancount/labels/P1","name":"P1","color":"ff6666","default":false,"description":"High priority, not breaking but hindering or lessening existing functionality"}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":3,"created_at":"2015-09-01T08:44:44Z","updated_at":"2015-09-05T19:19:18Z","closed_at":"2015-09-05T19:19:18Z","author_association":"MEMBER","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"**[Original report](https://bitbucket.org/blais/beancount/issue/67) by Jakob Schnitzer (Bitbucket: [yagebu](https://bitbucket.org/yagebu), GitHub: [yagebu](https://github.com/yagebu)).**\n\n----------------------------------------\n\nWhen running `balances` in the `bean-query` shell, I get the following Traceback. I have non-standard root accounts set using options in my beancount file and don't get this error with the example generated by `bean-example`. Not sure if the fact that I'm using non-standard root accounts produces this problem or if it's something else\n \n```\nTraceback (most recent call last):\n  File \"/usr/local/Cellar/python3/3.4.3_2/Frameworks/Python.framework/Versions/3.4/lib/python3.4/cmd.py\", line 214, in onecmd\n    func = getattr(self, 'do_' + cmd)\nAttributeError: 'BQLShell' object has no attribute 'do_balances'\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File \"/usr/local/lib/python3.4/site-packages/beancount/query/shell.py\", line 229, in default\n    self.dispatch(statement)\n  File \"/usr/local/lib/python3.4/site-packages/beancount/query/shell.py\", line 219, in dispatch\n    return method(statement)\n  File \"/usr/local/lib/python3.4/site-packages/beancount/query/shell.py\", line 408, in on_Balances\n    return self.on_Select(balance)\n  File \"/usr/local/lib/python3.4/site-packages/beancount/query/shell.py\", line 362, in on_Select\n    self.options_map)\n  File \"/usr/local/lib/python3.4/site-packages/beancount/query/query_execute.py\", line 271, in execute_query\n    for c_expr in c_nonaggregate_exprs)\n  File \"/usr/local/lib/python3.4/site-packages/beancount/query/query_execute.py\", line 271, in <genexpr>\n    for c_expr in c_nonaggregate_exprs)\n  File \"/usr/local/lib/python3.4/site-packages/beancount/query/query_env.py\", line 183, in __call__\n    index, name = account_types.get_account_sort_key(context.account_types, args[0])\n  File \"/usr/local/lib/python3.4/site-packages/beancount/core/account_types.py\", line 45, in get_account_sort_key\n    return (account_types.index(get_account_type(account_name)), account_name)\nValueError: tuple.index(x): x not in tuple\n```\n\nUpdate: thought the shell just ignored the options, but it doesn't, so I'm not sure anymore where the problem comes from\n","closed_by":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/beancount/beancount/issues/67/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beancount/issues/67/timeline","performed_via_github_app":null,"state_reason":"completed"},{"url":"https://api.github.com/repos/beancount/beancount/issues/66","repository_url":"https://api.github.com/repos/beancount/beancount","labels_url":"https://api.github.com/repos/beancount/beancount/issues/66/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beancount/issues/66/comments","events_url":"https://api.github.com/repos/beancount/beancount/issues/66/events","html_url":"https://github.com/beancount/beancount/issues/66","id":623369469,"node_id":"MDU6SXNzdWU2MjMzNjk0Njk=","number":66,"title":"Change active years in bean-web to be calculated using the correct year month boundary","user":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":2080914000,"node_id":"MDU6TGFiZWwyMDgwOTE0MDAw","url":"https://api.github.com/repos/beancount/beancount/labels/BUG","name":"BUG","color":"cc99cc","default":false,"description":"This is a bug, not a feature request; something isn't working."},{"id":2080994061,"node_id":"MDU6TGFiZWwyMDgwOTk0MDYx","url":"https://api.github.com/repos/beancount/beancount/labels/P3","name":"P3","color":"FFdddd","default":false,"description":"Very low priority, nice to have"},{"id":2080994900,"node_id":"MDU6TGFiZWwyMDgwOTk0OTAw","url":"https://api.github.com/repos/beancount/beancount/labels/web","name":"web","color":"ededed","default":false,"description":"Component: bean-web built-in server"}],"state":"open","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":2,"created_at":"2015-08-20T01:55:37Z","updated_at":"2018-03-19T09:55:02Z","closed_at":null,"author_association":"MEMBER","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"**[Original report](https://bitbucket.org/blais/beancount/issue/66) by Martin Blais (Bitbucket: [blais](https://bitbucket.org/blais), GitHub: [blais](https://github.com/blais)).**\n\n----------------------------------------\n\nI wonder: Should a change be considered in https://bitbucket.org/blais/beancount/src/a5fd8abd390a27011e912eba69817578f15d7e34/src/python/beancount/core/getters.py?at=default#getters.py-244 which only considers the year number? For a calendar year beginning in April, 2015-04-01 and 2016-02-01 should belong to the same active year.\n","closed_by":null,"reactions":{"url":"https://api.github.com/repos/beancount/beancount/issues/66/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beancount/issues/66/timeline","performed_via_github_app":null,"state_reason":null},{"url":"https://api.github.com/repos/beancount/beancount/issues/65","repository_url":"https://api.github.com/repos/beancount/beancount","labels_url":"https://api.github.com/repos/beancount/beancount/issues/65/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beancount/issues/65/comments","events_url":"https://api.github.com/repos/beancount/beancount/issues/65/events","html_url":"https://github.com/beancount/beancount/issues/65","id":623369452,"node_id":"MDU6SXNzdWU2MjMzNjk0NTI=","number":65,"title":"Context should render with natural precision","user":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":2080914000,"node_id":"MDU6TGFiZWwyMDgwOTE0MDAw","url":"https://api.github.com/repos/beancount/beancount/labels/BUG","name":"BUG","color":"cc99cc","default":false,"description":"This is a bug, not a feature request; something isn't working."},{"id":2080994022,"node_id":"MDU6TGFiZWwyMDgwOTk0MDIy","url":"https://api.github.com/repos/beancount/beancount/labels/P2","name":"P2","color":"ffaaaa","default":false,"description":"Low priority, addressing would result in useful improvements"},{"id":2080995603,"node_id":"MDU6TGFiZWwyMDgwOTk1NjAz","url":"https://api.github.com/repos/beancount/beancount/labels/core-ops","name":"core-ops","color":"ededed","default":false,"description":"Component: Core data structures and stream ops"}],"state":"open","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":0,"created_at":"2015-08-01T14:53:15Z","updated_at":"2018-04-18T05:16:43Z","closed_at":null,"author_association":"MEMBER","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"**[Original report](https://bitbucket.org/blais/beancount/issue/65) by Martin Blais (Bitbucket: [blais](https://bitbucket.org/blais), GitHub: [blais](https://github.com/blais)).**\n\n----------------------------------------\n\nCreate a new \"NATURAL\" precision for the display context and make the contextual transaction from \"bean-doctor context\" render using this precision. The printer should render it this way.\n\nIn fact, maybe this should be the default for the printer.\nSee transaction ^3d25bf136b44 for a great example which fails.\n","closed_by":null,"reactions":{"url":"https://api.github.com/repos/beancount/beancount/issues/65/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beancount/issues/65/timeline","performed_via_github_app":null,"state_reason":null},{"url":"https://api.github.com/repos/beancount/beancount/issues/63","repository_url":"https://api.github.com/repos/beancount/beancount","labels_url":"https://api.github.com/repos/beancount/beancount/issues/63/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beancount/issues/63/comments","events_url":"https://api.github.com/repos/beancount/beancount/issues/63/events","html_url":"https://github.com/beancount/beancount/issues/63","id":623369423,"node_id":"MDU6SXNzdWU2MjMzNjk0MjM=","number":63,"title":"bean-format fails due to whitespace after account name","user":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":2080914000,"node_id":"MDU6TGFiZWwyMDgwOTE0MDAw","url":"https://api.github.com/repos/beancount/beancount/labels/BUG","name":"BUG","color":"cc99cc","default":false,"description":"This is a bug, not a feature request; something isn't working."},{"id":2080994777,"node_id":"MDU6TGFiZWwyMDgwOTk0Nzc3","url":"https://api.github.com/repos/beancount/beancount/labels/P1","name":"P1","color":"ff6666","default":false,"description":"High priority, not breaking but hindering or lessening existing functionality"},{"id":2080994828,"node_id":"MDU6TGFiZWwyMDgwOTk0ODI4","url":"https://api.github.com/repos/beancount/beancount/labels/scripts","name":"scripts","color":"ededed","default":false,"description":"Component: Other scripts"}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":1,"created_at":"2015-07-28T17:51:44Z","updated_at":"2015-07-30T01:41:11Z","closed_at":"2015-07-30T01:41:11Z","author_association":"MEMBER","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"**[Original report](https://bitbucket.org/blais/beancount/issue/63) by Benjamin Weber (Bitbucket: [hyllos](https://bitbucket.org/hyllos), GitHub: [hyllos](https://github.com/hyllos)).**\n\n----------------------------------------\n\n```\nbash-4.3$ bean-format ~/Desktop/bug.txt\nTraceback (most recent call last):\n  File \"/usr/local/bin/bean-format\", line 2, in <module>\n    from beancount.scripts.format import main; main()\n  File \"/usr/local/lib/python3.4/site-packages/beancount/scripts/format.py\", line 149, in main\n    formatted_contents = align_beancount(contents)\n  File \"/usr/local/lib/python3.4/site-packages/beancount/scripts/format.py\", line 77, in align_beancount\n    re.sub(r'[ \\t]+', ' ', formatted_contents.rstrip()))\nAssertionError\n```\n","closed_by":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/beancount/beancount/issues/63/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beancount/issues/63/timeline","performed_via_github_app":null,"state_reason":"completed"},{"url":"https://api.github.com/repos/beancount/beancount/issues/62","repository_url":"https://api.github.com/repos/beancount/beancount","labels_url":"https://api.github.com/repos/beancount/beancount/issues/62/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beancount/issues/62/comments","events_url":"https://api.github.com/repos/beancount/beancount/issues/62/events","html_url":"https://github.com/beancount/beancount/issues/62","id":623369406,"node_id":"MDU6SXNzdWU2MjMzNjk0MDY=","number":62,"title":"Document \"operating_currencies\" in Language/Syntax document","user":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":2080994022,"node_id":"MDU6TGFiZWwyMDgwOTk0MDIy","url":"https://api.github.com/repos/beancount/beancount/labels/P2","name":"P2","color":"ffaaaa","default":false,"description":"Low priority, addressing would result in useful improvements"},{"id":2080996004,"node_id":"MDU6TGFiZWwyMDgwOTk2MDA0","url":"https://api.github.com/repos/beancount/beancount/labels/reports","name":"reports","color":"ededed","default":false,"description":"Component: Canned reports"}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":1,"created_at":"2015-06-30T15:00:19Z","updated_at":"2015-07-02T19:38:46Z","closed_at":"2015-07-02T19:38:46Z","author_association":"MEMBER","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"**[Original report](https://bitbucket.org/blais/beancount/issue/62) by Martin Blais (Bitbucket: [blais](https://bitbucket.org/blais), GitHub: [blais](https://github.com/blais)).**\n\n----------------------------------------\n\nOn 30 June 2015 at 00:34, Martin Blais <blais@furius.ca> wrote:\n\nAre you using the \"operating_currencies\" option to let it know you're interested in breaking out NZD in its own dedicated column?\n\nNo, I'm not - I hadn't seen that. It doesn't appear in the Language Syntax Guide, BTW.\n\nThanks for letting me know. It appears in the options reference but it's true I haven't dedicated a section to this topic and it deserves it. I'll do this.\n","closed_by":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/beancount/beancount/issues/62/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beancount/issues/62/timeline","performed_via_github_app":null,"state_reason":"completed"},{"url":"https://api.github.com/repos/beancount/beancount/issues/60","repository_url":"https://api.github.com/repos/beancount/beancount","labels_url":"https://api.github.com/repos/beancount/beancount/issues/60/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beancount/issues/60/comments","events_url":"https://api.github.com/repos/beancount/beancount/issues/60/events","html_url":"https://github.com/beancount/beancount/issues/60","id":623369348,"node_id":"MDU6SXNzdWU2MjMzNjkzNDg=","number":60,"title":"Rendering precision for reports is inconsistent.","user":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":2080914000,"node_id":"MDU6TGFiZWwyMDgwOTE0MDAw","url":"https://api.github.com/repos/beancount/beancount/labels/BUG","name":"BUG","color":"cc99cc","default":false,"description":"This is a bug, not a feature request; something isn't working."},{"id":2080994777,"node_id":"MDU6TGFiZWwyMDgwOTk0Nzc3","url":"https://api.github.com/repos/beancount/beancount/labels/P1","name":"P1","color":"ff6666","default":false,"description":"High priority, not breaking but hindering or lessening existing functionality"},{"id":2080996004,"node_id":"MDU6TGFiZWwyMDgwOTk2MDA0","url":"https://api.github.com/repos/beancount/beancount/labels/reports","name":"reports","color":"ededed","default":false,"description":"Component: Canned reports"}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":3,"created_at":"2015-06-18T01:51:57Z","updated_at":"2015-07-12T19:54:09Z","closed_at":"2015-07-12T19:54:09Z","author_association":"MEMBER","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"**[Original report](https://bitbucket.org/blais/beancount/issue/60) by Martin Blais (Bitbucket: [blais](https://bitbucket.org/blais), GitHub: [blais](https://github.com/blais)).**\n\n----------------------------------------\n\nSomething broke with your change c8cedf4. My checking account used to nicely print xxx.xx USD everywhere in bean-web, and now it sometimes prints xxx USD and sometimes xxx.xx and (usually) xxx.xxxxx USD. I used 'hg update' to pin down the bug to that change. It is not present in its parent commit.\n\nhttps://bitbucket.org/blais/beancount/commits/c8cedf46c100d0cb80553b091aff481243ade44d?at=default\n\n\nMatthew\n\nOn Wednesday, June 10, 2015 at 9:15:01 PM UTC-7, Martin Blais wrote:\nI wrote a whole new thing to deal with the rendering of numbers, here:\nhttps://bitbucket.org/blais/beancount/src/tip/src/python/beancount/core/display_context.py?at=default\n\nThis is an object that is built while parsing the input and it tries to figure out automatically what the most frequently used and maximum precision formats are for each currency. It can then be used to render all the core objects, and supports various alignment options. I've started using it in a few places but not everywhere yet. I have yet to make all the reports use it but when I do the web interface should render the number at its most common precision automatically, that is, if you entered a lot of X.XX digits for USD, those numbers would render as 1234.56. \n\nI don't recall where I stopped, I have it on my list to take a second look at this and complete replacing it everywhere. In particular, bean-query output has its own separate mechanism to render numbers that should be replace by this newer and better display_context:\nhttps://bitbucket.org/blais/beancount/src/tip/src/python/beancount/query/query_render.py?at=default\n","closed_by":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/beancount/beancount/issues/60/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beancount/issues/60/timeline","performed_via_github_app":null,"state_reason":"completed"},{"url":"https://api.github.com/repos/beancount/beancount/issues/59","repository_url":"https://api.github.com/repos/beancount/beancount","labels_url":"https://api.github.com/repos/beancount/beancount/issues/59/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beancount/issues/59/comments","events_url":"https://api.github.com/repos/beancount/beancount/issues/59/events","html_url":"https://github.com/beancount/beancount/issues/59","id":623369321,"node_id":"MDU6SXNzdWU2MjMzNjkzMjE=","number":59,"title":"Figure out Windows installation sans Cygwin","user":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":2080994022,"node_id":"MDU6TGFiZWwyMDgwOTk0MDIy","url":"https://api.github.com/repos/beancount/beancount/labels/P2","name":"P2","color":"ffaaaa","default":false,"description":"Low priority, addressing would result in useful improvements"}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":11,"created_at":"2015-06-15T22:07:42Z","updated_at":"2016-11-13T22:21:36Z","closed_at":"2016-08-04T05:13:53Z","author_association":"MEMBER","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"**[Original report](https://bitbucket.org/blais/beancount/issue/59) by Martin Blais (Bitbucket: [blais](https://bitbucket.org/blais), GitHub: [blais](https://github.com/blais)).**\n\n----------------------------------------\n\nTry installing this with MingW32 instead of Cygwin.\nIt's a bit crazy, but some people want to run it that way.\n","closed_by":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/beancount/beancount/issues/59/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beancount/issues/59/timeline","performed_via_github_app":null,"state_reason":"completed"},{"url":"https://api.github.com/repos/beancount/beancount/issues/58","repository_url":"https://api.github.com/repos/beancount/beancount","labels_url":"https://api.github.com/repos/beancount/beancount/issues/58/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beancount/issues/58/comments","events_url":"https://api.github.com/repos/beancount/beancount/issues/58/events","html_url":"https://github.com/beancount/beancount/issues/58","id":623369291,"node_id":"MDU6SXNzdWU2MjMzNjkyOTE=","number":58,"title":"Add support for querying metadata in bean-query","user":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":2080994252,"node_id":"MDU6TGFiZWwyMDgwOTk0MjUy","url":"https://api.github.com/repos/beancount/beancount/labels/query-sql","name":"query-sql","color":"ededed","default":false,"description":"Component: SQL query engine"},{"id":2080994777,"node_id":"MDU6TGFiZWwyMDgwOTk0Nzc3","url":"https://api.github.com/repos/beancount/beancount/labels/P1","name":"P1","color":"ff6666","default":false,"description":"High priority, not breaking but hindering or lessening existing functionality"}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":4,"created_at":"2015-06-11T05:07:12Z","updated_at":"2016-05-15T06:07:35Z","closed_at":"2016-05-15T06:07:35Z","author_association":"MEMBER","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"**[Original report](https://bitbucket.org/blais/beancount/issue/58) by Martin Blais (Bitbucket: [blais](https://bitbucket.org/blais), GitHub: [blais](https://github.com/blais)).**\n\n----------------------------------------\n\nThis has been on the list for a while, but I'm afraid it'll open a can of worms once I start coding.\n\nbw3443 writesL\n\n\n\n>>> How can I query for meta information 'doc'?\nI can't find 'meta' in Beancount - Query Language documentation.\nbean-query file.beancount attributes does not list the attribute.\nNeither  bean-query file.beancount targets . (shouldn't both list all available meta columns automatically?)\n \n\n```\n#!python\n\nfrom beancount import loader\n \nentries, errors, options = loader.load_string(\n\"\"\"2015-03-24 * \"FastMail Pty Ltd\" \"Annual E-Mail Enhanced Subscription\"\n  doc: \"D1\"\n  Expenses:Office                                   40.00 USD @ 0.9545 EUR\n  Assets:Bank:DE:Comdirekt:Giro                     -38.18 EUR\n\"\"\")\n \nprint(entries[0].meta['doc'])\n\n```\n \nhttps://bitbucket.org/blais/beancount/src/0c38bd8110a7ddb36ce8d6003c244e7d931ca028/src/python/beancount/query/query_env.py?at=default#cl-896\n \n\n```\n#!python\n\n… 'price' : PriceColumn,  'weight' : WeightColumn,  'balance' : BalanceColumn,  }\n\n```\n \nshould be extended by any metaColumn:value, so \n \n\n```\n#!python\n\n… 'price' : PriceColumn, 'weight' : WeightColumn, 'balance' : BalanceColumn, 'metaColumn': MetaColumn }\n\n```\n \n>> How can this be automatically done for any meta field I introduce with file.beancount?\n \nConsequently, I do\n \n\n```\n#!python\n\n  bean-query file.beancount 'select date, narration, account, number, receipt'\n\n```\n \nwhich includes a column with the values I specified for 'receipt'.\n \nBest wishes,\n","closed_by":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/beancount/beancount/issues/58/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beancount/issues/58/timeline","performed_via_github_app":null,"state_reason":"completed"},{"url":"https://api.github.com/repos/beancount/beancount/issues/57","repository_url":"https://api.github.com/repos/beancount/beancount","labels_url":"https://api.github.com/repos/beancount/beancount/issues/57/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beancount/issues/57/comments","events_url":"https://api.github.com/repos/beancount/beancount/issues/57/events","html_url":"https://github.com/beancount/beancount/issues/57","id":623369273,"node_id":"MDU6SXNzdWU2MjMzNjkyNzM=","number":57,"title":"bean-bake is broken; fix it by rewriting it in Python, removing the dependency on wget","user":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":2080914000,"node_id":"MDU6TGFiZWwyMDgwOTE0MDAw","url":"https://api.github.com/repos/beancount/beancount/labels/BUG","name":"BUG","color":"cc99cc","default":false,"description":"This is a bug, not a feature request; something isn't working."},{"id":2080994777,"node_id":"MDU6TGFiZWwyMDgwOTk0Nzc3","url":"https://api.github.com/repos/beancount/beancount/labels/P1","name":"P1","color":"ff6666","default":false,"description":"High priority, not breaking but hindering or lessening existing functionality"},{"id":2080994828,"node_id":"MDU6TGFiZWwyMDgwOTk0ODI4","url":"https://api.github.com/repos/beancount/beancount/labels/scripts","name":"scripts","color":"ededed","default":false,"description":"Component: Other scripts"}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":1,"created_at":"2015-06-11T03:51:42Z","updated_at":"2015-06-15T20:49:20Z","closed_at":"2015-06-15T20:49:20Z","author_association":"MEMBER","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"**[Original report](https://bitbucket.org/blais/beancount/issue/57) by Martin Blais (Bitbucket: [blais](https://bitbucket.org/blais), GitHub: [blais](https://github.com/blais)).**\n\n----------------------------------------\n\nYeah... it's broken. I don't know why wget misbehaves.\n\"balsheet\" links aren't downloaded, and indexes to directories are seen as external files.\n","closed_by":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/beancount/beancount/issues/57/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beancount/issues/57/timeline","performed_via_github_app":null,"state_reason":"completed"},{"url":"https://api.github.com/repos/beancount/beancount/issues/56","repository_url":"https://api.github.com/repos/beancount/beancount","labels_url":"https://api.github.com/repos/beancount/beancount/issues/56/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beancount/issues/56/comments","events_url":"https://api.github.com/repos/beancount/beancount/issues/56/events","html_url":"https://github.com/beancount/beancount/issues/56","id":623369253,"node_id":"MDU6SXNzdWU2MjMzNjkyNTM=","number":56,"title":"Figure out how to disable tolerance inference on numbers output from arithmetic expressions","user":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":2080914000,"node_id":"MDU6TGFiZWwyMDgwOTE0MDAw","url":"https://api.github.com/repos/beancount/beancount/labels/BUG","name":"BUG","color":"cc99cc","default":false,"description":"This is a bug, not a feature request; something isn't working."},{"id":2080994022,"node_id":"MDU6TGFiZWwyMDgwOTk0MDIy","url":"https://api.github.com/repos/beancount/beancount/labels/P2","name":"P2","color":"ffaaaa","default":false,"description":"Low priority, addressing would result in useful improvements"},{"id":2080995647,"node_id":"MDU6TGFiZWwyMDgwOTk1NjQ3","url":"https://api.github.com/repos/beancount/beancount/labels/parser-loader","name":"parser-loader","color":"ededed","default":false,"description":"Component: Parser and loader"}],"state":"open","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":0,"created_at":"2015-06-10T18:33:23Z","updated_at":"2015-06-10T18:33:23Z","closed_at":null,"author_association":"MEMBER","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"**[Original report](https://bitbucket.org/blais/beancount/issue/56) by Martin Blais (Bitbucket: [blais](https://bitbucket.org/blais), GitHub: [blais](https://github.com/blais)).**\n\n----------------------------------------\n\nI'm not sure I understand how the divide operator interacts with the recent tolerance changes, if it does. For example, if I do this:\n\n--------------------------------------------------------\noption \"title\" \"Main accounts\"\noption \"operating_currency\" \"USD\"\n\n1999-01-01 open Liabilities:Credit-Card\n1999-01-01 open Expenses:Utility-Bill\n\n2000-01-01 * \"Power company\"\n   Liabilities:Credit-Card          -331 USD\n   Expenses:Utility-Bill            331/12 USD\n   Expenses:Utility-Bill            331/12 USD\n   Expenses:Utility-Bill            331/12 USD\n   Expenses:Utility-Bill            331/12 USD\n   Expenses:Utility-Bill            331/12 USD\n   Expenses:Utility-Bill            331/12 USD\n   Expenses:Utility-Bill            331/12 USD\n   Expenses:Utility-Bill            331/12 USD\n   Expenses:Utility-Bill            331/12 USD\n   Expenses:Utility-Bill            331/12 USD\n   Expenses:Utility-Bill            331/12 USD\n   Expenses:Utility-Bill            331/12 USD\n--------------------------------------------------------\nI get: bean-check output:\ndivide.bc:7:   Transaction does not balance: (-2.8E-25 USD)\n\nIs there a recommended way to handle such situations without having to add an explicit rounding error posting?\n","closed_by":null,"reactions":{"url":"https://api.github.com/repos/beancount/beancount/issues/56/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beancount/issues/56/timeline","performed_via_github_app":null,"state_reason":null},{"url":"https://api.github.com/repos/beancount/beancount/issues/55","repository_url":"https://api.github.com/repos/beancount/beancount","labels_url":"https://api.github.com/repos/beancount/beancount/issues/55/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beancount/issues/55/comments","events_url":"https://api.github.com/repos/beancount/beancount/issues/55/events","html_url":"https://github.com/beancount/beancount/issues/55","id":623369236,"node_id":"MDU6SXNzdWU2MjMzNjkyMzY=","number":55,"title":"Make it easy to filter out transactions in the future","user":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":2080994022,"node_id":"MDU6TGFiZWwyMDgwOTk0MDIy","url":"https://api.github.com/repos/beancount/beancount/labels/P2","name":"P2","color":"ffaaaa","default":false,"description":"Low priority, addressing would result in useful improvements"},{"id":2080995603,"node_id":"MDU6TGFiZWwyMDgwOTk1NjAz","url":"https://api.github.com/repos/beancount/beancount/labels/core-ops","name":"core-ops","color":"ededed","default":false,"description":"Component: Core data structures and stream ops"}],"state":"open","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":0,"created_at":"2015-06-10T18:15:39Z","updated_at":"2020-05-23T13:15:46Z","closed_at":null,"author_association":"MEMBER","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"**[Original report](https://bitbucket.org/blais/beancount/issue/55) by Martin Blais (Bitbucket: [blais](https://bitbucket.org/blais), GitHub: [blais](https://github.com/blais)).**\n\n----------------------------------------\n\nBTW that's a totally legit example, I haven't done this myself yet, but I would like to. I need to give this a shot in my own file and fix all the problesm encountered.\n\n\n\n\nOn Wed, Jun 10, 2015 at 2:13 PM, Martin Blais <blais@furius.ca> wrote:\nYou're talking about bean-query? \nI could add a TODAY() function and then you could filter using date < TODAY().\nI think you can already use the CLOSE ON <date> to remove the future transactions.\n\nbean-web doesn't have such capability yet, the right thing to do is to rework it to accept an arbitrary filtering expression and show all the views based on that. I haven't gotten to it yet. So much to do ...\n\n\n\n\n\nOn Mon, Jun 8, 2015 at 1:58 PM, Jon Stahl <jonsstahl@gmail.com> wrote:\nOh, and FWIW a suggestion:\n\nI would like to enter all the future vesting events now and only see totals up to the current date.\nHowever when I select year 2015 I get future transactions.\nIt would be nice if there were a way to do \"YTD\" only ...\n\nRegards,\nJon\n","closed_by":null,"reactions":{"url":"https://api.github.com/repos/beancount/beancount/issues/55/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beancount/issues/55/timeline","performed_via_github_app":null,"state_reason":null},{"url":"https://api.github.com/repos/beancount/beancount/issues/54","repository_url":"https://api.github.com/repos/beancount/beancount","labels_url":"https://api.github.com/repos/beancount/beancount/issues/54/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beancount/issues/54/comments","events_url":"https://api.github.com/repos/beancount/beancount/issues/54/events","html_url":"https://github.com/beancount/beancount/issues/54","id":623369202,"node_id":"MDU6SXNzdWU2MjMzNjkyMDI=","number":54,"title":"In exportpf report, add an option to aggregate postings by currency","user":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":2080994022,"node_id":"MDU6TGFiZWwyMDgwOTk0MDIy","url":"https://api.github.com/repos/beancount/beancount/labels/P2","name":"P2","color":"ffaaaa","default":false,"description":"Low priority, addressing would result in useful improvements"}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":3,"created_at":"2015-06-04T03:18:52Z","updated_at":"2015-06-15T22:10:22Z","closed_at":"2015-06-15T22:10:22Z","author_association":"MEMBER","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"**[Original report](https://bitbucket.org/blais/beancount/issue/54) by Martin Blais (Bitbucket: [blais](https://bitbucket.org/blais), GitHub: [blais](https://github.com/blais)).**\n\n----------------------------------------\n\nFor more detailed tracking, what I'm doing at the moment is a \"bean-report <file> exportpf > /tmp/file.ofx\" and then import that into Google Finance. It's a bit annoying because I don't have groups of accounts and it requires some manual steps.\n\nHeh. My portfolio still crashes Google Finance for some reason (and gives an unhelpful \"Not Found\" error). I never bothered to bisect my file to try to pin down the reason. I suspect it would be difficult. (How big is your ofx file? Mine is 960 KB, and the import page takes a long time to load, so I wonder it's just too big. But I'm sure you also have a large file.)\n\nAbout 88K. Wow you have a lot of holdings.\n\nSomething easy could be done to fix that: the export script could be modified to aggregate holdings for the same account + currency at the average cost basis.\n","closed_by":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/beancount/beancount/issues/54/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beancount/issues/54/timeline","performed_via_github_app":null,"state_reason":"completed"},{"url":"https://api.github.com/repos/beancount/beancount/issues/53","repository_url":"https://api.github.com/repos/beancount/beancount","labels_url":"https://api.github.com/repos/beancount/beancount/issues/53/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beancount/issues/53/comments","events_url":"https://api.github.com/repos/beancount/beancount/issues/53/events","html_url":"https://github.com/beancount/beancount/issues/53","id":623369163,"node_id":"MDU6SXNzdWU2MjMzNjkxNjM=","number":53,"title":"Extend the cost-inferred tolerance further","user":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":2080994022,"node_id":"MDU6TGFiZWwyMDgwOTk0MDIy","url":"https://api.github.com/repos/beancount/beancount/labels/P2","name":"P2","color":"ffaaaa","default":false,"description":"Low priority, addressing would result in useful improvements"},{"id":2080995603,"node_id":"MDU6TGFiZWwyMDgwOTk1NjAz","url":"https://api.github.com/repos/beancount/beancount/labels/core-ops","name":"core-ops","color":"ededed","default":false,"description":"Component: Core data structures and stream ops"}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":5,"created_at":"2015-06-04T01:30:01Z","updated_at":"2015-06-11T05:03:15Z","closed_at":"2015-06-11T05:03:15Z","author_association":"MEMBER","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"**[Original report](https://bitbucket.org/blais/beancount/issue/53) by Martin Blais (Bitbucket: [blais](https://bitbucket.org/blais), GitHub: [blais](https://github.com/blais)).**\n\n----------------------------------------\n\nAbout\noption \"experiment_infer_tolerance_from_cost\" \"TRUE\"\n\n\nIt works just as I expected it to. Here's one case it fails:\n\n2006-01-17 * \"Plan Contribution\"\n  * Assets:Investments:VWELX  18.572 VWELX {30.96 USD}\n  * Assets:Investments:Cash  -575.00 USD\n\nGiven $575.00 and shares worth $30.96, we can get 18.572 shares with a bit left over.\n\nI didn't see how this is implemented, but I propose that the tolerance band in this case should not be 575.00 +/- t but rather 575.00 - 2t, since they're never going to round up the number of shares they're going to give me for my cash.\n","closed_by":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/beancount/beancount/issues/53/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beancount/issues/53/timeline","performed_via_github_app":null,"state_reason":"completed"},{"url":"https://api.github.com/repos/beancount/beancount/issues/52","repository_url":"https://api.github.com/repos/beancount/beancount","labels_url":"https://api.github.com/repos/beancount/beancount/issues/52/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beancount/issues/52/comments","events_url":"https://api.github.com/repos/beancount/beancount/issues/52/events","html_url":"https://github.com/beancount/beancount/issues/52","id":623369143,"node_id":"MDU6SXNzdWU2MjMzNjkxNDM=","number":52,"title":"PEP8 issues","user":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":2080994022,"node_id":"MDU6TGFiZWwyMDgwOTk0MDIy","url":"https://api.github.com/repos/beancount/beancount/labels/P2","name":"P2","color":"ffaaaa","default":false,"description":"Low priority, addressing would result in useful improvements"}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":4,"created_at":"2015-06-01T07:07:44Z","updated_at":"2018-04-18T05:17:57Z","closed_at":"2018-04-18T05:17:57Z","author_association":"MEMBER","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"**[Original report](https://bitbucket.org/blais/beancount/issue/52) by Austin Bingham (Bitbucket: [austin_bingham](https://bitbucket.org/austin_bingham), GitHub: [abingham](https://github.com/abingham)).**\n\n----------------------------------------\n\nAre you interested in patches that fix PEP8 issues? My editor highlights them, so it's relatively simple for me to fix them as I'm poking through the code. But I don't want to pester you with patches if you're not interested in merging them in.\n","closed_by":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/beancount/beancount/issues/52/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beancount/issues/52/timeline","performed_via_github_app":null,"state_reason":"completed"},{"url":"https://api.github.com/repos/beancount/beancount/issues/51","repository_url":"https://api.github.com/repos/beancount/beancount","labels_url":"https://api.github.com/repos/beancount/beancount/issues/51/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beancount/issues/51/comments","events_url":"https://api.github.com/repos/beancount/beancount/issues/51/events","html_url":"https://github.com/beancount/beancount/issues/51","id":623369114,"node_id":"MDU6SXNzdWU2MjMzNjkxMTQ=","number":51,"title":"ImportError: Module 'curses' is not installed","user":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":2080914000,"node_id":"MDU6TGFiZWwyMDgwOTE0MDAw","url":"https://api.github.com/repos/beancount/beancount/labels/BUG","name":"BUG","color":"cc99cc","default":false,"description":"This is a bug, not a feature request; something isn't working."},{"id":2080994777,"node_id":"MDU6TGFiZWwyMDgwOTk0Nzc3","url":"https://api.github.com/repos/beancount/beancount/labels/P1","name":"P1","color":"ff6666","default":false,"description":"High priority, not breaking but hindering or lessening existing functionality"},{"id":2080995603,"node_id":"MDU6TGFiZWwyMDgwOTk1NjAz","url":"https://api.github.com/repos/beancount/beancount/labels/core-ops","name":"core-ops","color":"ededed","default":false,"description":"Component: Core data structures and stream ops"}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":5,"created_at":"2015-05-29T09:49:21Z","updated_at":"2015-05-30T05:29:29Z","closed_at":"2015-05-30T05:26:17Z","author_association":"MEMBER","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"**[Original report](https://bitbucket.org/blais/beancount/issue/51) by Saša Janiška (Bitbucket: [gour](https://bitbucket.org/gour), GitHub: [gour](https://github.com/gour)).**\n\n----------------------------------------\n\nWhile working on tutorial, I've encountered the following:\n\n```\n#!python\n\ngour@atmarama ~/financije> bean-report example.beanaccount journal -a Assets:US:BofA:Checking\nTraceback (most recent call last):\n  File \"/usr/bin/bean-report\", line 2, in <module>\n    from beancount.scripts.report import main; main()\n  File \"/usr/lib64/python3.4/site-packages/beancount/scripts/report.py\", line 225, in main\n    chosen_report.render(entries, errors, options_map, args.format, outfile)\n  File \"/usr/lib64/python3.4/site-packages/beancount/reports/report.py\", line 114, in render\n    result = render_method(entries, errors, options_map, outfile)\n  File \"/usr/lib64/python3.4/site-packages/beancount/reports/report.py\", line 219, in forward_method\n    return fwdfunc(self, real_root, options_map, file)\n  File \"/usr/lib64/python3.4/site-packages/beancount/reports/journal_reports.py\", line 81, in render_real_text\n    self._render_text_formats(real_root, options_map, file, journal_text.FORMAT_TEXT)\n  File \"/usr/lib64/python3.4/site-packages/beancount/reports/journal_reports.py\", line 68, in _render_text_formats\n    width = self.args.width or misc_utils.get_screen_width()\n  File \"/usr/lib64/python3.4/site-packages/beancount/utils/misc_utils.py\", line 303, in get_screen_width\n    import curses\n  File \"/usr/lib64/python3.4/_import_failed/curses.py\", line 17, in <module>\n    to install it.\"\"\".format(__name__, package))\nImportError: Module 'curses' is not installed.\nUse:\n  sudo zypper install python3-curses\nto install it.\n\n```\n\nDon't know if it's openSUSE or general issue, but isntalling python3-curses does help.\n","closed_by":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/beancount/beancount/issues/51/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beancount/issues/51/timeline","performed_via_github_app":null,"state_reason":"completed"},{"url":"https://api.github.com/repos/beancount/beancount/issues/50","repository_url":"https://api.github.com/repos/beancount/beancount","labels_url":"https://api.github.com/repos/beancount/beancount/issues/50/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beancount/issues/50/comments","events_url":"https://api.github.com/repos/beancount/beancount/issues/50/events","html_url":"https://github.com/beancount/beancount/issues/50","id":623369094,"node_id":"MDU6SXNzdWU2MjMzNjkwOTQ=","number":50,"title":"TypeError: balance() missing 1 required positional argument: 'kvlist'","user":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":2080914000,"node_id":"MDU6TGFiZWwyMDgwOTE0MDAw","url":"https://api.github.com/repos/beancount/beancount/labels/BUG","name":"BUG","color":"cc99cc","default":false,"description":"This is a bug, not a feature request; something isn't working."},{"id":2080994777,"node_id":"MDU6TGFiZWwyMDgwOTk0Nzc3","url":"https://api.github.com/repos/beancount/beancount/labels/P1","name":"P1","color":"ff6666","default":false,"description":"High priority, not breaking but hindering or lessening existing functionality"}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":4,"created_at":"2015-05-27T21:44:40Z","updated_at":"2015-05-28T14:37:33Z","closed_at":"2015-05-28T05:49:46Z","author_association":"MEMBER","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"**[Original report](https://bitbucket.org/blais/beancount/issue/50) by Aaron Bull Schaefer (Bitbucket: [elasticdog](https://bitbucket.org/elasticdog), GitHub: [elasticdog](https://github.com/elasticdog)).**\n\n----------------------------------------\n\nI'm seeing the above error when trying to run any of the bean-* applications running the latest from Mercurial...\n\n```\n$ bean-example > example.bean\nINFO    : Generating Salary Employment Income\nINFO    : Generating Expenses from Banking Accounts\nINFO    : Generating Regular Expenses via Credit Card\nINFO    : Generating Credit Card Expenses for Trips\nINFO    : Generating Credit Card Payment Entries\nINFO    : Generating Tax Filings and Payments\nTypeError: balance() missing 1 required positional argument: 'kvlist'\nfish: Job 1, 'bean-example > new-example.bean' terminated by signal SIGABRT (Abort)\n```\n\n```\n$ bean-web ledger.bean \nBottle v0.12.8 server starting up (using WSGIRefServer())...\nListening on http://localhost:8080/\nHit Ctrl-C to quit.\n\nINFO    : Reloading...\nTypeError: balance() missing 1 required positional argument: 'kvlist'\nfish: Job 1, 'bean-web ledger.bean ' terminated by signal SIGABRT (Abort)                                     \n```\n\n```\n$ bean-check --verbose ledger.bean\nTypeError: balance() missing 1 required positional argument: 'kvlist'\nfish: Job 1, 'bean-check --verbose ledger.bean' terminated by signal SIGABRT (Abort)\n```\n\n...here's the revision I'm running:\n\n```\n$ hg summary\nparent: 2592:02e59de6f3c8 tip\n (merge)\nbranch: default\ncommit: (clean)\nupdate: (current)\n\n$ python3 --version\nPython 3.4.3\n```\n\nPlease let me know if you need any further info or have suggestions on how to get better output for you.\n","closed_by":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/beancount/beancount/issues/50/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beancount/issues/50/timeline","performed_via_github_app":null,"state_reason":"completed"},{"url":"https://api.github.com/repos/beancount/beancount/issues/49","repository_url":"https://api.github.com/repos/beancount/beancount","labels_url":"https://api.github.com/repos/beancount/beancount/issues/49/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beancount/issues/49/comments","events_url":"https://api.github.com/repos/beancount/beancount/issues/49/events","html_url":"https://github.com/beancount/beancount/issues/49","id":623369077,"node_id":"MDU6SXNzdWU2MjMzNjkwNzc=","number":49,"title":"Bring back inference of tolerance using cost","user":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":2080994022,"node_id":"MDU6TGFiZWwyMDgwOTk0MDIy","url":"https://api.github.com/repos/beancount/beancount/labels/P2","name":"P2","color":"ffaaaa","default":false,"description":"Low priority, addressing would result in useful improvements"}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":1,"created_at":"2015-05-19T14:35:18Z","updated_at":"2015-05-30T06:46:19Z","closed_at":"2015-05-30T06:46:19Z","author_association":"MEMBER","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"**[Original report](https://bitbucket.org/blais/beancount/issue/49) by Martin Blais (Bitbucket: [blais](https://bitbucket.org/blais), GitHub: [blais](https://github.com/blais)).**\n\n----------------------------------------\n\nOn Tue, May 19, 2015 at 1:41 AM, Matthew Harris <mharris312@gmail.com> wrote:\nOn Monday, May 18, 2015 at 6:22:07 PM UTC-7, Martin Blais wrote:\nThe gist of it is that the error should not be suppressed because of the insertion of the rounding errors. After I fix this bug, the same error should  show up with or without the rounding option.\n\nNoooo! :-( I hoped that this would eliminate the need for me to manually add rounding to each transaction.\n\nThis was a $5000.00 transaction; that's exactly how much money came out of the checking account. And $97.98 is the share price on the account statement; I don't want to fudge that. At that price, I get 51.031 shares. (The number of shares is rounded to the nearest 0.001.) And yes, 51.031 shares at $97.98 each is worth almost $0.02 more than I paid. But if they had given me only 51.030 shares, I'd be $0.08 short.\n\nI had hoped that the transaction tolerance would be max(0.005 USD, 0.0005 shares * 97.98 USD/share) = 0.05 USD, because that's what I seem to have experienced with multiple financial companies over more than a decade. Usually I have to add or subtract a penny or two. On rare occasions it's a bit more. On transactions where a cash amount is used to buy shares of multiple commodities, the errors accumulate, a penny or two per commodity.\n\nI tried this method, I spent the better part of a day implementing it and trying to resolve problems with it and experimenting. In many cases it resulted in too large tolerances or too small ones. I can't remember all the details right now, but I kept all the code around. \n\nI could easily add an experiment flag so you can test it out. I'll do that so you can give it a whirl.\n","closed_by":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/beancount/beancount/issues/49/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beancount/issues/49/timeline","performed_via_github_app":null,"state_reason":"completed"},{"url":"https://api.github.com/repos/beancount/beancount/issues/48","repository_url":"https://api.github.com/repos/beancount/beancount","labels_url":"https://api.github.com/repos/beancount/beancount/issues/48/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beancount/issues/48/comments","events_url":"https://api.github.com/repos/beancount/beancount/issues/48/events","html_url":"https://github.com/beancount/beancount/issues/48","id":623369058,"node_id":"MDU6SXNzdWU2MjMzNjkwNTg=","number":48,"title":"Setting account_rounding affects the outcome of balance assertions","user":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":2080914000,"node_id":"MDU6TGFiZWwyMDgwOTE0MDAw","url":"https://api.github.com/repos/beancount/beancount/labels/BUG","name":"BUG","color":"cc99cc","default":false,"description":"This is a bug, not a feature request; something isn't working."},{"id":2080996667,"node_id":"MDU6TGFiZWwyMDgwOTk2NjY3","url":"https://api.github.com/repos/beancount/beancount/labels/P0","name":"P0","color":"ff0000","default":false,"description":"Critical priority, breaking changes to current version"}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":1,"created_at":"2015-05-19T14:34:28Z","updated_at":"2015-05-20T05:12:59Z","closed_at":"2015-05-20T05:12:59Z","author_association":"MEMBER","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"**[Original report](https://bitbucket.org/blais/beancount/issue/48) by Martin Blais (Bitbucket: [blais](https://bitbucket.org/blais), GitHub: [blais](https://github.com/blais)).**\n\n----------------------------------------\n\nOn Mon, May 18, 2015 at 7:40 PM, Matthew Harris <mharris312@gmail.com> wrote:\nOn Sunday, May 17, 2015 at 1:27:54 PM UTC-7, Martin Blais wrote:\n    * Rounding errors may be automatically posted to a special account (new\n      postings are inserted during parsing where necessary). This is disabled by\n      default; you enable this by setting the new 'account_rounding' option to\n      the account you want the rounding errors to be posted to:\n\n        option \"account_rounding\" \"Equity:Rounding-Errors\"\n\nThis and the new Precision & Tolerances document suggest to me that whether we enable this option should not affect whether transactions balance,\n\nThat is correct.\n\n \nbut that doesn't seem to match with my experience.\n\nThat sounds like a bug to me.\n\n \nI was able to enable this option and remove all my old manual Expenses:RoundingErrors postings, which seemed great. But if I commented out this option, I got lots of \"Transaction does not balance\" errors. Example:\n\nTransaction does not balance: (0.01738 USD)\n  2002-02-08 * \"Mutual fund purchase\"\n    * Assets:Investments:MutualFunds:XXX    51.031 XXX {97.98 USD}\n    Assets:Cash:Checking                        -5000.00 USD              \n\nAm I reading the document wrong?\n\nYou're reading it right (as usual).\n\nUsing your example transaction, I've been able to reproduce the bug right away.\nAnd I will fix this!\nI'm surprised this didn't come up before (and slightly ashamed I didn't detect this one before, I did work on this feature a lot).\nThanks for reporting this right away.\n\nThe gist of it is that the error should not be suppressed because of the insertion of the rounding errors. After I fix this bug, the same error should  show up with or without the rounding option.\n\nPlease note your \"rounding error\" is much larger than a regular rounding error... it's on the order of 2 cents which is well above inferred threshold:\n\nbean-doctor context /home/blais/p/beancount-data/bug-reports/mharris/2015-05-18.precision.beancount 6\nHash:5b6e563ce80781d7f2338f50f878149a\nLocation: /home/blais/p/beancount-data/bug-reports/mharris/2015-05-18.precision.beancount:5\n\n\n2002-02-08 * \"Mutual fund purchase\"\n  * Assets:Investments:MutualFunds:XXX    51.031 XXX {97.98 USD}  ;  5000.02 USD\n  Assets:Cash:Checking                  -5000.00 USD              ; -5000.00 USD\n  Equity:Rounding-Errors                   -0.02 USD              ;    -0.02 USD\n\n\n;;; Precision: USD=0.005, XXX=0.0005\n\n\nSo using the plugin will not allow you to remove your explicit rounding booking... you should instead use a more precise conversion price. If that's inappropriate, then you _actually_ made 2 cents in real life, and that should be accounted for as a gain.\n","closed_by":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/beancount/beancount/issues/48/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beancount/issues/48/timeline","performed_via_github_app":null,"state_reason":"completed"},{"url":"https://api.github.com/repos/beancount/beancount/issues/47","repository_url":"https://api.github.com/repos/beancount/beancount","labels_url":"https://api.github.com/repos/beancount/beancount/issues/47/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beancount/issues/47/comments","events_url":"https://api.github.com/repos/beancount/beancount/issues/47/events","html_url":"https://github.com/beancount/beancount/issues/47","id":623369035,"node_id":"MDU6SXNzdWU2MjMzNjkwMzU=","number":47,"title":"crash with use_legacy_fixed_tolerances True","user":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":2080914000,"node_id":"MDU6TGFiZWwyMDgwOTE0MDAw","url":"https://api.github.com/repos/beancount/beancount/labels/BUG","name":"BUG","color":"cc99cc","default":false,"description":"This is a bug, not a feature request; something isn't working."},{"id":2080994022,"node_id":"MDU6TGFiZWwyMDgwOTk0MDIy","url":"https://api.github.com/repos/beancount/beancount/labels/P2","name":"P2","color":"ffaaaa","default":false,"description":"Low priority, addressing would result in useful improvements"}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":3,"created_at":"2015-05-18T05:58:40Z","updated_at":"2015-05-22T12:40:24Z","closed_at":"2015-05-22T12:40:24Z","author_association":"MEMBER","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"**[Original report](https://bitbucket.org/blais/beancount/issue/47) by clemente (Bitbucket: [clemente](https://bitbucket.org/clemente), GitHub: [clemente](https://github.com/clemente)).**\n\n----------------------------------------\n\nWhen using \n~~~~\noption \"use_legacy_fixed_tolerances\" \"TRUE\"\n~~~~\nI get:\n~~~~\nTraceback (most recent call last):\n  File \"/w/beancount/src/python/beancount/parser/parser.py\", line 806, in transaction\n    balance_errors = balance_incomplete_postings(entry, self.options)\n  File \"/w/beancount/src/python/beancount/core/interpolate.py\", line 364, in balance_incomplete_postings\n    residual, tolerances) = get_incomplete_postings(entry, options_map)\n  File \"/w/beancount/src/python/beancount/core/interpolate.py\", line 314, in get_incomplete_postings\n    quantum = (tolerance * 2).normalize()\nAttributeError: 'str' object has no attribute 'normalize'\n~~~~\n\nIf you need I create a test case.\n","closed_by":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/beancount/beancount/issues/47/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beancount/issues/47/timeline","performed_via_github_app":null,"state_reason":"completed"},{"url":"https://api.github.com/repos/beancount/beancount/issues/46","repository_url":"https://api.github.com/repos/beancount/beancount","labels_url":"https://api.github.com/repos/beancount/beancount/issues/46/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beancount/issues/46/comments","events_url":"https://api.github.com/repos/beancount/beancount/issues/46/events","html_url":"https://github.com/beancount/beancount/issues/46","id":623369014,"node_id":"MDU6SXNzdWU2MjMzNjkwMTQ=","number":46,"title":"bean-web should render numbers using display_context","user":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":2080994022,"node_id":"MDU6TGFiZWwyMDgwOTk0MDIy","url":"https://api.github.com/repos/beancount/beancount/labels/P2","name":"P2","color":"ffaaaa","default":false,"description":"Low priority, addressing would result in useful improvements"},{"id":2080994900,"node_id":"MDU6TGFiZWwyMDgwOTk0OTAw","url":"https://api.github.com/repos/beancount/beancount/labels/web","name":"web","color":"ededed","default":false,"description":"Component: bean-web built-in server"}],"state":"open","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":0,"created_at":"2015-05-16T14:35:49Z","updated_at":"2020-05-23T13:15:46Z","closed_at":null,"author_association":"MEMBER","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"**[Original report](https://bitbucket.org/blais/beancount/issue/46) by Martin Blais (Bitbucket: [blais](https://bitbucket.org/blais), GitHub: [blais](https://github.com/blais)).**\n\n----------------------------------------\n\no 150 EUR or 150.00 EUR is in the ledger. To me two different results\ndepending on what I input. Shouldn't it be consistent? Either 150 EUR or\n150.00 EUR any time? I'd prefer the last.\n \nThese should parse and produce the same number internally.\nThere really should be no difference between them.\n \nDo you have a file that reproduces this problem?\n \nYes:\n    bean-web double_zero_no_decimals\nproduces attached HTML\n\n\nAh yes! I remember now. I have some code which formats all numbers of a particular currency to the same number of digits internally (it tabulates statistics on the input and uses the most common number of digits). The code is in beancount.core.display_context. The thing is, I never converted bean-web to use this. \n\nI have to do this eventually, so that it looks more consistent. (BTW, I haven't put a ton of care into bean-web, I think it probably needs to receive another design iteration at this point.)\n\n\nmandarine:~/u/Downloads$ cat double_zero_no_decimals \n2015-04-01 open Assets:Bank:DE:Comdirekt:Giro\n2015-04-01 open Equity:PrivAdd\n\n2015-04-10 ! \"Einlage B7\"\n  Assets:Bank:DE:Comdirekt:Giro                    15.00 EUR\n  Equity:PrivAdd\n\n2015-04-10 ! \"Einlage B7\"\n  Assets:Bank:DE:Comdirekt:Giro                    15 EUR\n  Equity:PrivAdd\n","closed_by":null,"reactions":{"url":"https://api.github.com/repos/beancount/beancount/issues/46/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beancount/issues/46/timeline","performed_via_github_app":null,"state_reason":null},{"url":"https://api.github.com/repos/beancount/beancount/issues/45","repository_url":"https://api.github.com/repos/beancount/beancount","labels_url":"https://api.github.com/repos/beancount/beancount/issues/45/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beancount/issues/45/comments","events_url":"https://api.github.com/repos/beancount/beancount/issues/45/events","html_url":"https://github.com/beancount/beancount/issues/45","id":623368988,"node_id":"MDU6SXNzdWU2MjMzNjg5ODg=","number":45,"title":"bean-web fails if I use a price for a transaction","user":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":2080914000,"node_id":"MDU6TGFiZWwyMDgwOTE0MDAw","url":"https://api.github.com/repos/beancount/beancount/labels/BUG","name":"BUG","color":"cc99cc","default":false,"description":"This is a bug, not a feature request; something isn't working."},{"id":2080994777,"node_id":"MDU6TGFiZWwyMDgwOTk0Nzc3","url":"https://api.github.com/repos/beancount/beancount/labels/P1","name":"P1","color":"ff6666","default":false,"description":"High priority, not breaking but hindering or lessening existing functionality"},{"id":2080994900,"node_id":"MDU6TGFiZWwyMDgwOTk0OTAw","url":"https://api.github.com/repos/beancount/beancount/labels/web","name":"web","color":"ededed","default":false,"description":"Component: bean-web built-in server"}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":4,"created_at":"2015-05-16T11:04:25Z","updated_at":"2018-03-31T06:33:17Z","closed_at":"2018-03-31T06:33:17Z","author_association":"MEMBER","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"**[Original report](https://bitbucket.org/blais/beancount/issue/45) by Benjamin Weber (Bitbucket: [hyllos](https://bitbucket.org/hyllos), GitHub: [hyllos](https://github.com/hyllos)).**\n\n----------------------------------------\n\nI reproduce it on bca9b9881156 and 4c8e024ad4b3.\n","closed_by":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/beancount/beancount/issues/45/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beancount/issues/45/timeline","performed_via_github_app":null,"state_reason":"completed"},{"url":"https://api.github.com/repos/beancount/beancount/issues/43","repository_url":"https://api.github.com/repos/beancount/beancount","labels_url":"https://api.github.com/repos/beancount/beancount/issues/43/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beancount/issues/43/comments","events_url":"https://api.github.com/repos/beancount/beancount/issues/43/events","html_url":"https://github.com/beancount/beancount/issues/43","id":623368953,"node_id":"MDU6SXNzdWU2MjMzNjg5NTM=","number":43,"title":"Decimal-None in unrealized gains with cost 0","user":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":2080914000,"node_id":"MDU6TGFiZWwyMDgwOTE0MDAw","url":"https://api.github.com/repos/beancount/beancount/labels/BUG","name":"BUG","color":"cc99cc","default":false,"description":"This is a bug, not a feature request; something isn't working."},{"id":2080994022,"node_id":"MDU6TGFiZWwyMDgwOTk0MDIy","url":"https://api.github.com/repos/beancount/beancount/labels/P2","name":"P2","color":"ffaaaa","default":false,"description":"Low priority, addressing would result in useful improvements"}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":1,"created_at":"2015-05-07T16:56:48Z","updated_at":"2015-05-10T17:31:30Z","closed_at":"2015-05-10T17:31:30Z","author_association":"MEMBER","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"**[Original report](https://bitbucket.org/blais/beancount/issue/43) by clemente (Bitbucket: [clemente](https://bitbucket.org/clemente), GitHub: [clemente](https://github.com/clemente)).**\n\n----------------------------------------\n\n~~~~\nplugin \"beancount.plugins.unrealized\"\n\n2001-01-01 open Assets:BAC\n2001-01-01 open Assets:Cash\n2001-01-01 open Income:BAC\n2001-01-01 open Equity:NotYetAccounted\n\n\n2013-05-20 pad Assets:BAC Equity:NotYetAccounted\n2013-05-20 balance Assets:BAC 14 BAC\n\n2013-06-30 ! \"My 14 gifted shares are sold\"\n  Assets:BAC -14 BAC {0 EUR} @@ 7.64 EUR\n  Assets:Cash 7.64 EUR\n  Income:BAC\n~~~~\n\nI get:\n~~~~\nTraceback (most recent call last):\n  File \"/usr/lib/python3/dist-packages/bottle.py\", line 862, in _handle\n    return route.call(**args)\n  File \"/usr/lib/python3/dist-packages/bottle.py\", line 1729, in wrapper\n    rv = callback(*a, **ka)\n  File \"/w/beancount/src/python/beancount/web/web.py\", line 912, in wrapper\n    entries, errors, options_map = loader.load_file(filename)\n  File \"/w/beancount/src/python/beancount/loader.py\", line 57, in load_file\n    return _load([(filename, True)], log_timings, log_errors, extra_validations)\n  File \"/w/beancount/src/python/beancount/loader.py\", line 221, in _load\n    entries, errors = run_transformations(entries, parse_errors, options_map, log_timings)\n  File \"/w/beancount/src/python/beancount/loader.py\", line 292, in run_transformations\n    entries, plugin_errors = callback(entries, options_map)\n  File \"/w/beancount/src/python/beancount/plugins/unrealized.py\", line 105, in add_unrealized_gains\n    pnl = holding.market_value - holding.book_value\nTypeError: unsupported operand type(s) for -: 'decimal.Decimal' and 'NoneType'\n~~~~\n\nThe test case above is simplified (in real life I should have *received* those 0 EUR first), but my original transactions where this happes crash in the same way.\n","closed_by":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/beancount/beancount/issues/43/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beancount/issues/43/timeline","performed_via_github_app":null,"state_reason":"completed"},{"url":"https://api.github.com/repos/beancount/beancount/issues/42","repository_url":"https://api.github.com/repos/beancount/beancount","labels_url":"https://api.github.com/repos/beancount/beancount/issues/42/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beancount/issues/42/comments","events_url":"https://api.github.com/repos/beancount/beancount/issues/42/events","html_url":"https://github.com/beancount/beancount/issues/42","id":623368934,"node_id":"MDU6SXNzdWU2MjMzNjg5MzQ=","number":42,"title":"Zero-cost assets not included in unrealized gains","user":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":2080914000,"node_id":"MDU6TGFiZWwyMDgwOTE0MDAw","url":"https://api.github.com/repos/beancount/beancount/labels/BUG","name":"BUG","color":"cc99cc","default":false,"description":"This is a bug, not a feature request; something isn't working."},{"id":2080994022,"node_id":"MDU6TGFiZWwyMDgwOTk0MDIy","url":"https://api.github.com/repos/beancount/beancount/labels/P2","name":"P2","color":"ffaaaa","default":false,"description":"Low priority, addressing would result in useful improvements"}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":2,"created_at":"2015-04-28T18:17:47Z","updated_at":"2015-05-02T16:32:18Z","closed_at":"2015-05-02T16:31:59Z","author_association":"MEMBER","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"**[Original report](https://bitbucket.org/blais/beancount/issue/42) by clemente (Bitbucket: [clemente](https://bitbucket.org/clemente), GitHub: [clemente](https://github.com/clemente)).**\n\n----------------------------------------\n\nIf I get new units gifted, they aren't included in the unrealized gains.\n\n~~~~\nplugin \"beancount.plugins.unrealized\"\n\n1970-01-01 open Assets:Stocks:NYA\n1970-01-01 open Expenses:Financial:Commissions\n1970-01-01 open Assets:Current\n1970-01-01 open Earnings:Dividends:NYA\n\n2010-01-10 ! \"Buy\"\n  Assets:Stocks:NYA 20 NYA {15 EUR}\n  Expenses:Financial:Commissions 10 EUR\n  Assets:Current -310 EUR\n\n2012-07-02 ! \"I received 1 new share in dividend, without paying\"\n  Assets:Stocks:NYA 1 NYA {0 EUR}\n  Earnings:Dividends:NYA -0 EUR\n\n2014-11-13 balance Assets:Stocks:NYA 21 NYA\n2014-11-13 price NYA 16 EUR ; I should have (* 16 21) = 336 EUR\n~~~~\n\nI saw:\n\n~~~~\nUnrealized gain for 20 units of NYA (price: 16.0000 EUR as of 2014-11-13, average cost: 15.0000 EUR)\n~~~~\n\nInstead of „… for 21 units“. Average cost should alse have gone down from 15.\n","closed_by":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/beancount/beancount/issues/42/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beancount/issues/42/timeline","performed_via_github_app":null,"state_reason":"completed"},{"url":"https://api.github.com/repos/beancount/beancount/issues/41","repository_url":"https://api.github.com/repos/beancount/beancount","labels_url":"https://api.github.com/repos/beancount/beancount/issues/41/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beancount/issues/41/comments","events_url":"https://api.github.com/repos/beancount/beancount/issues/41/events","html_url":"https://github.com/beancount/beancount/issues/41","id":623368911,"node_id":"MDU6SXNzdWU2MjMzNjg5MTE=","number":41,"title":"bean-example fails - unit test succeeds, running the script fails","user":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":2080914000,"node_id":"MDU6TGFiZWwyMDgwOTE0MDAw","url":"https://api.github.com/repos/beancount/beancount/labels/BUG","name":"BUG","color":"cc99cc","default":false,"description":"This is a bug, not a feature request; something isn't working."},{"id":2080995647,"node_id":"MDU6TGFiZWwyMDgwOTk1NjQ3","url":"https://api.github.com/repos/beancount/beancount/labels/parser-loader","name":"parser-loader","color":"ededed","default":false,"description":"Component: Parser and loader"},{"id":2080996667,"node_id":"MDU6TGFiZWwyMDgwOTk2NjY3","url":"https://api.github.com/repos/beancount/beancount/labels/P0","name":"P0","color":"ff0000","default":false,"description":"Critical priority, breaking changes to current version"}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":2,"created_at":"2015-04-23T14:47:45Z","updated_at":"2016-03-14T05:43:36Z","closed_at":"2016-03-14T05:43:36Z","author_association":"MEMBER","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"**[Original report](https://bitbucket.org/blais/beancount/issue/41) by Martin Blais (Bitbucket: [blais](https://bitbucket.org/blais), GitHub: [blais](https://github.com/blais)).**\n\n----------------------------------------\n\nnosetests3 /home/blais/p/beancount/src/python/beancount/scripts/example_test.py\nflex scanner push-back overflow\n\n\n\nWhile running bean-example I get this error:\n\n```\nINFO    : Writing contents\nTraceback (most recent call last):\n  File \"/usr/bin/bean-example\", line 2, in <module>\n    from beancount.scripts.example import main; main()\n  File \"/usr/lib/python3.4/site-packages/beancount/scripts/example.py\", line 1743, in main\n    file=output_file)\n  File \"/usr/lib/python3.4/site-packages/beancount/scripts/example.py\", line 1693, in write_example_file\n    file.write(contents)\nUnicodeEncodeError: 'ascii' codec can't encode character '\\xae' in position 1192: ordinal not in range(128)\n```\n\n-- \nEvan Farrell\nFull Stack Engineer\nProfessional Taster\nAnalytical Flavor Systems, LLC. \n","closed_by":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/beancount/beancount/issues/41/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beancount/issues/41/timeline","performed_via_github_app":null,"state_reason":"completed"},{"url":"https://api.github.com/repos/beancount/beancount/issues/39","repository_url":"https://api.github.com/repos/beancount/beancount","labels_url":"https://api.github.com/repos/beancount/beancount/issues/39/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beancount/issues/39/comments","events_url":"https://api.github.com/repos/beancount/beancount/issues/39/events","html_url":"https://github.com/beancount/beancount/issues/39","id":623368861,"node_id":"MDU6SXNzdWU2MjMzNjg4NjE=","number":39,"title":"complex numbers in annualize_returns","user":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":2080914000,"node_id":"MDU6TGFiZWwyMDgwOTE0MDAw","url":"https://api.github.com/repos/beancount/beancount/labels/BUG","name":"BUG","color":"cc99cc","default":false,"description":"This is a bug, not a feature request; something isn't working."},{"id":2080994022,"node_id":"MDU6TGFiZWwyMDgwOTk0MDIy","url":"https://api.github.com/repos/beancount/beancount/labels/P2","name":"P2","color":"ffaaaa","default":false,"description":"Low priority, addressing would result in useful improvements"},{"id":2080994828,"node_id":"MDU6TGFiZWwyMDgwOTk0ODI4","url":"https://api.github.com/repos/beancount/beancount/labels/scripts","name":"scripts","color":"ededed","default":false,"description":"Component: Other scripts"}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":1,"created_at":"2015-03-21T12:37:34Z","updated_at":"2021-01-28T03:39:21Z","closed_at":"2021-01-28T03:39:21Z","author_association":"MEMBER","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"**[Original report](https://bitbucket.org/blais/beancount/issue/39) by clemente (Bitbucket: [clemente](https://bitbucket.org/clemente), GitHub: [clemente](https://github.com/clemente)).**\n\n----------------------------------------\n\nThere's this part in function annualize_returns (returns.py) where you do:\n~~~~\n    return {currency: return_ ** exponent\n            for currency, return_ in returns.items()}\n~~~~\n\nIn one case I found it trying to do this operation, with this result:\n~~~~\nipdb> (-0.6399327827097466)**0.16666666666666666\n(0.8039326954619311+0.4641507581352873j)\n~~~~\n\nbeancount \"still\" doesn't support imaginary values (quantum accounting? That sounds like a new hype), so that shocked me as strange. It happens in some particular dates+amounts combinations and I couldn't create a test case easily, but I can create one if you feel there can be other errors. You could also add asserts that help debug this before it happens.\n\nMaybe it's possible to keep the sign outside the exponent:\n~~~~\nipdb> (-0.6399327827097466)/abs(-0.6399327827097466) * abs(-0.6399327827097466)**0.16666666666666666\n-0.9283015162705747\n~~~~\n","closed_by":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/beancount/beancount/issues/39/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beancount/issues/39/timeline","performed_via_github_app":null,"state_reason":"completed"},{"url":"https://api.github.com/repos/beancount/beancount/issues/38","repository_url":"https://api.github.com/repos/beancount/beancount","labels_url":"https://api.github.com/repos/beancount/beancount/issues/38/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beancount/issues/38/comments","events_url":"https://api.github.com/repos/beancount/beancount/issues/38/events","html_url":"https://github.com/beancount/beancount/issues/38","id":623368846,"node_id":"MDU6SXNzdWU2MjMzNjg4NDY=","number":38,"title":"Implement --open/--close dates for balsheet/income reports","user":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":2080994777,"node_id":"MDU6TGFiZWwyMDgwOTk0Nzc3","url":"https://api.github.com/repos/beancount/beancount/labels/P1","name":"P1","color":"ff6666","default":false,"description":"High priority, not breaking but hindering or lessening existing functionality"},{"id":2080996004,"node_id":"MDU6TGFiZWwyMDgwOTk2MDA0","url":"https://api.github.com/repos/beancount/beancount/labels/reports","name":"reports","color":"ededed","default":false,"description":"Component: Canned reports"}],"state":"open","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":0,"created_at":"2015-03-16T04:48:20Z","updated_at":"2020-05-23T13:15:46Z","closed_at":null,"author_association":"MEMBER","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"**[Original report](https://bitbucket.org/blais/beancount/issue/38) by Martin Blais (Bitbucket: [blais](https://bitbucket.org/blais), GitHub: [blais](https://github.com/blais)).**\n\n----------------------------------------\n\nI want to have a plugin that generates forecasted transactions, but rather than forecasting for an arbitrary date range or specific number or transaction I want to only generate transactions within the scope of the query.  For example, if I'm looking at the registers or balances for 2014, from your example, then forecasted transactions should be generated up to 2015-01-01.  If I'm just looking at current balances (no date is specified) then no forecasted transactions need to be generated.  Similarly, no generated transactions would be needed when viewing 2013 data, but a whole years worth would be necessary for viewing 2015 projections.\n\n- Harpreet \"Eli\" Sangha\n\n\nthread: \"Specify Date Range\"\n","closed_by":null,"reactions":{"url":"https://api.github.com/repos/beancount/beancount/issues/38/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beancount/issues/38/timeline","performed_via_github_app":null,"state_reason":null},{"url":"https://api.github.com/repos/beancount/beancount/issues/37","repository_url":"https://api.github.com/repos/beancount/beancount","labels_url":"https://api.github.com/repos/beancount/beancount/issues/37/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beancount/issues/37/comments","events_url":"https://api.github.com/repos/beancount/beancount/issues/37/events","html_url":"https://github.com/beancount/beancount/issues/37","id":623368830,"node_id":"MDU6SXNzdWU2MjMzNjg4MzA=","number":37,"title":"Total balance check is easy to implement and is desired","user":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":2080994022,"node_id":"MDU6TGFiZWwyMDgwOTk0MDIy","url":"https://api.github.com/repos/beancount/beancount/labels/P2","name":"P2","color":"ffaaaa","default":false,"description":"Low priority, addressing would result in useful improvements"},{"id":2080995647,"node_id":"MDU6TGFiZWwyMDgwOTk1NjQ3","url":"https://api.github.com/repos/beancount/beancount/labels/parser-loader","name":"parser-loader","color":"ededed","default":false,"description":"Component: Parser and loader"}],"state":"open","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":1,"created_at":"2015-03-16T04:46:50Z","updated_at":"2020-05-23T13:15:46Z","closed_at":null,"author_association":"MEMBER","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"**[Original report](https://bitbucket.org/blais/beancount/issue/37) by Martin Blais (Bitbucket: [blais](https://bitbucket.org/blais), GitHub: [blais](https://github.com/blais)).**\n\n----------------------------------------\n\nNo, this achieves expressing multiple currencies in a single balance statement, but does not achieve verification that only these currencies are present.\n\n- Harpreet \"Eli\" Sangha\n\n\nOn Tue, Jan 6, 2015 at 7:58 PM, Martin Blais <blais@furius.ca> wrote:\nDoes this also verify that there aren't any other gremlins lying in that account?\nI think that was the desire for the \"complete\" balance check.\n\nOn Tue, Jan 6, 2015 at 10:13 PM, ELI <eliptus@gmail.com> wrote:\nI did this:\n\n2015/01/01 Balance\n  Assets::Stock   0 = 3 AAPL\n  Assets::Stock   0 = 5 GOOGL\n  Assets::Stock   0 = 3 MSFT\n  Assets::Cash    0 = 50.00 USD\n  Assets::Cash    0 = 25.00 CHF\n  Assets::Cash    0 = 15.00 EUR\n\n\n\n- Harpreet \"Eli\" Sangha\n\nOn Tue, Jan 6, 2015 at 3:13 PM, John West <jwest23@gmail.com> wrote:\nI go about it like this:\n\n2015/01/01 Balance\n  Assets::Stock   = 3 AAPL\n2015/01/01 Balance\n  Assets::Stock   = 5 GOOGL\n2015/01/01 Balance\n  Assets::Stock   = 3 MSFT\n\nAnd so on for Assets::Cash.\n\nIt works for me, without complaints from Ledger.  I might be running my reports with different options, though.\n\n\nOn Tue, Jan 6, 2015 at 6:00 PM, Pascal Fleury <fleury@users.sourceforge.net> wrote:\nHello,\n\nI love the multiple currency/commodity that one can have in the accounts. It let's me manage e.g. cash in USD, CHF and EUR, or my stock portfolio with different stock tickers.\n\nWhen reconciling, though, I face an issues when I want to write a balance assertion. Either I'd like to only assert the amount for one currency/commodity, or all of them.\n\nI did not find a way to express multiple currencies in a balance statement, and specifying only a single one will let ledger complain that there is more in that account (which is correct). Ideally, something like \n\n2015/01/01 Balance\n    Assets::Stock   = (3 AAPL + 5 GOOGL + 3 MSFT)\n    Assets::Cash    = (50.00 USD + 25.00 CHF + 15.00 EUR)\n\nAlas, this is no valid syntax. Is there a way to assert such balance amounts ?\n\nthanks,\n--paf\n","closed_by":null,"reactions":{"url":"https://api.github.com/repos/beancount/beancount/issues/37/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beancount/issues/37/timeline","performed_via_github_app":null,"state_reason":null},{"url":"https://api.github.com/repos/beancount/beancount/issues/36","repository_url":"https://api.github.com/repos/beancount/beancount","labels_url":"https://api.github.com/repos/beancount/beancount/issues/36/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beancount/issues/36/comments","events_url":"https://api.github.com/repos/beancount/beancount/issues/36/events","html_url":"https://github.com/beancount/beancount/issues/36","id":623368814,"node_id":"MDU6SXNzdWU2MjMzNjg4MTQ=","number":36,"title":"Balances output sometimes outputs -0.00","user":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":2080914000,"node_id":"MDU6TGFiZWwyMDgwOTE0MDAw","url":"https://api.github.com/repos/beancount/beancount/labels/BUG","name":"BUG","color":"cc99cc","default":false,"description":"This is a bug, not a feature request; something isn't working."},{"id":2080994022,"node_id":"MDU6TGFiZWwyMDgwOTk0MDIy","url":"https://api.github.com/repos/beancount/beancount/labels/P2","name":"P2","color":"ffaaaa","default":false,"description":"Low priority, addressing would result in useful improvements"},{"id":2080994900,"node_id":"MDU6TGFiZWwyMDgwOTk0OTAw","url":"https://api.github.com/repos/beancount/beancount/labels/web","name":"web","color":"ededed","default":false,"description":"Component: bean-web built-in server"}],"state":"open","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":0,"created_at":"2015-03-16T04:43:19Z","updated_at":"2015-05-30T05:36:13Z","closed_at":null,"author_association":"MEMBER","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"**[Original report](https://bitbucket.org/blais/beancount/issue/36) by Martin Blais (Bitbucket: [blais](https://bitbucket.org/blais), GitHub: [blais](https://github.com/blais)).**\n\n----------------------------------------\n\nNo, I've actually been doing all of my debugging with bean-check and bean-web so far. I haven't really gotten into the query language yet. I figure I'll do that when my balance sheet on bean-web more closely matches reality.\n\nI didn't expect it to be a bug, but I'll take your word. :-) In bean-web, I was used to seeing blank spaces when accounts are closed and empty, but here I was seeing 0.00 and -0.00.\n\n\nOn Thu Jan 22 2015 at 7:35:55 PM Martin Blais <blais@furius.ca> wrote:\nThat's right, it's a bug with precision indeed.\n\nI presume you were generating your balances report like this:\n\n\nbean-report /home/blais/u/Downloads/test.beancount balances      \nEquity:SourceOrSink            0.00 USD  \nExpenses\nIncome\nLiabilities                     \n\n\n\nYou may also do this, which makes it more obvious what's going on:\n\nbean-query /home/blais/u/Downloads/test.beancount \"balances\"\n       account                          sum_position\n---------------------- ----------------------------------------------\nAssets:Investments:IRA  50.661                      ABCDE {19.81 USD}\n                         0.176                      ABCDE {20.04 USD}\n                         0.194                      ABCDE {18.27 USD}\n                        -0.583                      ABCDE {17.16 USD}\n                         1.055                      ABCDE {17.75 USD}\n                         0.172                      ABCDE {17.92 USD}\n                        52.632                      ABCDE {19.00 USD}\n                       -33.495                      ABCDE {17.43 USD}\n                         0.209                      ABCDE {16.90 USD}\n                         0.250                      ABCDE {14.15 USD}\n                        -0.693                      ABCDE {14.44 USD}\n                         0.248                      ABCDE {14.34 USD}\n                         0.269                      ABCDE {13.13 USD}\n                         0.224                      ABCDE {15.88 USD}\n                         0.223                      ABCDE {16.00 USD}\n                        -0.158                      ABCDE {16.78 USD}\n                         0.192                      ABCDE {18.54 USD}\n                         0.196                      ABCDE {18.17 USD}\n                         0.197                      ABCDE {18.18 USD}\n                        -0.524                      ABCDE {19.10 USD}\n                         0.299                      ABCDE {18.99 USD}\n                         0.260                      ABCDE {19.28 USD}\n                         0.253                      ABCDE {19.90 USD}\n                        -0.292                      ABCDE {20.31 USD}\n                         1.731                      ABCDE {19.79 USD}\n                         0.201                      ABCDE {20.12 USD}\n                         0.203                      ABCDE {19.97 USD}\n                       -74.100                      ABCDE {20.24 USD}\nEquity:SourceOrSink      2.00000000000E-13          USD\n\n\nSo it's a bug. I'll fix it.\n\n\n\n\n\nOn Thu, Jan 22, 2015 at 1:42 AM, Matthew S. Harris <mharris312@gmail.com> wrote:\nAttached is an example file that demonstrates what I meant by accounts showing balances of -0.00 in bean-web.\n","closed_by":null,"reactions":{"url":"https://api.github.com/repos/beancount/beancount/issues/36/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beancount/issues/36/timeline","performed_via_github_app":null,"state_reason":null},{"url":"https://api.github.com/repos/beancount/beancount/issues/35","repository_url":"https://api.github.com/repos/beancount/beancount","labels_url":"https://api.github.com/repos/beancount/beancount/issues/35/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beancount/issues/35/comments","events_url":"https://api.github.com/repos/beancount/beancount/issues/35/events","html_url":"https://github.com/beancount/beancount/issues/35","id":623368790,"node_id":"MDU6SXNzdWU2MjMzNjg3OTA=","number":35,"title":"SELECT account, sum(position) WHERE account ~ ‘Income’;","user":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":2080914000,"node_id":"MDU6TGFiZWwyMDgwOTE0MDAw","url":"https://api.github.com/repos/beancount/beancount/labels/BUG","name":"BUG","color":"cc99cc","default":false,"description":"This is a bug, not a feature request; something isn't working."},{"id":2080994252,"node_id":"MDU6TGFiZWwyMDgwOTk0MjUy","url":"https://api.github.com/repos/beancount/beancount/labels/query-sql","name":"query-sql","color":"ededed","default":false,"description":"Component: SQL query engine"},{"id":2080994777,"node_id":"MDU6TGFiZWwyMDgwOTk0Nzc3","url":"https://api.github.com/repos/beancount/beancount/labels/P1","name":"P1","color":"ff6666","default":false,"description":"High priority, not breaking but hindering or lessening existing functionality"}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":1,"created_at":"2015-03-16T04:41:32Z","updated_at":"2018-03-14T00:07:37Z","closed_at":"2018-03-14T00:07:37Z","author_association":"MEMBER","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"**[Original report](https://bitbucket.org/blais/beancount/issue/35) by Martin Blais (Bitbucket: [blais](https://bitbucket.org/blais), GitHub: [blais](https://github.com/blais)).**\n\n----------------------------------------\n\nSELECT account, sum(position) WHERE account ~ ‘Income’;\nERROR: Aggregate query without a GROUP-BY should have only aggregates.\n\n\nThis generates the error above. Should not.\n","closed_by":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/beancount/beancount/issues/35/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beancount/issues/35/timeline","performed_via_github_app":null,"state_reason":"completed"},{"url":"https://api.github.com/repos/beancount/beancount/issues/34","repository_url":"https://api.github.com/repos/beancount/beancount","labels_url":"https://api.github.com/repos/beancount/beancount/issues/34/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beancount/issues/34/comments","events_url":"https://api.github.com/repos/beancount/beancount/issues/34/events","html_url":"https://github.com/beancount/beancount/issues/34","id":623368775,"node_id":"MDU6SXNzdWU2MjMzNjg3NzU=","number":34,"title":"Watch included files for re-read too","user":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":2080914000,"node_id":"MDU6TGFiZWwyMDgwOTE0MDAw","url":"https://api.github.com/repos/beancount/beancount/labels/BUG","name":"BUG","color":"cc99cc","default":false,"description":"This is a bug, not a feature request; something isn't working."},{"id":2080994022,"node_id":"MDU6TGFiZWwyMDgwOTk0MDIy","url":"https://api.github.com/repos/beancount/beancount/labels/P2","name":"P2","color":"ffaaaa","default":false,"description":"Low priority, addressing would result in useful improvements"},{"id":2080994900,"node_id":"MDU6TGFiZWwyMDgwOTk0OTAw","url":"https://api.github.com/repos/beancount/beancount/labels/web","name":"web","color":"ededed","default":false,"description":"Component: bean-web built-in server"}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":2,"created_at":"2015-03-16T04:39:44Z","updated_at":"2018-01-24T02:50:08Z","closed_at":"2018-01-24T02:50:08Z","author_association":"MEMBER","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"**[Original report](https://bitbucket.org/blais/beancount/issue/34) by Martin Blais (Bitbucket: [blais](https://bitbucket.org/blais), GitHub: [blais](https://github.com/blais)).**\n\n----------------------------------------\n\nOne question: previously, if I wrote to the beancount file that a bean-web process was already using, and if I hit refresh, bean-web noticed the update to the file and re-read. This still works now, but only on the including file, not on the included files. Is this a pain to fix, or relatively easy?\n\nOops, hadn't thought about that one.\n\nI guess I'll need to add this bit then:\nhttps://bitbucket.org/blais/beancount/src/4c630c581565f97b28691a67dde52728a24541fb/src/python/beancount/loader.py?at=default#cl-179\n\nAnd modify the web app so that it detects it for a set of files here:\nhttps://bitbucket.org/blais/beancount/src/4c630c581565f97b28691a67dde52728a24541fb/src/python/beancount/web/web.py?at=default#cl-896\n\n\n\n(from redstreet0, thread \"Beancount Updates 2015-02-01\")\n","closed_by":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/beancount/beancount/issues/34/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beancount/issues/34/timeline","performed_via_github_app":null,"state_reason":"completed"},{"url":"https://api.github.com/repos/beancount/beancount/issues/32","repository_url":"https://api.github.com/repos/beancount/beancount","labels_url":"https://api.github.com/repos/beancount/beancount/issues/32/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beancount/issues/32/comments","events_url":"https://api.github.com/repos/beancount/beancount/issues/32/events","html_url":"https://github.com/beancount/beancount/issues/32","id":623368737,"node_id":"MDU6SXNzdWU2MjMzNjg3Mzc=","number":32,"title":"Bug in treeify column identification","user":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":2080914000,"node_id":"MDU6TGFiZWwyMDgwOTE0MDAw","url":"https://api.github.com/repos/beancount/beancount/labels/BUG","name":"BUG","color":"cc99cc","default":false,"description":"This is a bug, not a feature request; something isn't working."},{"id":2080994022,"node_id":"MDU6TGFiZWwyMDgwOTk0MDIy","url":"https://api.github.com/repos/beancount/beancount/labels/P2","name":"P2","color":"ffaaaa","default":false,"description":"Low priority, addressing would result in useful improvements"}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":2,"created_at":"2015-03-10T17:00:27Z","updated_at":"2015-03-13T05:06:30Z","closed_at":"2015-03-13T05:06:30Z","author_association":"MEMBER","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"**[Original report](https://bitbucket.org/blais/beancount/issue/32) by Martin Blais (Bitbucket: [blais](https://bitbucket.org/blais), GitHub: [blais](https://github.com/blais)).**\n\n----------------------------------------\n\nI encounter this:\n\nbean-report ex.bc bal | treeify\nWARNING: Could not find any valid column in input\nAssets:Bank:DE:Bankname:Tagesgeld         3.57 EUR\nEquity:Opening-Balances                  -3.57 EUR\nExpenses\nIncome\nLiabilities\n\nIs this intended?\n","closed_by":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/beancount/beancount/issues/32/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beancount/issues/32/timeline","performed_via_github_app":null,"state_reason":"completed"},{"url":"https://api.github.com/repos/beancount/beancount/issues/31","repository_url":"https://api.github.com/repos/beancount/beancount","labels_url":"https://api.github.com/repos/beancount/beancount/issues/31/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beancount/issues/31/comments","events_url":"https://api.github.com/repos/beancount/beancount/issues/31/events","html_url":"https://github.com/beancount/beancount/issues/31","id":623368717,"node_id":"MDU6SXNzdWU2MjMzNjg3MTc=","number":31,"title":"NameError: name 'prices' is not defined","user":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":2080914000,"node_id":"MDU6TGFiZWwyMDgwOTE0MDAw","url":"https://api.github.com/repos/beancount/beancount/labels/BUG","name":"BUG","color":"cc99cc","default":false,"description":"This is a bug, not a feature request; something isn't working."},{"id":2080994061,"node_id":"MDU6TGFiZWwyMDgwOTk0MDYx","url":"https://api.github.com/repos/beancount/beancount/labels/P3","name":"P3","color":"FFdddd","default":false,"description":"Very low priority, nice to have"},{"id":2080994252,"node_id":"MDU6TGFiZWwyMDgwOTk0MjUy","url":"https://api.github.com/repos/beancount/beancount/labels/query-sql","name":"query-sql","color":"ededed","default":false,"description":"Component: SQL query engine"}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":3,"created_at":"2015-03-09T10:38:53Z","updated_at":"2018-03-19T09:44:43Z","closed_at":"2018-03-19T09:44:43Z","author_association":"MEMBER","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"**[Original report](https://bitbucket.org/blais/beancount/issue/31) by clemente (Bitbucket: [clemente](https://bitbucket.org/clemente), GitHub: [clemente](https://github.com/clemente)).**\n\n----------------------------------------\n\n~~~~\nbeancount> select price,convert(price,'EUR')\nTraceback (most recent call last):\n  File \"/usr/lib/python3.4/cmd.py\", line 214, in onecmd\n    func = getattr(self, 'do_' + cmd)\nAttributeError: 'BQLShell' object has no attribute 'do_select'\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File \"/w/beancount/src/python/beancount/query/shell.py\", line 225, in default\n    self.dispatch(statement)\n  File \"/w/beancount/src/python/beancount/query/shell.py\", line 215, in dispatch\n    return method(statement)\n  File \"/w/beancount/src/python/beancount/query/shell.py\", line 358, in on_Select\n    self.options_map)\n  File \"/w/beancount/src/python/beancount/query/query_execute.py\", line 220, in execute_query\n    values = [c_expr(context) for c_expr in c_target_exprs]\n  File \"/w/beancount/src/python/beancount/query/query_execute.py\", line 220, in <listcomp>\n    values = [c_expr(context) for c_expr in c_target_exprs]\n  File \"/w/beancount/src/python/beancount/query/query_env.py\", line 229, in __call__\n    return prices.convert_amount(context.price_map, args[1], args[0])\nNameError: name 'prices' is not defined\n~~~~\n","closed_by":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/beancount/beancount/issues/31/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beancount/issues/31/timeline","performed_via_github_app":null,"state_reason":"completed"},{"url":"https://api.github.com/repos/beancount/beancount/issues/30","repository_url":"https://api.github.com/repos/beancount/beancount","labels_url":"https://api.github.com/repos/beancount/beancount/issues/30/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beancount/issues/30/comments","events_url":"https://api.github.com/repos/beancount/beancount/issues/30/events","html_url":"https://github.com/beancount/beancount/issues/30","id":623368698,"node_id":"MDU6SXNzdWU2MjMzNjg2OTg=","number":30,"title":"'Transaction' object has no attribute 'source' ← when requesting BQL field \"filename\"","user":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":2080914000,"node_id":"MDU6TGFiZWwyMDgwOTE0MDAw","url":"https://api.github.com/repos/beancount/beancount/labels/BUG","name":"BUG","color":"cc99cc","default":false,"description":"This is a bug, not a feature request; something isn't working."},{"id":2080994022,"node_id":"MDU6TGFiZWwyMDgwOTk0MDIy","url":"https://api.github.com/repos/beancount/beancount/labels/P2","name":"P2","color":"ffaaaa","default":false,"description":"Low priority, addressing would result in useful improvements"}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":1,"created_at":"2015-03-07T07:30:18Z","updated_at":"2015-03-07T16:22:42Z","closed_at":"2015-03-07T16:22:42Z","author_association":"MEMBER","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"**[Original report](https://bitbucket.org/blais/beancount/issue/30) by clemente (Bitbucket: [clemente](https://bitbucket.org/clemente), GitHub: [clemente](https://github.com/clemente)).**\n\n----------------------------------------\n\n~~~~\n: dc; /w/beancount ; /w/beancount ; PYTHONPATH=/w/beancount/src/python /w/beancount/bin/bean-query ~/my.beancount \nInput file: \"Beancount\"\nReady with 3 directives (2 postings in 1 transactions).\nbeancount> select account,filename;\nTraceback (most recent call last):\n  File \"/usr/lib/python3.4/cmd.py\", line 214, in onecmd\n    func = getattr(self, 'do_' + cmd)\nAttributeError: 'BQLShell' object has no attribute 'do_select'\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File \"/w/beancount/src/python/beancount/query/shell.py\", line 225, in default\n    self.dispatch(statement)\n  File \"/w/beancount/src/python/beancount/query/shell.py\", line 215, in dispatch\n    return method(statement)\n  File \"/w/beancount/src/python/beancount/query/shell.py\", line 358, in on_Select\n    self.options_map)\n  File \"/w/beancount/src/python/beancount/query/query_execute.py\", line 215, in execute_query\n    values = [c_expr(context) for c_expr in c_target_exprs]\n  File \"/w/beancount/src/python/beancount/query/query_execute.py\", line 215, in <listcomp>\n    values = [c_expr(context) for c_expr in c_target_exprs]\n  File \"/w/beancount/src/python/beancount/query/query_env.py\", line 655, in __call__\n    return context.posting.entry.source.filename\nAttributeError: 'Transaction' object has no attribute 'source'\nbeancount> exit\n~~~~\n\nThe file is just:\n\n~~~~\n1970-01-01 open Expenses:Something\n1970-01-01 open Assets:Account\n\n1999-02-13 * \"test\"\n  Expenses:Something\t\t52200 PTA\n  Assets:Account -52200 PTA\n~~~~\n","closed_by":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/beancount/beancount/issues/30/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beancount/issues/30/timeline","performed_via_github_app":null,"state_reason":"completed"},{"url":"https://api.github.com/repos/beancount/beancount/issues/29","repository_url":"https://api.github.com/repos/beancount/beancount","labels_url":"https://api.github.com/repos/beancount/beancount/issues/29/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beancount/issues/29/comments","events_url":"https://api.github.com/repos/beancount/beancount/issues/29/events","html_url":"https://github.com/beancount/beancount/issues/29","id":623368679,"node_id":"MDU6SXNzdWU2MjMzNjg2Nzk=","number":29,"title":"KeyError: 'USD' running returns.py due to date calculation","user":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":2080914000,"node_id":"MDU6TGFiZWwyMDgwOTE0MDAw","url":"https://api.github.com/repos/beancount/beancount/labels/BUG","name":"BUG","color":"cc99cc","default":false,"description":"This is a bug, not a feature request; something isn't working."},{"id":2080994022,"node_id":"MDU6TGFiZWwyMDgwOTk0MDIy","url":"https://api.github.com/repos/beancount/beancount/labels/P2","name":"P2","color":"ffaaaa","default":false,"description":"Low priority, addressing would result in useful improvements"},{"id":2080994828,"node_id":"MDU6TGFiZWwyMDgwOTk0ODI4","url":"https://api.github.com/repos/beancount/beancount/labels/scripts","name":"scripts","color":"ededed","default":false,"description":"Component: Other scripts"}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":3,"created_at":"2015-03-06T20:32:28Z","updated_at":"2021-01-28T03:38:35Z","closed_at":"2021-01-28T03:38:35Z","author_association":"MEMBER","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"**[Original report](https://bitbucket.org/blais/beancount/issue/29) by Aaron Bull Schaefer (Bitbucket: [elasticdog](https://bitbucket.org/elasticdog), GitHub: [elasticdog](https://github.com/elasticdog)).**\n\n----------------------------------------\n\nDue to the dates listed for some of my accounts, the *returns.py* script tried to generate returns for periods where there were no transactions. This caused the error when trying to print:\n\n```\nReturns for Aaron's Fidelity 401k account\n  Period            Begin      -> End       :        Total   Annualized\nTraceback (most recent call last):\n  File \"./returns.py\", line 90, in <module>\n    main()\n  File \"./returns.py\", line 86, in main\n    total_returns['USD'] - 1, annual_returns['USD'] - 1))\nKeyError: 'USD'\n```\n\n...I'm not very familiar with Python dev, but to work around that locally I just added a test for the key before printing:\n\n```python\nif 'USD' in total_returns:\n    print(FORMAT.format(period_name, str(date_begin), str(date_end),\n                        total_returns['USD'] - 1, annual_returns['USD'] - 1))\n```\n\nI'm sure there's probably a cleaner solution, but I wanted to make you aware that I hit this issue.\n","closed_by":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/beancount/beancount/issues/29/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beancount/issues/29/timeline","performed_via_github_app":null,"state_reason":"completed"},{"url":"https://api.github.com/repos/beancount/beancount/issues/28","repository_url":"https://api.github.com/repos/beancount/beancount","labels_url":"https://api.github.com/repos/beancount/beancount/issues/28/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beancount/issues/28/comments","events_url":"https://api.github.com/repos/beancount/beancount/issues/28/events","html_url":"https://github.com/beancount/beancount/issues/28","id":623368655,"node_id":"MDU6SXNzdWU2MjMzNjg2NTU=","number":28,"title":"Exporting with total cost somehow leads to a negative value for total.","user":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":2080914000,"node_id":"MDU6TGFiZWwyMDgwOTE0MDAw","url":"https://api.github.com/repos/beancount/beancount/labels/BUG","name":"BUG","color":"cc99cc","default":false,"description":"This is a bug, not a feature request; something isn't working."},{"id":2080994022,"node_id":"MDU6TGFiZWwyMDgwOTk0MDIy","url":"https://api.github.com/repos/beancount/beancount/labels/P2","name":"P2","color":"ffaaaa","default":false,"description":"Low priority, addressing would result in useful improvements"},{"id":2080996004,"node_id":"MDU6TGFiZWwyMDgwOTk2MDA0","url":"https://api.github.com/repos/beancount/beancount/labels/reports","name":"reports","color":"ededed","default":false,"description":"Component: Canned reports"}],"state":"open","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":0,"created_at":"2015-02-24T19:15:10Z","updated_at":"2015-05-30T05:37:29Z","closed_at":null,"author_association":"MEMBER","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"**[Original report](https://bitbucket.org/blais/beancount/issue/28) by Martin Blais (Bitbucket: [blais](https://bitbucket.org/blais), GitHub: [blais](https://github.com/blais)).**\n\n----------------------------------------\n\nThat's caused by a bug. Invoking exportpf with --debug will show the corrrect holding and cost. I also see in the export that the total cost is a negative value. I'll log a ticket.\n\n\n\n\n\n\n\nMatthew Harris\nBuy\nIs it correct that even negative transactions (sales, fees, rebalances) show as \"Buy\" and the date is last Friday for all transactions?\nMartin Blais\nMartin Blais\nThere should be no negative holdings. I haven't dealt with short positions yet if that's what you're referring to. If you don't have any shorts, all units should be positive. \n\nFees are just cash, shouldn't appear anywhere. \n\nI don't know what you mean precisely with \"rebalances\" you'll have to give me a bit more color.\n\nAll transactions should appear\nThe date will be the previous date for all transactions (see the comment about this under Purchase Dates near the end of this doc).\nMatthew Harris\nMatthew Harris\nI'm not talking about shorts. Fees are not just cash; for most of my accounts, fees are subtracted by taking proportionate shares of each fund. By \"rebalances\", I mean transactions that sell one fund and buy another.\n\nHere's an example Beancount file that produces a negative price in GF:\n\n2000-01-01 open Assets:VDMPX\n2000-01-01 open Assets:VDIPX\n2000-01-01 open Equity:OpeningBalances\n\n2014-01-01 *\nAssets:VDMPX 168.23656 VDMPX {{1000.00 USD}}\nEquity:OpeningBalances\n2014-04-04 * \"Fund Change\"\n* Assets:VDMPX -168.23656 VDMPX {{1000.00 USD}} @ 118.81 USD\n* Assets:VDIPX 960.50889 VDIPX {{1000.00 USD}} @ 20.81 USD\n\nIt appears as 960.50889 VDIPX at -1.330761314871992562203217858.\n","closed_by":null,"reactions":{"url":"https://api.github.com/repos/beancount/beancount/issues/28/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beancount/issues/28/timeline","performed_via_github_app":null,"state_reason":null},{"url":"https://api.github.com/repos/beancount/beancount/issues/27","repository_url":"https://api.github.com/repos/beancount/beancount","labels_url":"https://api.github.com/repos/beancount/beancount/issues/27/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beancount/issues/27/comments","events_url":"https://api.github.com/repos/beancount/beancount/issues/27/events","html_url":"https://github.com/beancount/beancount/issues/27","id":623368634,"node_id":"MDU6SXNzdWU2MjMzNjg2MzQ=","number":27,"title":"SQL precedence for membership (IN) operator appears incorrect","user":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":2080914000,"node_id":"MDU6TGFiZWwyMDgwOTE0MDAw","url":"https://api.github.com/repos/beancount/beancount/labels/BUG","name":"BUG","color":"cc99cc","default":false,"description":"This is a bug, not a feature request; something isn't working."},{"id":2080994022,"node_id":"MDU6TGFiZWwyMDgwOTk0MDIy","url":"https://api.github.com/repos/beancount/beancount/labels/P2","name":"P2","color":"ffaaaa","default":false,"description":"Low priority, addressing would result in useful improvements"},{"id":2080994252,"node_id":"MDU6TGFiZWwyMDgwOTk0MjUy","url":"https://api.github.com/repos/beancount/beancount/labels/query-sql","name":"query-sql","color":"ededed","default":false,"description":"Component: SQL query engine"}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":2,"created_at":"2015-02-22T20:08:42Z","updated_at":"2017-04-29T20:50:27Z","closed_at":"2017-04-29T20:50:27Z","author_association":"MEMBER","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"**[Original report](https://bitbucket.org/blais/beancount/issue/27) by Martin Blais (Bitbucket: [blais](https://bitbucket.org/blais), GitHub: [blais](https://github.com/blais)).**\n\n----------------------------------------\n\n  - BUG: In precedence (most likely), this fails with an exception:\n\n      PRINT FROM 'trip-2008-10-asia' IN tags AND 'trip-2008-10-asia-mysore' IN tags;\n","closed_by":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/beancount/beancount/issues/27/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beancount/issues/27/timeline","performed_via_github_app":null,"state_reason":"completed"},{"url":"https://api.github.com/repos/beancount/beancount/issues/25","repository_url":"https://api.github.com/repos/beancount/beancount","labels_url":"https://api.github.com/repos/beancount/beancount/issues/25/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beancount/issues/25/comments","events_url":"https://api.github.com/repos/beancount/beancount/issues/25/events","html_url":"https://github.com/beancount/beancount/issues/25","id":623368589,"node_id":"MDU6SXNzdWU2MjMzNjg1ODk=","number":25,"title":"bean-web does not watch all the included files, just the top-level one","user":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":2080994777,"node_id":"MDU6TGFiZWwyMDgwOTk0Nzc3","url":"https://api.github.com/repos/beancount/beancount/labels/P1","name":"P1","color":"ff6666","default":false,"description":"High priority, not breaking but hindering or lessening existing functionality"},{"id":2080994900,"node_id":"MDU6TGFiZWwyMDgwOTk0OTAw","url":"https://api.github.com/repos/beancount/beancount/labels/web","name":"web","color":"ededed","default":false,"description":"Component: bean-web built-in server"}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":2,"created_at":"2015-02-22T19:49:58Z","updated_at":"2018-01-24T02:50:01Z","closed_at":"2018-01-24T02:50:01Z","author_association":"MEMBER","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"**[Original report](https://bitbucket.org/blais/beancount/issue/25) by Martin Blais (Bitbucket: [blais](https://bitbucket.org/blais), GitHub: [blais](https://github.com/blais)).**\n\n----------------------------------------\n\n- BUG: When multiple files have been loaded, have bean-web watch all the\n    loaded files.\n\n       \"One question: previously, if I wrote to the beancount file that a\n    bean-web process was already using, and if I hit refresh, bean-web noticed\n    the update to the file and re-read. This still works now, but only on the\n    including file, not on the included files. Is this a pain to fix, or\n    relatively easy?\"\n","closed_by":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/beancount/beancount/issues/25/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beancount/issues/25/timeline","performed_via_github_app":null,"state_reason":"completed"},{"url":"https://api.github.com/repos/beancount/beancount/issues/23","repository_url":"https://api.github.com/repos/beancount/beancount","labels_url":"https://api.github.com/repos/beancount/beancount/issues/23/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beancount/issues/23/comments","events_url":"https://api.github.com/repos/beancount/beancount/issues/23/events","html_url":"https://github.com/beancount/beancount/issues/23","id":623368559,"node_id":"MDU6SXNzdWU2MjMzNjg1NTk=","number":23,"title":"Round-trip test does not work with escaped characters nor metadata","user":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":2080914000,"node_id":"MDU6TGFiZWwyMDgwOTE0MDAw","url":"https://api.github.com/repos/beancount/beancount/labels/BUG","name":"BUG","color":"cc99cc","default":false,"description":"This is a bug, not a feature request; something isn't working."},{"id":2080994777,"node_id":"MDU6TGFiZWwyMDgwOTk0Nzc3","url":"https://api.github.com/repos/beancount/beancount/labels/P1","name":"P1","color":"ff6666","default":false,"description":"High priority, not breaking but hindering or lessening existing functionality"},{"id":2080995647,"node_id":"MDU6TGFiZWwyMDgwOTk1NjQ3","url":"https://api.github.com/repos/beancount/beancount/labels/parser-loader","name":"parser-loader","color":"ededed","default":false,"description":"Component: Parser and loader"}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":1,"created_at":"2015-02-22T19:45:50Z","updated_at":"2018-01-05T09:14:04Z","closed_at":"2018-01-05T09:14:04Z","author_association":"MEMBER","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"**[Original report](https://bitbucket.org/blais/beancount/issue/23) by Martin Blais (Bitbucket: [blais](https://bitbucket.org/blais), GitHub: [blais](https://github.com/blais)).**\n\n----------------------------------------\n\n  - BUG: Round-trip test with escaped characters won't work. Add a test, fix\n    this.\n\n       > Oh, I just noticed: bean-report print does not yet print back escaped\n       > characters properly and it does not yet print metadata at all. Another\n       > one for the TODO list, I guess.\n","closed_by":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/beancount/beancount/issues/23/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beancount/issues/23/timeline","performed_via_github_app":null,"state_reason":"completed"},{"url":"https://api.github.com/repos/beancount/beancount/issues/22","repository_url":"https://api.github.com/repos/beancount/beancount","labels_url":"https://api.github.com/repos/beancount/beancount/issues/22/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beancount/issues/22/comments","events_url":"https://api.github.com/repos/beancount/beancount/issues/22/events","html_url":"https://github.com/beancount/beancount/issues/22","id":623368545,"node_id":"MDU6SXNzdWU2MjMzNjg1NDU=","number":22,"title":"Cost currency same as unit currency will fail with an assertion, not a reported error","user":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":2080914000,"node_id":"MDU6TGFiZWwyMDgwOTE0MDAw","url":"https://api.github.com/repos/beancount/beancount/labels/BUG","name":"BUG","color":"cc99cc","default":false,"description":"This is a bug, not a feature request; something isn't working."},{"id":2080994777,"node_id":"MDU6TGFiZWwyMDgwOTk0Nzc3","url":"https://api.github.com/repos/beancount/beancount/labels/P1","name":"P1","color":"ff6666","default":false,"description":"High priority, not breaking but hindering or lessening existing functionality"},{"id":2080995603,"node_id":"MDU6TGFiZWwyMDgwOTk1NjAz","url":"https://api.github.com/repos/beancount/beancount/labels/core-ops","name":"core-ops","color":"ededed","default":false,"description":"Component: Core data structures and stream ops"}],"state":"open","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":1,"created_at":"2015-02-22T19:45:09Z","updated_at":"2018-08-07T02:23:14Z","closed_at":null,"author_association":"MEMBER","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"**[Original report](https://bitbucket.org/blais/beancount/issue/22) by Martin Blais (Bitbucket: [blais](https://bitbucket.org/blais), GitHub: [blais](https://github.com/blais)).**\n\n----------------------------------------\n\n  - BUG: This will fail with an assertion, should be an error instead:\n\n       2014-11-01 * \"Massdrop Group Inc.\" | \"Express Checkout Payment Sent\"\n         Expenses:Toys:Electronics    146.37 USD @@ 169.87 USD\n         Assets:CA:PayPal      -169.87 CAD\n\n\n\n```\n#!python\n\nbean-check /tmp/test.beancount\nTraceback (most recent call last):\n  File \"/home/blais/p/beancount1/src/python/beancount/parser/parser.py\", line 776, in transaction\n    balance_errors = balance_incomplete_postings(entry)\n  File \"/home/blais/p/beancount1/src/python/beancount/core/interpolate.py\", line 238, in balance_incomplete_postings\n    postings, inserted, errors = get_incomplete_postings(entry)\n  File \"/home/blais/p/beancount1/src/python/beancount/core/interpolate.py\", line 151, in get_incomplete_postings\n    balance_amount = get_posting_weight(posting)\n  File \"/home/blais/p/beancount1/src/python/beancount/core/interpolate.py\", line 49, in get_posting_weight\n    return posting.position.get_weight(posting.price)\n  File \"/home/blais/p/beancount1/src/python/beancount/core/position.py\", line 239, in get_weight\n    \"Invalid currency for price: {} in {}\".format(self, price))\nAssertionError: Invalid currency for price: 146.37 USD in 1.160552025688324110131857621 USD\n\n\n```\n","closed_by":null,"reactions":{"url":"https://api.github.com/repos/beancount/beancount/issues/22/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beancount/issues/22/timeline","performed_via_github_app":null,"state_reason":null},{"url":"https://api.github.com/repos/beancount/beancount/issues/19","repository_url":"https://api.github.com/repos/beancount/beancount","labels_url":"https://api.github.com/repos/beancount/beancount/issues/19/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beancount/issues/19/comments","events_url":"https://api.github.com/repos/beancount/beancount/issues/19/events","html_url":"https://github.com/beancount/beancount/issues/19","id":623368486,"node_id":"MDU6SXNzdWU2MjMzNjg0ODY=","number":19,"title":"In the web interface, clicking on a directive that has no context generates an error","user":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":2080914000,"node_id":"MDU6TGFiZWwyMDgwOTE0MDAw","url":"https://api.github.com/repos/beancount/beancount/labels/BUG","name":"BUG","color":"cc99cc","default":false,"description":"This is a bug, not a feature request; something isn't working."},{"id":2080994022,"node_id":"MDU6TGFiZWwyMDgwOTk0MDIy","url":"https://api.github.com/repos/beancount/beancount/labels/P2","name":"P2","color":"ffaaaa","default":false,"description":"Low priority, addressing would result in useful improvements"},{"id":2080994900,"node_id":"MDU6TGFiZWwyMDgwOTk0OTAw","url":"https://api.github.com/repos/beancount/beancount/labels/web","name":"web","color":"ededed","default":false,"description":"Component: bean-web built-in server"}],"state":"open","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":1,"created_at":"2015-02-22T19:40:54Z","updated_at":"2015-05-30T05:41:09Z","closed_at":null,"author_association":"MEMBER","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"**[Original report](https://bitbucket.org/blais/beancount/issue/19) by Martin Blais (Bitbucket: [blais](https://bitbucket.org/blais), GitHub: [blais](https://github.com/blais)).**\n\n----------------------------------------\n\n  - BUG: In web interface... clicking on a directive that cannot be contexted\n    right generates an error like this:\n\n      127.0.0.1 - - [25/Jan/2015 00:41:33] \"GET\n      /context/7a79f22d284d032e2b28501e904e4826 HTTP/1.1\" 500 59\n      Traceback (most recent call last):\n        File \"/usr/local/lib/python3.4/wsgiref/handlers.py\", line 137, in run\n          self.result = application(self.environ, self.start_response)\n        File \"/usr/local/lib/python3.4/site-packages/bottle.py\", line 979, in __call__\n          return self.wsgi(environ, start_response)\n        File \"/usr/local/lib/python3.4/site-packages/bottle.py\", line 954, in wsgi\n          out = self._cast(self._handle(environ))\n        File \"/usr/local/lib/python3.4/site-packages/bottle.py\", line 862, in _handle\n          return route.call(**args)\n        File \"/usr/local/lib/python3.4/site-packages/bottle.py\", line 1729, in wrapper\n          rv = callback(*a, **ka)\n        File \"/home/blais/p/beancount/src/python/beancount/web/web.py\", line 939, in\n        wrapper\n          return callback(*posargs, **kwargs)\n        File \"/home/blais/p/beancount/src/python/beancount/web/web.py\", line 381, in\n        context_\n          app.entries, dcontext, entry.meta.filename, entry.meta.lineno))\n        File \"/home/blais/p/beancount/src/python/beancount/reports/context.py\", line\n        33, in render_entry_context\n          raise SystemExit(\"No entry could be found before {}:{}\".format(filename,\n          lineno))\n","closed_by":null,"reactions":{"url":"https://api.github.com/repos/beancount/beancount/issues/19/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beancount/issues/19/timeline","performed_via_github_app":null,"state_reason":null},{"url":"https://api.github.com/repos/beancount/beancount/issues/18","repository_url":"https://api.github.com/repos/beancount/beancount","labels_url":"https://api.github.com/repos/beancount/beancount/issues/18/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beancount/issues/18/comments","events_url":"https://api.github.com/repos/beancount/beancount/issues/18/events","html_url":"https://github.com/beancount/beancount/issues/18","id":623368472,"node_id":"MDU6SXNzdWU2MjMzNjg0NzI=","number":18,"title":"bean-doctor context command should support a separate top-level file for running and as an argument for querying","user":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":2080914000,"node_id":"MDU6TGFiZWwyMDgwOTE0MDAw","url":"https://api.github.com/repos/beancount/beancount/labels/BUG","name":"BUG","color":"cc99cc","default":false,"description":"This is a bug, not a feature request; something isn't working."},{"id":2080994777,"node_id":"MDU6TGFiZWwyMDgwOTk0Nzc3","url":"https://api.github.com/repos/beancount/beancount/labels/P1","name":"P1","color":"ff6666","default":false,"description":"High priority, not breaking but hindering or lessening existing functionality"},{"id":2080994828,"node_id":"MDU6TGFiZWwyMDgwOTk0ODI4","url":"https://api.github.com/repos/beancount/beancount/labels/scripts","name":"scripts","color":"ededed","default":false,"description":"Component: Other scripts"}],"state":"open","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":0,"created_at":"2015-02-12T19:46:10Z","updated_at":"2015-05-30T05:41:26Z","closed_at":null,"author_association":"MEMBER","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"**[Original report](https://bitbucket.org/blais/beancount/issue/18) by Martin Blais (Bitbucket: [blais](https://bitbucket.org/blais), GitHub: [blais](https://github.com/blais)).**\n\n----------------------------------------\n\nThis raises the point that bean-doctor may have some problems in a world with \"include\" statements, since right now it doesn't support providing both a top-level beancount file and the file-and-line of interest.\n\n\nMatthew\n\nOn Wednesday, February 11, 2015 at 9:20:17 PM UTC-8, Martin Blais wrote:\nBug in \"bean-doctor context\" fixed, in large part thanks to Matthew:\n#17/bean-doctor-context-broke-in-revision\nhttps://bitbucket.org/blais/beancount/commits/18c5e6391e42e441451642a221bf8a6f8a2f2909\n\n\n\nOn Wed, Feb 11, 2015 at 9:41 PM, Matthew Harris <mharr...@gmail.com> wrote:\nOn Wednesday, February 11, 2015 at 1:04:51 PM UTC-8, Aaron Bull Schaefer wrote:\nOn Wednesday, February 11, 2015 at 10:54:46 AM UTC-8, Matthew Harris wrote:\nI'm sure this is because when you transferred out of those accounts, you subtracted the shares but not the cost basis. See this earlier message with a fix:\n\nhttps://groups.google.com/d/msg/beancount/2Y7EWFUA3OA/OWKd5puxCN0J\n\nAh hah! That's exactly what I'm seeing. When I was transferring out, I was just doing something like:\n\n2013-08-07 * \"Backdoor transfer\"\n  Assets:Investments:Vanguard:Traditional-IRA:VTIVX   -758.68036 VTIVX {16.56 USD}\n  Assets:Investments:Vanguard:Roth-IRA:VTIVX           758.68036 VTIVX {16.56 USD}\n \n...which should have brought my Traditional IRA's VTIVX down to zero. So I know the problem, and I see the syntax to fix it, but how do you calculate the cost basis that should be used for each of these types of transactions? I think I'll have a handful that need to be updated. For some reason, the `bean-doctor context ledger.bean 123` is just reporting \"No entry could be found before ledger.bean:123\".\n\nThe cost basis is just the sum of (num_shares * cost_per_share) of all transactions before that point -- basically the net amount of money you've put into the account, excluding unrealized gains.\n\n\"bean-doctor context\" appears to have broken recently. Martin, I've narrowed it down to https://hg.furius.ca/public/beancount/rev/ba5032375ba8. I'll file a bug.\n","closed_by":null,"reactions":{"url":"https://api.github.com/repos/beancount/beancount/issues/18/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beancount/issues/18/timeline","performed_via_github_app":null,"state_reason":null},{"url":"https://api.github.com/repos/beancount/beancount/issues/17","repository_url":"https://api.github.com/repos/beancount/beancount","labels_url":"https://api.github.com/repos/beancount/beancount/issues/17/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beancount/issues/17/comments","events_url":"https://api.github.com/repos/beancount/beancount/issues/17/events","html_url":"https://github.com/beancount/beancount/issues/17","id":623368449,"node_id":"MDU6SXNzdWU2MjMzNjg0NDk=","number":17,"title":"\"bean-doctor context\" broke in revision ba5032375ba8","user":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":2080914000,"node_id":"MDU6TGFiZWwyMDgwOTE0MDAw","url":"https://api.github.com/repos/beancount/beancount/labels/BUG","name":"BUG","color":"cc99cc","default":false,"description":"This is a bug, not a feature request; something isn't working."},{"id":2080994777,"node_id":"MDU6TGFiZWwyMDgwOTk0Nzc3","url":"https://api.github.com/repos/beancount/beancount/labels/P1","name":"P1","color":"ff6666","default":false,"description":"High priority, not breaking but hindering or lessening existing functionality"}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":6,"created_at":"2015-02-12T02:45:29Z","updated_at":"2015-02-12T05:18:34Z","closed_at":"2015-02-12T05:18:34Z","author_association":"MEMBER","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"**[Original report](https://bitbucket.org/blais/beancount/issue/17) by Matthew Harris (Bitbucket: [matthew_harris](https://bitbucket.org/matthew_harris), GitHub: [mharris312](https://github.com/mharris312)).**\n\n----------------------------------------\n\n\n```\n#!bash\n\n$ cat test.beancount\n2000-01-01 open Assets:Checking\n\n$ hg update -r dfb88ced396e\n$ ./setup.py install\n\n$ bean-doctor context test.beancount 1\nHash:9ec07ee70bcbade115c2d47e57e8d301\nLocation: test.beancount:1\n\n\n2000-01-01 open Assets:Checking                                 \n\n$ hg update -r ba5032375ba8\n$ ./setup.py install\n$ bean-doctor context test.beancount 1\nNo entry could be found before test.beancount:1\n```\n","closed_by":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/beancount/beancount/issues/17/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beancount/issues/17/timeline","performed_via_github_app":null,"state_reason":"completed"},{"url":"https://api.github.com/repos/beancount/beancount/issues/16","repository_url":"https://api.github.com/repos/beancount/beancount","labels_url":"https://api.github.com/repos/beancount/beancount/issues/16/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beancount/issues/16/comments","events_url":"https://api.github.com/repos/beancount/beancount/issues/16/events","html_url":"https://github.com/beancount/beancount/issues/16","id":623368416,"node_id":"MDU6SXNzdWU2MjMzNjg0MTY=","number":16,"title":"unrealized.py: \"A valid price could not be found\" warnings for leaked cost basis","user":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":2080914000,"node_id":"MDU6TGFiZWwyMDgwOTE0MDAw","url":"https://api.github.com/repos/beancount/beancount/labels/BUG","name":"BUG","color":"cc99cc","default":false,"description":"This is a bug, not a feature request; something isn't working."},{"id":2080994022,"node_id":"MDU6TGFiZWwyMDgwOTk0MDIy","url":"https://api.github.com/repos/beancount/beancount/labels/P2","name":"P2","color":"ffaaaa","default":false,"description":"Low priority, addressing would result in useful improvements"}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":3,"created_at":"2015-02-11T19:14:23Z","updated_at":"2015-02-13T04:26:13Z","closed_at":"2015-02-13T04:26:13Z","author_association":"MEMBER","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"**[Original report](https://bitbucket.org/blais/beancount/issue/16) by Matthew Harris (Bitbucket: [matthew_harris](https://bitbucket.org/matthew_harris), GitHub: [mharris312](https://github.com/mharris312)).**\n\n----------------------------------------\n\nQuoting yourself:\nAs for the \n\"A valid price for ABC/USD could not be found\"\nmessage: it is emitted from the unrealized gains plugin.\nI'll have to hunt it down, sounds like a bug.\n\nThis is indeed, a bug triggered by this situation and I'll have to fix it.\nThe unrealized gains plugin computes the list of holdings in order to insert the gains, and it ends up with a holding object like this for your leaked cost basis:\n\n\n```\n#!python\n\nHolding(account='Assets:Investments:RolloverIRA:ABC', number=Decimal('0.000'), currency='ABC', cost_number=None, cost_currency='USD', book_value=Decimal('-8222.48552000000000000000000'), market_value=None, price_number=None, price_date=datetime.date(2013, 4, 1))\n\n```\n\nNow, it expects that if the commodity is not a currency, it will have a price. But price_number is None, so it complains about it.\nI'll fix this over the weekend; it should be silent when that occurs, I'll have to find conditions for that.\n","closed_by":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/beancount/beancount/issues/16/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beancount/issues/16/timeline","performed_via_github_app":null,"state_reason":"completed"},{"url":"https://api.github.com/repos/beancount/beancount/issues/15","repository_url":"https://api.github.com/repos/beancount/beancount","labels_url":"https://api.github.com/repos/beancount/beancount/issues/15/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beancount/issues/15/comments","events_url":"https://api.github.com/repos/beancount/beancount/issues/15/events","html_url":"https://github.com/beancount/beancount/issues/15","id":623368398,"node_id":"MDU6SXNzdWU2MjMzNjgzOTg=","number":15,"title":"Render subtotals in balances/balsheet/income reports","user":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":2080914000,"node_id":"MDU6TGFiZWwyMDgwOTE0MDAw","url":"https://api.github.com/repos/beancount/beancount/labels/BUG","name":"BUG","color":"cc99cc","default":false,"description":"This is a bug, not a feature request; something isn't working."},{"id":2080994777,"node_id":"MDU6TGFiZWwyMDgwOTk0Nzc3","url":"https://api.github.com/repos/beancount/beancount/labels/P1","name":"P1","color":"ff6666","default":false,"description":"High priority, not breaking but hindering or lessening existing functionality"},{"id":2080994900,"node_id":"MDU6TGFiZWwyMDgwOTk0OTAw","url":"https://api.github.com/repos/beancount/beancount/labels/web","name":"web","color":"ededed","default":false,"description":"Component: bean-web built-in server"}],"state":"open","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":0,"created_at":"2015-02-09T15:35:56Z","updated_at":"2015-05-30T05:41:39Z","closed_at":null,"author_association":"MEMBER","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"**[Original report](https://bitbucket.org/blais/beancount/issue/15) by Martin Blais (Bitbucket: [blais](https://bitbucket.org/blais), GitHub: [blais](https://github.com/blais)).**\n\n----------------------------------------\n\n\"In bean-web/balsheet, would it be possible/useful to include sub-totals for nested accounts? Possibly in light gray, to set them apart?\"\n\nLedger users have gotten used to this... it's probably worth adding it as an option.\n\n\n\"You're the second person to request this (see previous email on the list).\nI've always found that very confusing about Ledger's rendering of account trees; I think it's unreadable.\n\nI'd prefer to render it in a separate column by default, because eventually when that report is output to an XLS or CSV file (I want to support all output formats for all reports), I want it to be possible to sum over that column. Or maybe make it optional. Alternatively, in bean-web, what I'd like to do is show the parent account subtotal when you collapse a node.\n\"\n","closed_by":null,"reactions":{"url":"https://api.github.com/repos/beancount/beancount/issues/15/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beancount/issues/15/timeline","performed_via_github_app":null,"state_reason":null},{"url":"https://api.github.com/repos/beancount/beancount/issues/14","repository_url":"https://api.github.com/repos/beancount/beancount","labels_url":"https://api.github.com/repos/beancount/beancount/issues/14/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beancount/issues/14/comments","events_url":"https://api.github.com/repos/beancount/beancount/issues/14/events","html_url":"https://github.com/beancount/beancount/issues/14","id":623368379,"node_id":"MDU6SXNzdWU2MjMzNjgzNzk=","number":14,"title":"treeify fails with very very long account names","user":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":2080914000,"node_id":"MDU6TGFiZWwyMDgwOTE0MDAw","url":"https://api.github.com/repos/beancount/beancount/labels/BUG","name":"BUG","color":"cc99cc","default":false,"description":"This is a bug, not a feature request; something isn't working."},{"id":2080994022,"node_id":"MDU6TGFiZWwyMDgwOTk0MDIy","url":"https://api.github.com/repos/beancount/beancount/labels/P2","name":"P2","color":"ffaaaa","default":false,"description":"Low priority, addressing would result in useful improvements"},{"id":2080994828,"node_id":"MDU6TGFiZWwyMDgwOTk0ODI4","url":"https://api.github.com/repos/beancount/beancount/labels/scripts","name":"scripts","color":"ededed","default":false,"description":"Component: Other scripts"}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":2,"created_at":"2015-02-09T15:24:28Z","updated_at":"2018-08-06T02:43:37Z","closed_at":"2018-08-06T02:43:37Z","author_association":"MEMBER","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"**[Original report](https://bitbucket.org/blais/beancount/issue/14) by Martin Blais (Bitbucket: [blais](https://bitbucket.org/blais), GitHub: [blais](https://github.com/blais)).**\n\n----------------------------------------\n\n2. I like how you split treeify and bean-report, however, this is causing it to not work for me. I have some rather long account names, and as a result the number of spaces between the account name and the amount isn't enough for treeify to known where to split.\n\nAs a workaround I'm using (hooray for Unix utils!):\n\nbean-report ledger.bean bal | sed -e 's/\\s\\s*/\\t/' | expand -t 50 | treeify\n","closed_by":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/beancount/beancount/issues/14/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beancount/issues/14/timeline","performed_via_github_app":null,"state_reason":"completed"},{"url":"https://api.github.com/repos/beancount/beancount/issues/12","repository_url":"https://api.github.com/repos/beancount/beancount","labels_url":"https://api.github.com/repos/beancount/beancount/issues/12/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beancount/issues/12/comments","events_url":"https://api.github.com/repos/beancount/beancount/issues/12/events","html_url":"https://github.com/beancount/beancount/issues/12","id":623368329,"node_id":"MDU6SXNzdWU2MjMzNjgzMjk=","number":12,"title":"In bean-query, \"history\" does not reflect the current history","user":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":2080914000,"node_id":"MDU6TGFiZWwyMDgwOTE0MDAw","url":"https://api.github.com/repos/beancount/beancount/labels/BUG","name":"BUG","color":"cc99cc","default":false,"description":"This is a bug, not a feature request; something isn't working."},{"id":2080994022,"node_id":"MDU6TGFiZWwyMDgwOTk0MDIy","url":"https://api.github.com/repos/beancount/beancount/labels/P2","name":"P2","color":"ffaaaa","default":false,"description":"Low priority, addressing would result in useful improvements"},{"id":2080994252,"node_id":"MDU6TGFiZWwyMDgwOTk0MjUy","url":"https://api.github.com/repos/beancount/beancount/labels/query-sql","name":"query-sql","color":"ededed","default":false,"description":"Component: SQL query engine"}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":1,"created_at":"2015-02-07T20:26:32Z","updated_at":"2018-08-06T02:42:47Z","closed_at":"2018-08-06T02:42:47Z","author_association":"MEMBER","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"**[Original report](https://bitbucket.org/blais/beancount/issue/12) by Martin Blais (Bitbucket: [blais](https://bitbucket.org/blais), GitHub: [blais](https://github.com/blais)).**\n\n----------------------------------------\n\nStart it up, run a few commands, and try it. The history will be ancient. Something's wrong.\n","closed_by":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/beancount/beancount/issues/12/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beancount/issues/12/timeline","performed_via_github_app":null,"state_reason":"completed"},{"url":"https://api.github.com/repos/beancount/beancount/issues/11","repository_url":"https://api.github.com/repos/beancount/beancount","labels_url":"https://api.github.com/repos/beancount/beancount/issues/11/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beancount/issues/11/comments","events_url":"https://api.github.com/repos/beancount/beancount/issues/11/events","html_url":"https://github.com/beancount/beancount/issues/11","id":623368310,"node_id":"MDU6SXNzdWU2MjMzNjgzMTA=","number":11,"title":"\"bean-query help print\" should give the grammar","user":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":2080914000,"node_id":"MDU6TGFiZWwyMDgwOTE0MDAw","url":"https://api.github.com/repos/beancount/beancount/labels/BUG","name":"BUG","color":"cc99cc","default":false,"description":"This is a bug, not a feature request; something isn't working."},{"id":2080994061,"node_id":"MDU6TGFiZWwyMDgwOTk0MDYx","url":"https://api.github.com/repos/beancount/beancount/labels/P3","name":"P3","color":"FFdddd","default":false,"description":"Very low priority, nice to have"}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":1,"created_at":"2015-01-24T09:44:27Z","updated_at":"2015-01-24T22:45:24Z","closed_at":"2015-01-24T22:45:24Z","author_association":"MEMBER","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"**[Original report](https://bitbucket.org/blais/beancount/issue/11) by Matthew Harris (Bitbucket: [matthew_harris](https://bitbucket.org/matthew_harris), GitHub: [mharris312](https://github.com/mharris312)).**\n\n----------------------------------------\n\nIn bean-query, \"help select\" gives the full grammar of the SELECT statement. \"help print\" should at least output\n\n  PRINT [FROM ...]\n\nto give a hint about how to use it.\n","closed_by":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/beancount/beancount/issues/11/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beancount/issues/11/timeline","performed_via_github_app":null,"state_reason":"completed"},{"url":"https://api.github.com/repos/beancount/beancount/issues/10","repository_url":"https://api.github.com/repos/beancount/beancount","labels_url":"https://api.github.com/repos/beancount/beancount/issues/10/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beancount/issues/10/comments","events_url":"https://api.github.com/repos/beancount/beancount/issues/10/events","html_url":"https://github.com/beancount/beancount/issues/10","id":623368283,"node_id":"MDU6SXNzdWU2MjMzNjgyODM=","number":10,"title":"\"print from close_date\" causes problems on account open","user":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":2080914000,"node_id":"MDU6TGFiZWwyMDgwOTE0MDAw","url":"https://api.github.com/repos/beancount/beancount/labels/BUG","name":"BUG","color":"cc99cc","default":false,"description":"This is a bug, not a feature request; something isn't working."},{"id":2080994022,"node_id":"MDU6TGFiZWwyMDgwOTk0MDIy","url":"https://api.github.com/repos/beancount/beancount/labels/P2","name":"P2","color":"ffaaaa","default":false,"description":"Low priority, addressing would result in useful improvements"},{"id":2080994252,"node_id":"MDU6TGFiZWwyMDgwOTk0MjUy","url":"https://api.github.com/repos/beancount/beancount/labels/query-sql","name":"query-sql","color":"ededed","default":false,"description":"Component: SQL query engine"}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":2,"created_at":"2015-01-24T09:37:25Z","updated_at":"2018-03-31T06:27:31Z","closed_at":"2018-03-31T06:27:31Z","author_association":"MEMBER","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"**[Original report](https://bitbucket.org/blais/beancount/issue/10) by Matthew Harris (Bitbucket: [matthew_harris](https://bitbucket.org/matthew_harris), GitHub: [mharris312](https://github.com/mharris312)).**\n\n----------------------------------------\n\nI'm not sure what all is going on here, but I'm sure it'll be pretty obvious to you.\n\n```\n#!\n\n$ cat test.beancount\n2000-01-01 open Assets:Checking\n$ bean-query test.beancount 'print from close_date(\"XXX\");'\nTraceback (most recent call last):\n  File \"/Users/mharris/homebrew/Cellar/python3/3.4.2_1/Frameworks/Python.framework/Versions/3.4/lib/python3.4/cmd.py\", line 214, in onecmd\n    func = getattr(self, 'do_' + cmd)\nAttributeError: 'BQLShell' object has no attribute 'do_print'\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File \"/Users/mharris/homebrew/lib/python3.4/site-packages/beancount/query/shell.py\", line 223, in default\n    self.dispatch(statement)\n  File \"/Users/mharris/homebrew/lib/python3.4/site-packages/beancount/query/shell.py\", line 213, in dispatch\n    return method(statement)\n  File \"/Users/mharris/homebrew/lib/python3.4/site-packages/beancount/query/shell.py\", line 284, in on_Print\n    query_execute.execute_print(c_print, self.entries, self.options_map, file)\n  File \"/Users/mharris/homebrew/lib/python3.4/site-packages/beancount/query/query_execute.py\", line 73, in execute_print\n    entries = filter_entries(c_print.c_from, entries, options_map)\n  File \"/Users/mharris/homebrew/lib/python3.4/site-packages/beancount/query/query_execute.py\", line 57, in filter_entries\n    for entry in entries\n  File \"/Users/mharris/homebrew/lib/python3.4/site-packages/beancount/query/query_execute.py\", line 58, in <listcomp>\n    if c_expr(entry)]\n  File \"/Users/mharris/homebrew/lib/python3.4/site-packages/beancount/query/query_env.py\", line 156, in __call__\n    close_entry, close_entry = context.open_close_map[args[0]]\nAttributeError: 'Open' object has no attribute 'open_close_map'\n\n```\n","closed_by":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/beancount/beancount/issues/10/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beancount/issues/10/timeline","performed_via_github_app":null,"state_reason":"completed"},{"url":"https://api.github.com/repos/beancount/beancount/issues/9","repository_url":"https://api.github.com/repos/beancount/beancount","labels_url":"https://api.github.com/repos/beancount/beancount/issues/9/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beancount/issues/9/comments","events_url":"https://api.github.com/repos/beancount/beancount/issues/9/events","html_url":"https://github.com/beancount/beancount/issues/9","id":623368266,"node_id":"MDU6SXNzdWU2MjMzNjgyNjY=","number":9,"title":"Add --public option to bean-web to bind to external connections.","user":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":2080994022,"node_id":"MDU6TGFiZWwyMDgwOTk0MDIy","url":"https://api.github.com/repos/beancount/beancount/labels/P2","name":"P2","color":"ffaaaa","default":false,"description":"Low priority, addressing would result in useful improvements"}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":1,"created_at":"2015-01-22T02:21:51Z","updated_at":"2015-01-22T04:17:38Z","closed_at":"2015-01-22T04:17:38Z","author_association":"MEMBER","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"**[Original report](https://bitbucket.org/blais/beancount/issue/9) by Martin Blais (Bitbucket: [blais](https://bitbucket.org/blais), GitHub: [blais](https://github.com/blais)).**\n\n----------------------------------------\n\nYes, that's a well known networking setup issue. In fact. By default the web server doesn't accept connections from outside because all computers are networked these days... you don't want other boxes accessing your ledger contents by default I think. You're right that it should be possible to enable it though.\n\nI'll (1) document this as you suggest, and (2) add a --public option or something like it to make it possible to turn it on from the command-line.\n\nThanks again for reporting this,\n\n\n\n\n\nOn Wed, Jan 21, 2015 at 6:56 PM, <redstreet0@gmail.com> wrote:\nFigured it out:\n\napp.run(host= 'localhost'...\nto\napp.run(host= '0.0.0.0'\n\nin src/python/beancount/web/web.py\n\nWould be good for this to go in the docs (Install document? FAQ?)\n\nRefs:\nhttp://stackoverflow.com/questions/7023052/flask-configure-dev-server-to-be-visible-across-the-network\n","closed_by":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/beancount/beancount/issues/9/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beancount/issues/9/timeline","performed_via_github_app":null,"state_reason":"completed"},{"url":"https://api.github.com/repos/beancount/beancount/issues/8","repository_url":"https://api.github.com/repos/beancount/beancount","labels_url":"https://api.github.com/repos/beancount/beancount/issues/8/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beancount/issues/8/comments","events_url":"https://api.github.com/repos/beancount/beancount/issues/8/events","html_url":"https://github.com/beancount/beancount/issues/8","id":623368238,"node_id":"MDU6SXNzdWU2MjMzNjgyMzg=","number":8,"title":"Need to add \"commodity\" as a reserved keyword in beancount.el","user":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":2080914000,"node_id":"MDU6TGFiZWwyMDgwOTE0MDAw","url":"https://api.github.com/repos/beancount/beancount/labels/BUG","name":"BUG","color":"cc99cc","default":false,"description":"This is a bug, not a feature request; something isn't working."},{"id":2080994061,"node_id":"MDU6TGFiZWwyMDgwOTk0MDYx","url":"https://api.github.com/repos/beancount/beancount/labels/P3","name":"P3","color":"FFdddd","default":false,"description":"Very low priority, nice to have"}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":3,"created_at":"2015-01-20T22:04:15Z","updated_at":"2015-01-21T07:03:00Z","closed_at":"2015-01-21T07:03:00Z","author_association":"MEMBER","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"**[Original report](https://bitbucket.org/blais/beancount/issue/8) by Matthew Harris (Bitbucket: [matthew_harris](https://bitbucket.org/matthew_harris), GitHub: [mharris312](https://github.com/mharris312)).**\n\n----------------------------------------\n\nAfter \"commodity\" was added to the language, it should have been added to beancount.el too.\n","closed_by":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/beancount/beancount/issues/8/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beancount/issues/8/timeline","performed_via_github_app":null,"state_reason":"completed"},{"url":"https://api.github.com/repos/beancount/beancount/issues/7","repository_url":"https://api.github.com/repos/beancount/beancount","labels_url":"https://api.github.com/repos/beancount/beancount/issues/7/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beancount/issues/7/comments","events_url":"https://api.github.com/repos/beancount/beancount/issues/7/events","html_url":"https://github.com/beancount/beancount/issues/7","id":623368218,"node_id":"MDU6SXNzdWU2MjMzNjgyMTg=","number":7,"title":"Confusing error message: \"Amount is zero or negative\"","user":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":2080914000,"node_id":"MDU6TGFiZWwyMDgwOTE0MDAw","url":"https://api.github.com/repos/beancount/beancount/labels/BUG","name":"BUG","color":"cc99cc","default":false,"description":"This is a bug, not a feature request; something isn't working."},{"id":2080994061,"node_id":"MDU6TGFiZWwyMDgwOTk0MDYx","url":"https://api.github.com/repos/beancount/beancount/labels/P3","name":"P3","color":"FFdddd","default":false,"description":"Very low priority, nice to have"}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":5,"created_at":"2015-01-17T01:13:46Z","updated_at":"2015-01-17T06:48:24Z","closed_at":"2015-01-17T02:48:24Z","author_association":"MEMBER","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"**[Original report](https://bitbucket.org/blais/beancount/issue/7) by Matthew Harris (Bitbucket: [matthew_harris](https://bitbucket.org/matthew_harris), GitHub: [mharris312](https://github.com/mharris312)).**\n\n----------------------------------------\n\n2000-01-01 open Assets:Investments:IRA:XXX\n2000-01-01 open Income:Investments:IRA:PnL\n2014-12-29 *\n  * Assets:Investments:IRA:XXX  0.000 XXX {18.87 USD}\n  Income:Investments:IRA:PnL\n\nThis results in the following error:\n\n$ bean-check test.beancount\ntest.beancount:4:       Amount is zero or negative: 18.87 USD\n\nThis is confusing because 18.87 USD is not zero or negative.\n","closed_by":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/beancount/beancount/issues/7/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beancount/issues/7/timeline","performed_via_github_app":null,"state_reason":"completed"},{"url":"https://api.github.com/repos/beancount/beancount/issues/6","repository_url":"https://api.github.com/repos/beancount/beancount","labels_url":"https://api.github.com/repos/beancount/beancount/issues/6/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beancount/issues/6/comments","events_url":"https://api.github.com/repos/beancount/beancount/issues/6/events","html_url":"https://github.com/beancount/beancount/issues/6","id":623368199,"node_id":"MDU6SXNzdWU2MjMzNjgxOTk=","number":6,"title":"bean-query barfs when comparing a position with a number","user":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":2080914000,"node_id":"MDU6TGFiZWwyMDgwOTE0MDAw","url":"https://api.github.com/repos/beancount/beancount/labels/BUG","name":"BUG","color":"cc99cc","default":false,"description":"This is a bug, not a feature request; something isn't working."},{"id":2080994022,"node_id":"MDU6TGFiZWwyMDgwOTk0MDIy","url":"https://api.github.com/repos/beancount/beancount/labels/P2","name":"P2","color":"ffaaaa","default":false,"description":"Low priority, addressing would result in useful improvements"},{"id":2080994252,"node_id":"MDU6TGFiZWwyMDgwOTk0MjUy","url":"https://api.github.com/repos/beancount/beancount/labels/query-sql","name":"query-sql","color":"ededed","default":false,"description":"Component: SQL query engine"}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":1,"created_at":"2015-01-12T03:37:30Z","updated_at":"2018-03-31T05:42:55Z","closed_at":"2018-03-31T05:42:55Z","author_association":"MEMBER","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"**[Original report](https://bitbucket.org/blais/beancount/issue/6) by Martin Blais (Bitbucket: [blais](https://bitbucket.org/blais), GitHub: [blais](https://github.com/blais)).**\n\n----------------------------------------\n\nSo I tried this\n\nselect date, narration, position balance from year=2013 where account ~ \"Liabilities.*PropertyTax$\" and  (position >  0.00), \n\nTry with \"number\".\nThe \"position\" column returns an object of type Position.\n\nI've cooked a script in attachment for you.\n\n\n\n\n \n\nbut it gives me \n\nTraceback (most recent call last):\n  File \"/usr/lib/python3.4/cmd.py\", line 214, in onecmd\n    func = getattr(self, 'do_' + cmd)\nAttributeError: 'BQLShell' object has no attribute 'do_select'\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File \"usr/local/lib/python3.4/site-packages/beancount/query/shell.py\", line 223, in default\n    self.dispatch(statement)\n  File \"/usr/local/lib/python3.4/site-packages/beancount/query/shell.py\", line 213, in dispatch\n    return method(statement)\n  File \"/usr/local/lib/python3.4/site-packages/beancount/query/shell.py\", line 343, in on_Select\n    self.options_map)\n  File \"/usr/local/lib/python3.4/site-packages/beancount/query/query_execute.py\", line 207, in execute_query\n    if c_where is None or c_where(context):\n  File \"/usr/local/lib/python3.4/site-packages/beancount/query/query_compile.py\", line 111, in __call__\n    return self.operator(self.left(context), self.right(context))\n  File \"/usr/local/lib/python3.4/site-packages/beancount/query/query_compile.py\", line 111, in __call__\n    return self.operator(self.left(context), self.right(context))\nTypeError: unorderable types: Position() > decimal.Decimal()\n\n\nUh-oh. That's clearly a bug.\n","closed_by":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/beancount/beancount/issues/6/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beancount/issues/6/timeline","performed_via_github_app":null,"state_reason":"completed"},{"url":"https://api.github.com/repos/beancount/beancount/issues/5","repository_url":"https://api.github.com/repos/beancount/beancount","labels_url":"https://api.github.com/repos/beancount/beancount/issues/5/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beancount/issues/5/comments","events_url":"https://api.github.com/repos/beancount/beancount/issues/5/events","html_url":"https://github.com/beancount/beancount/issues/5","id":623368178,"node_id":"MDU6SXNzdWU2MjMzNjgxNzg=","number":5,"title":"Exception in leafonly plugin if non-leaf account has no Open directive","user":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":2080914000,"node_id":"MDU6TGFiZWwyMDgwOTE0MDAw","url":"https://api.github.com/repos/beancount/beancount/labels/BUG","name":"BUG","color":"cc99cc","default":false,"description":"This is a bug, not a feature request; something isn't working."},{"id":2080994022,"node_id":"MDU6TGFiZWwyMDgwOTk0MDIy","url":"https://api.github.com/repos/beancount/beancount/labels/P2","name":"P2","color":"ffaaaa","default":false,"description":"Low priority, addressing would result in useful improvements"}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":1,"created_at":"2015-01-06T16:11:21Z","updated_at":"2015-01-11T20:40:53Z","closed_at":"2015-01-11T20:40:53Z","author_association":"MEMBER","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"**[Original report](https://bitbucket.org/blais/beancount/issue/5) by Nathan  Grigg (Bitbucket: [nathangrigg](https://bitbucket.org/nathangrigg), GitHub: [nathangrigg](https://github.com/nathangrigg)).**\n\n----------------------------------------\n\nIf you have a non-leaf posting on an account that doesn't exist, the leafonly plugin raises an AttributeError if there is no Open directive. The problem is that 'open_entry' is None.\n\nhttps://bitbucket.org/blais/beancount/src/317b0a91b8d584380b0b750ae438f8af334ef911/src/python/beancount/plugins/leafonly.py?at=default#cl-41\n\n\n```\n#!python\n\nTraceback (most recent call last):\n  File \"/usr/local/python3/bin/bottle.py\", line 862, in _handle\n    return route.call(**args)\n  File \"/usr/local/python3/bin/bottle.py\", line 1729, in wrapper\n    rv = callback(*a, **ka)\n  File \"/usr/local/python3/lib/python3.4/site-packages/beancount/web/web.py\", line 912, in wrapper\n    entries, errors, options_map = loader.load_file(filename)\n  File \"/usr/local/python3/lib/python3.4/site-packages/beancount/loader.py\", line 52, in load_file\n    return _load(parser.parse_file, filename, log_timings, log_errors, extra_validations)\n  File \"/usr/local/python3/lib/python3.4/site-packages/beancount/loader.py\", line 111, in _load\n    entries, errors = run_transformations(entries, parse_errors, options_map, log_timings)\n  File \"/usr/local/python3/lib/python3.4/site-packages/beancount/loader.py\", line 182, in run_transformations\n    entries, plugin_errors = callback(entries, options_map)\n  File \"/usr/local/python3/lib/python3.4/site-packages/beancount/plugins/leafonly.py\", line 43, in validate_leaf_only\n    open_entry.meta,\nAttributeError: 'NoneType' object has no attribute 'meta'\n```\n","closed_by":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/beancount/beancount/issues/5/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beancount/issues/5/timeline","performed_via_github_app":null,"state_reason":"completed"},{"url":"https://api.github.com/repos/beancount/beancount/issues/4","repository_url":"https://api.github.com/repos/beancount/beancount","labels_url":"https://api.github.com/repos/beancount/beancount/issues/4/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beancount/issues/4/comments","events_url":"https://api.github.com/repos/beancount/beancount/issues/4/events","html_url":"https://github.com/beancount/beancount/issues/4","id":623368160,"node_id":"MDU6SXNzdWU2MjMzNjgxNjA=","number":4,"title":"'ParserSyntaxError' object has no attribute 'meta'","user":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":2080914000,"node_id":"MDU6TGFiZWwyMDgwOTE0MDAw","url":"https://api.github.com/repos/beancount/beancount/labels/BUG","name":"BUG","color":"cc99cc","default":false,"description":"This is a bug, not a feature request; something isn't working."},{"id":2080994022,"node_id":"MDU6TGFiZWwyMDgwOTk0MDIy","url":"https://api.github.com/repos/beancount/beancount/labels/P2","name":"P2","color":"ffaaaa","default":false,"description":"Low priority, addressing would result in useful improvements"}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":1,"created_at":"2015-01-03T09:28:37Z","updated_at":"2015-01-03T18:11:46Z","closed_at":"2015-01-03T18:11:46Z","author_association":"MEMBER","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"**[Original report](https://bitbucket.org/blais/beancount/issue/4) by Matthew Harris (Bitbucket: [matthew_harris](https://bitbucket.org/matthew_harris), GitHub: [mharris312](https://github.com/mharris312)).**\n\n----------------------------------------\n\nIf I run bean-web on a trivial erroneous input file (e.g. a file containing just the text \"hello world\") and visit the errors page (http://localhost:8080/errors), I get the following error on the console:\n\nBottle v0.12.7 server starting up (using WSGIRefServer())...\nListening on http://localhost:8080/\nHit Ctrl-C to quit.\n\nINFO    : Reloading...\n,----------------------------------------------------------------\ntest.beancount:1:       syntax error, unexpected ERROR\n\ntest.beancount:1:       Lexer error; erroneous token: 'hello'\n\ntest.beancount:1:       Lexer error; erroneous token: 'world'\n\n`----------------------------------------------------------------\nTraceback (most recent call last):\n  File \"/Users/mharris/homebrew/bin/bottle.py\", line 862, in _handle\n    return route.call(**args)\n  File \"/Users/mharris/homebrew/bin/bottle.py\", line 1729, in wrapper\n    rv = callback(*a, **ka)\n  File \"/Users/mharris/homebrew/lib/python3.4/site-packages/beancount/web/web.py\", line 939, in wrapper\n    return callback(*posargs, **kwargs)\n  File \"/Users/mharris/homebrew/lib/python3.4/site-packages/beancount/web/web.py\", line 317, in errors\n    contents=render_report(misc_reports.ErrorReport, [], leaf_only=False))\n  File \"/Users/mharris/homebrew/lib/python3.4/site-packages/beancount/web/web.py\", line 154, in render_report\n    report_.render_htmldiv(entries, app.errors, app.options, oss)\n  File \"/Users/mharris/homebrew/lib/python3.4/site-packages/beancount/reports/misc_reports.py\", line 50, in render_htmldiv\n    printer.render_source(error.meta)))\nAttributeError: 'ParserSyntaxError' object has no attribute 'meta'\n127.0.0.1 - - [03/Jan/2015 01:27:03] \"GET /errors HTTP/1.1\" 500 747\n","closed_by":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/beancount/beancount/issues/4/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beancount/issues/4/timeline","performed_via_github_app":null,"state_reason":"completed"},{"url":"https://api.github.com/repos/beancount/beancount/issues/3","repository_url":"https://api.github.com/repos/beancount/beancount","labels_url":"https://api.github.com/repos/beancount/beancount/issues/3/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beancount/issues/3/comments","events_url":"https://api.github.com/repos/beancount/beancount/issues/3/events","html_url":"https://github.com/beancount/beancount/issues/3","id":623368137,"node_id":"MDU6SXNzdWU2MjMzNjgxMzc=","number":3,"title":"bean-check fails on a transaction with no values","user":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":2080914000,"node_id":"MDU6TGFiZWwyMDgwOTE0MDAw","url":"https://api.github.com/repos/beancount/beancount/labels/BUG","name":"BUG","color":"cc99cc","default":false,"description":"This is a bug, not a feature request; something isn't working."},{"id":2080994022,"node_id":"MDU6TGFiZWwyMDgwOTk0MDIy","url":"https://api.github.com/repos/beancount/beancount/labels/P2","name":"P2","color":"ffaaaa","default":false,"description":"Low priority, addressing would result in useful improvements"}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":1,"created_at":"2014-12-10T06:14:32Z","updated_at":"2014-12-11T15:57:54Z","closed_at":"2014-12-11T15:57:54Z","author_association":"MEMBER","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"**[Original report](https://bitbucket.org/blais/beancount/issue/3) by Matthew Harris (Bitbucket: [matthew_harris](https://bitbucket.org/matthew_harris), GitHub: [mharris312](https://github.com/mharris312)).**\n\n----------------------------------------\n\nSample inputs:\n\n2000-01-01 * \"Test\"\n  Assets:Foo\n\n2000-01-01 * \"Test\"\n  Assets:Foo\n  Assets:Bar\n\nFor either of these sample inputs, bean-check gives the following stack trace:\n\n$ bean-check test.beancount \nTraceback (most recent call last):\n  File \"/Users/mharris/homebrew/bin/bean-check\", line 2, in <module>\n    from beancount.scripts.check import main; main()\n  File \"/Users/mharris/homebrew/lib/python3.4/site-packages/beancount/scripts/check.py\", line 39, in main\n    extra_validations=validation.HARDCORE_VALIDATIONS)\n  File \"/Users/mharris/homebrew/lib/python3.4/site-packages/beancount/loader.py\", line 52, in load_file\n    return _load(parser.parse_file, filename, log_timings, log_errors, extra_validations)\n  File \"/Users/mharris/homebrew/lib/python3.4/site-packages/beancount/loader.py\", line 125, in _load\n    printer.print_errors(errors, file=log_errors)\n  File \"/Users/mharris/homebrew/lib/python3.4/site-packages/beancount/parser/printer.py\", line 324, in print_errors\n    output.write(format_error(error))\n  File \"/Users/mharris/homebrew/lib/python3.4/site-packages/beancount/parser/printer.py\", line 294, in format_error\n    error_string = '\\n'.join(format_entry(entry) for entry in entries)\n  File \"/Users/mharris/homebrew/lib/python3.4/site-packages/beancount/parser/printer.py\", line 294, in <genexpr>\n    error_string = '\\n'.join(format_entry(entry) for entry in entries)\n  File \"/Users/mharris/homebrew/lib/python3.4/site-packages/beancount/parser/printer.py\", line 224, in format_entry\n    return EntryPrinter(dcontext, render_weights)(entry)\n  File \"/Users/mharris/homebrew/lib/python3.4/site-packages/beancount/parser/printer.py\", line 105, in __call__\n    method(obj, oss)\n  File \"/Users/mharris/homebrew/lib/python3.4/site-packages/beancount/parser/printer.py\", line 131, in Transaction\n    width_account = max(len(flag_account) for flag_account in strs_account)\nValueError: max() arg is an empty sequence\n","closed_by":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/beancount/beancount/issues/3/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beancount/issues/3/timeline","performed_via_github_app":null,"state_reason":"completed"},{"url":"https://api.github.com/repos/beancount/beancount/issues/2","repository_url":"https://api.github.com/repos/beancount/beancount","labels_url":"https://api.github.com/repos/beancount/beancount/issues/2/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beancount/issues/2/comments","events_url":"https://api.github.com/repos/beancount/beancount/issues/2/events","html_url":"https://github.com/beancount/beancount/issues/2","id":623368123,"node_id":"MDU6SXNzdWU2MjMzNjgxMjM=","number":2,"title":"plugins/leafonly.py has wrong docstring","user":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":2080914000,"node_id":"MDU6TGFiZWwyMDgwOTE0MDAw","url":"https://api.github.com/repos/beancount/beancount/labels/BUG","name":"BUG","color":"cc99cc","default":false,"description":"This is a bug, not a feature request; something isn't working."},{"id":2080994061,"node_id":"MDU6TGFiZWwyMDgwOTk0MDYx","url":"https://api.github.com/repos/beancount/beancount/labels/P3","name":"P3","color":"FFdddd","default":false,"description":"Very low priority, nice to have"}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":1,"created_at":"2014-12-06T05:09:12Z","updated_at":"2014-12-06T05:37:16Z","closed_at":"2014-12-06T05:37:16Z","author_association":"MEMBER","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"**[Original report](https://bitbucket.org/blais/beancount/issue/2) by Matthew Harris (Bitbucket: [matthew_harris](https://bitbucket.org/matthew_harris), GitHub: [mharris312](https://github.com/mharris312)).**\n\n----------------------------------------\n\nThe docstring in plugins/leafonly.py appears copied from onecommodity.py and does not accurately describe leafonly.py.\n","closed_by":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/beancount/beancount/issues/2/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beancount/issues/2/timeline","performed_via_github_app":null,"state_reason":"completed"},{"url":"https://api.github.com/repos/beancount/beancount/issues/1","repository_url":"https://api.github.com/repos/beancount/beancount","labels_url":"https://api.github.com/repos/beancount/beancount/issues/1/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beancount/issues/1/comments","events_url":"https://api.github.com/repos/beancount/beancount/issues/1/events","html_url":"https://github.com/beancount/beancount/issues/1","id":623368104,"node_id":"MDU6SXNzdWU2MjMzNjgxMDQ=","number":1,"title":"reports/convert_reports.py refers to undefined variables","user":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":2080914000,"node_id":"MDU6TGFiZWwyMDgwOTE0MDAw","url":"https://api.github.com/repos/beancount/beancount/labels/BUG","name":"BUG","color":"cc99cc","default":false,"description":"This is a bug, not a feature request; something isn't working."},{"id":2080994022,"node_id":"MDU6TGFiZWwyMDgwOTk0MDIy","url":"https://api.github.com/repos/beancount/beancount/labels/P2","name":"P2","color":"ffaaaa","default":false,"description":"Low priority, addressing would result in useful improvements"}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":2,"created_at":"2014-11-30T20:33:05Z","updated_at":"2014-11-30T22:59:50Z","closed_at":"2014-11-30T22:59:50Z","author_association":"MEMBER","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"**[Original report](https://bitbucket.org/blais/beancount/issue/1) by Matthew Harris (Bitbucket: [matthew_harris](https://bitbucket.org/matthew_harris), GitHub: [mharris312](https://github.com/mharris312)).**\n\n----------------------------------------\n\nHLedgerPrinter.Posting refers to amount_str and cost_str, but the function defines pos_str and price_str instead. So 'bean-report ... hledger' fails with\n\nNameError: name 'amount_str' is not defined\n","closed_by":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/beancount/beancount/issues/1/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beancount/issues/1/timeline","performed_via_github_app":null,"state_reason":"completed"}]