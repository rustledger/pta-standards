[{"url":"https://api.github.com/repos/beancount/beanquery/issues/270","repository_url":"https://api.github.com/repos/beancount/beanquery","labels_url":"https://api.github.com/repos/beancount/beanquery/issues/270/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beanquery/issues/270/comments","events_url":"https://api.github.com/repos/beancount/beanquery/issues/270/events","html_url":"https://github.com/beancount/beanquery/issues/270","id":3882762118,"node_id":"I_kwDOFUEJF87nbj-G","number":270,"title":"Optimise ledger parsing with caching","user":{"login":"wuzzapcom","id":13187194,"node_id":"MDQ6VXNlcjEzMTg3MTk0","avatar_url":"https://avatars.githubusercontent.com/u/13187194?v=4","gravatar_id":"","url":"https://api.github.com/users/wuzzapcom","html_url":"https://github.com/wuzzapcom","followers_url":"https://api.github.com/users/wuzzapcom/followers","following_url":"https://api.github.com/users/wuzzapcom/following{/other_user}","gists_url":"https://api.github.com/users/wuzzapcom/gists{/gist_id}","starred_url":"https://api.github.com/users/wuzzapcom/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wuzzapcom/subscriptions","organizations_url":"https://api.github.com/users/wuzzapcom/orgs","repos_url":"https://api.github.com/users/wuzzapcom/repos","events_url":"https://api.github.com/users/wuzzapcom/events{/privacy}","received_events_url":"https://api.github.com/users/wuzzapcom/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"open","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":0,"created_at":"2026-02-01T19:35:19Z","updated_at":"2026-02-01T19:35:19Z","closed_at":null,"author_association":"NONE","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"I have a personal Beancount ledger with transactions spanning three years, so the total number of transactions to parse is around 10,000.\nOn my Raspberry Pi, even a basic query may take tens of seconds when using `bean-query`. My assumption is that parsing takes a significant amount of time and CPU resources, and that it would be worth optimizing this by using in-memory caching between different `bean-query` calls.\n\nMy idea is the following:\n\n* `bean-query` gets a new option `--daemon`\n\n  * in this mode, the tool spawns a background process tied to a given ledger file\n\n    * when any of the files change, the tool reparses them, possibly with some delay\n  * the daemon keeps parsed transactions in memory and serves them to `bean-query` on request\n* when `bean-query` is called without `--daemon`, it looks for a running background daemon and requests the parsed transactions from it\n\nThis mode could be useful for server-side use cases such as Fava. I havenâ€™t calculated the RAM usage, but even if it consumes 10 MB of RAM for a 1 MB ledger, that seems like a reasonable trade-off.\n\nSo my questions are:\n\n1. What do you think of this idea in general?\n2. Would you consider implementing it?\n3. If not, would you accept this feature as a pull request and merge it into `master`?\n\n","closed_by":null,"reactions":{"url":"https://api.github.com/repos/beancount/beanquery/issues/270/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beanquery/issues/270/timeline","performed_via_github_app":null,"state_reason":null},{"url":"https://api.github.com/repos/beancount/beanquery/issues/269","repository_url":"https://api.github.com/repos/beancount/beanquery","labels_url":"https://api.github.com/repos/beancount/beanquery/issues/269/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beanquery/issues/269/comments","events_url":"https://api.github.com/repos/beancount/beanquery/issues/269/events","html_url":"https://github.com/beancount/beanquery/pull/269","id":3800734472,"node_id":"PR_kwDOFUEJF868hM5X","number":269,"title":"fix: Fix Tatsu dependency issue","user":{"login":"PLUkraine","id":9950014,"node_id":"MDQ6VXNlcjk5NTAwMTQ=","avatar_url":"https://avatars.githubusercontent.com/u/9950014?v=4","gravatar_id":"","url":"https://api.github.com/users/PLUkraine","html_url":"https://github.com/PLUkraine","followers_url":"https://api.github.com/users/PLUkraine/followers","following_url":"https://api.github.com/users/PLUkraine/following{/other_user}","gists_url":"https://api.github.com/users/PLUkraine/gists{/gist_id}","starred_url":"https://api.github.com/users/PLUkraine/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/PLUkraine/subscriptions","organizations_url":"https://api.github.com/users/PLUkraine/orgs","repos_url":"https://api.github.com/users/PLUkraine/repos","events_url":"https://api.github.com/users/PLUkraine/events{/privacy}","received_events_url":"https://api.github.com/users/PLUkraine/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":5,"created_at":"2026-01-11T04:44:58Z","updated_at":"2026-01-14T00:03:55Z","closed_at":"2026-01-14T00:03:55Z","author_association":"NONE","type":null,"active_lock_reason":null,"draft":false,"pull_request":{"url":"https://api.github.com/repos/beancount/beanquery/pulls/269","html_url":"https://github.com/beancount/beanquery/pull/269","diff_url":"https://github.com/beancount/beanquery/pull/269.diff","patch_url":"https://github.com/beancount/beanquery/pull/269.patch","merged_at":null},"body":"Problem: Tatsu made a breaking change in this\r\n[commit](https://github.com/neogeny/TatSu/commit/938bf9cbe0e91a501f04221d2576c931dac775ff#diff-6fa32e86899dffc2cc0af96073a1d44b2435e7533984a0bdc90f886ad0d7c256)\r\n\r\nSolution: change the import module from `tatsu.parserconfig` to `tatsu.parserconfig`\r\n\r\nTesting: ran the main() in __main__.py on my file\r\n\r\nIssue: https://github.com/beancount/beanquery/issues/268","closed_by":{"login":"dnicolodi","id":987145,"node_id":"MDQ6VXNlcjk4NzE0NQ==","avatar_url":"https://avatars.githubusercontent.com/u/987145?v=4","gravatar_id":"","url":"https://api.github.com/users/dnicolodi","html_url":"https://github.com/dnicolodi","followers_url":"https://api.github.com/users/dnicolodi/followers","following_url":"https://api.github.com/users/dnicolodi/following{/other_user}","gists_url":"https://api.github.com/users/dnicolodi/gists{/gist_id}","starred_url":"https://api.github.com/users/dnicolodi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dnicolodi/subscriptions","organizations_url":"https://api.github.com/users/dnicolodi/orgs","repos_url":"https://api.github.com/users/dnicolodi/repos","events_url":"https://api.github.com/users/dnicolodi/events{/privacy}","received_events_url":"https://api.github.com/users/dnicolodi/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/beancount/beanquery/issues/269/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beanquery/issues/269/timeline","performed_via_github_app":null,"state_reason":null},{"url":"https://api.github.com/repos/beancount/beanquery/issues/268","repository_url":"https://api.github.com/repos/beancount/beanquery","labels_url":"https://api.github.com/repos/beancount/beanquery/issues/268/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beanquery/issues/268/comments","events_url":"https://api.github.com/repos/beancount/beanquery/issues/268/events","html_url":"https://github.com/beancount/beanquery/issues/268","id":3800720417,"node_id":"I_kwDOFUEJF87iimQh","number":268,"title":"TatSu 5.15.0 module refactoring breaks beanquery","user":{"login":"PLUkraine","id":9950014,"node_id":"MDQ6VXNlcjk5NTAwMTQ=","avatar_url":"https://avatars.githubusercontent.com/u/9950014?v=4","gravatar_id":"","url":"https://api.github.com/users/PLUkraine","html_url":"https://github.com/PLUkraine","followers_url":"https://api.github.com/users/PLUkraine/followers","following_url":"https://api.github.com/users/PLUkraine/following{/other_user}","gists_url":"https://api.github.com/users/PLUkraine/gists{/gist_id}","starred_url":"https://api.github.com/users/PLUkraine/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/PLUkraine/subscriptions","organizations_url":"https://api.github.com/users/PLUkraine/orgs","repos_url":"https://api.github.com/users/PLUkraine/repos","events_url":"https://api.github.com/users/PLUkraine/events{/privacy}","received_events_url":"https://api.github.com/users/PLUkraine/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":2,"created_at":"2026-01-11T04:28:17Z","updated_at":"2026-01-14T00:04:41Z","closed_at":"2026-01-14T00:04:41Z","author_association":"NONE","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"# Repro\n\nOn freshly installed Fedora 43 install beancount and fava via `python -m pip install beancount fava`. Thence run `fava your.beancount`.\n\nError message:\n\n```\n$ fava main.beancount \nTraceback (most recent call last):\n  File \"/home/user/.local/bin/fava\", line 5, in <module>\n    from fava.cli import main\n  File \"/home/user/.local/lib/python3.14/site-packages/fava/cli.py\", line 15, in <module>\n    from fava.application import create_app\n  File \"/home/user/.local/lib/python3.14/site-packages/fava/application.py\", line 49, in <module>\n    from fava._ctx_globals_class import Context\n  File \"/home/user/.local/lib/python3.14/site-packages/fava/_ctx_globals_class.py\", line 10, in <module>\n    from fava.core.conversion import conversion_from_str\n  File \"/home/user/.local/lib/python3.14/site-packages/fava/core/__init__.py\", line 48, in <module>\n    from fava.core.query_shell import QueryShell\n  File \"/home/user/.local/lib/python3.14/site-packages/fava/core/query_shell.py\", line 11, in <module>\n    from beanquery import CompilationError\n  File \"/home/user/.local/lib/python3.14/site-packages/beanquery/__init__.py\", line 5, in <module>\n    from . import parser\n  File \"/home/user/.local/lib/python3.14/site-packages/beanquery/parser/__init__.py\", line 7, in <module>\n    from .parser import BQLParser\n  File \"/home/user/.local/lib/python3.14/site-packages/beanquery/parser/parser.py\", line 23, in <module>\n    from tatsu.infos import parserconfig\nImportError: cannot import name 'parserconfig' from 'tatsu.infos' (/home/user/.local/lib/python3.14/site-packages/tatsu/infos.py)\n```\n\n# Fix\n\nIn `parser/parser.py` replace\n\n```\nfrom tatsu.infos import ParserConfig\n```\n\nwith\n\n```\nfrom tatsu.parserconfig import ParserConfig\n```","closed_by":{"login":"dnicolodi","id":987145,"node_id":"MDQ6VXNlcjk4NzE0NQ==","avatar_url":"https://avatars.githubusercontent.com/u/987145?v=4","gravatar_id":"","url":"https://api.github.com/users/dnicolodi","html_url":"https://github.com/dnicolodi","followers_url":"https://api.github.com/users/dnicolodi/followers","following_url":"https://api.github.com/users/dnicolodi/following{/other_user}","gists_url":"https://api.github.com/users/dnicolodi/gists{/gist_id}","starred_url":"https://api.github.com/users/dnicolodi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dnicolodi/subscriptions","organizations_url":"https://api.github.com/users/dnicolodi/orgs","repos_url":"https://api.github.com/users/dnicolodi/repos","events_url":"https://api.github.com/users/dnicolodi/events{/privacy}","received_events_url":"https://api.github.com/users/dnicolodi/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/beancount/beanquery/issues/268/reactions","total_count":2,"+1":2,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beanquery/issues/268/timeline","performed_via_github_app":null,"state_reason":"completed"},{"url":"https://api.github.com/repos/beancount/beanquery/issues/267","repository_url":"https://api.github.com/repos/beancount/beanquery","labels_url":"https://api.github.com/repos/beancount/beanquery/issues/267/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beanquery/issues/267/comments","events_url":"https://api.github.com/repos/beancount/beanquery/issues/267/events","html_url":"https://github.com/beancount/beanquery/issues/267","id":3775914668,"node_id":"I_kwDOFUEJF87hD-Ks","number":267,"title":"What is the intended (future?) design concerning structured type (entry.payee, amount.numbers, ...)","user":{"login":"mlell","id":16210594,"node_id":"MDQ6VXNlcjE2MjEwNTk0","avatar_url":"https://avatars.githubusercontent.com/u/16210594?v=4","gravatar_id":"","url":"https://api.github.com/users/mlell","html_url":"https://github.com/mlell","followers_url":"https://api.github.com/users/mlell/followers","following_url":"https://api.github.com/users/mlell/following{/other_user}","gists_url":"https://api.github.com/users/mlell/gists{/gist_id}","starred_url":"https://api.github.com/users/mlell/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mlell/subscriptions","organizations_url":"https://api.github.com/users/mlell/orgs","repos_url":"https://api.github.com/users/mlell/repos","events_url":"https://api.github.com/users/mlell/events{/privacy}","received_events_url":"https://api.github.com/users/mlell/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":3,"created_at":"2026-01-02T09:10:06Z","updated_at":"2026-01-05T02:46:34Z","closed_at":"2026-01-04T01:04:34Z","author_association":"NONE","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"There are multiple structured objects which can be accessed using an `object.attribute`-syntax. For example, this query yields\nfour columns of which the first two and the second two are exactly equal:\n\n    select payee as n1, entry.payee as n2, number as u1, position.units.number as u2 from date > 2025-11-01 \n\nWhat is the rationale between this duplication. It seems like the project can't really decide whether it wants a functional interface, were we apply a large set of functions to types to get our values (like `currency(units(position))`) or an object-oriented interface, where we use an attribute to get properties of objects like `postings.units.currency`.\n\nCurrently, both syntaxes are valid in beanquery. What is the intended direction of this? ","closed_by":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/beancount/beanquery/issues/267/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beanquery/issues/267/timeline","performed_via_github_app":null,"state_reason":"completed"},{"url":"https://api.github.com/repos/beancount/beanquery/issues/266","repository_url":"https://api.github.com/repos/beancount/beanquery","labels_url":"https://api.github.com/repos/beancount/beanquery/issues/266/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beanquery/issues/266/comments","events_url":"https://api.github.com/repos/beancount/beanquery/issues/266/events","html_url":"https://github.com/beancount/beanquery/pull/266","id":3712560124,"node_id":"PR_kwDOFUEJF864AOsp","number":266,"title":"Render ProgrammingError, CompilationError and ParserError alway user-friendly","user":{"login":"mlell","id":16210594,"node_id":"MDQ6VXNlcjE2MjEwNTk0","avatar_url":"https://avatars.githubusercontent.com/u/16210594?v=4","gravatar_id":"","url":"https://api.github.com/users/mlell","html_url":"https://github.com/mlell","followers_url":"https://api.github.com/users/mlell/followers","following_url":"https://api.github.com/users/mlell/following{/other_user}","gists_url":"https://api.github.com/users/mlell/gists{/gist_id}","starred_url":"https://api.github.com/users/mlell/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mlell/subscriptions","organizations_url":"https://api.github.com/users/mlell/orgs","repos_url":"https://api.github.com/users/mlell/repos","events_url":"https://api.github.com/users/mlell/events{/privacy}","received_events_url":"https://api.github.com/users/mlell/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"open","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":0,"created_at":"2025-12-09T20:34:21Z","updated_at":"2025-12-09T20:34:21Z","closed_at":null,"author_association":"NONE","type":null,"active_lock_reason":null,"draft":false,"pull_request":{"url":"https://api.github.com/repos/beancount/beanquery/pulls/266","html_url":"https://github.com/beancount/beanquery/pull/266","diff_url":"https://github.com/beancount/beanquery/pull/266.diff","patch_url":"https://github.com/beancount/beanquery/pull/266.patch","merged_at":null},"body":"This should fix #261.\r\n\r\nChange `render_exception()` so that it does not show a stack trace if no AST node information is provided to CompilationError.\r\n\r\nAlso, do not print a stack trace for `ProgrammingError`s, as these are also errors committed by the user and therefore should have a nice error message without a stack trace.","closed_by":null,"reactions":{"url":"https://api.github.com/repos/beancount/beanquery/issues/266/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beanquery/issues/266/timeline","performed_via_github_app":null,"state_reason":null},{"url":"https://api.github.com/repos/beancount/beanquery/issues/265","repository_url":"https://api.github.com/repos/beancount/beanquery","labels_url":"https://api.github.com/repos/beancount/beanquery/issues/265/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beanquery/issues/265/comments","events_url":"https://api.github.com/repos/beancount/beanquery/issues/265/events","html_url":"https://github.com/beancount/beanquery/pull/265","id":3712076495,"node_id":"PR_kwDOFUEJF863-lip","number":265,"title":"GROUP BY CUBE / ROLLUP / GROUPING SETS","user":{"login":"mlell","id":16210594,"node_id":"MDQ6VXNlcjE2MjEwNTk0","avatar_url":"https://avatars.githubusercontent.com/u/16210594?v=4","gravatar_id":"","url":"https://api.github.com/users/mlell","html_url":"https://github.com/mlell","followers_url":"https://api.github.com/users/mlell/followers","following_url":"https://api.github.com/users/mlell/following{/other_user}","gists_url":"https://api.github.com/users/mlell/gists{/gist_id}","starred_url":"https://api.github.com/users/mlell/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mlell/subscriptions","organizations_url":"https://api.github.com/users/mlell/orgs","repos_url":"https://api.github.com/users/mlell/repos","events_url":"https://api.github.com/users/mlell/events{/privacy}","received_events_url":"https://api.github.com/users/mlell/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"open","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":3,"created_at":"2025-12-09T18:08:32Z","updated_at":"2025-12-28T13:39:19Z","closed_at":null,"author_association":"NONE","type":null,"active_lock_reason":null,"draft":false,"pull_request":{"url":"https://api.github.com/repos/beancount/beanquery/pulls/265","html_url":"https://github.com/beancount/beanquery/pull/265","diff_url":"https://github.com/beancount/beanquery/pull/265.diff","patch_url":"https://github.com/beancount/beanquery/pull/265.patch","merged_at":null},"body":"This implements the SQL GROUP BY modifiers `CUBE`, `ROLLUP`, and `GROUPING SETS`, which allow to add subtotals to the output. For me, this is very useful to produce, for example monthly reports of income vs. expenses, where the row `(Total)` tells me the net gain/loss of the month:\r\n\r\n```\r\nbeanquery> select yearmonth(date) as month, account, sum(position) where account !~ \"Assets\"  group by cube (account,month) \r\npivot by account,month\r\n  account/month      2024-02-01    2024-03-01    2024-04-01      (Total)   \r\n------------------  ------------  ------------  ------------  -------------\r\nExpenses:Dining                     120.50 USD     45.25 USD     165.75 USD\r\nExpenses:Groceries    250.00 USD    310.75 USD    275.60 USD     836.35 USD\r\nIncome:Salary       -5000.00 USD  -5000.00 USD  -5000.00 USD  -15000.00 USD\r\n(Total)             -4750.00 USD  -4568.75 USD  -4679.15 USD  -13997.90 USD\r\n```\r\n\r\nWhat do you think of this? ","closed_by":null,"reactions":{"url":"https://api.github.com/repos/beancount/beanquery/issues/265/reactions","total_count":1,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":1,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beanquery/issues/265/timeline","performed_via_github_app":null,"state_reason":null},{"url":"https://api.github.com/repos/beancount/beanquery/issues/264","repository_url":"https://api.github.com/repos/beancount/beanquery","labels_url":"https://api.github.com/repos/beancount/beanquery/issues/264/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beanquery/issues/264/comments","events_url":"https://api.github.com/repos/beancount/beanquery/issues/264/events","html_url":"https://github.com/beancount/beanquery/pull/264","id":3621467835,"node_id":"PR_kwDOFUEJF86zPa5D","number":264,"title":"Allow any()/all() on LHS to allow ANY(set) ~ pattern","user":{"login":"mlell","id":16210594,"node_id":"MDQ6VXNlcjE2MjEwNTk0","avatar_url":"https://avatars.githubusercontent.com/u/16210594?v=4","gravatar_id":"","url":"https://api.github.com/users/mlell","html_url":"https://github.com/mlell","followers_url":"https://api.github.com/users/mlell/followers","following_url":"https://api.github.com/users/mlell/following{/other_user}","gists_url":"https://api.github.com/users/mlell/gists{/gist_id}","starred_url":"https://api.github.com/users/mlell/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mlell/subscriptions","organizations_url":"https://api.github.com/users/mlell/orgs","repos_url":"https://api.github.com/users/mlell/repos","events_url":"https://api.github.com/users/mlell/events{/privacy}","received_events_url":"https://api.github.com/users/mlell/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"open","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":2,"created_at":"2025-11-13T14:28:43Z","updated_at":"2025-11-17T09:09:58Z","closed_at":null,"author_association":"NONE","type":null,"active_lock_reason":null,"draft":false,"pull_request":{"url":"https://api.github.com/repos/beancount/beanquery/pulls/264","html_url":"https://github.com/beancount/beanquery/pull/264","diff_url":"https://github.com/beancount/beanquery/pull/264.diff","patch_url":"https://github.com/beancount/beanquery/pull/264.patch","merged_at":null},"body":" There were two matching operators:\r\n    \r\n  * subject ~ pattern   (case-insensitive)\r\n  * pattern ?~ subject  (case-sensitive)\r\n \r\nThis is somewhat confusing for newcomers. The reason maybe is that it allows for this:\r\n    \r\n    SELECT * WHERE \"Assets:\" ?~ ANY(accounts)\r\n \r\nwhich is used for example by the function `has_account` by AST transformation. The ANY operator so far was only allowed on the RHS, therefore `~` could not be used for the above example. This commit extends it, so it can be used on either side, allowing for\r\n    \r\n    SELECT WHERE ANY(accounts) ~ \"Assets:\"\r\n\r\nTests pass, also subqueries within any() are still possible! \r\n\r\nMoreover, this Pull request solves the issue that some columns are `@register`ed for the type `typing.Set[str]` but some functions/operators are registered for  `set`, which did not match. They do now, making functions more flexibly applicable\r\n","closed_by":null,"reactions":{"url":"https://api.github.com/repos/beancount/beanquery/issues/264/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beanquery/issues/264/timeline","performed_via_github_app":null,"state_reason":null},{"url":"https://api.github.com/repos/beancount/beanquery/issues/263","repository_url":"https://api.github.com/repos/beancount/beanquery","labels_url":"https://api.github.com/repos/beancount/beanquery/issues/263/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beanquery/issues/263/comments","events_url":"https://api.github.com/repos/beancount/beanquery/issues/263/events","html_url":"https://github.com/beancount/beanquery/pull/263","id":3594680351,"node_id":"PR_kwDOFUEJF86x1w62","number":263,"title":"Improve function help by grouping by function type","user":{"login":"mlell","id":16210594,"node_id":"MDQ6VXNlcjE2MjEwNTk0","avatar_url":"https://avatars.githubusercontent.com/u/16210594?v=4","gravatar_id":"","url":"https://api.github.com/users/mlell","html_url":"https://github.com/mlell","followers_url":"https://api.github.com/users/mlell/followers","following_url":"https://api.github.com/users/mlell/following{/other_user}","gists_url":"https://api.github.com/users/mlell/gists{/gist_id}","starred_url":"https://api.github.com/users/mlell/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mlell/subscriptions","organizations_url":"https://api.github.com/users/mlell/orgs","repos_url":"https://api.github.com/users/mlell/repos","events_url":"https://api.github.com/users/mlell/events{/privacy}","received_events_url":"https://api.github.com/users/mlell/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"open","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":6,"created_at":"2025-11-06T08:26:18Z","updated_at":"2026-01-03T09:04:24Z","closed_at":null,"author_association":"NONE","type":null,"active_lock_reason":null,"draft":false,"pull_request":{"url":"https://api.github.com/repos/beancount/beanquery/pulls/263","html_url":"https://github.com/beancount/beanquery/pull/263","diff_url":"https://github.com/beancount/beanquery/pull/263.diff","patch_url":"https://github.com/beancount/beanquery/pull/263.patch","merged_at":null},"body":"As someone new to beancount, I found the function documentation really hard to navigate. The old `help functions` dumped everything on screen at once, which was overwhelming. While developing a BQL query, I found myself looking for functions to transform certain argument types, however I just had an alphabetical function list. (Re-open of #262)\r\n\r\n## What I changed:\r\n\r\n**Progressive disclosure**: \r\n- `help functions` now shows just a category overview (takes ~10 lines instead of 100+) and explains custom object types\r\n- `help functions amount` shows only amount-related functions, same for `date`, `position`, `atomic`,...\r\n\r\n**Better function docs**:\r\n- Added argument explanations to some functions (the old docs assumed you knew what arguments meant)\r\n- Example: `grep(pattern, string)` now explains \"pattern\" is a regex and \"string\" is input text\r\n- Examples on some types, e.g. `Position` is something like  `10 HOOL {100.30 USD}`\r\n\r\n**Technical implementation**:\r\n- Query functions are grouped according to their first argument's type by `_describe_function()`.\r\n- In addition, the decorators `@function`, `@register` and `@aggregator` take a `group=` argument to refine (e.g. for account names, which are strings)\r\n\r\nThe main benefit is you can find functions now much easier without scrolling through pages of text. When I started with beancount, I had no idea what functions were available or how to use them - I hope this makes it easier.","closed_by":null,"reactions":{"url":"https://api.github.com/repos/beancount/beanquery/issues/263/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beanquery/issues/263/timeline","performed_via_github_app":null,"state_reason":null},{"url":"https://api.github.com/repos/beancount/beanquery/issues/262","repository_url":"https://api.github.com/repos/beancount/beanquery","labels_url":"https://api.github.com/repos/beancount/beanquery/issues/262/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beanquery/issues/262/comments","events_url":"https://api.github.com/repos/beancount/beanquery/issues/262/events","html_url":"https://github.com/beancount/beanquery/pull/262","id":3594350663,"node_id":"PR_kwDOFUEJF86x0ooX","number":262,"title":"Improve function help by grouping by function type","user":{"login":"mlell","id":16210594,"node_id":"MDQ6VXNlcjE2MjEwNTk0","avatar_url":"https://avatars.githubusercontent.com/u/16210594?v=4","gravatar_id":"","url":"https://api.github.com/users/mlell","html_url":"https://github.com/mlell","followers_url":"https://api.github.com/users/mlell/followers","following_url":"https://api.github.com/users/mlell/following{/other_user}","gists_url":"https://api.github.com/users/mlell/gists{/gist_id}","starred_url":"https://api.github.com/users/mlell/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mlell/subscriptions","organizations_url":"https://api.github.com/users/mlell/orgs","repos_url":"https://api.github.com/users/mlell/repos","events_url":"https://api.github.com/users/mlell/events{/privacy}","received_events_url":"https://api.github.com/users/mlell/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":1,"created_at":"2025-11-06T06:43:20Z","updated_at":"2025-11-06T08:24:24Z","closed_at":"2025-11-06T08:24:24Z","author_association":"NONE","type":null,"active_lock_reason":null,"draft":false,"pull_request":{"url":"https://api.github.com/repos/beancount/beanquery/pulls/262","html_url":"https://github.com/beancount/beanquery/pull/262","diff_url":"https://github.com/beancount/beanquery/pull/262.diff","patch_url":"https://github.com/beancount/beanquery/pull/262.patch","merged_at":null},"body":"\r\nAs someone new to beancount, I found the function documentation really hard to navigate. The old `help functions` dumped everything on screen at once, which was overwhelming. While developing a BQL query, I found myself looking for functions to transform certain argument types, however I just had an alphabetical function list. \r\n\r\n## What I changed:\r\n\r\n**Progressive disclosure**: \r\n- `help functions` now shows just a category overview (takes ~10 lines instead of 100+) and explains custom object types\r\n- `help functions amount` shows only amount-related functions, same for `date`, `position`, `atomic`,...\r\n\r\n**Better function docs**:\r\n- Added argument explanations to some functions (the old docs assumed you knew what arguments meant)\r\n- Example: `grep(pattern, string)` now explains \"pattern\" is a regex and \"string\" is input text\r\n- Examples on some types, e.g. `Position` is something like  `10 HOOL {100.30 USD}`\r\n\r\n**Technical implementation**:\r\n- Query functions are grouped according to their first argument's type by `_describe_function()`.\r\n- In addition, the decorators `@function`, `@register` and `@aggregator` take a `group=` argument to refine (e.g. for account names, which are strings)\r\n\r\nThe main benefit is you can find functions now much easier without scrolling through pages of text. When I started with beancount, I had no idea what functions were available or how to use them - I hope this makes it easier.","closed_by":{"login":"mlell","id":16210594,"node_id":"MDQ6VXNlcjE2MjEwNTk0","avatar_url":"https://avatars.githubusercontent.com/u/16210594?v=4","gravatar_id":"","url":"https://api.github.com/users/mlell","html_url":"https://github.com/mlell","followers_url":"https://api.github.com/users/mlell/followers","following_url":"https://api.github.com/users/mlell/following{/other_user}","gists_url":"https://api.github.com/users/mlell/gists{/gist_id}","starred_url":"https://api.github.com/users/mlell/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mlell/subscriptions","organizations_url":"https://api.github.com/users/mlell/orgs","repos_url":"https://api.github.com/users/mlell/repos","events_url":"https://api.github.com/users/mlell/events{/privacy}","received_events_url":"https://api.github.com/users/mlell/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/beancount/beanquery/issues/262/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beanquery/issues/262/timeline","performed_via_github_app":null,"state_reason":null},{"url":"https://api.github.com/repos/beancount/beanquery/issues/261","repository_url":"https://api.github.com/repos/beancount/beanquery","labels_url":"https://api.github.com/repos/beancount/beanquery/issues/261/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beanquery/issues/261/comments","events_url":"https://api.github.com/repos/beancount/beanquery/issues/261/events","html_url":"https://github.com/beancount/beanquery/issues/261","id":3538855678,"node_id":"I_kwDOFUEJF87S7qb-","number":261,"title":"Give better error: all non-aggregates must be covered by GROUP-BY clause","user":{"login":"tbm","id":1556037,"node_id":"MDQ6VXNlcjE1NTYwMzc=","avatar_url":"https://avatars.githubusercontent.com/u/1556037?v=4","gravatar_id":"","url":"https://api.github.com/users/tbm","html_url":"https://github.com/tbm","followers_url":"https://api.github.com/users/tbm/followers","following_url":"https://api.github.com/users/tbm/following{/other_user}","gists_url":"https://api.github.com/users/tbm/gists{/gist_id}","starred_url":"https://api.github.com/users/tbm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tbm/subscriptions","organizations_url":"https://api.github.com/users/tbm/orgs","repos_url":"https://api.github.com/users/tbm/repos","events_url":"https://api.github.com/users/tbm/events{/privacy}","received_events_url":"https://api.github.com/users/tbm/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"open","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":1,"created_at":"2025-10-22T02:19:20Z","updated_at":"2025-12-09T20:35:32Z","closed_at":null,"author_association":"CONTRIBUTOR","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"```\nbeanquery> SELECT account, SUM(CONVERT(position, 'USD', date)), balance WHERE account ~ \"Expenses:\" AND '2025-08-31-bangkok-thailand' in links GROUP BY 1 ORDER BY 1\nerror: \nTraceback (most recent call last):\n  File \"/home/tbm/.local/lib/python3.11/site-packages/beanquery/shell.py\", line 244, in cmdloop\n...\n    raise CompilationError(\nbeanquery.compiler.CompilationError: all non-aggregates must be covered by GROUP-BY clause in aggregate query: the following targets are missing: \"balance\"\n```\n\nwoud be nice to get an error instead of a backtrace.","closed_by":null,"reactions":{"url":"https://api.github.com/repos/beancount/beanquery/issues/261/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beanquery/issues/261/timeline","performed_via_github_app":null,"state_reason":null},{"url":"https://api.github.com/repos/beancount/beanquery/issues/260","repository_url":"https://api.github.com/repos/beancount/beanquery","labels_url":"https://api.github.com/repos/beancount/beanquery/issues/260/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beanquery/issues/260/comments","events_url":"https://api.github.com/repos/beancount/beanquery/issues/260/events","html_url":"https://github.com/beancount/beanquery/pull/260","id":3521818168,"node_id":"PR_kwDOFUEJF86uFUIG","number":260,"title":"Allow to INSERT multiple records","user":{"login":"dnicolodi","id":987145,"node_id":"MDQ6VXNlcjk4NzE0NQ==","avatar_url":"https://avatars.githubusercontent.com/u/987145?v=4","gravatar_id":"","url":"https://api.github.com/users/dnicolodi","html_url":"https://github.com/dnicolodi","followers_url":"https://api.github.com/users/dnicolodi/followers","following_url":"https://api.github.com/users/dnicolodi/following{/other_user}","gists_url":"https://api.github.com/users/dnicolodi/gists{/gist_id}","starred_url":"https://api.github.com/users/dnicolodi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dnicolodi/subscriptions","organizations_url":"https://api.github.com/users/dnicolodi/orgs","repos_url":"https://api.github.com/users/dnicolodi/repos","events_url":"https://api.github.com/users/dnicolodi/events{/privacy}","received_events_url":"https://api.github.com/users/dnicolodi/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"open","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":0,"created_at":"2025-10-16T13:06:52Z","updated_at":"2025-10-16T15:21:37Z","closed_at":null,"author_association":"COLLABORATOR","type":null,"active_lock_reason":null,"draft":false,"pull_request":{"url":"https://api.github.com/repos/beancount/beanquery/pulls/260","html_url":"https://github.com/beancount/beanquery/pull/260","diff_url":"https://github.com/beancount/beanquery/pull/260.diff","patch_url":"https://github.com/beancount/beanquery/pull/260.patch","merged_at":null},"body":null,"closed_by":null,"reactions":{"url":"https://api.github.com/repos/beancount/beanquery/issues/260/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beanquery/issues/260/timeline","performed_via_github_app":null,"state_reason":null},{"url":"https://api.github.com/repos/beancount/beanquery/issues/259","repository_url":"https://api.github.com/repos/beancount/beanquery","labels_url":"https://api.github.com/repos/beancount/beanquery/issues/259/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beanquery/issues/259/comments","events_url":"https://api.github.com/repos/beancount/beanquery/issues/259/events","html_url":"https://github.com/beancount/beanquery/pull/259","id":3271220426,"node_id":"PR_kwDOFUEJF86hDNpj","number":259,"title":"pyproject: Adopt License-Expression (PEP 639) ","user":{"login":"dnicolodi","id":987145,"node_id":"MDQ6VXNlcjk4NzE0NQ==","avatar_url":"https://avatars.githubusercontent.com/u/987145?v=4","gravatar_id":"","url":"https://api.github.com/users/dnicolodi","html_url":"https://github.com/dnicolodi","followers_url":"https://api.github.com/users/dnicolodi/followers","following_url":"https://api.github.com/users/dnicolodi/following{/other_user}","gists_url":"https://api.github.com/users/dnicolodi/gists{/gist_id}","starred_url":"https://api.github.com/users/dnicolodi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dnicolodi/subscriptions","organizations_url":"https://api.github.com/users/dnicolodi/orgs","repos_url":"https://api.github.com/users/dnicolodi/repos","events_url":"https://api.github.com/users/dnicolodi/events{/privacy}","received_events_url":"https://api.github.com/users/dnicolodi/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":0,"created_at":"2025-07-28T20:16:39Z","updated_at":"2025-07-28T22:50:11Z","closed_at":"2025-07-28T22:50:11Z","author_association":"COLLABORATOR","type":null,"active_lock_reason":null,"draft":false,"pull_request":{"url":"https://api.github.com/repos/beancount/beanquery/pulls/259","html_url":"https://github.com/beancount/beanquery/pull/259","diff_url":"https://github.com/beancount/beanquery/pull/259.diff","patch_url":"https://github.com/beancount/beanquery/pull/259.patch","merged_at":"2025-07-28T22:50:11Z"},"body":"Replaces #258","closed_by":{"login":"dnicolodi","id":987145,"node_id":"MDQ6VXNlcjk4NzE0NQ==","avatar_url":"https://avatars.githubusercontent.com/u/987145?v=4","gravatar_id":"","url":"https://api.github.com/users/dnicolodi","html_url":"https://github.com/dnicolodi","followers_url":"https://api.github.com/users/dnicolodi/followers","following_url":"https://api.github.com/users/dnicolodi/following{/other_user}","gists_url":"https://api.github.com/users/dnicolodi/gists{/gist_id}","starred_url":"https://api.github.com/users/dnicolodi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dnicolodi/subscriptions","organizations_url":"https://api.github.com/users/dnicolodi/orgs","repos_url":"https://api.github.com/users/dnicolodi/repos","events_url":"https://api.github.com/users/dnicolodi/events{/privacy}","received_events_url":"https://api.github.com/users/dnicolodi/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/beancount/beanquery/issues/259/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beanquery/issues/259/timeline","performed_via_github_app":null,"state_reason":null},{"url":"https://api.github.com/repos/beancount/beanquery/issues/258","repository_url":"https://api.github.com/repos/beancount/beanquery","labels_url":"https://api.github.com/repos/beancount/beanquery/issues/258/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beanquery/issues/258/comments","events_url":"https://api.github.com/repos/beancount/beanquery/issues/258/events","html_url":"https://github.com/beancount/beanquery/pull/258","id":3267109290,"node_id":"PR_kwDOFUEJF86g1JS-","number":258,"title":"pyproject.toml: use SPDX identifier to describe license","user":{"login":"zacchiro","id":216766,"node_id":"MDQ6VXNlcjIxNjc2Ng==","avatar_url":"https://avatars.githubusercontent.com/u/216766?v=4","gravatar_id":"","url":"https://api.github.com/users/zacchiro","html_url":"https://github.com/zacchiro","followers_url":"https://api.github.com/users/zacchiro/followers","following_url":"https://api.github.com/users/zacchiro/following{/other_user}","gists_url":"https://api.github.com/users/zacchiro/gists{/gist_id}","starred_url":"https://api.github.com/users/zacchiro/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/zacchiro/subscriptions","organizations_url":"https://api.github.com/users/zacchiro/orgs","repos_url":"https://api.github.com/users/zacchiro/repos","events_url":"https://api.github.com/users/zacchiro/events{/privacy}","received_events_url":"https://api.github.com/users/zacchiro/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":3,"created_at":"2025-07-27T13:35:14Z","updated_at":"2025-07-29T06:37:47Z","closed_at":"2025-07-28T22:51:52Z","author_association":"CONTRIBUTOR","type":null,"active_lock_reason":null,"draft":false,"pull_request":{"url":"https://api.github.com/repos/beancount/beanquery/pulls/258","html_url":"https://github.com/beancount/beanquery/pull/258","diff_url":"https://github.com/beancount/beanquery/pull/258.diff","patch_url":"https://github.com/beancount/beanquery/pull/258.patch","merged_at":null},"body":"Rationale: by specifying the license as a file (like before), the full text of the license is included in the package metadata, and shown in various places, e.g., in the output of `pip show`, which is quite cumbersome. With this change, we use the alternative way of specifying license (namely: using a standard SPDX identifier), which makes license metadata concise and, incidentally, also machine readable.","closed_by":{"login":"dnicolodi","id":987145,"node_id":"MDQ6VXNlcjk4NzE0NQ==","avatar_url":"https://avatars.githubusercontent.com/u/987145?v=4","gravatar_id":"","url":"https://api.github.com/users/dnicolodi","html_url":"https://github.com/dnicolodi","followers_url":"https://api.github.com/users/dnicolodi/followers","following_url":"https://api.github.com/users/dnicolodi/following{/other_user}","gists_url":"https://api.github.com/users/dnicolodi/gists{/gist_id}","starred_url":"https://api.github.com/users/dnicolodi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dnicolodi/subscriptions","organizations_url":"https://api.github.com/users/dnicolodi/orgs","repos_url":"https://api.github.com/users/dnicolodi/repos","events_url":"https://api.github.com/users/dnicolodi/events{/privacy}","received_events_url":"https://api.github.com/users/dnicolodi/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/beancount/beanquery/issues/258/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beanquery/issues/258/timeline","performed_via_github_app":null,"state_reason":null},{"url":"https://api.github.com/repos/beancount/beanquery/issues/257","repository_url":"https://api.github.com/repos/beancount/beanquery","labels_url":"https://api.github.com/repos/beancount/beanquery/issues/257/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beanquery/issues/257/comments","events_url":"https://api.github.com/repos/beancount/beanquery/issues/257/events","html_url":"https://github.com/beancount/beanquery/issues/257","id":3212815434,"node_id":"I_kwDOFUEJF86_f6xK","number":257,"title":"Better error messages when `beancount` format does not apply","user":{"login":"tbm","id":1556037,"node_id":"MDQ6VXNlcjE1NTYwMzc=","avatar_url":"https://avatars.githubusercontent.com/u/1556037?v=4","gravatar_id":"","url":"https://api.github.com/users/tbm","html_url":"https://github.com/tbm","followers_url":"https://api.github.com/users/tbm/followers","following_url":"https://api.github.com/users/tbm/following{/other_user}","gists_url":"https://api.github.com/users/tbm/gists{/gist_id}","starred_url":"https://api.github.com/users/tbm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tbm/subscriptions","organizations_url":"https://api.github.com/users/tbm/orgs","repos_url":"https://api.github.com/users/tbm/repos","events_url":"https://api.github.com/users/tbm/events{/privacy}","received_events_url":"https://api.github.com/users/tbm/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"open","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":5,"created_at":"2025-07-08T14:40:49Z","updated_at":"2025-07-15T02:06:05Z","closed_at":null,"author_association":"CONTRIBUTOR","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"It's late and maybe I'm doing something wrong but I get a Python syntax error with `.format beancount``:\n\n```\nbeanquery> .format beancount\nbeanquery> SELECT date, META(\"receipt\")  WHERE account ~ \"^Expenses:\" \n```\n\ngives me:\n\n```\n  File \"/home/tbm/.local/lib/python3.11/site-packages/beanquery/render/beancount.py\", line 11, in render\n    return printer.print_entries([entry for entry, in rows], dcontext, file=file)\n                                 ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/tbm/.local/lib/python3.11/site-packages/beanquery/render/beancount.py\", line 11, in <listcomp>\n    return printer.print_entries([entry for entry, in rows], dcontext, file=file)\n                                            ^^^^^^\nValueError: too many values to unpack (expected 1)\n```\n\nAfter removing the comma after `entry,`, I get the following (note that I'm on beancount 2.x):\n\n```\n  File \"/home/tbm/.local/lib/python3.11/site-packages/beanquery/shell.py\", line 595, in on_Select\n    return render(desc, rows, out, dcontext=dcontext, **self.settings.todict())\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/tbm/.local/lib/python3.11/site-packages/beanquery/render/beancount.py\", line 11, in render\n    return printer.print_entries([entry for entry in rows], dcontext, file=file)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/tbm/.local/lib/python3.11/site-packages/beancount/parser/printer.py\", line 423, in print_entries\n    string = eprinter(entry)\n             ^^^^^^^^^^^^^^^\n  File \"/home/tbm/.local/lib/python3.11/site-packages/beancount/parser/printer.py\", line 123, in __call__\n    method = getattr(self, obj.__class__.__name__)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\nAttributeError: 'EntryPrinter' object has no attribute 'tuple'\n```\n\n```\nbean-query --version\nbeanquery 0.3.0.dev0, beancount 2.3.6\n```","closed_by":null,"reactions":{"url":"https://api.github.com/repos/beancount/beanquery/issues/257/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beanquery/issues/257/timeline","performed_via_github_app":null,"state_reason":null},{"url":"https://api.github.com/repos/beancount/beanquery/issues/256","repository_url":"https://api.github.com/repos/beancount/beanquery","labels_url":"https://api.github.com/repos/beancount/beanquery/issues/256/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beanquery/issues/256/comments","events_url":"https://api.github.com/repos/beancount/beanquery/issues/256/events","html_url":"https://github.com/beancount/beanquery/issues/256","id":3120701058,"node_id":"I_kwDOFUEJF866Ah6C","number":256,"title":"publish v.0.3.0 pre-release","user":{"login":"alensiljak","id":462445,"node_id":"MDQ6VXNlcjQ2MjQ0NQ==","avatar_url":"https://avatars.githubusercontent.com/u/462445?v=4","gravatar_id":"","url":"https://api.github.com/users/alensiljak","html_url":"https://github.com/alensiljak","followers_url":"https://api.github.com/users/alensiljak/followers","following_url":"https://api.github.com/users/alensiljak/following{/other_user}","gists_url":"https://api.github.com/users/alensiljak/gists{/gist_id}","starred_url":"https://api.github.com/users/alensiljak/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/alensiljak/subscriptions","organizations_url":"https://api.github.com/users/alensiljak/orgs","repos_url":"https://api.github.com/users/alensiljak/repos","events_url":"https://api.github.com/users/alensiljak/events{/privacy}","received_events_url":"https://api.github.com/users/alensiljak/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":3,"created_at":"2025-06-05T10:37:13Z","updated_at":"2025-06-05T14:30:35Z","closed_at":"2025-06-05T12:45:48Z","author_association":"CONTRIBUTOR","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"Would it be worthwhile already to release the current master branch as a packaged prerelease version? It would make the installation simpler on devices that are not used for development.","closed_by":{"login":"alensiljak","id":462445,"node_id":"MDQ6VXNlcjQ2MjQ0NQ==","avatar_url":"https://avatars.githubusercontent.com/u/462445?v=4","gravatar_id":"","url":"https://api.github.com/users/alensiljak","html_url":"https://github.com/alensiljak","followers_url":"https://api.github.com/users/alensiljak/followers","following_url":"https://api.github.com/users/alensiljak/following{/other_user}","gists_url":"https://api.github.com/users/alensiljak/gists{/gist_id}","starred_url":"https://api.github.com/users/alensiljak/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/alensiljak/subscriptions","organizations_url":"https://api.github.com/users/alensiljak/orgs","repos_url":"https://api.github.com/users/alensiljak/repos","events_url":"https://api.github.com/users/alensiljak/events{/privacy}","received_events_url":"https://api.github.com/users/alensiljak/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/beancount/beanquery/issues/256/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beanquery/issues/256/timeline","performed_via_github_app":null,"state_reason":"completed"},{"url":"https://api.github.com/repos/beancount/beanquery/issues/255","repository_url":"https://api.github.com/repos/beancount/beanquery","labels_url":"https://api.github.com/repos/beancount/beanquery/issues/255/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beanquery/issues/255/comments","events_url":"https://api.github.com/repos/beancount/beanquery/issues/255/events","html_url":"https://github.com/beancount/beanquery/issues/255","id":3097576271,"node_id":"I_kwDOFUEJF864oUNP","number":255,"title":"REST API server","user":{"login":"alensiljak","id":462445,"node_id":"MDQ6VXNlcjQ2MjQ0NQ==","avatar_url":"https://avatars.githubusercontent.com/u/462445?v=4","gravatar_id":"","url":"https://api.github.com/users/alensiljak","html_url":"https://github.com/alensiljak","followers_url":"https://api.github.com/users/alensiljak/followers","following_url":"https://api.github.com/users/alensiljak/following{/other_user}","gists_url":"https://api.github.com/users/alensiljak/gists{/gist_id}","starred_url":"https://api.github.com/users/alensiljak/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/alensiljak/subscriptions","organizations_url":"https://api.github.com/users/alensiljak/orgs","repos_url":"https://api.github.com/users/alensiljak/repos","events_url":"https://api.github.com/users/alensiljak/events{/privacy}","received_events_url":"https://api.github.com/users/alensiljak/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"open","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":2,"created_at":"2025-05-28T14:23:11Z","updated_at":"2025-07-02T04:57:10Z","closed_at":null,"author_association":"CONTRIBUTOR","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"Since I'm converting the Cashier Sync Server to use Beoncount data, the thought naturally comes to me. Would it make sense to have the same thing directly in bean-query?\nIt could run in server mode with a REST API or this could be a separate component.\nDoes anyone else find this useful?\n","closed_by":null,"reactions":{"url":"https://api.github.com/repos/beancount/beanquery/issues/255/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beanquery/issues/255/timeline","performed_via_github_app":null,"state_reason":null},{"url":"https://api.github.com/repos/beancount/beanquery/issues/254","repository_url":"https://api.github.com/repos/beancount/beanquery","labels_url":"https://api.github.com/repos/beancount/beanquery/issues/254/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beanquery/issues/254/comments","events_url":"https://api.github.com/repos/beancount/beanquery/issues/254/events","html_url":"https://github.com/beancount/beanquery/issues/254","id":3096754989,"node_id":"I_kwDOFUEJF864lLst","number":254,"title":"Tracking balance for inventories results in long processing time and large memory consumption","user":{"login":"alensiljak","id":462445,"node_id":"MDQ6VXNlcjQ2MjQ0NQ==","avatar_url":"https://avatars.githubusercontent.com/u/462445?v=4","gravatar_id":"","url":"https://api.github.com/users/alensiljak","html_url":"https://github.com/alensiljak","followers_url":"https://api.github.com/users/alensiljak/followers","following_url":"https://api.github.com/users/alensiljak/following{/other_user}","gists_url":"https://api.github.com/users/alensiljak/gists{/gist_id}","starred_url":"https://api.github.com/users/alensiljak/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/alensiljak/subscriptions","organizations_url":"https://api.github.com/users/alensiljak/orgs","repos_url":"https://api.github.com/users/alensiljak/repos","events_url":"https://api.github.com/users/alensiljak/events{/privacy}","received_events_url":"https://api.github.com/users/alensiljak/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":16,"created_at":"2025-05-28T09:51:30Z","updated_at":"2025-06-19T09:08:35Z","closed_at":"2025-06-19T09:08:35Z","author_association":"CONTRIBUTOR","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"Related to #250.\n\nWeird! Using str() for position seems ok. But adding it to balance causes a memory leak. The process is going on for a while and keeps consuming memory. It went past 700MB after about a minute or so.\nRemoving str(balance) makes things work fine again.\n\nThis is ok\n```\nGET {{server}}/?query=select date, account, str(position), balance WHERE account ~ '^Assets:' LIMIT 10\n```\nThis is not.\n```\nGET {{server}}/?query=select date, account, str(position), str(balance) WHERE account ~ '^Assets:' LIMIT 10\n```\n\nTo rule out the issues with the server itself, I've run the queries in bean-query and the results are the same.\n\nEdit:\nThe query eventually completes, so it is not hanging, at least.\n\n# Technical Details\n\nPython 3.13.3\nWindows","closed_by":{"login":"alensiljak","id":462445,"node_id":"MDQ6VXNlcjQ2MjQ0NQ==","avatar_url":"https://avatars.githubusercontent.com/u/462445?v=4","gravatar_id":"","url":"https://api.github.com/users/alensiljak","html_url":"https://github.com/alensiljak","followers_url":"https://api.github.com/users/alensiljak/followers","following_url":"https://api.github.com/users/alensiljak/following{/other_user}","gists_url":"https://api.github.com/users/alensiljak/gists{/gist_id}","starred_url":"https://api.github.com/users/alensiljak/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/alensiljak/subscriptions","organizations_url":"https://api.github.com/users/alensiljak/orgs","repos_url":"https://api.github.com/users/alensiljak/repos","events_url":"https://api.github.com/users/alensiljak/events{/privacy}","received_events_url":"https://api.github.com/users/alensiljak/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/beancount/beanquery/issues/254/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beanquery/issues/254/timeline","performed_via_github_app":null,"state_reason":"completed"},{"url":"https://api.github.com/repos/beancount/beanquery/issues/253","repository_url":"https://api.github.com/repos/beancount/beanquery","labels_url":"https://api.github.com/repos/beancount/beanquery/issues/253/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beanquery/issues/253/comments","events_url":"https://api.github.com/repos/beancount/beanquery/issues/253/events","html_url":"https://github.com/beancount/beanquery/issues/253","id":3096598753,"node_id":"I_kwDOFUEJF864kljh","number":253,"title":"Totals summary?","user":{"login":"alensiljak","id":462445,"node_id":"MDQ6VXNlcjQ2MjQ0NQ==","avatar_url":"https://avatars.githubusercontent.com/u/462445?v=4","gravatar_id":"","url":"https://api.github.com/users/alensiljak","html_url":"https://github.com/alensiljak","followers_url":"https://api.github.com/users/alensiljak/followers","following_url":"https://api.github.com/users/alensiljak/following{/other_user}","gists_url":"https://api.github.com/users/alensiljak/gists{/gist_id}","starred_url":"https://api.github.com/users/alensiljak/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/alensiljak/subscriptions","organizations_url":"https://api.github.com/users/alensiljak/orgs","repos_url":"https://api.github.com/users/alensiljak/repos","events_url":"https://api.github.com/users/alensiljak/events{/privacy}","received_events_url":"https://api.github.com/users/alensiljak/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"open","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":6,"created_at":"2025-05-28T09:00:22Z","updated_at":"2025-12-09T18:15:48Z","closed_at":null,"author_association":"CONTRIBUTOR","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"Hi!\nIs there a way to display column totals at the end of the report?\nI.e., if I run\n```sql\nbalances where account ~ 'leave' and date <= 2025-05-01\n```\nand get\n```\n           account              SUM((po\n------------------------------  -------\nAssets:Vacation:Annual-Leave    xy BD\nAssets:Vacation:Approved-Leave  ab BD\n```\nare there any options to show, in the same report, the total for the sum() column?\n\nI can get the total by running\n```\nselect sum(position) where account ~ 'leave' and date <= 2025-05-01\n```\nbut I think this would be a good feature to have, if it does not already exist.","closed_by":null,"reactions":{"url":"https://api.github.com/repos/beancount/beanquery/issues/253/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beanquery/issues/253/timeline","performed_via_github_app":null,"state_reason":null},{"url":"https://api.github.com/repos/beancount/beanquery/issues/252","repository_url":"https://api.github.com/repos/beancount/beanquery","labels_url":"https://api.github.com/repos/beancount/beanquery/issues/252/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beanquery/issues/252/comments","events_url":"https://api.github.com/repos/beancount/beanquery/issues/252/events","html_url":"https://github.com/beancount/beanquery/issues/252","id":3093294927,"node_id":"I_kwDOFUEJF864X-9P","number":252,"title":"publish 0.3","user":{"login":"alensiljak","id":462445,"node_id":"MDQ6VXNlcjQ2MjQ0NQ==","avatar_url":"https://avatars.githubusercontent.com/u/462445?v=4","gravatar_id":"","url":"https://api.github.com/users/alensiljak","html_url":"https://github.com/alensiljak","followers_url":"https://api.github.com/users/alensiljak/followers","following_url":"https://api.github.com/users/alensiljak/following{/other_user}","gists_url":"https://api.github.com/users/alensiljak/gists{/gist_id}","starred_url":"https://api.github.com/users/alensiljak/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/alensiljak/subscriptions","organizations_url":"https://api.github.com/users/alensiljak/orgs","repos_url":"https://api.github.com/users/alensiljak/repos","events_url":"https://api.github.com/users/alensiljak/events{/privacy}","received_events_url":"https://api.github.com/users/alensiljak/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":5,"created_at":"2025-05-27T09:36:07Z","updated_at":"2025-05-29T16:46:10Z","closed_at":"2025-05-27T18:57:52Z","author_association":"CONTRIBUTOR","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"Hi! Would it pose a problem if the current 0.3 version was released as a package?\nI'm setting up the whole system in Termux and it would be more convenient to install from PyPI instead of cloning the repository.\n","closed_by":{"login":"dnicolodi","id":987145,"node_id":"MDQ6VXNlcjk4NzE0NQ==","avatar_url":"https://avatars.githubusercontent.com/u/987145?v=4","gravatar_id":"","url":"https://api.github.com/users/dnicolodi","html_url":"https://github.com/dnicolodi","followers_url":"https://api.github.com/users/dnicolodi/followers","following_url":"https://api.github.com/users/dnicolodi/following{/other_user}","gists_url":"https://api.github.com/users/dnicolodi/gists{/gist_id}","starred_url":"https://api.github.com/users/dnicolodi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dnicolodi/subscriptions","organizations_url":"https://api.github.com/users/dnicolodi/orgs","repos_url":"https://api.github.com/users/dnicolodi/repos","events_url":"https://api.github.com/users/dnicolodi/events{/privacy}","received_events_url":"https://api.github.com/users/dnicolodi/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/beancount/beanquery/issues/252/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beanquery/issues/252/timeline","performed_via_github_app":null,"state_reason":"not_planned"},{"url":"https://api.github.com/repos/beancount/beanquery/issues/251","repository_url":"https://api.github.com/repos/beancount/beanquery","labels_url":"https://api.github.com/repos/beancount/beanquery/issues/251/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beanquery/issues/251/comments","events_url":"https://api.github.com/repos/beancount/beanquery/issues/251/events","html_url":"https://github.com/beancount/beanquery/pull/251","id":3089650059,"node_id":"PR_kwDOFUEJF86Xjpmv","number":251,"title":"ignore build by-products","user":{"login":"alensiljak","id":462445,"node_id":"MDQ6VXNlcjQ2MjQ0NQ==","avatar_url":"https://avatars.githubusercontent.com/u/462445?v=4","gravatar_id":"","url":"https://api.github.com/users/alensiljak","html_url":"https://github.com/alensiljak","followers_url":"https://api.github.com/users/alensiljak/followers","following_url":"https://api.github.com/users/alensiljak/following{/other_user}","gists_url":"https://api.github.com/users/alensiljak/gists{/gist_id}","starred_url":"https://api.github.com/users/alensiljak/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/alensiljak/subscriptions","organizations_url":"https://api.github.com/users/alensiljak/orgs","repos_url":"https://api.github.com/users/alensiljak/repos","events_url":"https://api.github.com/users/alensiljak/events{/privacy}","received_events_url":"https://api.github.com/users/alensiljak/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":0,"created_at":"2025-05-25T23:31:25Z","updated_at":"2025-05-26T06:26:45Z","closed_at":"2025-05-26T02:12:20Z","author_association":"CONTRIBUTOR","type":null,"active_lock_reason":null,"draft":false,"pull_request":{"url":"https://api.github.com/repos/beancount/beanquery/pulls/251","html_url":"https://github.com/beancount/beanquery/pull/251","diff_url":"https://github.com/beancount/beanquery/pull/251.diff","patch_url":"https://github.com/beancount/beanquery/pull/251.patch","merged_at":"2025-05-26T02:12:20Z"},"body":"This is just to ignore the files generated during build.","closed_by":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/beancount/beanquery/issues/251/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beanquery/issues/251/timeline","performed_via_github_app":null,"state_reason":null},{"url":"https://api.github.com/repos/beancount/beanquery/issues/250","repository_url":"https://api.github.com/repos/beancount/beanquery","labels_url":"https://api.github.com/repos/beancount/beanquery/issues/250/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beanquery/issues/250/comments","events_url":"https://api.github.com/repos/beancount/beanquery/issues/250/events","html_url":"https://github.com/beancount/beanquery/issues/250","id":3089647130,"node_id":"I_kwDOFUEJF864KEYa","number":250,"title":"How to serialize Inventory to JSON?","user":{"login":"alensiljak","id":462445,"node_id":"MDQ6VXNlcjQ2MjQ0NQ==","avatar_url":"https://avatars.githubusercontent.com/u/462445?v=4","gravatar_id":"","url":"https://api.github.com/users/alensiljak","html_url":"https://github.com/alensiljak","followers_url":"https://api.github.com/users/alensiljak/followers","following_url":"https://api.github.com/users/alensiljak/following{/other_user}","gists_url":"https://api.github.com/users/alensiljak/gists{/gist_id}","starred_url":"https://api.github.com/users/alensiljak/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/alensiljak/subscriptions","organizations_url":"https://api.github.com/users/alensiljak/orgs","repos_url":"https://api.github.com/users/alensiljak/repos","events_url":"https://api.github.com/users/alensiljak/events{/privacy}","received_events_url":"https://api.github.com/users/alensiljak/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":6,"created_at":"2025-05-25T23:26:00Z","updated_at":"2025-05-31T11:44:18Z","closed_at":"2025-05-27T18:53:36Z","author_association":"CONTRIBUTOR","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"Hi! I have a simple API that runs a bean-query\n```\nselect account, convert(value(sum(position)), 'EUR') as value\n```\nto get all current balances in the same currency. Then the result is serialized by FastAPI. Or at least it tries to.\nUnfortunately, it fails to serialize Inventories with \n```\nTypeError: unhashable type: 'list'\n```\nIs there a way to get something serializable - a simple string, or a number/string combination for the Inventory - from the output of convert() function?\n","closed_by":{"login":"dnicolodi","id":987145,"node_id":"MDQ6VXNlcjk4NzE0NQ==","avatar_url":"https://avatars.githubusercontent.com/u/987145?v=4","gravatar_id":"","url":"https://api.github.com/users/dnicolodi","html_url":"https://github.com/dnicolodi","followers_url":"https://api.github.com/users/dnicolodi/followers","following_url":"https://api.github.com/users/dnicolodi/following{/other_user}","gists_url":"https://api.github.com/users/dnicolodi/gists{/gist_id}","starred_url":"https://api.github.com/users/dnicolodi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dnicolodi/subscriptions","organizations_url":"https://api.github.com/users/dnicolodi/orgs","repos_url":"https://api.github.com/users/dnicolodi/repos","events_url":"https://api.github.com/users/dnicolodi/events{/privacy}","received_events_url":"https://api.github.com/users/dnicolodi/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/beancount/beanquery/issues/250/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beanquery/issues/250/timeline","performed_via_github_app":null,"state_reason":"not_planned"},{"url":"https://api.github.com/repos/beancount/beanquery/issues/249","repository_url":"https://api.github.com/repos/beancount/beanquery","labels_url":"https://api.github.com/repos/beancount/beanquery/issues/249/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beanquery/issues/249/comments","events_url":"https://api.github.com/repos/beancount/beanquery/issues/249/events","html_url":"https://github.com/beancount/beanquery/issues/249","id":3081167738,"node_id":"I_kwDOFUEJF863puN6","number":249,"title":"Add support for parameters in query directives","user":{"login":"hhmitchell","id":21073172,"node_id":"MDQ6VXNlcjIxMDczMTcy","avatar_url":"https://avatars.githubusercontent.com/u/21073172?v=4","gravatar_id":"","url":"https://api.github.com/users/hhmitchell","html_url":"https://github.com/hhmitchell","followers_url":"https://api.github.com/users/hhmitchell/followers","following_url":"https://api.github.com/users/hhmitchell/following{/other_user}","gists_url":"https://api.github.com/users/hhmitchell/gists{/gist_id}","starred_url":"https://api.github.com/users/hhmitchell/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hhmitchell/subscriptions","organizations_url":"https://api.github.com/users/hhmitchell/orgs","repos_url":"https://api.github.com/users/hhmitchell/repos","events_url":"https://api.github.com/users/hhmitchell/events{/privacy}","received_events_url":"https://api.github.com/users/hhmitchell/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"open","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":1,"created_at":"2025-05-21T19:05:58Z","updated_at":"2025-06-19T11:08:30Z","closed_at":null,"author_association":"NONE","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"Currently query directives defined in a ledger can only be run as written, but it would allow for more powerful queries if they could take parameters. As a trivial example:\n\n```\n2100-12-31 query \"foo\" \"select date limit %d\"\n```\n\nThen `.run foo 3` would execute the query with 3 substituted as the limit. More realistically, we could have queries like:\n```\n2100-12-31 query \"bar\" \"select ... where year = %d and account = %s ...\"\n```\nand so forth.\n\nBrief discussion: https://groups.google.com/g/beancount/c/td18CgN1y-0\n","closed_by":null,"reactions":{"url":"https://api.github.com/repos/beancount/beanquery/issues/249/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beanquery/issues/249/timeline","performed_via_github_app":null,"state_reason":null},{"url":"https://api.github.com/repos/beancount/beanquery/issues/248","repository_url":"https://api.github.com/repos/beancount/beanquery","labels_url":"https://api.github.com/repos/beancount/beanquery/issues/248/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beanquery/issues/248/comments","events_url":"https://api.github.com/repos/beancount/beanquery/issues/248/events","html_url":"https://github.com/beancount/beanquery/issues/248","id":3061196185,"node_id":"I_kwDOFUEJF862diWZ","number":248,"title":"ROUND() function?","user":{"login":"alensiljak","id":462445,"node_id":"MDQ6VXNlcjQ2MjQ0NQ==","avatar_url":"https://avatars.githubusercontent.com/u/462445?v=4","gravatar_id":"","url":"https://api.github.com/users/alensiljak","html_url":"https://github.com/alensiljak","followers_url":"https://api.github.com/users/alensiljak/followers","following_url":"https://api.github.com/users/alensiljak/following{/other_user}","gists_url":"https://api.github.com/users/alensiljak/gists{/gist_id}","starred_url":"https://api.github.com/users/alensiljak/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/alensiljak/subscriptions","organizations_url":"https://api.github.com/users/alensiljak/orgs","repos_url":"https://api.github.com/users/alensiljak/repos","events_url":"https://api.github.com/users/alensiljak/events{/privacy}","received_events_url":"https://api.github.com/users/alensiljak/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":2,"created_at":"2025-05-13T20:47:57Z","updated_at":"2025-06-06T20:27:57Z","closed_at":"2025-05-25T16:04:59Z","author_association":"CONTRIBUTOR","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"Hi!\n```\nselect account, CONVERT(sum(position), 'EUR')\n```\nwill result in\n```\n[('Assets:Checking', (353.7500000000000000000000000 EUR)),\n ('Assets:Savings', (166.6666666666666666666666667 EUR)),\n ('Expenses:Groceries', (62.91666666666666666666666666 EUR)),\n ('Expenses:Rent', (666.6666666666666666666666666 EUR)),\n ('Income:Salary', (-1250.000000000000000000000000 EUR))]\n```\nIs there a way to limit this to specific N decimals?\nI know this is for presentation mainly. But also when outputting amounts via an API, I would prefer to be able to limit the decimal spaces at the source.\n\nRegular balances will show like\n```\n[('Assets:Checking', (424.50 USD)),\n ('Assets:Old-Account', (-2 EUR)),\n ('Assets:Savings', (200.00 USD)),\n ('Income:Salary', (-1500.00 USD)),\n ('Expenses:Groceries', (75.50 USD, 2 EUR)),\n ('Expenses:Rent', (800.00 USD))]\n```\nor, rather, they will not have any decimal spaces for round amounts in EUR. Not sure where exactly this is coming from but it's ok. At least it is consistent. However, after CONVERT(), the amounts have full decimal spaces, even when 0.\n\nPerhaps introducing ROUND() function would be useful for these cases.","closed_by":{"login":"dnicolodi","id":987145,"node_id":"MDQ6VXNlcjk4NzE0NQ==","avatar_url":"https://avatars.githubusercontent.com/u/987145?v=4","gravatar_id":"","url":"https://api.github.com/users/dnicolodi","html_url":"https://github.com/dnicolodi","followers_url":"https://api.github.com/users/dnicolodi/followers","following_url":"https://api.github.com/users/dnicolodi/following{/other_user}","gists_url":"https://api.github.com/users/dnicolodi/gists{/gist_id}","starred_url":"https://api.github.com/users/dnicolodi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dnicolodi/subscriptions","organizations_url":"https://api.github.com/users/dnicolodi/orgs","repos_url":"https://api.github.com/users/dnicolodi/repos","events_url":"https://api.github.com/users/dnicolodi/events{/privacy}","received_events_url":"https://api.github.com/users/dnicolodi/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/beancount/beanquery/issues/248/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beanquery/issues/248/timeline","performed_via_github_app":null,"state_reason":"completed"},{"url":"https://api.github.com/repos/beancount/beanquery/issues/247","repository_url":"https://api.github.com/repos/beancount/beanquery","labels_url":"https://api.github.com/repos/beancount/beanquery/issues/247/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beanquery/issues/247/comments","events_url":"https://api.github.com/repos/beancount/beanquery/issues/247/events","html_url":"https://github.com/beancount/beanquery/issues/247","id":2949018623,"node_id":"I_kwDOFUEJF86vxnP_","number":247,"title":"Improve exception message when attempting to connect to an invalid DSN","user":{"login":"dnicolodi","id":987145,"node_id":"MDQ6VXNlcjk4NzE0NQ==","avatar_url":"https://avatars.githubusercontent.com/u/987145?v=4","gravatar_id":"","url":"https://api.github.com/users/dnicolodi","html_url":"https://github.com/dnicolodi","followers_url":"https://api.github.com/users/dnicolodi/followers","following_url":"https://api.github.com/users/dnicolodi/following{/other_user}","gists_url":"https://api.github.com/users/dnicolodi/gists{/gist_id}","starred_url":"https://api.github.com/users/dnicolodi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dnicolodi/subscriptions","organizations_url":"https://api.github.com/users/dnicolodi/orgs","repos_url":"https://api.github.com/users/dnicolodi/repos","events_url":"https://api.github.com/users/dnicolodi/events{/privacy}","received_events_url":"https://api.github.com/users/dnicolodi/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"open","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":0,"created_at":"2025-03-26T10:01:18Z","updated_at":"2025-03-26T10:01:18Z","closed_at":null,"author_association":"COLLABORATOR","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"Connecting to a source with a misspelled or missing scheme, results in a `ModuleNotFoundError`:\n```\n  File \".../lib/python/site-packages/beanquery/__init__.py\", line 49, in attach\n    source = importlib.import_module(f'beanquery.sources.{scheme}')\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/local/Library/Frameworks/Python.framework/Versions/3.12/lib/python3.12/importlib/__init__.py\", line 90, in import_module\n    return _bootstrap._gcd_import(name[level:], package, level)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"<frozen importlib._bootstrap>\", line 1387, in _gcd_import\n  File \"<frozen importlib._bootstrap>\", line 1360, in _find_and_load\n  File \"<frozen importlib._bootstrap>\", line 1324, in _find_and_load_unlocked\nModuleNotFoundError: No module named 'beanquery.sources.'\n```\nCatch this exception and turn it into something more user friendly.","closed_by":null,"reactions":{"url":"https://api.github.com/repos/beancount/beanquery/issues/247/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beanquery/issues/247/timeline","performed_via_github_app":null,"state_reason":null},{"url":"https://api.github.com/repos/beancount/beanquery/issues/246","repository_url":"https://api.github.com/repos/beancount/beanquery","labels_url":"https://api.github.com/repos/beancount/beanquery/issues/246/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beanquery/issues/246/comments","events_url":"https://api.github.com/repos/beancount/beanquery/issues/246/events","html_url":"https://github.com/beancount/beanquery/issues/246","id":2948865756,"node_id":"I_kwDOFUEJF86vxB7c","number":246,"title":"0.2.0 No module named 'beanquery.sources.'","user":{"login":"WolfgangFahl","id":1336221,"node_id":"MDQ6VXNlcjEzMzYyMjE=","avatar_url":"https://avatars.githubusercontent.com/u/1336221?v=4","gravatar_id":"","url":"https://api.github.com/users/WolfgangFahl","html_url":"https://github.com/WolfgangFahl","followers_url":"https://api.github.com/users/WolfgangFahl/followers","following_url":"https://api.github.com/users/WolfgangFahl/following{/other_user}","gists_url":"https://api.github.com/users/WolfgangFahl/gists{/gist_id}","starred_url":"https://api.github.com/users/WolfgangFahl/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/WolfgangFahl/subscriptions","organizations_url":"https://api.github.com/users/WolfgangFahl/orgs","repos_url":"https://api.github.com/users/WolfgangFahl/repos","events_url":"https://api.github.com/users/WolfgangFahl/events{/privacy}","received_events_url":"https://api.github.com/users/WolfgangFahl/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":4004667454,"node_id":"LA_kwDOFUEJF87usmA-","url":"https://api.github.com/repos/beancount/beanquery/labels/not%20a%20bug","name":"not a bug","color":"FFFFFF","default":false,"description":"Works as intended"}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":1,"created_at":"2025-03-26T09:09:30Z","updated_at":"2025-03-26T09:56:16Z","closed_at":"2025-03-26T09:56:16Z","author_association":"NONE","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"The current release breaks my tests in https://github.com/WolfgangFahl/pynomina\n```\nTraceback (most recent call last):\n  File \"/Users/wf/py-workspace/pynomina/tests/test_beanquery_cmd.py\", line 81, in test_query_via_cmd_line\n    beanquery_cmd.main(args)\n  File \"/Users/wf/py-workspace/pynomina/nomina/beanquery_cmd.py\", line 63, in main\n    handled = cmd.handle_args()\n              ^^^^^^^^^^^^^^^^^\n  File \"/Users/wf/py-workspace/pynomina/nomina/beanquery_cmd.py\", line 37, in handle_args\n    query_handler=BeanQueryHandler(beancount_file=endpoint.endpoint)\n                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/Users/wf/py-workspace/pynomina/nomina/bean_query.py\", line 27, in __init__\n    self.shell = BQLShell(\n                 ^^^^^^^^^\n  File \"/Users/wf/Library/Python/3.12/lib/python/site-packages/beanquery/shell.py\", line 384, in __init__\n    self.do_reload()\n  File \"/Users/wf/Library/Python/3.12/lib/python/site-packages/beanquery/shell.py\", line 407, in do_reload\n    self.context.attach(self.source)\n  File \"/Users/wf/Library/Python/3.12/lib/python/site-packages/beanquery/__init__.py\", line 49, in attach\n    source = importlib.import_module(f'beanquery.sources.{scheme}')\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/local/Library/Frameworks/Python.framework/Versions/3.12/lib/python3.12/importlib/__init__.py\", line 90, in import_module\n    return _bootstrap._gcd_import(name[level:], package, level)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"<frozen importlib._bootstrap>\", line 1387, in _gcd_import\n  File \"<frozen importlib._bootstrap>\", line 1360, in _find_and_load\n  File \"<frozen importlib._bootstrap>\", line 1324, in _find_and_load_unlocked\nModuleNotFoundError: No module named 'beanquery.sources.'\n```","closed_by":{"login":"dnicolodi","id":987145,"node_id":"MDQ6VXNlcjk4NzE0NQ==","avatar_url":"https://avatars.githubusercontent.com/u/987145?v=4","gravatar_id":"","url":"https://api.github.com/users/dnicolodi","html_url":"https://github.com/dnicolodi","followers_url":"https://api.github.com/users/dnicolodi/followers","following_url":"https://api.github.com/users/dnicolodi/following{/other_user}","gists_url":"https://api.github.com/users/dnicolodi/gists{/gist_id}","starred_url":"https://api.github.com/users/dnicolodi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dnicolodi/subscriptions","organizations_url":"https://api.github.com/users/dnicolodi/orgs","repos_url":"https://api.github.com/users/dnicolodi/repos","events_url":"https://api.github.com/users/dnicolodi/events{/privacy}","received_events_url":"https://api.github.com/users/dnicolodi/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/beancount/beanquery/issues/246/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beanquery/issues/246/timeline","performed_via_github_app":null,"state_reason":"completed"},{"url":"https://api.github.com/repos/beancount/beanquery/issues/245","repository_url":"https://api.github.com/repos/beancount/beanquery","labels_url":"https://api.github.com/repos/beancount/beanquery/issues/245/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beanquery/issues/245/comments","events_url":"https://api.github.com/repos/beancount/beanquery/issues/245/events","html_url":"https://github.com/beancount/beanquery/pull/245","id":2842477937,"node_id":"PR_kwDOFUEJF86KpbmQ","number":245,"title":"Implement JOIN","user":{"login":"dnicolodi","id":987145,"node_id":"MDQ6VXNlcjk4NzE0NQ==","avatar_url":"https://avatars.githubusercontent.com/u/987145?v=4","gravatar_id":"","url":"https://api.github.com/users/dnicolodi","html_url":"https://github.com/dnicolodi","followers_url":"https://api.github.com/users/dnicolodi/followers","following_url":"https://api.github.com/users/dnicolodi/following{/other_user}","gists_url":"https://api.github.com/users/dnicolodi/gists{/gist_id}","starred_url":"https://api.github.com/users/dnicolodi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dnicolodi/subscriptions","organizations_url":"https://api.github.com/users/dnicolodi/orgs","repos_url":"https://api.github.com/users/dnicolodi/repos","events_url":"https://api.github.com/users/dnicolodi/events{/privacy}","received_events_url":"https://api.github.com/users/dnicolodi/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"open","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":1,"created_at":"2025-02-10T13:51:17Z","updated_at":"2025-10-05T23:57:45Z","closed_at":null,"author_association":"COLLABORATOR","type":null,"active_lock_reason":null,"draft":true,"pull_request":{"url":"https://api.github.com/repos/beancount/beanquery/pulls/245","html_url":"https://github.com/beancount/beanquery/pull/245","diff_url":"https://github.com/beancount/beanquery/pull/245.diff","patch_url":"https://github.com/beancount/beanquery/pull/245.patch","merged_at":null},"body":"WIP: the code is a mess and needs substantial refactoring, but it works!","closed_by":null,"reactions":{"url":"https://api.github.com/repos/beancount/beanquery/issues/245/reactions","total_count":1,"+1":0,"-1":0,"laugh":0,"hooray":1,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beanquery/issues/245/timeline","performed_via_github_app":null,"state_reason":null},{"url":"https://api.github.com/repos/beancount/beanquery/issues/244","repository_url":"https://api.github.com/repos/beancount/beanquery","labels_url":"https://api.github.com/repos/beancount/beanquery/issues/244/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beanquery/issues/244/comments","events_url":"https://api.github.com/repos/beancount/beanquery/issues/244/events","html_url":"https://github.com/beancount/beanquery/issues/244","id":2838177405,"node_id":"I_kwDOFUEJF86pKyZ9","number":244,"title":"sources.beancount: Lazily compute tables data","user":{"login":"dnicolodi","id":987145,"node_id":"MDQ6VXNlcjk4NzE0NQ==","avatar_url":"https://avatars.githubusercontent.com/u/987145?v=4","gravatar_id":"","url":"https://api.github.com/users/dnicolodi","html_url":"https://github.com/dnicolodi","followers_url":"https://api.github.com/users/dnicolodi/followers","following_url":"https://api.github.com/users/dnicolodi/following{/other_user}","gists_url":"https://api.github.com/users/dnicolodi/gists{/gist_id}","starred_url":"https://api.github.com/users/dnicolodi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dnicolodi/subscriptions","organizations_url":"https://api.github.com/users/dnicolodi/orgs","repos_url":"https://api.github.com/users/dnicolodi/repos","events_url":"https://api.github.com/users/dnicolodi/events{/privacy}","received_events_url":"https://api.github.com/users/dnicolodi/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"open","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":0,"created_at":"2025-02-07T13:33:43Z","updated_at":"2025-05-25T16:05:59Z","closed_at":null,"author_association":"COLLABORATOR","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"The beancount data source compuites data for all tables when the source is loaded. Some of the data may never be used in actual queries and may be expensive to compute. Turn the relevant table data into lazy properties computed when needed and cached.","closed_by":null,"reactions":{"url":"https://api.github.com/repos/beancount/beanquery/issues/244/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beanquery/issues/244/timeline","performed_via_github_app":null,"state_reason":null},{"url":"https://api.github.com/repos/beancount/beanquery/issues/243","repository_url":"https://api.github.com/repos/beancount/beanquery","labels_url":"https://api.github.com/repos/beancount/beanquery/issues/243/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beanquery/issues/243/comments","events_url":"https://api.github.com/repos/beancount/beanquery/issues/243/events","html_url":"https://github.com/beancount/beanquery/pull/243","id":2830764363,"node_id":"PR_kwDOFUEJF86KBkxG","number":243,"title":"parser: Allow to escape single quote string delimiters by doubling them","user":{"login":"dnicolodi","id":987145,"node_id":"MDQ6VXNlcjk4NzE0NQ==","avatar_url":"https://avatars.githubusercontent.com/u/987145?v=4","gravatar_id":"","url":"https://api.github.com/users/dnicolodi","html_url":"https://github.com/dnicolodi","followers_url":"https://api.github.com/users/dnicolodi/followers","following_url":"https://api.github.com/users/dnicolodi/following{/other_user}","gists_url":"https://api.github.com/users/dnicolodi/gists{/gist_id}","starred_url":"https://api.github.com/users/dnicolodi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dnicolodi/subscriptions","organizations_url":"https://api.github.com/users/dnicolodi/orgs","repos_url":"https://api.github.com/users/dnicolodi/repos","events_url":"https://api.github.com/users/dnicolodi/events{/privacy}","received_events_url":"https://api.github.com/users/dnicolodi/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":0,"created_at":"2025-02-04T16:35:52Z","updated_at":"2025-02-04T17:05:59Z","closed_at":"2025-02-04T17:05:58Z","author_association":"COLLABORATOR","type":null,"active_lock_reason":null,"draft":false,"pull_request":{"url":"https://api.github.com/repos/beancount/beanquery/pulls/243","html_url":"https://github.com/beancount/beanquery/pull/243","diff_url":"https://github.com/beancount/beanquery/pull/243.diff","patch_url":"https://github.com/beancount/beanquery/pull/243.patch","merged_at":"2025-02-04T17:05:58Z"},"body":null,"closed_by":{"login":"dnicolodi","id":987145,"node_id":"MDQ6VXNlcjk4NzE0NQ==","avatar_url":"https://avatars.githubusercontent.com/u/987145?v=4","gravatar_id":"","url":"https://api.github.com/users/dnicolodi","html_url":"https://github.com/dnicolodi","followers_url":"https://api.github.com/users/dnicolodi/followers","following_url":"https://api.github.com/users/dnicolodi/following{/other_user}","gists_url":"https://api.github.com/users/dnicolodi/gists{/gist_id}","starred_url":"https://api.github.com/users/dnicolodi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dnicolodi/subscriptions","organizations_url":"https://api.github.com/users/dnicolodi/orgs","repos_url":"https://api.github.com/users/dnicolodi/repos","events_url":"https://api.github.com/users/dnicolodi/events{/privacy}","received_events_url":"https://api.github.com/users/dnicolodi/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/beancount/beanquery/issues/243/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beanquery/issues/243/timeline","performed_via_github_app":null,"state_reason":null},{"url":"https://api.github.com/repos/beancount/beanquery/issues/242","repository_url":"https://api.github.com/repos/beancount/beanquery","labels_url":"https://api.github.com/repos/beancount/beanquery/issues/242/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beanquery/issues/242/comments","events_url":"https://api.github.com/repos/beancount/beanquery/issues/242/events","html_url":"https://github.com/beancount/beanquery/pull/242","id":2828721169,"node_id":"PR_kwDOFUEJF86J6hyP","number":242,"title":"sources.beancount: Correct type for links and tags columns","user":{"login":"andreasgerstmayr","id":538011,"node_id":"MDQ6VXNlcjUzODAxMQ==","avatar_url":"https://avatars.githubusercontent.com/u/538011?v=4","gravatar_id":"","url":"https://api.github.com/users/andreasgerstmayr","html_url":"https://github.com/andreasgerstmayr","followers_url":"https://api.github.com/users/andreasgerstmayr/followers","following_url":"https://api.github.com/users/andreasgerstmayr/following{/other_user}","gists_url":"https://api.github.com/users/andreasgerstmayr/gists{/gist_id}","starred_url":"https://api.github.com/users/andreasgerstmayr/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/andreasgerstmayr/subscriptions","organizations_url":"https://api.github.com/users/andreasgerstmayr/orgs","repos_url":"https://api.github.com/users/andreasgerstmayr/repos","events_url":"https://api.github.com/users/andreasgerstmayr/events{/privacy}","received_events_url":"https://api.github.com/users/andreasgerstmayr/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"open","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":8,"created_at":"2025-02-03T22:43:27Z","updated_at":"2025-08-25T06:52:39Z","closed_at":null,"author_association":"CONTRIBUTOR","type":null,"active_lock_reason":null,"draft":false,"pull_request":{"url":"https://api.github.com/repos/beancount/beanquery/pulls/242","html_url":"https://github.com/beancount/beanquery/pull/242","diff_url":"https://github.com/beancount/beanquery/pull/242.diff","patch_url":"https://github.com/beancount/beanquery/pull/242.patch","merged_at":null},"body":"Currently, `[...] GROUP BY links` throws the following exception:\r\n\r\n    beanquery.compiler.CompilationError: GROUP-BY a non-hashable type is not supported: \"Column(name='links')\"\r\n\r\nbecause `set` is not hashable. `frozenset` is hashable, and can be used for the `links` and `tags` which don't need to be mutable.","closed_by":null,"reactions":{"url":"https://api.github.com/repos/beancount/beanquery/issues/242/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beanquery/issues/242/timeline","performed_via_github_app":null,"state_reason":null},{"url":"https://api.github.com/repos/beancount/beanquery/issues/241","repository_url":"https://api.github.com/repos/beancount/beanquery","labels_url":"https://api.github.com/repos/beancount/beanquery/issues/241/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beanquery/issues/241/comments","events_url":"https://api.github.com/repos/beancount/beanquery/issues/241/events","html_url":"https://github.com/beancount/beanquery/pull/241","id":2828342698,"node_id":"PR_kwDOFUEJF86J5Nwc","number":241,"title":"Fix resource leaks","user":{"login":"dnicolodi","id":987145,"node_id":"MDQ6VXNlcjk4NzE0NQ==","avatar_url":"https://avatars.githubusercontent.com/u/987145?v=4","gravatar_id":"","url":"https://api.github.com/users/dnicolodi","html_url":"https://github.com/dnicolodi","followers_url":"https://api.github.com/users/dnicolodi/followers","following_url":"https://api.github.com/users/dnicolodi/following{/other_user}","gists_url":"https://api.github.com/users/dnicolodi/gists{/gist_id}","starred_url":"https://api.github.com/users/dnicolodi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dnicolodi/subscriptions","organizations_url":"https://api.github.com/users/dnicolodi/orgs","repos_url":"https://api.github.com/users/dnicolodi/repos","events_url":"https://api.github.com/users/dnicolodi/events{/privacy}","received_events_url":"https://api.github.com/users/dnicolodi/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":0,"created_at":"2025-02-03T19:25:12Z","updated_at":"2025-02-03T19:26:36Z","closed_at":"2025-02-03T19:26:36Z","author_association":"COLLABORATOR","type":null,"active_lock_reason":null,"draft":false,"pull_request":{"url":"https://api.github.com/repos/beancount/beanquery/pulls/241","html_url":"https://github.com/beancount/beanquery/pull/241","diff_url":"https://github.com/beancount/beanquery/pull/241.diff","patch_url":"https://github.com/beancount/beanquery/pull/241.patch","merged_at":"2025-02-03T19:26:36Z"},"body":null,"closed_by":{"login":"dnicolodi","id":987145,"node_id":"MDQ6VXNlcjk4NzE0NQ==","avatar_url":"https://avatars.githubusercontent.com/u/987145?v=4","gravatar_id":"","url":"https://api.github.com/users/dnicolodi","html_url":"https://github.com/dnicolodi","followers_url":"https://api.github.com/users/dnicolodi/followers","following_url":"https://api.github.com/users/dnicolodi/following{/other_user}","gists_url":"https://api.github.com/users/dnicolodi/gists{/gist_id}","starred_url":"https://api.github.com/users/dnicolodi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dnicolodi/subscriptions","organizations_url":"https://api.github.com/users/dnicolodi/orgs","repos_url":"https://api.github.com/users/dnicolodi/repos","events_url":"https://api.github.com/users/dnicolodi/events{/privacy}","received_events_url":"https://api.github.com/users/dnicolodi/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/beancount/beanquery/issues/241/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beanquery/issues/241/timeline","performed_via_github_app":null,"state_reason":null},{"url":"https://api.github.com/repos/beancount/beanquery/issues/240","repository_url":"https://api.github.com/repos/beancount/beanquery","labels_url":"https://api.github.com/repos/beancount/beanquery/issues/240/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beanquery/issues/240/comments","events_url":"https://api.github.com/repos/beancount/beanquery/issues/240/events","html_url":"https://github.com/beancount/beanquery/pull/240","id":2828293343,"node_id":"PR_kwDOFUEJF86J5C36","number":240,"title":"Fix quoted identifiers support in SELECT statements","user":{"login":"dnicolodi","id":987145,"node_id":"MDQ6VXNlcjk4NzE0NQ==","avatar_url":"https://avatars.githubusercontent.com/u/987145?v=4","gravatar_id":"","url":"https://api.github.com/users/dnicolodi","html_url":"https://github.com/dnicolodi","followers_url":"https://api.github.com/users/dnicolodi/followers","following_url":"https://api.github.com/users/dnicolodi/following{/other_user}","gists_url":"https://api.github.com/users/dnicolodi/gists{/gist_id}","starred_url":"https://api.github.com/users/dnicolodi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dnicolodi/subscriptions","organizations_url":"https://api.github.com/users/dnicolodi/orgs","repos_url":"https://api.github.com/users/dnicolodi/repos","events_url":"https://api.github.com/users/dnicolodi/events{/privacy}","received_events_url":"https://api.github.com/users/dnicolodi/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":0,"created_at":"2025-02-03T19:00:20Z","updated_at":"2025-02-03T19:02:22Z","closed_at":"2025-02-03T19:02:22Z","author_association":"COLLABORATOR","type":null,"active_lock_reason":null,"draft":false,"pull_request":{"url":"https://api.github.com/repos/beancount/beanquery/pulls/240","html_url":"https://github.com/beancount/beanquery/pull/240","diff_url":"https://github.com/beancount/beanquery/pull/240.diff","patch_url":"https://github.com/beancount/beanquery/pull/240.patch","merged_at":"2025-02-03T19:02:22Z"},"body":null,"closed_by":{"login":"dnicolodi","id":987145,"node_id":"MDQ6VXNlcjk4NzE0NQ==","avatar_url":"https://avatars.githubusercontent.com/u/987145?v=4","gravatar_id":"","url":"https://api.github.com/users/dnicolodi","html_url":"https://github.com/dnicolodi","followers_url":"https://api.github.com/users/dnicolodi/followers","following_url":"https://api.github.com/users/dnicolodi/following{/other_user}","gists_url":"https://api.github.com/users/dnicolodi/gists{/gist_id}","starred_url":"https://api.github.com/users/dnicolodi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dnicolodi/subscriptions","organizations_url":"https://api.github.com/users/dnicolodi/orgs","repos_url":"https://api.github.com/users/dnicolodi/repos","events_url":"https://api.github.com/users/dnicolodi/events{/privacy}","received_events_url":"https://api.github.com/users/dnicolodi/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/beancount/beanquery/issues/240/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beanquery/issues/240/timeline","performed_via_github_app":null,"state_reason":null},{"url":"https://api.github.com/repos/beancount/beanquery/issues/239","repository_url":"https://api.github.com/repos/beancount/beanquery","labels_url":"https://api.github.com/repos/beancount/beanquery/issues/239/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beanquery/issues/239/comments","events_url":"https://api.github.com/repos/beancount/beanquery/issues/239/events","html_url":"https://github.com/beancount/beanquery/issues/239","id":2827547969,"node_id":"I_kwDOFUEJF86oiPVB","number":239,"title":"Deprecations in 0.3.0","user":{"login":"dnicolodi","id":987145,"node_id":"MDQ6VXNlcjk4NzE0NQ==","avatar_url":"https://avatars.githubusercontent.com/u/987145?v=4","gravatar_id":"","url":"https://api.github.com/users/dnicolodi","html_url":"https://github.com/dnicolodi","followers_url":"https://api.github.com/users/dnicolodi/followers","following_url":"https://api.github.com/users/dnicolodi/following{/other_user}","gists_url":"https://api.github.com/users/dnicolodi/gists{/gist_id}","starred_url":"https://api.github.com/users/dnicolodi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dnicolodi/subscriptions","organizations_url":"https://api.github.com/users/dnicolodi/orgs","repos_url":"https://api.github.com/users/dnicolodi/repos","events_url":"https://api.github.com/users/dnicolodi/events{/privacy}","received_events_url":"https://api.github.com/users/dnicolodi/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"open","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":0,"created_at":"2025-02-03T13:39:22Z","updated_at":"2025-02-04T09:31:55Z","closed_at":null,"author_association":"COLLABORATOR","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":3,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"Tracking issue for deprecations to be introduced in version 0.3.0.\n\nApproximately in order of importance, or in order of how annoying the features are to maintain:\n\n- expressions in the `FROM` clause, see also #34 \n- double quoted strings\n- `beanquery.query.run_query()` and the `beanquery.query` module,\n- `year`, `month`, `day` columns\n- `year()`, `month()`, `day()` functions\n- one argument version of `parse_date()`\n- `safediv()` function","closed_by":null,"reactions":{"url":"https://api.github.com/repos/beancount/beanquery/issues/239/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beanquery/issues/239/timeline","performed_via_github_app":null,"state_reason":null},{"url":"https://api.github.com/repos/beancount/beanquery/issues/238","repository_url":"https://api.github.com/repos/beancount/beanquery","labels_url":"https://api.github.com/repos/beancount/beanquery/issues/238/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beanquery/issues/238/comments","events_url":"https://api.github.com/repos/beancount/beanquery/issues/238/events","html_url":"https://github.com/beancount/beanquery/issues/238","id":2827133768,"node_id":"I_kwDOFUEJF86ogqNI","number":238,"title":"Allow to enter the quote character in strings","user":{"login":"dnicolodi","id":987145,"node_id":"MDQ6VXNlcjk4NzE0NQ==","avatar_url":"https://avatars.githubusercontent.com/u/987145?v=4","gravatar_id":"","url":"https://api.github.com/users/dnicolodi","html_url":"https://github.com/dnicolodi","followers_url":"https://api.github.com/users/dnicolodi/followers","following_url":"https://api.github.com/users/dnicolodi/following{/other_user}","gists_url":"https://api.github.com/users/dnicolodi/gists{/gist_id}","starred_url":"https://api.github.com/users/dnicolodi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dnicolodi/subscriptions","organizations_url":"https://api.github.com/users/dnicolodi/orgs","repos_url":"https://api.github.com/users/dnicolodi/repos","events_url":"https://api.github.com/users/dnicolodi/events{/privacy}","received_events_url":"https://api.github.com/users/dnicolodi/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":{"url":"https://api.github.com/repos/beancount/beanquery/milestones/1","html_url":"https://github.com/beancount/beanquery/milestone/1","labels_url":"https://api.github.com/repos/beancount/beanquery/milestones/1/labels","id":8009928,"node_id":"MI_kwDOFUEJF84AejjI","number":1,"title":"0.2.0","description":"","creator":{"login":"dnicolodi","id":987145,"node_id":"MDQ6VXNlcjk4NzE0NQ==","avatar_url":"https://avatars.githubusercontent.com/u/987145?v=4","gravatar_id":"","url":"https://api.github.com/users/dnicolodi","html_url":"https://github.com/dnicolodi","followers_url":"https://api.github.com/users/dnicolodi/followers","following_url":"https://api.github.com/users/dnicolodi/following{/other_user}","gists_url":"https://api.github.com/users/dnicolodi/gists{/gist_id}","starred_url":"https://api.github.com/users/dnicolodi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dnicolodi/subscriptions","organizations_url":"https://api.github.com/users/dnicolodi/orgs","repos_url":"https://api.github.com/users/dnicolodi/repos","events_url":"https://api.github.com/users/dnicolodi/events{/privacy}","received_events_url":"https://api.github.com/users/dnicolodi/received_events","type":"User","user_view_type":"public","site_admin":false},"open_issues":4,"closed_issues":1,"state":"open","created_at":"2022-05-23T11:55:50Z","updated_at":"2025-02-04T17:06:00Z","due_on":null,"closed_at":null},"comments":0,"created_at":"2025-02-03T10:41:01Z","updated_at":"2025-02-04T17:06:00Z","closed_at":"2025-02-04T17:06:00Z","author_association":"COLLABORATOR","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"SQL strings are single quote `'` delimited. The single quote is entered repeating it twice `''`. Allow the same in BQL. This is already supported to allow the double quote character in identifiers. Because double quoted strings are supported but discouraged, I'm not sure whether supporting double quotes in double quoted strings is a good idea or not.","closed_by":{"login":"dnicolodi","id":987145,"node_id":"MDQ6VXNlcjk4NzE0NQ==","avatar_url":"https://avatars.githubusercontent.com/u/987145?v=4","gravatar_id":"","url":"https://api.github.com/users/dnicolodi","html_url":"https://github.com/dnicolodi","followers_url":"https://api.github.com/users/dnicolodi/followers","following_url":"https://api.github.com/users/dnicolodi/following{/other_user}","gists_url":"https://api.github.com/users/dnicolodi/gists{/gist_id}","starred_url":"https://api.github.com/users/dnicolodi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dnicolodi/subscriptions","organizations_url":"https://api.github.com/users/dnicolodi/orgs","repos_url":"https://api.github.com/users/dnicolodi/repos","events_url":"https://api.github.com/users/dnicolodi/events{/privacy}","received_events_url":"https://api.github.com/users/dnicolodi/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/beancount/beanquery/issues/238/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beanquery/issues/238/timeline","performed_via_github_app":null,"state_reason":"completed"},{"url":"https://api.github.com/repos/beancount/beanquery/issues/237","repository_url":"https://api.github.com/repos/beancount/beanquery","labels_url":"https://api.github.com/repos/beancount/beanquery/issues/237/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beanquery/issues/237/comments","events_url":"https://api.github.com/repos/beancount/beanquery/issues/237/events","html_url":"https://github.com/beancount/beanquery/pull/237","id":2825492003,"node_id":"PR_kwDOFUEJF86Jvvq1","number":237,"title":"Make date a structured type","user":{"login":"dnicolodi","id":987145,"node_id":"MDQ6VXNlcjk4NzE0NQ==","avatar_url":"https://avatars.githubusercontent.com/u/987145?v=4","gravatar_id":"","url":"https://api.github.com/users/dnicolodi","html_url":"https://github.com/dnicolodi","followers_url":"https://api.github.com/users/dnicolodi/followers","following_url":"https://api.github.com/users/dnicolodi/following{/other_user}","gists_url":"https://api.github.com/users/dnicolodi/gists{/gist_id}","starred_url":"https://api.github.com/users/dnicolodi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dnicolodi/subscriptions","organizations_url":"https://api.github.com/users/dnicolodi/orgs","repos_url":"https://api.github.com/users/dnicolodi/repos","events_url":"https://api.github.com/users/dnicolodi/events{/privacy}","received_events_url":"https://api.github.com/users/dnicolodi/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":0,"created_at":"2025-02-01T23:09:54Z","updated_at":"2025-02-01T23:30:48Z","closed_at":"2025-02-01T23:30:48Z","author_association":"COLLABORATOR","type":null,"active_lock_reason":null,"draft":false,"pull_request":{"url":"https://api.github.com/repos/beancount/beanquery/pulls/237","html_url":"https://github.com/beancount/beanquery/pull/237","diff_url":"https://github.com/beancount/beanquery/pull/237.diff","patch_url":"https://github.com/beancount/beanquery/pull/237.patch","merged_at":"2025-02-01T23:30:48Z"},"body":null,"closed_by":{"login":"dnicolodi","id":987145,"node_id":"MDQ6VXNlcjk4NzE0NQ==","avatar_url":"https://avatars.githubusercontent.com/u/987145?v=4","gravatar_id":"","url":"https://api.github.com/users/dnicolodi","html_url":"https://github.com/dnicolodi","followers_url":"https://api.github.com/users/dnicolodi/followers","following_url":"https://api.github.com/users/dnicolodi/following{/other_user}","gists_url":"https://api.github.com/users/dnicolodi/gists{/gist_id}","starred_url":"https://api.github.com/users/dnicolodi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dnicolodi/subscriptions","organizations_url":"https://api.github.com/users/dnicolodi/orgs","repos_url":"https://api.github.com/users/dnicolodi/repos","events_url":"https://api.github.com/users/dnicolodi/events{/privacy}","received_events_url":"https://api.github.com/users/dnicolodi/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/beancount/beanquery/issues/237/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beanquery/issues/237/timeline","performed_via_github_app":null,"state_reason":null},{"url":"https://api.github.com/repos/beancount/beanquery/issues/236","repository_url":"https://api.github.com/repos/beancount/beanquery","labels_url":"https://api.github.com/repos/beancount/beanquery/issues/236/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beanquery/issues/236/comments","events_url":"https://api.github.com/repos/beancount/beanquery/issues/236/events","html_url":"https://github.com/beancount/beanquery/pull/236","id":2825199232,"node_id":"PR_kwDOFUEJF86Ju0jO","number":236,"title":"shell: Adapt to work on non-Beancount databases","user":{"login":"dnicolodi","id":987145,"node_id":"MDQ6VXNlcjk4NzE0NQ==","avatar_url":"https://avatars.githubusercontent.com/u/987145?v=4","gravatar_id":"","url":"https://api.github.com/users/dnicolodi","html_url":"https://github.com/dnicolodi","followers_url":"https://api.github.com/users/dnicolodi/followers","following_url":"https://api.github.com/users/dnicolodi/following{/other_user}","gists_url":"https://api.github.com/users/dnicolodi/gists{/gist_id}","starred_url":"https://api.github.com/users/dnicolodi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dnicolodi/subscriptions","organizations_url":"https://api.github.com/users/dnicolodi/orgs","repos_url":"https://api.github.com/users/dnicolodi/repos","events_url":"https://api.github.com/users/dnicolodi/events{/privacy}","received_events_url":"https://api.github.com/users/dnicolodi/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":0,"created_at":"2025-02-01T12:59:10Z","updated_at":"2025-02-01T13:47:06Z","closed_at":"2025-02-01T13:47:05Z","author_association":"COLLABORATOR","type":null,"active_lock_reason":null,"draft":false,"pull_request":{"url":"https://api.github.com/repos/beancount/beanquery/pulls/236","html_url":"https://github.com/beancount/beanquery/pull/236","diff_url":"https://github.com/beancount/beanquery/pull/236.diff","patch_url":"https://github.com/beancount/beanquery/pull/236.patch","merged_at":"2025-02-01T13:47:05Z"},"body":null,"closed_by":{"login":"dnicolodi","id":987145,"node_id":"MDQ6VXNlcjk4NzE0NQ==","avatar_url":"https://avatars.githubusercontent.com/u/987145?v=4","gravatar_id":"","url":"https://api.github.com/users/dnicolodi","html_url":"https://github.com/dnicolodi","followers_url":"https://api.github.com/users/dnicolodi/followers","following_url":"https://api.github.com/users/dnicolodi/following{/other_user}","gists_url":"https://api.github.com/users/dnicolodi/gists{/gist_id}","starred_url":"https://api.github.com/users/dnicolodi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dnicolodi/subscriptions","organizations_url":"https://api.github.com/users/dnicolodi/orgs","repos_url":"https://api.github.com/users/dnicolodi/repos","events_url":"https://api.github.com/users/dnicolodi/events{/privacy}","received_events_url":"https://api.github.com/users/dnicolodi/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/beancount/beanquery/issues/236/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beanquery/issues/236/timeline","performed_via_github_app":null,"state_reason":null},{"url":"https://api.github.com/repos/beancount/beanquery/issues/235","repository_url":"https://api.github.com/repos/beancount/beanquery","labels_url":"https://api.github.com/repos/beancount/beanquery/issues/235/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beanquery/issues/235/comments","events_url":"https://api.github.com/repos/beancount/beanquery/issues/235/events","html_url":"https://github.com/beancount/beanquery/pull/235","id":2825153662,"node_id":"PR_kwDOFUEJF86JurJU","number":235,"title":"Implement CREATE TABLE AS","user":{"login":"dnicolodi","id":987145,"node_id":"MDQ6VXNlcjk4NzE0NQ==","avatar_url":"https://avatars.githubusercontent.com/u/987145?v=4","gravatar_id":"","url":"https://api.github.com/users/dnicolodi","html_url":"https://github.com/dnicolodi","followers_url":"https://api.github.com/users/dnicolodi/followers","following_url":"https://api.github.com/users/dnicolodi/following{/other_user}","gists_url":"https://api.github.com/users/dnicolodi/gists{/gist_id}","starred_url":"https://api.github.com/users/dnicolodi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dnicolodi/subscriptions","organizations_url":"https://api.github.com/users/dnicolodi/orgs","repos_url":"https://api.github.com/users/dnicolodi/repos","events_url":"https://api.github.com/users/dnicolodi/events{/privacy}","received_events_url":"https://api.github.com/users/dnicolodi/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":0,"created_at":"2025-02-01T11:21:31Z","updated_at":"2025-02-01T11:34:13Z","closed_at":"2025-02-01T11:34:13Z","author_association":"COLLABORATOR","type":null,"active_lock_reason":null,"draft":false,"pull_request":{"url":"https://api.github.com/repos/beancount/beanquery/pulls/235","html_url":"https://github.com/beancount/beanquery/pull/235","diff_url":"https://github.com/beancount/beanquery/pull/235.diff","patch_url":"https://github.com/beancount/beanquery/pull/235.patch","merged_at":"2025-02-01T11:34:13Z"},"body":null,"closed_by":{"login":"dnicolodi","id":987145,"node_id":"MDQ6VXNlcjk4NzE0NQ==","avatar_url":"https://avatars.githubusercontent.com/u/987145?v=4","gravatar_id":"","url":"https://api.github.com/users/dnicolodi","html_url":"https://github.com/dnicolodi","followers_url":"https://api.github.com/users/dnicolodi/followers","following_url":"https://api.github.com/users/dnicolodi/following{/other_user}","gists_url":"https://api.github.com/users/dnicolodi/gists{/gist_id}","starred_url":"https://api.github.com/users/dnicolodi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dnicolodi/subscriptions","organizations_url":"https://api.github.com/users/dnicolodi/orgs","repos_url":"https://api.github.com/users/dnicolodi/repos","events_url":"https://api.github.com/users/dnicolodi/events{/privacy}","received_events_url":"https://api.github.com/users/dnicolodi/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/beancount/beanquery/issues/235/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beanquery/issues/235/timeline","performed_via_github_app":null,"state_reason":null},{"url":"https://api.github.com/repos/beancount/beanquery/issues/234","repository_url":"https://api.github.com/repos/beancount/beanquery","labels_url":"https://api.github.com/repos/beancount/beanquery/issues/234/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beanquery/issues/234/comments","events_url":"https://api.github.com/repos/beancount/beanquery/issues/234/events","html_url":"https://github.com/beancount/beanquery/pull/234","id":2823485893,"node_id":"PR_kwDOFUEJF86Jo8Cl","number":234,"title":"Improve FROM clause handling","user":{"login":"dnicolodi","id":987145,"node_id":"MDQ6VXNlcjk4NzE0NQ==","avatar_url":"https://avatars.githubusercontent.com/u/987145?v=4","gravatar_id":"","url":"https://api.github.com/users/dnicolodi","html_url":"https://github.com/dnicolodi","followers_url":"https://api.github.com/users/dnicolodi/followers","following_url":"https://api.github.com/users/dnicolodi/following{/other_user}","gists_url":"https://api.github.com/users/dnicolodi/gists{/gist_id}","starred_url":"https://api.github.com/users/dnicolodi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dnicolodi/subscriptions","organizations_url":"https://api.github.com/users/dnicolodi/orgs","repos_url":"https://api.github.com/users/dnicolodi/repos","events_url":"https://api.github.com/users/dnicolodi/events{/privacy}","received_events_url":"https://api.github.com/users/dnicolodi/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":0,"created_at":"2025-01-31T13:25:13Z","updated_at":"2025-01-31T20:58:18Z","closed_at":"2025-01-31T20:58:18Z","author_association":"COLLABORATOR","type":null,"active_lock_reason":null,"draft":false,"pull_request":{"url":"https://api.github.com/repos/beancount/beanquery/pulls/234","html_url":"https://github.com/beancount/beanquery/pull/234","diff_url":"https://github.com/beancount/beanquery/pull/234.diff","patch_url":"https://github.com/beancount/beanquery/pull/234.patch","merged_at":"2025-01-31T20:58:18Z"},"body":null,"closed_by":{"login":"dnicolodi","id":987145,"node_id":"MDQ6VXNlcjk4NzE0NQ==","avatar_url":"https://avatars.githubusercontent.com/u/987145?v=4","gravatar_id":"","url":"https://api.github.com/users/dnicolodi","html_url":"https://github.com/dnicolodi","followers_url":"https://api.github.com/users/dnicolodi/followers","following_url":"https://api.github.com/users/dnicolodi/following{/other_user}","gists_url":"https://api.github.com/users/dnicolodi/gists{/gist_id}","starred_url":"https://api.github.com/users/dnicolodi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dnicolodi/subscriptions","organizations_url":"https://api.github.com/users/dnicolodi/orgs","repos_url":"https://api.github.com/users/dnicolodi/repos","events_url":"https://api.github.com/users/dnicolodi/events{/privacy}","received_events_url":"https://api.github.com/users/dnicolodi/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/beancount/beanquery/issues/234/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beanquery/issues/234/timeline","performed_via_github_app":null,"state_reason":null},{"url":"https://api.github.com/repos/beancount/beanquery/issues/233","repository_url":"https://api.github.com/repos/beancount/beanquery","labels_url":"https://api.github.com/repos/beancount/beanquery/issues/233/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beanquery/issues/233/comments","events_url":"https://api.github.com/repos/beancount/beanquery/issues/233/events","html_url":"https://github.com/beancount/beanquery/pull/233","id":2821974492,"node_id":"PR_kwDOFUEJF86Jj3bI","number":233,"title":"sources.csv: Tables backed by data in CSV files","user":{"login":"dnicolodi","id":987145,"node_id":"MDQ6VXNlcjk4NzE0NQ==","avatar_url":"https://avatars.githubusercontent.com/u/987145?v=4","gravatar_id":"","url":"https://api.github.com/users/dnicolodi","html_url":"https://github.com/dnicolodi","followers_url":"https://api.github.com/users/dnicolodi/followers","following_url":"https://api.github.com/users/dnicolodi/following{/other_user}","gists_url":"https://api.github.com/users/dnicolodi/gists{/gist_id}","starred_url":"https://api.github.com/users/dnicolodi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dnicolodi/subscriptions","organizations_url":"https://api.github.com/users/dnicolodi/orgs","repos_url":"https://api.github.com/users/dnicolodi/repos","events_url":"https://api.github.com/users/dnicolodi/events{/privacy}","received_events_url":"https://api.github.com/users/dnicolodi/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":0,"created_at":"2025-01-30T22:47:41Z","updated_at":"2025-01-31T21:09:50Z","closed_at":"2025-01-31T21:09:49Z","author_association":"COLLABORATOR","type":null,"active_lock_reason":null,"draft":false,"pull_request":{"url":"https://api.github.com/repos/beancount/beanquery/pulls/233","html_url":"https://github.com/beancount/beanquery/pull/233","diff_url":"https://github.com/beancount/beanquery/pull/233.diff","patch_url":"https://github.com/beancount/beanquery/pull/233.patch","merged_at":"2025-01-31T21:09:49Z"},"body":null,"closed_by":{"login":"dnicolodi","id":987145,"node_id":"MDQ6VXNlcjk4NzE0NQ==","avatar_url":"https://avatars.githubusercontent.com/u/987145?v=4","gravatar_id":"","url":"https://api.github.com/users/dnicolodi","html_url":"https://github.com/dnicolodi","followers_url":"https://api.github.com/users/dnicolodi/followers","following_url":"https://api.github.com/users/dnicolodi/following{/other_user}","gists_url":"https://api.github.com/users/dnicolodi/gists{/gist_id}","starred_url":"https://api.github.com/users/dnicolodi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dnicolodi/subscriptions","organizations_url":"https://api.github.com/users/dnicolodi/orgs","repos_url":"https://api.github.com/users/dnicolodi/repos","events_url":"https://api.github.com/users/dnicolodi/events{/privacy}","received_events_url":"https://api.github.com/users/dnicolodi/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/beancount/beanquery/issues/233/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beanquery/issues/233/timeline","performed_via_github_app":null,"state_reason":null},{"url":"https://api.github.com/repos/beancount/beanquery/issues/232","repository_url":"https://api.github.com/repos/beancount/beanquery","labels_url":"https://api.github.com/repos/beancount/beanquery/issues/232/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beanquery/issues/232/comments","events_url":"https://api.github.com/repos/beancount/beanquery/issues/232/events","html_url":"https://github.com/beancount/beanquery/pull/232","id":2819577191,"node_id":"PR_kwDOFUEJF86Jby6E","number":232,"title":"Implement CREATE TABLE and INSERT","user":{"login":"dnicolodi","id":987145,"node_id":"MDQ6VXNlcjk4NzE0NQ==","avatar_url":"https://avatars.githubusercontent.com/u/987145?v=4","gravatar_id":"","url":"https://api.github.com/users/dnicolodi","html_url":"https://github.com/dnicolodi","followers_url":"https://api.github.com/users/dnicolodi/followers","following_url":"https://api.github.com/users/dnicolodi/following{/other_user}","gists_url":"https://api.github.com/users/dnicolodi/gists{/gist_id}","starred_url":"https://api.github.com/users/dnicolodi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dnicolodi/subscriptions","organizations_url":"https://api.github.com/users/dnicolodi/orgs","repos_url":"https://api.github.com/users/dnicolodi/repos","events_url":"https://api.github.com/users/dnicolodi/events{/privacy}","received_events_url":"https://api.github.com/users/dnicolodi/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":0,"created_at":"2025-01-29T23:46:25Z","updated_at":"2025-01-30T20:28:10Z","closed_at":"2025-01-30T20:28:10Z","author_association":"COLLABORATOR","type":null,"active_lock_reason":null,"draft":false,"pull_request":{"url":"https://api.github.com/repos/beancount/beanquery/pulls/232","html_url":"https://github.com/beancount/beanquery/pull/232","diff_url":"https://github.com/beancount/beanquery/pull/232.diff","patch_url":"https://github.com/beancount/beanquery/pull/232.patch","merged_at":"2025-01-30T20:28:10Z"},"body":"This does not do anything useful yet.","closed_by":{"login":"dnicolodi","id":987145,"node_id":"MDQ6VXNlcjk4NzE0NQ==","avatar_url":"https://avatars.githubusercontent.com/u/987145?v=4","gravatar_id":"","url":"https://api.github.com/users/dnicolodi","html_url":"https://github.com/dnicolodi","followers_url":"https://api.github.com/users/dnicolodi/followers","following_url":"https://api.github.com/users/dnicolodi/following{/other_user}","gists_url":"https://api.github.com/users/dnicolodi/gists{/gist_id}","starred_url":"https://api.github.com/users/dnicolodi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dnicolodi/subscriptions","organizations_url":"https://api.github.com/users/dnicolodi/orgs","repos_url":"https://api.github.com/users/dnicolodi/repos","events_url":"https://api.github.com/users/dnicolodi/events{/privacy}","received_events_url":"https://api.github.com/users/dnicolodi/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/beancount/beanquery/issues/232/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beanquery/issues/232/timeline","performed_via_github_app":null,"state_reason":null},{"url":"https://api.github.com/repos/beancount/beanquery/issues/231","repository_url":"https://api.github.com/repos/beancount/beanquery","labels_url":"https://api.github.com/repos/beancount/beanquery/issues/231/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beanquery/issues/231/comments","events_url":"https://api.github.com/repos/beancount/beanquery/issues/231/events","html_url":"https://github.com/beancount/beanquery/pull/231","id":2818806671,"node_id":"PR_kwDOFUEJF86JZLps","number":231,"title":"beancount: Move tables definitions to beanquery.sources.beancount","user":{"login":"dnicolodi","id":987145,"node_id":"MDQ6VXNlcjk4NzE0NQ==","avatar_url":"https://avatars.githubusercontent.com/u/987145?v=4","gravatar_id":"","url":"https://api.github.com/users/dnicolodi","html_url":"https://github.com/dnicolodi","followers_url":"https://api.github.com/users/dnicolodi/followers","following_url":"https://api.github.com/users/dnicolodi/following{/other_user}","gists_url":"https://api.github.com/users/dnicolodi/gists{/gist_id}","starred_url":"https://api.github.com/users/dnicolodi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dnicolodi/subscriptions","organizations_url":"https://api.github.com/users/dnicolodi/orgs","repos_url":"https://api.github.com/users/dnicolodi/repos","events_url":"https://api.github.com/users/dnicolodi/events{/privacy}","received_events_url":"https://api.github.com/users/dnicolodi/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":0,"created_at":"2025-01-29T17:20:38Z","updated_at":"2025-01-29T22:26:42Z","closed_at":"2025-01-29T22:26:42Z","author_association":"COLLABORATOR","type":null,"active_lock_reason":null,"draft":false,"pull_request":{"url":"https://api.github.com/repos/beancount/beanquery/pulls/231","html_url":"https://github.com/beancount/beanquery/pull/231","diff_url":"https://github.com/beancount/beanquery/pull/231.diff","patch_url":"https://github.com/beancount/beanquery/pull/231.patch","merged_at":"2025-01-29T22:26:42Z"},"body":null,"closed_by":{"login":"dnicolodi","id":987145,"node_id":"MDQ6VXNlcjk4NzE0NQ==","avatar_url":"https://avatars.githubusercontent.com/u/987145?v=4","gravatar_id":"","url":"https://api.github.com/users/dnicolodi","html_url":"https://github.com/dnicolodi","followers_url":"https://api.github.com/users/dnicolodi/followers","following_url":"https://api.github.com/users/dnicolodi/following{/other_user}","gists_url":"https://api.github.com/users/dnicolodi/gists{/gist_id}","starred_url":"https://api.github.com/users/dnicolodi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dnicolodi/subscriptions","organizations_url":"https://api.github.com/users/dnicolodi/orgs","repos_url":"https://api.github.com/users/dnicolodi/repos","events_url":"https://api.github.com/users/dnicolodi/events{/privacy}","received_events_url":"https://api.github.com/users/dnicolodi/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/beancount/beanquery/issues/231/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beanquery/issues/231/timeline","performed_via_github_app":null,"state_reason":null},{"url":"https://api.github.com/repos/beancount/beanquery/issues/230","repository_url":"https://api.github.com/repos/beancount/beanquery","labels_url":"https://api.github.com/repos/beancount/beanquery/issues/230/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beanquery/issues/230/comments","events_url":"https://api.github.com/repos/beancount/beanquery/issues/230/events","html_url":"https://github.com/beancount/beanquery/issues/230","id":2816350053,"node_id":"I_kwDOFUEJF86n3hdl","number":230,"title":"`readline` raises `OSError` if an old history file exists","user":{"login":"wzyboy","id":459384,"node_id":"MDQ6VXNlcjQ1OTM4NA==","avatar_url":"https://avatars.githubusercontent.com/u/459384?v=4","gravatar_id":"","url":"https://api.github.com/users/wzyboy","html_url":"https://github.com/wzyboy","followers_url":"https://api.github.com/users/wzyboy/followers","following_url":"https://api.github.com/users/wzyboy/following{/other_user}","gists_url":"https://api.github.com/users/wzyboy/gists{/gist_id}","starred_url":"https://api.github.com/users/wzyboy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wzyboy/subscriptions","organizations_url":"https://api.github.com/users/wzyboy/orgs","repos_url":"https://api.github.com/users/wzyboy/repos","events_url":"https://api.github.com/users/wzyboy/events{/privacy}","received_events_url":"https://api.github.com/users/wzyboy/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":8067891322,"node_id":"LA_kwDOFUEJF88AAAAB4OJAeg","url":"https://api.github.com/repos/beancount/beanquery/labels/not%20our%20bug","name":"not our bug","color":"f9d0c4","default":false,"description":"Issue due to a bug elsewhere"}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":7,"created_at":"2025-01-28T17:43:49Z","updated_at":"2025-06-11T11:40:23Z","closed_at":"2025-01-28T18:26:52Z","author_association":"NONE","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"`bean-query` immediately crashes with exception:\n\n```\n$ (master %=) ./.venv/bin/bean-query example.bean\nTraceback (most recent call last):\n  File \"/home/wzyboy/git/beanquery/./.venv/bin/bean-query\", line 8, in <module>\n    sys.exit(main())\n             ^^^^^^\n  File \"/home/wzyboy/git/beanquery/.venv/lib/python3.12/site-packages/click/core.py\", line 1161, in __call__\n    return self.main(*args, **kwargs)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/wzyboy/git/beanquery/.venv/lib/python3.12/site-packages/click/core.py\", line 1082, in main\n    rv = self.invoke(ctx)\n         ^^^^^^^^^^^^^^^^\n  File \"/home/wzyboy/git/beanquery/.venv/lib/python3.12/site-packages/click/core.py\", line 1443, in invoke\n    return ctx.invoke(self.callback, **ctx.params)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/wzyboy/git/beanquery/.venv/lib/python3.12/site-packages/click/core.py\", line 788, in invoke\n    return __callback(*args, **kwargs)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/wzyboy/git/beanquery/beanquery/shell.py\", line 791, in main\n    shell = BQLShell(filename, output, interactive, True, format, numberify, not no_errors)\n            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/wzyboy/git/beanquery/beanquery/shell.py\", line 388, in __init__\n    super().__init__(outfile, interactive, runinit, settings)\n  File \"/home/wzyboy/git/beanquery/beanquery/shell.py\", line 187, in __init__\n    readline.read_history_file(history_filepath)\nOSError: [Errno 22] Invalid argument\n```\n\nI did some digging. The code is trying to load `/home/wzyboy/.config/beanquery/history` file, which **exists**.\n\nI find either deleting the existing history file, or changing the code to `with suppress(FileNotFoundError, OSError):` stops the exception from raising, but I'm not sure if simplying suppressing `OSError` is a good idea.\n\nI'm not familiar with readline but my guess is that the file was in a format that is not recognized by readline so it throws `OSError`.","closed_by":{"login":"wzyboy","id":459384,"node_id":"MDQ6VXNlcjQ1OTM4NA==","avatar_url":"https://avatars.githubusercontent.com/u/459384?v=4","gravatar_id":"","url":"https://api.github.com/users/wzyboy","html_url":"https://github.com/wzyboy","followers_url":"https://api.github.com/users/wzyboy/followers","following_url":"https://api.github.com/users/wzyboy/following{/other_user}","gists_url":"https://api.github.com/users/wzyboy/gists{/gist_id}","starred_url":"https://api.github.com/users/wzyboy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wzyboy/subscriptions","organizations_url":"https://api.github.com/users/wzyboy/orgs","repos_url":"https://api.github.com/users/wzyboy/repos","events_url":"https://api.github.com/users/wzyboy/events{/privacy}","received_events_url":"https://api.github.com/users/wzyboy/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/beancount/beanquery/issues/230/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beanquery/issues/230/timeline","performed_via_github_app":null,"state_reason":"completed"},{"url":"https://api.github.com/repos/beancount/beanquery/issues/229","repository_url":"https://api.github.com/repos/beancount/beanquery","labels_url":"https://api.github.com/repos/beancount/beanquery/issues/229/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beanquery/issues/229/comments","events_url":"https://api.github.com/repos/beancount/beanquery/issues/229/events","html_url":"https://github.com/beancount/beanquery/pull/229","id":2812608584,"node_id":"PR_kwDOFUEJF86JEBiS","number":229,"title":"execute: Support DISTINCT for rows containing non hashable objects","user":{"login":"dnicolodi","id":987145,"node_id":"MDQ6VXNlcjk4NzE0NQ==","avatar_url":"https://avatars.githubusercontent.com/u/987145?v=4","gravatar_id":"","url":"https://api.github.com/users/dnicolodi","html_url":"https://github.com/dnicolodi","followers_url":"https://api.github.com/users/dnicolodi/followers","following_url":"https://api.github.com/users/dnicolodi/following{/other_user}","gists_url":"https://api.github.com/users/dnicolodi/gists{/gist_id}","starred_url":"https://api.github.com/users/dnicolodi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dnicolodi/subscriptions","organizations_url":"https://api.github.com/users/dnicolodi/orgs","repos_url":"https://api.github.com/users/dnicolodi/repos","events_url":"https://api.github.com/users/dnicolodi/events{/privacy}","received_events_url":"https://api.github.com/users/dnicolodi/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":0,"created_at":"2025-01-27T10:19:16Z","updated_at":"2025-01-27T20:42:54Z","closed_at":"2025-01-27T20:42:54Z","author_association":"COLLABORATOR","type":null,"active_lock_reason":null,"draft":false,"pull_request":{"url":"https://api.github.com/repos/beancount/beanquery/pulls/229","html_url":"https://github.com/beancount/beanquery/pull/229","diff_url":"https://github.com/beancount/beanquery/pull/229.diff","patch_url":"https://github.com/beancount/beanquery/pull/229.patch","merged_at":"2025-01-27T20:42:54Z"},"body":null,"closed_by":{"login":"dnicolodi","id":987145,"node_id":"MDQ6VXNlcjk4NzE0NQ==","avatar_url":"https://avatars.githubusercontent.com/u/987145?v=4","gravatar_id":"","url":"https://api.github.com/users/dnicolodi","html_url":"https://github.com/dnicolodi","followers_url":"https://api.github.com/users/dnicolodi/followers","following_url":"https://api.github.com/users/dnicolodi/following{/other_user}","gists_url":"https://api.github.com/users/dnicolodi/gists{/gist_id}","starred_url":"https://api.github.com/users/dnicolodi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dnicolodi/subscriptions","organizations_url":"https://api.github.com/users/dnicolodi/orgs","repos_url":"https://api.github.com/users/dnicolodi/repos","events_url":"https://api.github.com/users/dnicolodi/events{/privacy}","received_events_url":"https://api.github.com/users/dnicolodi/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/beancount/beanquery/issues/229/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beanquery/issues/229/timeline","performed_via_github_app":null,"state_reason":null},{"url":"https://api.github.com/repos/beancount/beanquery/issues/228","repository_url":"https://api.github.com/repos/beancount/beanquery","labels_url":"https://api.github.com/repos/beancount/beanquery/issues/228/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beanquery/issues/228/comments","events_url":"https://api.github.com/repos/beancount/beanquery/issues/228/events","html_url":"https://github.com/beancount/beanquery/issues/228","id":2808014384,"node_id":"I_kwDOFUEJF86nXuYw","number":228,"title":"Find a way to make `DISTINCT` work for queries with unhashable columns","user":{"login":"dnicolodi","id":987145,"node_id":"MDQ6VXNlcjk4NzE0NQ==","avatar_url":"https://avatars.githubusercontent.com/u/987145?v=4","gravatar_id":"","url":"https://api.github.com/users/dnicolodi","html_url":"https://github.com/dnicolodi","followers_url":"https://api.github.com/users/dnicolodi/followers","following_url":"https://api.github.com/users/dnicolodi/following{/other_user}","gists_url":"https://api.github.com/users/dnicolodi/gists{/gist_id}","starred_url":"https://api.github.com/users/dnicolodi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dnicolodi/subscriptions","organizations_url":"https://api.github.com/users/dnicolodi/orgs","repos_url":"https://api.github.com/users/dnicolodi/repos","events_url":"https://api.github.com/users/dnicolodi/events{/privacy}","received_events_url":"https://api.github.com/users/dnicolodi/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":1,"created_at":"2025-01-23T22:02:32Z","updated_at":"2025-01-27T20:43:20Z","closed_at":"2025-01-27T20:43:19Z","author_association":"COLLABORATOR","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"parent_issue_url":"https://api.github.com/repos/beancount/beanquery/issues/123","issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"The current implementation of the `DISTINCT` clause is based on adding the rows to a `set`. This requires the rows to be hashable, which in turns requires the types of all the columns in the result set to be hashable. This does not work for all types supported by beangulp, in particular structured types.\n\nBeing able to use use `DISTINCT` with unhashable types would be nice in combination with the `beancount` output format and the `entry` column of the `postings` table, see #188.\n\nMaking this to work would most likely require to find a way to look up an hashing function for types that specify one. The trick is probably to determine which types require the lookup and implement everything without huge performance penalties.","closed_by":{"login":"dnicolodi","id":987145,"node_id":"MDQ6VXNlcjk4NzE0NQ==","avatar_url":"https://avatars.githubusercontent.com/u/987145?v=4","gravatar_id":"","url":"https://api.github.com/users/dnicolodi","html_url":"https://github.com/dnicolodi","followers_url":"https://api.github.com/users/dnicolodi/followers","following_url":"https://api.github.com/users/dnicolodi/following{/other_user}","gists_url":"https://api.github.com/users/dnicolodi/gists{/gist_id}","starred_url":"https://api.github.com/users/dnicolodi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dnicolodi/subscriptions","organizations_url":"https://api.github.com/users/dnicolodi/orgs","repos_url":"https://api.github.com/users/dnicolodi/repos","events_url":"https://api.github.com/users/dnicolodi/events{/privacy}","received_events_url":"https://api.github.com/users/dnicolodi/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/beancount/beanquery/issues/228/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beanquery/issues/228/timeline","performed_via_github_app":null,"state_reason":"completed"},{"url":"https://api.github.com/repos/beancount/beanquery/issues/227","repository_url":"https://api.github.com/repos/beancount/beanquery","labels_url":"https://api.github.com/repos/beancount/beanquery/issues/227/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beanquery/issues/227/comments","events_url":"https://api.github.com/repos/beancount/beanquery/issues/227/events","html_url":"https://github.com/beancount/beanquery/pull/227","id":2797755864,"node_id":"PR_kwDOFUEJF86IRl0h","number":227,"title":"Implement ANY and ALL","user":{"login":"dnicolodi","id":987145,"node_id":"MDQ6VXNlcjk4NzE0NQ==","avatar_url":"https://avatars.githubusercontent.com/u/987145?v=4","gravatar_id":"","url":"https://api.github.com/users/dnicolodi","html_url":"https://github.com/dnicolodi","followers_url":"https://api.github.com/users/dnicolodi/followers","following_url":"https://api.github.com/users/dnicolodi/following{/other_user}","gists_url":"https://api.github.com/users/dnicolodi/gists{/gist_id}","starred_url":"https://api.github.com/users/dnicolodi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dnicolodi/subscriptions","organizations_url":"https://api.github.com/users/dnicolodi/orgs","repos_url":"https://api.github.com/users/dnicolodi/repos","events_url":"https://api.github.com/users/dnicolodi/events{/privacy}","received_events_url":"https://api.github.com/users/dnicolodi/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":0,"created_at":"2025-01-19T18:06:07Z","updated_at":"2025-01-20T19:34:39Z","closed_at":"2025-01-20T19:34:39Z","author_association":"COLLABORATOR","type":null,"active_lock_reason":null,"draft":false,"pull_request":{"url":"https://api.github.com/repos/beancount/beanquery/pulls/227","html_url":"https://github.com/beancount/beanquery/pull/227","diff_url":"https://github.com/beancount/beanquery/pull/227.diff","patch_url":"https://github.com/beancount/beanquery/pull/227.patch","merged_at":"2025-01-20T19:34:39Z"},"body":null,"closed_by":{"login":"dnicolodi","id":987145,"node_id":"MDQ6VXNlcjk4NzE0NQ==","avatar_url":"https://avatars.githubusercontent.com/u/987145?v=4","gravatar_id":"","url":"https://api.github.com/users/dnicolodi","html_url":"https://github.com/dnicolodi","followers_url":"https://api.github.com/users/dnicolodi/followers","following_url":"https://api.github.com/users/dnicolodi/following{/other_user}","gists_url":"https://api.github.com/users/dnicolodi/gists{/gist_id}","starred_url":"https://api.github.com/users/dnicolodi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dnicolodi/subscriptions","organizations_url":"https://api.github.com/users/dnicolodi/orgs","repos_url":"https://api.github.com/users/dnicolodi/repos","events_url":"https://api.github.com/users/dnicolodi/events{/privacy}","received_events_url":"https://api.github.com/users/dnicolodi/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/beancount/beanquery/issues/227/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beanquery/issues/227/timeline","performed_via_github_app":null,"state_reason":null},{"url":"https://api.github.com/repos/beancount/beanquery/issues/226","repository_url":"https://api.github.com/repos/beancount/beanquery","labels_url":"https://api.github.com/repos/beancount/beanquery/issues/226/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beanquery/issues/226/comments","events_url":"https://api.github.com/repos/beancount/beanquery/issues/226/events","html_url":"https://github.com/beancount/beanquery/issues/226","id":2797644702,"node_id":"I_kwDOFUEJF86mwKue","number":226,"title":"Beanquery is incompatible with TatSu 5.13.1","user":{"login":"AlphaJack","id":19962243,"node_id":"MDQ6VXNlcjE5OTYyMjQz","avatar_url":"https://avatars.githubusercontent.com/u/19962243?v=4","gravatar_id":"","url":"https://api.github.com/users/AlphaJack","html_url":"https://github.com/AlphaJack","followers_url":"https://api.github.com/users/AlphaJack/followers","following_url":"https://api.github.com/users/AlphaJack/following{/other_user}","gists_url":"https://api.github.com/users/AlphaJack/gists{/gist_id}","starred_url":"https://api.github.com/users/AlphaJack/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/AlphaJack/subscriptions","organizations_url":"https://api.github.com/users/AlphaJack/orgs","repos_url":"https://api.github.com/users/AlphaJack/repos","events_url":"https://api.github.com/users/AlphaJack/events{/privacy}","received_events_url":"https://api.github.com/users/AlphaJack/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":2901894424,"node_id":"MDU6TGFiZWwyOTAxODk0NDI0","url":"https://api.github.com/repos/beancount/beanquery/labels/invalid","name":"invalid","color":"e4e669","default":true,"description":"This doesn't seem right"}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":9,"created_at":"2025-01-19T14:05:20Z","updated_at":"2025-01-28T16:38:56Z","closed_at":"2025-01-27T15:18:41Z","author_association":"NONE","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"With TatSu 5.13.1 I'm having this error that was not present with TatSu 5.7.4:\n\n```python\nTraceback (most recent call last):\n\n ...\n\n  File \"/usr/lib/python3.13/site-packages/beanquery/shell.py\", line 257, in onecmd\n    return self.execute(line)\n           ~~~~~~~~~~~~^^^^^^\n  File \"/usr/lib/python3.13/site-packages/beanquery/shell.py\", line 333, in execute\n    statement = self.parse(query, **kwargs)\n  File \"/usr/lib/python3.13/site-packages/beanquery/shell.py\", line 363, in parse\n    statement = self.context.parse(line)\n  File \"/usr/lib/python3.13/site-packages/beanquery/__init__.py\", line 47, in parse\n    return parser.parse(query)\n           ~~~~~~~~~~~~^^^^^^^\n  File \"/usr/lib/python3.13/site-packages/beanquery/parser/__init__.py\", line 61, in parse\n    return parser.BQLParser().parse(text, semantics=BQLSemantics())\n           ~~~~~~~~~~~~~~~~^^\n  File \"/usr/lib/python3.13/site-packages/beanquery/parser/parser.py\", line 70, in __init__\n    config = ParserConfig.new(\n        config,\n    ...<9 lines>...\n        start='bql',\n    )\n  File \"/usr/lib/python3.13/site-packages/tatsu/infos.py\", line 93, in new\n    return result.replace(**settings)\n           ~~~~~~~~~~~~~~^^^^^^^^^^^^\n  File \"/usr/lib/python3.13/site-packages/tatsu/infos.py\", line 133, in replace\n    result = dataclasses.replace(self, **overrides)\n  File \"/usr/lib/python3.13/dataclasses.py\", line 1596, in replace\n    return _replace(obj, **changes)\n  File \"/usr/lib/python3.13/dataclasses.py\", line 1630, in _replace\n    return self.__class__(**changes)\n           ~~~~~~~~~~~~~~^^^^^^^^^^^\n  File \"<string>\", line 31, in __init__\n  File \"/usr/lib/python3.13/site-packages/tatsu/infos.py\", line 69, in __post_init__\n    raise AttributeError(\n    ...<2 lines>...\n    )\nAttributeError: Both `comments_re` and `eol_comments_re` have been removed from parser configurations. Please use `comments` and/or `eol_comments` instead\n```","closed_by":{"login":"dnicolodi","id":987145,"node_id":"MDQ6VXNlcjk4NzE0NQ==","avatar_url":"https://avatars.githubusercontent.com/u/987145?v=4","gravatar_id":"","url":"https://api.github.com/users/dnicolodi","html_url":"https://github.com/dnicolodi","followers_url":"https://api.github.com/users/dnicolodi/followers","following_url":"https://api.github.com/users/dnicolodi/following{/other_user}","gists_url":"https://api.github.com/users/dnicolodi/gists{/gist_id}","starred_url":"https://api.github.com/users/dnicolodi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dnicolodi/subscriptions","organizations_url":"https://api.github.com/users/dnicolodi/orgs","repos_url":"https://api.github.com/users/dnicolodi/repos","events_url":"https://api.github.com/users/dnicolodi/events{/privacy}","received_events_url":"https://api.github.com/users/dnicolodi/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/beancount/beanquery/issues/226/reactions","total_count":2,"+1":2,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beanquery/issues/226/timeline","performed_via_github_app":null,"state_reason":"completed"},{"url":"https://api.github.com/repos/beancount/beanquery/issues/225","repository_url":"https://api.github.com/repos/beancount/beanquery","labels_url":"https://api.github.com/repos/beancount/beanquery/issues/225/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beanquery/issues/225/comments","events_url":"https://api.github.com/repos/beancount/beanquery/issues/225/events","html_url":"https://github.com/beancount/beanquery/issues/225","id":2792958415,"node_id":"I_kwDOFUEJF86meSnP","number":225,"title":"Allow to enter multi-line BQL queries in the shell","user":{"login":"dnicolodi","id":987145,"node_id":"MDQ6VXNlcjk4NzE0NQ==","avatar_url":"https://avatars.githubusercontent.com/u/987145?v=4","gravatar_id":"","url":"https://api.github.com/users/dnicolodi","html_url":"https://github.com/dnicolodi","followers_url":"https://api.github.com/users/dnicolodi/followers","following_url":"https://api.github.com/users/dnicolodi/following{/other_user}","gists_url":"https://api.github.com/users/dnicolodi/gists{/gist_id}","starred_url":"https://api.github.com/users/dnicolodi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dnicolodi/subscriptions","organizations_url":"https://api.github.com/users/dnicolodi/orgs","repos_url":"https://api.github.com/users/dnicolodi/repos","events_url":"https://api.github.com/users/dnicolodi/events{/privacy}","received_events_url":"https://api.github.com/users/dnicolodi/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"open","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":0,"created_at":"2025-01-16T14:36:24Z","updated_at":"2025-01-16T14:36:24Z","closed_at":null,"author_association":"COLLABORATOR","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"This most likely requires moving away from a simple `cmd.Cmd` interpreter loop and it requires the parser to be able to detect incomplete commads. It may be very difficult to achieve this without requiring BQL statements to be terminated by a semicolon, because the SQL grammar is otherwise ambiguous: there is not way to know if `SELECT 1` is a standalone statement ot is the begginning of a more comple statement `SELECT 1 FROM x WHERE ...`","closed_by":null,"reactions":{"url":"https://api.github.com/repos/beancount/beanquery/issues/225/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beanquery/issues/225/timeline","performed_via_github_app":null,"state_reason":null},{"url":"https://api.github.com/repos/beancount/beanquery/issues/224","repository_url":"https://api.github.com/repos/beancount/beanquery","labels_url":"https://api.github.com/repos/beancount/beanquery/issues/224/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beanquery/issues/224/comments","events_url":"https://api.github.com/repos/beancount/beanquery/issues/224/events","html_url":"https://github.com/beancount/beanquery/pull/224","id":2792025973,"node_id":"PR_kwDOFUEJF86H-B3e","number":224,"title":"uses: astral-sh/ruff-action@v3","user":{"login":"cclauss","id":3709715,"node_id":"MDQ6VXNlcjM3MDk3MTU=","avatar_url":"https://avatars.githubusercontent.com/u/3709715?v=4","gravatar_id":"","url":"https://api.github.com/users/cclauss","html_url":"https://github.com/cclauss","followers_url":"https://api.github.com/users/cclauss/followers","following_url":"https://api.github.com/users/cclauss/following{/other_user}","gists_url":"https://api.github.com/users/cclauss/gists{/gist_id}","starred_url":"https://api.github.com/users/cclauss/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cclauss/subscriptions","organizations_url":"https://api.github.com/users/cclauss/orgs","repos_url":"https://api.github.com/users/cclauss/repos","events_url":"https://api.github.com/users/cclauss/events{/privacy}","received_events_url":"https://api.github.com/users/cclauss/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":2,"created_at":"2025-01-16T08:30:04Z","updated_at":"2025-01-20T20:39:27Z","closed_at":"2025-01-20T20:39:23Z","author_association":"NONE","type":null,"active_lock_reason":null,"draft":false,"pull_request":{"url":"https://api.github.com/repos/beancount/beanquery/pulls/224","html_url":"https://github.com/beancount/beanquery/pull/224","diff_url":"https://github.com/beancount/beanquery/pull/224.diff","patch_url":"https://github.com/beancount/beanquery/pull/224.patch","merged_at":null},"body":"https://github.com/astral-sh/ruff-action\r\n\r\nRuff is written in Rust so it does not require any particular version of Python.","closed_by":{"login":"cclauss","id":3709715,"node_id":"MDQ6VXNlcjM3MDk3MTU=","avatar_url":"https://avatars.githubusercontent.com/u/3709715?v=4","gravatar_id":"","url":"https://api.github.com/users/cclauss","html_url":"https://github.com/cclauss","followers_url":"https://api.github.com/users/cclauss/followers","following_url":"https://api.github.com/users/cclauss/following{/other_user}","gists_url":"https://api.github.com/users/cclauss/gists{/gist_id}","starred_url":"https://api.github.com/users/cclauss/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cclauss/subscriptions","organizations_url":"https://api.github.com/users/cclauss/orgs","repos_url":"https://api.github.com/users/cclauss/repos","events_url":"https://api.github.com/users/cclauss/events{/privacy}","received_events_url":"https://api.github.com/users/cclauss/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/beancount/beanquery/issues/224/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beanquery/issues/224/timeline","performed_via_github_app":null,"state_reason":null},{"url":"https://api.github.com/repos/beancount/beanquery/issues/223","repository_url":"https://api.github.com/repos/beancount/beanquery","labels_url":"https://api.github.com/repos/beancount/beanquery/issues/223/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beanquery/issues/223/comments","events_url":"https://api.github.com/repos/beancount/beanquery/issues/223/events","html_url":"https://github.com/beancount/beanquery/pull/223","id":2790943516,"node_id":"PR_kwDOFUEJF86H6QBK","number":223,"title":"shell: Fix --no-errors option and some small cleanups","user":{"login":"dnicolodi","id":987145,"node_id":"MDQ6VXNlcjk4NzE0NQ==","avatar_url":"https://avatars.githubusercontent.com/u/987145?v=4","gravatar_id":"","url":"https://api.github.com/users/dnicolodi","html_url":"https://github.com/dnicolodi","followers_url":"https://api.github.com/users/dnicolodi/followers","following_url":"https://api.github.com/users/dnicolodi/following{/other_user}","gists_url":"https://api.github.com/users/dnicolodi/gists{/gist_id}","starred_url":"https://api.github.com/users/dnicolodi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dnicolodi/subscriptions","organizations_url":"https://api.github.com/users/dnicolodi/orgs","repos_url":"https://api.github.com/users/dnicolodi/repos","events_url":"https://api.github.com/users/dnicolodi/events{/privacy}","received_events_url":"https://api.github.com/users/dnicolodi/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":0,"created_at":"2025-01-15T21:25:14Z","updated_at":"2025-01-15T21:27:49Z","closed_at":"2025-01-15T21:27:49Z","author_association":"COLLABORATOR","type":null,"active_lock_reason":null,"draft":false,"pull_request":{"url":"https://api.github.com/repos/beancount/beanquery/pulls/223","html_url":"https://github.com/beancount/beanquery/pull/223","diff_url":"https://github.com/beancount/beanquery/pull/223.diff","patch_url":"https://github.com/beancount/beanquery/pull/223.patch","merged_at":"2025-01-15T21:27:49Z"},"body":"Fixes #216.","closed_by":{"login":"dnicolodi","id":987145,"node_id":"MDQ6VXNlcjk4NzE0NQ==","avatar_url":"https://avatars.githubusercontent.com/u/987145?v=4","gravatar_id":"","url":"https://api.github.com/users/dnicolodi","html_url":"https://github.com/dnicolodi","followers_url":"https://api.github.com/users/dnicolodi/followers","following_url":"https://api.github.com/users/dnicolodi/following{/other_user}","gists_url":"https://api.github.com/users/dnicolodi/gists{/gist_id}","starred_url":"https://api.github.com/users/dnicolodi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dnicolodi/subscriptions","organizations_url":"https://api.github.com/users/dnicolodi/orgs","repos_url":"https://api.github.com/users/dnicolodi/repos","events_url":"https://api.github.com/users/dnicolodi/events{/privacy}","received_events_url":"https://api.github.com/users/dnicolodi/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/beancount/beanquery/issues/223/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beanquery/issues/223/timeline","performed_via_github_app":null,"state_reason":null},{"url":"https://api.github.com/repos/beancount/beanquery/issues/222","repository_url":"https://api.github.com/repos/beancount/beanquery","labels_url":"https://api.github.com/repos/beancount/beanquery/issues/222/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beanquery/issues/222/comments","events_url":"https://api.github.com/repos/beancount/beanquery/issues/222/events","html_url":"https://github.com/beancount/beanquery/pull/222","id":2782205854,"node_id":"PR_kwDOFUEJF86HcLcu","number":222,"title":"compiler: Add table name to column not found error","user":{"login":"dnicolodi","id":987145,"node_id":"MDQ6VXNlcjk4NzE0NQ==","avatar_url":"https://avatars.githubusercontent.com/u/987145?v=4","gravatar_id":"","url":"https://api.github.com/users/dnicolodi","html_url":"https://github.com/dnicolodi","followers_url":"https://api.github.com/users/dnicolodi/followers","following_url":"https://api.github.com/users/dnicolodi/following{/other_user}","gists_url":"https://api.github.com/users/dnicolodi/gists{/gist_id}","starred_url":"https://api.github.com/users/dnicolodi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dnicolodi/subscriptions","organizations_url":"https://api.github.com/users/dnicolodi/orgs","repos_url":"https://api.github.com/users/dnicolodi/repos","events_url":"https://api.github.com/users/dnicolodi/events{/privacy}","received_events_url":"https://api.github.com/users/dnicolodi/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":0,"created_at":"2025-01-12T00:24:36Z","updated_at":"2025-01-12T00:29:46Z","closed_at":"2025-01-12T00:29:46Z","author_association":"COLLABORATOR","type":null,"active_lock_reason":null,"draft":false,"pull_request":{"url":"https://api.github.com/repos/beancount/beanquery/pulls/222","html_url":"https://github.com/beancount/beanquery/pull/222","diff_url":"https://github.com/beancount/beanquery/pull/222.diff","patch_url":"https://github.com/beancount/beanquery/pull/222.patch","merged_at":"2025-01-12T00:29:46Z"},"body":null,"closed_by":{"login":"dnicolodi","id":987145,"node_id":"MDQ6VXNlcjk4NzE0NQ==","avatar_url":"https://avatars.githubusercontent.com/u/987145?v=4","gravatar_id":"","url":"https://api.github.com/users/dnicolodi","html_url":"https://github.com/dnicolodi","followers_url":"https://api.github.com/users/dnicolodi/followers","following_url":"https://api.github.com/users/dnicolodi/following{/other_user}","gists_url":"https://api.github.com/users/dnicolodi/gists{/gist_id}","starred_url":"https://api.github.com/users/dnicolodi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dnicolodi/subscriptions","organizations_url":"https://api.github.com/users/dnicolodi/orgs","repos_url":"https://api.github.com/users/dnicolodi/repos","events_url":"https://api.github.com/users/dnicolodi/events{/privacy}","received_events_url":"https://api.github.com/users/dnicolodi/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/beancount/beanquery/issues/222/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beanquery/issues/222/timeline","performed_via_github_app":null,"state_reason":null},{"url":"https://api.github.com/repos/beancount/beanquery/issues/221","repository_url":"https://api.github.com/repos/beancount/beanquery","labels_url":"https://api.github.com/repos/beancount/beanquery/issues/221/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beanquery/issues/221/comments","events_url":"https://api.github.com/repos/beancount/beanquery/issues/221/events","html_url":"https://github.com/beancount/beanquery/pull/221","id":2782128464,"node_id":"PR_kwDOFUEJF86Hb8iU","number":221,"title":"Cleanups","user":{"login":"dnicolodi","id":987145,"node_id":"MDQ6VXNlcjk4NzE0NQ==","avatar_url":"https://avatars.githubusercontent.com/u/987145?v=4","gravatar_id":"","url":"https://api.github.com/users/dnicolodi","html_url":"https://github.com/dnicolodi","followers_url":"https://api.github.com/users/dnicolodi/followers","following_url":"https://api.github.com/users/dnicolodi/following{/other_user}","gists_url":"https://api.github.com/users/dnicolodi/gists{/gist_id}","starred_url":"https://api.github.com/users/dnicolodi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dnicolodi/subscriptions","organizations_url":"https://api.github.com/users/dnicolodi/orgs","repos_url":"https://api.github.com/users/dnicolodi/repos","events_url":"https://api.github.com/users/dnicolodi/events{/privacy}","received_events_url":"https://api.github.com/users/dnicolodi/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":0,"created_at":"2025-01-11T20:10:43Z","updated_at":"2025-01-29T22:27:20Z","closed_at":"2025-01-29T22:27:20Z","author_association":"COLLABORATOR","type":null,"active_lock_reason":null,"draft":false,"pull_request":{"url":"https://api.github.com/repos/beancount/beanquery/pulls/221","html_url":"https://github.com/beancount/beanquery/pull/221","diff_url":"https://github.com/beancount/beanquery/pull/221.diff","patch_url":"https://github.com/beancount/beanquery/pull/221.patch","merged_at":null},"body":null,"closed_by":{"login":"dnicolodi","id":987145,"node_id":"MDQ6VXNlcjk4NzE0NQ==","avatar_url":"https://avatars.githubusercontent.com/u/987145?v=4","gravatar_id":"","url":"https://api.github.com/users/dnicolodi","html_url":"https://github.com/dnicolodi","followers_url":"https://api.github.com/users/dnicolodi/followers","following_url":"https://api.github.com/users/dnicolodi/following{/other_user}","gists_url":"https://api.github.com/users/dnicolodi/gists{/gist_id}","starred_url":"https://api.github.com/users/dnicolodi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dnicolodi/subscriptions","organizations_url":"https://api.github.com/users/dnicolodi/orgs","repos_url":"https://api.github.com/users/dnicolodi/repos","events_url":"https://api.github.com/users/dnicolodi/events{/privacy}","received_events_url":"https://api.github.com/users/dnicolodi/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/beancount/beanquery/issues/221/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beanquery/issues/221/timeline","performed_via_github_app":null,"state_reason":null},{"url":"https://api.github.com/repos/beancount/beanquery/issues/220","repository_url":"https://api.github.com/repos/beancount/beanquery","labels_url":"https://api.github.com/repos/beancount/beanquery/issues/220/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beanquery/issues/220/comments","events_url":"https://api.github.com/repos/beancount/beanquery/issues/220/events","html_url":"https://github.com/beancount/beanquery/pull/220","id":2782108719,"node_id":"PR_kwDOFUEJF86Hb4WY","number":220,"title":"shell: Correctly set up completion on systems using libedit","user":{"login":"dnicolodi","id":987145,"node_id":"MDQ6VXNlcjk4NzE0NQ==","avatar_url":"https://avatars.githubusercontent.com/u/987145?v=4","gravatar_id":"","url":"https://api.github.com/users/dnicolodi","html_url":"https://github.com/dnicolodi","followers_url":"https://api.github.com/users/dnicolodi/followers","following_url":"https://api.github.com/users/dnicolodi/following{/other_user}","gists_url":"https://api.github.com/users/dnicolodi/gists{/gist_id}","starred_url":"https://api.github.com/users/dnicolodi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dnicolodi/subscriptions","organizations_url":"https://api.github.com/users/dnicolodi/orgs","repos_url":"https://api.github.com/users/dnicolodi/repos","events_url":"https://api.github.com/users/dnicolodi/events{/privacy}","received_events_url":"https://api.github.com/users/dnicolodi/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":0,"created_at":"2025-01-11T19:36:40Z","updated_at":"2025-01-11T19:38:16Z","closed_at":"2025-01-11T19:38:16Z","author_association":"COLLABORATOR","type":null,"active_lock_reason":null,"draft":false,"pull_request":{"url":"https://api.github.com/repos/beancount/beanquery/pulls/220","html_url":"https://github.com/beancount/beanquery/pull/220","diff_url":"https://github.com/beancount/beanquery/pull/220.diff","patch_url":"https://github.com/beancount/beanquery/pull/220.patch","merged_at":"2025-01-11T19:38:16Z"},"body":"libedit uses different initialization strings. Notably, Homebrew's Python uses libedit instead of GNU readline since version 3.11.","closed_by":{"login":"dnicolodi","id":987145,"node_id":"MDQ6VXNlcjk4NzE0NQ==","avatar_url":"https://avatars.githubusercontent.com/u/987145?v=4","gravatar_id":"","url":"https://api.github.com/users/dnicolodi","html_url":"https://github.com/dnicolodi","followers_url":"https://api.github.com/users/dnicolodi/followers","following_url":"https://api.github.com/users/dnicolodi/following{/other_user}","gists_url":"https://api.github.com/users/dnicolodi/gists{/gist_id}","starred_url":"https://api.github.com/users/dnicolodi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dnicolodi/subscriptions","organizations_url":"https://api.github.com/users/dnicolodi/orgs","repos_url":"https://api.github.com/users/dnicolodi/repos","events_url":"https://api.github.com/users/dnicolodi/events{/privacy}","received_events_url":"https://api.github.com/users/dnicolodi/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/beancount/beanquery/issues/220/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beanquery/issues/220/timeline","performed_via_github_app":null,"state_reason":null},{"url":"https://api.github.com/repos/beancount/beanquery/issues/219","repository_url":"https://api.github.com/repos/beancount/beanquery","labels_url":"https://api.github.com/repos/beancount/beanquery/issues/219/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beanquery/issues/219/comments","events_url":"https://api.github.com/repos/beancount/beanquery/issues/219/events","html_url":"https://github.com/beancount/beanquery/pull/219","id":2781774121,"node_id":"PR_kwDOFUEJF86HaxCn","number":219,"title":"Tiny API tweaks","user":{"login":"dnicolodi","id":987145,"node_id":"MDQ6VXNlcjk4NzE0NQ==","avatar_url":"https://avatars.githubusercontent.com/u/987145?v=4","gravatar_id":"","url":"https://api.github.com/users/dnicolodi","html_url":"https://github.com/dnicolodi","followers_url":"https://api.github.com/users/dnicolodi/followers","following_url":"https://api.github.com/users/dnicolodi/following{/other_user}","gists_url":"https://api.github.com/users/dnicolodi/gists{/gist_id}","starred_url":"https://api.github.com/users/dnicolodi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dnicolodi/subscriptions","organizations_url":"https://api.github.com/users/dnicolodi/orgs","repos_url":"https://api.github.com/users/dnicolodi/repos","events_url":"https://api.github.com/users/dnicolodi/events{/privacy}","received_events_url":"https://api.github.com/users/dnicolodi/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":0,"created_at":"2025-01-11T11:31:54Z","updated_at":"2025-01-11T11:33:04Z","closed_at":"2025-01-11T11:33:04Z","author_association":"COLLABORATOR","type":null,"active_lock_reason":null,"draft":false,"pull_request":{"url":"https://api.github.com/repos/beancount/beanquery/pulls/219","html_url":"https://github.com/beancount/beanquery/pull/219","diff_url":"https://github.com/beancount/beanquery/pull/219.diff","patch_url":"https://github.com/beancount/beanquery/pull/219.patch","merged_at":"2025-01-11T11:33:04Z"},"body":"Use the empty string as default data source name: it makes typing a tiny bit easier and reflects what other DB-ABI implementations use.\r\n\r\nMark additional arguments to the attach() function as keyword only.","closed_by":{"login":"dnicolodi","id":987145,"node_id":"MDQ6VXNlcjk4NzE0NQ==","avatar_url":"https://avatars.githubusercontent.com/u/987145?v=4","gravatar_id":"","url":"https://api.github.com/users/dnicolodi","html_url":"https://github.com/dnicolodi","followers_url":"https://api.github.com/users/dnicolodi/followers","following_url":"https://api.github.com/users/dnicolodi/following{/other_user}","gists_url":"https://api.github.com/users/dnicolodi/gists{/gist_id}","starred_url":"https://api.github.com/users/dnicolodi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dnicolodi/subscriptions","organizations_url":"https://api.github.com/users/dnicolodi/orgs","repos_url":"https://api.github.com/users/dnicolodi/repos","events_url":"https://api.github.com/users/dnicolodi/events{/privacy}","received_events_url":"https://api.github.com/users/dnicolodi/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/beancount/beanquery/issues/219/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beanquery/issues/219/timeline","performed_via_github_app":null,"state_reason":null},{"url":"https://api.github.com/repos/beancount/beanquery/issues/218","repository_url":"https://api.github.com/repos/beancount/beanquery","labels_url":"https://api.github.com/repos/beancount/beanquery/issues/218/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beanquery/issues/218/comments","events_url":"https://api.github.com/repos/beancount/beanquery/issues/218/events","html_url":"https://github.com/beancount/beanquery/pull/218","id":2781767204,"node_id":"PR_kwDOFUEJF86HavsX","number":218,"title":"Implement .format and .output shell commands","user":{"login":"dnicolodi","id":987145,"node_id":"MDQ6VXNlcjk4NzE0NQ==","avatar_url":"https://avatars.githubusercontent.com/u/987145?v=4","gravatar_id":"","url":"https://api.github.com/users/dnicolodi","html_url":"https://github.com/dnicolodi","followers_url":"https://api.github.com/users/dnicolodi/followers","following_url":"https://api.github.com/users/dnicolodi/following{/other_user}","gists_url":"https://api.github.com/users/dnicolodi/gists{/gist_id}","starred_url":"https://api.github.com/users/dnicolodi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dnicolodi/subscriptions","organizations_url":"https://api.github.com/users/dnicolodi/orgs","repos_url":"https://api.github.com/users/dnicolodi/repos","events_url":"https://api.github.com/users/dnicolodi/events{/privacy}","received_events_url":"https://api.github.com/users/dnicolodi/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":0,"created_at":"2025-01-11T11:12:07Z","updated_at":"2025-01-11T11:13:06Z","closed_at":"2025-01-11T11:13:06Z","author_association":"COLLABORATOR","type":null,"active_lock_reason":null,"draft":false,"pull_request":{"url":"https://api.github.com/repos/beancount/beanquery/pulls/218","html_url":"https://github.com/beancount/beanquery/pull/218","diff_url":"https://github.com/beancount/beanquery/pull/218.diff","patch_url":"https://github.com/beancount/beanquery/pull/218.patch","merged_at":"2025-01-11T11:13:06Z"},"body":null,"closed_by":{"login":"dnicolodi","id":987145,"node_id":"MDQ6VXNlcjk4NzE0NQ==","avatar_url":"https://avatars.githubusercontent.com/u/987145?v=4","gravatar_id":"","url":"https://api.github.com/users/dnicolodi","html_url":"https://github.com/dnicolodi","followers_url":"https://api.github.com/users/dnicolodi/followers","following_url":"https://api.github.com/users/dnicolodi/following{/other_user}","gists_url":"https://api.github.com/users/dnicolodi/gists{/gist_id}","starred_url":"https://api.github.com/users/dnicolodi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dnicolodi/subscriptions","organizations_url":"https://api.github.com/users/dnicolodi/orgs","repos_url":"https://api.github.com/users/dnicolodi/repos","events_url":"https://api.github.com/users/dnicolodi/events{/privacy}","received_events_url":"https://api.github.com/users/dnicolodi/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/beancount/beanquery/issues/218/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beanquery/issues/218/timeline","performed_via_github_app":null,"state_reason":null},{"url":"https://api.github.com/repos/beancount/beanquery/issues/217","repository_url":"https://api.github.com/repos/beancount/beanquery","labels_url":"https://api.github.com/repos/beancount/beanquery/issues/217/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beanquery/issues/217/comments","events_url":"https://api.github.com/repos/beancount/beanquery/issues/217/events","html_url":"https://github.com/beancount/beanquery/pull/217","id":2778602921,"node_id":"PR_kwDOFUEJF86HP5sI","number":217,"title":"Switch dependency from TatSu to TatSu-LTS","user":{"login":"dnicolodi","id":987145,"node_id":"MDQ6VXNlcjk4NzE0NQ==","avatar_url":"https://avatars.githubusercontent.com/u/987145?v=4","gravatar_id":"","url":"https://api.github.com/users/dnicolodi","html_url":"https://github.com/dnicolodi","followers_url":"https://api.github.com/users/dnicolodi/followers","following_url":"https://api.github.com/users/dnicolodi/following{/other_user}","gists_url":"https://api.github.com/users/dnicolodi/gists{/gist_id}","starred_url":"https://api.github.com/users/dnicolodi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dnicolodi/subscriptions","organizations_url":"https://api.github.com/users/dnicolodi/orgs","repos_url":"https://api.github.com/users/dnicolodi/repos","events_url":"https://api.github.com/users/dnicolodi/events{/privacy}","received_events_url":"https://api.github.com/users/dnicolodi/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":0,"created_at":"2025-01-09T19:25:47Z","updated_at":"2025-01-10T21:06:01Z","closed_at":"2025-01-10T21:06:00Z","author_association":"COLLABORATOR","type":null,"active_lock_reason":null,"draft":false,"pull_request":{"url":"https://api.github.com/repos/beancount/beanquery/pulls/217","html_url":"https://github.com/beancount/beanquery/pull/217","diff_url":"https://github.com/beancount/beanquery/pull/217.diff","patch_url":"https://github.com/beancount/beanquery/pull/217.patch","merged_at":"2025-01-10T21:06:00Z"},"body":"The latter is a friendly fork of the first that guarantees compatibility with all supported Python versions. Regenerate the parser: the changes to the generated code are purely cosmetic.","closed_by":{"login":"dnicolodi","id":987145,"node_id":"MDQ6VXNlcjk4NzE0NQ==","avatar_url":"https://avatars.githubusercontent.com/u/987145?v=4","gravatar_id":"","url":"https://api.github.com/users/dnicolodi","html_url":"https://github.com/dnicolodi","followers_url":"https://api.github.com/users/dnicolodi/followers","following_url":"https://api.github.com/users/dnicolodi/following{/other_user}","gists_url":"https://api.github.com/users/dnicolodi/gists{/gist_id}","starred_url":"https://api.github.com/users/dnicolodi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dnicolodi/subscriptions","organizations_url":"https://api.github.com/users/dnicolodi/orgs","repos_url":"https://api.github.com/users/dnicolodi/repos","events_url":"https://api.github.com/users/dnicolodi/events{/privacy}","received_events_url":"https://api.github.com/users/dnicolodi/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/beancount/beanquery/issues/217/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beanquery/issues/217/timeline","performed_via_github_app":null,"state_reason":null},{"url":"https://api.github.com/repos/beancount/beanquery/issues/216","repository_url":"https://api.github.com/repos/beancount/beanquery","labels_url":"https://api.github.com/repos/beancount/beanquery/issues/216/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beanquery/issues/216/comments","events_url":"https://api.github.com/repos/beancount/beanquery/issues/216/events","html_url":"https://github.com/beancount/beanquery/issues/216","id":2767285286,"node_id":"I_kwDOFUEJF86k8Wwm","number":216,"title":"Suppress Warnings with -q","user":{"login":"Servinjesus1","id":8541095,"node_id":"MDQ6VXNlcjg1NDEwOTU=","avatar_url":"https://avatars.githubusercontent.com/u/8541095?v=4","gravatar_id":"","url":"https://api.github.com/users/Servinjesus1","html_url":"https://github.com/Servinjesus1","followers_url":"https://api.github.com/users/Servinjesus1/followers","following_url":"https://api.github.com/users/Servinjesus1/following{/other_user}","gists_url":"https://api.github.com/users/Servinjesus1/gists{/gist_id}","starred_url":"https://api.github.com/users/Servinjesus1/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Servinjesus1/subscriptions","organizations_url":"https://api.github.com/users/Servinjesus1/orgs","repos_url":"https://api.github.com/users/Servinjesus1/repos","events_url":"https://api.github.com/users/Servinjesus1/events{/privacy}","received_events_url":"https://api.github.com/users/Servinjesus1/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":1,"created_at":"2025-01-03T09:53:02Z","updated_at":"2025-01-15T21:27:50Z","closed_at":"2025-01-15T21:27:50Z","author_association":"NONE","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"Not sure if this is a bug or FR but I still get \"invalid account\" warnings when running `bean-query -q` on say a lone beancount file without proper setup (account open directives for example), when for example cleaning up imported data prior to integration into my journal.\r\n\r\nIf these \"invalid account\" statements are warnings, I get -q not working so I would request -q suppresses warnings atop errors. If it should be squashing those, I guess it's a bug.\r\n\r\nOr, if anyone has other options for bulk manipulation of beancount syntax data feel free to send suggestions. I've already written an \"importer\" that parses beancount text to beancount which is nice for e.g. removing comments (like duplicate transaction entries) during the cleanup stage. For context, my other needs include\r\n- Reversing parsed data (beangulp extract currently hasn't reimplemented reverse yet so I have no way of doing this right now)\r\n- Filtering by presence of an account in a posting. `print from has_account()` is how I do it now","closed_by":{"login":"dnicolodi","id":987145,"node_id":"MDQ6VXNlcjk4NzE0NQ==","avatar_url":"https://avatars.githubusercontent.com/u/987145?v=4","gravatar_id":"","url":"https://api.github.com/users/dnicolodi","html_url":"https://github.com/dnicolodi","followers_url":"https://api.github.com/users/dnicolodi/followers","following_url":"https://api.github.com/users/dnicolodi/following{/other_user}","gists_url":"https://api.github.com/users/dnicolodi/gists{/gist_id}","starred_url":"https://api.github.com/users/dnicolodi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dnicolodi/subscriptions","organizations_url":"https://api.github.com/users/dnicolodi/orgs","repos_url":"https://api.github.com/users/dnicolodi/repos","events_url":"https://api.github.com/users/dnicolodi/events{/privacy}","received_events_url":"https://api.github.com/users/dnicolodi/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/beancount/beanquery/issues/216/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beanquery/issues/216/timeline","performed_via_github_app":null,"state_reason":"completed"},{"url":"https://api.github.com/repos/beancount/beanquery/issues/215","repository_url":"https://api.github.com/repos/beancount/beanquery","labels_url":"https://api.github.com/repos/beancount/beanquery/issues/215/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beanquery/issues/215/comments","events_url":"https://api.github.com/repos/beancount/beanquery/issues/215/events","html_url":"https://github.com/beancount/beanquery/issues/215","id":2757012553,"node_id":"I_kwDOFUEJF86kVKxJ","number":215,"title":"Please relax the upper version requirement for tatsu","user":{"login":"hosiet","id":8443926,"node_id":"MDQ6VXNlcjg0NDM5MjY=","avatar_url":"https://avatars.githubusercontent.com/u/8443926?v=4","gravatar_id":"","url":"https://api.github.com/users/hosiet","html_url":"https://github.com/hosiet","followers_url":"https://api.github.com/users/hosiet/followers","following_url":"https://api.github.com/users/hosiet/following{/other_user}","gists_url":"https://api.github.com/users/hosiet/gists{/gist_id}","starred_url":"https://api.github.com/users/hosiet/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hosiet/subscriptions","organizations_url":"https://api.github.com/users/hosiet/orgs","repos_url":"https://api.github.com/users/hosiet/repos","events_url":"https://api.github.com/users/hosiet/events{/privacy}","received_events_url":"https://api.github.com/users/hosiet/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":9,"created_at":"2024-12-24T01:48:42Z","updated_at":"2025-01-18T13:05:19Z","closed_at":"2025-01-01T18:06:38Z","author_association":"NONE","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"As in https://github.com/beancount/beanquery/blob/51ad2619acf787845b149b6330defb99ee33366b/pyproject.toml#L38 , currently beanquery has a upper version requirement for tatsu >= 5.7.4 (July 2022) and < 5.8.0. I believe it is more likely due to have forgotten to bump and test with the new version of tatsu.\r\n\r\nCan you review this requirement and test against the latest version of tatsu? Thanks!","closed_by":{"login":"hosiet","id":8443926,"node_id":"MDQ6VXNlcjg0NDM5MjY=","avatar_url":"https://avatars.githubusercontent.com/u/8443926?v=4","gravatar_id":"","url":"https://api.github.com/users/hosiet","html_url":"https://github.com/hosiet","followers_url":"https://api.github.com/users/hosiet/followers","following_url":"https://api.github.com/users/hosiet/following{/other_user}","gists_url":"https://api.github.com/users/hosiet/gists{/gist_id}","starred_url":"https://api.github.com/users/hosiet/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hosiet/subscriptions","organizations_url":"https://api.github.com/users/hosiet/orgs","repos_url":"https://api.github.com/users/hosiet/repos","events_url":"https://api.github.com/users/hosiet/events{/privacy}","received_events_url":"https://api.github.com/users/hosiet/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/beancount/beanquery/issues/215/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beanquery/issues/215/timeline","performed_via_github_app":null,"state_reason":"completed"},{"url":"https://api.github.com/repos/beancount/beanquery/issues/214","repository_url":"https://api.github.com/repos/beancount/beanquery","labels_url":"https://api.github.com/repos/beancount/beanquery/issues/214/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beanquery/issues/214/comments","events_url":"https://api.github.com/repos/beancount/beanquery/issues/214/events","html_url":"https://github.com/beancount/beanquery/issues/214","id":2753518206,"node_id":"I_kwDOFUEJF86kH1p-","number":214,"title":"Support complex size filtering and restriction statements for position or other similar values","user":{"login":"jack9603301","id":9047180,"node_id":"MDQ6VXNlcjkwNDcxODA=","avatar_url":"https://avatars.githubusercontent.com/u/9047180?v=4","gravatar_id":"","url":"https://api.github.com/users/jack9603301","html_url":"https://github.com/jack9603301","followers_url":"https://api.github.com/users/jack9603301/followers","following_url":"https://api.github.com/users/jack9603301/following{/other_user}","gists_url":"https://api.github.com/users/jack9603301/gists{/gist_id}","starred_url":"https://api.github.com/users/jack9603301/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jack9603301/subscriptions","organizations_url":"https://api.github.com/users/jack9603301/orgs","repos_url":"https://api.github.com/users/jack9603301/repos","events_url":"https://api.github.com/users/jack9603301/events{/privacy}","received_events_url":"https://api.github.com/users/jack9603301/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"open","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":1,"created_at":"2024-12-18T13:48:46Z","updated_at":"2025-11-14T14:12:13Z","closed_at":null,"author_association":"NONE","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"It is recommended to implement complex size filtering and restriction statements for position or other similar values, which will greatly increase the query capability of BQL. Although we can accurately distinguish the income and expenditure according to the standard classification of account, it is very difficult to restrict the query on position value for some specific needs. I don't know how to do it. If it can be supported, it would be great.","closed_by":null,"reactions":{"url":"https://api.github.com/repos/beancount/beanquery/issues/214/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beanquery/issues/214/timeline","performed_via_github_app":null,"state_reason":null},{"url":"https://api.github.com/repos/beancount/beanquery/issues/213","repository_url":"https://api.github.com/repos/beancount/beanquery","labels_url":"https://api.github.com/repos/beancount/beanquery/issues/213/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beanquery/issues/213/comments","events_url":"https://api.github.com/repos/beancount/beanquery/issues/213/events","html_url":"https://github.com/beancount/beanquery/pull/213","id":2659930220,"node_id":"PR_kwDOFUEJF86B9-wP","number":213,"title":"Cleanups","user":{"login":"dnicolodi","id":987145,"node_id":"MDQ6VXNlcjk4NzE0NQ==","avatar_url":"https://avatars.githubusercontent.com/u/987145?v=4","gravatar_id":"","url":"https://api.github.com/users/dnicolodi","html_url":"https://github.com/dnicolodi","followers_url":"https://api.github.com/users/dnicolodi/followers","following_url":"https://api.github.com/users/dnicolodi/following{/other_user}","gists_url":"https://api.github.com/users/dnicolodi/gists{/gist_id}","starred_url":"https://api.github.com/users/dnicolodi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dnicolodi/subscriptions","organizations_url":"https://api.github.com/users/dnicolodi/orgs","repos_url":"https://api.github.com/users/dnicolodi/repos","events_url":"https://api.github.com/users/dnicolodi/events{/privacy}","received_events_url":"https://api.github.com/users/dnicolodi/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":0,"created_at":"2024-11-14T20:07:32Z","updated_at":"2025-01-11T23:35:44Z","closed_at":"2025-01-11T23:35:43Z","author_association":"COLLABORATOR","type":null,"active_lock_reason":null,"draft":false,"pull_request":{"url":"https://api.github.com/repos/beancount/beanquery/pulls/213","html_url":"https://github.com/beancount/beanquery/pull/213","diff_url":"https://github.com/beancount/beanquery/pull/213.diff","patch_url":"https://github.com/beancount/beanquery/pull/213.patch","merged_at":"2025-01-11T23:35:43Z"},"body":null,"closed_by":{"login":"dnicolodi","id":987145,"node_id":"MDQ6VXNlcjk4NzE0NQ==","avatar_url":"https://avatars.githubusercontent.com/u/987145?v=4","gravatar_id":"","url":"https://api.github.com/users/dnicolodi","html_url":"https://github.com/dnicolodi","followers_url":"https://api.github.com/users/dnicolodi/followers","following_url":"https://api.github.com/users/dnicolodi/following{/other_user}","gists_url":"https://api.github.com/users/dnicolodi/gists{/gist_id}","starred_url":"https://api.github.com/users/dnicolodi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dnicolodi/subscriptions","organizations_url":"https://api.github.com/users/dnicolodi/orgs","repos_url":"https://api.github.com/users/dnicolodi/repos","events_url":"https://api.github.com/users/dnicolodi/events{/privacy}","received_events_url":"https://api.github.com/users/dnicolodi/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/beancount/beanquery/issues/213/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beanquery/issues/213/timeline","performed_via_github_app":null,"state_reason":null},{"url":"https://api.github.com/repos/beancount/beanquery/issues/212","repository_url":"https://api.github.com/repos/beancount/beanquery","labels_url":"https://api.github.com/repos/beancount/beanquery/issues/212/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beanquery/issues/212/comments","events_url":"https://api.github.com/repos/beancount/beanquery/issues/212/events","html_url":"https://github.com/beancount/beanquery/pull/212","id":2650353842,"node_id":"PR_kwDOFUEJF86BjiCu","number":212,"title":"Implement date_bin() BQL function","user":{"login":"dnicolodi","id":987145,"node_id":"MDQ6VXNlcjk4NzE0NQ==","avatar_url":"https://avatars.githubusercontent.com/u/987145?v=4","gravatar_id":"","url":"https://api.github.com/users/dnicolodi","html_url":"https://github.com/dnicolodi","followers_url":"https://api.github.com/users/dnicolodi/followers","following_url":"https://api.github.com/users/dnicolodi/following{/other_user}","gists_url":"https://api.github.com/users/dnicolodi/gists{/gist_id}","starred_url":"https://api.github.com/users/dnicolodi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dnicolodi/subscriptions","organizations_url":"https://api.github.com/users/dnicolodi/orgs","repos_url":"https://api.github.com/users/dnicolodi/repos","events_url":"https://api.github.com/users/dnicolodi/events{/privacy}","received_events_url":"https://api.github.com/users/dnicolodi/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":0,"created_at":"2024-11-11T20:38:01Z","updated_at":"2024-11-11T21:02:19Z","closed_at":"2024-11-11T21:02:19Z","author_association":"COLLABORATOR","type":null,"active_lock_reason":null,"draft":false,"pull_request":{"url":"https://api.github.com/repos/beancount/beanquery/pulls/212","html_url":"https://github.com/beancount/beanquery/pull/212","diff_url":"https://github.com/beancount/beanquery/pull/212.diff","patch_url":"https://github.com/beancount/beanquery/pull/212.patch","merged_at":"2024-11-11T21:02:19Z"},"body":null,"closed_by":{"login":"dnicolodi","id":987145,"node_id":"MDQ6VXNlcjk4NzE0NQ==","avatar_url":"https://avatars.githubusercontent.com/u/987145?v=4","gravatar_id":"","url":"https://api.github.com/users/dnicolodi","html_url":"https://github.com/dnicolodi","followers_url":"https://api.github.com/users/dnicolodi/followers","following_url":"https://api.github.com/users/dnicolodi/following{/other_user}","gists_url":"https://api.github.com/users/dnicolodi/gists{/gist_id}","starred_url":"https://api.github.com/users/dnicolodi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dnicolodi/subscriptions","organizations_url":"https://api.github.com/users/dnicolodi/orgs","repos_url":"https://api.github.com/users/dnicolodi/repos","events_url":"https://api.github.com/users/dnicolodi/events{/privacy}","received_events_url":"https://api.github.com/users/dnicolodi/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/beancount/beanquery/issues/212/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beanquery/issues/212/timeline","performed_via_github_app":null,"state_reason":null},{"url":"https://api.github.com/repos/beancount/beanquery/issues/211","repository_url":"https://api.github.com/repos/beancount/beanquery","labels_url":"https://api.github.com/repos/beancount/beanquery/issues/211/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beanquery/issues/211/comments","events_url":"https://api.github.com/repos/beancount/beanquery/issues/211/events","html_url":"https://github.com/beancount/beanquery/pull/211","id":2636567446,"node_id":"PR_kwDOFUEJF86A-8xo","number":211,"title":"ci: Assorted cleanups","user":{"login":"dnicolodi","id":987145,"node_id":"MDQ6VXNlcjk4NzE0NQ==","avatar_url":"https://avatars.githubusercontent.com/u/987145?v=4","gravatar_id":"","url":"https://api.github.com/users/dnicolodi","html_url":"https://github.com/dnicolodi","followers_url":"https://api.github.com/users/dnicolodi/followers","following_url":"https://api.github.com/users/dnicolodi/following{/other_user}","gists_url":"https://api.github.com/users/dnicolodi/gists{/gist_id}","starred_url":"https://api.github.com/users/dnicolodi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dnicolodi/subscriptions","organizations_url":"https://api.github.com/users/dnicolodi/orgs","repos_url":"https://api.github.com/users/dnicolodi/repos","events_url":"https://api.github.com/users/dnicolodi/events{/privacy}","received_events_url":"https://api.github.com/users/dnicolodi/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":0,"created_at":"2024-11-05T22:05:22Z","updated_at":"2024-11-11T20:25:09Z","closed_at":"2024-11-11T20:25:09Z","author_association":"COLLABORATOR","type":null,"active_lock_reason":null,"draft":false,"pull_request":{"url":"https://api.github.com/repos/beancount/beanquery/pulls/211","html_url":"https://github.com/beancount/beanquery/pull/211","diff_url":"https://github.com/beancount/beanquery/pull/211.diff","patch_url":"https://github.com/beancount/beanquery/pull/211.patch","merged_at":"2024-11-11T20:25:09Z"},"body":null,"closed_by":{"login":"dnicolodi","id":987145,"node_id":"MDQ6VXNlcjk4NzE0NQ==","avatar_url":"https://avatars.githubusercontent.com/u/987145?v=4","gravatar_id":"","url":"https://api.github.com/users/dnicolodi","html_url":"https://github.com/dnicolodi","followers_url":"https://api.github.com/users/dnicolodi/followers","following_url":"https://api.github.com/users/dnicolodi/following{/other_user}","gists_url":"https://api.github.com/users/dnicolodi/gists{/gist_id}","starred_url":"https://api.github.com/users/dnicolodi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dnicolodi/subscriptions","organizations_url":"https://api.github.com/users/dnicolodi/orgs","repos_url":"https://api.github.com/users/dnicolodi/repos","events_url":"https://api.github.com/users/dnicolodi/events{/privacy}","received_events_url":"https://api.github.com/users/dnicolodi/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/beancount/beanquery/issues/211/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beanquery/issues/211/timeline","performed_via_github_app":null,"state_reason":null},{"url":"https://api.github.com/repos/beancount/beanquery/issues/210","repository_url":"https://api.github.com/repos/beancount/beanquery","labels_url":"https://api.github.com/repos/beancount/beanquery/issues/210/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beanquery/issues/210/comments","events_url":"https://api.github.com/repos/beancount/beanquery/issues/210/events","html_url":"https://github.com/beancount/beanquery/pull/210","id":2636446692,"node_id":"PR_kwDOFUEJF86A-mIE","number":210,"title":"ci: Add job to publish wheels on PyPI when tagging a release","user":{"login":"dnicolodi","id":987145,"node_id":"MDQ6VXNlcjk4NzE0NQ==","avatar_url":"https://avatars.githubusercontent.com/u/987145?v=4","gravatar_id":"","url":"https://api.github.com/users/dnicolodi","html_url":"https://github.com/dnicolodi","followers_url":"https://api.github.com/users/dnicolodi/followers","following_url":"https://api.github.com/users/dnicolodi/following{/other_user}","gists_url":"https://api.github.com/users/dnicolodi/gists{/gist_id}","starred_url":"https://api.github.com/users/dnicolodi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dnicolodi/subscriptions","organizations_url":"https://api.github.com/users/dnicolodi/orgs","repos_url":"https://api.github.com/users/dnicolodi/repos","events_url":"https://api.github.com/users/dnicolodi/events{/privacy}","received_events_url":"https://api.github.com/users/dnicolodi/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":0,"created_at":"2024-11-05T20:52:43Z","updated_at":"2024-11-05T21:25:07Z","closed_at":"2024-11-05T21:25:07Z","author_association":"COLLABORATOR","type":null,"active_lock_reason":null,"draft":false,"pull_request":{"url":"https://api.github.com/repos/beancount/beanquery/pulls/210","html_url":"https://github.com/beancount/beanquery/pull/210","diff_url":"https://github.com/beancount/beanquery/pull/210.diff","patch_url":"https://github.com/beancount/beanquery/pull/210.patch","merged_at":"2024-11-05T21:25:07Z"},"body":null,"closed_by":{"login":"dnicolodi","id":987145,"node_id":"MDQ6VXNlcjk4NzE0NQ==","avatar_url":"https://avatars.githubusercontent.com/u/987145?v=4","gravatar_id":"","url":"https://api.github.com/users/dnicolodi","html_url":"https://github.com/dnicolodi","followers_url":"https://api.github.com/users/dnicolodi/followers","following_url":"https://api.github.com/users/dnicolodi/following{/other_user}","gists_url":"https://api.github.com/users/dnicolodi/gists{/gist_id}","starred_url":"https://api.github.com/users/dnicolodi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dnicolodi/subscriptions","organizations_url":"https://api.github.com/users/dnicolodi/orgs","repos_url":"https://api.github.com/users/dnicolodi/repos","events_url":"https://api.github.com/users/dnicolodi/events{/privacy}","received_events_url":"https://api.github.com/users/dnicolodi/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/beancount/beanquery/issues/210/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beanquery/issues/210/timeline","performed_via_github_app":null,"state_reason":null},{"url":"https://api.github.com/repos/beancount/beanquery/issues/209","repository_url":"https://api.github.com/repos/beancount/beanquery","labels_url":"https://api.github.com/repos/beancount/beanquery/issues/209/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beanquery/issues/209/comments","events_url":"https://api.github.com/repos/beancount/beanquery/issues/209/events","html_url":"https://github.com/beancount/beanquery/issues/209","id":2630290018,"node_id":"I_kwDOFUEJF86cxwpi","number":209,"title":"Badges for README.md","user":{"login":"WolfgangFahl","id":1336221,"node_id":"MDQ6VXNlcjEzMzYyMjE=","avatar_url":"https://avatars.githubusercontent.com/u/1336221?v=4","gravatar_id":"","url":"https://api.github.com/users/WolfgangFahl","html_url":"https://github.com/WolfgangFahl","followers_url":"https://api.github.com/users/WolfgangFahl/followers","following_url":"https://api.github.com/users/WolfgangFahl/following{/other_user}","gists_url":"https://api.github.com/users/WolfgangFahl/gists{/gist_id}","starred_url":"https://api.github.com/users/WolfgangFahl/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/WolfgangFahl/subscriptions","organizations_url":"https://api.github.com/users/WolfgangFahl/orgs","repos_url":"https://api.github.com/users/WolfgangFahl/repos","events_url":"https://api.github.com/users/WolfgangFahl/events{/privacy}","received_events_url":"https://api.github.com/users/WolfgangFahl/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":2,"created_at":"2024-11-02T07:38:14Z","updated_at":"2024-11-02T10:10:27Z","closed_at":"2024-11-02T10:10:27Z","author_association":"NONE","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"# beanquery\r\n\r\nCustomizable lightweight SQL query tool\r\n\r\n[![GitHub issues](https://img.shields.io/github/issues/beancount/beanquery.svg)](https://github.com/beancount/beanquery/issues)\r\n[![GitHub closed issues](https://img.shields.io/github/issues-closed/beancount/beanquery.svg)](https://github.com/beancount/beanquery/issues/?q=is%3Aissue+is%3Aclosed)\r\n[![pypi](https://img.shields.io/pypi/pyversions/beanquery)](https://pypi.org/project/beanquery/)\r\n[![PyPI Status](https://img.shields.io/pypi/v/beanquery.svg)](https://pypi.python.org/pypi/beanquery/)\r\n[![Documentation](https://img.shields.io/badge/docs-beancount-blue)](https://beancount.github.io/docs/beancount_query_language.html)\r\n[![License](https://img.shields.io/github/license/beancount/beanquery.svg)](https://github.com/beancount/beanquery/blob/main/LICENSE)\r\n\r\nbeanquery is a customizable and extensible lightweight SQL query tool that works on tabular data, including [Beancount](https://beancount.github.io/) ledger data.","closed_by":{"login":"dnicolodi","id":987145,"node_id":"MDQ6VXNlcjk4NzE0NQ==","avatar_url":"https://avatars.githubusercontent.com/u/987145?v=4","gravatar_id":"","url":"https://api.github.com/users/dnicolodi","html_url":"https://github.com/dnicolodi","followers_url":"https://api.github.com/users/dnicolodi/followers","following_url":"https://api.github.com/users/dnicolodi/following{/other_user}","gists_url":"https://api.github.com/users/dnicolodi/gists{/gist_id}","starred_url":"https://api.github.com/users/dnicolodi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dnicolodi/subscriptions","organizations_url":"https://api.github.com/users/dnicolodi/orgs","repos_url":"https://api.github.com/users/dnicolodi/repos","events_url":"https://api.github.com/users/dnicolodi/events{/privacy}","received_events_url":"https://api.github.com/users/dnicolodi/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/beancount/beanquery/issues/209/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beanquery/issues/209/timeline","performed_via_github_app":null,"state_reason":"not_planned"},{"url":"https://api.github.com/repos/beancount/beanquery/issues/208","repository_url":"https://api.github.com/repos/beancount/beanquery","labels_url":"https://api.github.com/repos/beancount/beanquery/issues/208/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beanquery/issues/208/comments","events_url":"https://api.github.com/repos/beancount/beanquery/issues/208/events","html_url":"https://github.com/beancount/beanquery/pull/208","id":2616711119,"node_id":"PR_kwDOFUEJF86ABKgP","number":208,"title":"Implement subquery support for the IN operator","user":{"login":"dnicolodi","id":987145,"node_id":"MDQ6VXNlcjk4NzE0NQ==","avatar_url":"https://avatars.githubusercontent.com/u/987145?v=4","gravatar_id":"","url":"https://api.github.com/users/dnicolodi","html_url":"https://github.com/dnicolodi","followers_url":"https://api.github.com/users/dnicolodi/followers","following_url":"https://api.github.com/users/dnicolodi/following{/other_user}","gists_url":"https://api.github.com/users/dnicolodi/gists{/gist_id}","starred_url":"https://api.github.com/users/dnicolodi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dnicolodi/subscriptions","organizations_url":"https://api.github.com/users/dnicolodi/orgs","repos_url":"https://api.github.com/users/dnicolodi/repos","events_url":"https://api.github.com/users/dnicolodi/events{/privacy}","received_events_url":"https://api.github.com/users/dnicolodi/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":0,"created_at":"2024-10-27T16:26:28Z","updated_at":"2024-10-27T16:40:20Z","closed_at":"2024-10-27T16:40:20Z","author_association":"COLLABORATOR","type":null,"active_lock_reason":null,"draft":false,"pull_request":{"url":"https://api.github.com/repos/beancount/beanquery/pulls/208","html_url":"https://github.com/beancount/beanquery/pull/208","diff_url":"https://github.com/beancount/beanquery/pull/208.diff","patch_url":"https://github.com/beancount/beanquery/pull/208.patch","merged_at":"2024-10-27T16:40:20Z"},"body":null,"closed_by":{"login":"dnicolodi","id":987145,"node_id":"MDQ6VXNlcjk4NzE0NQ==","avatar_url":"https://avatars.githubusercontent.com/u/987145?v=4","gravatar_id":"","url":"https://api.github.com/users/dnicolodi","html_url":"https://github.com/dnicolodi","followers_url":"https://api.github.com/users/dnicolodi/followers","following_url":"https://api.github.com/users/dnicolodi/following{/other_user}","gists_url":"https://api.github.com/users/dnicolodi/gists{/gist_id}","starred_url":"https://api.github.com/users/dnicolodi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dnicolodi/subscriptions","organizations_url":"https://api.github.com/users/dnicolodi/orgs","repos_url":"https://api.github.com/users/dnicolodi/repos","events_url":"https://api.github.com/users/dnicolodi/events{/privacy}","received_events_url":"https://api.github.com/users/dnicolodi/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/beancount/beanquery/issues/208/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beanquery/issues/208/timeline","performed_via_github_app":null,"state_reason":null},{"url":"https://api.github.com/repos/beancount/beanquery/issues/207","repository_url":"https://api.github.com/repos/beancount/beanquery","labels_url":"https://api.github.com/repos/beancount/beanquery/issues/207/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beanquery/issues/207/comments","events_url":"https://api.github.com/repos/beancount/beanquery/issues/207/events","html_url":"https://github.com/beancount/beanquery/issues/207","id":2608049927,"node_id":"I_kwDOFUEJF86bc68H","number":207,"title":"history lost (moved) when upgrading","user":{"login":"tbm","id":1556037,"node_id":"MDQ6VXNlcjE1NTYwMzc=","avatar_url":"https://avatars.githubusercontent.com/u/1556037?v=4","gravatar_id":"","url":"https://api.github.com/users/tbm","html_url":"https://github.com/tbm","followers_url":"https://api.github.com/users/tbm/followers","following_url":"https://api.github.com/users/tbm/following{/other_user}","gists_url":"https://api.github.com/users/tbm/gists{/gist_id}","starred_url":"https://api.github.com/users/tbm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tbm/subscriptions","organizations_url":"https://api.github.com/users/tbm/orgs","repos_url":"https://api.github.com/users/tbm/repos","events_url":"https://api.github.com/users/tbm/events{/privacy}","received_events_url":"https://api.github.com/users/tbm/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"open","locked":false,"assignee":null,"assignees":[],"milestone":{"url":"https://api.github.com/repos/beancount/beanquery/milestones/1","html_url":"https://github.com/beancount/beanquery/milestone/1","labels_url":"https://api.github.com/repos/beancount/beanquery/milestones/1/labels","id":8009928,"node_id":"MI_kwDOFUEJF84AejjI","number":1,"title":"0.2.0","description":"","creator":{"login":"dnicolodi","id":987145,"node_id":"MDQ6VXNlcjk4NzE0NQ==","avatar_url":"https://avatars.githubusercontent.com/u/987145?v=4","gravatar_id":"","url":"https://api.github.com/users/dnicolodi","html_url":"https://github.com/dnicolodi","followers_url":"https://api.github.com/users/dnicolodi/followers","following_url":"https://api.github.com/users/dnicolodi/following{/other_user}","gists_url":"https://api.github.com/users/dnicolodi/gists{/gist_id}","starred_url":"https://api.github.com/users/dnicolodi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dnicolodi/subscriptions","organizations_url":"https://api.github.com/users/dnicolodi/orgs","repos_url":"https://api.github.com/users/dnicolodi/repos","events_url":"https://api.github.com/users/dnicolodi/events{/privacy}","received_events_url":"https://api.github.com/users/dnicolodi/received_events","type":"User","user_view_type":"public","site_admin":false},"open_issues":4,"closed_issues":1,"state":"open","created_at":"2022-05-23T11:55:50Z","updated_at":"2025-02-04T17:06:00Z","due_on":null,"closed_at":null},"comments":0,"created_at":"2024-10-23T10:14:58Z","updated_at":"2025-02-03T13:51:15Z","closed_at":null,"author_association":"CONTRIBUTOR","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"It seems that beancount v2 used `~/.bean-shell-history` as the history while beanquery uses `~/.config/beanquery/history`. \r\n\r\nMaybe this could documented somewhere, so people can move the old history to the new location when they upgrade.\r\n","closed_by":null,"reactions":{"url":"https://api.github.com/repos/beancount/beanquery/issues/207/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beanquery/issues/207/timeline","performed_via_github_app":null,"state_reason":null},{"url":"https://api.github.com/repos/beancount/beanquery/issues/206","repository_url":"https://api.github.com/repos/beancount/beanquery","labels_url":"https://api.github.com/repos/beancount/beanquery/issues/206/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beanquery/issues/206/comments","events_url":"https://api.github.com/repos/beancount/beanquery/issues/206/events","html_url":"https://github.com/beancount/beanquery/pull/206","id":2599507427,"node_id":"PR_kwDOFUEJF85_MERx","number":206,"title":"api: Module level constants for DB-API 2.0 compliance","user":{"login":"dnicolodi","id":987145,"node_id":"MDQ6VXNlcjk4NzE0NQ==","avatar_url":"https://avatars.githubusercontent.com/u/987145?v=4","gravatar_id":"","url":"https://api.github.com/users/dnicolodi","html_url":"https://github.com/dnicolodi","followers_url":"https://api.github.com/users/dnicolodi/followers","following_url":"https://api.github.com/users/dnicolodi/following{/other_user}","gists_url":"https://api.github.com/users/dnicolodi/gists{/gist_id}","starred_url":"https://api.github.com/users/dnicolodi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dnicolodi/subscriptions","organizations_url":"https://api.github.com/users/dnicolodi/orgs","repos_url":"https://api.github.com/users/dnicolodi/repos","events_url":"https://api.github.com/users/dnicolodi/events{/privacy}","received_events_url":"https://api.github.com/users/dnicolodi/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":0,"created_at":"2024-10-19T19:19:14Z","updated_at":"2024-10-19T19:20:01Z","closed_at":"2024-10-19T19:20:00Z","author_association":"COLLABORATOR","type":null,"active_lock_reason":null,"draft":false,"pull_request":{"url":"https://api.github.com/repos/beancount/beanquery/pulls/206","html_url":"https://github.com/beancount/beanquery/pull/206","diff_url":"https://github.com/beancount/beanquery/pull/206.diff","patch_url":"https://github.com/beancount/beanquery/pull/206.patch","merged_at":"2024-10-19T19:20:00Z"},"body":null,"closed_by":{"login":"dnicolodi","id":987145,"node_id":"MDQ6VXNlcjk4NzE0NQ==","avatar_url":"https://avatars.githubusercontent.com/u/987145?v=4","gravatar_id":"","url":"https://api.github.com/users/dnicolodi","html_url":"https://github.com/dnicolodi","followers_url":"https://api.github.com/users/dnicolodi/followers","following_url":"https://api.github.com/users/dnicolodi/following{/other_user}","gists_url":"https://api.github.com/users/dnicolodi/gists{/gist_id}","starred_url":"https://api.github.com/users/dnicolodi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dnicolodi/subscriptions","organizations_url":"https://api.github.com/users/dnicolodi/orgs","repos_url":"https://api.github.com/users/dnicolodi/repos","events_url":"https://api.github.com/users/dnicolodi/events{/privacy}","received_events_url":"https://api.github.com/users/dnicolodi/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/beancount/beanquery/issues/206/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beanquery/issues/206/timeline","performed_via_github_app":null,"state_reason":null},{"url":"https://api.github.com/repos/beancount/beanquery/issues/205","repository_url":"https://api.github.com/repos/beancount/beanquery","labels_url":"https://api.github.com/repos/beancount/beanquery/issues/205/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beanquery/issues/205/comments","events_url":"https://api.github.com/repos/beancount/beanquery/issues/205/events","html_url":"https://github.com/beancount/beanquery/pull/205","id":2599502084,"node_id":"PR_kwDOFUEJF85_MDJL","number":205,"title":"ci: Update actions versions","user":{"login":"dnicolodi","id":987145,"node_id":"MDQ6VXNlcjk4NzE0NQ==","avatar_url":"https://avatars.githubusercontent.com/u/987145?v=4","gravatar_id":"","url":"https://api.github.com/users/dnicolodi","html_url":"https://github.com/dnicolodi","followers_url":"https://api.github.com/users/dnicolodi/followers","following_url":"https://api.github.com/users/dnicolodi/following{/other_user}","gists_url":"https://api.github.com/users/dnicolodi/gists{/gist_id}","starred_url":"https://api.github.com/users/dnicolodi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dnicolodi/subscriptions","organizations_url":"https://api.github.com/users/dnicolodi/orgs","repos_url":"https://api.github.com/users/dnicolodi/repos","events_url":"https://api.github.com/users/dnicolodi/events{/privacy}","received_events_url":"https://api.github.com/users/dnicolodi/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":0,"created_at":"2024-10-19T19:09:25Z","updated_at":"2024-10-19T19:12:40Z","closed_at":"2024-10-19T19:12:40Z","author_association":"COLLABORATOR","type":null,"active_lock_reason":null,"draft":false,"pull_request":{"url":"https://api.github.com/repos/beancount/beanquery/pulls/205","html_url":"https://github.com/beancount/beanquery/pull/205","diff_url":"https://github.com/beancount/beanquery/pull/205.diff","patch_url":"https://github.com/beancount/beanquery/pull/205.patch","merged_at":"2024-10-19T19:12:40Z"},"body":null,"closed_by":{"login":"dnicolodi","id":987145,"node_id":"MDQ6VXNlcjk4NzE0NQ==","avatar_url":"https://avatars.githubusercontent.com/u/987145?v=4","gravatar_id":"","url":"https://api.github.com/users/dnicolodi","html_url":"https://github.com/dnicolodi","followers_url":"https://api.github.com/users/dnicolodi/followers","following_url":"https://api.github.com/users/dnicolodi/following{/other_user}","gists_url":"https://api.github.com/users/dnicolodi/gists{/gist_id}","starred_url":"https://api.github.com/users/dnicolodi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dnicolodi/subscriptions","organizations_url":"https://api.github.com/users/dnicolodi/orgs","repos_url":"https://api.github.com/users/dnicolodi/repos","events_url":"https://api.github.com/users/dnicolodi/events{/privacy}","received_events_url":"https://api.github.com/users/dnicolodi/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/beancount/beanquery/issues/205/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beanquery/issues/205/timeline","performed_via_github_app":null,"state_reason":null},{"url":"https://api.github.com/repos/beancount/beanquery/issues/204","repository_url":"https://api.github.com/repos/beancount/beanquery","labels_url":"https://api.github.com/repos/beancount/beanquery/issues/204/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beanquery/issues/204/comments","events_url":"https://api.github.com/repos/beancount/beanquery/issues/204/events","html_url":"https://github.com/beancount/beanquery/pull/204","id":2599383622,"node_id":"PR_kwDOFUEJF85_Lz4g","number":204,"title":"Small documentation update","user":{"login":"dnicolodi","id":987145,"node_id":"MDQ6VXNlcjk4NzE0NQ==","avatar_url":"https://avatars.githubusercontent.com/u/987145?v=4","gravatar_id":"","url":"https://api.github.com/users/dnicolodi","html_url":"https://github.com/dnicolodi","followers_url":"https://api.github.com/users/dnicolodi/followers","following_url":"https://api.github.com/users/dnicolodi/following{/other_user}","gists_url":"https://api.github.com/users/dnicolodi/gists{/gist_id}","starred_url":"https://api.github.com/users/dnicolodi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dnicolodi/subscriptions","organizations_url":"https://api.github.com/users/dnicolodi/orgs","repos_url":"https://api.github.com/users/dnicolodi/repos","events_url":"https://api.github.com/users/dnicolodi/events{/privacy}","received_events_url":"https://api.github.com/users/dnicolodi/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":0,"created_at":"2024-10-19T16:38:41Z","updated_at":"2024-10-19T17:34:40Z","closed_at":"2024-10-19T17:34:40Z","author_association":"COLLABORATOR","type":null,"active_lock_reason":null,"draft":false,"pull_request":{"url":"https://api.github.com/repos/beancount/beanquery/pulls/204","html_url":"https://github.com/beancount/beanquery/pull/204","diff_url":"https://github.com/beancount/beanquery/pull/204.diff","patch_url":"https://github.com/beancount/beanquery/pull/204.patch","merged_at":"2024-10-19T17:34:40Z"},"body":null,"closed_by":{"login":"dnicolodi","id":987145,"node_id":"MDQ6VXNlcjk4NzE0NQ==","avatar_url":"https://avatars.githubusercontent.com/u/987145?v=4","gravatar_id":"","url":"https://api.github.com/users/dnicolodi","html_url":"https://github.com/dnicolodi","followers_url":"https://api.github.com/users/dnicolodi/followers","following_url":"https://api.github.com/users/dnicolodi/following{/other_user}","gists_url":"https://api.github.com/users/dnicolodi/gists{/gist_id}","starred_url":"https://api.github.com/users/dnicolodi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dnicolodi/subscriptions","organizations_url":"https://api.github.com/users/dnicolodi/orgs","repos_url":"https://api.github.com/users/dnicolodi/repos","events_url":"https://api.github.com/users/dnicolodi/events{/privacy}","received_events_url":"https://api.github.com/users/dnicolodi/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/beancount/beanquery/issues/204/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beanquery/issues/204/timeline","performed_via_github_app":null,"state_reason":null},{"url":"https://api.github.com/repos/beancount/beanquery/issues/203","repository_url":"https://api.github.com/repos/beancount/beanquery","labels_url":"https://api.github.com/repos/beancount/beanquery/issues/203/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beanquery/issues/203/comments","events_url":"https://api.github.com/repos/beancount/beanquery/issues/203/events","html_url":"https://github.com/beancount/beanquery/pull/203","id":2599203727,"node_id":"PR_kwDOFUEJF85_LV1Z","number":203,"title":"ci: Run tests on Python 3.13 too","user":{"login":"dnicolodi","id":987145,"node_id":"MDQ6VXNlcjk4NzE0NQ==","avatar_url":"https://avatars.githubusercontent.com/u/987145?v=4","gravatar_id":"","url":"https://api.github.com/users/dnicolodi","html_url":"https://github.com/dnicolodi","followers_url":"https://api.github.com/users/dnicolodi/followers","following_url":"https://api.github.com/users/dnicolodi/following{/other_user}","gists_url":"https://api.github.com/users/dnicolodi/gists{/gist_id}","starred_url":"https://api.github.com/users/dnicolodi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dnicolodi/subscriptions","organizations_url":"https://api.github.com/users/dnicolodi/orgs","repos_url":"https://api.github.com/users/dnicolodi/repos","events_url":"https://api.github.com/users/dnicolodi/events{/privacy}","received_events_url":"https://api.github.com/users/dnicolodi/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":0,"created_at":"2024-10-19T13:55:00Z","updated_at":"2024-10-19T13:58:46Z","closed_at":"2024-10-19T13:58:46Z","author_association":"COLLABORATOR","type":null,"active_lock_reason":null,"draft":false,"pull_request":{"url":"https://api.github.com/repos/beancount/beanquery/pulls/203","html_url":"https://github.com/beancount/beanquery/pull/203","diff_url":"https://github.com/beancount/beanquery/pull/203.diff","patch_url":"https://github.com/beancount/beanquery/pull/203.patch","merged_at":"2024-10-19T13:58:46Z"},"body":null,"closed_by":{"login":"dnicolodi","id":987145,"node_id":"MDQ6VXNlcjk4NzE0NQ==","avatar_url":"https://avatars.githubusercontent.com/u/987145?v=4","gravatar_id":"","url":"https://api.github.com/users/dnicolodi","html_url":"https://github.com/dnicolodi","followers_url":"https://api.github.com/users/dnicolodi/followers","following_url":"https://api.github.com/users/dnicolodi/following{/other_user}","gists_url":"https://api.github.com/users/dnicolodi/gists{/gist_id}","starred_url":"https://api.github.com/users/dnicolodi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dnicolodi/subscriptions","organizations_url":"https://api.github.com/users/dnicolodi/orgs","repos_url":"https://api.github.com/users/dnicolodi/repos","events_url":"https://api.github.com/users/dnicolodi/events{/privacy}","received_events_url":"https://api.github.com/users/dnicolodi/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/beancount/beanquery/issues/203/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beanquery/issues/203/timeline","performed_via_github_app":null,"state_reason":null},{"url":"https://api.github.com/repos/beancount/beanquery/issues/202","repository_url":"https://api.github.com/repos/beancount/beanquery","labels_url":"https://api.github.com/repos/beancount/beanquery/issues/202/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beanquery/issues/202/comments","events_url":"https://api.github.com/repos/beancount/beanquery/issues/202/events","html_url":"https://github.com/beancount/beanquery/pull/202","id":2599198759,"node_id":"PR_kwDOFUEJF85_LVOD","number":202,"title":"Revisit API to allow arbitrary keyword arguments to connect()","user":{"login":"dnicolodi","id":987145,"node_id":"MDQ6VXNlcjk4NzE0NQ==","avatar_url":"https://avatars.githubusercontent.com/u/987145?v=4","gravatar_id":"","url":"https://api.github.com/users/dnicolodi","html_url":"https://github.com/dnicolodi","followers_url":"https://api.github.com/users/dnicolodi/followers","following_url":"https://api.github.com/users/dnicolodi/following{/other_user}","gists_url":"https://api.github.com/users/dnicolodi/gists{/gist_id}","starred_url":"https://api.github.com/users/dnicolodi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dnicolodi/subscriptions","organizations_url":"https://api.github.com/users/dnicolodi/orgs","repos_url":"https://api.github.com/users/dnicolodi/repos","events_url":"https://api.github.com/users/dnicolodi/events{/privacy}","received_events_url":"https://api.github.com/users/dnicolodi/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":0,"created_at":"2024-10-19T13:49:24Z","updated_at":"2024-10-19T15:20:39Z","closed_at":"2024-10-19T15:20:38Z","author_association":"COLLABORATOR","type":null,"active_lock_reason":null,"draft":false,"pull_request":{"url":"https://api.github.com/repos/beancount/beanquery/pulls/202","html_url":"https://github.com/beancount/beanquery/pull/202","diff_url":"https://github.com/beancount/beanquery/pull/202.diff","patch_url":"https://github.com/beancount/beanquery/pull/202.patch","merged_at":"2024-10-19T15:20:38Z"},"body":"This allows to easily pass arguments that cannot easily be serialized as part of the data source string. In particular this allows to remove some special casing of the beancount data source.","closed_by":{"login":"dnicolodi","id":987145,"node_id":"MDQ6VXNlcjk4NzE0NQ==","avatar_url":"https://avatars.githubusercontent.com/u/987145?v=4","gravatar_id":"","url":"https://api.github.com/users/dnicolodi","html_url":"https://github.com/dnicolodi","followers_url":"https://api.github.com/users/dnicolodi/followers","following_url":"https://api.github.com/users/dnicolodi/following{/other_user}","gists_url":"https://api.github.com/users/dnicolodi/gists{/gist_id}","starred_url":"https://api.github.com/users/dnicolodi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dnicolodi/subscriptions","organizations_url":"https://api.github.com/users/dnicolodi/orgs","repos_url":"https://api.github.com/users/dnicolodi/repos","events_url":"https://api.github.com/users/dnicolodi/events{/privacy}","received_events_url":"https://api.github.com/users/dnicolodi/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/beancount/beanquery/issues/202/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beanquery/issues/202/timeline","performed_via_github_app":null,"state_reason":null},{"url":"https://api.github.com/repos/beancount/beanquery/issues/201","repository_url":"https://api.github.com/repos/beancount/beanquery","labels_url":"https://api.github.com/repos/beancount/beanquery/issues/201/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beanquery/issues/201/comments","events_url":"https://api.github.com/repos/beancount/beanquery/issues/201/events","html_url":"https://github.com/beancount/beanquery/issues/201","id":2578235407,"node_id":"I_kwDOFUEJF86ZrMAP","number":201,"title":"implement named parameterized queries","user":{"login":"WolfgangFahl","id":1336221,"node_id":"MDQ6VXNlcjEzMzYyMjE=","avatar_url":"https://avatars.githubusercontent.com/u/1336221?v=4","gravatar_id":"","url":"https://api.github.com/users/WolfgangFahl","html_url":"https://github.com/WolfgangFahl","followers_url":"https://api.github.com/users/WolfgangFahl/followers","following_url":"https://api.github.com/users/WolfgangFahl/following{/other_user}","gists_url":"https://api.github.com/users/WolfgangFahl/gists{/gist_id}","starred_url":"https://api.github.com/users/WolfgangFahl/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/WolfgangFahl/subscriptions","organizations_url":"https://api.github.com/users/WolfgangFahl/orgs","repos_url":"https://api.github.com/users/WolfgangFahl/repos","events_url":"https://api.github.com/users/WolfgangFahl/events{/privacy}","received_events_url":"https://api.github.com/users/WolfgangFahl/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":9,"created_at":"2024-10-10T09:35:19Z","updated_at":"2025-03-26T10:35:42Z","closed_at":"2024-12-05T11:53:52Z","author_association":"NONE","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"see e.g. https://github.com/WolfgangFahl/pyLoDStorage/blob/master/lodstorage/params.py\r\n\r\nwhich does jinja compatible parameter handling and is used in https://github.com/WolfgangFahl/snapquery\r\n\r\nwith demos at https://snapquery.bitplan.com/ and https://genwiki2024.bitplan.com/\r\n\r\n<img width=\"969\" alt=\"grafik\" src=\"https://github.com/user-attachments/assets/de588ce6-df42-49ca-92b8-f2b4584ca589\">\r\n<img width=\"1098\" alt=\"grafik\" src=\"https://github.com/user-attachments/assets/5f884a6e-f40b-4fb9-9d32-e293d6563d60\">\r\n","closed_by":{"login":"dnicolodi","id":987145,"node_id":"MDQ6VXNlcjk4NzE0NQ==","avatar_url":"https://avatars.githubusercontent.com/u/987145?v=4","gravatar_id":"","url":"https://api.github.com/users/dnicolodi","html_url":"https://github.com/dnicolodi","followers_url":"https://api.github.com/users/dnicolodi/followers","following_url":"https://api.github.com/users/dnicolodi/following{/other_user}","gists_url":"https://api.github.com/users/dnicolodi/gists{/gist_id}","starred_url":"https://api.github.com/users/dnicolodi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dnicolodi/subscriptions","organizations_url":"https://api.github.com/users/dnicolodi/orgs","repos_url":"https://api.github.com/users/dnicolodi/repos","events_url":"https://api.github.com/users/dnicolodi/events{/privacy}","received_events_url":"https://api.github.com/users/dnicolodi/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/beancount/beanquery/issues/201/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beanquery/issues/201/timeline","performed_via_github_app":null,"state_reason":"completed"},{"url":"https://api.github.com/repos/beancount/beanquery/issues/200","repository_url":"https://api.github.com/repos/beancount/beanquery","labels_url":"https://api.github.com/repos/beancount/beanquery/issues/200/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beanquery/issues/200/comments","events_url":"https://api.github.com/repos/beancount/beanquery/issues/200/events","html_url":"https://github.com/beancount/beanquery/pull/200","id":2568074964,"node_id":"PR_kwDOFUEJF859tDBw","number":200,"title":"shell: Fix pager support","user":{"login":"dnicolodi","id":987145,"node_id":"MDQ6VXNlcjk4NzE0NQ==","avatar_url":"https://avatars.githubusercontent.com/u/987145?v=4","gravatar_id":"","url":"https://api.github.com/users/dnicolodi","html_url":"https://github.com/dnicolodi","followers_url":"https://api.github.com/users/dnicolodi/followers","following_url":"https://api.github.com/users/dnicolodi/following{/other_user}","gists_url":"https://api.github.com/users/dnicolodi/gists{/gist_id}","starred_url":"https://api.github.com/users/dnicolodi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dnicolodi/subscriptions","organizations_url":"https://api.github.com/users/dnicolodi/orgs","repos_url":"https://api.github.com/users/dnicolodi/repos","events_url":"https://api.github.com/users/dnicolodi/events{/privacy}","received_events_url":"https://api.github.com/users/dnicolodi/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":0,"created_at":"2024-10-05T13:48:19Z","updated_at":"2024-10-05T13:49:33Z","closed_at":"2024-10-05T13:49:33Z","author_association":"COLLABORATOR","type":null,"active_lock_reason":null,"draft":false,"pull_request":{"url":"https://api.github.com/repos/beancount/beanquery/pulls/200","html_url":"https://github.com/beancount/beanquery/pull/200","diff_url":"https://github.com/beancount/beanquery/pull/200.diff","patch_url":"https://github.com/beancount/beanquery/pull/200.patch","merged_at":"2024-10-05T13:49:33Z"},"body":"Change the \"pager\" setting to a boolean enabling or disabling pager support. If the $PAGER environment variable is set, output to be paged is piped to the specified program. Otherwise \"more\" is used. The pager is used only for interactive invocations of bean-query.\r\n\r\nFixes #198.","closed_by":{"login":"dnicolodi","id":987145,"node_id":"MDQ6VXNlcjk4NzE0NQ==","avatar_url":"https://avatars.githubusercontent.com/u/987145?v=4","gravatar_id":"","url":"https://api.github.com/users/dnicolodi","html_url":"https://github.com/dnicolodi","followers_url":"https://api.github.com/users/dnicolodi/followers","following_url":"https://api.github.com/users/dnicolodi/following{/other_user}","gists_url":"https://api.github.com/users/dnicolodi/gists{/gist_id}","starred_url":"https://api.github.com/users/dnicolodi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dnicolodi/subscriptions","organizations_url":"https://api.github.com/users/dnicolodi/orgs","repos_url":"https://api.github.com/users/dnicolodi/repos","events_url":"https://api.github.com/users/dnicolodi/events{/privacy}","received_events_url":"https://api.github.com/users/dnicolodi/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/beancount/beanquery/issues/200/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beanquery/issues/200/timeline","performed_via_github_app":null,"state_reason":null},{"url":"https://api.github.com/repos/beancount/beanquery/issues/199","repository_url":"https://api.github.com/repos/beancount/beanquery","labels_url":"https://api.github.com/repos/beancount/beanquery/issues/199/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beanquery/issues/199/comments","events_url":"https://api.github.com/repos/beancount/beanquery/issues/199/events","html_url":"https://github.com/beancount/beanquery/pull/199","id":2567685723,"node_id":"PR_kwDOFUEJF859rtTv","number":199,"title":"shell: Fix CTRL-C handling","user":{"login":"dnicolodi","id":987145,"node_id":"MDQ6VXNlcjk4NzE0NQ==","avatar_url":"https://avatars.githubusercontent.com/u/987145?v=4","gravatar_id":"","url":"https://api.github.com/users/dnicolodi","html_url":"https://github.com/dnicolodi","followers_url":"https://api.github.com/users/dnicolodi/followers","following_url":"https://api.github.com/users/dnicolodi/following{/other_user}","gists_url":"https://api.github.com/users/dnicolodi/gists{/gist_id}","starred_url":"https://api.github.com/users/dnicolodi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dnicolodi/subscriptions","organizations_url":"https://api.github.com/users/dnicolodi/orgs","repos_url":"https://api.github.com/users/dnicolodi/repos","events_url":"https://api.github.com/users/dnicolodi/events{/privacy}","received_events_url":"https://api.github.com/users/dnicolodi/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":0,"created_at":"2024-10-05T06:15:42Z","updated_at":"2024-10-05T06:23:09Z","closed_at":"2024-10-05T06:23:09Z","author_association":"COLLABORATOR","type":null,"active_lock_reason":null,"draft":false,"pull_request":{"url":"https://api.github.com/repos/beancount/beanquery/pulls/199","html_url":"https://github.com/beancount/beanquery/pull/199","diff_url":"https://github.com/beancount/beanquery/pull/199.diff","patch_url":"https://github.com/beancount/beanquery/pull/199.patch","merged_at":"2024-10-05T06:23:09Z"},"body":"Fixes #197.","closed_by":{"login":"dnicolodi","id":987145,"node_id":"MDQ6VXNlcjk4NzE0NQ==","avatar_url":"https://avatars.githubusercontent.com/u/987145?v=4","gravatar_id":"","url":"https://api.github.com/users/dnicolodi","html_url":"https://github.com/dnicolodi","followers_url":"https://api.github.com/users/dnicolodi/followers","following_url":"https://api.github.com/users/dnicolodi/following{/other_user}","gists_url":"https://api.github.com/users/dnicolodi/gists{/gist_id}","starred_url":"https://api.github.com/users/dnicolodi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dnicolodi/subscriptions","organizations_url":"https://api.github.com/users/dnicolodi/orgs","repos_url":"https://api.github.com/users/dnicolodi/repos","events_url":"https://api.github.com/users/dnicolodi/events{/privacy}","received_events_url":"https://api.github.com/users/dnicolodi/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/beancount/beanquery/issues/199/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beanquery/issues/199/timeline","performed_via_github_app":null,"state_reason":null},{"url":"https://api.github.com/repos/beancount/beanquery/issues/198","repository_url":"https://api.github.com/repos/beancount/beanquery","labels_url":"https://api.github.com/repos/beancount/beanquery/issues/198/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beanquery/issues/198/comments","events_url":"https://api.github.com/repos/beancount/beanquery/issues/198/events","html_url":"https://github.com/beancount/beanquery/issues/198","id":2561432314,"node_id":"I_kwDOFUEJF86YrFr6","number":198,"title":"pager $PAGER no longer working","user":{"login":"tbm","id":1556037,"node_id":"MDQ6VXNlcjE1NTYwMzc=","avatar_url":"https://avatars.githubusercontent.com/u/1556037?v=4","gravatar_id":"","url":"https://api.github.com/users/tbm","html_url":"https://github.com/tbm","followers_url":"https://api.github.com/users/tbm/followers","following_url":"https://api.github.com/users/tbm/following{/other_user}","gists_url":"https://api.github.com/users/tbm/gists{/gist_id}","starred_url":"https://api.github.com/users/tbm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tbm/subscriptions","organizations_url":"https://api.github.com/users/tbm/orgs","repos_url":"https://api.github.com/users/tbm/repos","events_url":"https://api.github.com/users/tbm/events{/privacy}","received_events_url":"https://api.github.com/users/tbm/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":7,"created_at":"2024-10-02T12:08:53Z","updated_at":"2024-10-05T13:49:34Z","closed_at":"2024-10-05T13:49:34Z","author_association":"CONTRIBUTOR","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"beanquery/shell.py has:\r\n```\r\n    pager: str = ''\r\n```\r\n\r\nbut beancount utils/pager.py does:\r\n```\r\n    if command is None:\r\n        command = os.environ.get(\"PAGER\", DEFAULT_PAGER)\r\n    if not command:\r\n        command = DEFAULT_PAGER\r\n```\r\n\r\nThe first if is not true because `command` is not `None`; it's the empty string.  So we always end up with `DEFAULT_PAGER`, even when the environment variable `$PAGER` is set.\r\n","closed_by":{"login":"dnicolodi","id":987145,"node_id":"MDQ6VXNlcjk4NzE0NQ==","avatar_url":"https://avatars.githubusercontent.com/u/987145?v=4","gravatar_id":"","url":"https://api.github.com/users/dnicolodi","html_url":"https://github.com/dnicolodi","followers_url":"https://api.github.com/users/dnicolodi/followers","following_url":"https://api.github.com/users/dnicolodi/following{/other_user}","gists_url":"https://api.github.com/users/dnicolodi/gists{/gist_id}","starred_url":"https://api.github.com/users/dnicolodi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dnicolodi/subscriptions","organizations_url":"https://api.github.com/users/dnicolodi/orgs","repos_url":"https://api.github.com/users/dnicolodi/repos","events_url":"https://api.github.com/users/dnicolodi/events{/privacy}","received_events_url":"https://api.github.com/users/dnicolodi/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/beancount/beanquery/issues/198/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beanquery/issues/198/timeline","performed_via_github_app":null,"state_reason":"completed"},{"url":"https://api.github.com/repos/beancount/beanquery/issues/197","repository_url":"https://api.github.com/repos/beancount/beanquery","labels_url":"https://api.github.com/repos/beancount/beanquery/issues/197/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beanquery/issues/197/comments","events_url":"https://api.github.com/repos/beancount/beanquery/issues/197/events","html_url":"https://github.com/beancount/beanquery/issues/197","id":2561376685,"node_id":"I_kwDOFUEJF86Yq4Gt","number":197,"title":"Crtl-C: `AttributeError: 'BQLShell' object has no attribute 'stderr'`","user":{"login":"tbm","id":1556037,"node_id":"MDQ6VXNlcjE1NTYwMzc=","avatar_url":"https://avatars.githubusercontent.com/u/1556037?v=4","gravatar_id":"","url":"https://api.github.com/users/tbm","html_url":"https://github.com/tbm","followers_url":"https://api.github.com/users/tbm/followers","following_url":"https://api.github.com/users/tbm/following{/other_user}","gists_url":"https://api.github.com/users/tbm/gists{/gist_id}","starred_url":"https://api.github.com/users/tbm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tbm/subscriptions","organizations_url":"https://api.github.com/users/tbm/orgs","repos_url":"https://api.github.com/users/tbm/repos","events_url":"https://api.github.com/users/tbm/events{/privacy}","received_events_url":"https://api.github.com/users/tbm/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":0,"created_at":"2024-10-02T11:48:38Z","updated_at":"2024-10-05T06:23:10Z","closed_at":"2024-10-05T06:23:10Z","author_association":"CONTRIBUTOR","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"Pressing Ctrl-C in bean-query leads to:\r\n\r\n```\r\n  File \"/home/tbm/.local/lib/python3.11/site-packages/beanquery/shell.py\", line 245, in cmdloop\r\n    print('\\n(interrupted)', file=self.stderr)\r\n                                  ^^^^^^^^^^^\r\nAttributeError: 'BQLShell' object has no attribute 'stderr'\r\n```\r\n","closed_by":{"login":"dnicolodi","id":987145,"node_id":"MDQ6VXNlcjk4NzE0NQ==","avatar_url":"https://avatars.githubusercontent.com/u/987145?v=4","gravatar_id":"","url":"https://api.github.com/users/dnicolodi","html_url":"https://github.com/dnicolodi","followers_url":"https://api.github.com/users/dnicolodi/followers","following_url":"https://api.github.com/users/dnicolodi/following{/other_user}","gists_url":"https://api.github.com/users/dnicolodi/gists{/gist_id}","starred_url":"https://api.github.com/users/dnicolodi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dnicolodi/subscriptions","organizations_url":"https://api.github.com/users/dnicolodi/orgs","repos_url":"https://api.github.com/users/dnicolodi/repos","events_url":"https://api.github.com/users/dnicolodi/events{/privacy}","received_events_url":"https://api.github.com/users/dnicolodi/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/beancount/beanquery/issues/197/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beanquery/issues/197/timeline","performed_via_github_app":null,"state_reason":"completed"},{"url":"https://api.github.com/repos/beancount/beanquery/issues/196","repository_url":"https://api.github.com/repos/beancount/beanquery","labels_url":"https://api.github.com/repos/beancount/beanquery/issues/196/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beanquery/issues/196/comments","events_url":"https://api.github.com/repos/beancount/beanquery/issues/196/events","html_url":"https://github.com/beancount/beanquery/pull/196","id":2370033454,"node_id":"PR_kwDOFUEJF85zWzKI","number":196,"title":"Functions context","user":{"login":"dnicolodi","id":987145,"node_id":"MDQ6VXNlcjk4NzE0NQ==","avatar_url":"https://avatars.githubusercontent.com/u/987145?v=4","gravatar_id":"","url":"https://api.github.com/users/dnicolodi","html_url":"https://github.com/dnicolodi","followers_url":"https://api.github.com/users/dnicolodi/followers","following_url":"https://api.github.com/users/dnicolodi/following{/other_user}","gists_url":"https://api.github.com/users/dnicolodi/gists{/gist_id}","starred_url":"https://api.github.com/users/dnicolodi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dnicolodi/subscriptions","organizations_url":"https://api.github.com/users/dnicolodi/orgs","repos_url":"https://api.github.com/users/dnicolodi/repos","events_url":"https://api.github.com/users/dnicolodi/events{/privacy}","received_events_url":"https://api.github.com/users/dnicolodi/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":0,"created_at":"2024-06-24T11:46:30Z","updated_at":"2024-06-30T21:33:20Z","closed_at":"2024-06-30T21:33:20Z","author_association":"COLLABORATOR","type":null,"active_lock_reason":null,"draft":false,"pull_request":{"url":"https://api.github.com/repos/beancount/beanquery/pulls/196","html_url":"https://github.com/beancount/beanquery/pull/196","diff_url":"https://github.com/beancount/beanquery/pull/196.diff","patch_url":"https://github.com/beancount/beanquery/pull/196.patch","merged_at":"2024-06-30T21:33:20Z"},"body":null,"closed_by":{"login":"dnicolodi","id":987145,"node_id":"MDQ6VXNlcjk4NzE0NQ==","avatar_url":"https://avatars.githubusercontent.com/u/987145?v=4","gravatar_id":"","url":"https://api.github.com/users/dnicolodi","html_url":"https://github.com/dnicolodi","followers_url":"https://api.github.com/users/dnicolodi/followers","following_url":"https://api.github.com/users/dnicolodi/following{/other_user}","gists_url":"https://api.github.com/users/dnicolodi/gists{/gist_id}","starred_url":"https://api.github.com/users/dnicolodi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dnicolodi/subscriptions","organizations_url":"https://api.github.com/users/dnicolodi/orgs","repos_url":"https://api.github.com/users/dnicolodi/repos","events_url":"https://api.github.com/users/dnicolodi/events{/privacy}","received_events_url":"https://api.github.com/users/dnicolodi/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/beancount/beanquery/issues/196/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beanquery/issues/196/timeline","performed_via_github_app":null,"state_reason":null},{"url":"https://api.github.com/repos/beancount/beanquery/issues/195","repository_url":"https://api.github.com/repos/beancount/beanquery","labels_url":"https://api.github.com/repos/beancount/beanquery/issues/195/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beanquery/issues/195/comments","events_url":"https://api.github.com/repos/beancount/beanquery/issues/195/events","html_url":"https://github.com/beancount/beanquery/issues/195","id":2367241240,"node_id":"I_kwDOFUEJF86NGTwY","number":195,"title":"Implement `.*` oprator to select all fields of a strctured type","user":{"login":"dnicolodi","id":987145,"node_id":"MDQ6VXNlcjk4NzE0NQ==","avatar_url":"https://avatars.githubusercontent.com/u/987145?v=4","gravatar_id":"","url":"https://api.github.com/users/dnicolodi","html_url":"https://github.com/dnicolodi","followers_url":"https://api.github.com/users/dnicolodi/followers","following_url":"https://api.github.com/users/dnicolodi/following{/other_user}","gists_url":"https://api.github.com/users/dnicolodi/gists{/gist_id}","starred_url":"https://api.github.com/users/dnicolodi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dnicolodi/subscriptions","organizations_url":"https://api.github.com/users/dnicolodi/orgs","repos_url":"https://api.github.com/users/dnicolodi/repos","events_url":"https://api.github.com/users/dnicolodi/events{/privacy}","received_events_url":"https://api.github.com/users/dnicolodi/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":7111442006,"node_id":"LA_kwDOFUEJF88AAAABp9_-Vg","url":"https://api.github.com/repos/beancount/beanquery/labels/feature","name":"feature","color":"fef2c0","default":false,"description":"New feature"}],"state":"open","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":0,"created_at":"2024-06-21T20:59:10Z","updated_at":"2025-04-14T22:26:33Z","closed_at":null,"author_association":"COLLABORATOR","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"Given a colum `c` with structured type`T` having fields `a` and `b`, `SELECT c.*` would be equivalent to `SELECT c.a, c.b`.","closed_by":null,"reactions":{"url":"https://api.github.com/repos/beancount/beanquery/issues/195/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beanquery/issues/195/timeline","performed_via_github_app":null,"state_reason":null},{"url":"https://api.github.com/repos/beancount/beanquery/issues/194","repository_url":"https://api.github.com/repos/beancount/beanquery","labels_url":"https://api.github.com/repos/beancount/beanquery/issues/194/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beanquery/issues/194/comments","events_url":"https://api.github.com/repos/beancount/beanquery/issues/194/events","html_url":"https://github.com/beancount/beanquery/issues/194","id":2367182676,"node_id":"I_kwDOFUEJF86NGFdU","number":194,"title":"String formatting ang string concatenation","user":{"login":"dnicolodi","id":987145,"node_id":"MDQ6VXNlcjk4NzE0NQ==","avatar_url":"https://avatars.githubusercontent.com/u/987145?v=4","gravatar_id":"","url":"https://api.github.com/users/dnicolodi","html_url":"https://github.com/dnicolodi","followers_url":"https://api.github.com/users/dnicolodi/followers","following_url":"https://api.github.com/users/dnicolodi/following{/other_user}","gists_url":"https://api.github.com/users/dnicolodi/gists{/gist_id}","starred_url":"https://api.github.com/users/dnicolodi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dnicolodi/subscriptions","organizations_url":"https://api.github.com/users/dnicolodi/orgs","repos_url":"https://api.github.com/users/dnicolodi/repos","events_url":"https://api.github.com/users/dnicolodi/events{/privacy}","received_events_url":"https://api.github.com/users/dnicolodi/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":7111442006,"node_id":"LA_kwDOFUEJF88AAAABp9_-Vg","url":"https://api.github.com/repos/beancount/beanquery/labels/feature","name":"feature","color":"fef2c0","default":false,"description":"New feature"}],"state":"open","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":1,"created_at":"2024-06-21T20:10:40Z","updated_at":"2024-06-22T13:42:18Z","closed_at":null,"author_association":"COLLABORATOR","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"There would be value in adding support for rendering values as strings with some control on the formatting, and for concatenating strings. \r\n\r\nFormatting could be done with a `format()` function resembling the homonymous Python function, or the Python `str` class method. The latter would allow to format multiple values in one string, with the drawback of a more complex implementation, especially regarding typing in BQL. The former would be much simpler to implement.\r\n\r\nString concatenation could be done with the `+` operator like in Python or with the `||` like in standard SQL. I like the `+` better.","closed_by":null,"reactions":{"url":"https://api.github.com/repos/beancount/beanquery/issues/194/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beanquery/issues/194/timeline","performed_via_github_app":null,"state_reason":null},{"url":"https://api.github.com/repos/beancount/beanquery/issues/193","repository_url":"https://api.github.com/repos/beancount/beanquery","labels_url":"https://api.github.com/repos/beancount/beanquery/issues/193/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beanquery/issues/193/comments","events_url":"https://api.github.com/repos/beancount/beanquery/issues/193/events","html_url":"https://github.com/beancount/beanquery/pull/193","id":2367094928,"node_id":"PR_kwDOFUEJF85zNwCQ","number":193,"title":"Fix \"filename\", \"lineno\", and \"location\" columns for pad postings","user":{"login":"dnicolodi","id":987145,"node_id":"MDQ6VXNlcjk4NzE0NQ==","avatar_url":"https://avatars.githubusercontent.com/u/987145?v=4","gravatar_id":"","url":"https://api.github.com/users/dnicolodi","html_url":"https://github.com/dnicolodi","followers_url":"https://api.github.com/users/dnicolodi/followers","following_url":"https://api.github.com/users/dnicolodi/following{/other_user}","gists_url":"https://api.github.com/users/dnicolodi/gists{/gist_id}","starred_url":"https://api.github.com/users/dnicolodi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dnicolodi/subscriptions","organizations_url":"https://api.github.com/users/dnicolodi/orgs","repos_url":"https://api.github.com/users/dnicolodi/repos","events_url":"https://api.github.com/users/dnicolodi/events{/privacy}","received_events_url":"https://api.github.com/users/dnicolodi/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":0,"created_at":"2024-06-21T18:59:51Z","updated_at":"2024-06-21T19:08:33Z","closed_at":"2024-06-21T19:08:33Z","author_association":"COLLABORATOR","type":null,"active_lock_reason":null,"draft":false,"pull_request":{"url":"https://api.github.com/repos/beancount/beanquery/pulls/193","html_url":"https://github.com/beancount/beanquery/pull/193","diff_url":"https://github.com/beancount/beanquery/pull/193.diff","patch_url":"https://github.com/beancount/beanquery/pull/193.patch","merged_at":"2024-06-21T19:08:33Z"},"body":null,"closed_by":{"login":"dnicolodi","id":987145,"node_id":"MDQ6VXNlcjk4NzE0NQ==","avatar_url":"https://avatars.githubusercontent.com/u/987145?v=4","gravatar_id":"","url":"https://api.github.com/users/dnicolodi","html_url":"https://github.com/dnicolodi","followers_url":"https://api.github.com/users/dnicolodi/followers","following_url":"https://api.github.com/users/dnicolodi/following{/other_user}","gists_url":"https://api.github.com/users/dnicolodi/gists{/gist_id}","starred_url":"https://api.github.com/users/dnicolodi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dnicolodi/subscriptions","organizations_url":"https://api.github.com/users/dnicolodi/orgs","repos_url":"https://api.github.com/users/dnicolodi/repos","events_url":"https://api.github.com/users/dnicolodi/events{/privacy}","received_events_url":"https://api.github.com/users/dnicolodi/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/beancount/beanquery/issues/193/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beanquery/issues/193/timeline","performed_via_github_app":null,"state_reason":null},{"url":"https://api.github.com/repos/beancount/beanquery/issues/192","repository_url":"https://api.github.com/repos/beancount/beanquery","labels_url":"https://api.github.com/repos/beancount/beanquery/issues/192/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beanquery/issues/192/comments","events_url":"https://api.github.com/repos/beancount/beanquery/issues/192/events","html_url":"https://github.com/beancount/beanquery/issues/192","id":2366780354,"node_id":"I_kwDOFUEJF86NEjPC","number":192,"title":"Selecting location fails for entries created out of pad directive","user":{"login":"tarioch","id":2998148,"node_id":"MDQ6VXNlcjI5OTgxNDg=","avatar_url":"https://avatars.githubusercontent.com/u/2998148?v=4","gravatar_id":"","url":"https://api.github.com/users/tarioch","html_url":"https://github.com/tarioch","followers_url":"https://api.github.com/users/tarioch/followers","following_url":"https://api.github.com/users/tarioch/following{/other_user}","gists_url":"https://api.github.com/users/tarioch/gists{/gist_id}","starred_url":"https://api.github.com/users/tarioch/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tarioch/subscriptions","organizations_url":"https://api.github.com/users/tarioch/orgs","repos_url":"https://api.github.com/users/tarioch/repos","events_url":"https://api.github.com/users/tarioch/events{/privacy}","received_events_url":"https://api.github.com/users/tarioch/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":1,"created_at":"2024-06-21T15:31:45Z","updated_at":"2024-06-21T19:08:34Z","closed_at":"2024-06-21T19:08:34Z","author_association":"NONE","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"If you have pad statements, the location query doesn't work as the meta is missing\r\n\r\nIf you have something like\r\n\r\n```\r\n2024-01-01 open Assets:Foo\r\n2024-01-01 open Income:Bar\r\n2024-01-01 open Equity:Clear\r\n\r\n2024-01-02 * \"Add something\"\r\n    Assets:Foo  1 CHF\r\n    Income:Bar\r\n\r\n2024-01-03 pad Assets:Foo Equity:Clear\r\n2024-01-04 balance Assets:Foo                         0 CHF\r\n```\r\n\r\nand run a query like\r\n\r\n```\r\nselect account, location\r\n```\r\n\r\nIt results in\r\n\r\n```\r\n  File \"/workspace/.venv/lib/python3.10/site-packages/beanquery/query_env.py\", line 1039, in location\r\n    return '{:s}:{:d}:'.format(meta['filename'], meta['lineno'])\r\nKeyError: 'filename'\r\n```\r\n\r\nthis used to work on beancount 2","closed_by":{"login":"dnicolodi","id":987145,"node_id":"MDQ6VXNlcjk4NzE0NQ==","avatar_url":"https://avatars.githubusercontent.com/u/987145?v=4","gravatar_id":"","url":"https://api.github.com/users/dnicolodi","html_url":"https://github.com/dnicolodi","followers_url":"https://api.github.com/users/dnicolodi/followers","following_url":"https://api.github.com/users/dnicolodi/following{/other_user}","gists_url":"https://api.github.com/users/dnicolodi/gists{/gist_id}","starred_url":"https://api.github.com/users/dnicolodi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dnicolodi/subscriptions","organizations_url":"https://api.github.com/users/dnicolodi/orgs","repos_url":"https://api.github.com/users/dnicolodi/repos","events_url":"https://api.github.com/users/dnicolodi/events{/privacy}","received_events_url":"https://api.github.com/users/dnicolodi/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/beancount/beanquery/issues/192/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beanquery/issues/192/timeline","performed_via_github_app":null,"state_reason":"completed"},{"url":"https://api.github.com/repos/beancount/beanquery/issues/191","repository_url":"https://api.github.com/repos/beancount/beanquery","labels_url":"https://api.github.com/repos/beancount/beanquery/issues/191/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beanquery/issues/191/comments","events_url":"https://api.github.com/repos/beancount/beanquery/issues/191/events","html_url":"https://github.com/beancount/beanquery/issues/191","id":2366304271,"node_id":"I_kwDOFUEJF86NCvAP","number":191,"title":"Migration instructions","user":{"login":"tarioch","id":2998148,"node_id":"MDQ6VXNlcjI5OTgxNDg=","avatar_url":"https://avatars.githubusercontent.com/u/2998148?v=4","gravatar_id":"","url":"https://api.github.com/users/tarioch","html_url":"https://github.com/tarioch","followers_url":"https://api.github.com/users/tarioch/followers","following_url":"https://api.github.com/users/tarioch/following{/other_user}","gists_url":"https://api.github.com/users/tarioch/gists{/gist_id}","starred_url":"https://api.github.com/users/tarioch/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tarioch/subscriptions","organizations_url":"https://api.github.com/users/tarioch/orgs","repos_url":"https://api.github.com/users/tarioch/repos","events_url":"https://api.github.com/users/tarioch/events{/privacy}","received_events_url":"https://api.github.com/users/tarioch/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":2901894419,"node_id":"MDU6TGFiZWwyOTAxODk0NDE5","url":"https://api.github.com/repos/beancount/beanquery/labels/documentation","name":"documentation","color":"DAE8F0","default":true,"description":"Improvements or additions to documentation"}],"state":"open","locked":false,"assignee":null,"assignees":[],"milestone":{"url":"https://api.github.com/repos/beancount/beanquery/milestones/1","html_url":"https://github.com/beancount/beanquery/milestone/1","labels_url":"https://api.github.com/repos/beancount/beanquery/milestones/1/labels","id":8009928,"node_id":"MI_kwDOFUEJF84AejjI","number":1,"title":"0.2.0","description":"","creator":{"login":"dnicolodi","id":987145,"node_id":"MDQ6VXNlcjk4NzE0NQ==","avatar_url":"https://avatars.githubusercontent.com/u/987145?v=4","gravatar_id":"","url":"https://api.github.com/users/dnicolodi","html_url":"https://github.com/dnicolodi","followers_url":"https://api.github.com/users/dnicolodi/followers","following_url":"https://api.github.com/users/dnicolodi/following{/other_user}","gists_url":"https://api.github.com/users/dnicolodi/gists{/gist_id}","starred_url":"https://api.github.com/users/dnicolodi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dnicolodi/subscriptions","organizations_url":"https://api.github.com/users/dnicolodi/orgs","repos_url":"https://api.github.com/users/dnicolodi/repos","events_url":"https://api.github.com/users/dnicolodi/events{/privacy}","received_events_url":"https://api.github.com/users/dnicolodi/received_events","type":"User","user_view_type":"public","site_admin":false},"open_issues":4,"closed_issues":1,"state":"open","created_at":"2022-05-23T11:55:50Z","updated_at":"2025-02-04T17:06:00Z","due_on":null,"closed_at":null},"comments":12,"created_at":"2024-06-21T11:05:53Z","updated_at":"2025-02-03T13:51:15Z","closed_at":null,"author_association":"NONE","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"Are there any migration instructions anywhere?\r\n\r\nI see https://github.com/beancount/beanquery/blob/master/CHANGES.rst which describes some of the changes but trying to convert my code from beancount 2 over to beanquery is right now more a trial and error with some looking through the source.\r\n\r\ne.g. I used to do \r\n\r\n```\r\nvalue(position, #\"2020-12-31\")\r\n```\r\n\r\nand I think now I need to do\r\n\r\n```\r\nvalue(position, date(\"2020-12-31\"))\r\n```\r\n\r\nAs I'm embedding this into my own code, there are also changes with the returned data on the run_query, before the rows were named tuples, now I think they only contain the data and I have to get the names out of the types, correct?","closed_by":null,"reactions":{"url":"https://api.github.com/repos/beancount/beanquery/issues/191/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beanquery/issues/191/timeline","performed_via_github_app":null,"state_reason":null},{"url":"https://api.github.com/repos/beancount/beanquery/issues/190","repository_url":"https://api.github.com/repos/beancount/beanquery","labels_url":"https://api.github.com/repos/beancount/beanquery/issues/190/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beanquery/issues/190/comments","events_url":"https://api.github.com/repos/beancount/beanquery/issues/190/events","html_url":"https://github.com/beancount/beanquery/pull/190","id":2358343223,"node_id":"PR_kwDOFUEJF85yv1cU","number":190,"title":"compiler: Improve validation of ORDER BY clause with column number","user":{"login":"dnicolodi","id":987145,"node_id":"MDQ6VXNlcjk4NzE0NQ==","avatar_url":"https://avatars.githubusercontent.com/u/987145?v=4","gravatar_id":"","url":"https://api.github.com/users/dnicolodi","html_url":"https://github.com/dnicolodi","followers_url":"https://api.github.com/users/dnicolodi/followers","following_url":"https://api.github.com/users/dnicolodi/following{/other_user}","gists_url":"https://api.github.com/users/dnicolodi/gists{/gist_id}","starred_url":"https://api.github.com/users/dnicolodi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dnicolodi/subscriptions","organizations_url":"https://api.github.com/users/dnicolodi/orgs","repos_url":"https://api.github.com/users/dnicolodi/repos","events_url":"https://api.github.com/users/dnicolodi/events{/privacy}","received_events_url":"https://api.github.com/users/dnicolodi/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":0,"created_at":"2024-06-17T22:02:44Z","updated_at":"2024-06-17T22:18:15Z","closed_at":"2024-06-17T22:18:14Z","author_association":"COLLABORATOR","type":null,"active_lock_reason":null,"draft":false,"pull_request":{"url":"https://api.github.com/repos/beancount/beanquery/pulls/190","html_url":"https://github.com/beancount/beanquery/pull/190","diff_url":"https://github.com/beancount/beanquery/pull/190.diff","patch_url":"https://github.com/beancount/beanquery/pull/190.patch","merged_at":"2024-06-17T22:18:14Z"},"body":"Only targets in the SELECT target list can be referenced by column number in the ORDER BY clause, not auxiliary targets added to compute the GROUP BY clause.","closed_by":{"login":"dnicolodi","id":987145,"node_id":"MDQ6VXNlcjk4NzE0NQ==","avatar_url":"https://avatars.githubusercontent.com/u/987145?v=4","gravatar_id":"","url":"https://api.github.com/users/dnicolodi","html_url":"https://github.com/dnicolodi","followers_url":"https://api.github.com/users/dnicolodi/followers","following_url":"https://api.github.com/users/dnicolodi/following{/other_user}","gists_url":"https://api.github.com/users/dnicolodi/gists{/gist_id}","starred_url":"https://api.github.com/users/dnicolodi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dnicolodi/subscriptions","organizations_url":"https://api.github.com/users/dnicolodi/orgs","repos_url":"https://api.github.com/users/dnicolodi/repos","events_url":"https://api.github.com/users/dnicolodi/events{/privacy}","received_events_url":"https://api.github.com/users/dnicolodi/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/beancount/beanquery/issues/190/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beanquery/issues/190/timeline","performed_via_github_app":null,"state_reason":null},{"url":"https://api.github.com/repos/beancount/beanquery/issues/189","repository_url":"https://api.github.com/repos/beancount/beanquery","labels_url":"https://api.github.com/repos/beancount/beanquery/issues/189/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beanquery/issues/189/comments","events_url":"https://api.github.com/repos/beancount/beanquery/issues/189/events","html_url":"https://github.com/beancount/beanquery/issues/189","id":2358278025,"node_id":"I_kwDOFUEJF86MkHeJ","number":189,"title":"Find a way to report the balance only after all postings of a transaction are applied","user":{"login":"dnicolodi","id":987145,"node_id":"MDQ6VXNlcjk4NzE0NQ==","avatar_url":"https://avatars.githubusercontent.com/u/987145?v=4","gravatar_id":"","url":"https://api.github.com/users/dnicolodi","html_url":"https://github.com/dnicolodi","followers_url":"https://api.github.com/users/dnicolodi/followers","following_url":"https://api.github.com/users/dnicolodi/following{/other_user}","gists_url":"https://api.github.com/users/dnicolodi/gists{/gist_id}","starred_url":"https://api.github.com/users/dnicolodi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dnicolodi/subscriptions","organizations_url":"https://api.github.com/users/dnicolodi/orgs","repos_url":"https://api.github.com/users/dnicolodi/repos","events_url":"https://api.github.com/users/dnicolodi/events{/privacy}","received_events_url":"https://api.github.com/users/dnicolodi/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":7111442006,"node_id":"LA_kwDOFUEJF88AAAABp9_-Vg","url":"https://api.github.com/repos/beancount/beanquery/labels/feature","name":"feature","color":"fef2c0","default":false,"description":"New feature"}],"state":"open","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":0,"created_at":"2024-06-17T21:18:48Z","updated_at":"2024-06-21T20:53:24Z","closed_at":null,"author_association":"COLLABORATOR","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"Given a ledger like\r\n```\r\nplugin \"beancount.plugins.auto_accounts\"\r\n\r\n2024-06-16 * \"Example\"\r\n  Assets:Foo                                        -1000.00 EUR\r\n  Assets:Foo                                         \r\n  Expenses:Bar                                          2.00 EUR\r\n\r\n2024-06-17 * \"Example\"\r\n  Assets:Foo                                           -1.00 EUR\r\n  Expenses:Bar\r\n```\r\ntrying to compute the maximum balance of the `Assets:Foo` account with a query like\r\n```sql\r\nSELECT date, balance WHERE account = 'Assets:Foo' ORDER BY balance ASC LIMIT 1\r\n```\r\nresults in\r\n```\r\n   date       balance\r\nâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€\r\n2024-06-17  -1000.00 EUR\r\n```\r\nwhich is likely not the desired result.\r\n\r\nThis happens because each posting is considered in isolation. This can be solved finding a way to report the balance only after all the postings relative to a transaction have been applied.\r\n\r\nMaking `balance()` a function similar to a windowed aggregate function, this could look something like:\r\n```sql\r\nSELECT \r\n  date, \r\n  balance(amount) AS balance\r\nFROM (\r\n  SELECT \r\n    date, \r\n    sum(position) AS amount\r\n  FROM\r\n    postings \r\n  GROUP BY \r\n    id\r\n  )\r\nORDER BY\r\n  balance \r\nLIMIT 1\r\n```","closed_by":null,"reactions":{"url":"https://api.github.com/repos/beancount/beanquery/issues/189/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beanquery/issues/189/timeline","performed_via_github_app":null,"state_reason":null},{"url":"https://api.github.com/repos/beancount/beanquery/issues/188","repository_url":"https://api.github.com/repos/beancount/beanquery","labels_url":"https://api.github.com/repos/beancount/beanquery/issues/188/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beanquery/issues/188/comments","events_url":"https://api.github.com/repos/beancount/beanquery/issues/188/events","html_url":"https://github.com/beancount/beanquery/pull/188","id":2355968291,"node_id":"PR_kwDOFUEJF85ynsrt","number":188,"title":"Add \"beancount\" result set renderer","user":{"login":"dnicolodi","id":987145,"node_id":"MDQ6VXNlcjk4NzE0NQ==","avatar_url":"https://avatars.githubusercontent.com/u/987145?v=4","gravatar_id":"","url":"https://api.github.com/users/dnicolodi","html_url":"https://github.com/dnicolodi","followers_url":"https://api.github.com/users/dnicolodi/followers","following_url":"https://api.github.com/users/dnicolodi/following{/other_user}","gists_url":"https://api.github.com/users/dnicolodi/gists{/gist_id}","starred_url":"https://api.github.com/users/dnicolodi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dnicolodi/subscriptions","organizations_url":"https://api.github.com/users/dnicolodi/orgs","repos_url":"https://api.github.com/users/dnicolodi/repos","events_url":"https://api.github.com/users/dnicolodi/events{/privacy}","received_events_url":"https://api.github.com/users/dnicolodi/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":0,"created_at":"2024-06-16T20:40:35Z","updated_at":"2025-01-23T21:49:51Z","closed_at":"2025-01-23T21:49:51Z","author_association":"COLLABORATOR","type":null,"active_lock_reason":null,"draft":false,"pull_request":{"url":"https://api.github.com/repos/beancount/beanquery/pulls/188","html_url":"https://github.com/beancount/beanquery/pull/188","diff_url":"https://github.com/beancount/beanquery/pull/188.diff","patch_url":"https://github.com/beancount/beanquery/pull/188.patch","merged_at":"2025-01-23T21:49:51Z"},"body":"I'm opening this PR mostly to record some thoughts. What it is implemented here is the bare minimum that would be required to make the `PRINT` statement a special case of `SELECT` with `format` set to `beancount`. This works:\r\n```\r\n.set format beancount\r\nSELECT entry FROM #postings WHERE date > 2024-01-01\r\n```\r\nand prints all transactions in the beancount syntax. Actually, all transactions are printed one for every posting they contain. This could be solved with a `DISTINCT` clause, but entries are not hashable, thus\r\n```\r\nSELECT DISTINCT entry FROM #postings WHERE date > 2024-01-01\r\n```\r\nresults in an error. This should probably be solved. Entries can be easily make hashable assuming that they are immutable.\r\n\r\nHowever, when selecting for an account, this already does what is expected when filtering for an account:\r\n```\r\n.set format beancount\r\nSELECT entry FROM #posting WHERE date > 2024-01-01 AND account = 'Assets:Foo'\r\n```\r\nand may already be useful to solve what @tbm was asking for in #123.\r\n\r\nIt is more tricky to make this work for tables that do not have a beancount entry type column. The best I can come up with is to use the `ROW()` [construct](https://www.postgresql.org/docs/current/sql-expressions.html#SQL-SYNTAX-ROW-CONSTRUCTORS). For example:\r\n```\r\n.set format beancount\r\nSELECT ROW(*) FROM #entries WHERE date > 2024-01-01\r\n```\r\n","closed_by":{"login":"dnicolodi","id":987145,"node_id":"MDQ6VXNlcjk4NzE0NQ==","avatar_url":"https://avatars.githubusercontent.com/u/987145?v=4","gravatar_id":"","url":"https://api.github.com/users/dnicolodi","html_url":"https://github.com/dnicolodi","followers_url":"https://api.github.com/users/dnicolodi/followers","following_url":"https://api.github.com/users/dnicolodi/following{/other_user}","gists_url":"https://api.github.com/users/dnicolodi/gists{/gist_id}","starred_url":"https://api.github.com/users/dnicolodi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dnicolodi/subscriptions","organizations_url":"https://api.github.com/users/dnicolodi/orgs","repos_url":"https://api.github.com/users/dnicolodi/repos","events_url":"https://api.github.com/users/dnicolodi/events{/privacy}","received_events_url":"https://api.github.com/users/dnicolodi/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/beancount/beanquery/issues/188/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beanquery/issues/188/timeline","performed_via_github_app":null,"state_reason":null},{"url":"https://api.github.com/repos/beancount/beanquery/issues/187","repository_url":"https://api.github.com/repos/beancount/beanquery","labels_url":"https://api.github.com/repos/beancount/beanquery/issues/187/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beanquery/issues/187/comments","events_url":"https://api.github.com/repos/beancount/beanquery/issues/187/events","html_url":"https://github.com/beancount/beanquery/issues/187","id":2355700668,"node_id":"I_kwDOFUEJF86MaSO8","number":187,"title":"Add a `PRICE(currency, costcurrency, date)` function to pull the price at a given date","user":{"login":"dnicolodi","id":987145,"node_id":"MDQ6VXNlcjk4NzE0NQ==","avatar_url":"https://avatars.githubusercontent.com/u/987145?v=4","gravatar_id":"","url":"https://api.github.com/users/dnicolodi","html_url":"https://github.com/dnicolodi","followers_url":"https://api.github.com/users/dnicolodi/followers","following_url":"https://api.github.com/users/dnicolodi/following{/other_user}","gists_url":"https://api.github.com/users/dnicolodi/gists{/gist_id}","starred_url":"https://api.github.com/users/dnicolodi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dnicolodi/subscriptions","organizations_url":"https://api.github.com/users/dnicolodi/orgs","repos_url":"https://api.github.com/users/dnicolodi/repos","events_url":"https://api.github.com/users/dnicolodi/events{/privacy}","received_events_url":"https://api.github.com/users/dnicolodi/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":7111442006,"node_id":"LA_kwDOFUEJF88AAAABp9_-Vg","url":"https://api.github.com/repos/beancount/beanquery/labels/feature","name":"feature","color":"fef2c0","default":false,"description":"New feature"}],"state":"open","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":1,"created_at":"2024-06-16T11:42:35Z","updated_at":"2025-12-09T21:27:47Z","closed_at":null,"author_association":"COLLABORATOR","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":null,"closed_by":null,"reactions":{"url":"https://api.github.com/repos/beancount/beanquery/issues/187/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beanquery/issues/187/timeline","performed_via_github_app":null,"state_reason":null},{"url":"https://api.github.com/repos/beancount/beanquery/issues/186","repository_url":"https://api.github.com/repos/beancount/beanquery","labels_url":"https://api.github.com/repos/beancount/beanquery/issues/186/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beanquery/issues/186/comments","events_url":"https://api.github.com/repos/beancount/beanquery/issues/186/events","html_url":"https://github.com/beancount/beanquery/issues/186","id":2355328497,"node_id":"I_kwDOFUEJF86MY3Xx","number":186,"title":"Allow multiple statement per invocation","user":{"login":"dnicolodi","id":987145,"node_id":"MDQ6VXNlcjk4NzE0NQ==","avatar_url":"https://avatars.githubusercontent.com/u/987145?v=4","gravatar_id":"","url":"https://api.github.com/users/dnicolodi","html_url":"https://github.com/dnicolodi","followers_url":"https://api.github.com/users/dnicolodi/followers","following_url":"https://api.github.com/users/dnicolodi/following{/other_user}","gists_url":"https://api.github.com/users/dnicolodi/gists{/gist_id}","starred_url":"https://api.github.com/users/dnicolodi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dnicolodi/subscriptions","organizations_url":"https://api.github.com/users/dnicolodi/orgs","repos_url":"https://api.github.com/users/dnicolodi/repos","events_url":"https://api.github.com/users/dnicolodi/events{/privacy}","received_events_url":"https://api.github.com/users/dnicolodi/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":7086813688,"node_id":"LA_kwDOFUEJF88AAAABpmgx-A","url":"https://api.github.com/repos/beancount/beanquery/labels/shell","name":"shell","color":"d4c5f9","default":false,"description":"Related to the command shell"},{"id":7111442006,"node_id":"LA_kwDOFUEJF88AAAABp9_-Vg","url":"https://api.github.com/repos/beancount/beanquery/labels/feature","name":"feature","color":"fef2c0","default":false,"description":"New feature"}],"state":"open","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":0,"created_at":"2024-06-15T23:33:29Z","updated_at":"2024-06-21T20:53:48Z","closed_at":null,"author_association":"COLLABORATOR","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"Currently a statement can be read from the standard input or passed as arguments. However, only one statement per command invocation is supported. Allow multiple statements, including interleaving BQL statements and shell commands. Allow to read statements to be executed from a file. BQL commands should be terminated by a semicolon. Shell commands are prefixed by a dot and terminated by newline. See what the `sqlite3` shell does.\r\n\r\nIt would be nice to keep not requiring a semicolon to terminate BQL commands in the interactive shell, but it may be tricky.","closed_by":null,"reactions":{"url":"https://api.github.com/repos/beancount/beanquery/issues/186/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beanquery/issues/186/timeline","performed_via_github_app":null,"state_reason":null},{"url":"https://api.github.com/repos/beancount/beanquery/issues/185","repository_url":"https://api.github.com/repos/beancount/beanquery","labels_url":"https://api.github.com/repos/beancount/beanquery/issues/185/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beanquery/issues/185/comments","events_url":"https://api.github.com/repos/beancount/beanquery/issues/185/events","html_url":"https://github.com/beancount/beanquery/issues/185","id":2355325689,"node_id":"I_kwDOFUEJF86MY2r5","number":185,"title":"Allow to direct query results to a file","user":{"login":"dnicolodi","id":987145,"node_id":"MDQ6VXNlcjk4NzE0NQ==","avatar_url":"https://avatars.githubusercontent.com/u/987145?v=4","gravatar_id":"","url":"https://api.github.com/users/dnicolodi","html_url":"https://github.com/dnicolodi","followers_url":"https://api.github.com/users/dnicolodi/followers","following_url":"https://api.github.com/users/dnicolodi/following{/other_user}","gists_url":"https://api.github.com/users/dnicolodi/gists{/gist_id}","starred_url":"https://api.github.com/users/dnicolodi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dnicolodi/subscriptions","organizations_url":"https://api.github.com/users/dnicolodi/orgs","repos_url":"https://api.github.com/users/dnicolodi/repos","events_url":"https://api.github.com/users/dnicolodi/events{/privacy}","received_events_url":"https://api.github.com/users/dnicolodi/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":7086813688,"node_id":"LA_kwDOFUEJF88AAAABpmgx-A","url":"https://api.github.com/repos/beancount/beanquery/labels/shell","name":"shell","color":"d4c5f9","default":false,"description":"Related to the command shell"},{"id":7111442006,"node_id":"LA_kwDOFUEJF88AAAABp9_-Vg","url":"https://api.github.com/repos/beancount/beanquery/labels/feature","name":"feature","color":"fef2c0","default":false,"description":"New feature"}],"state":"open","locked":false,"assignee":null,"assignees":[],"milestone":{"url":"https://api.github.com/repos/beancount/beanquery/milestones/1","html_url":"https://github.com/beancount/beanquery/milestone/1","labels_url":"https://api.github.com/repos/beancount/beanquery/milestones/1/labels","id":8009928,"node_id":"MI_kwDOFUEJF84AejjI","number":1,"title":"0.2.0","description":"","creator":{"login":"dnicolodi","id":987145,"node_id":"MDQ6VXNlcjk4NzE0NQ==","avatar_url":"https://avatars.githubusercontent.com/u/987145?v=4","gravatar_id":"","url":"https://api.github.com/users/dnicolodi","html_url":"https://github.com/dnicolodi","followers_url":"https://api.github.com/users/dnicolodi/followers","following_url":"https://api.github.com/users/dnicolodi/following{/other_user}","gists_url":"https://api.github.com/users/dnicolodi/gists{/gist_id}","starred_url":"https://api.github.com/users/dnicolodi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dnicolodi/subscriptions","organizations_url":"https://api.github.com/users/dnicolodi/orgs","repos_url":"https://api.github.com/users/dnicolodi/repos","events_url":"https://api.github.com/users/dnicolodi/events{/privacy}","received_events_url":"https://api.github.com/users/dnicolodi/received_events","type":"User","user_view_type":"public","site_admin":false},"open_issues":4,"closed_issues":1,"state":"open","created_at":"2022-05-23T11:55:50Z","updated_at":"2025-02-04T17:06:00Z","due_on":null,"closed_at":null},"comments":0,"created_at":"2024-06-15T23:20:05Z","updated_at":"2025-02-03T13:51:31Z","closed_at":null,"author_association":"COLLABORATOR","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"See `.output` and `.once` in `sqlite3`. Maybe also add a `.format` command to replace `.set format`","closed_by":null,"reactions":{"url":"https://api.github.com/repos/beancount/beanquery/issues/185/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beanquery/issues/185/timeline","performed_via_github_app":null,"state_reason":null},{"url":"https://api.github.com/repos/beancount/beanquery/issues/184","repository_url":"https://api.github.com/repos/beancount/beanquery","labels_url":"https://api.github.com/repos/beancount/beanquery/issues/184/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beanquery/issues/184/comments","events_url":"https://api.github.com/repos/beancount/beanquery/issues/184/events","html_url":"https://github.com/beancount/beanquery/issues/184","id":2355325225,"node_id":"I_kwDOFUEJF86MY2kp","number":184,"title":"Implement `JOIN`s","user":{"login":"dnicolodi","id":987145,"node_id":"MDQ6VXNlcjk4NzE0NQ==","avatar_url":"https://avatars.githubusercontent.com/u/987145?v=4","gravatar_id":"","url":"https://api.github.com/users/dnicolodi","html_url":"https://github.com/dnicolodi","followers_url":"https://api.github.com/users/dnicolodi/followers","following_url":"https://api.github.com/users/dnicolodi/following{/other_user}","gists_url":"https://api.github.com/users/dnicolodi/gists{/gist_id}","starred_url":"https://api.github.com/users/dnicolodi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dnicolodi/subscriptions","organizations_url":"https://api.github.com/users/dnicolodi/orgs","repos_url":"https://api.github.com/users/dnicolodi/repos","events_url":"https://api.github.com/users/dnicolodi/events{/privacy}","received_events_url":"https://api.github.com/users/dnicolodi/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":7111442006,"node_id":"LA_kwDOFUEJF88AAAABp9_-Vg","url":"https://api.github.com/repos/beancount/beanquery/labels/feature","name":"feature","color":"fef2c0","default":false,"description":"New feature"}],"state":"open","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":0,"created_at":"2024-06-15T23:17:40Z","updated_at":"2024-06-21T20:54:19Z","closed_at":null,"author_association":"COLLABORATOR","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"`JOIN`s would be very useful for creating more advanced reports.\r\n\r\nExample query:\r\n```\r\n       SELECT account, bal1, bal2 FROM\r\n         (SELECT account, sum(cost(position)) as bal1\r\n          FROM CLOSE ON 2014-01-01 CLEAR)\r\n         JOIN\r\n         (SELECT account, sum(cost(position)) as bal2\r\n          FROM CLOSE ON 2015-01-01 CLEAR)\r\n         ON account;\r\n```","closed_by":null,"reactions":{"url":"https://api.github.com/repos/beancount/beanquery/issues/184/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beanquery/issues/184/timeline","performed_via_github_app":null,"state_reason":null},{"url":"https://api.github.com/repos/beancount/beanquery/issues/183","repository_url":"https://api.github.com/repos/beancount/beanquery","labels_url":"https://api.github.com/repos/beancount/beanquery/issues/183/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beanquery/issues/183/comments","events_url":"https://api.github.com/repos/beancount/beanquery/issues/183/events","html_url":"https://github.com/beancount/beanquery/issues/183","id":2355322919,"node_id":"I_kwDOFUEJF86MY2An","number":183,"title":"`SELECT *`  should really render all the possible fields","user":{"login":"dnicolodi","id":987145,"node_id":"MDQ6VXNlcjk4NzE0NQ==","avatar_url":"https://avatars.githubusercontent.com/u/987145?v=4","gravatar_id":"","url":"https://api.github.com/users/dnicolodi","html_url":"https://github.com/dnicolodi","followers_url":"https://api.github.com/users/dnicolodi/followers","following_url":"https://api.github.com/users/dnicolodi/following{/other_user}","gists_url":"https://api.github.com/users/dnicolodi/gists{/gist_id}","starred_url":"https://api.github.com/users/dnicolodi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dnicolodi/subscriptions","organizations_url":"https://api.github.com/users/dnicolodi/orgs","repos_url":"https://api.github.com/users/dnicolodi/repos","events_url":"https://api.github.com/users/dnicolodi/events{/privacy}","received_events_url":"https://api.github.com/users/dnicolodi/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":7111442006,"node_id":"LA_kwDOFUEJF88AAAABp9_-Vg","url":"https://api.github.com/repos/beancount/beanquery/labels/feature","name":"feature","color":"fef2c0","default":false,"description":"New feature"}],"state":"open","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":0,"created_at":"2024-06-15T23:09:23Z","updated_at":"2024-06-21T20:55:17Z","closed_at":null,"author_association":"COLLABORATOR","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"`SELECT *` currently does not render all fields but only a \"resonable\" subset. This is motivated by the fact that the `postings` table contains a large number of redundant fields. With more functions and accessor implemented, the redundant fields should be removed and `SELECT *` should be made to really return all fields.\r\n\r\nThis is a compatibility break and thus needs a deprecation warning before it can happen.","closed_by":null,"reactions":{"url":"https://api.github.com/repos/beancount/beanquery/issues/183/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beanquery/issues/183/timeline","performed_via_github_app":null,"state_reason":null},{"url":"https://api.github.com/repos/beancount/beanquery/issues/182","repository_url":"https://api.github.com/repos/beancount/beanquery","labels_url":"https://api.github.com/repos/beancount/beanquery/issues/182/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beanquery/issues/182/comments","events_url":"https://api.github.com/repos/beancount/beanquery/issues/182/events","html_url":"https://github.com/beancount/beanquery/issues/182","id":2355302198,"node_id":"I_kwDOFUEJF86MYw82","number":182,"title":"Rename `ACCOUNT_SORTKEY()` to `REPORD()`","user":{"login":"dnicolodi","id":987145,"node_id":"MDQ6VXNlcjk4NzE0NQ==","avatar_url":"https://avatars.githubusercontent.com/u/987145?v=4","gravatar_id":"","url":"https://api.github.com/users/dnicolodi","html_url":"https://github.com/dnicolodi","followers_url":"https://api.github.com/users/dnicolodi/followers","following_url":"https://api.github.com/users/dnicolodi/following{/other_user}","gists_url":"https://api.github.com/users/dnicolodi/gists{/gist_id}","starred_url":"https://api.github.com/users/dnicolodi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dnicolodi/subscriptions","organizations_url":"https://api.github.com/users/dnicolodi/orgs","repos_url":"https://api.github.com/users/dnicolodi/repos","events_url":"https://api.github.com/users/dnicolodi/events{/privacy}","received_events_url":"https://api.github.com/users/dnicolodi/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":7111442006,"node_id":"LA_kwDOFUEJF88AAAABp9_-Vg","url":"https://api.github.com/repos/beancount/beanquery/labels/feature","name":"feature","color":"fef2c0","default":false,"description":"New feature"}],"state":"open","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":0,"created_at":"2024-06-15T21:52:11Z","updated_at":"2024-06-21T20:55:17Z","closed_at":null,"author_association":"COLLABORATOR","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"Quoting `TODO.md`\r\n\r\n> Rename ACCOUNT_SORTKEY(), it's a terrible name. Name this REPORD() for \"report order\".\r\n\r\nI'm not sure `REPORD()` is much better. Another option is to introduce an `ACCOUNT()` function that turns an account name into an `account` object and have account objects compare in a way that results in the desired ordering. However,\r\n```\r\nSELECT\r\n  account,\r\n  sum(position)\r\nGROUP BY\r\n  account\r\nORDER BY\r\n  account(account)\r\n```\r\ndoes not look very nice or intuitive.","closed_by":null,"reactions":{"url":"https://api.github.com/repos/beancount/beanquery/issues/182/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beanquery/issues/182/timeline","performed_via_github_app":null,"state_reason":null},{"url":"https://api.github.com/repos/beancount/beanquery/issues/181","repository_url":"https://api.github.com/repos/beancount/beanquery","labels_url":"https://api.github.com/repos/beancount/beanquery/issues/181/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beanquery/issues/181/comments","events_url":"https://api.github.com/repos/beancount/beanquery/issues/181/events","html_url":"https://github.com/beancount/beanquery/issues/181","id":2355290082,"node_id":"I_kwDOFUEJF86MYt_i","number":181,"title":"Suppport `SELECT x, ... FROM ... GROUP BY x ORDER BY func(x)`","user":{"login":"dnicolodi","id":987145,"node_id":"MDQ6VXNlcjk4NzE0NQ==","avatar_url":"https://avatars.githubusercontent.com/u/987145?v=4","gravatar_id":"","url":"https://api.github.com/users/dnicolodi","html_url":"https://github.com/dnicolodi","followers_url":"https://api.github.com/users/dnicolodi/followers","following_url":"https://api.github.com/users/dnicolodi/following{/other_user}","gists_url":"https://api.github.com/users/dnicolodi/gists{/gist_id}","starred_url":"https://api.github.com/users/dnicolodi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dnicolodi/subscriptions","organizations_url":"https://api.github.com/users/dnicolodi/orgs","repos_url":"https://api.github.com/users/dnicolodi/repos","events_url":"https://api.github.com/users/dnicolodi/events{/privacy}","received_events_url":"https://api.github.com/users/dnicolodi/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":7111442006,"node_id":"LA_kwDOFUEJF88AAAABp9_-Vg","url":"https://api.github.com/repos/beancount/beanquery/labels/feature","name":"feature","color":"fef2c0","default":false,"description":"New feature"}],"state":"open","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":0,"created_at":"2024-06-15T21:38:31Z","updated_at":"2024-06-21T20:55:17Z","closed_at":null,"author_association":"COLLABORATOR","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"Namely support ordering the result rows in an aggrergate query by a function of one of the aggregate columns. Use case:\r\n```\r\nSELECT\r\n  account, \r\n  sum(position) \r\nGROUP BY \r\n  account \r\nORDER BY \r\n  account_sortkey(account)\r\n```","closed_by":null,"reactions":{"url":"https://api.github.com/repos/beancount/beanquery/issues/181/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beanquery/issues/181/timeline","performed_via_github_app":null,"state_reason":null},{"url":"https://api.github.com/repos/beancount/beanquery/issues/180","repository_url":"https://api.github.com/repos/beancount/beanquery","labels_url":"https://api.github.com/repos/beancount/beanquery/issues/180/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beanquery/issues/180/comments","events_url":"https://api.github.com/repos/beancount/beanquery/issues/180/events","html_url":"https://github.com/beancount/beanquery/issues/180","id":2355284677,"node_id":"I_kwDOFUEJF86MYsrF","number":180,"title":"Implement `BALANCES ... WHERE ...` syntax","user":{"login":"dnicolodi","id":987145,"node_id":"MDQ6VXNlcjk4NzE0NQ==","avatar_url":"https://avatars.githubusercontent.com/u/987145?v=4","gravatar_id":"","url":"https://api.github.com/users/dnicolodi","html_url":"https://github.com/dnicolodi","followers_url":"https://api.github.com/users/dnicolodi/followers","following_url":"https://api.github.com/users/dnicolodi/following{/other_user}","gists_url":"https://api.github.com/users/dnicolodi/gists{/gist_id}","starred_url":"https://api.github.com/users/dnicolodi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dnicolodi/subscriptions","organizations_url":"https://api.github.com/users/dnicolodi/orgs","repos_url":"https://api.github.com/users/dnicolodi/repos","events_url":"https://api.github.com/users/dnicolodi/events{/privacy}","received_events_url":"https://api.github.com/users/dnicolodi/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":7111442006,"node_id":"LA_kwDOFUEJF88AAAABp9_-Vg","url":"https://api.github.com/repos/beancount/beanquery/labels/feature","name":"feature","color":"fef2c0","default":false,"description":"New feature"}],"state":"open","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":0,"created_at":"2024-06-15T21:31:47Z","updated_at":"2024-06-21T20:55:16Z","closed_at":null,"author_association":"COLLABORATOR","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":null,"closed_by":null,"reactions":{"url":"https://api.github.com/repos/beancount/beanquery/issues/180/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beanquery/issues/180/timeline","performed_via_github_app":null,"state_reason":null},{"url":"https://api.github.com/repos/beancount/beanquery/issues/179","repository_url":"https://api.github.com/repos/beancount/beanquery","labels_url":"https://api.github.com/repos/beancount/beanquery/issues/179/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beanquery/issues/179/comments","events_url":"https://api.github.com/repos/beancount/beanquery/issues/179/events","html_url":"https://github.com/beancount/beanquery/issues/179","id":2355248866,"node_id":"I_kwDOFUEJF86MYj7i","number":179,"title":"Find a better solution for the `OPEN ON`, `CLOSE ON` and `CLEAR` clauses","user":{"login":"dnicolodi","id":987145,"node_id":"MDQ6VXNlcjk4NzE0NQ==","avatar_url":"https://avatars.githubusercontent.com/u/987145?v=4","gravatar_id":"","url":"https://api.github.com/users/dnicolodi","html_url":"https://github.com/dnicolodi","followers_url":"https://api.github.com/users/dnicolodi/followers","following_url":"https://api.github.com/users/dnicolodi/following{/other_user}","gists_url":"https://api.github.com/users/dnicolodi/gists{/gist_id}","starred_url":"https://api.github.com/users/dnicolodi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dnicolodi/subscriptions","organizations_url":"https://api.github.com/users/dnicolodi/orgs","repos_url":"https://api.github.com/users/dnicolodi/repos","events_url":"https://api.github.com/users/dnicolodi/events{/privacy}","received_events_url":"https://api.github.com/users/dnicolodi/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":7111442006,"node_id":"LA_kwDOFUEJF88AAAABp9_-Vg","url":"https://api.github.com/repos/beancount/beanquery/labels/feature","name":"feature","color":"fef2c0","default":false,"description":"New feature"}],"state":"open","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":1,"created_at":"2024-06-15T20:53:59Z","updated_at":"2024-06-21T20:55:16Z","closed_at":null,"author_association":"COLLABORATOR","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"Quoting from `TODO.md`:\r\n\r\n> The OPEN ON and CLOSE ON syntaxes get on my nerves.\r\n\r\nI'm not so bothered by the syntax, but it is a very Beancount centric extension of the SQL syntax that maybe could be expressed in a nicer way without leaking the domain specific issue into the general purpose query language. However, no better syntax comes to mind.","closed_by":null,"reactions":{"url":"https://api.github.com/repos/beancount/beanquery/issues/179/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beanquery/issues/179/timeline","performed_via_github_app":null,"state_reason":null},{"url":"https://api.github.com/repos/beancount/beanquery/issues/178","repository_url":"https://api.github.com/repos/beancount/beanquery","labels_url":"https://api.github.com/repos/beancount/beanquery/issues/178/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beanquery/issues/178/comments","events_url":"https://api.github.com/repos/beancount/beanquery/issues/178/events","html_url":"https://github.com/beancount/beanquery/issues/178","id":2355243288,"node_id":"I_kwDOFUEJF86MYikY","number":178,"title":"Improve support for arrays, including `ANY()`, `ALL()` and `UNNEST()`","user":{"login":"dnicolodi","id":987145,"node_id":"MDQ6VXNlcjk4NzE0NQ==","avatar_url":"https://avatars.githubusercontent.com/u/987145?v=4","gravatar_id":"","url":"https://api.github.com/users/dnicolodi","html_url":"https://github.com/dnicolodi","followers_url":"https://api.github.com/users/dnicolodi/followers","following_url":"https://api.github.com/users/dnicolodi/following{/other_user}","gists_url":"https://api.github.com/users/dnicolodi/gists{/gist_id}","starred_url":"https://api.github.com/users/dnicolodi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dnicolodi/subscriptions","organizations_url":"https://api.github.com/users/dnicolodi/orgs","repos_url":"https://api.github.com/users/dnicolodi/repos","events_url":"https://api.github.com/users/dnicolodi/events{/privacy}","received_events_url":"https://api.github.com/users/dnicolodi/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":7111442006,"node_id":"LA_kwDOFUEJF88AAAABp9_-Vg","url":"https://api.github.com/repos/beancount/beanquery/labels/feature","name":"feature","color":"fef2c0","default":false,"description":"New feature"}],"state":"open","locked":false,"assignee":null,"assignees":[],"milestone":{"url":"https://api.github.com/repos/beancount/beanquery/milestones/1","html_url":"https://github.com/beancount/beanquery/milestone/1","labels_url":"https://api.github.com/repos/beancount/beanquery/milestones/1/labels","id":8009928,"node_id":"MI_kwDOFUEJF84AejjI","number":1,"title":"0.2.0","description":"","creator":{"login":"dnicolodi","id":987145,"node_id":"MDQ6VXNlcjk4NzE0NQ==","avatar_url":"https://avatars.githubusercontent.com/u/987145?v=4","gravatar_id":"","url":"https://api.github.com/users/dnicolodi","html_url":"https://github.com/dnicolodi","followers_url":"https://api.github.com/users/dnicolodi/followers","following_url":"https://api.github.com/users/dnicolodi/following{/other_user}","gists_url":"https://api.github.com/users/dnicolodi/gists{/gist_id}","starred_url":"https://api.github.com/users/dnicolodi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dnicolodi/subscriptions","organizations_url":"https://api.github.com/users/dnicolodi/orgs","repos_url":"https://api.github.com/users/dnicolodi/repos","events_url":"https://api.github.com/users/dnicolodi/events{/privacy}","received_events_url":"https://api.github.com/users/dnicolodi/received_events","type":"User","user_view_type":"public","site_admin":false},"open_issues":4,"closed_issues":1,"state":"open","created_at":"2022-05-23T11:55:50Z","updated_at":"2025-02-04T17:06:00Z","due_on":null,"closed_at":null},"comments":0,"created_at":"2024-06-15T20:50:08Z","updated_at":"2025-02-03T13:51:51Z","closed_at":null,"author_association":"COLLABORATOR","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"There is already very minimal support: tags and links are exposed as columns of type `set` and there are the `IN` and `NOT IN` operators. This needs to be expanded to at least include the `ANY()` and `ALL()` operators. This most likely needs support from the parser.\r\n\r\nThe type system needs to be expanded to take into consideration the type of the elements of a set or array. It makes sense to enforce that all the elements of a set or array have the same type. Use a syntax similar to the Postgresql one: `type[]` to indicate an array of element of type `type`. Maybe it is not necessary to distinguish between sets and arrays at the type system level. However, Python sets are not indexable.\r\n\r\nOnce this is done, the `other_accounts` in the `postings` table can be replaced by adding an `accounts str[]` fields to the `entry` type and usage of `other_accounts` can be replaced with `entry.accounts`.\r\n","closed_by":null,"reactions":{"url":"https://api.github.com/repos/beancount/beanquery/issues/178/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beanquery/issues/178/timeline","performed_via_github_app":null,"state_reason":null},{"url":"https://api.github.com/repos/beancount/beanquery/issues/177","repository_url":"https://api.github.com/repos/beancount/beanquery","labels_url":"https://api.github.com/repos/beancount/beanquery/issues/177/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beanquery/issues/177/comments","events_url":"https://api.github.com/repos/beancount/beanquery/issues/177/events","html_url":"https://github.com/beancount/beanquery/issues/177","id":2355224566,"node_id":"I_kwDOFUEJF86MYd_2","number":177,"title":"Implement `AVERAGE(inventory)` BQL fucntion","user":{"login":"dnicolodi","id":987145,"node_id":"MDQ6VXNlcjk4NzE0NQ==","avatar_url":"https://avatars.githubusercontent.com/u/987145?v=4","gravatar_id":"","url":"https://api.github.com/users/dnicolodi","html_url":"https://github.com/dnicolodi","followers_url":"https://api.github.com/users/dnicolodi/followers","following_url":"https://api.github.com/users/dnicolodi/following{/other_user}","gists_url":"https://api.github.com/users/dnicolodi/gists{/gist_id}","starred_url":"https://api.github.com/users/dnicolodi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dnicolodi/subscriptions","organizations_url":"https://api.github.com/users/dnicolodi/orgs","repos_url":"https://api.github.com/users/dnicolodi/repos","events_url":"https://api.github.com/users/dnicolodi/events{/privacy}","received_events_url":"https://api.github.com/users/dnicolodi/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":7111442006,"node_id":"LA_kwDOFUEJF88AAAABp9_-Vg","url":"https://api.github.com/repos/beancount/beanquery/labels/feature","name":"feature","color":"fef2c0","default":false,"description":"New feature"}],"state":"open","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":1,"created_at":"2024-06-15T20:39:32Z","updated_at":"2025-12-23T23:42:43Z","closed_at":null,"author_association":"COLLABORATOR","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"I'm going through the `TODO.md` file checking what has been implemented already, what fits with the current vision for beanquery, and what remains to do. There are two entries related to an `AVERAGE()` or `AVG()` function that operates on inventories.\r\n\r\nThe first is an example query:\r\n\r\n```\r\nSELECT\r\n  root_account, AVG(balance)\r\nFROM (\r\n  SELECT\r\n    MAXDEPTH(account, 2) as root_account\r\n    MONTH(date) as month,\r\n    SUM(change) as balance\r\n  WHERE\r\n    date > 2014-01-01\r\n  GROUP BY \r\n    root_account, \r\n    month\r\n)\r\nGROUP BY \r\n  root_account\r\n```\r\n\r\nwhich should work, except there is no `AVG()` function. How would an `AVG()` function work on inventories? I'm not sure a definition where the different commodity components of the inventory are averaged makes much sense, but I cannot think of a better one that is universally useful.\r\n\r\nThe second is this note:\r\n\r\n> FIXME: To render holdings at \"average cost\", e.g. when aggregating by account,\r\n> you could provide an \"AVERAGE(Inventory)\" function that merges an inventory's\r\n> lots in the same way that the holdings merge right now. THIS is how to replace\r\n> and remove all holdings support.\r\n\r\nwhich I'm not sure I completely understand.\r\n\r\n@blais What did you have in mind?\r\n","closed_by":null,"reactions":{"url":"https://api.github.com/repos/beancount/beanquery/issues/177/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beanquery/issues/177/timeline","performed_via_github_app":null,"state_reason":null},{"url":"https://api.github.com/repos/beancount/beanquery/issues/176","repository_url":"https://api.github.com/repos/beancount/beanquery","labels_url":"https://api.github.com/repos/beancount/beanquery/issues/176/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beanquery/issues/176/comments","events_url":"https://api.github.com/repos/beancount/beanquery/issues/176/events","html_url":"https://github.com/beancount/beanquery/issues/176","id":2344766331,"node_id":"I_kwDOFUEJF86Lwkt7","number":176,"title":"Move implementation of Beancount-specific BQL functions to the `beancount` data source","user":{"login":"dnicolodi","id":987145,"node_id":"MDQ6VXNlcjk4NzE0NQ==","avatar_url":"https://avatars.githubusercontent.com/u/987145?v=4","gravatar_id":"","url":"https://api.github.com/users/dnicolodi","html_url":"https://github.com/dnicolodi","followers_url":"https://api.github.com/users/dnicolodi/followers","following_url":"https://api.github.com/users/dnicolodi/following{/other_user}","gists_url":"https://api.github.com/users/dnicolodi/gists{/gist_id}","starred_url":"https://api.github.com/users/dnicolodi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dnicolodi/subscriptions","organizations_url":"https://api.github.com/users/dnicolodi/orgs","repos_url":"https://api.github.com/users/dnicolodi/repos","events_url":"https://api.github.com/users/dnicolodi/events{/privacy}","received_events_url":"https://api.github.com/users/dnicolodi/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"open","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":1,"created_at":"2024-06-10T20:26:41Z","updated_at":"2024-06-11T01:34:19Z","closed_at":null,"author_association":"COLLABORATOR","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"The BQL core should not depend on Beancount.","closed_by":null,"reactions":{"url":"https://api.github.com/repos/beancount/beanquery/issues/176/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beanquery/issues/176/timeline","performed_via_github_app":null,"state_reason":null},{"url":"https://api.github.com/repos/beancount/beanquery/issues/175","repository_url":"https://api.github.com/repos/beancount/beanquery","labels_url":"https://api.github.com/repos/beancount/beanquery/issues/175/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beanquery/issues/175/comments","events_url":"https://api.github.com/repos/beancount/beanquery/issues/175/events","html_url":"https://github.com/beancount/beanquery/issues/175","id":2344764938,"node_id":"I_kwDOFUEJF86LwkYK","number":175,"title":"Review BQL functions naming","user":{"login":"dnicolodi","id":987145,"node_id":"MDQ6VXNlcjk4NzE0NQ==","avatar_url":"https://avatars.githubusercontent.com/u/987145?v=4","gravatar_id":"","url":"https://api.github.com/users/dnicolodi","html_url":"https://github.com/dnicolodi","followers_url":"https://api.github.com/users/dnicolodi/followers","following_url":"https://api.github.com/users/dnicolodi/following{/other_user}","gists_url":"https://api.github.com/users/dnicolodi/gists{/gist_id}","starred_url":"https://api.github.com/users/dnicolodi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dnicolodi/subscriptions","organizations_url":"https://api.github.com/users/dnicolodi/orgs","repos_url":"https://api.github.com/users/dnicolodi/repos","events_url":"https://api.github.com/users/dnicolodi/events{/privacy}","received_events_url":"https://api.github.com/users/dnicolodi/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"open","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":1,"created_at":"2024-06-10T20:25:43Z","updated_at":"2024-06-11T01:34:36Z","closed_at":null,"author_association":"COLLABORATOR","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"The implemented BQL functions grew organically without too much care for naming the functions consistently. It is a bit of a mess and the naming could certainly use a nice holistic review. Take into consideration functions defined in the SQL standard and implemented by major SQL and SQL-like databases.","closed_by":null,"reactions":{"url":"https://api.github.com/repos/beancount/beanquery/issues/175/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beanquery/issues/175/timeline","performed_via_github_app":null,"state_reason":null},{"url":"https://api.github.com/repos/beancount/beanquery/issues/174","repository_url":"https://api.github.com/repos/beancount/beanquery","labels_url":"https://api.github.com/repos/beancount/beanquery/issues/174/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beanquery/issues/174/comments","events_url":"https://api.github.com/repos/beancount/beanquery/issues/174/events","html_url":"https://github.com/beancount/beanquery/pull/174","id":2344682645,"node_id":"PR_kwDOFUEJF85yBN2y","number":174,"title":"Allow to call the root() BQL function with only one argument","user":{"login":"dnicolodi","id":987145,"node_id":"MDQ6VXNlcjk4NzE0NQ==","avatar_url":"https://avatars.githubusercontent.com/u/987145?v=4","gravatar_id":"","url":"https://api.github.com/users/dnicolodi","html_url":"https://github.com/dnicolodi","followers_url":"https://api.github.com/users/dnicolodi/followers","following_url":"https://api.github.com/users/dnicolodi/following{/other_user}","gists_url":"https://api.github.com/users/dnicolodi/gists{/gist_id}","starred_url":"https://api.github.com/users/dnicolodi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dnicolodi/subscriptions","organizations_url":"https://api.github.com/users/dnicolodi/orgs","repos_url":"https://api.github.com/users/dnicolodi/repos","events_url":"https://api.github.com/users/dnicolodi/events{/privacy}","received_events_url":"https://api.github.com/users/dnicolodi/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":0,"created_at":"2024-06-10T19:32:12Z","updated_at":"2024-06-10T20:15:54Z","closed_at":"2024-06-10T20:15:54Z","author_association":"COLLABORATOR","type":null,"active_lock_reason":null,"draft":false,"pull_request":{"url":"https://api.github.com/repos/beancount/beanquery/pulls/174","html_url":"https://github.com/beancount/beanquery/pull/174","diff_url":"https://github.com/beancount/beanquery/pull/174.diff","patch_url":"https://github.com/beancount/beanquery/pull/174.patch","merged_at":"2024-06-10T20:15:54Z"},"body":null,"closed_by":{"login":"dnicolodi","id":987145,"node_id":"MDQ6VXNlcjk4NzE0NQ==","avatar_url":"https://avatars.githubusercontent.com/u/987145?v=4","gravatar_id":"","url":"https://api.github.com/users/dnicolodi","html_url":"https://github.com/dnicolodi","followers_url":"https://api.github.com/users/dnicolodi/followers","following_url":"https://api.github.com/users/dnicolodi/following{/other_user}","gists_url":"https://api.github.com/users/dnicolodi/gists{/gist_id}","starred_url":"https://api.github.com/users/dnicolodi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dnicolodi/subscriptions","organizations_url":"https://api.github.com/users/dnicolodi/orgs","repos_url":"https://api.github.com/users/dnicolodi/repos","events_url":"https://api.github.com/users/dnicolodi/events{/privacy}","received_events_url":"https://api.github.com/users/dnicolodi/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/beancount/beanquery/issues/174/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beanquery/issues/174/timeline","performed_via_github_app":null,"state_reason":null},{"url":"https://api.github.com/repos/beancount/beanquery/issues/173","repository_url":"https://api.github.com/repos/beancount/beanquery","labels_url":"https://api.github.com/repos/beancount/beanquery/issues/173/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beanquery/issues/173/comments","events_url":"https://api.github.com/repos/beancount/beanquery/issues/173/events","html_url":"https://github.com/beancount/beanquery/pull/173","id":2342473201,"node_id":"PR_kwDOFUEJF85x5roK","number":173,"title":"Add date_part() BQL function","user":{"login":"dnicolodi","id":987145,"node_id":"MDQ6VXNlcjk4NzE0NQ==","avatar_url":"https://avatars.githubusercontent.com/u/987145?v=4","gravatar_id":"","url":"https://api.github.com/users/dnicolodi","html_url":"https://github.com/dnicolodi","followers_url":"https://api.github.com/users/dnicolodi/followers","following_url":"https://api.github.com/users/dnicolodi/following{/other_user}","gists_url":"https://api.github.com/users/dnicolodi/gists{/gist_id}","starred_url":"https://api.github.com/users/dnicolodi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dnicolodi/subscriptions","organizations_url":"https://api.github.com/users/dnicolodi/orgs","repos_url":"https://api.github.com/users/dnicolodi/repos","events_url":"https://api.github.com/users/dnicolodi/events{/privacy}","received_events_url":"https://api.github.com/users/dnicolodi/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":0,"created_at":"2024-06-09T20:24:53Z","updated_at":"2024-06-09T22:45:48Z","closed_at":"2024-06-09T22:45:48Z","author_association":"COLLABORATOR","type":null,"active_lock_reason":null,"draft":false,"pull_request":{"url":"https://api.github.com/repos/beancount/beanquery/pulls/173","html_url":"https://github.com/beancount/beanquery/pull/173","diff_url":"https://github.com/beancount/beanquery/pull/173.diff","patch_url":"https://github.com/beancount/beanquery/pull/173.patch","merged_at":"2024-06-09T22:45:48Z"},"body":null,"closed_by":{"login":"dnicolodi","id":987145,"node_id":"MDQ6VXNlcjk4NzE0NQ==","avatar_url":"https://avatars.githubusercontent.com/u/987145?v=4","gravatar_id":"","url":"https://api.github.com/users/dnicolodi","html_url":"https://github.com/dnicolodi","followers_url":"https://api.github.com/users/dnicolodi/followers","following_url":"https://api.github.com/users/dnicolodi/following{/other_user}","gists_url":"https://api.github.com/users/dnicolodi/gists{/gist_id}","starred_url":"https://api.github.com/users/dnicolodi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dnicolodi/subscriptions","organizations_url":"https://api.github.com/users/dnicolodi/orgs","repos_url":"https://api.github.com/users/dnicolodi/repos","events_url":"https://api.github.com/users/dnicolodi/events{/privacy}","received_events_url":"https://api.github.com/users/dnicolodi/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/beancount/beanquery/issues/173/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beanquery/issues/173/timeline","performed_via_github_app":null,"state_reason":null},{"url":"https://api.github.com/repos/beancount/beanquery/issues/172","repository_url":"https://api.github.com/repos/beancount/beanquery","labels_url":"https://api.github.com/repos/beancount/beanquery/issues/172/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beanquery/issues/172/comments","events_url":"https://api.github.com/repos/beancount/beanquery/issues/172/events","html_url":"https://github.com/beancount/beanquery/pull/172","id":2336494489,"node_id":"PR_kwDOFUEJF85xljBN","number":172,"title":"ci: Test with upcoming TatSu 5.7.5","user":{"login":"dnicolodi","id":987145,"node_id":"MDQ6VXNlcjk4NzE0NQ==","avatar_url":"https://avatars.githubusercontent.com/u/987145?v=4","gravatar_id":"","url":"https://api.github.com/users/dnicolodi","html_url":"https://github.com/dnicolodi","followers_url":"https://api.github.com/users/dnicolodi/followers","following_url":"https://api.github.com/users/dnicolodi/following{/other_user}","gists_url":"https://api.github.com/users/dnicolodi/gists{/gist_id}","starred_url":"https://api.github.com/users/dnicolodi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dnicolodi/subscriptions","organizations_url":"https://api.github.com/users/dnicolodi/orgs","repos_url":"https://api.github.com/users/dnicolodi/repos","events_url":"https://api.github.com/users/dnicolodi/events{/privacy}","received_events_url":"https://api.github.com/users/dnicolodi/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":1,"created_at":"2024-06-05T17:52:19Z","updated_at":"2025-01-09T21:04:57Z","closed_at":"2025-01-09T21:04:57Z","author_association":"COLLABORATOR","type":null,"active_lock_reason":null,"draft":false,"pull_request":{"url":"https://api.github.com/repos/beancount/beanquery/pulls/172","html_url":"https://github.com/beancount/beanquery/pull/172","diff_url":"https://github.com/beancount/beanquery/pull/172.diff","patch_url":"https://github.com/beancount/beanquery/pull/172.patch","merged_at":null},"body":null,"closed_by":{"login":"dnicolodi","id":987145,"node_id":"MDQ6VXNlcjk4NzE0NQ==","avatar_url":"https://avatars.githubusercontent.com/u/987145?v=4","gravatar_id":"","url":"https://api.github.com/users/dnicolodi","html_url":"https://github.com/dnicolodi","followers_url":"https://api.github.com/users/dnicolodi/followers","following_url":"https://api.github.com/users/dnicolodi/following{/other_user}","gists_url":"https://api.github.com/users/dnicolodi/gists{/gist_id}","starred_url":"https://api.github.com/users/dnicolodi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dnicolodi/subscriptions","organizations_url":"https://api.github.com/users/dnicolodi/orgs","repos_url":"https://api.github.com/users/dnicolodi/repos","events_url":"https://api.github.com/users/dnicolodi/events{/privacy}","received_events_url":"https://api.github.com/users/dnicolodi/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/beancount/beanquery/issues/172/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beanquery/issues/172/timeline","performed_via_github_app":null,"state_reason":null},{"url":"https://api.github.com/repos/beancount/beanquery/issues/171","repository_url":"https://api.github.com/repos/beancount/beanquery","labels_url":"https://api.github.com/repos/beancount/beanquery/issues/171/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beanquery/issues/171/comments","events_url":"https://api.github.com/repos/beancount/beanquery/issues/171/events","html_url":"https://github.com/beancount/beanquery/issues/171","id":2279697901,"node_id":"I_kwDOFUEJF86H4W3t","number":171,"title":"Unicode support for output in bean-query","user":{"login":"Pirshtuk","id":38991714,"node_id":"MDQ6VXNlcjM4OTkxNzE0","avatar_url":"https://avatars.githubusercontent.com/u/38991714?v=4","gravatar_id":"","url":"https://api.github.com/users/Pirshtuk","html_url":"https://github.com/Pirshtuk","followers_url":"https://api.github.com/users/Pirshtuk/followers","following_url":"https://api.github.com/users/Pirshtuk/following{/other_user}","gists_url":"https://api.github.com/users/Pirshtuk/gists{/gist_id}","starred_url":"https://api.github.com/users/Pirshtuk/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Pirshtuk/subscriptions","organizations_url":"https://api.github.com/users/Pirshtuk/orgs","repos_url":"https://api.github.com/users/Pirshtuk/repos","events_url":"https://api.github.com/users/Pirshtuk/events{/privacy}","received_events_url":"https://api.github.com/users/Pirshtuk/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":5,"created_at":"2024-05-05T19:42:57Z","updated_at":"2025-04-09T13:43:46Z","closed_at":"2025-04-02T20:41:50Z","author_association":"NONE","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"I am using cyrillic account names in ledger.beancount: 2020-01-01 open ÐÐºÑ‚Ð¸Ð²Ñ‹:Bank\r\n\r\nAccount name in terminal ouput looks differently:\r\n\r\n...>bean-query ledger.beancount  \r\nInput file: \"...\"\r\nReady with ...\r\nbeancount> balances from year = 2024\r\n                 account                       sum_position\r\n----------------------------------------- -----------------------\r\nâ•¨Ð â•¨â•‘â•¤Ð’â•¨â••â•¨â–“â•¤Ð›:Bank                                   100    USD  \r\n\r\nExpected to see: ÐÐºÑ‚Ð¸Ð²Ñ‹:Bank:Bank                                   100    USD  \r\n","closed_by":{"login":"dnicolodi","id":987145,"node_id":"MDQ6VXNlcjk4NzE0NQ==","avatar_url":"https://avatars.githubusercontent.com/u/987145?v=4","gravatar_id":"","url":"https://api.github.com/users/dnicolodi","html_url":"https://github.com/dnicolodi","followers_url":"https://api.github.com/users/dnicolodi/followers","following_url":"https://api.github.com/users/dnicolodi/following{/other_user}","gists_url":"https://api.github.com/users/dnicolodi/gists{/gist_id}","starred_url":"https://api.github.com/users/dnicolodi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dnicolodi/subscriptions","organizations_url":"https://api.github.com/users/dnicolodi/orgs","repos_url":"https://api.github.com/users/dnicolodi/repos","events_url":"https://api.github.com/users/dnicolodi/events{/privacy}","received_events_url":"https://api.github.com/users/dnicolodi/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/beancount/beanquery/issues/171/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beanquery/issues/171/timeline","performed_via_github_app":null,"state_reason":"completed"},{"url":"https://api.github.com/repos/beancount/beanquery/issues/170","repository_url":"https://api.github.com/repos/beancount/beanquery","labels_url":"https://api.github.com/repos/beancount/beanquery/issues/170/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beanquery/issues/170/comments","events_url":"https://api.github.com/repos/beancount/beanquery/issues/170/events","html_url":"https://github.com/beancount/beanquery/issues/170","id":2196175833,"node_id":"I_kwDOFUEJF86C5vvZ","number":170,"title":"Unsupported operand type(s) for &: 'bool' and 'NoneType'","user":{"login":"skfarhat","id":3952243,"node_id":"MDQ6VXNlcjM5NTIyNDM=","avatar_url":"https://avatars.githubusercontent.com/u/3952243?v=4","gravatar_id":"","url":"https://api.github.com/users/skfarhat","html_url":"https://github.com/skfarhat","followers_url":"https://api.github.com/users/skfarhat/followers","following_url":"https://api.github.com/users/skfarhat/following{/other_user}","gists_url":"https://api.github.com/users/skfarhat/gists{/gist_id}","starred_url":"https://api.github.com/users/skfarhat/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/skfarhat/subscriptions","organizations_url":"https://api.github.com/users/skfarhat/orgs","repos_url":"https://api.github.com/users/skfarhat/repos","events_url":"https://api.github.com/users/skfarhat/events{/privacy}","received_events_url":"https://api.github.com/users/skfarhat/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":1,"created_at":"2024-03-19T22:43:00Z","updated_at":"2024-04-06T17:25:10Z","closed_at":"2024-04-06T17:25:10Z","author_association":"NONE","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"**Version**: beancount 2.3.6\r\n\r\n--- \r\n\r\nThe following query: \r\n\r\n```\r\nselect * where account ~ \"Expenses\" and Findfirst('Assets:.*:Joint', other_accounts) \r\n```\r\n\r\nfails with \r\n\r\n```\r\nTraceback (most recent call last):\r\n  File \"/Users/sami/.pyenv/versions/3.11.4/lib/python3.11/cmd.py\", line 214, in onecmd\r\n    func = getattr(self, 'do_' + cmd)\r\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^\r\nAttributeError: 'QueryShell' object has no attribute 'do_select'\r\n\r\nDuring handling of the above exception, another exception occurred:\r\n\r\nTraceback (most recent call last):\r\n  File \"/Users/sami/.pyenv/versions/3.11.4/envs/sf-money/lib/python3.11/site-packages/beancount/query/shell.py\", line 271, in run_parser\r\n    self.dispatch(statement)\r\n  File \"/Users/sami/.pyenv/versions/3.11.4/envs/sf-money/lib/python3.11/site-packages/beancount/query/shell.py\", line 251, in dispatch\r\n    return method(statement)\r\n           ^^^^^^^^^^^^^^^^^\r\n  File \"/Users/sami/.pyenv/versions/3.11.4/envs/sf-money/lib/python3.11/site-packages/fava/core/query_shell.py\", line 110, in on_Select\r\n    rtypes, rrows = execute_query(c_query, self.entries, self.options_map)\r\n                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\r\n  File \"/Users/sami/.pyenv/versions/3.11.4/envs/sf-money/lib/python3.11/site-packages/fava/beans/funcs.py\", line 44, in execute_query\r\n    return query_execute.execute_query(  # type: ignore[no-any-return]\r\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\r\n  File \"/Users/sami/.pyenv/versions/3.11.4/envs/sf-money/lib/python3.11/site-packages/beancount/query/query_execute.py\", line 276, in execute_query\r\n    if c_where is None or c_where(context):\r\n                          ^^^^^^^^^^^^^^^^\r\n  File \"/Users/sami/.pyenv/versions/3.11.4/envs/sf-money/lib/python3.11/site-packages/beancount/query/query_compile.py\", line 121, in __call__\r\n    return self.operator(self.left(context), self.right(context))\r\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\r\nTypeError: unsupported operand type(s) for &: 'bool' and 'NoneType'\r\n```\r\n\r\n`findfirst` seems to return None when it doesn't find an entry and None isn't compatible with & operator. \r\n\r\nNaive but: could we return `False` instead?","closed_by":{"login":"dnicolodi","id":987145,"node_id":"MDQ6VXNlcjk4NzE0NQ==","avatar_url":"https://avatars.githubusercontent.com/u/987145?v=4","gravatar_id":"","url":"https://api.github.com/users/dnicolodi","html_url":"https://github.com/dnicolodi","followers_url":"https://api.github.com/users/dnicolodi/followers","following_url":"https://api.github.com/users/dnicolodi/following{/other_user}","gists_url":"https://api.github.com/users/dnicolodi/gists{/gist_id}","starred_url":"https://api.github.com/users/dnicolodi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dnicolodi/subscriptions","organizations_url":"https://api.github.com/users/dnicolodi/orgs","repos_url":"https://api.github.com/users/dnicolodi/repos","events_url":"https://api.github.com/users/dnicolodi/events{/privacy}","received_events_url":"https://api.github.com/users/dnicolodi/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/beancount/beanquery/issues/170/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beanquery/issues/170/timeline","performed_via_github_app":null,"state_reason":"not_planned"},{"url":"https://api.github.com/repos/beancount/beanquery/issues/169","repository_url":"https://api.github.com/repos/beancount/beanquery","labels_url":"https://api.github.com/repos/beancount/beanquery/issues/169/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beanquery/issues/169/comments","events_url":"https://api.github.com/repos/beancount/beanquery/issues/169/events","html_url":"https://github.com/beancount/beanquery/pull/169","id":2193568255,"node_id":"PR_kwDOFUEJF85qA-A5","number":169,"title":"add date_trunc and interval functions","user":{"login":"andreasgerstmayr","id":538011,"node_id":"MDQ6VXNlcjUzODAxMQ==","avatar_url":"https://avatars.githubusercontent.com/u/538011?v=4","gravatar_id":"","url":"https://api.github.com/users/andreasgerstmayr","html_url":"https://github.com/andreasgerstmayr","followers_url":"https://api.github.com/users/andreasgerstmayr/followers","following_url":"https://api.github.com/users/andreasgerstmayr/following{/other_user}","gists_url":"https://api.github.com/users/andreasgerstmayr/gists{/gist_id}","starred_url":"https://api.github.com/users/andreasgerstmayr/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/andreasgerstmayr/subscriptions","organizations_url":"https://api.github.com/users/andreasgerstmayr/orgs","repos_url":"https://api.github.com/users/andreasgerstmayr/repos","events_url":"https://api.github.com/users/andreasgerstmayr/events{/privacy}","received_events_url":"https://api.github.com/users/andreasgerstmayr/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":7,"created_at":"2024-03-18T22:41:22Z","updated_at":"2024-05-24T18:40:11Z","closed_at":"2024-05-23T22:43:27Z","author_association":"CONTRIBUTOR","type":null,"active_lock_reason":null,"draft":false,"pull_request":{"url":"https://api.github.com/repos/beancount/beanquery/pulls/169","html_url":"https://github.com/beancount/beanquery/pull/169","diff_url":"https://github.com/beancount/beanquery/pull/169.diff","patch_url":"https://github.com/beancount/beanquery/pull/169.patch","merged_at":"2024-05-23T22:43:27Z"},"body":"Add `last_day()` function to retrieve the last day of a given month.\r\nUseful for generating monthly reports, when showing e.g. the market value at the end of each month:\r\n\r\n```\r\nSELECT year, month,\r\nCONVERT(LAST(balance), 'USD', LAST_DAY(FIRST(year))) AS market_value,\r\nWHERE account ~ '^Assets:'\r\nGROUP BY year, month \r\n```","closed_by":{"login":"dnicolodi","id":987145,"node_id":"MDQ6VXNlcjk4NzE0NQ==","avatar_url":"https://avatars.githubusercontent.com/u/987145?v=4","gravatar_id":"","url":"https://api.github.com/users/dnicolodi","html_url":"https://github.com/dnicolodi","followers_url":"https://api.github.com/users/dnicolodi/followers","following_url":"https://api.github.com/users/dnicolodi/following{/other_user}","gists_url":"https://api.github.com/users/dnicolodi/gists{/gist_id}","starred_url":"https://api.github.com/users/dnicolodi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dnicolodi/subscriptions","organizations_url":"https://api.github.com/users/dnicolodi/orgs","repos_url":"https://api.github.com/users/dnicolodi/repos","events_url":"https://api.github.com/users/dnicolodi/events{/privacy}","received_events_url":"https://api.github.com/users/dnicolodi/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/beancount/beanquery/issues/169/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beanquery/issues/169/timeline","performed_via_github_app":null,"state_reason":null},{"url":"https://api.github.com/repos/beancount/beanquery/issues/168","repository_url":"https://api.github.com/repos/beancount/beanquery","labels_url":"https://api.github.com/repos/beancount/beanquery/issues/168/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beanquery/issues/168/comments","events_url":"https://api.github.com/repos/beancount/beanquery/issues/168/events","html_url":"https://github.com/beancount/beanquery/pull/168","id":2151823958,"node_id":"PR_kwDOFUEJF85ny5Pl","number":168,"title":"render: Fix CSV rendering","user":{"login":"dnicolodi","id":987145,"node_id":"MDQ6VXNlcjk4NzE0NQ==","avatar_url":"https://avatars.githubusercontent.com/u/987145?v=4","gravatar_id":"","url":"https://api.github.com/users/dnicolodi","html_url":"https://github.com/dnicolodi","followers_url":"https://api.github.com/users/dnicolodi/followers","following_url":"https://api.github.com/users/dnicolodi/following{/other_user}","gists_url":"https://api.github.com/users/dnicolodi/gists{/gist_id}","starred_url":"https://api.github.com/users/dnicolodi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dnicolodi/subscriptions","organizations_url":"https://api.github.com/users/dnicolodi/orgs","repos_url":"https://api.github.com/users/dnicolodi/repos","events_url":"https://api.github.com/users/dnicolodi/events{/privacy}","received_events_url":"https://api.github.com/users/dnicolodi/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":0,"created_at":"2024-02-23T21:21:07Z","updated_at":"2024-02-23T22:08:30Z","closed_at":"2024-02-23T22:08:29Z","author_association":"COLLABORATOR","type":null,"active_lock_reason":null,"draft":false,"pull_request":{"url":"https://api.github.com/repos/beancount/beanquery/pulls/168","html_url":"https://github.com/beancount/beanquery/pull/168","diff_url":"https://github.com/beancount/beanquery/pull/168.diff","patch_url":"https://github.com/beancount/beanquery/pull/168.patch","merged_at":"2024-02-23T22:08:29Z"},"body":"Ass minimal test to catch this sort of bugs in the future.\r\n\r\nFixes #167.","closed_by":{"login":"dnicolodi","id":987145,"node_id":"MDQ6VXNlcjk4NzE0NQ==","avatar_url":"https://avatars.githubusercontent.com/u/987145?v=4","gravatar_id":"","url":"https://api.github.com/users/dnicolodi","html_url":"https://github.com/dnicolodi","followers_url":"https://api.github.com/users/dnicolodi/followers","following_url":"https://api.github.com/users/dnicolodi/following{/other_user}","gists_url":"https://api.github.com/users/dnicolodi/gists{/gist_id}","starred_url":"https://api.github.com/users/dnicolodi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dnicolodi/subscriptions","organizations_url":"https://api.github.com/users/dnicolodi/orgs","repos_url":"https://api.github.com/users/dnicolodi/repos","events_url":"https://api.github.com/users/dnicolodi/events{/privacy}","received_events_url":"https://api.github.com/users/dnicolodi/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/beancount/beanquery/issues/168/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beanquery/issues/168/timeline","performed_via_github_app":null,"state_reason":null},{"url":"https://api.github.com/repos/beancount/beanquery/issues/167","repository_url":"https://api.github.com/repos/beancount/beanquery","labels_url":"https://api.github.com/repos/beancount/beanquery/issues/167/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beanquery/issues/167/comments","events_url":"https://api.github.com/repos/beancount/beanquery/issues/167/events","html_url":"https://github.com/beancount/beanquery/issues/167","id":2151369496,"node_id":"I_kwDOFUEJF86AO0sY","number":167,"title":"CSV output broken","user":{"login":"mmoya","id":36318,"node_id":"MDQ6VXNlcjM2MzE4","avatar_url":"https://avatars.githubusercontent.com/u/36318?v=4","gravatar_id":"","url":"https://api.github.com/users/mmoya","html_url":"https://github.com/mmoya","followers_url":"https://api.github.com/users/mmoya/followers","following_url":"https://api.github.com/users/mmoya/following{/other_user}","gists_url":"https://api.github.com/users/mmoya/gists{/gist_id}","starred_url":"https://api.github.com/users/mmoya/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mmoya/subscriptions","organizations_url":"https://api.github.com/users/mmoya/orgs","repos_url":"https://api.github.com/users/mmoya/repos","events_url":"https://api.github.com/users/mmoya/events{/privacy}","received_events_url":"https://api.github.com/users/mmoya/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":1,"created_at":"2024-02-23T15:58:48Z","updated_at":"2024-02-23T22:08:30Z","closed_at":"2024-02-23T22:08:30Z","author_association":"CONTRIBUTOR","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"CSV output is broken in 2bf6dfb. Text output works OK.\r\n\r\n```\r\n  ...\r\n  File \"/home/mmoya/.cache/pypoetry/virtualenvs/mmoya-ledger-YHEMojRP-py3.11/lib/python3.11/site-packages/beanquery/query_render.py\", line 548, in <listcomp>\r\n    renderers = [_get_renderer(column.datatype, ctx) for column in columns]\r\n                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\r\n  File \"/home/mmoya/.cache/pypoetry/virtualenvs/mmoya-ledger-YHEMojRP-py3.11/lib/python3.11/site-packages/beanquery/query_render.py\", line 467, in _get_renderer\r\n    return renderer(ctx)\r\n           ^^^^^^^^^^^^^\r\n  File \"/home/mmoya/.cache/pypoetry/virtualenvs/mmoya-ledger-YHEMojRP-py3.11/lib/python3.11/site-packages/beanquery/query_render.py\", line 307, in __init__\r\n    self.units_renderer = AmountRenderer(ctx)\r\n                          ^^^^^^^^^^^^^^^^^^^\r\n  File \"/home/mmoya/.cache/pypoetry/virtualenvs/mmoya-ledger-YHEMojRP-py3.11/lib/python3.11/site-packages/beanquery/query_render.py\", line 235, in __init__\r\n    self.quantize = ctx.dcontext.quantize\r\n                    ^^^^^^^^^^^^^^^^^^^^^\r\nAttributeError: '_io.TextIOWrapper' object has no attribute 'quantize'\r\n```\r\n\r\nLast working commit was 804087a.","closed_by":{"login":"dnicolodi","id":987145,"node_id":"MDQ6VXNlcjk4NzE0NQ==","avatar_url":"https://avatars.githubusercontent.com/u/987145?v=4","gravatar_id":"","url":"https://api.github.com/users/dnicolodi","html_url":"https://github.com/dnicolodi","followers_url":"https://api.github.com/users/dnicolodi/followers","following_url":"https://api.github.com/users/dnicolodi/following{/other_user}","gists_url":"https://api.github.com/users/dnicolodi/gists{/gist_id}","starred_url":"https://api.github.com/users/dnicolodi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dnicolodi/subscriptions","organizations_url":"https://api.github.com/users/dnicolodi/orgs","repos_url":"https://api.github.com/users/dnicolodi/repos","events_url":"https://api.github.com/users/dnicolodi/events{/privacy}","received_events_url":"https://api.github.com/users/dnicolodi/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/beancount/beanquery/issues/167/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beanquery/issues/167/timeline","performed_via_github_app":null,"state_reason":"completed"},{"url":"https://api.github.com/repos/beancount/beanquery/issues/166","repository_url":"https://api.github.com/repos/beancount/beanquery","labels_url":"https://api.github.com/repos/beancount/beanquery/issues/166/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beanquery/issues/166/comments","events_url":"https://api.github.com/repos/beancount/beanquery/issues/166/events","html_url":"https://github.com/beancount/beanquery/pull/166","id":2149848266,"node_id":"PR_kwDOFUEJF85nsHMv","number":166,"title":"render: Make results set rendering formats extensible","user":{"login":"dnicolodi","id":987145,"node_id":"MDQ6VXNlcjk4NzE0NQ==","avatar_url":"https://avatars.githubusercontent.com/u/987145?v=4","gravatar_id":"","url":"https://api.github.com/users/dnicolodi","html_url":"https://github.com/dnicolodi","followers_url":"https://api.github.com/users/dnicolodi/followers","following_url":"https://api.github.com/users/dnicolodi/following{/other_user}","gists_url":"https://api.github.com/users/dnicolodi/gists{/gist_id}","starred_url":"https://api.github.com/users/dnicolodi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dnicolodi/subscriptions","organizations_url":"https://api.github.com/users/dnicolodi/orgs","repos_url":"https://api.github.com/users/dnicolodi/repos","events_url":"https://api.github.com/users/dnicolodi/events{/privacy}","received_events_url":"https://api.github.com/users/dnicolodi/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":0,"created_at":"2024-02-22T20:04:43Z","updated_at":"2024-02-23T09:41:48Z","closed_at":"2024-02-23T09:41:48Z","author_association":"COLLABORATOR","type":null,"active_lock_reason":null,"draft":false,"pull_request":{"url":"https://api.github.com/repos/beancount/beanquery/pulls/166","html_url":"https://github.com/beancount/beanquery/pull/166","diff_url":"https://github.com/beancount/beanquery/pull/166.diff","patch_url":"https://github.com/beancount/beanquery/pull/166.patch","merged_at":"2024-02-23T09:41:48Z"},"body":"The supported rendering formats can be extended adding modules exposing a `render()` function in the `beanquery.render` namespace. See the `beanquery.render.text` and `beanquery.render.csv` modules as examples.","closed_by":{"login":"dnicolodi","id":987145,"node_id":"MDQ6VXNlcjk4NzE0NQ==","avatar_url":"https://avatars.githubusercontent.com/u/987145?v=4","gravatar_id":"","url":"https://api.github.com/users/dnicolodi","html_url":"https://github.com/dnicolodi","followers_url":"https://api.github.com/users/dnicolodi/followers","following_url":"https://api.github.com/users/dnicolodi/following{/other_user}","gists_url":"https://api.github.com/users/dnicolodi/gists{/gist_id}","starred_url":"https://api.github.com/users/dnicolodi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dnicolodi/subscriptions","organizations_url":"https://api.github.com/users/dnicolodi/orgs","repos_url":"https://api.github.com/users/dnicolodi/repos","events_url":"https://api.github.com/users/dnicolodi/events{/privacy}","received_events_url":"https://api.github.com/users/dnicolodi/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/beancount/beanquery/issues/166/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beanquery/issues/166/timeline","performed_via_github_app":null,"state_reason":null},{"url":"https://api.github.com/repos/beancount/beanquery/issues/165","repository_url":"https://api.github.com/repos/beancount/beanquery","labels_url":"https://api.github.com/repos/beancount/beanquery/issues/165/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beanquery/issues/165/comments","events_url":"https://api.github.com/repos/beancount/beanquery/issues/165/events","html_url":"https://github.com/beancount/beanquery/issues/165","id":2134905106,"node_id":"I_kwDOFUEJF85_QBES","number":165,"title":"offer markdown output from beanquery","user":{"login":"maxheld83","id":5372770,"node_id":"MDQ6VXNlcjUzNzI3NzA=","avatar_url":"https://avatars.githubusercontent.com/u/5372770?v=4","gravatar_id":"","url":"https://api.github.com/users/maxheld83","html_url":"https://github.com/maxheld83","followers_url":"https://api.github.com/users/maxheld83/followers","following_url":"https://api.github.com/users/maxheld83/following{/other_user}","gists_url":"https://api.github.com/users/maxheld83/gists{/gist_id}","starred_url":"https://api.github.com/users/maxheld83/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/maxheld83/subscriptions","organizations_url":"https://api.github.com/users/maxheld83/orgs","repos_url":"https://api.github.com/users/maxheld83/repos","events_url":"https://api.github.com/users/maxheld83/events{/privacy}","received_events_url":"https://api.github.com/users/maxheld83/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":7086813688,"node_id":"LA_kwDOFUEJF88AAAABpmgx-A","url":"https://api.github.com/repos/beancount/beanquery/labels/shell","name":"shell","color":"d4c5f9","default":false,"description":"Related to the command shell"}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":9,"created_at":"2024-02-14T18:15:56Z","updated_at":"2024-06-15T23:43:34Z","closed_at":"2024-06-15T23:43:33Z","author_association":"NONE","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"it would be super cool to be able to run:\r\n\r\n```\r\nbean-query --format=markdown\r\n```\r\n\r\nand then continue to convert that to whatever format you need (using pandoc or whatnot).\r\n\r\nFormatting output is probably not a concern for beancount/beanquery, and it *is possible to just take the `*.csv`*, and convert to markdown (or whatever).\r\n\r\nHowever, I can think of two reasons why formatting inside beanquery might be useful:\r\n\r\n- beanquery/beancount *knows* things about a column (data type), which is lost when saved to CSV.\r\n    For example, beanquery knows that something is a currency, and should thus typically be right aligned.\r\n- by tapping into an external printer of tabular data (such as [tabulate](https://pypi.org/project/tabulate/) beancount/beanquery could offload the entire printing of tabular results (also `text`).\r\n\r\nWould be great to get some feedback on whether the maintainers in principle consider this in scope for beanquery/beancount.\r\n(Because otherwise I'll hack around it to reconstruct pretty Markdown, which I'd prefer to avoid for above stated reasons).\r\n","closed_by":{"login":"dnicolodi","id":987145,"node_id":"MDQ6VXNlcjk4NzE0NQ==","avatar_url":"https://avatars.githubusercontent.com/u/987145?v=4","gravatar_id":"","url":"https://api.github.com/users/dnicolodi","html_url":"https://github.com/dnicolodi","followers_url":"https://api.github.com/users/dnicolodi/followers","following_url":"https://api.github.com/users/dnicolodi/following{/other_user}","gists_url":"https://api.github.com/users/dnicolodi/gists{/gist_id}","starred_url":"https://api.github.com/users/dnicolodi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dnicolodi/subscriptions","organizations_url":"https://api.github.com/users/dnicolodi/orgs","repos_url":"https://api.github.com/users/dnicolodi/repos","events_url":"https://api.github.com/users/dnicolodi/events{/privacy}","received_events_url":"https://api.github.com/users/dnicolodi/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/beancount/beanquery/issues/165/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beanquery/issues/165/timeline","performed_via_github_app":null,"state_reason":"completed"},{"url":"https://api.github.com/repos/beancount/beanquery/issues/164","repository_url":"https://api.github.com/repos/beancount/beanquery","labels_url":"https://api.github.com/repos/beancount/beanquery/issues/164/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beanquery/issues/164/comments","events_url":"https://api.github.com/repos/beancount/beanquery/issues/164/events","html_url":"https://github.com/beancount/beanquery/issues/164","id":2134883928,"node_id":"I_kwDOFUEJF85_P75Y","number":164,"title":"escape comma in csv outputs","user":{"login":"maxheld83","id":5372770,"node_id":"MDQ6VXNlcjUzNzI3NzA=","avatar_url":"https://avatars.githubusercontent.com/u/5372770?v=4","gravatar_id":"","url":"https://api.github.com/users/maxheld83","html_url":"https://github.com/maxheld83","followers_url":"https://api.github.com/users/maxheld83/followers","following_url":"https://api.github.com/users/maxheld83/following{/other_user}","gists_url":"https://api.github.com/users/maxheld83/gists{/gist_id}","starred_url":"https://api.github.com/users/maxheld83/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/maxheld83/subscriptions","organizations_url":"https://api.github.com/users/maxheld83/orgs","repos_url":"https://api.github.com/users/maxheld83/repos","events_url":"https://api.github.com/users/maxheld83/events{/privacy}","received_events_url":"https://api.github.com/users/maxheld83/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":2,"created_at":"2024-02-14T18:02:29Z","updated_at":"2024-02-14T20:43:07Z","closed_at":"2024-02-14T20:43:07Z","author_association":"NONE","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"Currently:\r\n\r\n```\r\n1970-01-01 * \"Acme Inc\" \"Lorem, Ipsum\"\r\n  Assets:Foo -1 USD\r\n  Assets:Bar\r\n```\r\n\r\nwhen run through `bean-query --format=csv`,\r\n\r\nbecomes\r\n\r\n```\r\nacme inc,lorem, ipsum\r\n```\r\n\r\nwhich is incorrect and leads to problems in downstream processing.\r\n\r\n```\r\nacme inc,\"lorem, ipsum\"\r\n```\r\n\r\nwould be better.","closed_by":{"login":"maxheld83","id":5372770,"node_id":"MDQ6VXNlcjUzNzI3NzA=","avatar_url":"https://avatars.githubusercontent.com/u/5372770?v=4","gravatar_id":"","url":"https://api.github.com/users/maxheld83","html_url":"https://github.com/maxheld83","followers_url":"https://api.github.com/users/maxheld83/followers","following_url":"https://api.github.com/users/maxheld83/following{/other_user}","gists_url":"https://api.github.com/users/maxheld83/gists{/gist_id}","starred_url":"https://api.github.com/users/maxheld83/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/maxheld83/subscriptions","organizations_url":"https://api.github.com/users/maxheld83/orgs","repos_url":"https://api.github.com/users/maxheld83/repos","events_url":"https://api.github.com/users/maxheld83/events{/privacy}","received_events_url":"https://api.github.com/users/maxheld83/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/beancount/beanquery/issues/164/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beanquery/issues/164/timeline","performed_via_github_app":null,"state_reason":"not_planned"},{"url":"https://api.github.com/repos/beancount/beanquery/issues/163","repository_url":"https://api.github.com/repos/beancount/beanquery","labels_url":"https://api.github.com/repos/beancount/beanquery/issues/163/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beanquery/issues/163/comments","events_url":"https://api.github.com/repos/beancount/beanquery/issues/163/events","html_url":"https://github.com/beancount/beanquery/pull/163","id":2011249501,"node_id":"PR_kwDOFUEJF85gYn7a","number":163,"title":"packaging: Switch to pyproject.toml and modern setuptools","user":{"login":"dnicolodi","id":987145,"node_id":"MDQ6VXNlcjk4NzE0NQ==","avatar_url":"https://avatars.githubusercontent.com/u/987145?v=4","gravatar_id":"","url":"https://api.github.com/users/dnicolodi","html_url":"https://github.com/dnicolodi","followers_url":"https://api.github.com/users/dnicolodi/followers","following_url":"https://api.github.com/users/dnicolodi/following{/other_user}","gists_url":"https://api.github.com/users/dnicolodi/gists{/gist_id}","starred_url":"https://api.github.com/users/dnicolodi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dnicolodi/subscriptions","organizations_url":"https://api.github.com/users/dnicolodi/orgs","repos_url":"https://api.github.com/users/dnicolodi/repos","events_url":"https://api.github.com/users/dnicolodi/events{/privacy}","received_events_url":"https://api.github.com/users/dnicolodi/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":0,"created_at":"2023-11-26T22:55:15Z","updated_at":"2023-11-26T23:17:03Z","closed_at":"2023-11-26T23:17:03Z","author_association":"COLLABORATOR","type":null,"active_lock_reason":null,"draft":false,"pull_request":{"url":"https://api.github.com/repos/beancount/beanquery/pulls/163","html_url":"https://github.com/beancount/beanquery/pull/163","diff_url":"https://github.com/beancount/beanquery/pull/163.diff","patch_url":"https://github.com/beancount/beanquery/pull/163.patch","merged_at":"2023-11-26T23:17:03Z"},"body":null,"closed_by":{"login":"dnicolodi","id":987145,"node_id":"MDQ6VXNlcjk4NzE0NQ==","avatar_url":"https://avatars.githubusercontent.com/u/987145?v=4","gravatar_id":"","url":"https://api.github.com/users/dnicolodi","html_url":"https://github.com/dnicolodi","followers_url":"https://api.github.com/users/dnicolodi/followers","following_url":"https://api.github.com/users/dnicolodi/following{/other_user}","gists_url":"https://api.github.com/users/dnicolodi/gists{/gist_id}","starred_url":"https://api.github.com/users/dnicolodi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dnicolodi/subscriptions","organizations_url":"https://api.github.com/users/dnicolodi/orgs","repos_url":"https://api.github.com/users/dnicolodi/repos","events_url":"https://api.github.com/users/dnicolodi/events{/privacy}","received_events_url":"https://api.github.com/users/dnicolodi/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/beancount/beanquery/issues/163/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beanquery/issues/163/timeline","performed_via_github_app":null,"state_reason":null},{"url":"https://api.github.com/repos/beancount/beanquery/issues/162","repository_url":"https://api.github.com/repos/beancount/beanquery","labels_url":"https://api.github.com/repos/beancount/beanquery/issues/162/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beanquery/issues/162/comments","events_url":"https://api.github.com/repos/beancount/beanquery/issues/162/events","html_url":"https://github.com/beancount/beanquery/pull/162","id":2010360927,"node_id":"PR_kwDOFUEJF85gV1CF","number":162,"title":"beanquery: add empty init file in beanquery.sources","user":{"login":"LalitMaganti","id":679100,"node_id":"MDQ6VXNlcjY3OTEwMA==","avatar_url":"https://avatars.githubusercontent.com/u/679100?v=4","gravatar_id":"","url":"https://api.github.com/users/LalitMaganti","html_url":"https://github.com/LalitMaganti","followers_url":"https://api.github.com/users/LalitMaganti/followers","following_url":"https://api.github.com/users/LalitMaganti/following{/other_user}","gists_url":"https://api.github.com/users/LalitMaganti/gists{/gist_id}","starred_url":"https://api.github.com/users/LalitMaganti/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/LalitMaganti/subscriptions","organizations_url":"https://api.github.com/users/LalitMaganti/orgs","repos_url":"https://api.github.com/users/LalitMaganti/repos","events_url":"https://api.github.com/users/LalitMaganti/events{/privacy}","received_events_url":"https://api.github.com/users/LalitMaganti/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":1,"created_at":"2023-11-25T00:15:04Z","updated_at":"2023-11-26T20:33:42Z","closed_at":"2023-11-26T20:33:41Z","author_association":"NONE","type":null,"active_lock_reason":null,"draft":false,"pull_request":{"url":"https://api.github.com/repos/beancount/beanquery/pulls/162","html_url":"https://github.com/beancount/beanquery/pull/162","diff_url":"https://github.com/beancount/beanquery/pull/162.diff","patch_url":"https://github.com/beancount/beanquery/pull/162.patch","merged_at":null},"body":"This is necessary for setuptools to realise that this module needs to be included when creating the package.\r\n\r\nThis allows package managers (e.g. poetry) to work correctly.","closed_by":{"login":"dnicolodi","id":987145,"node_id":"MDQ6VXNlcjk4NzE0NQ==","avatar_url":"https://avatars.githubusercontent.com/u/987145?v=4","gravatar_id":"","url":"https://api.github.com/users/dnicolodi","html_url":"https://github.com/dnicolodi","followers_url":"https://api.github.com/users/dnicolodi/followers","following_url":"https://api.github.com/users/dnicolodi/following{/other_user}","gists_url":"https://api.github.com/users/dnicolodi/gists{/gist_id}","starred_url":"https://api.github.com/users/dnicolodi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dnicolodi/subscriptions","organizations_url":"https://api.github.com/users/dnicolodi/orgs","repos_url":"https://api.github.com/users/dnicolodi/repos","events_url":"https://api.github.com/users/dnicolodi/events{/privacy}","received_events_url":"https://api.github.com/users/dnicolodi/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/beancount/beanquery/issues/162/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beanquery/issues/162/timeline","performed_via_github_app":null,"state_reason":null},{"url":"https://api.github.com/repos/beancount/beanquery/issues/161","repository_url":"https://api.github.com/repos/beancount/beanquery","labels_url":"https://api.github.com/repos/beancount/beanquery/issues/161/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beanquery/issues/161/comments","events_url":"https://api.github.com/repos/beancount/beanquery/issues/161/events","html_url":"https://github.com/beancount/beanquery/pull/161","id":2000614034,"node_id":"PR_kwDOFUEJF85f1A6s","number":161,"title":"Shell fixes","user":{"login":"dnicolodi","id":987145,"node_id":"MDQ6VXNlcjk4NzE0NQ==","avatar_url":"https://avatars.githubusercontent.com/u/987145?v=4","gravatar_id":"","url":"https://api.github.com/users/dnicolodi","html_url":"https://github.com/dnicolodi","followers_url":"https://api.github.com/users/dnicolodi/followers","following_url":"https://api.github.com/users/dnicolodi/following{/other_user}","gists_url":"https://api.github.com/users/dnicolodi/gists{/gist_id}","starred_url":"https://api.github.com/users/dnicolodi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dnicolodi/subscriptions","organizations_url":"https://api.github.com/users/dnicolodi/orgs","repos_url":"https://api.github.com/users/dnicolodi/repos","events_url":"https://api.github.com/users/dnicolodi/events{/privacy}","received_events_url":"https://api.github.com/users/dnicolodi/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":0,"created_at":"2023-11-18T23:11:18Z","updated_at":"2023-11-18T23:12:30Z","closed_at":"2023-11-18T23:12:30Z","author_association":"COLLABORATOR","type":null,"active_lock_reason":null,"draft":false,"pull_request":{"url":"https://api.github.com/repos/beancount/beanquery/pulls/161","html_url":"https://github.com/beancount/beanquery/pull/161","diff_url":"https://github.com/beancount/beanquery/pull/161.diff","patch_url":"https://github.com/beancount/beanquery/pull/161.patch","merged_at":"2023-11-18T23:12:30Z"},"body":null,"closed_by":{"login":"dnicolodi","id":987145,"node_id":"MDQ6VXNlcjk4NzE0NQ==","avatar_url":"https://avatars.githubusercontent.com/u/987145?v=4","gravatar_id":"","url":"https://api.github.com/users/dnicolodi","html_url":"https://github.com/dnicolodi","followers_url":"https://api.github.com/users/dnicolodi/followers","following_url":"https://api.github.com/users/dnicolodi/following{/other_user}","gists_url":"https://api.github.com/users/dnicolodi/gists{/gist_id}","starred_url":"https://api.github.com/users/dnicolodi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dnicolodi/subscriptions","organizations_url":"https://api.github.com/users/dnicolodi/orgs","repos_url":"https://api.github.com/users/dnicolodi/repos","events_url":"https://api.github.com/users/dnicolodi/events{/privacy}","received_events_url":"https://api.github.com/users/dnicolodi/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/beancount/beanquery/issues/161/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beanquery/issues/161/timeline","performed_via_github_app":null,"state_reason":null},{"url":"https://api.github.com/repos/beancount/beanquery/issues/160","repository_url":"https://api.github.com/repos/beancount/beanquery","labels_url":"https://api.github.com/repos/beancount/beanquery/issues/160/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beanquery/issues/160/comments","events_url":"https://api.github.com/repos/beancount/beanquery/issues/160/events","html_url":"https://github.com/beancount/beanquery/pull/160","id":1968679004,"node_id":"PR_kwDOFUEJF85eIyTD","number":160,"title":"Print errors to stderr","user":{"login":"mmoya","id":36318,"node_id":"MDQ6VXNlcjM2MzE4","avatar_url":"https://avatars.githubusercontent.com/u/36318?v=4","gravatar_id":"","url":"https://api.github.com/users/mmoya","html_url":"https://github.com/mmoya","followers_url":"https://api.github.com/users/mmoya/followers","following_url":"https://api.github.com/users/mmoya/following{/other_user}","gists_url":"https://api.github.com/users/mmoya/gists{/gist_id}","starred_url":"https://api.github.com/users/mmoya/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mmoya/subscriptions","organizations_url":"https://api.github.com/users/mmoya/orgs","repos_url":"https://api.github.com/users/mmoya/repos","events_url":"https://api.github.com/users/mmoya/events{/privacy}","received_events_url":"https://api.github.com/users/mmoya/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":1,"created_at":"2023-10-30T15:43:13Z","updated_at":"2023-11-18T23:12:56Z","closed_at":"2023-11-18T23:12:56Z","author_association":"CONTRIBUTOR","type":null,"active_lock_reason":null,"draft":false,"pull_request":{"url":"https://api.github.com/repos/beancount/beanquery/pulls/160","html_url":"https://github.com/beancount/beanquery/pull/160","diff_url":"https://github.com/beancount/beanquery/pull/160.diff","patch_url":"https://github.com/beancount/beanquery/pull/160.patch","merged_at":null},"body":"Play nicer with shell redirections and match the behavior of legacy bean-query.","closed_by":{"login":"dnicolodi","id":987145,"node_id":"MDQ6VXNlcjk4NzE0NQ==","avatar_url":"https://avatars.githubusercontent.com/u/987145?v=4","gravatar_id":"","url":"https://api.github.com/users/dnicolodi","html_url":"https://github.com/dnicolodi","followers_url":"https://api.github.com/users/dnicolodi/followers","following_url":"https://api.github.com/users/dnicolodi/following{/other_user}","gists_url":"https://api.github.com/users/dnicolodi/gists{/gist_id}","starred_url":"https://api.github.com/users/dnicolodi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dnicolodi/subscriptions","organizations_url":"https://api.github.com/users/dnicolodi/orgs","repos_url":"https://api.github.com/users/dnicolodi/repos","events_url":"https://api.github.com/users/dnicolodi/events{/privacy}","received_events_url":"https://api.github.com/users/dnicolodi/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/beancount/beanquery/issues/160/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beanquery/issues/160/timeline","performed_via_github_app":null,"state_reason":null},{"url":"https://api.github.com/repos/beancount/beanquery/issues/159","repository_url":"https://api.github.com/repos/beancount/beanquery","labels_url":"https://api.github.com/repos/beancount/beanquery/issues/159/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beanquery/issues/159/comments","events_url":"https://api.github.com/repos/beancount/beanquery/issues/159/events","html_url":"https://github.com/beancount/beanquery/pull/159","id":1967928561,"node_id":"PR_kwDOFUEJF85eGNai","number":159,"title":"More tables","user":{"login":"dnicolodi","id":987145,"node_id":"MDQ6VXNlcjk4NzE0NQ==","avatar_url":"https://avatars.githubusercontent.com/u/987145?v=4","gravatar_id":"","url":"https://api.github.com/users/dnicolodi","html_url":"https://github.com/dnicolodi","followers_url":"https://api.github.com/users/dnicolodi/followers","following_url":"https://api.github.com/users/dnicolodi/following{/other_user}","gists_url":"https://api.github.com/users/dnicolodi/gists{/gist_id}","starred_url":"https://api.github.com/users/dnicolodi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dnicolodi/subscriptions","organizations_url":"https://api.github.com/users/dnicolodi/orgs","repos_url":"https://api.github.com/users/dnicolodi/repos","events_url":"https://api.github.com/users/dnicolodi/events{/privacy}","received_events_url":"https://api.github.com/users/dnicolodi/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":0,"created_at":"2023-10-30T09:44:03Z","updated_at":"2023-11-18T23:47:08Z","closed_at":"2023-11-18T23:47:07Z","author_association":"COLLABORATOR","type":null,"active_lock_reason":null,"draft":false,"pull_request":{"url":"https://api.github.com/repos/beancount/beanquery/pulls/159","html_url":"https://github.com/beancount/beanquery/pull/159","diff_url":"https://github.com/beancount/beanquery/pull/159.diff","patch_url":"https://github.com/beancount/beanquery/pull/159.patch","merged_at":"2023-11-18T23:47:07Z"},"body":null,"closed_by":{"login":"dnicolodi","id":987145,"node_id":"MDQ6VXNlcjk4NzE0NQ==","avatar_url":"https://avatars.githubusercontent.com/u/987145?v=4","gravatar_id":"","url":"https://api.github.com/users/dnicolodi","html_url":"https://github.com/dnicolodi","followers_url":"https://api.github.com/users/dnicolodi/followers","following_url":"https://api.github.com/users/dnicolodi/following{/other_user}","gists_url":"https://api.github.com/users/dnicolodi/gists{/gist_id}","starred_url":"https://api.github.com/users/dnicolodi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dnicolodi/subscriptions","organizations_url":"https://api.github.com/users/dnicolodi/orgs","repos_url":"https://api.github.com/users/dnicolodi/repos","events_url":"https://api.github.com/users/dnicolodi/events{/privacy}","received_events_url":"https://api.github.com/users/dnicolodi/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/beancount/beanquery/issues/159/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beanquery/issues/159/timeline","performed_via_github_app":null,"state_reason":null},{"url":"https://api.github.com/repos/beancount/beanquery/issues/158","repository_url":"https://api.github.com/repos/beancount/beanquery","labels_url":"https://api.github.com/repos/beancount/beanquery/issues/158/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beanquery/issues/158/comments","events_url":"https://api.github.com/repos/beancount/beanquery/issues/158/events","html_url":"https://github.com/beancount/beanquery/pull/158","id":1967082909,"node_id":"PR_kwDOFUEJF85eDWeA","number":158,"title":"Fix CSV rendering","user":{"login":"mmoya","id":36318,"node_id":"MDQ6VXNlcjM2MzE4","avatar_url":"https://avatars.githubusercontent.com/u/36318?v=4","gravatar_id":"","url":"https://api.github.com/users/mmoya","html_url":"https://github.com/mmoya","followers_url":"https://api.github.com/users/mmoya/followers","following_url":"https://api.github.com/users/mmoya/following{/other_user}","gists_url":"https://api.github.com/users/mmoya/gists{/gist_id}","starred_url":"https://api.github.com/users/mmoya/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mmoya/subscriptions","organizations_url":"https://api.github.com/users/mmoya/orgs","repos_url":"https://api.github.com/users/mmoya/repos","events_url":"https://api.github.com/users/mmoya/events{/privacy}","received_events_url":"https://api.github.com/users/mmoya/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":0,"created_at":"2023-10-29T17:29:32Z","updated_at":"2023-10-30T10:46:05Z","closed_at":"2023-10-30T09:12:07Z","author_association":"CONTRIBUTOR","type":null,"active_lock_reason":null,"draft":false,"pull_request":{"url":"https://api.github.com/repos/beancount/beanquery/pulls/158","html_url":"https://github.com/beancount/beanquery/pull/158","diff_url":"https://github.com/beancount/beanquery/pull/158.diff","patch_url":"https://github.com/beancount/beanquery/pull/158.patch","merged_at":"2023-10-30T09:12:07Z"},"body":"Fixes:\r\n\r\n      File \".../beanquery/query_render.py\", line 548, in <listcomp>\r\n        renderers = [RENDERERS[dtype](ctx) for name, dtype in columns]\r\n                                               ^^^^^^^^^^^\r\n    ValueError: too many values to unpack (expected 2)\r\n\r\ncolumns is no longer a tuple but a list of `beanquery.Column` objects. Fix accessors to datatype and name.","closed_by":{"login":"dnicolodi","id":987145,"node_id":"MDQ6VXNlcjk4NzE0NQ==","avatar_url":"https://avatars.githubusercontent.com/u/987145?v=4","gravatar_id":"","url":"https://api.github.com/users/dnicolodi","html_url":"https://github.com/dnicolodi","followers_url":"https://api.github.com/users/dnicolodi/followers","following_url":"https://api.github.com/users/dnicolodi/following{/other_user}","gists_url":"https://api.github.com/users/dnicolodi/gists{/gist_id}","starred_url":"https://api.github.com/users/dnicolodi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dnicolodi/subscriptions","organizations_url":"https://api.github.com/users/dnicolodi/orgs","repos_url":"https://api.github.com/users/dnicolodi/repos","events_url":"https://api.github.com/users/dnicolodi/events{/privacy}","received_events_url":"https://api.github.com/users/dnicolodi/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/beancount/beanquery/issues/158/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beanquery/issues/158/timeline","performed_via_github_app":null,"state_reason":null},{"url":"https://api.github.com/repos/beancount/beanquery/issues/157","repository_url":"https://api.github.com/repos/beancount/beanquery","labels_url":"https://api.github.com/repos/beancount/beanquery/issues/157/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beanquery/issues/157/comments","events_url":"https://api.github.com/repos/beancount/beanquery/issues/157/events","html_url":"https://github.com/beancount/beanquery/pull/157","id":1931715395,"node_id":"PR_kwDOFUEJF85cMEL5","number":157,"title":"ci: Updates","user":{"login":"dnicolodi","id":987145,"node_id":"MDQ6VXNlcjk4NzE0NQ==","avatar_url":"https://avatars.githubusercontent.com/u/987145?v=4","gravatar_id":"","url":"https://api.github.com/users/dnicolodi","html_url":"https://github.com/dnicolodi","followers_url":"https://api.github.com/users/dnicolodi/followers","following_url":"https://api.github.com/users/dnicolodi/following{/other_user}","gists_url":"https://api.github.com/users/dnicolodi/gists{/gist_id}","starred_url":"https://api.github.com/users/dnicolodi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dnicolodi/subscriptions","organizations_url":"https://api.github.com/users/dnicolodi/orgs","repos_url":"https://api.github.com/users/dnicolodi/repos","events_url":"https://api.github.com/users/dnicolodi/events{/privacy}","received_events_url":"https://api.github.com/users/dnicolodi/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":0,"created_at":"2023-10-08T08:52:51Z","updated_at":"2023-10-08T10:15:55Z","closed_at":"2023-10-08T10:15:55Z","author_association":"COLLABORATOR","type":null,"active_lock_reason":null,"draft":false,"pull_request":{"url":"https://api.github.com/repos/beancount/beanquery/pulls/157","html_url":"https://github.com/beancount/beanquery/pull/157","diff_url":"https://github.com/beancount/beanquery/pull/157.diff","patch_url":"https://github.com/beancount/beanquery/pull/157.patch","merged_at":"2023-10-08T10:15:55Z"},"body":null,"closed_by":{"login":"dnicolodi","id":987145,"node_id":"MDQ6VXNlcjk4NzE0NQ==","avatar_url":"https://avatars.githubusercontent.com/u/987145?v=4","gravatar_id":"","url":"https://api.github.com/users/dnicolodi","html_url":"https://github.com/dnicolodi","followers_url":"https://api.github.com/users/dnicolodi/followers","following_url":"https://api.github.com/users/dnicolodi/following{/other_user}","gists_url":"https://api.github.com/users/dnicolodi/gists{/gist_id}","starred_url":"https://api.github.com/users/dnicolodi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dnicolodi/subscriptions","organizations_url":"https://api.github.com/users/dnicolodi/orgs","repos_url":"https://api.github.com/users/dnicolodi/repos","events_url":"https://api.github.com/users/dnicolodi/events{/privacy}","received_events_url":"https://api.github.com/users/dnicolodi/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/beancount/beanquery/issues/157/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beanquery/issues/157/timeline","performed_via_github_app":null,"state_reason":null},{"url":"https://api.github.com/repos/beancount/beanquery/issues/156","repository_url":"https://api.github.com/repos/beancount/beanquery","labels_url":"https://api.github.com/repos/beancount/beanquery/issues/156/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beanquery/issues/156/comments","events_url":"https://api.github.com/repos/beancount/beanquery/issues/156/events","html_url":"https://github.com/beancount/beanquery/pull/156","id":1931329648,"node_id":"PR_kwDOFUEJF85cK3KP","number":156,"title":"beancount: Add \"accounts\" table","user":{"login":"dnicolodi","id":987145,"node_id":"MDQ6VXNlcjk4NzE0NQ==","avatar_url":"https://avatars.githubusercontent.com/u/987145?v=4","gravatar_id":"","url":"https://api.github.com/users/dnicolodi","html_url":"https://github.com/dnicolodi","followers_url":"https://api.github.com/users/dnicolodi/followers","following_url":"https://api.github.com/users/dnicolodi/following{/other_user}","gists_url":"https://api.github.com/users/dnicolodi/gists{/gist_id}","starred_url":"https://api.github.com/users/dnicolodi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dnicolodi/subscriptions","organizations_url":"https://api.github.com/users/dnicolodi/orgs","repos_url":"https://api.github.com/users/dnicolodi/repos","events_url":"https://api.github.com/users/dnicolodi/events{/privacy}","received_events_url":"https://api.github.com/users/dnicolodi/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":0,"created_at":"2023-10-07T12:18:15Z","updated_at":"2023-10-07T13:18:28Z","closed_at":"2023-10-07T13:18:28Z","author_association":"COLLABORATOR","type":null,"active_lock_reason":null,"draft":false,"pull_request":{"url":"https://api.github.com/repos/beancount/beanquery/pulls/156","html_url":"https://github.com/beancount/beanquery/pull/156","diff_url":"https://github.com/beancount/beanquery/pull/156.diff","patch_url":"https://github.com/beancount/beanquery/pull/156.patch","merged_at":"2023-10-07T13:18:27Z"},"body":null,"closed_by":{"login":"dnicolodi","id":987145,"node_id":"MDQ6VXNlcjk4NzE0NQ==","avatar_url":"https://avatars.githubusercontent.com/u/987145?v=4","gravatar_id":"","url":"https://api.github.com/users/dnicolodi","html_url":"https://github.com/dnicolodi","followers_url":"https://api.github.com/users/dnicolodi/followers","following_url":"https://api.github.com/users/dnicolodi/following{/other_user}","gists_url":"https://api.github.com/users/dnicolodi/gists{/gist_id}","starred_url":"https://api.github.com/users/dnicolodi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dnicolodi/subscriptions","organizations_url":"https://api.github.com/users/dnicolodi/orgs","repos_url":"https://api.github.com/users/dnicolodi/repos","events_url":"https://api.github.com/users/dnicolodi/events{/privacy}","received_events_url":"https://api.github.com/users/dnicolodi/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/beancount/beanquery/issues/156/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beanquery/issues/156/timeline","performed_via_github_app":null,"state_reason":null},{"url":"https://api.github.com/repos/beancount/beanquery/issues/155","repository_url":"https://api.github.com/repos/beancount/beanquery","labels_url":"https://api.github.com/repos/beancount/beanquery/issues/155/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beanquery/issues/155/comments","events_url":"https://api.github.com/repos/beancount/beanquery/issues/155/events","html_url":"https://github.com/beancount/beanquery/pull/155","id":1922586935,"node_id":"PR_kwDOFUEJF85btU_z","number":155,"title":"More subqueries support","user":{"login":"dnicolodi","id":987145,"node_id":"MDQ6VXNlcjk4NzE0NQ==","avatar_url":"https://avatars.githubusercontent.com/u/987145?v=4","gravatar_id":"","url":"https://api.github.com/users/dnicolodi","html_url":"https://github.com/dnicolodi","followers_url":"https://api.github.com/users/dnicolodi/followers","following_url":"https://api.github.com/users/dnicolodi/following{/other_user}","gists_url":"https://api.github.com/users/dnicolodi/gists{/gist_id}","starred_url":"https://api.github.com/users/dnicolodi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dnicolodi/subscriptions","organizations_url":"https://api.github.com/users/dnicolodi/orgs","repos_url":"https://api.github.com/users/dnicolodi/repos","events_url":"https://api.github.com/users/dnicolodi/events{/privacy}","received_events_url":"https://api.github.com/users/dnicolodi/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"open","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":0,"created_at":"2023-10-02T19:59:35Z","updated_at":"2025-01-29T16:57:57Z","closed_at":null,"author_association":"COLLABORATOR","type":null,"active_lock_reason":null,"draft":true,"pull_request":{"url":"https://api.github.com/repos/beancount/beanquery/pulls/155","html_url":"https://github.com/beancount/beanquery/pull/155","diff_url":"https://github.com/beancount/beanquery/pull/155.diff","patch_url":"https://github.com/beancount/beanquery/pull/155.patch","merged_at":null},"body":null,"closed_by":null,"reactions":{"url":"https://api.github.com/repos/beancount/beanquery/issues/155/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beanquery/issues/155/timeline","performed_via_github_app":null,"state_reason":null},{"url":"https://api.github.com/repos/beancount/beanquery/issues/154","repository_url":"https://api.github.com/repos/beancount/beanquery","labels_url":"https://api.github.com/repos/beancount/beanquery/issues/154/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beanquery/issues/154/comments","events_url":"https://api.github.com/repos/beancount/beanquery/issues/154/events","html_url":"https://github.com/beancount/beanquery/pull/154","id":1920219255,"node_id":"PR_kwDOFUEJF85bliXO","number":154,"title":"ci: Test also with Python 3.12","user":{"login":"dnicolodi","id":987145,"node_id":"MDQ6VXNlcjk4NzE0NQ==","avatar_url":"https://avatars.githubusercontent.com/u/987145?v=4","gravatar_id":"","url":"https://api.github.com/users/dnicolodi","html_url":"https://github.com/dnicolodi","followers_url":"https://api.github.com/users/dnicolodi/followers","following_url":"https://api.github.com/users/dnicolodi/following{/other_user}","gists_url":"https://api.github.com/users/dnicolodi/gists{/gist_id}","starred_url":"https://api.github.com/users/dnicolodi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dnicolodi/subscriptions","organizations_url":"https://api.github.com/users/dnicolodi/orgs","repos_url":"https://api.github.com/users/dnicolodi/repos","events_url":"https://api.github.com/users/dnicolodi/events{/privacy}","received_events_url":"https://api.github.com/users/dnicolodi/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":0,"created_at":"2023-09-30T11:13:37Z","updated_at":"2023-09-30T16:27:27Z","closed_at":"2023-09-30T16:27:26Z","author_association":"COLLABORATOR","type":null,"active_lock_reason":null,"draft":false,"pull_request":{"url":"https://api.github.com/repos/beancount/beanquery/pulls/154","html_url":"https://github.com/beancount/beanquery/pull/154","diff_url":"https://github.com/beancount/beanquery/pull/154.diff","patch_url":"https://github.com/beancount/beanquery/pull/154.patch","merged_at":"2023-09-30T16:27:26Z"},"body":null,"closed_by":{"login":"dnicolodi","id":987145,"node_id":"MDQ6VXNlcjk4NzE0NQ==","avatar_url":"https://avatars.githubusercontent.com/u/987145?v=4","gravatar_id":"","url":"https://api.github.com/users/dnicolodi","html_url":"https://github.com/dnicolodi","followers_url":"https://api.github.com/users/dnicolodi/followers","following_url":"https://api.github.com/users/dnicolodi/following{/other_user}","gists_url":"https://api.github.com/users/dnicolodi/gists{/gist_id}","starred_url":"https://api.github.com/users/dnicolodi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dnicolodi/subscriptions","organizations_url":"https://api.github.com/users/dnicolodi/orgs","repos_url":"https://api.github.com/users/dnicolodi/repos","events_url":"https://api.github.com/users/dnicolodi/events{/privacy}","received_events_url":"https://api.github.com/users/dnicolodi/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/beancount/beanquery/issues/154/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beanquery/issues/154/timeline","performed_via_github_app":null,"state_reason":null},{"url":"https://api.github.com/repos/beancount/beanquery/issues/153","repository_url":"https://api.github.com/repos/beancount/beanquery","labels_url":"https://api.github.com/repos/beancount/beanquery/issues/153/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beanquery/issues/153/comments","events_url":"https://api.github.com/repos/beancount/beanquery/issues/153/events","html_url":"https://github.com/beancount/beanquery/pull/153","id":1920202196,"node_id":"PR_kwDOFUEJF85blfDM","number":153,"title":"parser: Allow double quoted identifiers","user":{"login":"dnicolodi","id":987145,"node_id":"MDQ6VXNlcjk4NzE0NQ==","avatar_url":"https://avatars.githubusercontent.com/u/987145?v=4","gravatar_id":"","url":"https://api.github.com/users/dnicolodi","html_url":"https://github.com/dnicolodi","followers_url":"https://api.github.com/users/dnicolodi/followers","following_url":"https://api.github.com/users/dnicolodi/following{/other_user}","gists_url":"https://api.github.com/users/dnicolodi/gists{/gist_id}","starred_url":"https://api.github.com/users/dnicolodi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dnicolodi/subscriptions","organizations_url":"https://api.github.com/users/dnicolodi/orgs","repos_url":"https://api.github.com/users/dnicolodi/repos","events_url":"https://api.github.com/users/dnicolodi/events{/privacy}","received_events_url":"https://api.github.com/users/dnicolodi/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":0,"created_at":"2023-09-30T10:12:39Z","updated_at":"2025-02-01T20:26:54Z","closed_at":"2025-02-01T20:26:54Z","author_association":"COLLABORATOR","type":null,"active_lock_reason":null,"draft":false,"pull_request":{"url":"https://api.github.com/repos/beancount/beanquery/pulls/153","html_url":"https://github.com/beancount/beanquery/pull/153","diff_url":"https://github.com/beancount/beanquery/pull/153.diff","patch_url":"https://github.com/beancount/beanquery/pull/153.patch","merged_at":"2025-02-01T20:26:54Z"},"body":null,"closed_by":{"login":"dnicolodi","id":987145,"node_id":"MDQ6VXNlcjk4NzE0NQ==","avatar_url":"https://avatars.githubusercontent.com/u/987145?v=4","gravatar_id":"","url":"https://api.github.com/users/dnicolodi","html_url":"https://github.com/dnicolodi","followers_url":"https://api.github.com/users/dnicolodi/followers","following_url":"https://api.github.com/users/dnicolodi/following{/other_user}","gists_url":"https://api.github.com/users/dnicolodi/gists{/gist_id}","starred_url":"https://api.github.com/users/dnicolodi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dnicolodi/subscriptions","organizations_url":"https://api.github.com/users/dnicolodi/orgs","repos_url":"https://api.github.com/users/dnicolodi/repos","events_url":"https://api.github.com/users/dnicolodi/events{/privacy}","received_events_url":"https://api.github.com/users/dnicolodi/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/beancount/beanquery/issues/153/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beanquery/issues/153/timeline","performed_via_github_app":null,"state_reason":null},{"url":"https://api.github.com/repos/beancount/beanquery/issues/152","repository_url":"https://api.github.com/repos/beancount/beanquery","labels_url":"https://api.github.com/repos/beancount/beanquery/issues/152/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beanquery/issues/152/comments","events_url":"https://api.github.com/repos/beancount/beanquery/issues/152/events","html_url":"https://github.com/beancount/beanquery/issues/152","id":1900553853,"node_id":"I_kwDOFUEJF85xSCZ9","number":152,"title":"Deprecate and remove one argument version of `PARSE_DATE()` ","user":{"login":"dnicolodi","id":987145,"node_id":"MDQ6VXNlcjk4NzE0NQ==","avatar_url":"https://avatars.githubusercontent.com/u/987145?v=4","gravatar_id":"","url":"https://api.github.com/users/dnicolodi","html_url":"https://github.com/dnicolodi","followers_url":"https://api.github.com/users/dnicolodi/followers","following_url":"https://api.github.com/users/dnicolodi/following{/other_user}","gists_url":"https://api.github.com/users/dnicolodi/gists{/gist_id}","starred_url":"https://api.github.com/users/dnicolodi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dnicolodi/subscriptions","organizations_url":"https://api.github.com/users/dnicolodi/orgs","repos_url":"https://api.github.com/users/dnicolodi/repos","events_url":"https://api.github.com/users/dnicolodi/events{/privacy}","received_events_url":"https://api.github.com/users/dnicolodi/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"open","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":0,"created_at":"2023-09-18T09:43:52Z","updated_at":"2023-09-18T09:43:52Z","closed_at":null,"author_association":"COLLABORATOR","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"parent_issue_url":"https://api.github.com/repos/beancount/beanquery/issues/239","issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"The one argument form of the `parse_date()` BQL function that tries to guess the date format does not seem a great idea as the format used for the conversion depends on the input string, thus it could interpret different rows differently. It should be deprecated and eventually removed.","closed_by":null,"reactions":{"url":"https://api.github.com/repos/beancount/beanquery/issues/152/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beanquery/issues/152/timeline","performed_via_github_app":null,"state_reason":null},{"url":"https://api.github.com/repos/beancount/beanquery/issues/151","repository_url":"https://api.github.com/repos/beancount/beanquery","labels_url":"https://api.github.com/repos/beancount/beanquery/issues/151/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beanquery/issues/151/comments","events_url":"https://api.github.com/repos/beancount/beanquery/issues/151/events","html_url":"https://github.com/beancount/beanquery/pull/151","id":1900280590,"node_id":"PR_kwDOFUEJF85aiNH7","number":151,"title":"Use dateutil.parser directly","user":{"login":"dnicolodi","id":987145,"node_id":"MDQ6VXNlcjk4NzE0NQ==","avatar_url":"https://avatars.githubusercontent.com/u/987145?v=4","gravatar_id":"","url":"https://api.github.com/users/dnicolodi","html_url":"https://github.com/dnicolodi","followers_url":"https://api.github.com/users/dnicolodi/followers","following_url":"https://api.github.com/users/dnicolodi/following{/other_user}","gists_url":"https://api.github.com/users/dnicolodi/gists{/gist_id}","starred_url":"https://api.github.com/users/dnicolodi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dnicolodi/subscriptions","organizations_url":"https://api.github.com/users/dnicolodi/orgs","repos_url":"https://api.github.com/users/dnicolodi/repos","events_url":"https://api.github.com/users/dnicolodi/events{/privacy}","received_events_url":"https://api.github.com/users/dnicolodi/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":0,"created_at":"2023-09-18T06:49:07Z","updated_at":"2023-09-18T09:44:04Z","closed_at":"2023-09-18T09:44:04Z","author_association":"COLLABORATOR","type":null,"active_lock_reason":null,"draft":false,"pull_request":{"url":"https://api.github.com/repos/beancount/beanquery/pulls/151","html_url":"https://github.com/beancount/beanquery/pull/151","diff_url":"https://github.com/beancount/beanquery/pull/151.diff","patch_url":"https://github.com/beancount/beanquery/pull/151.patch","merged_at":"2023-09-18T09:44:04Z"},"body":"Remove indirection via beancount.utils.date_utils. This makes the dependency on python-dateutil explicit and will allow to remove the utility code from Beancount and thus the Beancount dependency on python-dateutil.\r\n\r\nThe one argument form of the parse_date() BQL function that tries to guess the date format does not seem a great idea. In the future, it should probably be deprecated and removed.","closed_by":{"login":"dnicolodi","id":987145,"node_id":"MDQ6VXNlcjk4NzE0NQ==","avatar_url":"https://avatars.githubusercontent.com/u/987145?v=4","gravatar_id":"","url":"https://api.github.com/users/dnicolodi","html_url":"https://github.com/dnicolodi","followers_url":"https://api.github.com/users/dnicolodi/followers","following_url":"https://api.github.com/users/dnicolodi/following{/other_user}","gists_url":"https://api.github.com/users/dnicolodi/gists{/gist_id}","starred_url":"https://api.github.com/users/dnicolodi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dnicolodi/subscriptions","organizations_url":"https://api.github.com/users/dnicolodi/orgs","repos_url":"https://api.github.com/users/dnicolodi/repos","events_url":"https://api.github.com/users/dnicolodi/events{/privacy}","received_events_url":"https://api.github.com/users/dnicolodi/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/beancount/beanquery/issues/151/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beanquery/issues/151/timeline","performed_via_github_app":null,"state_reason":null},{"url":"https://api.github.com/repos/beancount/beanquery/issues/150","repository_url":"https://api.github.com/repos/beancount/beanquery","labels_url":"https://api.github.com/repos/beancount/beanquery/issues/150/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beanquery/issues/150/comments","events_url":"https://api.github.com/repos/beancount/beanquery/issues/150/events","html_url":"https://github.com/beancount/beanquery/issues/150","id":1892602115,"node_id":"I_kwDOFUEJF85wztED","number":150,"title":"bean-query returns an improper balance if date >= is specified","user":{"login":"AlphaJack","id":19962243,"node_id":"MDQ6VXNlcjE5OTYyMjQz","avatar_url":"https://avatars.githubusercontent.com/u/19962243?v=4","gravatar_id":"","url":"https://api.github.com/users/AlphaJack","html_url":"https://github.com/AlphaJack","followers_url":"https://api.github.com/users/AlphaJack/followers","following_url":"https://api.github.com/users/AlphaJack/following{/other_user}","gists_url":"https://api.github.com/users/AlphaJack/gists{/gist_id}","starred_url":"https://api.github.com/users/AlphaJack/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/AlphaJack/subscriptions","organizations_url":"https://api.github.com/users/AlphaJack/orgs","repos_url":"https://api.github.com/users/AlphaJack/repos","events_url":"https://api.github.com/users/AlphaJack/events{/privacy}","received_events_url":"https://api.github.com/users/AlphaJack/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":4004667454,"node_id":"LA_kwDOFUEJF87usmA-","url":"https://api.github.com/repos/beancount/beanquery/labels/not%20a%20bug","name":"not a bug","color":"FFFFFF","default":false,"description":"Works as intended"}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":5,"created_at":"2023-09-12T12:59:28Z","updated_at":"2023-09-14T21:04:10Z","closed_at":"2023-09-14T21:04:10Z","author_association":"NONE","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"I noticed that bean-query returns a different \"balance\" for the first entry of a query if `date >=` is specified.\r\nIt does not take into account the balance of the previous period (since it is excluded from the query), and uses the change of the first period as balance.\r\nThis impacts all other entries, as subsequent balances are calculated from the first one.\r\n\r\n## Setup\r\n\r\n```bash\r\nbean-example --date-begin 2020-01-01 --date-end 2022-12-31 --seed 0 > example.beancount\r\n\r\n# wrong result for all the entries\r\nbean-query --numberify --format csv \"example.beancount\" \"select balance,date where account ~ '^Assets:US:BofA:Checking' and date >= 2021-01-01 and date <= 2021-12-31;\"\r\n\r\n# right result for 2021-01-01\r\nbean-query --numberify --format csv \"example.beancount\" \"select balance,date where account ~ '^Assets:US:BofA:Checking' and date <= 2021-12-31;\" | grep 2021\r\n\r\n# right result for 2021-01-01\r\nbean-query --numberify --format csv \"example.beancount\" \"select balance,date where account ~ '^Assets:US:BofA:Checking';\" | grep 2021\r\n\r\n# right result for 2021-01-01\r\nfava example.beancount &\r\nfirefox http://127.0.0.1:5000/example-beancount-file/account/Assets:US:BofA:Checking/?time=2021\r\n```\r\n\r\n## Results\r\n\r\nbean-query with start date and end date (wrong)\r\n```csv\r\n-4.00,2021-01-04\r\n```\r\n\r\nbean-query without start date, with end date + grep (right)\r\n```csv\r\n8136.87,2021-01-04\r\n```\r\n\r\nbean-query without start date or end date + grep (right)\r\n```csv\r\n8136.87,2021-01-04\r\n```\r\n\r\nFava with year (right)\r\n| Date      | F | Payee/Narration              | Position | Price | Cost | Change    | Balance     |\r\n| --------- | - | ---------------------------- | -------- | ----- | ---- | --------- | ----------- |\r\n|2021-01-04 | * | BANK FEES - Monthly bank fee |          |       |      | -4.00 USD | 8136.87 USD |","closed_by":{"login":"dnicolodi","id":987145,"node_id":"MDQ6VXNlcjk4NzE0NQ==","avatar_url":"https://avatars.githubusercontent.com/u/987145?v=4","gravatar_id":"","url":"https://api.github.com/users/dnicolodi","html_url":"https://github.com/dnicolodi","followers_url":"https://api.github.com/users/dnicolodi/followers","following_url":"https://api.github.com/users/dnicolodi/following{/other_user}","gists_url":"https://api.github.com/users/dnicolodi/gists{/gist_id}","starred_url":"https://api.github.com/users/dnicolodi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dnicolodi/subscriptions","organizations_url":"https://api.github.com/users/dnicolodi/orgs","repos_url":"https://api.github.com/users/dnicolodi/repos","events_url":"https://api.github.com/users/dnicolodi/events{/privacy}","received_events_url":"https://api.github.com/users/dnicolodi/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/beancount/beanquery/issues/150/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beanquery/issues/150/timeline","performed_via_github_app":null,"state_reason":"not_planned"},{"url":"https://api.github.com/repos/beancount/beanquery/issues/149","repository_url":"https://api.github.com/repos/beancount/beanquery","labels_url":"https://api.github.com/repos/beancount/beanquery/issues/149/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beanquery/issues/149/comments","events_url":"https://api.github.com/repos/beancount/beanquery/issues/149/events","html_url":"https://github.com/beancount/beanquery/pull/149","id":1877604888,"node_id":"PR_kwDOFUEJF85ZWVfs","number":149,"title":"Fixlets","user":{"login":"dnicolodi","id":987145,"node_id":"MDQ6VXNlcjk4NzE0NQ==","avatar_url":"https://avatars.githubusercontent.com/u/987145?v=4","gravatar_id":"","url":"https://api.github.com/users/dnicolodi","html_url":"https://github.com/dnicolodi","followers_url":"https://api.github.com/users/dnicolodi/followers","following_url":"https://api.github.com/users/dnicolodi/following{/other_user}","gists_url":"https://api.github.com/users/dnicolodi/gists{/gist_id}","starred_url":"https://api.github.com/users/dnicolodi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dnicolodi/subscriptions","organizations_url":"https://api.github.com/users/dnicolodi/orgs","repos_url":"https://api.github.com/users/dnicolodi/repos","events_url":"https://api.github.com/users/dnicolodi/events{/privacy}","received_events_url":"https://api.github.com/users/dnicolodi/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":0,"created_at":"2023-09-01T15:12:00Z","updated_at":"2023-09-01T15:32:32Z","closed_at":"2023-09-01T15:32:32Z","author_association":"COLLABORATOR","type":null,"active_lock_reason":null,"draft":false,"pull_request":{"url":"https://api.github.com/repos/beancount/beanquery/pulls/149","html_url":"https://github.com/beancount/beanquery/pull/149","diff_url":"https://github.com/beancount/beanquery/pull/149.diff","patch_url":"https://github.com/beancount/beanquery/pull/149.patch","merged_at":"2023-09-01T15:32:32Z"},"body":null,"closed_by":{"login":"dnicolodi","id":987145,"node_id":"MDQ6VXNlcjk4NzE0NQ==","avatar_url":"https://avatars.githubusercontent.com/u/987145?v=4","gravatar_id":"","url":"https://api.github.com/users/dnicolodi","html_url":"https://github.com/dnicolodi","followers_url":"https://api.github.com/users/dnicolodi/followers","following_url":"https://api.github.com/users/dnicolodi/following{/other_user}","gists_url":"https://api.github.com/users/dnicolodi/gists{/gist_id}","starred_url":"https://api.github.com/users/dnicolodi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dnicolodi/subscriptions","organizations_url":"https://api.github.com/users/dnicolodi/orgs","repos_url":"https://api.github.com/users/dnicolodi/repos","events_url":"https://api.github.com/users/dnicolodi/events{/privacy}","received_events_url":"https://api.github.com/users/dnicolodi/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/beancount/beanquery/issues/149/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beanquery/issues/149/timeline","performed_via_github_app":null,"state_reason":null},{"url":"https://api.github.com/repos/beancount/beanquery/issues/148","repository_url":"https://api.github.com/repos/beancount/beanquery","labels_url":"https://api.github.com/repos/beancount/beanquery/issues/148/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beanquery/issues/148/comments","events_url":"https://api.github.com/repos/beancount/beanquery/issues/148/events","html_url":"https://github.com/beancount/beanquery/pull/148","id":1872378425,"node_id":"PR_kwDOFUEJF85ZElAt","number":148,"title":"shell: Restructure and add \".\" prefix to all shell commands","user":{"login":"dnicolodi","id":987145,"node_id":"MDQ6VXNlcjk4NzE0NQ==","avatar_url":"https://avatars.githubusercontent.com/u/987145?v=4","gravatar_id":"","url":"https://api.github.com/users/dnicolodi","html_url":"https://github.com/dnicolodi","followers_url":"https://api.github.com/users/dnicolodi/followers","following_url":"https://api.github.com/users/dnicolodi/following{/other_user}","gists_url":"https://api.github.com/users/dnicolodi/gists{/gist_id}","starred_url":"https://api.github.com/users/dnicolodi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dnicolodi/subscriptions","organizations_url":"https://api.github.com/users/dnicolodi/orgs","repos_url":"https://api.github.com/users/dnicolodi/repos","events_url":"https://api.github.com/users/dnicolodi/events{/privacy}","received_events_url":"https://api.github.com/users/dnicolodi/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":0,"created_at":"2023-08-29T20:23:51Z","updated_at":"2023-09-01T08:37:35Z","closed_at":"2023-09-01T08:37:34Z","author_association":"COLLABORATOR","type":null,"active_lock_reason":null,"draft":false,"pull_request":{"url":"https://api.github.com/repos/beancount/beanquery/pulls/148","html_url":"https://github.com/beancount/beanquery/pull/148","diff_url":"https://github.com/beancount/beanquery/pull/148.diff","patch_url":"https://github.com/beancount/beanquery/pull/148.patch","merged_at":"2023-09-01T08:37:34Z"},"body":null,"closed_by":{"login":"dnicolodi","id":987145,"node_id":"MDQ6VXNlcjk4NzE0NQ==","avatar_url":"https://avatars.githubusercontent.com/u/987145?v=4","gravatar_id":"","url":"https://api.github.com/users/dnicolodi","html_url":"https://github.com/dnicolodi","followers_url":"https://api.github.com/users/dnicolodi/followers","following_url":"https://api.github.com/users/dnicolodi/following{/other_user}","gists_url":"https://api.github.com/users/dnicolodi/gists{/gist_id}","starred_url":"https://api.github.com/users/dnicolodi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dnicolodi/subscriptions","organizations_url":"https://api.github.com/users/dnicolodi/orgs","repos_url":"https://api.github.com/users/dnicolodi/repos","events_url":"https://api.github.com/users/dnicolodi/events{/privacy}","received_events_url":"https://api.github.com/users/dnicolodi/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/beancount/beanquery/issues/148/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beanquery/issues/148/timeline","performed_via_github_app":null,"state_reason":null},{"url":"https://api.github.com/repos/beancount/beanquery/issues/147","repository_url":"https://api.github.com/repos/beancount/beanquery","labels_url":"https://api.github.com/repos/beancount/beanquery/issues/147/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beanquery/issues/147/comments","events_url":"https://api.github.com/repos/beancount/beanquery/issues/147/events","html_url":"https://github.com/beancount/beanquery/pull/147","id":1868113613,"node_id":"PR_kwDOFUEJF85Y2ctE","number":147,"title":"parser, compiler, cursor: Implement handling of query parameters","user":{"login":"dnicolodi","id":987145,"node_id":"MDQ6VXNlcjk4NzE0NQ==","avatar_url":"https://avatars.githubusercontent.com/u/987145?v=4","gravatar_id":"","url":"https://api.github.com/users/dnicolodi","html_url":"https://github.com/dnicolodi","followers_url":"https://api.github.com/users/dnicolodi/followers","following_url":"https://api.github.com/users/dnicolodi/following{/other_user}","gists_url":"https://api.github.com/users/dnicolodi/gists{/gist_id}","starred_url":"https://api.github.com/users/dnicolodi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dnicolodi/subscriptions","organizations_url":"https://api.github.com/users/dnicolodi/orgs","repos_url":"https://api.github.com/users/dnicolodi/repos","events_url":"https://api.github.com/users/dnicolodi/events{/privacy}","received_events_url":"https://api.github.com/users/dnicolodi/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":0,"created_at":"2023-08-26T14:19:36Z","updated_at":"2023-08-26T19:18:31Z","closed_at":"2023-08-26T19:18:31Z","author_association":"COLLABORATOR","type":null,"active_lock_reason":null,"draft":false,"pull_request":{"url":"https://api.github.com/repos/beancount/beanquery/pulls/147","html_url":"https://github.com/beancount/beanquery/pull/147","diff_url":"https://github.com/beancount/beanquery/pull/147.diff","patch_url":"https://github.com/beancount/beanquery/pull/147.patch","merged_at":"2023-08-26T19:18:31Z"},"body":"Further steps toward DB-API 2.0 compliance. Allow binding query parameters to \"%s\" positional or \"%(name)s\" named placeholders.\r\n\r\nThe parameters are injected as constants nodes into the query execution tree at compile time, thus no escaping (or even the definition of a string representation) for parameters is required.","closed_by":{"login":"dnicolodi","id":987145,"node_id":"MDQ6VXNlcjk4NzE0NQ==","avatar_url":"https://avatars.githubusercontent.com/u/987145?v=4","gravatar_id":"","url":"https://api.github.com/users/dnicolodi","html_url":"https://github.com/dnicolodi","followers_url":"https://api.github.com/users/dnicolodi/followers","following_url":"https://api.github.com/users/dnicolodi/following{/other_user}","gists_url":"https://api.github.com/users/dnicolodi/gists{/gist_id}","starred_url":"https://api.github.com/users/dnicolodi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dnicolodi/subscriptions","organizations_url":"https://api.github.com/users/dnicolodi/orgs","repos_url":"https://api.github.com/users/dnicolodi/repos","events_url":"https://api.github.com/users/dnicolodi/events{/privacy}","received_events_url":"https://api.github.com/users/dnicolodi/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/beancount/beanquery/issues/147/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beanquery/issues/147/timeline","performed_via_github_app":null,"state_reason":null},{"url":"https://api.github.com/repos/beancount/beanquery/issues/146","repository_url":"https://api.github.com/repos/beancount/beanquery","labels_url":"https://api.github.com/repos/beancount/beanquery/issues/146/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beanquery/issues/146/comments","events_url":"https://api.github.com/repos/beancount/beanquery/issues/146/events","html_url":"https://github.com/beancount/beanquery/pull/146","id":1857731037,"node_id":"PR_kwDOFUEJF85YTWuf","number":146,"title":"compiler: Reorganize","user":{"login":"dnicolodi","id":987145,"node_id":"MDQ6VXNlcjk4NzE0NQ==","avatar_url":"https://avatars.githubusercontent.com/u/987145?v=4","gravatar_id":"","url":"https://api.github.com/users/dnicolodi","html_url":"https://github.com/dnicolodi","followers_url":"https://api.github.com/users/dnicolodi/followers","following_url":"https://api.github.com/users/dnicolodi/following{/other_user}","gists_url":"https://api.github.com/users/dnicolodi/gists{/gist_id}","starred_url":"https://api.github.com/users/dnicolodi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dnicolodi/subscriptions","organizations_url":"https://api.github.com/users/dnicolodi/orgs","repos_url":"https://api.github.com/users/dnicolodi/repos","events_url":"https://api.github.com/users/dnicolodi/events{/privacy}","received_events_url":"https://api.github.com/users/dnicolodi/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":0,"created_at":"2023-08-19T14:05:07Z","updated_at":"2023-08-26T14:10:59Z","closed_at":"2023-08-26T14:10:59Z","author_association":"COLLABORATOR","type":null,"active_lock_reason":null,"draft":false,"pull_request":{"url":"https://api.github.com/repos/beancount/beanquery/pulls/146","html_url":"https://github.com/beancount/beanquery/pull/146","diff_url":"https://github.com/beancount/beanquery/pull/146.diff","patch_url":"https://github.com/beancount/beanquery/pull/146.patch","merged_at":"2023-08-26T14:10:58Z"},"body":"Move compilation to methods of the Compiler class. This allows to more easily pass query compilation status between different functions. Only code reorganization, no intended functional changes.","closed_by":{"login":"dnicolodi","id":987145,"node_id":"MDQ6VXNlcjk4NzE0NQ==","avatar_url":"https://avatars.githubusercontent.com/u/987145?v=4","gravatar_id":"","url":"https://api.github.com/users/dnicolodi","html_url":"https://github.com/dnicolodi","followers_url":"https://api.github.com/users/dnicolodi/followers","following_url":"https://api.github.com/users/dnicolodi/following{/other_user}","gists_url":"https://api.github.com/users/dnicolodi/gists{/gist_id}","starred_url":"https://api.github.com/users/dnicolodi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dnicolodi/subscriptions","organizations_url":"https://api.github.com/users/dnicolodi/orgs","repos_url":"https://api.github.com/users/dnicolodi/repos","events_url":"https://api.github.com/users/dnicolodi/events{/privacy}","received_events_url":"https://api.github.com/users/dnicolodi/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/beancount/beanquery/issues/146/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beanquery/issues/146/timeline","performed_via_github_app":null,"state_reason":null},{"url":"https://api.github.com/repos/beancount/beanquery/issues/145","repository_url":"https://api.github.com/repos/beancount/beanquery","labels_url":"https://api.github.com/repos/beancount/beanquery/issues/145/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beanquery/issues/145/comments","events_url":"https://api.github.com/repos/beancount/beanquery/issues/145/events","html_url":"https://github.com/beancount/beanquery/pull/145","id":1857203976,"node_id":"PR_kwDOFUEJF85YRm0p","number":145,"title":"Add BETWEEN and !~ operators","user":{"login":"dnicolodi","id":987145,"node_id":"MDQ6VXNlcjk4NzE0NQ==","avatar_url":"https://avatars.githubusercontent.com/u/987145?v=4","gravatar_id":"","url":"https://api.github.com/users/dnicolodi","html_url":"https://github.com/dnicolodi","followers_url":"https://api.github.com/users/dnicolodi/followers","following_url":"https://api.github.com/users/dnicolodi/following{/other_user}","gists_url":"https://api.github.com/users/dnicolodi/gists{/gist_id}","starred_url":"https://api.github.com/users/dnicolodi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dnicolodi/subscriptions","organizations_url":"https://api.github.com/users/dnicolodi/orgs","repos_url":"https://api.github.com/users/dnicolodi/repos","events_url":"https://api.github.com/users/dnicolodi/events{/privacy}","received_events_url":"https://api.github.com/users/dnicolodi/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":0,"created_at":"2023-08-18T19:38:18Z","updated_at":"2023-08-18T20:52:00Z","closed_at":"2023-08-18T20:52:00Z","author_association":"COLLABORATOR","type":null,"active_lock_reason":null,"draft":false,"pull_request":{"url":"https://api.github.com/repos/beancount/beanquery/pulls/145","html_url":"https://github.com/beancount/beanquery/pull/145","diff_url":"https://github.com/beancount/beanquery/pull/145.diff","patch_url":"https://github.com/beancount/beanquery/pull/145.patch","merged_at":"2023-08-18T20:52:00Z"},"body":null,"closed_by":{"login":"dnicolodi","id":987145,"node_id":"MDQ6VXNlcjk4NzE0NQ==","avatar_url":"https://avatars.githubusercontent.com/u/987145?v=4","gravatar_id":"","url":"https://api.github.com/users/dnicolodi","html_url":"https://github.com/dnicolodi","followers_url":"https://api.github.com/users/dnicolodi/followers","following_url":"https://api.github.com/users/dnicolodi/following{/other_user}","gists_url":"https://api.github.com/users/dnicolodi/gists{/gist_id}","starred_url":"https://api.github.com/users/dnicolodi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dnicolodi/subscriptions","organizations_url":"https://api.github.com/users/dnicolodi/orgs","repos_url":"https://api.github.com/users/dnicolodi/repos","events_url":"https://api.github.com/users/dnicolodi/events{/privacy}","received_events_url":"https://api.github.com/users/dnicolodi/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/beancount/beanquery/issues/145/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beanquery/issues/145/timeline","performed_via_github_app":null,"state_reason":null},{"url":"https://api.github.com/repos/beancount/beanquery/issues/144","repository_url":"https://api.github.com/repos/beancount/beanquery","labels_url":"https://api.github.com/repos/beancount/beanquery/issues/144/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beanquery/issues/144/comments","events_url":"https://api.github.com/repos/beancount/beanquery/issues/144/events","html_url":"https://github.com/beancount/beanquery/pull/144","id":1852722444,"node_id":"PR_kwDOFUEJF85YCYiL","number":144,"title":"Fix meta() and any_meta() functions for postings on pad transactions","user":{"login":"dnicolodi","id":987145,"node_id":"MDQ6VXNlcjk4NzE0NQ==","avatar_url":"https://avatars.githubusercontent.com/u/987145?v=4","gravatar_id":"","url":"https://api.github.com/users/dnicolodi","html_url":"https://github.com/dnicolodi","followers_url":"https://api.github.com/users/dnicolodi/followers","following_url":"https://api.github.com/users/dnicolodi/following{/other_user}","gists_url":"https://api.github.com/users/dnicolodi/gists{/gist_id}","starred_url":"https://api.github.com/users/dnicolodi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dnicolodi/subscriptions","organizations_url":"https://api.github.com/users/dnicolodi/orgs","repos_url":"https://api.github.com/users/dnicolodi/repos","events_url":"https://api.github.com/users/dnicolodi/events{/privacy}","received_events_url":"https://api.github.com/users/dnicolodi/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":0,"created_at":"2023-08-16T08:03:56Z","updated_at":"2023-08-16T08:07:51Z","closed_at":"2023-08-16T08:07:51Z","author_association":"COLLABORATOR","type":null,"active_lock_reason":null,"draft":false,"pull_request":{"url":"https://api.github.com/repos/beancount/beanquery/pulls/144","html_url":"https://github.com/beancount/beanquery/pull/144","diff_url":"https://github.com/beancount/beanquery/pull/144.diff","patch_url":"https://github.com/beancount/beanquery/pull/144.patch","merged_at":"2023-08-16T08:07:51Z"},"body":"These functions need to handle the meta field to be None because transactions inserted by Beancount for pad directives have postings which the meta field set to None instead than to an empty dictionary.\r\n\r\nSee https://github.com/beancount/beancount/issues/767.","closed_by":{"login":"dnicolodi","id":987145,"node_id":"MDQ6VXNlcjk4NzE0NQ==","avatar_url":"https://avatars.githubusercontent.com/u/987145?v=4","gravatar_id":"","url":"https://api.github.com/users/dnicolodi","html_url":"https://github.com/dnicolodi","followers_url":"https://api.github.com/users/dnicolodi/followers","following_url":"https://api.github.com/users/dnicolodi/following{/other_user}","gists_url":"https://api.github.com/users/dnicolodi/gists{/gist_id}","starred_url":"https://api.github.com/users/dnicolodi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dnicolodi/subscriptions","organizations_url":"https://api.github.com/users/dnicolodi/orgs","repos_url":"https://api.github.com/users/dnicolodi/repos","events_url":"https://api.github.com/users/dnicolodi/events{/privacy}","received_events_url":"https://api.github.com/users/dnicolodi/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/beancount/beanquery/issues/144/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beanquery/issues/144/timeline","performed_via_github_app":null,"state_reason":null},{"url":"https://api.github.com/repos/beancount/beanquery/issues/143","repository_url":"https://api.github.com/repos/beancount/beanquery","labels_url":"https://api.github.com/repos/beancount/beanquery/issues/143/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beanquery/issues/143/comments","events_url":"https://api.github.com/repos/beancount/beanquery/issues/143/events","html_url":"https://github.com/beancount/beanquery/pull/143","id":1849967345,"node_id":"PR_kwDOFUEJF85X5IIV","number":143,"title":"beancount: Define more structured types","user":{"login":"dnicolodi","id":987145,"node_id":"MDQ6VXNlcjk4NzE0NQ==","avatar_url":"https://avatars.githubusercontent.com/u/987145?v=4","gravatar_id":"","url":"https://api.github.com/users/dnicolodi","html_url":"https://github.com/dnicolodi","followers_url":"https://api.github.com/users/dnicolodi/followers","following_url":"https://api.github.com/users/dnicolodi/following{/other_user}","gists_url":"https://api.github.com/users/dnicolodi/gists{/gist_id}","starred_url":"https://api.github.com/users/dnicolodi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dnicolodi/subscriptions","organizations_url":"https://api.github.com/users/dnicolodi/orgs","repos_url":"https://api.github.com/users/dnicolodi/repos","events_url":"https://api.github.com/users/dnicolodi/events{/privacy}","received_events_url":"https://api.github.com/users/dnicolodi/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":0,"created_at":"2023-08-14T15:00:25Z","updated_at":"2023-08-14T23:29:19Z","closed_at":"2023-08-14T23:29:18Z","author_association":"COLLABORATOR","type":null,"active_lock_reason":null,"draft":false,"pull_request":{"url":"https://api.github.com/repos/beancount/beanquery/pulls/143","html_url":"https://github.com/beancount/beanquery/pull/143","diff_url":"https://github.com/beancount/beanquery/pull/143.diff","patch_url":"https://github.com/beancount/beanquery/pull/143.patch","merged_at":"2023-08-14T23:29:18Z"},"body":"These will eventually replace the functions now used to access the fields of the beancount objects.","closed_by":{"login":"dnicolodi","id":987145,"node_id":"MDQ6VXNlcjk4NzE0NQ==","avatar_url":"https://avatars.githubusercontent.com/u/987145?v=4","gravatar_id":"","url":"https://api.github.com/users/dnicolodi","html_url":"https://github.com/dnicolodi","followers_url":"https://api.github.com/users/dnicolodi/followers","following_url":"https://api.github.com/users/dnicolodi/following{/other_user}","gists_url":"https://api.github.com/users/dnicolodi/gists{/gist_id}","starred_url":"https://api.github.com/users/dnicolodi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dnicolodi/subscriptions","organizations_url":"https://api.github.com/users/dnicolodi/orgs","repos_url":"https://api.github.com/users/dnicolodi/repos","events_url":"https://api.github.com/users/dnicolodi/events{/privacy}","received_events_url":"https://api.github.com/users/dnicolodi/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/beancount/beanquery/issues/143/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beanquery/issues/143/timeline","performed_via_github_app":null,"state_reason":null},{"url":"https://api.github.com/repos/beancount/beanquery/issues/142","repository_url":"https://api.github.com/repos/beancount/beanquery","labels_url":"https://api.github.com/repos/beancount/beanquery/issues/142/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beanquery/issues/142/comments","events_url":"https://api.github.com/repos/beancount/beanquery/issues/142/events","html_url":"https://github.com/beancount/beanquery/pull/142","id":1848193451,"node_id":"PR_kwDOFUEJF85XzLaE","number":142,"title":"Implement most of the DB-API 2.0 specification","user":{"login":"dnicolodi","id":987145,"node_id":"MDQ6VXNlcjk4NzE0NQ==","avatar_url":"https://avatars.githubusercontent.com/u/987145?v=4","gravatar_id":"","url":"https://api.github.com/users/dnicolodi","html_url":"https://github.com/dnicolodi","followers_url":"https://api.github.com/users/dnicolodi/followers","following_url":"https://api.github.com/users/dnicolodi/following{/other_user}","gists_url":"https://api.github.com/users/dnicolodi/gists{/gist_id}","starred_url":"https://api.github.com/users/dnicolodi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dnicolodi/subscriptions","organizations_url":"https://api.github.com/users/dnicolodi/orgs","repos_url":"https://api.github.com/users/dnicolodi/repos","events_url":"https://api.github.com/users/dnicolodi/events{/privacy}","received_events_url":"https://api.github.com/users/dnicolodi/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":0,"created_at":"2023-08-12T19:17:50Z","updated_at":"2023-08-14T06:56:17Z","closed_at":"2023-08-14T06:56:16Z","author_association":"COLLABORATOR","type":null,"active_lock_reason":null,"draft":false,"pull_request":{"url":"https://api.github.com/repos/beancount/beanquery/pulls/142","html_url":"https://github.com/beancount/beanquery/pull/142","diff_url":"https://github.com/beancount/beanquery/pull/142.diff","patch_url":"https://github.com/beancount/beanquery/pull/142.patch","merged_at":"2023-08-14T06:56:16Z"},"body":"Implement relevant aspects of the DB-API 2.0 specification.\r\n\r\nhttps://peps.python.org/pep-0249/\r\n\r\nThe PEP does not provide a strict specification for some aspects of the API. The under-specified aspects are modeled after the sqlite3 and psycopg implementations.","closed_by":{"login":"dnicolodi","id":987145,"node_id":"MDQ6VXNlcjk4NzE0NQ==","avatar_url":"https://avatars.githubusercontent.com/u/987145?v=4","gravatar_id":"","url":"https://api.github.com/users/dnicolodi","html_url":"https://github.com/dnicolodi","followers_url":"https://api.github.com/users/dnicolodi/followers","following_url":"https://api.github.com/users/dnicolodi/following{/other_user}","gists_url":"https://api.github.com/users/dnicolodi/gists{/gist_id}","starred_url":"https://api.github.com/users/dnicolodi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dnicolodi/subscriptions","organizations_url":"https://api.github.com/users/dnicolodi/orgs","repos_url":"https://api.github.com/users/dnicolodi/repos","events_url":"https://api.github.com/users/dnicolodi/events{/privacy}","received_events_url":"https://api.github.com/users/dnicolodi/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/beancount/beanquery/issues/142/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beanquery/issues/142/timeline","performed_via_github_app":null,"state_reason":null},{"url":"https://api.github.com/repos/beancount/beanquery/issues/141","repository_url":"https://api.github.com/repos/beancount/beanquery","labels_url":"https://api.github.com/repos/beancount/beanquery/issues/141/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beanquery/issues/141/comments","events_url":"https://api.github.com/repos/beancount/beanquery/issues/141/events","html_url":"https://github.com/beancount/beanquery/pull/141","id":1843909617,"node_id":"PR_kwDOFUEJF85Xklft","number":141,"title":"Implement more structured types","user":{"login":"dnicolodi","id":987145,"node_id":"MDQ6VXNlcjk4NzE0NQ==","avatar_url":"https://avatars.githubusercontent.com/u/987145?v=4","gravatar_id":"","url":"https://api.github.com/users/dnicolodi","html_url":"https://github.com/dnicolodi","followers_url":"https://api.github.com/users/dnicolodi/followers","following_url":"https://api.github.com/users/dnicolodi/following{/other_user}","gists_url":"https://api.github.com/users/dnicolodi/gists{/gist_id}","starred_url":"https://api.github.com/users/dnicolodi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dnicolodi/subscriptions","organizations_url":"https://api.github.com/users/dnicolodi/orgs","repos_url":"https://api.github.com/users/dnicolodi/repos","events_url":"https://api.github.com/users/dnicolodi/events{/privacy}","received_events_url":"https://api.github.com/users/dnicolodi/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":0,"created_at":"2023-08-09T19:50:49Z","updated_at":"2023-08-14T23:29:58Z","closed_at":"2023-08-14T23:29:58Z","author_association":"COLLABORATOR","type":null,"active_lock_reason":null,"draft":false,"pull_request":{"url":"https://api.github.com/repos/beancount/beanquery/pulls/141","html_url":"https://github.com/beancount/beanquery/pull/141","diff_url":"https://github.com/beancount/beanquery/pull/141.diff","patch_url":"https://github.com/beancount/beanquery/pull/141.patch","merged_at":null},"body":null,"closed_by":{"login":"dnicolodi","id":987145,"node_id":"MDQ6VXNlcjk4NzE0NQ==","avatar_url":"https://avatars.githubusercontent.com/u/987145?v=4","gravatar_id":"","url":"https://api.github.com/users/dnicolodi","html_url":"https://github.com/dnicolodi","followers_url":"https://api.github.com/users/dnicolodi/followers","following_url":"https://api.github.com/users/dnicolodi/following{/other_user}","gists_url":"https://api.github.com/users/dnicolodi/gists{/gist_id}","starred_url":"https://api.github.com/users/dnicolodi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dnicolodi/subscriptions","organizations_url":"https://api.github.com/users/dnicolodi/orgs","repos_url":"https://api.github.com/users/dnicolodi/repos","events_url":"https://api.github.com/users/dnicolodi/events{/privacy}","received_events_url":"https://api.github.com/users/dnicolodi/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/beancount/beanquery/issues/141/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beanquery/issues/141/timeline","performed_via_github_app":null,"state_reason":null},{"url":"https://api.github.com/repos/beancount/beanquery/issues/140","repository_url":"https://api.github.com/repos/beancount/beanquery","labels_url":"https://api.github.com/repos/beancount/beanquery/issues/140/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beanquery/issues/140/comments","events_url":"https://api.github.com/repos/beancount/beanquery/issues/140/events","html_url":"https://github.com/beancount/beanquery/pull/140","id":1827884692,"node_id":"PR_kwDOFUEJF85WuxF2","number":140,"title":"Tweaks","user":{"login":"dnicolodi","id":987145,"node_id":"MDQ6VXNlcjk4NzE0NQ==","avatar_url":"https://avatars.githubusercontent.com/u/987145?v=4","gravatar_id":"","url":"https://api.github.com/users/dnicolodi","html_url":"https://github.com/dnicolodi","followers_url":"https://api.github.com/users/dnicolodi/followers","following_url":"https://api.github.com/users/dnicolodi/following{/other_user}","gists_url":"https://api.github.com/users/dnicolodi/gists{/gist_id}","starred_url":"https://api.github.com/users/dnicolodi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dnicolodi/subscriptions","organizations_url":"https://api.github.com/users/dnicolodi/orgs","repos_url":"https://api.github.com/users/dnicolodi/repos","events_url":"https://api.github.com/users/dnicolodi/events{/privacy}","received_events_url":"https://api.github.com/users/dnicolodi/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":0,"created_at":"2023-07-30T10:28:46Z","updated_at":"2023-07-30T15:13:28Z","closed_at":"2023-07-30T15:13:28Z","author_association":"COLLABORATOR","type":null,"active_lock_reason":null,"draft":false,"pull_request":{"url":"https://api.github.com/repos/beancount/beanquery/pulls/140","html_url":"https://github.com/beancount/beanquery/pull/140","diff_url":"https://github.com/beancount/beanquery/pull/140.diff","patch_url":"https://github.com/beancount/beanquery/pull/140.patch","merged_at":"2023-07-30T15:13:28Z"},"body":null,"closed_by":{"login":"dnicolodi","id":987145,"node_id":"MDQ6VXNlcjk4NzE0NQ==","avatar_url":"https://avatars.githubusercontent.com/u/987145?v=4","gravatar_id":"","url":"https://api.github.com/users/dnicolodi","html_url":"https://github.com/dnicolodi","followers_url":"https://api.github.com/users/dnicolodi/followers","following_url":"https://api.github.com/users/dnicolodi/following{/other_user}","gists_url":"https://api.github.com/users/dnicolodi/gists{/gist_id}","starred_url":"https://api.github.com/users/dnicolodi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dnicolodi/subscriptions","organizations_url":"https://api.github.com/users/dnicolodi/orgs","repos_url":"https://api.github.com/users/dnicolodi/repos","events_url":"https://api.github.com/users/dnicolodi/events{/privacy}","received_events_url":"https://api.github.com/users/dnicolodi/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/beancount/beanquery/issues/140/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beanquery/issues/140/timeline","performed_via_github_app":null,"state_reason":null},{"url":"https://api.github.com/repos/beancount/beanquery/issues/139","repository_url":"https://api.github.com/repos/beancount/beanquery","labels_url":"https://api.github.com/repos/beancount/beanquery/issues/139/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beanquery/issues/139/comments","events_url":"https://api.github.com/repos/beancount/beanquery/issues/139/events","html_url":"https://github.com/beancount/beanquery/pull/139","id":1827692679,"node_id":"PR_kwDOFUEJF85WuK9z","number":139,"title":"compile: Consistent error messages capitalization","user":{"login":"dnicolodi","id":987145,"node_id":"MDQ6VXNlcjk4NzE0NQ==","avatar_url":"https://avatars.githubusercontent.com/u/987145?v=4","gravatar_id":"","url":"https://api.github.com/users/dnicolodi","html_url":"https://github.com/dnicolodi","followers_url":"https://api.github.com/users/dnicolodi/followers","following_url":"https://api.github.com/users/dnicolodi/following{/other_user}","gists_url":"https://api.github.com/users/dnicolodi/gists{/gist_id}","starred_url":"https://api.github.com/users/dnicolodi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dnicolodi/subscriptions","organizations_url":"https://api.github.com/users/dnicolodi/orgs","repos_url":"https://api.github.com/users/dnicolodi/repos","events_url":"https://api.github.com/users/dnicolodi/events{/privacy}","received_events_url":"https://api.github.com/users/dnicolodi/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":0,"created_at":"2023-07-29T22:06:53Z","updated_at":"2023-07-29T22:10:39Z","closed_at":"2023-07-29T22:10:39Z","author_association":"COLLABORATOR","type":null,"active_lock_reason":null,"draft":false,"pull_request":{"url":"https://api.github.com/repos/beancount/beanquery/pulls/139","html_url":"https://github.com/beancount/beanquery/pull/139","diff_url":"https://github.com/beancount/beanquery/pull/139.diff","patch_url":"https://github.com/beancount/beanquery/pull/139.patch","merged_at":"2023-07-29T22:10:39Z"},"body":null,"closed_by":{"login":"dnicolodi","id":987145,"node_id":"MDQ6VXNlcjk4NzE0NQ==","avatar_url":"https://avatars.githubusercontent.com/u/987145?v=4","gravatar_id":"","url":"https://api.github.com/users/dnicolodi","html_url":"https://github.com/dnicolodi","followers_url":"https://api.github.com/users/dnicolodi/followers","following_url":"https://api.github.com/users/dnicolodi/following{/other_user}","gists_url":"https://api.github.com/users/dnicolodi/gists{/gist_id}","starred_url":"https://api.github.com/users/dnicolodi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dnicolodi/subscriptions","organizations_url":"https://api.github.com/users/dnicolodi/orgs","repos_url":"https://api.github.com/users/dnicolodi/repos","events_url":"https://api.github.com/users/dnicolodi/events{/privacy}","received_events_url":"https://api.github.com/users/dnicolodi/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/beancount/beanquery/issues/139/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beanquery/issues/139/timeline","performed_via_github_app":null,"state_reason":null},{"url":"https://api.github.com/repos/beancount/beanquery/issues/138","repository_url":"https://api.github.com/repos/beancount/beanquery","labels_url":"https://api.github.com/repos/beancount/beanquery/issues/138/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beanquery/issues/138/comments","events_url":"https://api.github.com/repos/beancount/beanquery/issues/138/events","html_url":"https://github.com/beancount/beanquery/pull/138","id":1827582258,"node_id":"PR_kwDOFUEJF85Wtyz-","number":138,"title":"shell: Sundry improvements","user":{"login":"dnicolodi","id":987145,"node_id":"MDQ6VXNlcjk4NzE0NQ==","avatar_url":"https://avatars.githubusercontent.com/u/987145?v=4","gravatar_id":"","url":"https://api.github.com/users/dnicolodi","html_url":"https://github.com/dnicolodi","followers_url":"https://api.github.com/users/dnicolodi/followers","following_url":"https://api.github.com/users/dnicolodi/following{/other_user}","gists_url":"https://api.github.com/users/dnicolodi/gists{/gist_id}","starred_url":"https://api.github.com/users/dnicolodi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dnicolodi/subscriptions","organizations_url":"https://api.github.com/users/dnicolodi/orgs","repos_url":"https://api.github.com/users/dnicolodi/repos","events_url":"https://api.github.com/users/dnicolodi/events{/privacy}","received_events_url":"https://api.github.com/users/dnicolodi/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":0,"created_at":"2023-07-29T18:16:48Z","updated_at":"2023-07-29T21:31:17Z","closed_at":"2023-07-29T21:31:17Z","author_association":"COLLABORATOR","type":null,"active_lock_reason":null,"draft":false,"pull_request":{"url":"https://api.github.com/repos/beancount/beanquery/pulls/138","html_url":"https://github.com/beancount/beanquery/pull/138","diff_url":"https://github.com/beancount/beanquery/pull/138.diff","patch_url":"https://github.com/beancount/beanquery/pull/138.patch","merged_at":"2023-07-29T21:31:17Z"},"body":null,"closed_by":{"login":"dnicolodi","id":987145,"node_id":"MDQ6VXNlcjk4NzE0NQ==","avatar_url":"https://avatars.githubusercontent.com/u/987145?v=4","gravatar_id":"","url":"https://api.github.com/users/dnicolodi","html_url":"https://github.com/dnicolodi","followers_url":"https://api.github.com/users/dnicolodi/followers","following_url":"https://api.github.com/users/dnicolodi/following{/other_user}","gists_url":"https://api.github.com/users/dnicolodi/gists{/gist_id}","starred_url":"https://api.github.com/users/dnicolodi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dnicolodi/subscriptions","organizations_url":"https://api.github.com/users/dnicolodi/orgs","repos_url":"https://api.github.com/users/dnicolodi/repos","events_url":"https://api.github.com/users/dnicolodi/events{/privacy}","received_events_url":"https://api.github.com/users/dnicolodi/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/beancount/beanquery/issues/138/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beanquery/issues/138/timeline","performed_via_github_app":null,"state_reason":null},{"url":"https://api.github.com/repos/beancount/beanquery/issues/137","repository_url":"https://api.github.com/repos/beancount/beanquery","labels_url":"https://api.github.com/repos/beancount/beanquery/issues/137/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beanquery/issues/137/comments","events_url":"https://api.github.com/repos/beancount/beanquery/issues/137/events","html_url":"https://github.com/beancount/beanquery/pull/137","id":1827505180,"node_id":"PR_kwDOFUEJF85WtjOL","number":137,"title":"Add getitem and getattr","user":{"login":"dnicolodi","id":987145,"node_id":"MDQ6VXNlcjk4NzE0NQ==","avatar_url":"https://avatars.githubusercontent.com/u/987145?v=4","gravatar_id":"","url":"https://api.github.com/users/dnicolodi","html_url":"https://github.com/dnicolodi","followers_url":"https://api.github.com/users/dnicolodi/followers","following_url":"https://api.github.com/users/dnicolodi/following{/other_user}","gists_url":"https://api.github.com/users/dnicolodi/gists{/gist_id}","starred_url":"https://api.github.com/users/dnicolodi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dnicolodi/subscriptions","organizations_url":"https://api.github.com/users/dnicolodi/orgs","repos_url":"https://api.github.com/users/dnicolodi/repos","events_url":"https://api.github.com/users/dnicolodi/events{/privacy}","received_events_url":"https://api.github.com/users/dnicolodi/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":0,"created_at":"2023-07-29T14:34:07Z","updated_at":"2023-07-29T14:43:45Z","closed_at":"2023-07-29T14:43:45Z","author_association":"COLLABORATOR","type":null,"active_lock_reason":null,"draft":false,"pull_request":{"url":"https://api.github.com/repos/beancount/beanquery/pulls/137","html_url":"https://github.com/beancount/beanquery/pull/137","diff_url":"https://github.com/beancount/beanquery/pull/137.diff","patch_url":"https://github.com/beancount/beanquery/pull/137.patch","merged_at":"2023-07-29T14:43:45Z"},"body":"This allows to deprecate the `entry_meta()` and `meta()` functions:\r\n```\r\n  SELECT entry_meta('foo')\r\n```\r\nbecomes\r\n```\r\n  SELECT entry.meta['foo']\r\n```\r\nThis will allow to deprecate and eventually remove some BQL function\r\nthat need access to \"hidden\" context and that do not really belong in\r\na SQL-like data model.","closed_by":{"login":"dnicolodi","id":987145,"node_id":"MDQ6VXNlcjk4NzE0NQ==","avatar_url":"https://avatars.githubusercontent.com/u/987145?v=4","gravatar_id":"","url":"https://api.github.com/users/dnicolodi","html_url":"https://github.com/dnicolodi","followers_url":"https://api.github.com/users/dnicolodi/followers","following_url":"https://api.github.com/users/dnicolodi/following{/other_user}","gists_url":"https://api.github.com/users/dnicolodi/gists{/gist_id}","starred_url":"https://api.github.com/users/dnicolodi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dnicolodi/subscriptions","organizations_url":"https://api.github.com/users/dnicolodi/orgs","repos_url":"https://api.github.com/users/dnicolodi/repos","events_url":"https://api.github.com/users/dnicolodi/events{/privacy}","received_events_url":"https://api.github.com/users/dnicolodi/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/beancount/beanquery/issues/137/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beanquery/issues/137/timeline","performed_via_github_app":null,"state_reason":null},{"url":"https://api.github.com/repos/beancount/beanquery/issues/136","repository_url":"https://api.github.com/repos/beancount/beanquery","labels_url":"https://api.github.com/repos/beancount/beanquery/issues/136/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beanquery/issues/136/comments","events_url":"https://api.github.com/repos/beancount/beanquery/issues/136/events","html_url":"https://github.com/beancount/beanquery/pull/136","id":1816878660,"node_id":"PR_kwDOFUEJF85WJysH","number":136,"title":"env: Return NULL on division by zero","user":{"login":"dnicolodi","id":987145,"node_id":"MDQ6VXNlcjk4NzE0NQ==","avatar_url":"https://avatars.githubusercontent.com/u/987145?v=4","gravatar_id":"","url":"https://api.github.com/users/dnicolodi","html_url":"https://github.com/dnicolodi","followers_url":"https://api.github.com/users/dnicolodi/followers","following_url":"https://api.github.com/users/dnicolodi/following{/other_user}","gists_url":"https://api.github.com/users/dnicolodi/gists{/gist_id}","starred_url":"https://api.github.com/users/dnicolodi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dnicolodi/subscriptions","organizations_url":"https://api.github.com/users/dnicolodi/orgs","repos_url":"https://api.github.com/users/dnicolodi/repos","events_url":"https://api.github.com/users/dnicolodi/events{/privacy}","received_events_url":"https://api.github.com/users/dnicolodi/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":0,"created_at":"2023-07-22T20:00:31Z","updated_at":"2023-07-22T20:12:59Z","closed_at":"2023-07-22T20:12:59Z","author_association":"COLLABORATOR","type":null,"active_lock_reason":null,"draft":false,"pull_request":{"url":"https://api.github.com/repos/beancount/beanquery/pulls/136","html_url":"https://github.com/beancount/beanquery/pull/136","diff_url":"https://github.com/beancount/beanquery/pull/136.diff","patch_url":"https://github.com/beancount/beanquery/pull/136.patch","merged_at":"2023-07-22T20:12:59Z"},"body":"Following the SQL standard, do not raise an exception on division by zero but return NULL instead. This makes the ``safe_div()`` BQL function obsolete.","closed_by":{"login":"dnicolodi","id":987145,"node_id":"MDQ6VXNlcjk4NzE0NQ==","avatar_url":"https://avatars.githubusercontent.com/u/987145?v=4","gravatar_id":"","url":"https://api.github.com/users/dnicolodi","html_url":"https://github.com/dnicolodi","followers_url":"https://api.github.com/users/dnicolodi/followers","following_url":"https://api.github.com/users/dnicolodi/following{/other_user}","gists_url":"https://api.github.com/users/dnicolodi/gists{/gist_id}","starred_url":"https://api.github.com/users/dnicolodi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dnicolodi/subscriptions","organizations_url":"https://api.github.com/users/dnicolodi/orgs","repos_url":"https://api.github.com/users/dnicolodi/repos","events_url":"https://api.github.com/users/dnicolodi/events{/privacy}","received_events_url":"https://api.github.com/users/dnicolodi/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/beancount/beanquery/issues/136/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beanquery/issues/136/timeline","performed_via_github_app":null,"state_reason":null},{"url":"https://api.github.com/repos/beancount/beanquery/issues/135","repository_url":"https://api.github.com/repos/beancount/beanquery","labels_url":"https://api.github.com/repos/beancount/beanquery/issues/135/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beanquery/issues/135/comments","events_url":"https://api.github.com/repos/beancount/beanquery/issues/135/events","html_url":"https://github.com/beancount/beanquery/pull/135","id":1816793897,"node_id":"PR_kwDOFUEJF85WJiay","number":135,"title":"Switch from pylint to ruff","user":{"login":"dnicolodi","id":987145,"node_id":"MDQ6VXNlcjk4NzE0NQ==","avatar_url":"https://avatars.githubusercontent.com/u/987145?v=4","gravatar_id":"","url":"https://api.github.com/users/dnicolodi","html_url":"https://github.com/dnicolodi","followers_url":"https://api.github.com/users/dnicolodi/followers","following_url":"https://api.github.com/users/dnicolodi/following{/other_user}","gists_url":"https://api.github.com/users/dnicolodi/gists{/gist_id}","starred_url":"https://api.github.com/users/dnicolodi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dnicolodi/subscriptions","organizations_url":"https://api.github.com/users/dnicolodi/orgs","repos_url":"https://api.github.com/users/dnicolodi/repos","events_url":"https://api.github.com/users/dnicolodi/events{/privacy}","received_events_url":"https://api.github.com/users/dnicolodi/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":0,"created_at":"2023-07-22T15:02:14Z","updated_at":"2023-07-22T15:04:38Z","closed_at":"2023-07-22T15:04:38Z","author_association":"COLLABORATOR","type":null,"active_lock_reason":null,"draft":false,"pull_request":{"url":"https://api.github.com/repos/beancount/beanquery/pulls/135","html_url":"https://github.com/beancount/beanquery/pull/135","diff_url":"https://github.com/beancount/beanquery/pull/135.diff","patch_url":"https://github.com/beancount/beanquery/pull/135.patch","merged_at":"2023-07-22T15:04:38Z"},"body":null,"closed_by":{"login":"dnicolodi","id":987145,"node_id":"MDQ6VXNlcjk4NzE0NQ==","avatar_url":"https://avatars.githubusercontent.com/u/987145?v=4","gravatar_id":"","url":"https://api.github.com/users/dnicolodi","html_url":"https://github.com/dnicolodi","followers_url":"https://api.github.com/users/dnicolodi/followers","following_url":"https://api.github.com/users/dnicolodi/following{/other_user}","gists_url":"https://api.github.com/users/dnicolodi/gists{/gist_id}","starred_url":"https://api.github.com/users/dnicolodi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dnicolodi/subscriptions","organizations_url":"https://api.github.com/users/dnicolodi/orgs","repos_url":"https://api.github.com/users/dnicolodi/repos","events_url":"https://api.github.com/users/dnicolodi/events{/privacy}","received_events_url":"https://api.github.com/users/dnicolodi/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/beancount/beanquery/issues/135/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beanquery/issues/135/timeline","performed_via_github_app":null,"state_reason":null},{"url":"https://api.github.com/repos/beancount/beanquery/issues/134","repository_url":"https://api.github.com/repos/beancount/beanquery","labels_url":"https://api.github.com/repos/beancount/beanquery/issues/134/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beanquery/issues/134/comments","events_url":"https://api.github.com/repos/beancount/beanquery/issues/134/events","html_url":"https://github.com/beancount/beanquery/issues/134","id":1816291101,"node_id":"I_kwDOFUEJF85sQmcd","number":134,"title":"Default `CLOSE` date for queries stored in the ledger","user":{"login":"dnicolodi","id":987145,"node_id":"MDQ6VXNlcjk4NzE0NQ==","avatar_url":"https://avatars.githubusercontent.com/u/987145?v=4","gravatar_id":"","url":"https://api.github.com/users/dnicolodi","html_url":"https://github.com/dnicolodi","followers_url":"https://api.github.com/users/dnicolodi/followers","following_url":"https://api.github.com/users/dnicolodi/following{/other_user}","gists_url":"https://api.github.com/users/dnicolodi/gists{/gist_id}","starred_url":"https://api.github.com/users/dnicolodi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dnicolodi/subscriptions","organizations_url":"https://api.github.com/users/dnicolodi/orgs","repos_url":"https://api.github.com/users/dnicolodi/repos","events_url":"https://api.github.com/users/dnicolodi/events{/privacy}","received_events_url":"https://api.github.com/users/dnicolodi/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":4013919697,"node_id":"LA_kwDOFUEJF87vP43R","url":"https://api.github.com/repos/beancount/beanquery/labels/proposal","name":"proposal","color":"F90187","default":false,"description":"Request for comment on proposed changes"}],"state":"open","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":0,"created_at":"2023-07-21T19:28:13Z","updated_at":"2024-06-15T23:43:57Z","closed_at":null,"author_association":"COLLABORATOR","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"According to the documentation for the `query` directive https://beancount.github.io/docs/beancount_language_syntax.html#query:\r\n\r\n> Also, the date of the query is intended to be the date at which the query is intended to be run for, that is, transactions following it should be ignored. If youâ€™re familiar with the SQL syntax, itâ€™s an implicit CLOSE.\r\n\r\nHowever, when the code was origianlly written and till commit 6683356672a651c5be19775dd3d8c8c09801b922 this was not the case run from the beanquery shell as `run query-name` but only for queries run as part of `run *`.\r\n\r\nI fear that implementing it for query execution that didn't implement it till now is going to break people workflows. However, I find the automatic CLOSE date functionality surprising enough that having it implemented only for queries executed with `run *` and not for other cases is just too confusing. Therefore, I'm reluctant to revert the change.\r\n\r\nWhile I think that using the `query` directive date for the CLOSE clause is a neat idea, I'm tempted to keep things simple and just remove support for automatic CLOSE date and keep. What do you think? @blais do you use this functionality?","closed_by":null,"reactions":{"url":"https://api.github.com/repos/beancount/beanquery/issues/134/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beanquery/issues/134/timeline","performed_via_github_app":null,"state_reason":null},{"url":"https://api.github.com/repos/beancount/beanquery/issues/133","repository_url":"https://api.github.com/repos/beancount/beanquery","labels_url":"https://api.github.com/repos/beancount/beanquery/issues/133/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beanquery/issues/133/comments","events_url":"https://api.github.com/repos/beancount/beanquery/issues/133/events","html_url":"https://github.com/beancount/beanquery/pull/133","id":1816126556,"node_id":"PR_kwDOFUEJF85WHYV6","number":133,"title":"parser, shell: Revisit default close date implementation","user":{"login":"dnicolodi","id":987145,"node_id":"MDQ6VXNlcjk4NzE0NQ==","avatar_url":"https://avatars.githubusercontent.com/u/987145?v=4","gravatar_id":"","url":"https://api.github.com/users/dnicolodi","html_url":"https://github.com/dnicolodi","followers_url":"https://api.github.com/users/dnicolodi/followers","following_url":"https://api.github.com/users/dnicolodi/following{/other_user}","gists_url":"https://api.github.com/users/dnicolodi/gists{/gist_id}","starred_url":"https://api.github.com/users/dnicolodi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dnicolodi/subscriptions","organizations_url":"https://api.github.com/users/dnicolodi/orgs","repos_url":"https://api.github.com/users/dnicolodi/repos","events_url":"https://api.github.com/users/dnicolodi/events{/privacy}","received_events_url":"https://api.github.com/users/dnicolodi/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":0,"created_at":"2023-07-21T17:08:18Z","updated_at":"2023-07-21T20:31:11Z","closed_at":"2023-07-21T20:31:10Z","author_association":"COLLABORATOR","type":null,"active_lock_reason":null,"draft":false,"pull_request":{"url":"https://api.github.com/repos/beancount/beanquery/pulls/133","html_url":"https://github.com/beancount/beanquery/pull/133","diff_url":"https://github.com/beancount/beanquery/pull/133.diff","patch_url":"https://github.com/beancount/beanquery/pull/133.patch","merged_at":"2023-07-21T20:31:10Z"},"body":"Move default close date implementation for queries stored in the ledger from the query parse to the shell.  This allow to remove the special handling from generic code.","closed_by":{"login":"dnicolodi","id":987145,"node_id":"MDQ6VXNlcjk4NzE0NQ==","avatar_url":"https://avatars.githubusercontent.com/u/987145?v=4","gravatar_id":"","url":"https://api.github.com/users/dnicolodi","html_url":"https://github.com/dnicolodi","followers_url":"https://api.github.com/users/dnicolodi/followers","following_url":"https://api.github.com/users/dnicolodi/following{/other_user}","gists_url":"https://api.github.com/users/dnicolodi/gists{/gist_id}","starred_url":"https://api.github.com/users/dnicolodi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dnicolodi/subscriptions","organizations_url":"https://api.github.com/users/dnicolodi/orgs","repos_url":"https://api.github.com/users/dnicolodi/repos","events_url":"https://api.github.com/users/dnicolodi/events{/privacy}","received_events_url":"https://api.github.com/users/dnicolodi/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/beancount/beanquery/issues/133/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beanquery/issues/133/timeline","performed_via_github_app":null,"state_reason":null},{"url":"https://api.github.com/repos/beancount/beanquery/issues/132","repository_url":"https://api.github.com/repos/beancount/beanquery","labels_url":"https://api.github.com/repos/beancount/beanquery/issues/132/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beanquery/issues/132/comments","events_url":"https://api.github.com/repos/beancount/beanquery/issues/132/events","html_url":"https://github.com/beancount/beanquery/pull/132","id":1815964279,"node_id":"PR_kwDOFUEJF85WG1MD","number":132,"title":"Restructure API","user":{"login":"dnicolodi","id":987145,"node_id":"MDQ6VXNlcjk4NzE0NQ==","avatar_url":"https://avatars.githubusercontent.com/u/987145?v=4","gravatar_id":"","url":"https://api.github.com/users/dnicolodi","html_url":"https://github.com/dnicolodi","followers_url":"https://api.github.com/users/dnicolodi/followers","following_url":"https://api.github.com/users/dnicolodi/following{/other_user}","gists_url":"https://api.github.com/users/dnicolodi/gists{/gist_id}","starred_url":"https://api.github.com/users/dnicolodi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dnicolodi/subscriptions","organizations_url":"https://api.github.com/users/dnicolodi/orgs","repos_url":"https://api.github.com/users/dnicolodi/repos","events_url":"https://api.github.com/users/dnicolodi/events{/privacy}","received_events_url":"https://api.github.com/users/dnicolodi/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":0,"created_at":"2023-07-21T15:03:41Z","updated_at":"2023-07-22T15:48:46Z","closed_at":"2023-07-22T15:48:46Z","author_association":"COLLABORATOR","type":null,"active_lock_reason":null,"draft":false,"pull_request":{"url":"https://api.github.com/repos/beancount/beanquery/pulls/132","html_url":"https://github.com/beancount/beanquery/pull/132","diff_url":"https://github.com/beancount/beanquery/pull/132.diff","patch_url":"https://github.com/beancount/beanquery/pull/132.patch","merged_at":"2023-07-22T15:48:46Z"},"body":"``beanquery.connect()`` becomes the main entry point. It takes an URI pointing to a data source and returns a Connection() class with an ``execute()`` method that takes a query string and returns the query results.  The only data source scheme defined so far is ``beancount:`` which is expected to be followed by the path to a Beancount ledger.\r\n\r\nThis continues the effort toward the generalization of beanquery to work with data sources other than beancount and toward an API somehow similar to the Python's DB-API 2.0.\r\n\r\nThe main entry point of the old API (beanquery.query.run_query() aka beancount.query.run_query() before the project split) is preserved for backward compatibility.  As no other interface was clearly meant as public API, no particular effort has been put in preserving backward compatibility for other functions or classes.","closed_by":{"login":"dnicolodi","id":987145,"node_id":"MDQ6VXNlcjk4NzE0NQ==","avatar_url":"https://avatars.githubusercontent.com/u/987145?v=4","gravatar_id":"","url":"https://api.github.com/users/dnicolodi","html_url":"https://github.com/dnicolodi","followers_url":"https://api.github.com/users/dnicolodi/followers","following_url":"https://api.github.com/users/dnicolodi/following{/other_user}","gists_url":"https://api.github.com/users/dnicolodi/gists{/gist_id}","starred_url":"https://api.github.com/users/dnicolodi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dnicolodi/subscriptions","organizations_url":"https://api.github.com/users/dnicolodi/orgs","repos_url":"https://api.github.com/users/dnicolodi/repos","events_url":"https://api.github.com/users/dnicolodi/events{/privacy}","received_events_url":"https://api.github.com/users/dnicolodi/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/beancount/beanquery/issues/132/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beanquery/issues/132/timeline","performed_via_github_app":null,"state_reason":null},{"url":"https://api.github.com/repos/beancount/beanquery/issues/131","repository_url":"https://api.github.com/repos/beancount/beanquery","labels_url":"https://api.github.com/repos/beancount/beanquery/issues/131/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beanquery/issues/131/comments","events_url":"https://api.github.com/repos/beancount/beanquery/issues/131/events","html_url":"https://github.com/beancount/beanquery/pull/131","id":1815961053,"node_id":"PR_kwDOFUEJF85WG0fK","number":131,"title":"parser: Simplification","user":{"login":"dnicolodi","id":987145,"node_id":"MDQ6VXNlcjk4NzE0NQ==","avatar_url":"https://avatars.githubusercontent.com/u/987145?v=4","gravatar_id":"","url":"https://api.github.com/users/dnicolodi","html_url":"https://github.com/dnicolodi","followers_url":"https://api.github.com/users/dnicolodi/followers","following_url":"https://api.github.com/users/dnicolodi/following{/other_user}","gists_url":"https://api.github.com/users/dnicolodi/gists{/gist_id}","starred_url":"https://api.github.com/users/dnicolodi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dnicolodi/subscriptions","organizations_url":"https://api.github.com/users/dnicolodi/orgs","repos_url":"https://api.github.com/users/dnicolodi/repos","events_url":"https://api.github.com/users/dnicolodi/events{/privacy}","received_events_url":"https://api.github.com/users/dnicolodi/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":0,"created_at":"2023-07-21T15:01:20Z","updated_at":"2023-07-21T15:02:24Z","closed_at":"2023-07-21T15:02:24Z","author_association":"COLLABORATOR","type":null,"active_lock_reason":null,"draft":false,"pull_request":{"url":"https://api.github.com/repos/beancount/beanquery/pulls/131","html_url":"https://github.com/beancount/beanquery/pull/131","diff_url":"https://github.com/beancount/beanquery/pull/131.diff","patch_url":"https://github.com/beancount/beanquery/pull/131.patch","merged_at":"2023-07-21T15:02:24Z"},"body":null,"closed_by":{"login":"dnicolodi","id":987145,"node_id":"MDQ6VXNlcjk4NzE0NQ==","avatar_url":"https://avatars.githubusercontent.com/u/987145?v=4","gravatar_id":"","url":"https://api.github.com/users/dnicolodi","html_url":"https://github.com/dnicolodi","followers_url":"https://api.github.com/users/dnicolodi/followers","following_url":"https://api.github.com/users/dnicolodi/following{/other_user}","gists_url":"https://api.github.com/users/dnicolodi/gists{/gist_id}","starred_url":"https://api.github.com/users/dnicolodi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dnicolodi/subscriptions","organizations_url":"https://api.github.com/users/dnicolodi/orgs","repos_url":"https://api.github.com/users/dnicolodi/repos","events_url":"https://api.github.com/users/dnicolodi/events{/privacy}","received_events_url":"https://api.github.com/users/dnicolodi/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/beancount/beanquery/issues/131/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beanquery/issues/131/timeline","performed_via_github_app":null,"state_reason":null},{"url":"https://api.github.com/repos/beancount/beanquery/issues/130","repository_url":"https://api.github.com/repos/beancount/beanquery","labels_url":"https://api.github.com/repos/beancount/beanquery/issues/130/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beanquery/issues/130/comments","events_url":"https://api.github.com/repos/beancount/beanquery/issues/130/events","html_url":"https://github.com/beancount/beanquery/pull/130","id":1813767818,"node_id":"PR_kwDOFUEJF85V_W9-","number":130,"title":"Drop python-dateutil dependency","user":{"login":"dnicolodi","id":987145,"node_id":"MDQ6VXNlcjk4NzE0NQ==","avatar_url":"https://avatars.githubusercontent.com/u/987145?v=4","gravatar_id":"","url":"https://api.github.com/users/dnicolodi","html_url":"https://github.com/dnicolodi","followers_url":"https://api.github.com/users/dnicolodi/followers","following_url":"https://api.github.com/users/dnicolodi/following{/other_user}","gists_url":"https://api.github.com/users/dnicolodi/gists{/gist_id}","starred_url":"https://api.github.com/users/dnicolodi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dnicolodi/subscriptions","organizations_url":"https://api.github.com/users/dnicolodi/orgs","repos_url":"https://api.github.com/users/dnicolodi/repos","events_url":"https://api.github.com/users/dnicolodi/events{/privacy}","received_events_url":"https://api.github.com/users/dnicolodi/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":0,"created_at":"2023-07-20T11:26:15Z","updated_at":"2023-07-20T11:27:22Z","closed_at":"2023-07-20T11:27:22Z","author_association":"COLLABORATOR","type":null,"active_lock_reason":null,"draft":false,"pull_request":{"url":"https://api.github.com/repos/beancount/beanquery/pulls/130","html_url":"https://github.com/beancount/beanquery/pull/130","diff_url":"https://github.com/beancount/beanquery/pull/130.diff","patch_url":"https://github.com/beancount/beanquery/pull/130.patch","merged_at":"2023-07-20T11:27:22Z"},"body":"With the support for #\"...\" date literals removed, there are no more uses.","closed_by":{"login":"dnicolodi","id":987145,"node_id":"MDQ6VXNlcjk4NzE0NQ==","avatar_url":"https://avatars.githubusercontent.com/u/987145?v=4","gravatar_id":"","url":"https://api.github.com/users/dnicolodi","html_url":"https://github.com/dnicolodi","followers_url":"https://api.github.com/users/dnicolodi/followers","following_url":"https://api.github.com/users/dnicolodi/following{/other_user}","gists_url":"https://api.github.com/users/dnicolodi/gists{/gist_id}","starred_url":"https://api.github.com/users/dnicolodi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dnicolodi/subscriptions","organizations_url":"https://api.github.com/users/dnicolodi/orgs","repos_url":"https://api.github.com/users/dnicolodi/repos","events_url":"https://api.github.com/users/dnicolodi/events{/privacy}","received_events_url":"https://api.github.com/users/dnicolodi/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/beancount/beanquery/issues/130/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beanquery/issues/130/timeline","performed_via_github_app":null,"state_reason":null},{"url":"https://api.github.com/repos/beancount/beanquery/issues/129","repository_url":"https://api.github.com/repos/beancount/beanquery","labels_url":"https://api.github.com/repos/beancount/beanquery/issues/129/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beanquery/issues/129/comments","events_url":"https://api.github.com/repos/beancount/beanquery/issues/129/events","html_url":"https://github.com/beancount/beanquery/issues/129","id":1620090365,"node_id":"I_kwDOFUEJF85gkJ39","number":129,"title":"bean query aggregate up to specified level of accounts","user":{"login":"vikasrawal","id":479692,"node_id":"MDQ6VXNlcjQ3OTY5Mg==","avatar_url":"https://avatars.githubusercontent.com/u/479692?v=4","gravatar_id":"","url":"https://api.github.com/users/vikasrawal","html_url":"https://github.com/vikasrawal","followers_url":"https://api.github.com/users/vikasrawal/followers","following_url":"https://api.github.com/users/vikasrawal/following{/other_user}","gists_url":"https://api.github.com/users/vikasrawal/gists{/gist_id}","starred_url":"https://api.github.com/users/vikasrawal/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vikasrawal/subscriptions","organizations_url":"https://api.github.com/users/vikasrawal/orgs","repos_url":"https://api.github.com/users/vikasrawal/repos","events_url":"https://api.github.com/users/vikasrawal/events{/privacy}","received_events_url":"https://api.github.com/users/vikasrawal/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":1,"created_at":"2023-03-11T14:41:28Z","updated_at":"2023-03-12T14:26:18Z","closed_at":"2023-03-12T14:26:17Z","author_association":"NONE","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"Is there a way of specifying that the aggregation should be done up to n level from the top (Income, Expenses, ...). For example, if I want aggregation up to \"Income:Level2\" or \"Expenses:Level2\", how do I specify that? I notice that you can go from the  most disaggregation upwards by using parent(account). Is there a way to go from top using something like child(topaccount).\r\n\r\n","closed_by":{"login":"dnicolodi","id":987145,"node_id":"MDQ6VXNlcjk4NzE0NQ==","avatar_url":"https://avatars.githubusercontent.com/u/987145?v=4","gravatar_id":"","url":"https://api.github.com/users/dnicolodi","html_url":"https://github.com/dnicolodi","followers_url":"https://api.github.com/users/dnicolodi/followers","following_url":"https://api.github.com/users/dnicolodi/following{/other_user}","gists_url":"https://api.github.com/users/dnicolodi/gists{/gist_id}","starred_url":"https://api.github.com/users/dnicolodi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dnicolodi/subscriptions","organizations_url":"https://api.github.com/users/dnicolodi/orgs","repos_url":"https://api.github.com/users/dnicolodi/repos","events_url":"https://api.github.com/users/dnicolodi/events{/privacy}","received_events_url":"https://api.github.com/users/dnicolodi/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/beancount/beanquery/issues/129/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beanquery/issues/129/timeline","performed_via_github_app":null,"state_reason":"completed"},{"url":"https://api.github.com/repos/beancount/beanquery/issues/128","repository_url":"https://api.github.com/repos/beancount/beanquery","labels_url":"https://api.github.com/repos/beancount/beanquery/issues/128/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beanquery/issues/128/comments","events_url":"https://api.github.com/repos/beancount/beanquery/issues/128/events","html_url":"https://github.com/beancount/beanquery/pull/128","id":1609926281,"node_id":"PR_kwDOFUEJF85LStZr","number":128,"title":"Fix help","user":{"login":"dnicolodi","id":987145,"node_id":"MDQ6VXNlcjk4NzE0NQ==","avatar_url":"https://avatars.githubusercontent.com/u/987145?v=4","gravatar_id":"","url":"https://api.github.com/users/dnicolodi","html_url":"https://github.com/dnicolodi","followers_url":"https://api.github.com/users/dnicolodi/followers","following_url":"https://api.github.com/users/dnicolodi/following{/other_user}","gists_url":"https://api.github.com/users/dnicolodi/gists{/gist_id}","starred_url":"https://api.github.com/users/dnicolodi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dnicolodi/subscriptions","organizations_url":"https://api.github.com/users/dnicolodi/orgs","repos_url":"https://api.github.com/users/dnicolodi/repos","events_url":"https://api.github.com/users/dnicolodi/events{/privacy}","received_events_url":"https://api.github.com/users/dnicolodi/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":0,"created_at":"2023-03-04T20:01:30Z","updated_at":"2023-03-04T20:54:01Z","closed_at":"2023-03-04T20:54:00Z","author_association":"COLLABORATOR","type":null,"active_lock_reason":null,"draft":false,"pull_request":{"url":"https://api.github.com/repos/beancount/beanquery/pulls/128","html_url":"https://github.com/beancount/beanquery/pull/128","diff_url":"https://github.com/beancount/beanquery/pull/128.diff","patch_url":"https://github.com/beancount/beanquery/pull/128.patch","merged_at":"2023-03-04T20:54:00Z"},"body":null,"closed_by":{"login":"dnicolodi","id":987145,"node_id":"MDQ6VXNlcjk4NzE0NQ==","avatar_url":"https://avatars.githubusercontent.com/u/987145?v=4","gravatar_id":"","url":"https://api.github.com/users/dnicolodi","html_url":"https://github.com/dnicolodi","followers_url":"https://api.github.com/users/dnicolodi/followers","following_url":"https://api.github.com/users/dnicolodi/following{/other_user}","gists_url":"https://api.github.com/users/dnicolodi/gists{/gist_id}","starred_url":"https://api.github.com/users/dnicolodi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dnicolodi/subscriptions","organizations_url":"https://api.github.com/users/dnicolodi/orgs","repos_url":"https://api.github.com/users/dnicolodi/repos","events_url":"https://api.github.com/users/dnicolodi/events{/privacy}","received_events_url":"https://api.github.com/users/dnicolodi/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/beancount/beanquery/issues/128/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beanquery/issues/128/timeline","performed_via_github_app":null,"state_reason":null},{"url":"https://api.github.com/repos/beancount/beanquery/issues/127","repository_url":"https://api.github.com/repos/beancount/beanquery","labels_url":"https://api.github.com/repos/beancount/beanquery/issues/127/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beanquery/issues/127/comments","events_url":"https://api.github.com/repos/beancount/beanquery/issues/127/events","html_url":"https://github.com/beancount/beanquery/issues/127","id":1536688706,"node_id":"I_kwDOFUEJF85bmAJC","number":127,"title":"Deprecate and eventually remove `SAFE_DIV()`","user":{"login":"dnicolodi","id":987145,"node_id":"MDQ6VXNlcjk4NzE0NQ==","avatar_url":"https://avatars.githubusercontent.com/u/987145?v=4","gravatar_id":"","url":"https://api.github.com/users/dnicolodi","html_url":"https://github.com/dnicolodi","followers_url":"https://api.github.com/users/dnicolodi/followers","following_url":"https://api.github.com/users/dnicolodi/following{/other_user}","gists_url":"https://api.github.com/users/dnicolodi/gists{/gist_id}","starred_url":"https://api.github.com/users/dnicolodi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dnicolodi/subscriptions","organizations_url":"https://api.github.com/users/dnicolodi/orgs","repos_url":"https://api.github.com/users/dnicolodi/repos","events_url":"https://api.github.com/users/dnicolodi/events{/privacy}","received_events_url":"https://api.github.com/users/dnicolodi/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":2901894421,"node_id":"MDU6TGFiZWwyOTAxODk0NDIx","url":"https://api.github.com/repos/beancount/beanquery/labels/enhancement","name":"enhancement","color":"a2eeef","default":true,"description":"New feature or request"}],"state":"open","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":0,"created_at":"2023-01-17T16:35:42Z","updated_at":"2024-06-16T11:43:52Z","closed_at":null,"author_association":"COLLABORATOR","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"parent_issue_url":"https://api.github.com/repos/beancount/beanquery/issues/239","issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"Make the division operator handle division by zero returning `NULL` as in SQL and eventually remove the `SAFE_DIV()` function.","closed_by":null,"reactions":{"url":"https://api.github.com/repos/beancount/beanquery/issues/127/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beanquery/issues/127/timeline","performed_via_github_app":null,"state_reason":null},{"url":"https://api.github.com/repos/beancount/beanquery/issues/126","repository_url":"https://api.github.com/repos/beancount/beanquery","labels_url":"https://api.github.com/repos/beancount/beanquery/issues/126/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beanquery/issues/126/comments","events_url":"https://api.github.com/repos/beancount/beanquery/issues/126/events","html_url":"https://github.com/beancount/beanquery/pull/126","id":1535594623,"node_id":"PR_kwDOFUEJF85HgFif","number":126,"title":"Fix rendering of columns containing only NULL values ","user":{"login":"dnicolodi","id":987145,"node_id":"MDQ6VXNlcjk4NzE0NQ==","avatar_url":"https://avatars.githubusercontent.com/u/987145?v=4","gravatar_id":"","url":"https://api.github.com/users/dnicolodi","html_url":"https://github.com/dnicolodi","followers_url":"https://api.github.com/users/dnicolodi/followers","following_url":"https://api.github.com/users/dnicolodi/following{/other_user}","gists_url":"https://api.github.com/users/dnicolodi/gists{/gist_id}","starred_url":"https://api.github.com/users/dnicolodi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dnicolodi/subscriptions","organizations_url":"https://api.github.com/users/dnicolodi/orgs","repos_url":"https://api.github.com/users/dnicolodi/repos","events_url":"https://api.github.com/users/dnicolodi/events{/privacy}","received_events_url":"https://api.github.com/users/dnicolodi/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":0,"created_at":"2023-01-16T23:19:03Z","updated_at":"2023-01-17T00:00:34Z","closed_at":"2023-01-17T00:00:34Z","author_association":"COLLABORATOR","type":null,"active_lock_reason":null,"draft":false,"pull_request":{"url":"https://api.github.com/repos/beancount/beanquery/pulls/126","html_url":"https://github.com/beancount/beanquery/pull/126","diff_url":"https://github.com/beancount/beanquery/pull/126.diff","patch_url":"https://github.com/beancount/beanquery/pull/126.patch","merged_at":"2023-01-17T00:00:34Z"},"body":null,"closed_by":{"login":"dnicolodi","id":987145,"node_id":"MDQ6VXNlcjk4NzE0NQ==","avatar_url":"https://avatars.githubusercontent.com/u/987145?v=4","gravatar_id":"","url":"https://api.github.com/users/dnicolodi","html_url":"https://github.com/dnicolodi","followers_url":"https://api.github.com/users/dnicolodi/followers","following_url":"https://api.github.com/users/dnicolodi/following{/other_user}","gists_url":"https://api.github.com/users/dnicolodi/gists{/gist_id}","starred_url":"https://api.github.com/users/dnicolodi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dnicolodi/subscriptions","organizations_url":"https://api.github.com/users/dnicolodi/orgs","repos_url":"https://api.github.com/users/dnicolodi/repos","events_url":"https://api.github.com/users/dnicolodi/events{/privacy}","received_events_url":"https://api.github.com/users/dnicolodi/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/beancount/beanquery/issues/126/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beanquery/issues/126/timeline","performed_via_github_app":null,"state_reason":null},{"url":"https://api.github.com/repos/beancount/beanquery/issues/125","repository_url":"https://api.github.com/repos/beancount/beanquery","labels_url":"https://api.github.com/repos/beancount/beanquery/issues/125/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beanquery/issues/125/comments","events_url":"https://api.github.com/repos/beancount/beanquery/issues/125/events","html_url":"https://github.com/beancount/beanquery/issues/125","id":1523910076,"node_id":"I_kwDOFUEJF85a1QW8","number":125,"title":"Output incomplete on query producing empty result","user":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":1,"created_at":"2023-01-07T15:20:01Z","updated_at":"2023-01-17T00:00:35Z","closed_at":"2023-01-17T00:00:35Z","author_association":"MEMBER","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"This works:\r\n```\r\nyuzu [hg|default]:~/q/office$ bean-query $L \"select account, sum(position) where account ~ 'Pending:Australia'\"\r\n            account             sum(positio\r\n------------------------------- \r\nAssets:Travel:Pending:Australia \r\n```\r\n\r\nThis doesn't (sic - the output is incomplete):\r\n```\r\nyuzu [hg|default]:~/q/office$ bean-query $L \"select sum(position) where account ~ 'Pending:Australia'\"\r\nsum(positio\r\n\r\n```\r\nI have no idea why. May be some output buffering issue.\r\n","closed_by":{"login":"dnicolodi","id":987145,"node_id":"MDQ6VXNlcjk4NzE0NQ==","avatar_url":"https://avatars.githubusercontent.com/u/987145?v=4","gravatar_id":"","url":"https://api.github.com/users/dnicolodi","html_url":"https://github.com/dnicolodi","followers_url":"https://api.github.com/users/dnicolodi/followers","following_url":"https://api.github.com/users/dnicolodi/following{/other_user}","gists_url":"https://api.github.com/users/dnicolodi/gists{/gist_id}","starred_url":"https://api.github.com/users/dnicolodi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dnicolodi/subscriptions","organizations_url":"https://api.github.com/users/dnicolodi/orgs","repos_url":"https://api.github.com/users/dnicolodi/repos","events_url":"https://api.github.com/users/dnicolodi/events{/privacy}","received_events_url":"https://api.github.com/users/dnicolodi/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/beancount/beanquery/issues/125/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beanquery/issues/125/timeline","performed_via_github_app":null,"state_reason":"completed"},{"url":"https://api.github.com/repos/beancount/beanquery/issues/124","repository_url":"https://api.github.com/repos/beancount/beanquery","labels_url":"https://api.github.com/repos/beancount/beanquery/issues/124/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beanquery/issues/124/comments","events_url":"https://api.github.com/repos/beancount/beanquery/issues/124/events","html_url":"https://github.com/beancount/beanquery/pull/124","id":1511132161,"node_id":"PR_kwDOFUEJF85GNjSd","number":124,"title":"Implement `COUNT(*)`","user":{"login":"dnicolodi","id":987145,"node_id":"MDQ6VXNlcjk4NzE0NQ==","avatar_url":"https://avatars.githubusercontent.com/u/987145?v=4","gravatar_id":"","url":"https://api.github.com/users/dnicolodi","html_url":"https://github.com/dnicolodi","followers_url":"https://api.github.com/users/dnicolodi/followers","following_url":"https://api.github.com/users/dnicolodi/following{/other_user}","gists_url":"https://api.github.com/users/dnicolodi/gists{/gist_id}","starred_url":"https://api.github.com/users/dnicolodi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dnicolodi/subscriptions","organizations_url":"https://api.github.com/users/dnicolodi/orgs","repos_url":"https://api.github.com/users/dnicolodi/repos","events_url":"https://api.github.com/users/dnicolodi/events{/privacy}","received_events_url":"https://api.github.com/users/dnicolodi/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":0,"created_at":"2022-12-26T18:09:08Z","updated_at":"2023-01-16T23:24:44Z","closed_at":"2023-01-16T23:24:44Z","author_association":"COLLABORATOR","type":null,"active_lock_reason":null,"draft":false,"pull_request":{"url":"https://api.github.com/repos/beancount/beanquery/pulls/124","html_url":"https://github.com/beancount/beanquery/pull/124","diff_url":"https://github.com/beancount/beanquery/pull/124.diff","patch_url":"https://github.com/beancount/beanquery/pull/124.patch","merged_at":"2023-01-16T23:24:44Z"},"body":null,"closed_by":{"login":"dnicolodi","id":987145,"node_id":"MDQ6VXNlcjk4NzE0NQ==","avatar_url":"https://avatars.githubusercontent.com/u/987145?v=4","gravatar_id":"","url":"https://api.github.com/users/dnicolodi","html_url":"https://github.com/dnicolodi","followers_url":"https://api.github.com/users/dnicolodi/followers","following_url":"https://api.github.com/users/dnicolodi/following{/other_user}","gists_url":"https://api.github.com/users/dnicolodi/gists{/gist_id}","starred_url":"https://api.github.com/users/dnicolodi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dnicolodi/subscriptions","organizations_url":"https://api.github.com/users/dnicolodi/orgs","repos_url":"https://api.github.com/users/dnicolodi/repos","events_url":"https://api.github.com/users/dnicolodi/events{/privacy}","received_events_url":"https://api.github.com/users/dnicolodi/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/beancount/beanquery/issues/124/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beanquery/issues/124/timeline","performed_via_github_app":null,"state_reason":null},{"url":"https://api.github.com/repos/beancount/beanquery/issues/123","repository_url":"https://api.github.com/repos/beancount/beanquery","labels_url":"https://api.github.com/repos/beancount/beanquery/issues/123/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beanquery/issues/123/comments","events_url":"https://api.github.com/repos/beancount/beanquery/issues/123/events","html_url":"https://github.com/beancount/beanquery/issues/123","id":1502216184,"node_id":"I_kwDOFUEJF85Zif_4","number":123,"title":"Implement `WHERE` for `PRINT`","user":{"login":"tbm","id":1556037,"node_id":"MDQ6VXNlcjE1NTYwMzc=","avatar_url":"https://avatars.githubusercontent.com/u/1556037?v=4","gravatar_id":"","url":"https://api.github.com/users/tbm","html_url":"https://github.com/tbm","followers_url":"https://api.github.com/users/tbm/followers","following_url":"https://api.github.com/users/tbm/following{/other_user}","gists_url":"https://api.github.com/users/tbm/gists{/gist_id}","starred_url":"https://api.github.com/users/tbm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tbm/subscriptions","organizations_url":"https://api.github.com/users/tbm/orgs","repos_url":"https://api.github.com/users/tbm/repos","events_url":"https://api.github.com/users/tbm/events{/privacy}","received_events_url":"https://api.github.com/users/tbm/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":2901894421,"node_id":"MDU6TGFiZWwyOTAxODk0NDIx","url":"https://api.github.com/repos/beancount/beanquery/labels/enhancement","name":"enhancement","color":"a2eeef","default":true,"description":"New feature or request"},{"id":7111442006,"node_id":"LA_kwDOFUEJF88AAAABp9_-Vg","url":"https://api.github.com/repos/beancount/beanquery/labels/feature","name":"feature","color":"fef2c0","default":false,"description":"New feature"}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":4,"created_at":"2022-12-19T03:09:28Z","updated_at":"2025-01-27T20:56:55Z","closed_at":"2025-01-27T20:56:54Z","author_association":"CONTRIBUTOR","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":1,"completed":1,"percent_completed":100},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"It seems like `print` only supports `from`.  What do you think of adding `where` to `print` and how hard would it be?\r\n\r\nLedger allows this and this is a great feature - seeing the original transaction only for certain queries.\r\n\r\nOne use case: when I import txns from PayPal for a non-profit, I check for donations larger than a certain amount because I want to look more closely (is it really an unsolicited donation or some kind of sponsorship/receivable) , e.g. `SELECT * WHERE ACCOUNT ~ 'Income:Donations' AND number < -100`, but when I want to look at the whole transaction to see all the meta-data and stuff and so a `PRINT` with this `WHERE` query would be really useful.\r\n","closed_by":{"login":"dnicolodi","id":987145,"node_id":"MDQ6VXNlcjk4NzE0NQ==","avatar_url":"https://avatars.githubusercontent.com/u/987145?v=4","gravatar_id":"","url":"https://api.github.com/users/dnicolodi","html_url":"https://github.com/dnicolodi","followers_url":"https://api.github.com/users/dnicolodi/followers","following_url":"https://api.github.com/users/dnicolodi/following{/other_user}","gists_url":"https://api.github.com/users/dnicolodi/gists{/gist_id}","starred_url":"https://api.github.com/users/dnicolodi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dnicolodi/subscriptions","organizations_url":"https://api.github.com/users/dnicolodi/orgs","repos_url":"https://api.github.com/users/dnicolodi/repos","events_url":"https://api.github.com/users/dnicolodi/events{/privacy}","received_events_url":"https://api.github.com/users/dnicolodi/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/beancount/beanquery/issues/123/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beanquery/issues/123/timeline","performed_via_github_app":null,"state_reason":"completed"},{"url":"https://api.github.com/repos/beancount/beanquery/issues/122","repository_url":"https://api.github.com/repos/beancount/beanquery","labels_url":"https://api.github.com/repos/beancount/beanquery/issues/122/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beanquery/issues/122/comments","events_url":"https://api.github.com/repos/beancount/beanquery/issues/122/events","html_url":"https://github.com/beancount/beanquery/issues/122","id":1502206794,"node_id":"I_kwDOFUEJF85ZidtK","number":122,"title":"Argument to `help` should be treated as case-insensitive","user":{"login":"tbm","id":1556037,"node_id":"MDQ6VXNlcjE1NTYwMzc=","avatar_url":"https://avatars.githubusercontent.com/u/1556037?v=4","gravatar_id":"","url":"https://api.github.com/users/tbm","html_url":"https://github.com/tbm","followers_url":"https://api.github.com/users/tbm/followers","following_url":"https://api.github.com/users/tbm/following{/other_user}","gists_url":"https://api.github.com/users/tbm/gists{/gist_id}","starred_url":"https://api.github.com/users/tbm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tbm/subscriptions","organizations_url":"https://api.github.com/users/tbm/orgs","repos_url":"https://api.github.com/users/tbm/repos","events_url":"https://api.github.com/users/tbm/events{/privacy}","received_events_url":"https://api.github.com/users/tbm/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":2901894418,"node_id":"MDU6TGFiZWwyOTAxODk0NDE4","url":"https://api.github.com/repos/beancount/beanquery/labels/bug","name":"bug","color":"d73a4a","default":true,"description":"Something isn't working"}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":0,"created_at":"2022-12-19T03:02:14Z","updated_at":"2023-03-04T20:54:02Z","closed_at":"2023-03-04T20:54:02Z","author_association":"CONTRIBUTOR","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"```\r\nbeancount> help PRINT\r\n*** No help on PRINT\r\nbeancount> help print\r\n...\r\n   PRINT [FROM <from_expr> ...]\r\n```\r\n\r\n`help PRINT` doesn't work, which is quite ironic because the help text shows `PRINT` in upper case. :)\r\n","closed_by":{"login":"dnicolodi","id":987145,"node_id":"MDQ6VXNlcjk4NzE0NQ==","avatar_url":"https://avatars.githubusercontent.com/u/987145?v=4","gravatar_id":"","url":"https://api.github.com/users/dnicolodi","html_url":"https://github.com/dnicolodi","followers_url":"https://api.github.com/users/dnicolodi/followers","following_url":"https://api.github.com/users/dnicolodi/following{/other_user}","gists_url":"https://api.github.com/users/dnicolodi/gists{/gist_id}","starred_url":"https://api.github.com/users/dnicolodi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dnicolodi/subscriptions","organizations_url":"https://api.github.com/users/dnicolodi/orgs","repos_url":"https://api.github.com/users/dnicolodi/repos","events_url":"https://api.github.com/users/dnicolodi/events{/privacy}","received_events_url":"https://api.github.com/users/dnicolodi/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/beancount/beanquery/issues/122/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beanquery/issues/122/timeline","performed_via_github_app":null,"state_reason":"completed"},{"url":"https://api.github.com/repos/beancount/beanquery/issues/121","repository_url":"https://api.github.com/repos/beancount/beanquery","labels_url":"https://api.github.com/repos/beancount/beanquery/issues/121/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beanquery/issues/121/comments","events_url":"https://api.github.com/repos/beancount/beanquery/issues/121/events","html_url":"https://github.com/beancount/beanquery/issues/121","id":1492171675,"node_id":"I_kwDOFUEJF85Y8Lub","number":121,"title":"Cannot use `cost_date` as `date` in WHERE-clause","user":{"login":"Philogy","id":21957732,"node_id":"MDQ6VXNlcjIxOTU3NzMy","avatar_url":"https://avatars.githubusercontent.com/u/21957732?v=4","gravatar_id":"","url":"https://api.github.com/users/Philogy","html_url":"https://github.com/Philogy","followers_url":"https://api.github.com/users/Philogy/followers","following_url":"https://api.github.com/users/Philogy/following{/other_user}","gists_url":"https://api.github.com/users/Philogy/gists{/gist_id}","starred_url":"https://api.github.com/users/Philogy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Philogy/subscriptions","organizations_url":"https://api.github.com/users/Philogy/orgs","repos_url":"https://api.github.com/users/Philogy/repos","events_url":"https://api.github.com/users/Philogy/events{/privacy}","received_events_url":"https://api.github.com/users/Philogy/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":2,"created_at":"2022-12-12T15:38:51Z","updated_at":"2022-12-12T21:12:07Z","closed_at":"2022-12-12T21:12:06Z","author_association":"NONE","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"For postings in the base currency the `cost_date` is of type `None` leading to errors like the following if a query like `SELECT account, currency WHERE date_diff(today(), cost_date) >= 365 GROUP BY account, currency` is attempted:\r\n```\r\nTraceback (most recent call last):Traceback (most recent call last):\r\n  File \"/usr/lib/python3.10/cmd.py\", line 214, in onecmd\r\n    func = getattr(self, 'do_' + cmd)\r\nAttributeError: 'BQLShell' object has no attribute 'do_SELECT'\r\n\r\nDuring handling of the above exception, another exception occurred:\r\n\r\nTraceback (most recent call last):\r\n  File \"/home/philippe/.local/lib/python3.10/site-packages/beancount/query/shell.py\", line 271, in run_parser\r\n    self.dispatch(statement)\r\n  File \"/home/philippe/.local/lib/python3.10/site-packages/beancount/query/shell.py\", line 251, in dispatch\r\n    return method(statement)\r\n  File \"/home/philippe/.local/lib/python3.10/site-packages/beancount/query/shell.py\", line 416, in on_Select\r\n    rtypes, rrows = query_execute.execute_query(c_query,\r\n  File \"/home/philippe/.local/lib/python3.10/site-packages/beancount/query/query_execute.py\", line 317, in execute_query\r\n    if c_where is None or c_where(context):\r\n  File \"/home/philippe/.local/lib/python3.10/site-packages/beancount/query/query_compile.py\", line 121, in __call__\r\n    return self.operator(self.left(context), self.right(context))\r\nTypeError: '>=' not supported between instances of 'NoneType' and 'int'\r\n```\r\n\r\nAm I using `date_diff` / `cost_date` incorrectly? Is there a way to skip postings with a `cost_date` of type `NoneType`? Add a condition like `currency != 'EUR'` in the WHERE clause does filter out the entries but BQL doesn't seem to short-circuit conditions so it still returns that error","closed_by":{"login":"Philogy","id":21957732,"node_id":"MDQ6VXNlcjIxOTU3NzMy","avatar_url":"https://avatars.githubusercontent.com/u/21957732?v=4","gravatar_id":"","url":"https://api.github.com/users/Philogy","html_url":"https://github.com/Philogy","followers_url":"https://api.github.com/users/Philogy/followers","following_url":"https://api.github.com/users/Philogy/following{/other_user}","gists_url":"https://api.github.com/users/Philogy/gists{/gist_id}","starred_url":"https://api.github.com/users/Philogy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Philogy/subscriptions","organizations_url":"https://api.github.com/users/Philogy/orgs","repos_url":"https://api.github.com/users/Philogy/repos","events_url":"https://api.github.com/users/Philogy/events{/privacy}","received_events_url":"https://api.github.com/users/Philogy/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/beancount/beanquery/issues/121/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beanquery/issues/121/timeline","performed_via_github_app":null,"state_reason":"completed"},{"url":"https://api.github.com/repos/beancount/beanquery/issues/120","repository_url":"https://api.github.com/repos/beancount/beanquery","labels_url":"https://api.github.com/repos/beancount/beanquery/issues/120/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beanquery/issues/120/comments","events_url":"https://api.github.com/repos/beancount/beanquery/issues/120/events","html_url":"https://github.com/beancount/beanquery/pull/120","id":1480460126,"node_id":"PR_kwDOFUEJF85EjtK8","number":120,"title":"Fix shell help","user":{"login":"dnicolodi","id":987145,"node_id":"MDQ6VXNlcjk4NzE0NQ==","avatar_url":"https://avatars.githubusercontent.com/u/987145?v=4","gravatar_id":"","url":"https://api.github.com/users/dnicolodi","html_url":"https://github.com/dnicolodi","followers_url":"https://api.github.com/users/dnicolodi/followers","following_url":"https://api.github.com/users/dnicolodi/following{/other_user}","gists_url":"https://api.github.com/users/dnicolodi/gists{/gist_id}","starred_url":"https://api.github.com/users/dnicolodi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dnicolodi/subscriptions","organizations_url":"https://api.github.com/users/dnicolodi/orgs","repos_url":"https://api.github.com/users/dnicolodi/repos","events_url":"https://api.github.com/users/dnicolodi/events{/privacy}","received_events_url":"https://api.github.com/users/dnicolodi/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":0,"created_at":"2022-12-06T23:26:46Z","updated_at":"2023-03-04T20:01:09Z","closed_at":"2022-12-07T00:12:27Z","author_association":"COLLABORATOR","type":null,"active_lock_reason":null,"draft":false,"pull_request":{"url":"https://api.github.com/repos/beancount/beanquery/pulls/120","html_url":"https://github.com/beancount/beanquery/pull/120","diff_url":"https://github.com/beancount/beanquery/pull/120.diff","patch_url":"https://github.com/beancount/beanquery/pull/120.patch","merged_at":"2022-12-07T00:12:27Z"},"body":"Fixes #115.","closed_by":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/beancount/beanquery/issues/120/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beanquery/issues/120/timeline","performed_via_github_app":null,"state_reason":null},{"url":"https://api.github.com/repos/beancount/beanquery/issues/119","repository_url":"https://api.github.com/repos/beancount/beanquery","labels_url":"https://api.github.com/repos/beancount/beanquery/issues/119/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beanquery/issues/119/comments","events_url":"https://api.github.com/repos/beancount/beanquery/issues/119/events","html_url":"https://github.com/beancount/beanquery/pull/119","id":1480189232,"node_id":"PR_kwDOFUEJF85EivMu","number":119,"title":"Add #prices table definition","user":{"login":"dnicolodi","id":987145,"node_id":"MDQ6VXNlcjk4NzE0NQ==","avatar_url":"https://avatars.githubusercontent.com/u/987145?v=4","gravatar_id":"","url":"https://api.github.com/users/dnicolodi","html_url":"https://github.com/dnicolodi","followers_url":"https://api.github.com/users/dnicolodi/followers","following_url":"https://api.github.com/users/dnicolodi/following{/other_user}","gists_url":"https://api.github.com/users/dnicolodi/gists{/gist_id}","starred_url":"https://api.github.com/users/dnicolodi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dnicolodi/subscriptions","organizations_url":"https://api.github.com/users/dnicolodi/orgs","repos_url":"https://api.github.com/users/dnicolodi/repos","events_url":"https://api.github.com/users/dnicolodi/events{/privacy}","received_events_url":"https://api.github.com/users/dnicolodi/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":8,"created_at":"2022-12-06T21:09:26Z","updated_at":"2023-09-01T11:31:07Z","closed_at":"2023-09-01T11:31:06Z","author_association":"COLLABORATOR","type":null,"active_lock_reason":null,"draft":false,"pull_request":{"url":"https://api.github.com/repos/beancount/beanquery/pulls/119","html_url":"https://github.com/beancount/beanquery/pull/119","diff_url":"https://github.com/beancount/beanquery/pull/119.diff","patch_url":"https://github.com/beancount/beanquery/pull/119.patch","merged_at":"2023-09-01T11:31:06Z"},"body":"Fixes #118.","closed_by":{"login":"dnicolodi","id":987145,"node_id":"MDQ6VXNlcjk4NzE0NQ==","avatar_url":"https://avatars.githubusercontent.com/u/987145?v=4","gravatar_id":"","url":"https://api.github.com/users/dnicolodi","html_url":"https://github.com/dnicolodi","followers_url":"https://api.github.com/users/dnicolodi/followers","following_url":"https://api.github.com/users/dnicolodi/following{/other_user}","gists_url":"https://api.github.com/users/dnicolodi/gists{/gist_id}","starred_url":"https://api.github.com/users/dnicolodi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dnicolodi/subscriptions","organizations_url":"https://api.github.com/users/dnicolodi/orgs","repos_url":"https://api.github.com/users/dnicolodi/repos","events_url":"https://api.github.com/users/dnicolodi/events{/privacy}","received_events_url":"https://api.github.com/users/dnicolodi/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/beancount/beanquery/issues/119/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beanquery/issues/119/timeline","performed_via_github_app":null,"state_reason":null},{"url":"https://api.github.com/repos/beancount/beanquery/issues/118","repository_url":"https://api.github.com/repos/beancount/beanquery","labels_url":"https://api.github.com/repos/beancount/beanquery/issues/118/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beanquery/issues/118/comments","events_url":"https://api.github.com/repos/beancount/beanquery/issues/118/events","html_url":"https://github.com/beancount/beanquery/issues/118","id":1474520171,"node_id":"I_kwDOFUEJF85X42Rr","number":118,"title":"show prices?  `SELECT * from #prices`","user":{"login":"tbm","id":1556037,"node_id":"MDQ6VXNlcjE1NTYwMzc=","avatar_url":"https://avatars.githubusercontent.com/u/1556037?v=4","gravatar_id":"","url":"https://api.github.com/users/tbm","html_url":"https://github.com/tbm","followers_url":"https://api.github.com/users/tbm/followers","following_url":"https://api.github.com/users/tbm/following{/other_user}","gists_url":"https://api.github.com/users/tbm/gists{/gist_id}","starred_url":"https://api.github.com/users/tbm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tbm/subscriptions","organizations_url":"https://api.github.com/users/tbm/orgs","repos_url":"https://api.github.com/users/tbm/repos","events_url":"https://api.github.com/users/tbm/events{/privacy}","received_events_url":"https://api.github.com/users/tbm/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":2901894421,"node_id":"MDU6TGFiZWwyOTAxODk0NDIx","url":"https://api.github.com/repos/beancount/beanquery/labels/enhancement","name":"enhancement","color":"a2eeef","default":true,"description":"New feature or request"}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":1,"created_at":"2022-12-04T06:34:16Z","updated_at":"2023-09-01T11:31:07Z","closed_at":"2023-09-01T11:31:07Z","author_association":"CONTRIBUTOR","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"What do you think of add `#prices`?\r\n\r\nI'm not getting the result I expect from `VALUE()` and looking at the price database would be useful.\r\n","closed_by":{"login":"dnicolodi","id":987145,"node_id":"MDQ6VXNlcjk4NzE0NQ==","avatar_url":"https://avatars.githubusercontent.com/u/987145?v=4","gravatar_id":"","url":"https://api.github.com/users/dnicolodi","html_url":"https://github.com/dnicolodi","followers_url":"https://api.github.com/users/dnicolodi/followers","following_url":"https://api.github.com/users/dnicolodi/following{/other_user}","gists_url":"https://api.github.com/users/dnicolodi/gists{/gist_id}","starred_url":"https://api.github.com/users/dnicolodi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dnicolodi/subscriptions","organizations_url":"https://api.github.com/users/dnicolodi/orgs","repos_url":"https://api.github.com/users/dnicolodi/repos","events_url":"https://api.github.com/users/dnicolodi/events{/privacy}","received_events_url":"https://api.github.com/users/dnicolodi/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/beancount/beanquery/issues/118/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beanquery/issues/118/timeline","performed_via_github_app":null,"state_reason":"completed"},{"url":"https://api.github.com/repos/beancount/beanquery/issues/117","repository_url":"https://api.github.com/repos/beancount/beanquery","labels_url":"https://api.github.com/repos/beancount/beanquery/issues/117/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beanquery/issues/117/comments","events_url":"https://api.github.com/repos/beancount/beanquery/issues/117/events","html_url":"https://github.com/beancount/beanquery/issues/117","id":1470798372,"node_id":"I_kwDOFUEJF85Xqpok","number":117,"title":"Support `!~` regex match","user":{"login":"tbm","id":1556037,"node_id":"MDQ6VXNlcjE1NTYwMzc=","avatar_url":"https://avatars.githubusercontent.com/u/1556037?v=4","gravatar_id":"","url":"https://api.github.com/users/tbm","html_url":"https://github.com/tbm","followers_url":"https://api.github.com/users/tbm/followers","following_url":"https://api.github.com/users/tbm/following{/other_user}","gists_url":"https://api.github.com/users/tbm/gists{/gist_id}","starred_url":"https://api.github.com/users/tbm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tbm/subscriptions","organizations_url":"https://api.github.com/users/tbm/orgs","repos_url":"https://api.github.com/users/tbm/repos","events_url":"https://api.github.com/users/tbm/events{/privacy}","received_events_url":"https://api.github.com/users/tbm/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":2901894421,"node_id":"MDU6TGFiZWwyOTAxODk0NDIx","url":"https://api.github.com/repos/beancount/beanquery/labels/enhancement","name":"enhancement","color":"a2eeef","default":true,"description":"New feature or request"}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":0,"created_at":"2022-12-01T07:09:57Z","updated_at":"2023-08-18T20:52:02Z","closed_at":"2023-08-18T20:52:02Z","author_association":"CONTRIBUTOR","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"What do you think of supporting `!~` to make it easier to express `NOT ... ~`.  It it supported in PostgreSQL: https://www.postgresql.org/docs/current/functions-matching.html\r\n","closed_by":{"login":"dnicolodi","id":987145,"node_id":"MDQ6VXNlcjk4NzE0NQ==","avatar_url":"https://avatars.githubusercontent.com/u/987145?v=4","gravatar_id":"","url":"https://api.github.com/users/dnicolodi","html_url":"https://github.com/dnicolodi","followers_url":"https://api.github.com/users/dnicolodi/followers","following_url":"https://api.github.com/users/dnicolodi/following{/other_user}","gists_url":"https://api.github.com/users/dnicolodi/gists{/gist_id}","starred_url":"https://api.github.com/users/dnicolodi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dnicolodi/subscriptions","organizations_url":"https://api.github.com/users/dnicolodi/orgs","repos_url":"https://api.github.com/users/dnicolodi/repos","events_url":"https://api.github.com/users/dnicolodi/events{/privacy}","received_events_url":"https://api.github.com/users/dnicolodi/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/beancount/beanquery/issues/117/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beanquery/issues/117/timeline","performed_via_github_app":null,"state_reason":"completed"},{"url":"https://api.github.com/repos/beancount/beanquery/issues/116","repository_url":"https://api.github.com/repos/beancount/beanquery","labels_url":"https://api.github.com/repos/beancount/beanquery/issues/116/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beanquery/issues/116/comments","events_url":"https://api.github.com/repos/beancount/beanquery/issues/116/events","html_url":"https://github.com/beancount/beanquery/issues/116","id":1469308469,"node_id":"I_kwDOFUEJF85Xk941","number":116,"title":"Empty query (enter) leads to `AttributeError: 'NoneType' object has no attribute 'lower'`","user":{"login":"tbm","id":1556037,"node_id":"MDQ6VXNlcjE1NTYwMzc=","avatar_url":"https://avatars.githubusercontent.com/u/1556037?v=4","gravatar_id":"","url":"https://api.github.com/users/tbm","html_url":"https://github.com/tbm","followers_url":"https://api.github.com/users/tbm/followers","following_url":"https://api.github.com/users/tbm/following{/other_user}","gists_url":"https://api.github.com/users/tbm/gists{/gist_id}","starred_url":"https://api.github.com/users/tbm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tbm/subscriptions","organizations_url":"https://api.github.com/users/tbm/orgs","repos_url":"https://api.github.com/users/tbm/repos","events_url":"https://api.github.com/users/tbm/events{/privacy}","received_events_url":"https://api.github.com/users/tbm/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":2,"created_at":"2022-11-30T09:22:07Z","updated_at":"2022-12-04T18:56:20Z","closed_at":"2022-12-04T18:56:20Z","author_association":"CONTRIBUTOR","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"I'm not sure what I did to cause this.  I think I did \"cursor up\" to get a previous query, but not sure if that's related.\r\n\r\nBut basically now when I press \"enter\" in the prompt (without typing a query) I get:\r\n\r\n```\r\nbeancount> \r\nTraceback (most recent call last):\r\n  File \"/home/tbm/.local/bin/bean-query\", line 8, in <module>\r\n    sys.exit(main())\r\n  File \"/home/tbm/.local/lib/python3.9/site-packages/click/core.py\", line 1130, in __call__\r\n    return self.main(*args, **kwargs)\r\n  File \"/home/tbm/.local/lib/python3.9/site-packages/click/core.py\", line 1055, in main\r\n    rv = self.invoke(ctx)\r\n  File \"/home/tbm/.local/lib/python3.9/site-packages/click/core.py\", line 1404, in invoke\r\n    return ctx.invoke(self.callback, **ctx.params)\r\n  File \"/home/tbm/.local/lib/python3.9/site-packages/click/core.py\", line 760, in invoke\r\n    return __callback(*args, **kwargs)\r\n  File \"/home/tbm/.local/lib/python3.9/site-packages/beanquery/shell.py\", line 769, in main\r\n    shell_obj.cmdloop()\r\n  File \"/home/tbm/.local/lib/python3.9/site-packages/beanquery/shell.py\", line 193, in cmdloop\r\n    super().cmdloop(intro)\r\n  File \"/usr/lib/python3.9/cmd.py\", line 138, in cmdloop\r\n    stop = self.onecmd(line)\r\n  File \"/usr/lib/python3.9/cmd.py\", line 202, in onecmd\r\n    cmd, arg, line = self.parseline(line)\r\n  File \"/home/tbm/.local/lib/python3.9/site-packages/beanquery/shell.py\", line 202, in parseline\r\n    cmd = cmd.lower()\r\nAttributeError: 'NoneType' object has no attribute 'lower'\r\n```","closed_by":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/beancount/beanquery/issues/116/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beanquery/issues/116/timeline","performed_via_github_app":null,"state_reason":"completed"},{"url":"https://api.github.com/repos/beancount/beanquery/issues/115","repository_url":"https://api.github.com/repos/beancount/beanquery","labels_url":"https://api.github.com/repos/beancount/beanquery/issues/115/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beanquery/issues/115/comments","events_url":"https://api.github.com/repos/beancount/beanquery/issues/115/events","html_url":"https://github.com/beancount/beanquery/issues/115","id":1469301498,"node_id":"I_kwDOFUEJF85Xk8L6","number":115,"title":"`help from` leads to `AttributeError: 'EntriesTable' object has no attribute 'functions'`","user":{"login":"tbm","id":1556037,"node_id":"MDQ6VXNlcjE1NTYwMzc=","avatar_url":"https://avatars.githubusercontent.com/u/1556037?v=4","gravatar_id":"","url":"https://api.github.com/users/tbm","html_url":"https://github.com/tbm","followers_url":"https://api.github.com/users/tbm/followers","following_url":"https://api.github.com/users/tbm/following{/other_user}","gists_url":"https://api.github.com/users/tbm/gists{/gist_id}","starred_url":"https://api.github.com/users/tbm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tbm/subscriptions","organizations_url":"https://api.github.com/users/tbm/orgs","repos_url":"https://api.github.com/users/tbm/repos","events_url":"https://api.github.com/users/tbm/events{/privacy}","received_events_url":"https://api.github.com/users/tbm/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":1,"created_at":"2022-11-30T09:17:30Z","updated_at":"2022-12-07T00:12:28Z","closed_at":"2022-12-07T00:12:28Z","author_association":"CONTRIBUTOR","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"I typed `help from` and got a traceback:\r\n\r\n```\r\nbeancount> help from\r\nTraceback (most recent call last):\r\n  File \"/home/tbm/.local/bin/bean-query\", line 8, in <module>\r\n    sys.exit(main())\r\n  File \"/home/tbm/.local/lib/python3.9/site-packages/click/core.py\", line 1130, in __call__\r\n    return self.main(*args, **kwargs)\r\n  File \"/home/tbm/.local/lib/python3.9/site-packages/click/core.py\", line 1055, in main\r\n    rv = self.invoke(ctx)\r\n  File \"/home/tbm/.local/lib/python3.9/site-packages/click/core.py\", line 1404, in invoke\r\n    return ctx.invoke(self.callback, **ctx.params)\r\n  File \"/home/tbm/.local/lib/python3.9/site-packages/click/core.py\", line 760, in invoke\r\n    return __callback(*args, **kwargs)\r\n  File \"/home/tbm/.local/lib/python3.9/site-packages/beanquery/shell.py\", line 769, in main\r\n    shell_obj.cmdloop()\r\n  File \"/home/tbm/.local/lib/python3.9/site-packages/beanquery/shell.py\", line 193, in cmdloop\r\n    super().cmdloop(intro)\r\n  File \"/usr/lib/python3.9/cmd.py\", line 138, in cmdloop\r\n    stop = self.onecmd(line)\r\n  File \"/usr/lib/python3.9/cmd.py\", line 217, in onecmd\r\n    return func(arg)\r\n  File \"/usr/lib/python3.9/cmd.py\", line 308, in do_help\r\n    func()\r\n  File \"/home/tbm/.local/lib/python3.9/site-packages/beanquery/shell.py\", line 583, in help_from\r\n    print(template.format(**generate_env_attribute_list(query_compile.TABLES['entries'])), file=self.outfile)\r\n  File \"/home/tbm/.local/lib/python3.9/site-packages/beanquery/shell.py\", line 650, in generate_env_attribute_list\r\n    functions = generate_env_attributes(wrapper, env.functions, aggregates=False)\r\nAttributeError: 'EntriesTable' object has no attribute 'functions'\r\n```","closed_by":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/beancount/beanquery/issues/115/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beanquery/issues/115/timeline","performed_via_github_app":null,"state_reason":"completed"},{"url":"https://api.github.com/repos/beancount/beanquery/issues/114","repository_url":"https://api.github.com/repos/beancount/beanquery","labels_url":"https://api.github.com/repos/beancount/beanquery/issues/114/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beanquery/issues/114/comments","events_url":"https://api.github.com/repos/beancount/beanquery/issues/114/events","html_url":"https://github.com/beancount/beanquery/issues/114","id":1422577318,"node_id":"I_kwDOFUEJF85Uys6m","number":114,"title":"Support quoted identifiers","user":{"login":"dnicolodi","id":987145,"node_id":"MDQ6VXNlcjk4NzE0NQ==","avatar_url":"https://avatars.githubusercontent.com/u/987145?v=4","gravatar_id":"","url":"https://api.github.com/users/dnicolodi","html_url":"https://github.com/dnicolodi","followers_url":"https://api.github.com/users/dnicolodi/followers","following_url":"https://api.github.com/users/dnicolodi/following{/other_user}","gists_url":"https://api.github.com/users/dnicolodi/gists{/gist_id}","starred_url":"https://api.github.com/users/dnicolodi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dnicolodi/subscriptions","organizations_url":"https://api.github.com/users/dnicolodi/orgs","repos_url":"https://api.github.com/users/dnicolodi/repos","events_url":"https://api.github.com/users/dnicolodi/events{/privacy}","received_events_url":"https://api.github.com/users/dnicolodi/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":2901894421,"node_id":"MDU6TGFiZWwyOTAxODk0NDIx","url":"https://api.github.com/repos/beancount/beanquery/labels/enhancement","name":"enhancement","color":"a2eeef","default":true,"description":"New feature or request"},{"id":4004349250,"node_id":"LA_kwDOFUEJF87urYVC","url":"https://api.github.com/repos/beancount/beanquery/labels/parser","name":"parser","color":"fbca04","default":false,"description":"Involves BQL parser"},{"id":4013919697,"node_id":"LA_kwDOFUEJF87vP43R","url":"https://api.github.com/repos/beancount/beanquery/labels/proposal","name":"proposal","color":"F90187","default":false,"description":"Request for comment on proposed changes"},{"id":7111442006,"node_id":"LA_kwDOFUEJF88AAAABp9_-Vg","url":"https://api.github.com/repos/beancount/beanquery/labels/feature","name":"feature","color":"fef2c0","default":false,"description":"New feature"}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":5,"created_at":"2022-10-25T14:38:32Z","updated_at":"2025-02-03T10:37:15Z","closed_at":"2025-02-03T10:37:14Z","author_association":"COLLABORATOR","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"Currently BQL uses single `'` and double `\"` quotes interchangeably as string delimiters and does not have the concept of quoted identifiers. This make is impossible to have column names that collide with BQL keywords or that contain non-alphanumeric characters. This is sometimes annoying. \r\n\r\nStandard SQL uses single quotes `'` for string literals and double quotes `\"` for quoting identifiers. https://www.postgresql.org/docs/current/sql-syntax-lexical.html#SQL-SYNTAX-IDENTIFIERS\r\n\r\nShould BQL do the same? It would be a tiny patch to the parser. However, I expect this to break a fair number of user queries.\r\n\r\n@blais, do you have an opinion?","closed_by":{"login":"dnicolodi","id":987145,"node_id":"MDQ6VXNlcjk4NzE0NQ==","avatar_url":"https://avatars.githubusercontent.com/u/987145?v=4","gravatar_id":"","url":"https://api.github.com/users/dnicolodi","html_url":"https://github.com/dnicolodi","followers_url":"https://api.github.com/users/dnicolodi/followers","following_url":"https://api.github.com/users/dnicolodi/following{/other_user}","gists_url":"https://api.github.com/users/dnicolodi/gists{/gist_id}","starred_url":"https://api.github.com/users/dnicolodi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dnicolodi/subscriptions","organizations_url":"https://api.github.com/users/dnicolodi/orgs","repos_url":"https://api.github.com/users/dnicolodi/repos","events_url":"https://api.github.com/users/dnicolodi/events{/privacy}","received_events_url":"https://api.github.com/users/dnicolodi/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/beancount/beanquery/issues/114/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beanquery/issues/114/timeline","performed_via_github_app":null,"state_reason":"completed"},{"url":"https://api.github.com/repos/beancount/beanquery/issues/113","repository_url":"https://api.github.com/repos/beancount/beanquery","labels_url":"https://api.github.com/repos/beancount/beanquery/issues/113/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beanquery/issues/113/comments","events_url":"https://api.github.com/repos/beancount/beanquery/issues/113/events","html_url":"https://github.com/beancount/beanquery/pull/113","id":1419526816,"node_id":"PR_kwDOFUEJF85BWRdA","number":113,"title":"parser: Update TatSu generated parser","user":{"login":"dnicolodi","id":987145,"node_id":"MDQ6VXNlcjk4NzE0NQ==","avatar_url":"https://avatars.githubusercontent.com/u/987145?v=4","gravatar_id":"","url":"https://api.github.com/users/dnicolodi","html_url":"https://github.com/dnicolodi","followers_url":"https://api.github.com/users/dnicolodi/followers","following_url":"https://api.github.com/users/dnicolodi/following{/other_user}","gists_url":"https://api.github.com/users/dnicolodi/gists{/gist_id}","starred_url":"https://api.github.com/users/dnicolodi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dnicolodi/subscriptions","organizations_url":"https://api.github.com/users/dnicolodi/orgs","repos_url":"https://api.github.com/users/dnicolodi/repos","events_url":"https://api.github.com/users/dnicolodi/events{/privacy}","received_events_url":"https://api.github.com/users/dnicolodi/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":0,"created_at":"2022-10-22T22:05:54Z","updated_at":"2022-10-22T22:06:52Z","closed_at":"2022-10-22T22:06:52Z","author_association":"COLLABORATOR","type":null,"active_lock_reason":null,"draft":false,"pull_request":{"url":"https://api.github.com/repos/beancount/beanquery/pulls/113","html_url":"https://github.com/beancount/beanquery/pull/113","diff_url":"https://github.com/beancount/beanquery/pull/113.diff","patch_url":"https://github.com/beancount/beanquery/pull/113.patch","merged_at":"2022-10-22T22:06:52Z"},"body":null,"closed_by":{"login":"dnicolodi","id":987145,"node_id":"MDQ6VXNlcjk4NzE0NQ==","avatar_url":"https://avatars.githubusercontent.com/u/987145?v=4","gravatar_id":"","url":"https://api.github.com/users/dnicolodi","html_url":"https://github.com/dnicolodi","followers_url":"https://api.github.com/users/dnicolodi/followers","following_url":"https://api.github.com/users/dnicolodi/following{/other_user}","gists_url":"https://api.github.com/users/dnicolodi/gists{/gist_id}","starred_url":"https://api.github.com/users/dnicolodi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dnicolodi/subscriptions","organizations_url":"https://api.github.com/users/dnicolodi/orgs","repos_url":"https://api.github.com/users/dnicolodi/repos","events_url":"https://api.github.com/users/dnicolodi/events{/privacy}","received_events_url":"https://api.github.com/users/dnicolodi/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/beancount/beanquery/issues/113/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beanquery/issues/113/timeline","performed_via_github_app":null,"state_reason":null},{"url":"https://api.github.com/repos/beancount/beanquery/issues/112","repository_url":"https://api.github.com/repos/beancount/beanquery","labels_url":"https://api.github.com/repos/beancount/beanquery/issues/112/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beanquery/issues/112/comments","events_url":"https://api.github.com/repos/beancount/beanquery/issues/112/events","html_url":"https://github.com/beancount/beanquery/pull/112","id":1419514003,"node_id":"PR_kwDOFUEJF85BWPED","number":112,"title":"parser: Remove support for #'...' date literals","user":{"login":"dnicolodi","id":987145,"node_id":"MDQ6VXNlcjk4NzE0NQ==","avatar_url":"https://avatars.githubusercontent.com/u/987145?v=4","gravatar_id":"","url":"https://api.github.com/users/dnicolodi","html_url":"https://github.com/dnicolodi","followers_url":"https://api.github.com/users/dnicolodi/followers","following_url":"https://api.github.com/users/dnicolodi/following{/other_user}","gists_url":"https://api.github.com/users/dnicolodi/gists{/gist_id}","starred_url":"https://api.github.com/users/dnicolodi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dnicolodi/subscriptions","organizations_url":"https://api.github.com/users/dnicolodi/orgs","repos_url":"https://api.github.com/users/dnicolodi/repos","events_url":"https://api.github.com/users/dnicolodi/events{/privacy}","received_events_url":"https://api.github.com/users/dnicolodi/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":1,"created_at":"2022-10-22T21:14:21Z","updated_at":"2022-10-22T21:40:43Z","closed_at":"2022-10-22T21:40:43Z","author_association":"COLLABORATOR","type":null,"active_lock_reason":null,"draft":false,"pull_request":{"url":"https://api.github.com/repos/beancount/beanquery/pulls/112","html_url":"https://github.com/beancount/beanquery/pull/112","diff_url":"https://github.com/beancount/beanquery/pull/112.diff","patch_url":"https://github.com/beancount/beanquery/pull/112.patch","merged_at":"2022-10-22T21:40:43Z"},"body":"Fixes #86.","closed_by":{"login":"dnicolodi","id":987145,"node_id":"MDQ6VXNlcjk4NzE0NQ==","avatar_url":"https://avatars.githubusercontent.com/u/987145?v=4","gravatar_id":"","url":"https://api.github.com/users/dnicolodi","html_url":"https://github.com/dnicolodi","followers_url":"https://api.github.com/users/dnicolodi/followers","following_url":"https://api.github.com/users/dnicolodi/following{/other_user}","gists_url":"https://api.github.com/users/dnicolodi/gists{/gist_id}","starred_url":"https://api.github.com/users/dnicolodi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dnicolodi/subscriptions","organizations_url":"https://api.github.com/users/dnicolodi/orgs","repos_url":"https://api.github.com/users/dnicolodi/repos","events_url":"https://api.github.com/users/dnicolodi/events{/privacy}","received_events_url":"https://api.github.com/users/dnicolodi/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/beancount/beanquery/issues/112/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beanquery/issues/112/timeline","performed_via_github_app":null,"state_reason":null},{"url":"https://api.github.com/repos/beancount/beanquery/issues/111","repository_url":"https://api.github.com/repos/beancount/beanquery","labels_url":"https://api.github.com/repos/beancount/beanquery/issues/111/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beanquery/issues/111/comments","events_url":"https://api.github.com/repos/beancount/beanquery/issues/111/events","html_url":"https://github.com/beancount/beanquery/pull/111","id":1418924732,"node_id":"PR_kwDOFUEJF85BUTtG","number":111,"title":"Sundry fixes for aggregate functions","user":{"login":"dnicolodi","id":987145,"node_id":"MDQ6VXNlcjk4NzE0NQ==","avatar_url":"https://avatars.githubusercontent.com/u/987145?v=4","gravatar_id":"","url":"https://api.github.com/users/dnicolodi","html_url":"https://github.com/dnicolodi","followers_url":"https://api.github.com/users/dnicolodi/followers","following_url":"https://api.github.com/users/dnicolodi/following{/other_user}","gists_url":"https://api.github.com/users/dnicolodi/gists{/gist_id}","starred_url":"https://api.github.com/users/dnicolodi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dnicolodi/subscriptions","organizations_url":"https://api.github.com/users/dnicolodi/orgs","repos_url":"https://api.github.com/users/dnicolodi/repos","events_url":"https://api.github.com/users/dnicolodi/events{/privacy}","received_events_url":"https://api.github.com/users/dnicolodi/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":0,"created_at":"2022-10-21T22:37:32Z","updated_at":"2022-10-21T22:43:38Z","closed_at":"2022-10-21T22:43:38Z","author_association":"COLLABORATOR","type":null,"active_lock_reason":null,"draft":false,"pull_request":{"url":"https://api.github.com/repos/beancount/beanquery/pulls/111","html_url":"https://github.com/beancount/beanquery/pull/111","diff_url":"https://github.com/beancount/beanquery/pull/111.diff","patch_url":"https://github.com/beancount/beanquery/pull/111.patch","merged_at":"2022-10-21T22:43:38Z"},"body":null,"closed_by":{"login":"dnicolodi","id":987145,"node_id":"MDQ6VXNlcjk4NzE0NQ==","avatar_url":"https://avatars.githubusercontent.com/u/987145?v=4","gravatar_id":"","url":"https://api.github.com/users/dnicolodi","html_url":"https://github.com/dnicolodi","followers_url":"https://api.github.com/users/dnicolodi/followers","following_url":"https://api.github.com/users/dnicolodi/following{/other_user}","gists_url":"https://api.github.com/users/dnicolodi/gists{/gist_id}","starred_url":"https://api.github.com/users/dnicolodi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dnicolodi/subscriptions","organizations_url":"https://api.github.com/users/dnicolodi/orgs","repos_url":"https://api.github.com/users/dnicolodi/repos","events_url":"https://api.github.com/users/dnicolodi/events{/privacy}","received_events_url":"https://api.github.com/users/dnicolodi/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/beancount/beanquery/issues/111/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beanquery/issues/111/timeline","performed_via_github_app":null,"state_reason":null},{"url":"https://api.github.com/repos/beancount/beanquery/issues/110","repository_url":"https://api.github.com/repos/beancount/beanquery","labels_url":"https://api.github.com/repos/beancount/beanquery/issues/110/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beanquery/issues/110/comments","events_url":"https://api.github.com/repos/beancount/beanquery/issues/110/events","html_url":"https://github.com/beancount/beanquery/pull/110","id":1418854257,"node_id":"PR_kwDOFUEJF85BUEgM","number":110,"title":"shell: Do not require readline","user":{"login":"dnicolodi","id":987145,"node_id":"MDQ6VXNlcjk4NzE0NQ==","avatar_url":"https://avatars.githubusercontent.com/u/987145?v=4","gravatar_id":"","url":"https://api.github.com/users/dnicolodi","html_url":"https://github.com/dnicolodi","followers_url":"https://api.github.com/users/dnicolodi/followers","following_url":"https://api.github.com/users/dnicolodi/following{/other_user}","gists_url":"https://api.github.com/users/dnicolodi/gists{/gist_id}","starred_url":"https://api.github.com/users/dnicolodi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dnicolodi/subscriptions","organizations_url":"https://api.github.com/users/dnicolodi/orgs","repos_url":"https://api.github.com/users/dnicolodi/repos","events_url":"https://api.github.com/users/dnicolodi/events{/privacy}","received_events_url":"https://api.github.com/users/dnicolodi/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":0,"created_at":"2022-10-21T20:59:06Z","updated_at":"2022-10-21T21:13:20Z","closed_at":"2022-10-21T21:13:20Z","author_association":"COLLABORATOR","type":null,"active_lock_reason":null,"draft":false,"pull_request":{"url":"https://api.github.com/repos/beancount/beanquery/pulls/110","html_url":"https://github.com/beancount/beanquery/pull/110","diff_url":"https://github.com/beancount/beanquery/pull/110.diff","patch_url":"https://github.com/beancount/beanquery/pull/110.patch","merged_at":"2022-10-21T21:13:20Z"},"body":"It is not available on Windows.","closed_by":{"login":"dnicolodi","id":987145,"node_id":"MDQ6VXNlcjk4NzE0NQ==","avatar_url":"https://avatars.githubusercontent.com/u/987145?v=4","gravatar_id":"","url":"https://api.github.com/users/dnicolodi","html_url":"https://github.com/dnicolodi","followers_url":"https://api.github.com/users/dnicolodi/followers","following_url":"https://api.github.com/users/dnicolodi/following{/other_user}","gists_url":"https://api.github.com/users/dnicolodi/gists{/gist_id}","starred_url":"https://api.github.com/users/dnicolodi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dnicolodi/subscriptions","organizations_url":"https://api.github.com/users/dnicolodi/orgs","repos_url":"https://api.github.com/users/dnicolodi/repos","events_url":"https://api.github.com/users/dnicolodi/events{/privacy}","received_events_url":"https://api.github.com/users/dnicolodi/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/beancount/beanquery/issues/110/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beanquery/issues/110/timeline","performed_via_github_app":null,"state_reason":null},{"url":"https://api.github.com/repos/beancount/beanquery/issues/109","repository_url":"https://api.github.com/repos/beancount/beanquery","labels_url":"https://api.github.com/repos/beancount/beanquery/issues/109/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beanquery/issues/109/comments","events_url":"https://api.github.com/repos/beancount/beanquery/issues/109/events","html_url":"https://github.com/beancount/beanquery/issues/109","id":1411529814,"node_id":"I_kwDOFUEJF85UIjxW","number":109,"title":"Windows support (readline stdlib)","user":{"login":"maread99","id":56914820,"node_id":"MDQ6VXNlcjU2OTE0ODIw","avatar_url":"https://avatars.githubusercontent.com/u/56914820?v=4","gravatar_id":"","url":"https://api.github.com/users/maread99","html_url":"https://github.com/maread99","followers_url":"https://api.github.com/users/maread99/followers","following_url":"https://api.github.com/users/maread99/following{/other_user}","gists_url":"https://api.github.com/users/maread99/gists{/gist_id}","starred_url":"https://api.github.com/users/maread99/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/maread99/subscriptions","organizations_url":"https://api.github.com/users/maread99/orgs","repos_url":"https://api.github.com/users/maread99/repos","events_url":"https://api.github.com/users/maread99/events{/privacy}","received_events_url":"https://api.github.com/users/maread99/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":3,"created_at":"2022-10-17T12:53:58Z","updated_at":"2022-10-21T21:13:21Z","closed_at":"2022-10-21T21:13:21Z","author_association":"NONE","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"Hi\r\n\r\nI notice that `beanquery` is [using](https://github.com/beancount/beanquery/blob/ca24621e377130fa4763812c0b8ebb8c62ebb9b0/beanquery/shell.py#L11) the `readline` stdlib. This library is (I believe) not available to Python Window's installations. Is the lack of support for Windows intentional?","closed_by":{"login":"dnicolodi","id":987145,"node_id":"MDQ6VXNlcjk4NzE0NQ==","avatar_url":"https://avatars.githubusercontent.com/u/987145?v=4","gravatar_id":"","url":"https://api.github.com/users/dnicolodi","html_url":"https://github.com/dnicolodi","followers_url":"https://api.github.com/users/dnicolodi/followers","following_url":"https://api.github.com/users/dnicolodi/following{/other_user}","gists_url":"https://api.github.com/users/dnicolodi/gists{/gist_id}","starred_url":"https://api.github.com/users/dnicolodi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dnicolodi/subscriptions","organizations_url":"https://api.github.com/users/dnicolodi/orgs","repos_url":"https://api.github.com/users/dnicolodi/repos","events_url":"https://api.github.com/users/dnicolodi/events{/privacy}","received_events_url":"https://api.github.com/users/dnicolodi/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/beancount/beanquery/issues/109/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beanquery/issues/109/timeline","performed_via_github_app":null,"state_reason":"completed"},{"url":"https://api.github.com/repos/beancount/beanquery/issues/108","repository_url":"https://api.github.com/repos/beancount/beanquery","labels_url":"https://api.github.com/repos/beancount/beanquery/issues/108/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beanquery/issues/108/comments","events_url":"https://api.github.com/repos/beancount/beanquery/issues/108/events","html_url":"https://github.com/beancount/beanquery/issues/108","id":1338004888,"node_id":"I_kwDOFUEJF85PwFWY","number":108,"title":"sum(value(position)) that uses cost in some cases ","user":{"login":"muks","id":59651,"node_id":"MDQ6VXNlcjU5NjUx","avatar_url":"https://avatars.githubusercontent.com/u/59651?v=4","gravatar_id":"","url":"https://api.github.com/users/muks","html_url":"https://github.com/muks","followers_url":"https://api.github.com/users/muks/followers","following_url":"https://api.github.com/users/muks/following{/other_user}","gists_url":"https://api.github.com/users/muks/gists{/gist_id}","starred_url":"https://api.github.com/users/muks/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/muks/subscriptions","organizations_url":"https://api.github.com/users/muks/orgs","repos_url":"https://api.github.com/users/muks/repos","events_url":"https://api.github.com/users/muks/events{/privacy}","received_events_url":"https://api.github.com/users/muks/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":7,"created_at":"2022-08-13T16:38:59Z","updated_at":"2023-07-25T08:18:07Z","closed_at":"2023-07-25T08:18:07Z","author_association":"NONE","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"In management reports prepared according to our country's FRS, the statement of financial position (~balance sheet) is presented with holdings in foreign currency converted to market value, except for non-monetary items. Non-monetary items that are measured in terms of historical cost in a foreign currency are translated using the exchange rates as at the dates of the initial transactions. As an example of such assets, prepayments can be monetary or non-monetary. The statement of financial position contains a mix of both (some presented at value, and some presented at cost), and we have to `sum()` a mix of them to get the total assets, and total equity and liabilities.\r\n\r\nBecause there are a mix of both and we want the sum over them, functions such as `sum(value(position))` or `sum(cost(position))` do not return the correct result as they use the market value or cost for _all_ the positions. I browsed the `beanquery` code to see if metadata such as `value-at-cost: 1` after the `open` statement can be added and then used in the function that handles `value(position)` in `query_env.py`. The function would check if the metadata is set for that account and use cost or value appropriately. However, a `Position` is just an `Amount` and `Cost` and metadata about the account cannot be accessed, so this way didn't work out.\r\n\r\nPlease could you suggest what I could do to achieve a `sum(position)` query where it uses the value or the cost depending on the type of asset?\r\n","closed_by":{"login":"dnicolodi","id":987145,"node_id":"MDQ6VXNlcjk4NzE0NQ==","avatar_url":"https://avatars.githubusercontent.com/u/987145?v=4","gravatar_id":"","url":"https://api.github.com/users/dnicolodi","html_url":"https://github.com/dnicolodi","followers_url":"https://api.github.com/users/dnicolodi/followers","following_url":"https://api.github.com/users/dnicolodi/following{/other_user}","gists_url":"https://api.github.com/users/dnicolodi/gists{/gist_id}","starred_url":"https://api.github.com/users/dnicolodi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dnicolodi/subscriptions","organizations_url":"https://api.github.com/users/dnicolodi/orgs","repos_url":"https://api.github.com/users/dnicolodi/repos","events_url":"https://api.github.com/users/dnicolodi/events{/privacy}","received_events_url":"https://api.github.com/users/dnicolodi/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/beancount/beanquery/issues/108/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beanquery/issues/108/timeline","performed_via_github_app":null,"state_reason":"not_planned"},{"url":"https://api.github.com/repos/beancount/beanquery/issues/107","repository_url":"https://api.github.com/repos/beancount/beanquery","labels_url":"https://api.github.com/repos/beancount/beanquery/issues/107/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beanquery/issues/107/comments","events_url":"https://api.github.com/repos/beancount/beanquery/issues/107/events","html_url":"https://github.com/beancount/beanquery/issues/107","id":1337952904,"node_id":"I_kwDOFUEJF85Pv4qI","number":107,"title":"value(position) when generating balance for previous FY","user":{"login":"muks","id":59651,"node_id":"MDQ6VXNlcjU5NjUx","avatar_url":"https://avatars.githubusercontent.com/u/59651?v=4","gravatar_id":"","url":"https://api.github.com/users/muks","html_url":"https://github.com/muks","followers_url":"https://api.github.com/users/muks/followers","following_url":"https://api.github.com/users/muks/following{/other_user}","gists_url":"https://api.github.com/users/muks/gists{/gist_id}","starred_url":"https://api.github.com/users/muks/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/muks/subscriptions","organizations_url":"https://api.github.com/users/muks/orgs","repos_url":"https://api.github.com/users/muks/repos","events_url":"https://api.github.com/users/muks/events{/privacy}","received_events_url":"https://api.github.com/users/muks/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":3,"created_at":"2022-08-13T12:53:16Z","updated_at":"2022-08-13T13:20:36Z","closed_at":"2022-08-13T13:11:15Z","author_association":"NONE","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"When generating the balance of an account (at market value for presentation in a management report) for a previous financial year, e.g., ending on 2021-03-31, we may use the following `bean-query` SQL statement:\r\n\r\n```sql\r\nSELECT sum(value(position)) FROM CLOSE ON 2021-04-01 CLEAR WHERE account ~ '^Assets:Current:Cash-And-Short-Term-Deposits';\r\n```\r\n\r\nAssume the journal input contains price statements such as:\r\n```\r\n2021-03-31 price USD 1.3472 SGD\r\n2022-03-31 price USD 1.3534 SGD\r\n```\r\n\r\nUnfortunately, the query above seems to use `price` statements that came after 2021-03-31 to compute the market value of the position (it seems to use the most recent `price` statement in the journal input which is from 2022-03-31). It does not appear to regard the `CLOSE ON 2021-04-01` to limit looking for prices. I'm not able to generate a table of balances of this year and the previous year in a management report, where the previous year's balances have to match the market rates on that financial year's closing reporting date.\r\n\r\nI don't know if this is a bug, or if some other clause has to be used to make `bean-query` limit looking for `price` statements up to 2021-03-31. Please can you advise?\r\n","closed_by":{"login":"muks","id":59651,"node_id":"MDQ6VXNlcjU5NjUx","avatar_url":"https://avatars.githubusercontent.com/u/59651?v=4","gravatar_id":"","url":"https://api.github.com/users/muks","html_url":"https://github.com/muks","followers_url":"https://api.github.com/users/muks/followers","following_url":"https://api.github.com/users/muks/following{/other_user}","gists_url":"https://api.github.com/users/muks/gists{/gist_id}","starred_url":"https://api.github.com/users/muks/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/muks/subscriptions","organizations_url":"https://api.github.com/users/muks/orgs","repos_url":"https://api.github.com/users/muks/repos","events_url":"https://api.github.com/users/muks/events{/privacy}","received_events_url":"https://api.github.com/users/muks/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/beancount/beanquery/issues/107/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beanquery/issues/107/timeline","performed_via_github_app":null,"state_reason":"completed"},{"url":"https://api.github.com/repos/beancount/beanquery/issues/106","repository_url":"https://api.github.com/repos/beancount/beanquery","labels_url":"https://api.github.com/repos/beancount/beanquery/issues/106/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beanquery/issues/106/comments","events_url":"https://api.github.com/repos/beancount/beanquery/issues/106/events","html_url":"https://github.com/beancount/beanquery/pull/106","id":1330763829,"node_id":"PR_kwDOFUEJF848whPf","number":106,"title":"More work toward regularization","user":{"login":"dnicolodi","id":987145,"node_id":"MDQ6VXNlcjk4NzE0NQ==","avatar_url":"https://avatars.githubusercontent.com/u/987145?v=4","gravatar_id":"","url":"https://api.github.com/users/dnicolodi","html_url":"https://github.com/dnicolodi","followers_url":"https://api.github.com/users/dnicolodi/followers","following_url":"https://api.github.com/users/dnicolodi/following{/other_user}","gists_url":"https://api.github.com/users/dnicolodi/gists{/gist_id}","starred_url":"https://api.github.com/users/dnicolodi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dnicolodi/subscriptions","organizations_url":"https://api.github.com/users/dnicolodi/orgs","repos_url":"https://api.github.com/users/dnicolodi/repos","events_url":"https://api.github.com/users/dnicolodi/events{/privacy}","received_events_url":"https://api.github.com/users/dnicolodi/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":1,"created_at":"2022-08-06T14:18:25Z","updated_at":"2022-08-15T08:25:11Z","closed_at":"2022-08-15T08:25:11Z","author_association":"COLLABORATOR","type":null,"active_lock_reason":null,"draft":false,"pull_request":{"url":"https://api.github.com/repos/beancount/beanquery/pulls/106","html_url":"https://github.com/beancount/beanquery/pull/106","diff_url":"https://github.com/beancount/beanquery/pull/106.diff","patch_url":"https://github.com/beancount/beanquery/pull/106.patch","merged_at":"2022-08-15T08:25:11Z"},"body":null,"closed_by":{"login":"dnicolodi","id":987145,"node_id":"MDQ6VXNlcjk4NzE0NQ==","avatar_url":"https://avatars.githubusercontent.com/u/987145?v=4","gravatar_id":"","url":"https://api.github.com/users/dnicolodi","html_url":"https://github.com/dnicolodi","followers_url":"https://api.github.com/users/dnicolodi/followers","following_url":"https://api.github.com/users/dnicolodi/following{/other_user}","gists_url":"https://api.github.com/users/dnicolodi/gists{/gist_id}","starred_url":"https://api.github.com/users/dnicolodi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dnicolodi/subscriptions","organizations_url":"https://api.github.com/users/dnicolodi/orgs","repos_url":"https://api.github.com/users/dnicolodi/repos","events_url":"https://api.github.com/users/dnicolodi/events{/privacy}","received_events_url":"https://api.github.com/users/dnicolodi/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/beancount/beanquery/issues/106/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beanquery/issues/106/timeline","performed_via_github_app":null,"state_reason":null},{"url":"https://api.github.com/repos/beancount/beanquery/issues/105","repository_url":"https://api.github.com/repos/beancount/beanquery","labels_url":"https://api.github.com/repos/beancount/beanquery/issues/105/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beanquery/issues/105/comments","events_url":"https://api.github.com/repos/beancount/beanquery/issues/105/events","html_url":"https://github.com/beancount/beanquery/pull/105","id":1315744495,"node_id":"PR_kwDOFUEJF847_L6G","number":105,"title":"compile: Implement constants folding","user":{"login":"dnicolodi","id":987145,"node_id":"MDQ6VXNlcjk4NzE0NQ==","avatar_url":"https://avatars.githubusercontent.com/u/987145?v=4","gravatar_id":"","url":"https://api.github.com/users/dnicolodi","html_url":"https://github.com/dnicolodi","followers_url":"https://api.github.com/users/dnicolodi/followers","following_url":"https://api.github.com/users/dnicolodi/following{/other_user}","gists_url":"https://api.github.com/users/dnicolodi/gists{/gist_id}","starred_url":"https://api.github.com/users/dnicolodi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dnicolodi/subscriptions","organizations_url":"https://api.github.com/users/dnicolodi/orgs","repos_url":"https://api.github.com/users/dnicolodi/repos","events_url":"https://api.github.com/users/dnicolodi/events{/privacy}","received_events_url":"https://api.github.com/users/dnicolodi/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":0,"created_at":"2022-07-23T20:56:51Z","updated_at":"2022-07-23T23:12:32Z","closed_at":"2022-07-23T23:12:32Z","author_association":"COLLABORATOR","type":null,"active_lock_reason":null,"draft":false,"pull_request":{"url":"https://api.github.com/repos/beancount/beanquery/pulls/105","html_url":"https://github.com/beancount/beanquery/pull/105","diff_url":"https://github.com/beancount/beanquery/pull/105.diff","patch_url":"https://github.com/beancount/beanquery/pull/105.patch","merged_at":"2022-07-23T23:12:32Z"},"body":"This generalizes and improves what was previously done only for the\r\nnegation operator. Applying this to functions requires marking\r\nfunctions that depend on the context and do not apply the optimization\r\nto these.","closed_by":{"login":"dnicolodi","id":987145,"node_id":"MDQ6VXNlcjk4NzE0NQ==","avatar_url":"https://avatars.githubusercontent.com/u/987145?v=4","gravatar_id":"","url":"https://api.github.com/users/dnicolodi","html_url":"https://github.com/dnicolodi","followers_url":"https://api.github.com/users/dnicolodi/followers","following_url":"https://api.github.com/users/dnicolodi/following{/other_user}","gists_url":"https://api.github.com/users/dnicolodi/gists{/gist_id}","starred_url":"https://api.github.com/users/dnicolodi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dnicolodi/subscriptions","organizations_url":"https://api.github.com/users/dnicolodi/orgs","repos_url":"https://api.github.com/users/dnicolodi/repos","events_url":"https://api.github.com/users/dnicolodi/events{/privacy}","received_events_url":"https://api.github.com/users/dnicolodi/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/beancount/beanquery/issues/105/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beanquery/issues/105/timeline","performed_via_github_app":null,"state_reason":null},{"url":"https://api.github.com/repos/beancount/beanquery/issues/104","repository_url":"https://api.github.com/repos/beancount/beanquery","labels_url":"https://api.github.com/repos/beancount/beanquery/issues/104/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beanquery/issues/104/comments","events_url":"https://api.github.com/repos/beancount/beanquery/issues/104/events","html_url":"https://github.com/beancount/beanquery/pull/104","id":1315735884,"node_id":"PR_kwDOFUEJF847_KSh","number":104,"title":"Sundry code rearganization in preparation of parser rewrite","user":{"login":"dnicolodi","id":987145,"node_id":"MDQ6VXNlcjk4NzE0NQ==","avatar_url":"https://avatars.githubusercontent.com/u/987145?v=4","gravatar_id":"","url":"https://api.github.com/users/dnicolodi","html_url":"https://github.com/dnicolodi","followers_url":"https://api.github.com/users/dnicolodi/followers","following_url":"https://api.github.com/users/dnicolodi/following{/other_user}","gists_url":"https://api.github.com/users/dnicolodi/gists{/gist_id}","starred_url":"https://api.github.com/users/dnicolodi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dnicolodi/subscriptions","organizations_url":"https://api.github.com/users/dnicolodi/orgs","repos_url":"https://api.github.com/users/dnicolodi/repos","events_url":"https://api.github.com/users/dnicolodi/events{/privacy}","received_events_url":"https://api.github.com/users/dnicolodi/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":0,"created_at":"2022-07-23T20:03:40Z","updated_at":"2022-07-23T20:04:44Z","closed_at":"2022-07-23T20:04:44Z","author_association":"COLLABORATOR","type":null,"active_lock_reason":null,"draft":false,"pull_request":{"url":"https://api.github.com/repos/beancount/beanquery/pulls/104","html_url":"https://github.com/beancount/beanquery/pull/104","diff_url":"https://github.com/beancount/beanquery/pull/104.diff","patch_url":"https://github.com/beancount/beanquery/pull/104.patch","merged_at":"2022-07-23T20:04:44Z"},"body":null,"closed_by":{"login":"dnicolodi","id":987145,"node_id":"MDQ6VXNlcjk4NzE0NQ==","avatar_url":"https://avatars.githubusercontent.com/u/987145?v=4","gravatar_id":"","url":"https://api.github.com/users/dnicolodi","html_url":"https://github.com/dnicolodi","followers_url":"https://api.github.com/users/dnicolodi/followers","following_url":"https://api.github.com/users/dnicolodi/following{/other_user}","gists_url":"https://api.github.com/users/dnicolodi/gists{/gist_id}","starred_url":"https://api.github.com/users/dnicolodi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dnicolodi/subscriptions","organizations_url":"https://api.github.com/users/dnicolodi/orgs","repos_url":"https://api.github.com/users/dnicolodi/repos","events_url":"https://api.github.com/users/dnicolodi/events{/privacy}","received_events_url":"https://api.github.com/users/dnicolodi/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/beancount/beanquery/issues/104/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beanquery/issues/104/timeline","performed_via_github_app":null,"state_reason":null},{"url":"https://api.github.com/repos/beancount/beanquery/issues/103","repository_url":"https://api.github.com/repos/beancount/beanquery","labels_url":"https://api.github.com/repos/beancount/beanquery/issues/103/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beanquery/issues/103/comments","events_url":"https://api.github.com/repos/beancount/beanquery/issues/103/events","html_url":"https://github.com/beancount/beanquery/pull/103","id":1315728569,"node_id":"PR_kwDOFUEJF847_I7a","number":103,"title":"setup: Update","user":{"login":"dnicolodi","id":987145,"node_id":"MDQ6VXNlcjk4NzE0NQ==","avatar_url":"https://avatars.githubusercontent.com/u/987145?v=4","gravatar_id":"","url":"https://api.github.com/users/dnicolodi","html_url":"https://github.com/dnicolodi","followers_url":"https://api.github.com/users/dnicolodi/followers","following_url":"https://api.github.com/users/dnicolodi/following{/other_user}","gists_url":"https://api.github.com/users/dnicolodi/gists{/gist_id}","starred_url":"https://api.github.com/users/dnicolodi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dnicolodi/subscriptions","organizations_url":"https://api.github.com/users/dnicolodi/orgs","repos_url":"https://api.github.com/users/dnicolodi/repos","events_url":"https://api.github.com/users/dnicolodi/events{/privacy}","received_events_url":"https://api.github.com/users/dnicolodi/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":0,"created_at":"2022-07-23T19:19:31Z","updated_at":"2022-07-23T19:49:07Z","closed_at":"2022-07-23T19:49:07Z","author_association":"COLLABORATOR","type":null,"active_lock_reason":null,"draft":false,"pull_request":{"url":"https://api.github.com/repos/beancount/beanquery/pulls/103","html_url":"https://github.com/beancount/beanquery/pull/103","diff_url":"https://github.com/beancount/beanquery/pull/103.diff","patch_url":"https://github.com/beancount/beanquery/pull/103.patch","merged_at":"2022-07-23T19:49:07Z"},"body":"Fix license file name. Add myself as maintainer. Update classifiers.","closed_by":{"login":"dnicolodi","id":987145,"node_id":"MDQ6VXNlcjk4NzE0NQ==","avatar_url":"https://avatars.githubusercontent.com/u/987145?v=4","gravatar_id":"","url":"https://api.github.com/users/dnicolodi","html_url":"https://github.com/dnicolodi","followers_url":"https://api.github.com/users/dnicolodi/followers","following_url":"https://api.github.com/users/dnicolodi/following{/other_user}","gists_url":"https://api.github.com/users/dnicolodi/gists{/gist_id}","starred_url":"https://api.github.com/users/dnicolodi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dnicolodi/subscriptions","organizations_url":"https://api.github.com/users/dnicolodi/orgs","repos_url":"https://api.github.com/users/dnicolodi/repos","events_url":"https://api.github.com/users/dnicolodi/events{/privacy}","received_events_url":"https://api.github.com/users/dnicolodi/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/beancount/beanquery/issues/103/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beanquery/issues/103/timeline","performed_via_github_app":null,"state_reason":null},{"url":"https://api.github.com/repos/beancount/beanquery/issues/102","repository_url":"https://api.github.com/repos/beancount/beanquery","labels_url":"https://api.github.com/repos/beancount/beanquery/issues/102/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beanquery/issues/102/comments","events_url":"https://api.github.com/repos/beancount/beanquery/issues/102/events","html_url":"https://github.com/beancount/beanquery/pull/102","id":1272712846,"node_id":"PR_kwDOFUEJF845u6dN","number":102,"title":"Update license_file","user":{"login":"nicdumz","id":118999,"node_id":"MDQ6VXNlcjExODk5OQ==","avatar_url":"https://avatars.githubusercontent.com/u/118999?v=4","gravatar_id":"","url":"https://api.github.com/users/nicdumz","html_url":"https://github.com/nicdumz","followers_url":"https://api.github.com/users/nicdumz/followers","following_url":"https://api.github.com/users/nicdumz/following{/other_user}","gists_url":"https://api.github.com/users/nicdumz/gists{/gist_id}","starred_url":"https://api.github.com/users/nicdumz/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nicdumz/subscriptions","organizations_url":"https://api.github.com/users/nicdumz/orgs","repos_url":"https://api.github.com/users/nicdumz/repos","events_url":"https://api.github.com/users/nicdumz/events{/privacy}","received_events_url":"https://api.github.com/users/nicdumz/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":1,"created_at":"2022-06-15T20:40:29Z","updated_at":"2022-07-23T19:49:32Z","closed_at":"2022-07-23T19:49:32Z","author_association":"NONE","type":null,"active_lock_reason":null,"draft":false,"pull_request":{"url":"https://api.github.com/repos/beancount/beanquery/pulls/102","html_url":"https://github.com/beancount/beanquery/pull/102","diff_url":"https://github.com/beancount/beanquery/pull/102.diff","patch_url":"https://github.com/beancount/beanquery/pull/102.patch","merged_at":null},"body":"The current license filename is LICENSE.","closed_by":{"login":"dnicolodi","id":987145,"node_id":"MDQ6VXNlcjk4NzE0NQ==","avatar_url":"https://avatars.githubusercontent.com/u/987145?v=4","gravatar_id":"","url":"https://api.github.com/users/dnicolodi","html_url":"https://github.com/dnicolodi","followers_url":"https://api.github.com/users/dnicolodi/followers","following_url":"https://api.github.com/users/dnicolodi/following{/other_user}","gists_url":"https://api.github.com/users/dnicolodi/gists{/gist_id}","starred_url":"https://api.github.com/users/dnicolodi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dnicolodi/subscriptions","organizations_url":"https://api.github.com/users/dnicolodi/orgs","repos_url":"https://api.github.com/users/dnicolodi/repos","events_url":"https://api.github.com/users/dnicolodi/events{/privacy}","received_events_url":"https://api.github.com/users/dnicolodi/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/beancount/beanquery/issues/102/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beanquery/issues/102/timeline","performed_via_github_app":null,"state_reason":null},{"url":"https://api.github.com/repos/beancount/beanquery/issues/100","repository_url":"https://api.github.com/repos/beancount/beanquery","labels_url":"https://api.github.com/repos/beancount/beanquery/issues/100/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beanquery/issues/100/comments","events_url":"https://api.github.com/repos/beancount/beanquery/issues/100/events","html_url":"https://github.com/beancount/beanquery/pull/100","id":1263851154,"node_id":"PR_kwDOFUEJF845ReYc","number":100,"title":"pylint: Silence some warnings","user":{"login":"dnicolodi","id":987145,"node_id":"MDQ6VXNlcjk4NzE0NQ==","avatar_url":"https://avatars.githubusercontent.com/u/987145?v=4","gravatar_id":"","url":"https://api.github.com/users/dnicolodi","html_url":"https://github.com/dnicolodi","followers_url":"https://api.github.com/users/dnicolodi/followers","following_url":"https://api.github.com/users/dnicolodi/following{/other_user}","gists_url":"https://api.github.com/users/dnicolodi/gists{/gist_id}","starred_url":"https://api.github.com/users/dnicolodi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dnicolodi/subscriptions","organizations_url":"https://api.github.com/users/dnicolodi/orgs","repos_url":"https://api.github.com/users/dnicolodi/repos","events_url":"https://api.github.com/users/dnicolodi/events{/privacy}","received_events_url":"https://api.github.com/users/dnicolodi/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":0,"created_at":"2022-06-07T20:49:13Z","updated_at":"2022-06-17T13:49:24Z","closed_at":"2022-06-17T13:49:24Z","author_association":"COLLABORATOR","type":null,"active_lock_reason":null,"draft":false,"pull_request":{"url":"https://api.github.com/repos/beancount/beanquery/pulls/100","html_url":"https://github.com/beancount/beanquery/pull/100","diff_url":"https://github.com/beancount/beanquery/pull/100.diff","patch_url":"https://github.com/beancount/beanquery/pull/100.patch","merged_at":"2022-06-17T13:49:24Z"},"body":null,"closed_by":{"login":"dnicolodi","id":987145,"node_id":"MDQ6VXNlcjk4NzE0NQ==","avatar_url":"https://avatars.githubusercontent.com/u/987145?v=4","gravatar_id":"","url":"https://api.github.com/users/dnicolodi","html_url":"https://github.com/dnicolodi","followers_url":"https://api.github.com/users/dnicolodi/followers","following_url":"https://api.github.com/users/dnicolodi/following{/other_user}","gists_url":"https://api.github.com/users/dnicolodi/gists{/gist_id}","starred_url":"https://api.github.com/users/dnicolodi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dnicolodi/subscriptions","organizations_url":"https://api.github.com/users/dnicolodi/orgs","repos_url":"https://api.github.com/users/dnicolodi/repos","events_url":"https://api.github.com/users/dnicolodi/events{/privacy}","received_events_url":"https://api.github.com/users/dnicolodi/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/beancount/beanquery/issues/100/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beanquery/issues/100/timeline","performed_via_github_app":null,"state_reason":null},{"url":"https://api.github.com/repos/beancount/beanquery/issues/99","repository_url":"https://api.github.com/repos/beancount/beanquery","labels_url":"https://api.github.com/repos/beancount/beanquery/issues/99/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beanquery/issues/99/comments","events_url":"https://api.github.com/repos/beancount/beanquery/issues/99/events","html_url":"https://github.com/beancount/beanquery/pull/99","id":1261156512,"node_id":"PR_kwDOFUEJF845IYpu","number":99,"title":"parser: Switch to TatSu as parser generator","user":{"login":"dnicolodi","id":987145,"node_id":"MDQ6VXNlcjk4NzE0NQ==","avatar_url":"https://avatars.githubusercontent.com/u/987145?v=4","gravatar_id":"","url":"https://api.github.com/users/dnicolodi","html_url":"https://github.com/dnicolodi","followers_url":"https://api.github.com/users/dnicolodi/followers","following_url":"https://api.github.com/users/dnicolodi/following{/other_user}","gists_url":"https://api.github.com/users/dnicolodi/gists{/gist_id}","starred_url":"https://api.github.com/users/dnicolodi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dnicolodi/subscriptions","organizations_url":"https://api.github.com/users/dnicolodi/orgs","repos_url":"https://api.github.com/users/dnicolodi/repos","events_url":"https://api.github.com/users/dnicolodi/events{/privacy}","received_events_url":"https://api.github.com/users/dnicolodi/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":1,"created_at":"2022-06-05T20:48:44Z","updated_at":"2022-07-31T14:58:58Z","closed_at":"2022-07-31T14:58:58Z","author_association":"COLLABORATOR","type":null,"active_lock_reason":null,"draft":false,"pull_request":{"url":"https://api.github.com/repos/beancount/beanquery/pulls/99","html_url":"https://github.com/beancount/beanquery/pull/99","diff_url":"https://github.com/beancount/beanquery/pull/99.diff","patch_url":"https://github.com/beancount/beanquery/pull/99.patch","merged_at":"2022-07-31T14:58:58Z"},"body":"This started as an effort to add parsing location to the parsed AST and ended in a rewrite of the parser.\r\n\r\nUnfortunately adding this to the PLY parser is a lot of work so I was looking into another parser generator that could do the heavy lifting for us. TatSu is a pretty cool PEG parser generator. The parser is almost completely generated from an EBNF-like description of the grammar.\r\n\r\nRight now the parser generates an syntax tree that is then mapped into the existing data structures. The idea is to modify the definition of the AST nodes consumed by the compiler and have this definition also generated by TatSu.","closed_by":{"login":"dnicolodi","id":987145,"node_id":"MDQ6VXNlcjk4NzE0NQ==","avatar_url":"https://avatars.githubusercontent.com/u/987145?v=4","gravatar_id":"","url":"https://api.github.com/users/dnicolodi","html_url":"https://github.com/dnicolodi","followers_url":"https://api.github.com/users/dnicolodi/followers","following_url":"https://api.github.com/users/dnicolodi/following{/other_user}","gists_url":"https://api.github.com/users/dnicolodi/gists{/gist_id}","starred_url":"https://api.github.com/users/dnicolodi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dnicolodi/subscriptions","organizations_url":"https://api.github.com/users/dnicolodi/orgs","repos_url":"https://api.github.com/users/dnicolodi/repos","events_url":"https://api.github.com/users/dnicolodi/events{/privacy}","received_events_url":"https://api.github.com/users/dnicolodi/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/beancount/beanquery/issues/99/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beanquery/issues/99/timeline","performed_via_github_app":null,"state_reason":null},{"url":"https://api.github.com/repos/beancount/beanquery/issues/98","repository_url":"https://api.github.com/repos/beancount/beanquery","labels_url":"https://api.github.com/repos/beancount/beanquery/issues/98/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beanquery/issues/98/comments","events_url":"https://api.github.com/repos/beancount/beanquery/issues/98/events","html_url":"https://github.com/beancount/beanquery/pull/98","id":1249377612,"node_id":"PR_kwDOFUEJF844guY7","number":98,"title":"Refactor columns definitions","user":{"login":"dnicolodi","id":987145,"node_id":"MDQ6VXNlcjk4NzE0NQ==","avatar_url":"https://avatars.githubusercontent.com/u/987145?v=4","gravatar_id":"","url":"https://api.github.com/users/dnicolodi","html_url":"https://github.com/dnicolodi","followers_url":"https://api.github.com/users/dnicolodi/followers","following_url":"https://api.github.com/users/dnicolodi/following{/other_user}","gists_url":"https://api.github.com/users/dnicolodi/gists{/gist_id}","starred_url":"https://api.github.com/users/dnicolodi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dnicolodi/subscriptions","organizations_url":"https://api.github.com/users/dnicolodi/orgs","repos_url":"https://api.github.com/users/dnicolodi/repos","events_url":"https://api.github.com/users/dnicolodi/events{/privacy}","received_events_url":"https://api.github.com/users/dnicolodi/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":0,"created_at":"2022-05-26T10:17:29Z","updated_at":"2022-06-07T20:41:21Z","closed_at":"2022-06-07T20:41:21Z","author_association":"COLLABORATOR","type":null,"active_lock_reason":null,"draft":false,"pull_request":{"url":"https://api.github.com/repos/beancount/beanquery/pulls/98","html_url":"https://github.com/beancount/beanquery/pull/98","diff_url":"https://github.com/beancount/beanquery/pull/98.diff","patch_url":"https://github.com/beancount/beanquery/pull/98.patch","merged_at":"2022-06-07T20:41:21Z"},"body":null,"closed_by":{"login":"dnicolodi","id":987145,"node_id":"MDQ6VXNlcjk4NzE0NQ==","avatar_url":"https://avatars.githubusercontent.com/u/987145?v=4","gravatar_id":"","url":"https://api.github.com/users/dnicolodi","html_url":"https://github.com/dnicolodi","followers_url":"https://api.github.com/users/dnicolodi/followers","following_url":"https://api.github.com/users/dnicolodi/following{/other_user}","gists_url":"https://api.github.com/users/dnicolodi/gists{/gist_id}","starred_url":"https://api.github.com/users/dnicolodi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dnicolodi/subscriptions","organizations_url":"https://api.github.com/users/dnicolodi/orgs","repos_url":"https://api.github.com/users/dnicolodi/repos","events_url":"https://api.github.com/users/dnicolodi/events{/privacy}","received_events_url":"https://api.github.com/users/dnicolodi/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/beancount/beanquery/issues/98/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beanquery/issues/98/timeline","performed_via_github_app":null,"state_reason":null},{"url":"https://api.github.com/repos/beancount/beanquery/issues/97","repository_url":"https://api.github.com/repos/beancount/beanquery","labels_url":"https://api.github.com/repos/beancount/beanquery/issues/97/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beanquery/issues/97/comments","events_url":"https://api.github.com/repos/beancount/beanquery/issues/97/events","html_url":"https://github.com/beancount/beanquery/issues/97","id":1248212695,"node_id":"I_kwDOFUEJF85KZjbX","number":97,"title":"What to replace `open_meta()` and `commodity_meta()` and similar with","user":{"login":"dnicolodi","id":987145,"node_id":"MDQ6VXNlcjk4NzE0NQ==","avatar_url":"https://avatars.githubusercontent.com/u/987145?v=4","gravatar_id":"","url":"https://api.github.com/users/dnicolodi","html_url":"https://github.com/dnicolodi","followers_url":"https://api.github.com/users/dnicolodi/followers","following_url":"https://api.github.com/users/dnicolodi/following{/other_user}","gists_url":"https://api.github.com/users/dnicolodi/gists{/gist_id}","starred_url":"https://api.github.com/users/dnicolodi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dnicolodi/subscriptions","organizations_url":"https://api.github.com/users/dnicolodi/orgs","repos_url":"https://api.github.com/users/dnicolodi/repos","events_url":"https://api.github.com/users/dnicolodi/events{/privacy}","received_events_url":"https://api.github.com/users/dnicolodi/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":4013919697,"node_id":"LA_kwDOFUEJF87vP43R","url":"https://api.github.com/repos/beancount/beanquery/labels/proposal","name":"proposal","color":"F90187","default":false,"description":"Request for comment on proposed changes"}],"state":"open","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":1,"created_at":"2022-05-25T14:48:18Z","updated_at":"2022-05-30T17:17:35Z","closed_at":null,"author_association":"COLLABORATOR","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"Working toward the goal on making beanquery a general purpose SQL-like query language for arbitrary data and make the BQL language more regular, we need to decide what to do with the current BQL function that depend on the row context, in particular the `open_meta()`, `commodity_meta()` and similar functions.\r\n\r\nIn an unpublished branch I already implemented structured types (or composite types in PostgreSQL parlance https://www.postgresql.org/docs/14/rowtypes.html) thus one way to solve the problem would be to make accounts and commodities their own structured types and allow a syntax similar to\r\n```\r\nSELECT\r\n  account.meta[\"foo\"],\r\n  position.units.commodity.meta[\"bar\"]\r\nFROM\r\n  postings\r\n```\r\nAnother way is to rely on sub-queries to do the lookup:\r\n```\r\nSELECT\r\n  (SELECT meta[\"foo\"] FROM accounts WHERE account = p.account),\r\n  (SELECT meta[\"bar\"] FROM commodities WHERE commodity = p.position.units.commodity),\r\nFROM\r\n  postings AS p\r\n```\r\nA solution based on a join\r\n```\r\nSELECT\r\n  account,\r\n  position,\r\n  commodities.meta[\"foo\"]\r\nFROM\r\n  postings, commodities\r\nWHERE\r\n  commodities.account = postings.account\r\n```\r\nwould not work because commodities is a table of all the commodities definitions, and not all the commodities used in a Beancount ledger need to defined, thus the above query would return only a subset of the postings.\r\n\r\nThe BQL syntax for the first solution is definitely more attractive but it is less flexible and would require making the BQL types system more complex to allow accounts and commodities to be at the same time strings and structured types, unless explicit type conversions are required. Something like\r\n```\r\nSELECT\r\n  account(account).meta[\"foo\"],\r\n  commodity(position.units.commodity).meta[\"bar\"]\r\nFROM\r\n  postings\r\n```\r\nis not horrible but feels a bit redundant. Going the other way around:\r\n```\r\nSELECT *\r\nFROM\r\n  postings\r\nWHERE\r\n  account = account(\"Assets:Test\")\r\n```\r\nis not much better.\r\n\r\nThe syntax for the second solution is verbose, but it is the most explicit and it allows for the most flexibility.\r\n\r\nComments?","closed_by":null,"reactions":{"url":"https://api.github.com/repos/beancount/beanquery/issues/97/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beanquery/issues/97/timeline","performed_via_github_app":null,"state_reason":null},{"url":"https://api.github.com/repos/beancount/beanquery/issues/96","repository_url":"https://api.github.com/repos/beancount/beanquery","labels_url":"https://api.github.com/repos/beancount/beanquery/issues/96/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beanquery/issues/96/comments","events_url":"https://api.github.com/repos/beancount/beanquery/issues/96/events","html_url":"https://github.com/beancount/beanquery/issues/96","id":1245047638,"node_id":"I_kwDOFUEJF85KNetW","number":96,"title":"`filename` and `lineno` traget columns implementation does not match documentation","user":{"login":"dnicolodi","id":987145,"node_id":"MDQ6VXNlcjk4NzE0NQ==","avatar_url":"https://avatars.githubusercontent.com/u/987145?v=4","gravatar_id":"","url":"https://api.github.com/users/dnicolodi","html_url":"https://github.com/dnicolodi","followers_url":"https://api.github.com/users/dnicolodi/followers","following_url":"https://api.github.com/users/dnicolodi/following{/other_user}","gists_url":"https://api.github.com/users/dnicolodi/gists{/gist_id}","starred_url":"https://api.github.com/users/dnicolodi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dnicolodi/subscriptions","organizations_url":"https://api.github.com/users/dnicolodi/orgs","repos_url":"https://api.github.com/users/dnicolodi/repos","events_url":"https://api.github.com/users/dnicolodi/events{/privacy}","received_events_url":"https://api.github.com/users/dnicolodi/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":1,"created_at":"2022-05-23T11:54:01Z","updated_at":"2023-07-30T15:13:30Z","closed_at":"2023-07-30T15:13:30Z","author_association":"COLLABORATOR","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"The documentation says that these are the posting definition location in the source file, however the implementation returns the transaction location. The `location` column reports the location of the posting. Most likely the implementation must be changed to match the documentation.\r\n\r\nAn easy change but it would be a backward compatibility break and currently there would not be a way to get to the values for the transaction. This should be fixed when the big implementation generalization work lands.","closed_by":{"login":"dnicolodi","id":987145,"node_id":"MDQ6VXNlcjk4NzE0NQ==","avatar_url":"https://avatars.githubusercontent.com/u/987145?v=4","gravatar_id":"","url":"https://api.github.com/users/dnicolodi","html_url":"https://github.com/dnicolodi","followers_url":"https://api.github.com/users/dnicolodi/followers","following_url":"https://api.github.com/users/dnicolodi/following{/other_user}","gists_url":"https://api.github.com/users/dnicolodi/gists{/gist_id}","starred_url":"https://api.github.com/users/dnicolodi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dnicolodi/subscriptions","organizations_url":"https://api.github.com/users/dnicolodi/orgs","repos_url":"https://api.github.com/users/dnicolodi/repos","events_url":"https://api.github.com/users/dnicolodi/events{/privacy}","received_events_url":"https://api.github.com/users/dnicolodi/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/beancount/beanquery/issues/96/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beanquery/issues/96/timeline","performed_via_github_app":null,"state_reason":"completed"},{"url":"https://api.github.com/repos/beancount/beanquery/issues/95","repository_url":"https://api.github.com/repos/beancount/beanquery","labels_url":"https://api.github.com/repos/beancount/beanquery/issues/95/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beanquery/issues/95/comments","events_url":"https://api.github.com/repos/beancount/beanquery/issues/95/events","html_url":"https://github.com/beancount/beanquery/pull/95","id":1205435523,"node_id":"PR_kwDOFUEJF842SJQ9","number":95,"title":"Implement PIVOT BY cluase","user":{"login":"dnicolodi","id":987145,"node_id":"MDQ6VXNlcjk4NzE0NQ==","avatar_url":"https://avatars.githubusercontent.com/u/987145?v=4","gravatar_id":"","url":"https://api.github.com/users/dnicolodi","html_url":"https://github.com/dnicolodi","followers_url":"https://api.github.com/users/dnicolodi/followers","following_url":"https://api.github.com/users/dnicolodi/following{/other_user}","gists_url":"https://api.github.com/users/dnicolodi/gists{/gist_id}","starred_url":"https://api.github.com/users/dnicolodi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dnicolodi/subscriptions","organizations_url":"https://api.github.com/users/dnicolodi/orgs","repos_url":"https://api.github.com/users/dnicolodi/repos","events_url":"https://api.github.com/users/dnicolodi/events{/privacy}","received_events_url":"https://api.github.com/users/dnicolodi/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":1,"created_at":"2022-04-15T09:36:44Z","updated_at":"2022-04-15T15:18:38Z","closed_at":"2022-04-15T15:18:38Z","author_association":"COLLABORATOR","type":null,"active_lock_reason":null,"draft":false,"pull_request":{"url":"https://api.github.com/repos/beancount/beanquery/pulls/95","html_url":"https://github.com/beancount/beanquery/pull/95","diff_url":"https://github.com/beancount/beanquery/pull/95.diff","patch_url":"https://github.com/beancount/beanquery/pull/95.patch","merged_at":"2022-04-15T15:18:38Z"},"body":"So far it handles only one column more than the two pivot columns, ie only the first part of the functionality described in #94 ","closed_by":{"login":"dnicolodi","id":987145,"node_id":"MDQ6VXNlcjk4NzE0NQ==","avatar_url":"https://avatars.githubusercontent.com/u/987145?v=4","gravatar_id":"","url":"https://api.github.com/users/dnicolodi","html_url":"https://github.com/dnicolodi","followers_url":"https://api.github.com/users/dnicolodi/followers","following_url":"https://api.github.com/users/dnicolodi/following{/other_user}","gists_url":"https://api.github.com/users/dnicolodi/gists{/gist_id}","starred_url":"https://api.github.com/users/dnicolodi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dnicolodi/subscriptions","organizations_url":"https://api.github.com/users/dnicolodi/orgs","repos_url":"https://api.github.com/users/dnicolodi/repos","events_url":"https://api.github.com/users/dnicolodi/events{/privacy}","received_events_url":"https://api.github.com/users/dnicolodi/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/beancount/beanquery/issues/95/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beanquery/issues/95/timeline","performed_via_github_app":null,"state_reason":null},{"url":"https://api.github.com/repos/beancount/beanquery/issues/94","repository_url":"https://api.github.com/repos/beancount/beanquery","labels_url":"https://api.github.com/repos/beancount/beanquery/issues/94/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beanquery/issues/94/comments","events_url":"https://api.github.com/repos/beancount/beanquery/issues/94/events","html_url":"https://github.com/beancount/beanquery/issues/94","id":1204979372,"node_id":"I_kwDOFUEJF85H0oas","number":94,"title":"Implement `PIVOT BY`","user":{"login":"dnicolodi","id":987145,"node_id":"MDQ6VXNlcjk4NzE0NQ==","avatar_url":"https://avatars.githubusercontent.com/u/987145?v=4","gravatar_id":"","url":"https://api.github.com/users/dnicolodi","html_url":"https://github.com/dnicolodi","followers_url":"https://api.github.com/users/dnicolodi/followers","following_url":"https://api.github.com/users/dnicolodi/following{/other_user}","gists_url":"https://api.github.com/users/dnicolodi/gists{/gist_id}","starred_url":"https://api.github.com/users/dnicolodi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dnicolodi/subscriptions","organizations_url":"https://api.github.com/users/dnicolodi/orgs","repos_url":"https://api.github.com/users/dnicolodi/repos","events_url":"https://api.github.com/users/dnicolodi/events{/privacy}","received_events_url":"https://api.github.com/users/dnicolodi/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":2901894421,"node_id":"MDU6TGFiZWwyOTAxODk0NDIx","url":"https://api.github.com/repos/beancount/beanquery/labels/enhancement","name":"enhancement","color":"a2eeef","default":true,"description":"New feature or request"}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":1,"created_at":"2022-04-14T21:06:57Z","updated_at":"2022-04-15T15:19:16Z","closed_at":"2022-04-15T15:19:16Z","author_association":"COLLABORATOR","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"From the \"Beancount Query Language\" document, section \"Future Features\". A special `PIVOT BY` clause will eventually be usable to convert the output from a one-dimensional list of results to a two-dimensional table. For example, the following query:\r\n\r\n    SELECT\r\n      account,\r\n      YEAR(date) AS year,\r\n      SUM(COST(position)) AS balance\r\n    WHERE\r\n       account ~ 'Expenses:Food' AND\r\n       currency = 'USD' AND\r\n       year >= 2012\r\n    GROUP BY 1,2\r\n    ORDER BY 1,2;\r\n\r\nMight generate the following table of results:\r\n\r\n            account          year   balance\r\n    ------------------------ ---- -----------\r\n    Expenses:Food:Alcohol    2012   57.91 USD\r\n    Expenses:Food:Alcohol    2013   33.45 USD\r\n    Expenses:Food:Coffee     2012   42.07 USD\r\n    Expenses:Food:Coffee     2013  124.69 USD\r\n    Expenses:Food:Coffee     2014   38.74 USD\r\n    Expenses:Food:Groceries  2012 2172.97 USD\r\n    Expenses:Food:Groceries  2013 2161.90 USD\r\n    Expenses:Food:Groceries  2014 2072.36 USD\r\n    Expenses:Food:Restaurant 2012 4310.60 USD\r\n    Expenses:Food:Restaurant 2013 5053.61 USD\r\n    Expenses:Food:Restaurant 2014 4209.06 USD\r\n\r\nIf you add a PIVOT clause to the query, like this:\r\n\r\n    â€¦\r\n    PIVOT BY account, year;\r\n\r\nYou would get a table like this:\r\n\r\n          account/year              2012        2013        2014                                                                                                                                                         \r\n    ------------------------ ----------- ----------- -----------\r\n    Expenses:Food:Alcohol      57.91 USD   33.45 USD\r\n    Expenses:Food:Coffee       42.07 USD  124.69 USD   38.74 USD\r\n    Expenses:Food:Groceries  2172.97 USD 2161.90 USD 2072.36 USD\r\n    Expenses:Food:Restaurant 4310.60 USD 5053.61 USD 4209.06 USD\r\n\r\nIf your table has more than three columns, the non-pivoted column would get expanded horizontally, like this:\r\n\r\n    SELECT\r\n      account,\r\n      YEAR(date),\r\n      SUM(COST(position)) AS balance,\r\n      LAST(date) AS updated\r\n    WHERE\r\n       account ~ 'Expenses:Food' AND\r\n       currency = 'USD' AND\r\n       year >= 2012\r\n    GROUP BY 1,2\r\n    ORDER BY 1, 2;\r\n\r\nYou would get a table like this:\r\n\r\n            account          year   balance    updated\r\n    ------------------------ ---- ----------- ----------\r\n    Expenses:Food:Alcohol    2012   57.91 USD 2012-07-17\r\n    Expenses:Food:Alcohol    2013   33.45 USD 2013-12-13\r\n    Expenses:Food:Coffee     2012   42.07 USD 2012-07-19\r\n    Expenses:Food:Coffee     2013  124.69 USD 2013-12-16\r\n    Expenses:Food:Coffee     2014   38.74 USD 2014-09-21\r\n    Expenses:Food:Groceries  2012 2172.97 USD 2012-12-30\r\n    Expenses:Food:Groceries  2013 2161.90 USD 2013-12-31\r\n    Expenses:Food:Groceries  2014 2072.36 USD 2014-11-20\r\n    Expenses:Food:Restaurant 2012 4310.60 USD 2012-12-30\r\n    Expenses:Food:Restaurant 2013 5053.61 USD 2013-12-29\r\n    Expenses:Food:Restaurant 2014 4209.06 USD 2014-11-28\r\n\r\nPivoting, this would generate this table:\r\n\r\n    account/balance,updated  2012/balanc 2012/updat 2013/balanc 2013/updat 2014/balanc 2014/updat\r\n    ------------------------ ----------- ---------- ----------- ---------- ----------- ----------\r\n    Expenses:Food:Alcohol      57.91 USD 2012-07-17   33.45 USD 2013-12-13\r\n    Expenses:Food:Coffee       42.07 USD 2012-07-19  124.69 USD 2013-12-16   38.74 USD 2014-09-21\r\n    Expenses:Food:Groceries  2172.97 USD 2012-12-30 2161.90 USD 2013-12-31 2072.36 USD 2014-11-20\r\n    Expenses:Food:Restaurant 4310.60 USD 2012-12-30 5053.61 USD 2013-12-29 4209.06 USD 2014-11-28\r\n","closed_by":{"login":"dnicolodi","id":987145,"node_id":"MDQ6VXNlcjk4NzE0NQ==","avatar_url":"https://avatars.githubusercontent.com/u/987145?v=4","gravatar_id":"","url":"https://api.github.com/users/dnicolodi","html_url":"https://github.com/dnicolodi","followers_url":"https://api.github.com/users/dnicolodi/followers","following_url":"https://api.github.com/users/dnicolodi/following{/other_user}","gists_url":"https://api.github.com/users/dnicolodi/gists{/gist_id}","starred_url":"https://api.github.com/users/dnicolodi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dnicolodi/subscriptions","organizations_url":"https://api.github.com/users/dnicolodi/orgs","repos_url":"https://api.github.com/users/dnicolodi/repos","events_url":"https://api.github.com/users/dnicolodi/events{/privacy}","received_events_url":"https://api.github.com/users/dnicolodi/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/beancount/beanquery/issues/94/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beanquery/issues/94/timeline","performed_via_github_app":null,"state_reason":"completed"},{"url":"https://api.github.com/repos/beancount/beanquery/issues/93","repository_url":"https://api.github.com/repos/beancount/beanquery","labels_url":"https://api.github.com/repos/beancount/beanquery/issues/93/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beanquery/issues/93/comments","events_url":"https://api.github.com/repos/beancount/beanquery/issues/93/events","html_url":"https://github.com/beancount/beanquery/pull/93","id":1204420180,"node_id":"PR_kwDOFUEJF842O4ZA","number":93,"title":"render: Fix inventory renderer","user":{"login":"dnicolodi","id":987145,"node_id":"MDQ6VXNlcjk4NzE0NQ==","avatar_url":"https://avatars.githubusercontent.com/u/987145?v=4","gravatar_id":"","url":"https://api.github.com/users/dnicolodi","html_url":"https://github.com/dnicolodi","followers_url":"https://api.github.com/users/dnicolodi/followers","following_url":"https://api.github.com/users/dnicolodi/following{/other_user}","gists_url":"https://api.github.com/users/dnicolodi/gists{/gist_id}","starred_url":"https://api.github.com/users/dnicolodi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dnicolodi/subscriptions","organizations_url":"https://api.github.com/users/dnicolodi/orgs","repos_url":"https://api.github.com/users/dnicolodi/repos","events_url":"https://api.github.com/users/dnicolodi/events{/privacy}","received_events_url":"https://api.github.com/users/dnicolodi/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":0,"created_at":"2022-04-14T11:38:19Z","updated_at":"2022-04-14T11:40:10Z","closed_at":"2022-04-14T11:40:09Z","author_association":"COLLABORATOR","type":null,"active_lock_reason":null,"draft":false,"pull_request":{"url":"https://api.github.com/repos/beancount/beanquery/pulls/93","html_url":"https://github.com/beancount/beanquery/pull/93","diff_url":"https://github.com/beancount/beanquery/pull/93.diff","patch_url":"https://github.com/beancount/beanquery/pull/93.patch","merged_at":"2022-04-14T11:40:09Z"},"body":"The assumptions in the former implementation were too simplistic and\r\ncaused positions with the same units commodity but different costs to\r\nbe lost. Give up on the nice tabular format when there are too many\r\ndistinct positions to be rendered. In this case the estimated column\r\nwidth becomes really a worst case estimate and unnecessary trailing\r\nwhitespace may be present. The only way to fix this properly would be\r\na three pass rendering algorithm. However fixing a cosmetic issue in a\r\ntable that is going anyhow to do not look neat is not worth the cost.","closed_by":{"login":"dnicolodi","id":987145,"node_id":"MDQ6VXNlcjk4NzE0NQ==","avatar_url":"https://avatars.githubusercontent.com/u/987145?v=4","gravatar_id":"","url":"https://api.github.com/users/dnicolodi","html_url":"https://github.com/dnicolodi","followers_url":"https://api.github.com/users/dnicolodi/followers","following_url":"https://api.github.com/users/dnicolodi/following{/other_user}","gists_url":"https://api.github.com/users/dnicolodi/gists{/gist_id}","starred_url":"https://api.github.com/users/dnicolodi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dnicolodi/subscriptions","organizations_url":"https://api.github.com/users/dnicolodi/orgs","repos_url":"https://api.github.com/users/dnicolodi/repos","events_url":"https://api.github.com/users/dnicolodi/events{/privacy}","received_events_url":"https://api.github.com/users/dnicolodi/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/beancount/beanquery/issues/93/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beanquery/issues/93/timeline","performed_via_github_app":null,"state_reason":null},{"url":"https://api.github.com/repos/beancount/beanquery/issues/92","repository_url":"https://api.github.com/repos/beancount/beanquery","labels_url":"https://api.github.com/repos/beancount/beanquery/issues/92/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beanquery/issues/92/comments","events_url":"https://api.github.com/repos/beancount/beanquery/issues/92/events","html_url":"https://github.com/beancount/beanquery/pull/92","id":1204416412,"node_id":"PR_kwDOFUEJF842O3lk","number":92,"title":"Remove partial support for the FLATTEN query option","user":{"login":"dnicolodi","id":987145,"node_id":"MDQ6VXNlcjk4NzE0NQ==","avatar_url":"https://avatars.githubusercontent.com/u/987145?v=4","gravatar_id":"","url":"https://api.github.com/users/dnicolodi","html_url":"https://github.com/dnicolodi","followers_url":"https://api.github.com/users/dnicolodi/followers","following_url":"https://api.github.com/users/dnicolodi/following{/other_user}","gists_url":"https://api.github.com/users/dnicolodi/gists{/gist_id}","starred_url":"https://api.github.com/users/dnicolodi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dnicolodi/subscriptions","organizations_url":"https://api.github.com/users/dnicolodi/orgs","repos_url":"https://api.github.com/users/dnicolodi/repos","events_url":"https://api.github.com/users/dnicolodi/events{/privacy}","received_events_url":"https://api.github.com/users/dnicolodi/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":0,"created_at":"2022-04-14T11:34:04Z","updated_at":"2022-04-14T11:38:53Z","closed_at":"2022-04-14T11:38:53Z","author_association":"COLLABORATOR","type":null,"active_lock_reason":null,"draft":false,"pull_request":{"url":"https://api.github.com/repos/beancount/beanquery/pulls/92","html_url":"https://github.com/beancount/beanquery/pull/92","diff_url":"https://github.com/beancount/beanquery/pull/92.diff","patch_url":"https://github.com/beancount/beanquery/pull/92.patch","merged_at":"2022-04-14T11:38:53Z"},"body":"The implementation was broken and incomplete. It is not clear what to\r\ndo when two columns in the results set contain two inventory columns.\r\nThe FLATTEN query option also partially overlaps with the \"expand\"\r\noption in the table renderer. It has been broken for quite some time\r\nand there have not been many complaints. Just nuke it. If someone\r\ncomes up with a sensible design it will be easy to reinstate it.","closed_by":{"login":"dnicolodi","id":987145,"node_id":"MDQ6VXNlcjk4NzE0NQ==","avatar_url":"https://avatars.githubusercontent.com/u/987145?v=4","gravatar_id":"","url":"https://api.github.com/users/dnicolodi","html_url":"https://github.com/dnicolodi","followers_url":"https://api.github.com/users/dnicolodi/followers","following_url":"https://api.github.com/users/dnicolodi/following{/other_user}","gists_url":"https://api.github.com/users/dnicolodi/gists{/gist_id}","starred_url":"https://api.github.com/users/dnicolodi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dnicolodi/subscriptions","organizations_url":"https://api.github.com/users/dnicolodi/orgs","repos_url":"https://api.github.com/users/dnicolodi/repos","events_url":"https://api.github.com/users/dnicolodi/events{/privacy}","received_events_url":"https://api.github.com/users/dnicolodi/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/beancount/beanquery/issues/92/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beanquery/issues/92/timeline","performed_via_github_app":null,"state_reason":null},{"url":"https://api.github.com/repos/beancount/beanquery/issues/91","repository_url":"https://api.github.com/repos/beancount/beanquery","labels_url":"https://api.github.com/repos/beancount/beanquery/issues/91/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beanquery/issues/91/comments","events_url":"https://api.github.com/repos/beancount/beanquery/issues/91/events","html_url":"https://github.com/beancount/beanquery/issues/91","id":1200720871,"node_id":"I_kwDOFUEJF85HkYvn","number":91,"title":"Optimize the CSV export code","user":{"login":"dnicolodi","id":987145,"node_id":"MDQ6VXNlcjk4NzE0NQ==","avatar_url":"https://avatars.githubusercontent.com/u/987145?v=4","gravatar_id":"","url":"https://api.github.com/users/dnicolodi","html_url":"https://github.com/dnicolodi","followers_url":"https://api.github.com/users/dnicolodi/followers","following_url":"https://api.github.com/users/dnicolodi/following{/other_user}","gists_url":"https://api.github.com/users/dnicolodi/gists{/gist_id}","starred_url":"https://api.github.com/users/dnicolodi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dnicolodi/subscriptions","organizations_url":"https://api.github.com/users/dnicolodi/orgs","repos_url":"https://api.github.com/users/dnicolodi/repos","events_url":"https://api.github.com/users/dnicolodi/events{/privacy}","received_events_url":"https://api.github.com/users/dnicolodi/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":2901894421,"node_id":"MDU6TGFiZWwyOTAxODk0NDIx","url":"https://api.github.com/repos/beancount/beanquery/labels/enhancement","name":"enhancement","color":"a2eeef","default":true,"description":"New feature or request"},{"id":7086813688,"node_id":"LA_kwDOFUEJF88AAAABpmgx-A","url":"https://api.github.com/repos/beancount/beanquery/labels/shell","name":"shell","color":"d4c5f9","default":false,"description":"Related to the command shell"}],"state":"open","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":0,"created_at":"2022-04-12T00:36:12Z","updated_at":"2024-06-15T23:23:31Z","closed_at":null,"author_association":"COLLABORATOR","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"The CSV table renderer goes the same column values formatting code used by the display renderer. Most of the work done by the renderers is not required for exporting to CSV. In particular the CSV fields do not need to be aligned and thus the double pass through the data required to compute alignment can be spared.","closed_by":null,"reactions":{"url":"https://api.github.com/repos/beancount/beanquery/issues/91/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beanquery/issues/91/timeline","performed_via_github_app":null,"state_reason":null},{"url":"https://api.github.com/repos/beancount/beanquery/issues/90","repository_url":"https://api.github.com/repos/beancount/beanquery","labels_url":"https://api.github.com/repos/beancount/beanquery/issues/90/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beanquery/issues/90/comments","events_url":"https://api.github.com/repos/beancount/beanquery/issues/90/events","html_url":"https://github.com/beancount/beanquery/pull/90","id":1200665558,"node_id":"PR_kwDOFUEJF842CZRt","number":90,"title":"Generalize beanquery to work on more than Beancount ledgers","user":{"login":"dnicolodi","id":987145,"node_id":"MDQ6VXNlcjk4NzE0NQ==","avatar_url":"https://avatars.githubusercontent.com/u/987145?v=4","gravatar_id":"","url":"https://api.github.com/users/dnicolodi","html_url":"https://github.com/dnicolodi","followers_url":"https://api.github.com/users/dnicolodi/followers","following_url":"https://api.github.com/users/dnicolodi/following{/other_user}","gists_url":"https://api.github.com/users/dnicolodi/gists{/gist_id}","starred_url":"https://api.github.com/users/dnicolodi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dnicolodi/subscriptions","organizations_url":"https://api.github.com/users/dnicolodi/orgs","repos_url":"https://api.github.com/users/dnicolodi/repos","events_url":"https://api.github.com/users/dnicolodi/events{/privacy}","received_events_url":"https://api.github.com/users/dnicolodi/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":2,"created_at":"2022-04-11T23:20:18Z","updated_at":"2023-01-19T15:24:29Z","closed_at":"2023-01-19T15:24:29Z","author_association":"COLLABORATOR","type":null,"active_lock_reason":null,"draft":true,"pull_request":{"url":"https://api.github.com/repos/beancount/beanquery/pulls/90","html_url":"https://github.com/beancount/beanquery/pull/90","diff_url":"https://github.com/beancount/beanquery/pull/90.diff","patch_url":"https://github.com/beancount/beanquery/pull/90.patch","merged_at":null},"body":"This is very incomplete and really not much yet, but at least it works as a calculator:\r\n```\r\n$ python -m beanquery /dev/null \"SELECT 1+1 FROM #_\"\r\na\r\n-\r\n2\r\n```\r\nBecause of the BQL `FROM` clause existing syntax the `FROM #_` thing is to select the null table you get when there is no `FROM` clause in an SQL query. To disambiguate table names from field names that may form an expression in the `FROM` clause, table names need to start with `#`.\r\n\r\nA ton of refactoring is at the horizon but I think I have a plan.","closed_by":{"login":"dnicolodi","id":987145,"node_id":"MDQ6VXNlcjk4NzE0NQ==","avatar_url":"https://avatars.githubusercontent.com/u/987145?v=4","gravatar_id":"","url":"https://api.github.com/users/dnicolodi","html_url":"https://github.com/dnicolodi","followers_url":"https://api.github.com/users/dnicolodi/followers","following_url":"https://api.github.com/users/dnicolodi/following{/other_user}","gists_url":"https://api.github.com/users/dnicolodi/gists{/gist_id}","starred_url":"https://api.github.com/users/dnicolodi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dnicolodi/subscriptions","organizations_url":"https://api.github.com/users/dnicolodi/orgs","repos_url":"https://api.github.com/users/dnicolodi/repos","events_url":"https://api.github.com/users/dnicolodi/events{/privacy}","received_events_url":"https://api.github.com/users/dnicolodi/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/beancount/beanquery/issues/90/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beanquery/issues/90/timeline","performed_via_github_app":null,"state_reason":null},{"url":"https://api.github.com/repos/beancount/beanquery/issues/89","repository_url":"https://api.github.com/repos/beancount/beanquery","labels_url":"https://api.github.com/repos/beancount/beanquery/issues/89/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beanquery/issues/89/comments","events_url":"https://api.github.com/repos/beancount/beanquery/issues/89/events","html_url":"https://github.com/beancount/beanquery/pull/89","id":1199143683,"node_id":"PR_kwDOFUEJF8419ePp","number":89,"title":"Fix pylint warnings","user":{"login":"dnicolodi","id":987145,"node_id":"MDQ6VXNlcjk4NzE0NQ==","avatar_url":"https://avatars.githubusercontent.com/u/987145?v=4","gravatar_id":"","url":"https://api.github.com/users/dnicolodi","html_url":"https://github.com/dnicolodi","followers_url":"https://api.github.com/users/dnicolodi/followers","following_url":"https://api.github.com/users/dnicolodi/following{/other_user}","gists_url":"https://api.github.com/users/dnicolodi/gists{/gist_id}","starred_url":"https://api.github.com/users/dnicolodi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dnicolodi/subscriptions","organizations_url":"https://api.github.com/users/dnicolodi/orgs","repos_url":"https://api.github.com/users/dnicolodi/repos","events_url":"https://api.github.com/users/dnicolodi/events{/privacy}","received_events_url":"https://api.github.com/users/dnicolodi/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":0,"created_at":"2022-04-10T19:06:03Z","updated_at":"2022-04-10T19:27:27Z","closed_at":"2022-04-10T19:27:27Z","author_association":"COLLABORATOR","type":null,"active_lock_reason":null,"draft":false,"pull_request":{"url":"https://api.github.com/repos/beancount/beanquery/pulls/89","html_url":"https://github.com/beancount/beanquery/pull/89","diff_url":"https://github.com/beancount/beanquery/pull/89.diff","patch_url":"https://github.com/beancount/beanquery/pull/89.patch","merged_at":"2022-04-10T19:27:26Z"},"body":null,"closed_by":{"login":"dnicolodi","id":987145,"node_id":"MDQ6VXNlcjk4NzE0NQ==","avatar_url":"https://avatars.githubusercontent.com/u/987145?v=4","gravatar_id":"","url":"https://api.github.com/users/dnicolodi","html_url":"https://github.com/dnicolodi","followers_url":"https://api.github.com/users/dnicolodi/followers","following_url":"https://api.github.com/users/dnicolodi/following{/other_user}","gists_url":"https://api.github.com/users/dnicolodi/gists{/gist_id}","starred_url":"https://api.github.com/users/dnicolodi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dnicolodi/subscriptions","organizations_url":"https://api.github.com/users/dnicolodi/orgs","repos_url":"https://api.github.com/users/dnicolodi/repos","events_url":"https://api.github.com/users/dnicolodi/events{/privacy}","received_events_url":"https://api.github.com/users/dnicolodi/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/beancount/beanquery/issues/89/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beanquery/issues/89/timeline","performed_via_github_app":null,"state_reason":null},{"url":"https://api.github.com/repos/beancount/beanquery/issues/87","repository_url":"https://api.github.com/repos/beancount/beanquery","labels_url":"https://api.github.com/repos/beancount/beanquery/issues/87/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beanquery/issues/87/comments","events_url":"https://api.github.com/repos/beancount/beanquery/issues/87/events","html_url":"https://github.com/beancount/beanquery/pull/87","id":1197998061,"node_id":"PR_kwDOFUEJF84151h0","number":87,"title":"Revisit results set table rendering","user":{"login":"dnicolodi","id":987145,"node_id":"MDQ6VXNlcjk4NzE0NQ==","avatar_url":"https://avatars.githubusercontent.com/u/987145?v=4","gravatar_id":"","url":"https://api.github.com/users/dnicolodi","html_url":"https://github.com/dnicolodi","followers_url":"https://api.github.com/users/dnicolodi/followers","following_url":"https://api.github.com/users/dnicolodi/following{/other_user}","gists_url":"https://api.github.com/users/dnicolodi/gists{/gist_id}","starred_url":"https://api.github.com/users/dnicolodi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dnicolodi/subscriptions","organizations_url":"https://api.github.com/users/dnicolodi/orgs","repos_url":"https://api.github.com/users/dnicolodi/repos","events_url":"https://api.github.com/users/dnicolodi/events{/privacy}","received_events_url":"https://api.github.com/users/dnicolodi/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":5,"created_at":"2022-04-09T01:27:39Z","updated_at":"2022-04-14T12:05:02Z","closed_at":"2022-04-13T19:52:20Z","author_association":"COLLABORATOR","type":null,"active_lock_reason":null,"draft":false,"pull_request":{"url":"https://api.github.com/repos/beancount/beanquery/pulls/87","html_url":"https://github.com/beancount/beanquery/pull/87","diff_url":"https://github.com/beancount/beanquery/pull/87.diff","patch_url":"https://github.com/beancount/beanquery/pull/87.patch","merged_at":"2022-04-13T19:52:20Z"},"body":null,"closed_by":{"login":"dnicolodi","id":987145,"node_id":"MDQ6VXNlcjk4NzE0NQ==","avatar_url":"https://avatars.githubusercontent.com/u/987145?v=4","gravatar_id":"","url":"https://api.github.com/users/dnicolodi","html_url":"https://github.com/dnicolodi","followers_url":"https://api.github.com/users/dnicolodi/followers","following_url":"https://api.github.com/users/dnicolodi/following{/other_user}","gists_url":"https://api.github.com/users/dnicolodi/gists{/gist_id}","starred_url":"https://api.github.com/users/dnicolodi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dnicolodi/subscriptions","organizations_url":"https://api.github.com/users/dnicolodi/orgs","repos_url":"https://api.github.com/users/dnicolodi/repos","events_url":"https://api.github.com/users/dnicolodi/events{/privacy}","received_events_url":"https://api.github.com/users/dnicolodi/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/beancount/beanquery/issues/87/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beanquery/issues/87/timeline","performed_via_github_app":null,"state_reason":null},{"url":"https://api.github.com/repos/beancount/beanquery/issues/86","repository_url":"https://api.github.com/repos/beancount/beanquery","labels_url":"https://api.github.com/repos/beancount/beanquery/issues/86/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beanquery/issues/86/comments","events_url":"https://api.github.com/repos/beancount/beanquery/issues/86/events","html_url":"https://github.com/beancount/beanquery/issues/86","id":1197038303,"node_id":"I_kwDOFUEJF85HWVrf","number":86,"title":"Remove support for #\"...\" date literals?","user":{"login":"dnicolodi","id":987145,"node_id":"MDQ6VXNlcjk4NzE0NQ==","avatar_url":"https://avatars.githubusercontent.com/u/987145?v=4","gravatar_id":"","url":"https://api.github.com/users/dnicolodi","html_url":"https://github.com/dnicolodi","followers_url":"https://api.github.com/users/dnicolodi/followers","following_url":"https://api.github.com/users/dnicolodi/following{/other_user}","gists_url":"https://api.github.com/users/dnicolodi/gists{/gist_id}","starred_url":"https://api.github.com/users/dnicolodi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dnicolodi/subscriptions","organizations_url":"https://api.github.com/users/dnicolodi/orgs","repos_url":"https://api.github.com/users/dnicolodi/repos","events_url":"https://api.github.com/users/dnicolodi/events{/privacy}","received_events_url":"https://api.github.com/users/dnicolodi/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":4013919697,"node_id":"LA_kwDOFUEJF87vP43R","url":"https://api.github.com/repos/beancount/beanquery/labels/proposal","name":"proposal","color":"F90187","default":false,"description":"Request for comment on proposed changes"}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":0,"created_at":"2022-04-08T08:58:40Z","updated_at":"2022-10-22T21:40:44Z","closed_at":"2022-10-22T21:40:44Z","author_association":"COLLABORATOR","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"There are currently two ways to input a date literal: the regular `YYYY-MM-DD` syntax (example `SELECT 2022-04-08`) and the extended `#\"string\"` syntax (example `SELECT #\"April 8, 2022\"`). The second uses the heuristic in the dateutils parser to determine the date string format.\r\n\r\nThe problem is that the format is ambiguous: which date is `#\"10.11.12\"`? The ambiguity is even greater because, while Beancount uses the year-month-day format for dates, the heuristic in dateutils prefer the month-day-year format. Having an European background, the most natural date format for me is day-month-year, but dateutils heuristic does not like this format at all.\r\n\r\nWould anyone complain loudly if I remove support for the liberally parsed date literals?\r\n\r\nI am also inclined to remove the liberal parsing from the `parse_date(string, format)` function done when the second argument is not provided so that we can fold this function into a special case of the `date()` constructor. Is anyone relaying on the magic parsing?","closed_by":{"login":"dnicolodi","id":987145,"node_id":"MDQ6VXNlcjk4NzE0NQ==","avatar_url":"https://avatars.githubusercontent.com/u/987145?v=4","gravatar_id":"","url":"https://api.github.com/users/dnicolodi","html_url":"https://github.com/dnicolodi","followers_url":"https://api.github.com/users/dnicolodi/followers","following_url":"https://api.github.com/users/dnicolodi/following{/other_user}","gists_url":"https://api.github.com/users/dnicolodi/gists{/gist_id}","starred_url":"https://api.github.com/users/dnicolodi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dnicolodi/subscriptions","organizations_url":"https://api.github.com/users/dnicolodi/orgs","repos_url":"https://api.github.com/users/dnicolodi/repos","events_url":"https://api.github.com/users/dnicolodi/events{/privacy}","received_events_url":"https://api.github.com/users/dnicolodi/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/beancount/beanquery/issues/86/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beanquery/issues/86/timeline","performed_via_github_app":null,"state_reason":"completed"},{"url":"https://api.github.com/repos/beancount/beanquery/issues/85","repository_url":"https://api.github.com/repos/beancount/beanquery","labels_url":"https://api.github.com/repos/beancount/beanquery/issues/85/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beanquery/issues/85/comments","events_url":"https://api.github.com/repos/beancount/beanquery/issues/85/events","html_url":"https://github.com/beancount/beanquery/issues/85","id":1196649110,"node_id":"I_kwDOFUEJF85HU2qW","number":85,"title":"Support arithmetic operations on Amounts","user":{"login":"dnicolodi","id":987145,"node_id":"MDQ6VXNlcjk4NzE0NQ==","avatar_url":"https://avatars.githubusercontent.com/u/987145?v=4","gravatar_id":"","url":"https://api.github.com/users/dnicolodi","html_url":"https://github.com/dnicolodi","followers_url":"https://api.github.com/users/dnicolodi/followers","following_url":"https://api.github.com/users/dnicolodi/following{/other_user}","gists_url":"https://api.github.com/users/dnicolodi/gists{/gist_id}","starred_url":"https://api.github.com/users/dnicolodi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dnicolodi/subscriptions","organizations_url":"https://api.github.com/users/dnicolodi/orgs","repos_url":"https://api.github.com/users/dnicolodi/repos","events_url":"https://api.github.com/users/dnicolodi/events{/privacy}","received_events_url":"https://api.github.com/users/dnicolodi/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":2901894421,"node_id":"MDU6TGFiZWwyOTAxODk0NDIx","url":"https://api.github.com/repos/beancount/beanquery/labels/enhancement","name":"enhancement","color":"a2eeef","default":true,"description":"New feature or request"},{"id":4013919697,"node_id":"LA_kwDOFUEJF87vP43R","url":"https://api.github.com/repos/beancount/beanquery/labels/proposal","name":"proposal","color":"F90187","default":false,"description":"Request for comment on proposed changes"},{"id":7111442006,"node_id":"LA_kwDOFUEJF88AAAABp9_-Vg","url":"https://api.github.com/repos/beancount/beanquery/labels/feature","name":"feature","color":"fef2c0","default":false,"description":"New feature"}],"state":"open","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":9,"created_at":"2022-04-07T23:02:02Z","updated_at":"2024-06-21T20:55:14Z","closed_at":null,"author_association":"COLLABORATOR","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"In a mailing list thread https://groups.google.com/g/beancount/c/4EkTUWoLXwI and in beancount/beancount#688 it was proposed to add the possibility of performing arithmetic operations on Amounts. The only operations that make sense are multiplication and division of amount by an integer or a decimal, and addition and subtraction of amounts.\r\n\r\nMultiplication and division by an integer or a decimal are not an issue as these operations always succeed and return another Amount object.\r\n\r\nFor sums and differences the problem is a bit more complex. What to do when amounts with incompatible commodities are summed or subtracted? Following the SQL philosophy, we do not want to raise an exception based on the data involved in the query. The only sensible thing is to return NULL. However this would be dangerous, because one very common thing to do is to sum these values into an Inventory, and in this case the problem would not be evident at all.\r\n\r\n@IguanaBen, what is your use case for addition and subtractions of Amounts in BQL?","closed_by":null,"reactions":{"url":"https://api.github.com/repos/beancount/beanquery/issues/85/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beanquery/issues/85/timeline","performed_via_github_app":null,"state_reason":null},{"url":"https://api.github.com/repos/beancount/beanquery/issues/84","repository_url":"https://api.github.com/repos/beancount/beanquery","labels_url":"https://api.github.com/repos/beancount/beanquery/issues/84/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beanquery/issues/84/comments","events_url":"https://api.github.com/repos/beancount/beanquery/issues/84/events","html_url":"https://github.com/beancount/beanquery/pull/84","id":1196606420,"node_id":"PR_kwDOFUEJF8411kqE","number":84,"title":"Arithmetic","user":{"login":"dnicolodi","id":987145,"node_id":"MDQ6VXNlcjk4NzE0NQ==","avatar_url":"https://avatars.githubusercontent.com/u/987145?v=4","gravatar_id":"","url":"https://api.github.com/users/dnicolodi","html_url":"https://github.com/dnicolodi","followers_url":"https://api.github.com/users/dnicolodi/followers","following_url":"https://api.github.com/users/dnicolodi/following{/other_user}","gists_url":"https://api.github.com/users/dnicolodi/gists{/gist_id}","starred_url":"https://api.github.com/users/dnicolodi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dnicolodi/subscriptions","organizations_url":"https://api.github.com/users/dnicolodi/orgs","repos_url":"https://api.github.com/users/dnicolodi/repos","events_url":"https://api.github.com/users/dnicolodi/events{/privacy}","received_events_url":"https://api.github.com/users/dnicolodi/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":0,"created_at":"2022-04-07T21:51:58Z","updated_at":"2022-04-07T21:53:02Z","closed_at":"2022-04-07T21:53:02Z","author_association":"COLLABORATOR","type":null,"active_lock_reason":null,"draft":false,"pull_request":{"url":"https://api.github.com/repos/beancount/beanquery/pulls/84","html_url":"https://github.com/beancount/beanquery/pull/84","diff_url":"https://github.com/beancount/beanquery/pull/84.diff","patch_url":"https://github.com/beancount/beanquery/pull/84.patch","merged_at":"2022-04-07T21:53:02Z"},"body":null,"closed_by":{"login":"dnicolodi","id":987145,"node_id":"MDQ6VXNlcjk4NzE0NQ==","avatar_url":"https://avatars.githubusercontent.com/u/987145?v=4","gravatar_id":"","url":"https://api.github.com/users/dnicolodi","html_url":"https://github.com/dnicolodi","followers_url":"https://api.github.com/users/dnicolodi/followers","following_url":"https://api.github.com/users/dnicolodi/following{/other_user}","gists_url":"https://api.github.com/users/dnicolodi/gists{/gist_id}","starred_url":"https://api.github.com/users/dnicolodi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dnicolodi/subscriptions","organizations_url":"https://api.github.com/users/dnicolodi/orgs","repos_url":"https://api.github.com/users/dnicolodi/repos","events_url":"https://api.github.com/users/dnicolodi/events{/privacy}","received_events_url":"https://api.github.com/users/dnicolodi/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/beancount/beanquery/issues/84/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beanquery/issues/84/timeline","performed_via_github_app":null,"state_reason":null},{"url":"https://api.github.com/repos/beancount/beanquery/issues/83","repository_url":"https://api.github.com/repos/beancount/beanquery","labels_url":"https://api.github.com/repos/beancount/beanquery/issues/83/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beanquery/issues/83/comments","events_url":"https://api.github.com/repos/beancount/beanquery/issues/83/events","html_url":"https://github.com/beancount/beanquery/pull/83","id":1196504114,"node_id":"PR_kwDOFUEJF8411Ow4","number":83,"title":"Switch from pytest to plain unittest for the CI jobs","user":{"login":"dnicolodi","id":987145,"node_id":"MDQ6VXNlcjk4NzE0NQ==","avatar_url":"https://avatars.githubusercontent.com/u/987145?v=4","gravatar_id":"","url":"https://api.github.com/users/dnicolodi","html_url":"https://github.com/dnicolodi","followers_url":"https://api.github.com/users/dnicolodi/followers","following_url":"https://api.github.com/users/dnicolodi/following{/other_user}","gists_url":"https://api.github.com/users/dnicolodi/gists{/gist_id}","starred_url":"https://api.github.com/users/dnicolodi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dnicolodi/subscriptions","organizations_url":"https://api.github.com/users/dnicolodi/orgs","repos_url":"https://api.github.com/users/dnicolodi/repos","events_url":"https://api.github.com/users/dnicolodi/events{/privacy}","received_events_url":"https://api.github.com/users/dnicolodi/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":0,"created_at":"2022-04-07T19:53:28Z","updated_at":"2022-04-07T19:55:38Z","closed_at":"2022-04-07T19:55:37Z","author_association":"COLLABORATOR","type":null,"active_lock_reason":null,"draft":false,"pull_request":{"url":"https://api.github.com/repos/beancount/beanquery/pulls/83","html_url":"https://github.com/beancount/beanquery/pull/83","diff_url":"https://github.com/beancount/beanquery/pull/83.diff","patch_url":"https://github.com/beancount/beanquery/pull/83.patch","merged_at":"2022-04-07T19:55:37Z"},"body":"In this context pytest does not offer any advantage and getting rid of the dependency speeds up the jobs a tiny bit.","closed_by":{"login":"dnicolodi","id":987145,"node_id":"MDQ6VXNlcjk4NzE0NQ==","avatar_url":"https://avatars.githubusercontent.com/u/987145?v=4","gravatar_id":"","url":"https://api.github.com/users/dnicolodi","html_url":"https://github.com/dnicolodi","followers_url":"https://api.github.com/users/dnicolodi/followers","following_url":"https://api.github.com/users/dnicolodi/following{/other_user}","gists_url":"https://api.github.com/users/dnicolodi/gists{/gist_id}","starred_url":"https://api.github.com/users/dnicolodi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dnicolodi/subscriptions","organizations_url":"https://api.github.com/users/dnicolodi/orgs","repos_url":"https://api.github.com/users/dnicolodi/repos","events_url":"https://api.github.com/users/dnicolodi/events{/privacy}","received_events_url":"https://api.github.com/users/dnicolodi/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/beancount/beanquery/issues/83/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beanquery/issues/83/timeline","performed_via_github_app":null,"state_reason":null},{"url":"https://api.github.com/repos/beancount/beanquery/issues/82","repository_url":"https://api.github.com/repos/beancount/beanquery","labels_url":"https://api.github.com/repos/beancount/beanquery/issues/82/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beanquery/issues/82/comments","events_url":"https://api.github.com/repos/beancount/beanquery/issues/82/events","html_url":"https://github.com/beancount/beanquery/pull/82","id":1196014810,"node_id":"PR_kwDOFUEJF841zmQv","number":82,"title":"Parser test coverage improvements","user":{"login":"dnicolodi","id":987145,"node_id":"MDQ6VXNlcjk4NzE0NQ==","avatar_url":"https://avatars.githubusercontent.com/u/987145?v=4","gravatar_id":"","url":"https://api.github.com/users/dnicolodi","html_url":"https://github.com/dnicolodi","followers_url":"https://api.github.com/users/dnicolodi/followers","following_url":"https://api.github.com/users/dnicolodi/following{/other_user}","gists_url":"https://api.github.com/users/dnicolodi/gists{/gist_id}","starred_url":"https://api.github.com/users/dnicolodi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dnicolodi/subscriptions","organizations_url":"https://api.github.com/users/dnicolodi/orgs","repos_url":"https://api.github.com/users/dnicolodi/repos","events_url":"https://api.github.com/users/dnicolodi/events{/privacy}","received_events_url":"https://api.github.com/users/dnicolodi/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":0,"created_at":"2022-04-07T13:01:08Z","updated_at":"2022-04-07T13:20:00Z","closed_at":"2022-04-07T13:20:00Z","author_association":"COLLABORATOR","type":null,"active_lock_reason":null,"draft":false,"pull_request":{"url":"https://api.github.com/repos/beancount/beanquery/pulls/82","html_url":"https://github.com/beancount/beanquery/pull/82","diff_url":"https://github.com/beancount/beanquery/pull/82.diff","patch_url":"https://github.com/beancount/beanquery/pull/82.patch","merged_at":"2022-04-07T13:20:00Z"},"body":null,"closed_by":{"login":"dnicolodi","id":987145,"node_id":"MDQ6VXNlcjk4NzE0NQ==","avatar_url":"https://avatars.githubusercontent.com/u/987145?v=4","gravatar_id":"","url":"https://api.github.com/users/dnicolodi","html_url":"https://github.com/dnicolodi","followers_url":"https://api.github.com/users/dnicolodi/followers","following_url":"https://api.github.com/users/dnicolodi/following{/other_user}","gists_url":"https://api.github.com/users/dnicolodi/gists{/gist_id}","starred_url":"https://api.github.com/users/dnicolodi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dnicolodi/subscriptions","organizations_url":"https://api.github.com/users/dnicolodi/orgs","repos_url":"https://api.github.com/users/dnicolodi/repos","events_url":"https://api.github.com/users/dnicolodi/events{/privacy}","received_events_url":"https://api.github.com/users/dnicolodi/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/beancount/beanquery/issues/82/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beanquery/issues/82/timeline","performed_via_github_app":null,"state_reason":null},{"url":"https://api.github.com/repos/beancount/beanquery/issues/81","repository_url":"https://api.github.com/repos/beancount/beanquery","labels_url":"https://api.github.com/repos/beancount/beanquery/issues/81/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beanquery/issues/81/comments","events_url":"https://api.github.com/repos/beancount/beanquery/issues/81/events","html_url":"https://github.com/beancount/beanquery/pull/81","id":1195324774,"node_id":"PR_kwDOFUEJF841xY9X","number":81,"title":" Add support for c-like /* ... */ comments to the BQL parser","user":{"login":"dnicolodi","id":987145,"node_id":"MDQ6VXNlcjk4NzE0NQ==","avatar_url":"https://avatars.githubusercontent.com/u/987145?v=4","gravatar_id":"","url":"https://api.github.com/users/dnicolodi","html_url":"https://github.com/dnicolodi","followers_url":"https://api.github.com/users/dnicolodi/followers","following_url":"https://api.github.com/users/dnicolodi/following{/other_user}","gists_url":"https://api.github.com/users/dnicolodi/gists{/gist_id}","starred_url":"https://api.github.com/users/dnicolodi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dnicolodi/subscriptions","organizations_url":"https://api.github.com/users/dnicolodi/orgs","repos_url":"https://api.github.com/users/dnicolodi/repos","events_url":"https://api.github.com/users/dnicolodi/events{/privacy}","received_events_url":"https://api.github.com/users/dnicolodi/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":0,"created_at":"2022-04-07T00:06:44Z","updated_at":"2022-04-07T00:12:21Z","closed_at":"2022-04-07T00:12:21Z","author_association":"COLLABORATOR","type":null,"active_lock_reason":null,"draft":false,"pull_request":{"url":"https://api.github.com/repos/beancount/beanquery/pulls/81","html_url":"https://github.com/beancount/beanquery/pull/81","diff_url":"https://github.com/beancount/beanquery/pull/81.diff","patch_url":"https://github.com/beancount/beanquery/pull/81.patch","merged_at":"2022-04-07T00:12:21Z"},"body":null,"closed_by":{"login":"dnicolodi","id":987145,"node_id":"MDQ6VXNlcjk4NzE0NQ==","avatar_url":"https://avatars.githubusercontent.com/u/987145?v=4","gravatar_id":"","url":"https://api.github.com/users/dnicolodi","html_url":"https://github.com/dnicolodi","followers_url":"https://api.github.com/users/dnicolodi/followers","following_url":"https://api.github.com/users/dnicolodi/following{/other_user}","gists_url":"https://api.github.com/users/dnicolodi/gists{/gist_id}","starred_url":"https://api.github.com/users/dnicolodi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dnicolodi/subscriptions","organizations_url":"https://api.github.com/users/dnicolodi/orgs","repos_url":"https://api.github.com/users/dnicolodi/repos","events_url":"https://api.github.com/users/dnicolodi/events{/privacy}","received_events_url":"https://api.github.com/users/dnicolodi/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/beancount/beanquery/issues/81/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beanquery/issues/81/timeline","performed_via_github_app":null,"state_reason":null},{"url":"https://api.github.com/repos/beancount/beanquery/issues/80","repository_url":"https://api.github.com/repos/beancount/beanquery","labels_url":"https://api.github.com/repos/beancount/beanquery/issues/80/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beanquery/issues/80/comments","events_url":"https://api.github.com/repos/beancount/beanquery/issues/80/events","html_url":"https://github.com/beancount/beanquery/pull/80","id":1195191499,"node_id":"PR_kwDOFUEJF841w82J","number":80,"title":"Fix BQL IN operator","user":{"login":"dnicolodi","id":987145,"node_id":"MDQ6VXNlcjk4NzE0NQ==","avatar_url":"https://avatars.githubusercontent.com/u/987145?v=4","gravatar_id":"","url":"https://api.github.com/users/dnicolodi","html_url":"https://github.com/dnicolodi","followers_url":"https://api.github.com/users/dnicolodi/followers","following_url":"https://api.github.com/users/dnicolodi/following{/other_user}","gists_url":"https://api.github.com/users/dnicolodi/gists{/gist_id}","starred_url":"https://api.github.com/users/dnicolodi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dnicolodi/subscriptions","organizations_url":"https://api.github.com/users/dnicolodi/orgs","repos_url":"https://api.github.com/users/dnicolodi/repos","events_url":"https://api.github.com/users/dnicolodi/events{/privacy}","received_events_url":"https://api.github.com/users/dnicolodi/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":0,"created_at":"2022-04-06T21:13:14Z","updated_at":"2022-04-06T21:22:01Z","closed_at":"2022-04-06T21:22:01Z","author_association":"COLLABORATOR","type":null,"active_lock_reason":null,"draft":false,"pull_request":{"url":"https://api.github.com/repos/beancount/beanquery/pulls/80","html_url":"https://github.com/beancount/beanquery/pull/80","diff_url":"https://github.com/beancount/beanquery/pull/80.diff","patch_url":"https://github.com/beancount/beanquery/pull/80.patch","merged_at":"2022-04-06T21:22:01Z"},"body":null,"closed_by":{"login":"dnicolodi","id":987145,"node_id":"MDQ6VXNlcjk4NzE0NQ==","avatar_url":"https://avatars.githubusercontent.com/u/987145?v=4","gravatar_id":"","url":"https://api.github.com/users/dnicolodi","html_url":"https://github.com/dnicolodi","followers_url":"https://api.github.com/users/dnicolodi/followers","following_url":"https://api.github.com/users/dnicolodi/following{/other_user}","gists_url":"https://api.github.com/users/dnicolodi/gists{/gist_id}","starred_url":"https://api.github.com/users/dnicolodi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dnicolodi/subscriptions","organizations_url":"https://api.github.com/users/dnicolodi/orgs","repos_url":"https://api.github.com/users/dnicolodi/repos","events_url":"https://api.github.com/users/dnicolodi/events{/privacy}","received_events_url":"https://api.github.com/users/dnicolodi/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/beancount/beanquery/issues/80/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beanquery/issues/80/timeline","performed_via_github_app":null,"state_reason":null},{"url":"https://api.github.com/repos/beancount/beanquery/issues/79","repository_url":"https://api.github.com/repos/beancount/beanquery","labels_url":"https://api.github.com/repos/beancount/beanquery/issues/79/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beanquery/issues/79/comments","events_url":"https://api.github.com/repos/beancount/beanquery/issues/79/events","html_url":"https://github.com/beancount/beanquery/pull/79","id":1194409533,"node_id":"PR_kwDOFUEJF841uTBj","number":79,"title":"Relax required Beancount version to allow to be used with v2","user":{"login":"dnicolodi","id":987145,"node_id":"MDQ6VXNlcjk4NzE0NQ==","avatar_url":"https://avatars.githubusercontent.com/u/987145?v=4","gravatar_id":"","url":"https://api.github.com/users/dnicolodi","html_url":"https://github.com/dnicolodi","followers_url":"https://api.github.com/users/dnicolodi/followers","following_url":"https://api.github.com/users/dnicolodi/following{/other_user}","gists_url":"https://api.github.com/users/dnicolodi/gists{/gist_id}","starred_url":"https://api.github.com/users/dnicolodi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dnicolodi/subscriptions","organizations_url":"https://api.github.com/users/dnicolodi/orgs","repos_url":"https://api.github.com/users/dnicolodi/repos","events_url":"https://api.github.com/users/dnicolodi/events{/privacy}","received_events_url":"https://api.github.com/users/dnicolodi/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":0,"created_at":"2022-04-06T10:29:37Z","updated_at":"2022-04-06T10:43:21Z","closed_at":"2022-04-06T10:43:21Z","author_association":"COLLABORATOR","type":null,"active_lock_reason":null,"draft":false,"pull_request":{"url":"https://api.github.com/repos/beancount/beanquery/pulls/79","html_url":"https://github.com/beancount/beanquery/pull/79","diff_url":"https://github.com/beancount/beanquery/pull/79.diff","patch_url":"https://github.com/beancount/beanquery/pull/79.patch","merged_at":"2022-04-06T10:43:21Z"},"body":null,"closed_by":{"login":"dnicolodi","id":987145,"node_id":"MDQ6VXNlcjk4NzE0NQ==","avatar_url":"https://avatars.githubusercontent.com/u/987145?v=4","gravatar_id":"","url":"https://api.github.com/users/dnicolodi","html_url":"https://github.com/dnicolodi","followers_url":"https://api.github.com/users/dnicolodi/followers","following_url":"https://api.github.com/users/dnicolodi/following{/other_user}","gists_url":"https://api.github.com/users/dnicolodi/gists{/gist_id}","starred_url":"https://api.github.com/users/dnicolodi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dnicolodi/subscriptions","organizations_url":"https://api.github.com/users/dnicolodi/orgs","repos_url":"https://api.github.com/users/dnicolodi/repos","events_url":"https://api.github.com/users/dnicolodi/events{/privacy}","received_events_url":"https://api.github.com/users/dnicolodi/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/beancount/beanquery/issues/79/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beanquery/issues/79/timeline","performed_via_github_app":null,"state_reason":null},{"url":"https://api.github.com/repos/beancount/beanquery/issues/78","repository_url":"https://api.github.com/repos/beancount/beanquery","labels_url":"https://api.github.com/repos/beancount/beanquery/issues/78/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beanquery/issues/78/comments","events_url":"https://api.github.com/repos/beancount/beanquery/issues/78/events","html_url":"https://github.com/beancount/beanquery/issues/78","id":1193810364,"node_id":"I_kwDOFUEJF85HKBm8","number":78,"title":"PLY is not maintained anymore as a package on PyPI","user":{"login":"dnicolodi","id":987145,"node_id":"MDQ6VXNlcjk4NzE0NQ==","avatar_url":"https://avatars.githubusercontent.com/u/987145?v=4","gravatar_id":"","url":"https://api.github.com/users/dnicolodi","html_url":"https://github.com/dnicolodi","followers_url":"https://api.github.com/users/dnicolodi/followers","following_url":"https://api.github.com/users/dnicolodi/following{/other_user}","gists_url":"https://api.github.com/users/dnicolodi/gists{/gist_id}","starred_url":"https://api.github.com/users/dnicolodi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dnicolodi/subscriptions","organizations_url":"https://api.github.com/users/dnicolodi/orgs","repos_url":"https://api.github.com/users/dnicolodi/repos","events_url":"https://api.github.com/users/dnicolodi/events{/privacy}","received_events_url":"https://api.github.com/users/dnicolodi/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":4,"created_at":"2022-04-05T22:53:02Z","updated_at":"2022-08-02T09:51:26Z","closed_at":"2022-08-02T09:51:26Z","author_association":"COLLABORATOR","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"For reasons that I'm not sure I understand, the PLY author decided to stop upload new version of PLY to PyPI and suggests to embed a copy in the projects that use it https://github.com/dabeaz/ply/blob/559a7a1feabb0853be79d4f4dd9e9e9e5ea0d08c/README.md?plain=1#L30 and dabeaz/ply#255 \r\n\r\nI am not aware of any bug fixed in PLY after the last release available on PyPI, but moving forward we can think about copying a more recent version into the repository or to move to SLY.","closed_by":{"login":"dnicolodi","id":987145,"node_id":"MDQ6VXNlcjk4NzE0NQ==","avatar_url":"https://avatars.githubusercontent.com/u/987145?v=4","gravatar_id":"","url":"https://api.github.com/users/dnicolodi","html_url":"https://github.com/dnicolodi","followers_url":"https://api.github.com/users/dnicolodi/followers","following_url":"https://api.github.com/users/dnicolodi/following{/other_user}","gists_url":"https://api.github.com/users/dnicolodi/gists{/gist_id}","starred_url":"https://api.github.com/users/dnicolodi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dnicolodi/subscriptions","organizations_url":"https://api.github.com/users/dnicolodi/orgs","repos_url":"https://api.github.com/users/dnicolodi/repos","events_url":"https://api.github.com/users/dnicolodi/events{/privacy}","received_events_url":"https://api.github.com/users/dnicolodi/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/beancount/beanquery/issues/78/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beanquery/issues/78/timeline","performed_via_github_app":null,"state_reason":"completed"},{"url":"https://api.github.com/repos/beancount/beanquery/issues/77","repository_url":"https://api.github.com/repos/beancount/beanquery","labels_url":"https://api.github.com/repos/beancount/beanquery/issues/77/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beanquery/issues/77/comments","events_url":"https://api.github.com/repos/beancount/beanquery/issues/77/events","html_url":"https://github.com/beancount/beanquery/pull/77","id":1193703139,"node_id":"PR_kwDOFUEJF841r60b","number":77,"title":"Fix shell help targets","user":{"login":"dnicolodi","id":987145,"node_id":"MDQ6VXNlcjk4NzE0NQ==","avatar_url":"https://avatars.githubusercontent.com/u/987145?v=4","gravatar_id":"","url":"https://api.github.com/users/dnicolodi","html_url":"https://github.com/dnicolodi","followers_url":"https://api.github.com/users/dnicolodi/followers","following_url":"https://api.github.com/users/dnicolodi/following{/other_user}","gists_url":"https://api.github.com/users/dnicolodi/gists{/gist_id}","starred_url":"https://api.github.com/users/dnicolodi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dnicolodi/subscriptions","organizations_url":"https://api.github.com/users/dnicolodi/orgs","repos_url":"https://api.github.com/users/dnicolodi/repos","events_url":"https://api.github.com/users/dnicolodi/events{/privacy}","received_events_url":"https://api.github.com/users/dnicolodi/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":0,"created_at":"2022-04-05T20:49:46Z","updated_at":"2022-04-05T21:25:00Z","closed_at":"2022-04-05T21:25:00Z","author_association":"COLLABORATOR","type":null,"active_lock_reason":null,"draft":false,"pull_request":{"url":"https://api.github.com/repos/beancount/beanquery/pulls/77","html_url":"https://github.com/beancount/beanquery/pull/77","diff_url":"https://github.com/beancount/beanquery/pull/77.diff","patch_url":"https://github.com/beancount/beanquery/pull/77.patch","merged_at":"2022-04-05T21:25:00Z"},"body":"This broke with the rework of the functions registry. Improve sligtly.","closed_by":{"login":"dnicolodi","id":987145,"node_id":"MDQ6VXNlcjk4NzE0NQ==","avatar_url":"https://avatars.githubusercontent.com/u/987145?v=4","gravatar_id":"","url":"https://api.github.com/users/dnicolodi","html_url":"https://github.com/dnicolodi","followers_url":"https://api.github.com/users/dnicolodi/followers","following_url":"https://api.github.com/users/dnicolodi/following{/other_user}","gists_url":"https://api.github.com/users/dnicolodi/gists{/gist_id}","starred_url":"https://api.github.com/users/dnicolodi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dnicolodi/subscriptions","organizations_url":"https://api.github.com/users/dnicolodi/orgs","repos_url":"https://api.github.com/users/dnicolodi/repos","events_url":"https://api.github.com/users/dnicolodi/events{/privacy}","received_events_url":"https://api.github.com/users/dnicolodi/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/beancount/beanquery/issues/77/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beanquery/issues/77/timeline","performed_via_github_app":null,"state_reason":null},{"url":"https://api.github.com/repos/beancount/beanquery/issues/76","repository_url":"https://api.github.com/repos/beancount/beanquery","labels_url":"https://api.github.com/repos/beancount/beanquery/issues/76/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beanquery/issues/76/comments","events_url":"https://api.github.com/repos/beancount/beanquery/issues/76/events","html_url":"https://github.com/beancount/beanquery/issues/76","id":1193584514,"node_id":"I_kwDOFUEJF85HJKeC","number":76,"title":"Alternative way to handle NULLs","user":{"login":"dnicolodi","id":987145,"node_id":"MDQ6VXNlcjk4NzE0NQ==","avatar_url":"https://avatars.githubusercontent.com/u/987145?v=4","gravatar_id":"","url":"https://api.github.com/users/dnicolodi","html_url":"https://github.com/dnicolodi","followers_url":"https://api.github.com/users/dnicolodi/followers","following_url":"https://api.github.com/users/dnicolodi/following{/other_user}","gists_url":"https://api.github.com/users/dnicolodi/gists{/gist_id}","starred_url":"https://api.github.com/users/dnicolodi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dnicolodi/subscriptions","organizations_url":"https://api.github.com/users/dnicolodi/orgs","repos_url":"https://api.github.com/users/dnicolodi/repos","events_url":"https://api.github.com/users/dnicolodi/events{/privacy}","received_events_url":"https://api.github.com/users/dnicolodi/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":4004344243,"node_id":"LA_kwDOFUEJF87urXGz","url":"https://api.github.com/repos/beancount/beanquery/labels/idea","name":"idea","color":"DFE4FB","default":false,"description":"Idea for possible improvement"}],"state":"open","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":0,"created_at":"2022-04-05T18:50:43Z","updated_at":"2022-04-05T18:54:50Z","closed_at":null,"author_association":"COLLABORATOR","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"When the development focus will switch to performance, we may investigate an alternative way of handling `NULL` values. Instead than bubbling up `NULL`s through the BQL call stack, we can simply raise a dedicate exception, rewinding the stack up till the first function that handles it. This has the advantage of removing the code that check function arguments for `None` and will only require to replace all `return None` into `raise NullValue`. The implementation of functions that handle `NULL` values will just have to wrap arguments evaluation with something like:\r\n```python\r\ndef maybenull(x, context):\r\n    try:\r\n        return x(context)\r\n    except NullValue:\r\n        return None\r\n```","closed_by":null,"reactions":{"url":"https://api.github.com/repos/beancount/beanquery/issues/76/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beanquery/issues/76/timeline","performed_via_github_app":null,"state_reason":null},{"url":"https://api.github.com/repos/beancount/beanquery/issues/75","repository_url":"https://api.github.com/repos/beancount/beanquery","labels_url":"https://api.github.com/repos/beancount/beanquery/issues/75/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beanquery/issues/75/comments","events_url":"https://api.github.com/repos/beancount/beanquery/issues/75/events","html_url":"https://github.com/beancount/beanquery/pull/75","id":1192440075,"node_id":"PR_kwDOFUEJF841nscW","number":75,"title":"Fix BQL boolean operators handling of NULL values","user":{"login":"dnicolodi","id":987145,"node_id":"MDQ6VXNlcjk4NzE0NQ==","avatar_url":"https://avatars.githubusercontent.com/u/987145?v=4","gravatar_id":"","url":"https://api.github.com/users/dnicolodi","html_url":"https://github.com/dnicolodi","followers_url":"https://api.github.com/users/dnicolodi/followers","following_url":"https://api.github.com/users/dnicolodi/following{/other_user}","gists_url":"https://api.github.com/users/dnicolodi/gists{/gist_id}","starred_url":"https://api.github.com/users/dnicolodi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dnicolodi/subscriptions","organizations_url":"https://api.github.com/users/dnicolodi/orgs","repos_url":"https://api.github.com/users/dnicolodi/repos","events_url":"https://api.github.com/users/dnicolodi/events{/privacy}","received_events_url":"https://api.github.com/users/dnicolodi/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":0,"created_at":"2022-04-04T23:54:48Z","updated_at":"2022-04-04T23:59:27Z","closed_at":"2022-04-04T23:59:27Z","author_association":"COLLABORATOR","type":null,"active_lock_reason":null,"draft":false,"pull_request":{"url":"https://api.github.com/repos/beancount/beanquery/pulls/75","html_url":"https://github.com/beancount/beanquery/pull/75","diff_url":"https://github.com/beancount/beanquery/pull/75.diff","patch_url":"https://github.com/beancount/beanquery/pull/75.patch","merged_at":"2022-04-04T23:59:27Z"},"body":null,"closed_by":{"login":"dnicolodi","id":987145,"node_id":"MDQ6VXNlcjk4NzE0NQ==","avatar_url":"https://avatars.githubusercontent.com/u/987145?v=4","gravatar_id":"","url":"https://api.github.com/users/dnicolodi","html_url":"https://github.com/dnicolodi","followers_url":"https://api.github.com/users/dnicolodi/followers","following_url":"https://api.github.com/users/dnicolodi/following{/other_user}","gists_url":"https://api.github.com/users/dnicolodi/gists{/gist_id}","starred_url":"https://api.github.com/users/dnicolodi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dnicolodi/subscriptions","organizations_url":"https://api.github.com/users/dnicolodi/orgs","repos_url":"https://api.github.com/users/dnicolodi/repos","events_url":"https://api.github.com/users/dnicolodi/events{/privacy}","received_events_url":"https://api.github.com/users/dnicolodi/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/beancount/beanquery/issues/75/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beanquery/issues/75/timeline","performed_via_github_app":null,"state_reason":null},{"url":"https://api.github.com/repos/beancount/beanquery/issues/74","repository_url":"https://api.github.com/repos/beancount/beanquery","labels_url":"https://api.github.com/repos/beancount/beanquery/issues/74/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beanquery/issues/74/comments","events_url":"https://api.github.com/repos/beancount/beanquery/issues/74/events","html_url":"https://github.com/beancount/beanquery/pull/74","id":1192381237,"node_id":"PR_kwDOFUEJF841nf16","number":74,"title":"Better deal with NULLs","user":{"login":"dnicolodi","id":987145,"node_id":"MDQ6VXNlcjk4NzE0NQ==","avatar_url":"https://avatars.githubusercontent.com/u/987145?v=4","gravatar_id":"","url":"https://api.github.com/users/dnicolodi","html_url":"https://github.com/dnicolodi","followers_url":"https://api.github.com/users/dnicolodi/followers","following_url":"https://api.github.com/users/dnicolodi/following{/other_user}","gists_url":"https://api.github.com/users/dnicolodi/gists{/gist_id}","starred_url":"https://api.github.com/users/dnicolodi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dnicolodi/subscriptions","organizations_url":"https://api.github.com/users/dnicolodi/orgs","repos_url":"https://api.github.com/users/dnicolodi/repos","events_url":"https://api.github.com/users/dnicolodi/events{/privacy}","received_events_url":"https://api.github.com/users/dnicolodi/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":0,"created_at":"2022-04-04T22:29:46Z","updated_at":"2022-04-04T22:46:52Z","closed_at":"2022-04-04T22:46:52Z","author_association":"COLLABORATOR","type":null,"active_lock_reason":null,"draft":false,"pull_request":{"url":"https://api.github.com/repos/beancount/beanquery/pulls/74","html_url":"https://github.com/beancount/beanquery/pull/74","diff_url":"https://github.com/beancount/beanquery/pull/74.diff","patch_url":"https://github.com/beancount/beanquery/pull/74.patch","merged_at":"2022-04-04T22:46:52Z"},"body":null,"closed_by":{"login":"dnicolodi","id":987145,"node_id":"MDQ6VXNlcjk4NzE0NQ==","avatar_url":"https://avatars.githubusercontent.com/u/987145?v=4","gravatar_id":"","url":"https://api.github.com/users/dnicolodi","html_url":"https://github.com/dnicolodi","followers_url":"https://api.github.com/users/dnicolodi/followers","following_url":"https://api.github.com/users/dnicolodi/following{/other_user}","gists_url":"https://api.github.com/users/dnicolodi/gists{/gist_id}","starred_url":"https://api.github.com/users/dnicolodi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dnicolodi/subscriptions","organizations_url":"https://api.github.com/users/dnicolodi/orgs","repos_url":"https://api.github.com/users/dnicolodi/repos","events_url":"https://api.github.com/users/dnicolodi/events{/privacy}","received_events_url":"https://api.github.com/users/dnicolodi/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/beancount/beanquery/issues/74/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beanquery/issues/74/timeline","performed_via_github_app":null,"state_reason":null},{"url":"https://api.github.com/repos/beancount/beanquery/issues/73","repository_url":"https://api.github.com/repos/beancount/beanquery","labels_url":"https://api.github.com/repos/beancount/beanquery/issues/73/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beanquery/issues/73/comments","events_url":"https://api.github.com/repos/beancount/beanquery/issues/73/events","html_url":"https://github.com/beancount/beanquery/pull/73","id":1192277320,"node_id":"PR_kwDOFUEJF841nJXF","number":73,"title":"Harden meta(), entry_meta(), and any_meta() BQL functions","user":{"login":"dnicolodi","id":987145,"node_id":"MDQ6VXNlcjk4NzE0NQ==","avatar_url":"https://avatars.githubusercontent.com/u/987145?v=4","gravatar_id":"","url":"https://api.github.com/users/dnicolodi","html_url":"https://github.com/dnicolodi","followers_url":"https://api.github.com/users/dnicolodi/followers","following_url":"https://api.github.com/users/dnicolodi/following{/other_user}","gists_url":"https://api.github.com/users/dnicolodi/gists{/gist_id}","starred_url":"https://api.github.com/users/dnicolodi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dnicolodi/subscriptions","organizations_url":"https://api.github.com/users/dnicolodi/orgs","repos_url":"https://api.github.com/users/dnicolodi/repos","events_url":"https://api.github.com/users/dnicolodi/events{/privacy}","received_events_url":"https://api.github.com/users/dnicolodi/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":0,"created_at":"2022-04-04T20:26:24Z","updated_at":"2022-04-04T20:31:38Z","closed_at":"2022-04-04T20:31:38Z","author_association":"COLLABORATOR","type":null,"active_lock_reason":null,"draft":false,"pull_request":{"url":"https://api.github.com/repos/beancount/beanquery/pulls/73","html_url":"https://github.com/beancount/beanquery/pull/73","diff_url":"https://github.com/beancount/beanquery/pull/73.diff","patch_url":"https://github.com/beancount/beanquery/pull/73.patch","merged_at":"2022-04-04T20:31:38Z"},"body":null,"closed_by":{"login":"dnicolodi","id":987145,"node_id":"MDQ6VXNlcjk4NzE0NQ==","avatar_url":"https://avatars.githubusercontent.com/u/987145?v=4","gravatar_id":"","url":"https://api.github.com/users/dnicolodi","html_url":"https://github.com/dnicolodi","followers_url":"https://api.github.com/users/dnicolodi/followers","following_url":"https://api.github.com/users/dnicolodi/following{/other_user}","gists_url":"https://api.github.com/users/dnicolodi/gists{/gist_id}","starred_url":"https://api.github.com/users/dnicolodi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dnicolodi/subscriptions","organizations_url":"https://api.github.com/users/dnicolodi/orgs","repos_url":"https://api.github.com/users/dnicolodi/repos","events_url":"https://api.github.com/users/dnicolodi/events{/privacy}","received_events_url":"https://api.github.com/users/dnicolodi/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/beancount/beanquery/issues/73/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beanquery/issues/73/timeline","performed_via_github_app":null,"state_reason":null},{"url":"https://api.github.com/repos/beancount/beanquery/issues/72","repository_url":"https://api.github.com/repos/beancount/beanquery","labels_url":"https://api.github.com/repos/beancount/beanquery/issues/72/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beanquery/issues/72/comments","events_url":"https://api.github.com/repos/beancount/beanquery/issues/72/events","html_url":"https://github.com/beancount/beanquery/pull/72","id":1192271586,"node_id":"PR_kwDOFUEJF841nIGs","number":72,"title":"Adjust BQL functions operating on metadata dictionaries","user":{"login":"dnicolodi","id":987145,"node_id":"MDQ6VXNlcjk4NzE0NQ==","avatar_url":"https://avatars.githubusercontent.com/u/987145?v=4","gravatar_id":"","url":"https://api.github.com/users/dnicolodi","html_url":"https://github.com/dnicolodi","followers_url":"https://api.github.com/users/dnicolodi/followers","following_url":"https://api.github.com/users/dnicolodi/following{/other_user}","gists_url":"https://api.github.com/users/dnicolodi/gists{/gist_id}","starred_url":"https://api.github.com/users/dnicolodi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dnicolodi/subscriptions","organizations_url":"https://api.github.com/users/dnicolodi/orgs","repos_url":"https://api.github.com/users/dnicolodi/repos","events_url":"https://api.github.com/users/dnicolodi/events{/privacy}","received_events_url":"https://api.github.com/users/dnicolodi/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":0,"created_at":"2022-04-04T20:20:42Z","updated_at":"2022-04-04T20:21:57Z","closed_at":"2022-04-04T20:21:57Z","author_association":"COLLABORATOR","type":null,"active_lock_reason":null,"draft":false,"pull_request":{"url":"https://api.github.com/repos/beancount/beanquery/pulls/72","html_url":"https://github.com/beancount/beanquery/pull/72","diff_url":"https://github.com/beancount/beanquery/pull/72.diff","patch_url":"https://github.com/beancount/beanquery/pull/72.patch","merged_at":"2022-04-04T20:21:57Z"},"body":null,"closed_by":{"login":"dnicolodi","id":987145,"node_id":"MDQ6VXNlcjk4NzE0NQ==","avatar_url":"https://avatars.githubusercontent.com/u/987145?v=4","gravatar_id":"","url":"https://api.github.com/users/dnicolodi","html_url":"https://github.com/dnicolodi","followers_url":"https://api.github.com/users/dnicolodi/followers","following_url":"https://api.github.com/users/dnicolodi/following{/other_user}","gists_url":"https://api.github.com/users/dnicolodi/gists{/gist_id}","starred_url":"https://api.github.com/users/dnicolodi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dnicolodi/subscriptions","organizations_url":"https://api.github.com/users/dnicolodi/orgs","repos_url":"https://api.github.com/users/dnicolodi/repos","events_url":"https://api.github.com/users/dnicolodi/events{/privacy}","received_events_url":"https://api.github.com/users/dnicolodi/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/beancount/beanquery/issues/72/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beanquery/issues/72/timeline","performed_via_github_app":null,"state_reason":null},{"url":"https://api.github.com/repos/beancount/beanquery/issues/71","repository_url":"https://api.github.com/repos/beancount/beanquery","labels_url":"https://api.github.com/repos/beancount/beanquery/issues/71/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beanquery/issues/71/comments","events_url":"https://api.github.com/repos/beancount/beanquery/issues/71/events","html_url":"https://github.com/beancount/beanquery/pull/71","id":1192220846,"node_id":"PR_kwDOFUEJF841m9Lw","number":71,"title":"Add round() BQL function","user":{"login":"dnicolodi","id":987145,"node_id":"MDQ6VXNlcjk4NzE0NQ==","avatar_url":"https://avatars.githubusercontent.com/u/987145?v=4","gravatar_id":"","url":"https://api.github.com/users/dnicolodi","html_url":"https://github.com/dnicolodi","followers_url":"https://api.github.com/users/dnicolodi/followers","following_url":"https://api.github.com/users/dnicolodi/following{/other_user}","gists_url":"https://api.github.com/users/dnicolodi/gists{/gist_id}","starred_url":"https://api.github.com/users/dnicolodi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dnicolodi/subscriptions","organizations_url":"https://api.github.com/users/dnicolodi/orgs","repos_url":"https://api.github.com/users/dnicolodi/repos","events_url":"https://api.github.com/users/dnicolodi/events{/privacy}","received_events_url":"https://api.github.com/users/dnicolodi/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":0,"created_at":"2022-04-04T19:29:19Z","updated_at":"2022-04-04T19:32:04Z","closed_at":"2022-04-04T19:32:04Z","author_association":"COLLABORATOR","type":null,"active_lock_reason":null,"draft":false,"pull_request":{"url":"https://api.github.com/repos/beancount/beanquery/pulls/71","html_url":"https://github.com/beancount/beanquery/pull/71","diff_url":"https://github.com/beancount/beanquery/pull/71.diff","patch_url":"https://github.com/beancount/beanquery/pull/71.patch","merged_at":"2022-04-04T19:32:04Z"},"body":null,"closed_by":{"login":"dnicolodi","id":987145,"node_id":"MDQ6VXNlcjk4NzE0NQ==","avatar_url":"https://avatars.githubusercontent.com/u/987145?v=4","gravatar_id":"","url":"https://api.github.com/users/dnicolodi","html_url":"https://github.com/dnicolodi","followers_url":"https://api.github.com/users/dnicolodi/followers","following_url":"https://api.github.com/users/dnicolodi/following{/other_user}","gists_url":"https://api.github.com/users/dnicolodi/gists{/gist_id}","starred_url":"https://api.github.com/users/dnicolodi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dnicolodi/subscriptions","organizations_url":"https://api.github.com/users/dnicolodi/orgs","repos_url":"https://api.github.com/users/dnicolodi/repos","events_url":"https://api.github.com/users/dnicolodi/events{/privacy}","received_events_url":"https://api.github.com/users/dnicolodi/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/beancount/beanquery/issues/71/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beanquery/issues/71/timeline","performed_via_github_app":null,"state_reason":null},{"url":"https://api.github.com/repos/beancount/beanquery/issues/70","repository_url":"https://api.github.com/repos/beancount/beanquery","labels_url":"https://api.github.com/repos/beancount/beanquery/issues/70/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beanquery/issues/70/comments","events_url":"https://api.github.com/repos/beancount/beanquery/issues/70/events","html_url":"https://github.com/beancount/beanquery/pull/70","id":1191025651,"node_id":"PR_kwDOFUEJF841i_Fn","number":70,"title":"Refactoring","user":{"login":"dnicolodi","id":987145,"node_id":"MDQ6VXNlcjk4NzE0NQ==","avatar_url":"https://avatars.githubusercontent.com/u/987145?v=4","gravatar_id":"","url":"https://api.github.com/users/dnicolodi","html_url":"https://github.com/dnicolodi","followers_url":"https://api.github.com/users/dnicolodi/followers","following_url":"https://api.github.com/users/dnicolodi/following{/other_user}","gists_url":"https://api.github.com/users/dnicolodi/gists{/gist_id}","starred_url":"https://api.github.com/users/dnicolodi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dnicolodi/subscriptions","organizations_url":"https://api.github.com/users/dnicolodi/orgs","repos_url":"https://api.github.com/users/dnicolodi/repos","events_url":"https://api.github.com/users/dnicolodi/events{/privacy}","received_events_url":"https://api.github.com/users/dnicolodi/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":0,"created_at":"2022-04-03T19:41:43Z","updated_at":"2022-04-04T16:16:27Z","closed_at":"2022-04-04T16:16:27Z","author_association":"COLLABORATOR","type":null,"active_lock_reason":null,"draft":false,"pull_request":{"url":"https://api.github.com/repos/beancount/beanquery/pulls/70","html_url":"https://github.com/beancount/beanquery/pull/70","diff_url":"https://github.com/beancount/beanquery/pull/70.diff","patch_url":"https://github.com/beancount/beanquery/pull/70.patch","merged_at":"2022-04-04T16:16:27Z"},"body":null,"closed_by":{"login":"dnicolodi","id":987145,"node_id":"MDQ6VXNlcjk4NzE0NQ==","avatar_url":"https://avatars.githubusercontent.com/u/987145?v=4","gravatar_id":"","url":"https://api.github.com/users/dnicolodi","html_url":"https://github.com/dnicolodi","followers_url":"https://api.github.com/users/dnicolodi/followers","following_url":"https://api.github.com/users/dnicolodi/following{/other_user}","gists_url":"https://api.github.com/users/dnicolodi/gists{/gist_id}","starred_url":"https://api.github.com/users/dnicolodi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dnicolodi/subscriptions","organizations_url":"https://api.github.com/users/dnicolodi/orgs","repos_url":"https://api.github.com/users/dnicolodi/repos","events_url":"https://api.github.com/users/dnicolodi/events{/privacy}","received_events_url":"https://api.github.com/users/dnicolodi/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/beancount/beanquery/issues/70/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beanquery/issues/70/timeline","performed_via_github_app":null,"state_reason":null},{"url":"https://api.github.com/repos/beancount/beanquery/issues/69","repository_url":"https://api.github.com/repos/beancount/beanquery","labels_url":"https://api.github.com/repos/beancount/beanquery/issues/69/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beanquery/issues/69/comments","events_url":"https://api.github.com/repos/beancount/beanquery/issues/69/events","html_url":"https://github.com/beancount/beanquery/pull/69","id":1190950024,"node_id":"PR_kwDOFUEJF841iwqh","number":69,"title":"Move run, reload, errors, and explain commands handling from BQL to shell","user":{"login":"dnicolodi","id":987145,"node_id":"MDQ6VXNlcjk4NzE0NQ==","avatar_url":"https://avatars.githubusercontent.com/u/987145?v=4","gravatar_id":"","url":"https://api.github.com/users/dnicolodi","html_url":"https://github.com/dnicolodi","followers_url":"https://api.github.com/users/dnicolodi/followers","following_url":"https://api.github.com/users/dnicolodi/following{/other_user}","gists_url":"https://api.github.com/users/dnicolodi/gists{/gist_id}","starred_url":"https://api.github.com/users/dnicolodi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dnicolodi/subscriptions","organizations_url":"https://api.github.com/users/dnicolodi/orgs","repos_url":"https://api.github.com/users/dnicolodi/repos","events_url":"https://api.github.com/users/dnicolodi/events{/privacy}","received_events_url":"https://api.github.com/users/dnicolodi/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":0,"created_at":"2022-04-03T14:39:47Z","updated_at":"2022-04-03T15:54:20Z","closed_at":"2022-04-03T15:54:19Z","author_association":"COLLABORATOR","type":null,"active_lock_reason":null,"draft":false,"pull_request":{"url":"https://api.github.com/repos/beancount/beanquery/pulls/69","html_url":"https://github.com/beancount/beanquery/pull/69","diff_url":"https://github.com/beancount/beanquery/pull/69.diff","patch_url":"https://github.com/beancount/beanquery/pull/69.patch","merged_at":"2022-04-03T15:54:19Z"},"body":null,"closed_by":{"login":"dnicolodi","id":987145,"node_id":"MDQ6VXNlcjk4NzE0NQ==","avatar_url":"https://avatars.githubusercontent.com/u/987145?v=4","gravatar_id":"","url":"https://api.github.com/users/dnicolodi","html_url":"https://github.com/dnicolodi","followers_url":"https://api.github.com/users/dnicolodi/followers","following_url":"https://api.github.com/users/dnicolodi/following{/other_user}","gists_url":"https://api.github.com/users/dnicolodi/gists{/gist_id}","starred_url":"https://api.github.com/users/dnicolodi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dnicolodi/subscriptions","organizations_url":"https://api.github.com/users/dnicolodi/orgs","repos_url":"https://api.github.com/users/dnicolodi/repos","events_url":"https://api.github.com/users/dnicolodi/events{/privacy}","received_events_url":"https://api.github.com/users/dnicolodi/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/beancount/beanquery/issues/69/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beanquery/issues/69/timeline","performed_via_github_app":null,"state_reason":null},{"url":"https://api.github.com/repos/beancount/beanquery/issues/68","repository_url":"https://api.github.com/repos/beancount/beanquery","labels_url":"https://api.github.com/repos/beancount/beanquery/issues/68/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beanquery/issues/68/comments","events_url":"https://api.github.com/repos/beancount/beanquery/issues/68/events","html_url":"https://github.com/beancount/beanquery/pull/68","id":1190887064,"node_id":"PR_kwDOFUEJF841ik5v","number":68,"title":"Allow digits in BSL identifiers","user":{"login":"dnicolodi","id":987145,"node_id":"MDQ6VXNlcjk4NzE0NQ==","avatar_url":"https://avatars.githubusercontent.com/u/987145?v=4","gravatar_id":"","url":"https://api.github.com/users/dnicolodi","html_url":"https://github.com/dnicolodi","followers_url":"https://api.github.com/users/dnicolodi/followers","following_url":"https://api.github.com/users/dnicolodi/following{/other_user}","gists_url":"https://api.github.com/users/dnicolodi/gists{/gist_id}","starred_url":"https://api.github.com/users/dnicolodi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dnicolodi/subscriptions","organizations_url":"https://api.github.com/users/dnicolodi/orgs","repos_url":"https://api.github.com/users/dnicolodi/repos","events_url":"https://api.github.com/users/dnicolodi/events{/privacy}","received_events_url":"https://api.github.com/users/dnicolodi/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":0,"created_at":"2022-04-03T10:20:06Z","updated_at":"2022-04-03T10:33:16Z","closed_at":"2022-04-03T10:33:16Z","author_association":"COLLABORATOR","type":null,"active_lock_reason":null,"draft":false,"pull_request":{"url":"https://api.github.com/repos/beancount/beanquery/pulls/68","html_url":"https://github.com/beancount/beanquery/pull/68","diff_url":"https://github.com/beancount/beanquery/pull/68.diff","patch_url":"https://github.com/beancount/beanquery/pull/68.patch","merged_at":"2022-04-03T10:33:16Z"},"body":"Digits following the first character are allowed in SQL ids and there\r\nis no reason why they should not be allowed in BQL too.","closed_by":{"login":"dnicolodi","id":987145,"node_id":"MDQ6VXNlcjk4NzE0NQ==","avatar_url":"https://avatars.githubusercontent.com/u/987145?v=4","gravatar_id":"","url":"https://api.github.com/users/dnicolodi","html_url":"https://github.com/dnicolodi","followers_url":"https://api.github.com/users/dnicolodi/followers","following_url":"https://api.github.com/users/dnicolodi/following{/other_user}","gists_url":"https://api.github.com/users/dnicolodi/gists{/gist_id}","starred_url":"https://api.github.com/users/dnicolodi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dnicolodi/subscriptions","organizations_url":"https://api.github.com/users/dnicolodi/orgs","repos_url":"https://api.github.com/users/dnicolodi/repos","events_url":"https://api.github.com/users/dnicolodi/events{/privacy}","received_events_url":"https://api.github.com/users/dnicolodi/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/beancount/beanquery/issues/68/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beanquery/issues/68/timeline","performed_via_github_app":null,"state_reason":null},{"url":"https://api.github.com/repos/beancount/beanquery/issues/33","repository_url":"https://api.github.com/repos/beancount/beanquery","labels_url":"https://api.github.com/repos/beancount/beanquery/issues/33/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beanquery/issues/33/comments","events_url":"https://api.github.com/repos/beancount/beanquery/issues/33/events","html_url":"https://github.com/beancount/beanquery/pull/33","id":1190732024,"node_id":"PR_kwDOFUEJF841iHht","number":33,"title":"Refactor binary ops","user":{"login":"dnicolodi","id":987145,"node_id":"MDQ6VXNlcjk4NzE0NQ==","avatar_url":"https://avatars.githubusercontent.com/u/987145?v=4","gravatar_id":"","url":"https://api.github.com/users/dnicolodi","html_url":"https://github.com/dnicolodi","followers_url":"https://api.github.com/users/dnicolodi/followers","following_url":"https://api.github.com/users/dnicolodi/following{/other_user}","gists_url":"https://api.github.com/users/dnicolodi/gists{/gist_id}","starred_url":"https://api.github.com/users/dnicolodi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dnicolodi/subscriptions","organizations_url":"https://api.github.com/users/dnicolodi/orgs","repos_url":"https://api.github.com/users/dnicolodi/repos","events_url":"https://api.github.com/users/dnicolodi/events{/privacy}","received_events_url":"https://api.github.com/users/dnicolodi/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":1,"created_at":"2022-04-02T20:26:48Z","updated_at":"2022-04-04T20:54:38Z","closed_at":"2022-04-04T20:54:37Z","author_association":"COLLABORATOR","type":null,"active_lock_reason":null,"draft":false,"pull_request":{"url":"https://api.github.com/repos/beancount/beanquery/pulls/33","html_url":"https://github.com/beancount/beanquery/pull/33","diff_url":"https://github.com/beancount/beanquery/pull/33.diff","patch_url":"https://github.com/beancount/beanquery/pull/33.patch","merged_at":"2022-04-04T20:54:37Z"},"body":"On one hand this is cool because it extends type checking in BQL resulting in query compile time errors rather than in runtime splats. On the other hand, metadata values are not types, and they cannot reasonably be. Therefore, this requires rewriting something like:\r\n```\r\nSELECT * WHERE entry_meta('foo') > 42\r\n```\r\ninto\r\n```\r\nSELECT * WHERE decimal(entry_meta('foo')) > 42\r\n```\r\nWhere `decimal` is a type casting function that need to be introduced along with similar type casting functions for all BQL types. Alternatively, the query compiler could in principle infer the type and introduce an implicit type conversion. I am not sure how complex this would turn out to be.","closed_by":{"login":"dnicolodi","id":987145,"node_id":"MDQ6VXNlcjk4NzE0NQ==","avatar_url":"https://avatars.githubusercontent.com/u/987145?v=4","gravatar_id":"","url":"https://api.github.com/users/dnicolodi","html_url":"https://github.com/dnicolodi","followers_url":"https://api.github.com/users/dnicolodi/followers","following_url":"https://api.github.com/users/dnicolodi/following{/other_user}","gists_url":"https://api.github.com/users/dnicolodi/gists{/gist_id}","starred_url":"https://api.github.com/users/dnicolodi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dnicolodi/subscriptions","organizations_url":"https://api.github.com/users/dnicolodi/orgs","repos_url":"https://api.github.com/users/dnicolodi/repos","events_url":"https://api.github.com/users/dnicolodi/events{/privacy}","received_events_url":"https://api.github.com/users/dnicolodi/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/beancount/beanquery/issues/33/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beanquery/issues/33/timeline","performed_via_github_app":null,"state_reason":null},{"url":"https://api.github.com/repos/beancount/beanquery/issues/32","repository_url":"https://api.github.com/repos/beancount/beanquery","labels_url":"https://api.github.com/repos/beancount/beanquery/issues/32/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beanquery/issues/32/comments","events_url":"https://api.github.com/repos/beancount/beanquery/issues/32/events","html_url":"https://github.com/beancount/beanquery/pull/32","id":1190715935,"node_id":"PR_kwDOFUEJF841iEaj","number":32,"title":"Fixups","user":{"login":"dnicolodi","id":987145,"node_id":"MDQ6VXNlcjk4NzE0NQ==","avatar_url":"https://avatars.githubusercontent.com/u/987145?v=4","gravatar_id":"","url":"https://api.github.com/users/dnicolodi","html_url":"https://github.com/dnicolodi","followers_url":"https://api.github.com/users/dnicolodi/followers","following_url":"https://api.github.com/users/dnicolodi/following{/other_user}","gists_url":"https://api.github.com/users/dnicolodi/gists{/gist_id}","starred_url":"https://api.github.com/users/dnicolodi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dnicolodi/subscriptions","organizations_url":"https://api.github.com/users/dnicolodi/orgs","repos_url":"https://api.github.com/users/dnicolodi/repos","events_url":"https://api.github.com/users/dnicolodi/events{/privacy}","received_events_url":"https://api.github.com/users/dnicolodi/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":0,"created_at":"2022-04-02T19:10:10Z","updated_at":"2022-04-02T20:20:52Z","closed_at":"2022-04-02T20:20:52Z","author_association":"COLLABORATOR","type":null,"active_lock_reason":null,"draft":false,"pull_request":{"url":"https://api.github.com/repos/beancount/beanquery/pulls/32","html_url":"https://github.com/beancount/beanquery/pull/32","diff_url":"https://github.com/beancount/beanquery/pull/32.diff","patch_url":"https://github.com/beancount/beanquery/pull/32.patch","merged_at":"2022-04-02T20:20:52Z"},"body":null,"closed_by":{"login":"dnicolodi","id":987145,"node_id":"MDQ6VXNlcjk4NzE0NQ==","avatar_url":"https://avatars.githubusercontent.com/u/987145?v=4","gravatar_id":"","url":"https://api.github.com/users/dnicolodi","html_url":"https://github.com/dnicolodi","followers_url":"https://api.github.com/users/dnicolodi/followers","following_url":"https://api.github.com/users/dnicolodi/following{/other_user}","gists_url":"https://api.github.com/users/dnicolodi/gists{/gist_id}","starred_url":"https://api.github.com/users/dnicolodi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dnicolodi/subscriptions","organizations_url":"https://api.github.com/users/dnicolodi/orgs","repos_url":"https://api.github.com/users/dnicolodi/repos","events_url":"https://api.github.com/users/dnicolodi/events{/privacy}","received_events_url":"https://api.github.com/users/dnicolodi/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/beancount/beanquery/issues/32/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beanquery/issues/32/timeline","performed_via_github_app":null,"state_reason":null},{"url":"https://api.github.com/repos/beancount/beanquery/issues/31","repository_url":"https://api.github.com/repos/beancount/beanquery","labels_url":"https://api.github.com/repos/beancount/beanquery/issues/31/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beanquery/issues/31/comments","events_url":"https://api.github.com/repos/beancount/beanquery/issues/31/events","html_url":"https://github.com/beancount/beanquery/pull/31","id":1190612243,"node_id":"PR_kwDOFUEJF841hxV-","number":31,"title":"Constants are not operators","user":{"login":"dnicolodi","id":987145,"node_id":"MDQ6VXNlcjk4NzE0NQ==","avatar_url":"https://avatars.githubusercontent.com/u/987145?v=4","gravatar_id":"","url":"https://api.github.com/users/dnicolodi","html_url":"https://github.com/dnicolodi","followers_url":"https://api.github.com/users/dnicolodi/followers","following_url":"https://api.github.com/users/dnicolodi/following{/other_user}","gists_url":"https://api.github.com/users/dnicolodi/gists{/gist_id}","starred_url":"https://api.github.com/users/dnicolodi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dnicolodi/subscriptions","organizations_url":"https://api.github.com/users/dnicolodi/orgs","repos_url":"https://api.github.com/users/dnicolodi/repos","events_url":"https://api.github.com/users/dnicolodi/events{/privacy}","received_events_url":"https://api.github.com/users/dnicolodi/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":0,"created_at":"2022-04-02T12:02:04Z","updated_at":"2022-04-02T12:03:14Z","closed_at":"2022-04-02T12:03:14Z","author_association":"COLLABORATOR","type":null,"active_lock_reason":null,"draft":false,"pull_request":{"url":"https://api.github.com/repos/beancount/beanquery/pulls/31","html_url":"https://github.com/beancount/beanquery/pull/31","diff_url":"https://github.com/beancount/beanquery/pull/31.diff","patch_url":"https://github.com/beancount/beanquery/pull/31.patch","merged_at":"2022-04-02T12:03:14Z"},"body":null,"closed_by":{"login":"dnicolodi","id":987145,"node_id":"MDQ6VXNlcjk4NzE0NQ==","avatar_url":"https://avatars.githubusercontent.com/u/987145?v=4","gravatar_id":"","url":"https://api.github.com/users/dnicolodi","html_url":"https://github.com/dnicolodi","followers_url":"https://api.github.com/users/dnicolodi/followers","following_url":"https://api.github.com/users/dnicolodi/following{/other_user}","gists_url":"https://api.github.com/users/dnicolodi/gists{/gist_id}","starred_url":"https://api.github.com/users/dnicolodi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dnicolodi/subscriptions","organizations_url":"https://api.github.com/users/dnicolodi/orgs","repos_url":"https://api.github.com/users/dnicolodi/repos","events_url":"https://api.github.com/users/dnicolodi/events{/privacy}","received_events_url":"https://api.github.com/users/dnicolodi/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/beancount/beanquery/issues/31/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beanquery/issues/31/timeline","performed_via_github_app":null,"state_reason":null},{"url":"https://api.github.com/repos/beancount/beanquery/issues/30","repository_url":"https://api.github.com/repos/beancount/beanquery","labels_url":"https://api.github.com/repos/beancount/beanquery/issues/30/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beanquery/issues/30/comments","events_url":"https://api.github.com/repos/beancount/beanquery/issues/30/events","html_url":"https://github.com/beancount/beanquery/pull/30","id":1190604101,"node_id":"PR_kwDOFUEJF841hvyX","number":30,"title":"Code cleanup and simplification","user":{"login":"dnicolodi","id":987145,"node_id":"MDQ6VXNlcjk4NzE0NQ==","avatar_url":"https://avatars.githubusercontent.com/u/987145?v=4","gravatar_id":"","url":"https://api.github.com/users/dnicolodi","html_url":"https://github.com/dnicolodi","followers_url":"https://api.github.com/users/dnicolodi/followers","following_url":"https://api.github.com/users/dnicolodi/following{/other_user}","gists_url":"https://api.github.com/users/dnicolodi/gists{/gist_id}","starred_url":"https://api.github.com/users/dnicolodi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dnicolodi/subscriptions","organizations_url":"https://api.github.com/users/dnicolodi/orgs","repos_url":"https://api.github.com/users/dnicolodi/repos","events_url":"https://api.github.com/users/dnicolodi/events{/privacy}","received_events_url":"https://api.github.com/users/dnicolodi/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":0,"created_at":"2022-04-02T11:25:38Z","updated_at":"2022-04-02T11:27:42Z","closed_at":"2022-04-02T11:27:42Z","author_association":"COLLABORATOR","type":null,"active_lock_reason":null,"draft":false,"pull_request":{"url":"https://api.github.com/repos/beancount/beanquery/pulls/30","html_url":"https://github.com/beancount/beanquery/pull/30","diff_url":"https://github.com/beancount/beanquery/pull/30.diff","patch_url":"https://github.com/beancount/beanquery/pull/30.patch","merged_at":"2022-04-02T11:27:42Z"},"body":null,"closed_by":{"login":"dnicolodi","id":987145,"node_id":"MDQ6VXNlcjk4NzE0NQ==","avatar_url":"https://avatars.githubusercontent.com/u/987145?v=4","gravatar_id":"","url":"https://api.github.com/users/dnicolodi","html_url":"https://github.com/dnicolodi","followers_url":"https://api.github.com/users/dnicolodi/followers","following_url":"https://api.github.com/users/dnicolodi/following{/other_user}","gists_url":"https://api.github.com/users/dnicolodi/gists{/gist_id}","starred_url":"https://api.github.com/users/dnicolodi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dnicolodi/subscriptions","organizations_url":"https://api.github.com/users/dnicolodi/orgs","repos_url":"https://api.github.com/users/dnicolodi/repos","events_url":"https://api.github.com/users/dnicolodi/events{/privacy}","received_events_url":"https://api.github.com/users/dnicolodi/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/beancount/beanquery/issues/30/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beanquery/issues/30/timeline","performed_via_github_app":null,"state_reason":null},{"url":"https://api.github.com/repos/beancount/beanquery/issues/29","repository_url":"https://api.github.com/repos/beancount/beanquery","labels_url":"https://api.github.com/repos/beancount/beanquery/issues/29/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beanquery/issues/29/comments","events_url":"https://api.github.com/repos/beancount/beanquery/issues/29/events","html_url":"https://github.com/beancount/beanquery/pull/29","id":1187972639,"node_id":"PR_kwDOFUEJF841ZJsP","number":29,"title":"Implement support for referencing output names in WHERE and HAVING","user":{"login":"dnicolodi","id":987145,"node_id":"MDQ6VXNlcjk4NzE0NQ==","avatar_url":"https://avatars.githubusercontent.com/u/987145?v=4","gravatar_id":"","url":"https://api.github.com/users/dnicolodi","html_url":"https://github.com/dnicolodi","followers_url":"https://api.github.com/users/dnicolodi/followers","following_url":"https://api.github.com/users/dnicolodi/following{/other_user}","gists_url":"https://api.github.com/users/dnicolodi/gists{/gist_id}","starred_url":"https://api.github.com/users/dnicolodi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dnicolodi/subscriptions","organizations_url":"https://api.github.com/users/dnicolodi/orgs","repos_url":"https://api.github.com/users/dnicolodi/repos","events_url":"https://api.github.com/users/dnicolodi/events{/privacy}","received_events_url":"https://api.github.com/users/dnicolodi/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"open","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":0,"created_at":"2022-03-31T12:01:17Z","updated_at":"2025-02-01T11:34:31Z","closed_at":null,"author_association":"COLLABORATOR","type":null,"active_lock_reason":null,"draft":true,"pull_request":{"url":"https://api.github.com/repos/beancount/beanquery/pulls/29","html_url":"https://github.com/beancount/beanquery/pull/29","diff_url":"https://github.com/beancount/beanquery/pull/29.diff","patch_url":"https://github.com/beancount/beanquery/pull/29.patch","merged_at":null},"body":null,"closed_by":null,"reactions":{"url":"https://api.github.com/repos/beancount/beanquery/issues/29/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beanquery/issues/29/timeline","performed_via_github_app":null,"state_reason":null},{"url":"https://api.github.com/repos/beancount/beanquery/issues/28","repository_url":"https://api.github.com/repos/beancount/beanquery","labels_url":"https://api.github.com/repos/beancount/beanquery/issues/28/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beanquery/issues/28/comments","events_url":"https://api.github.com/repos/beancount/beanquery/issues/28/events","html_url":"https://github.com/beancount/beanquery/pull/28","id":1183794530,"node_id":"PR_kwDOFUEJF841LKSX","number":28,"title":"Revise sorting of NULL values and support specifying ordering direction for each column in ORDER BY clause","user":{"login":"dnicolodi","id":987145,"node_id":"MDQ6VXNlcjk4NzE0NQ==","avatar_url":"https://avatars.githubusercontent.com/u/987145?v=4","gravatar_id":"","url":"https://api.github.com/users/dnicolodi","html_url":"https://github.com/dnicolodi","followers_url":"https://api.github.com/users/dnicolodi/followers","following_url":"https://api.github.com/users/dnicolodi/following{/other_user}","gists_url":"https://api.github.com/users/dnicolodi/gists{/gist_id}","starred_url":"https://api.github.com/users/dnicolodi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dnicolodi/subscriptions","organizations_url":"https://api.github.com/users/dnicolodi/orgs","repos_url":"https://api.github.com/users/dnicolodi/repos","events_url":"https://api.github.com/users/dnicolodi/events{/privacy}","received_events_url":"https://api.github.com/users/dnicolodi/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":0,"created_at":"2022-03-28T18:04:34Z","updated_at":"2022-03-29T12:00:14Z","closed_at":"2022-03-29T12:00:14Z","author_association":"COLLABORATOR","type":null,"active_lock_reason":null,"draft":false,"pull_request":{"url":"https://api.github.com/repos/beancount/beanquery/pulls/28","html_url":"https://github.com/beancount/beanquery/pull/28","diff_url":"https://github.com/beancount/beanquery/pull/28.diff","patch_url":"https://github.com/beancount/beanquery/pull/28.patch","merged_at":"2022-03-29T12:00:14Z"},"body":null,"closed_by":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/beancount/beanquery/issues/28/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beanquery/issues/28/timeline","performed_via_github_app":null,"state_reason":null},{"url":"https://api.github.com/repos/beancount/beanquery/issues/88","repository_url":"https://api.github.com/repos/beancount/beanquery","labels_url":"https://api.github.com/repos/beancount/beanquery/issues/88/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beanquery/issues/88/comments","events_url":"https://api.github.com/repos/beancount/beanquery/issues/88/events","html_url":"https://github.com/beancount/beanquery/issues/88","id":1199046627,"node_id":"I_kwDOFUEJF85Hd__j","number":88,"title":"Query result of a column as a percentage","user":{"login":"jenicek","id":1938490,"node_id":"MDQ6VXNlcjE5Mzg0OTA=","avatar_url":"https://avatars.githubusercontent.com/u/1938490?v=4","gravatar_id":"","url":"https://api.github.com/users/jenicek","html_url":"https://github.com/jenicek","followers_url":"https://api.github.com/users/jenicek/followers","following_url":"https://api.github.com/users/jenicek/following{/other_user}","gists_url":"https://api.github.com/users/jenicek/gists{/gist_id}","starred_url":"https://api.github.com/users/jenicek/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jenicek/subscriptions","organizations_url":"https://api.github.com/users/jenicek/orgs","repos_url":"https://api.github.com/users/jenicek/repos","events_url":"https://api.github.com/users/jenicek/events{/privacy}","received_events_url":"https://api.github.com/users/jenicek/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"open","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":7,"created_at":"2022-02-01T19:14:51Z","updated_at":"2023-08-30T07:47:36Z","closed_at":null,"author_association":"NONE","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"When performing queries, it is often useful to express one of the columns as a percentage of the total. An example I see commonly is reporting on Assets allocation - grouping Assets by some key and reporting the percentage of cost (value) per group. If I did not miss anything, this cannot be currently done with the query language alone. Would you find this useful to add to the query language? In fava, this would allow to replace many plugins with a single query and I would find it useful for command-line usage too.\r\n\r\nIf interested, what do you think would be the best way to add this? I can think of three possibilities\r\n\r\n- allowing simple subqueries (`select position / (select sum(position))`) - this would be versatile (would allow for a different normalization, such as division by `max`) and consistent with SQL\r\n- allowing reusing query results in subsequent queries (e.g. by naming them) - also versatile, maybe useful also outside of this specific use-case\r\n- introducing a new construct to the language (e.g. a virtual column `total`, like `balance`) - this looks quite hacky, but would solve this particular issue and seems the easiest to implement","closed_by":null,"reactions":{"url":"https://api.github.com/repos/beancount/beanquery/issues/88/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beanquery/issues/88/timeline","performed_via_github_app":null,"state_reason":null},{"url":"https://api.github.com/repos/beancount/beanquery/issues/27","repository_url":"https://api.github.com/repos/beancount/beanquery","labels_url":"https://api.github.com/repos/beancount/beanquery/issues/27/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beanquery/issues/27/comments","events_url":"https://api.github.com/repos/beancount/beanquery/issues/27/events","html_url":"https://github.com/beancount/beanquery/pull/27","id":1119556839,"node_id":"PR_kwDOFUEJF84x2CUS","number":27,"title":"Refactor BQL functions implementation, part 2","user":{"login":"dnicolodi","id":987145,"node_id":"MDQ6VXNlcjk4NzE0NQ==","avatar_url":"https://avatars.githubusercontent.com/u/987145?v=4","gravatar_id":"","url":"https://api.github.com/users/dnicolodi","html_url":"https://github.com/dnicolodi","followers_url":"https://api.github.com/users/dnicolodi/followers","following_url":"https://api.github.com/users/dnicolodi/following{/other_user}","gists_url":"https://api.github.com/users/dnicolodi/gists{/gist_id}","starred_url":"https://api.github.com/users/dnicolodi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dnicolodi/subscriptions","organizations_url":"https://api.github.com/users/dnicolodi/orgs","repos_url":"https://api.github.com/users/dnicolodi/repos","events_url":"https://api.github.com/users/dnicolodi/events{/privacy}","received_events_url":"https://api.github.com/users/dnicolodi/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":0,"created_at":"2022-01-31T15:09:57Z","updated_at":"2022-01-31T19:08:46Z","closed_at":"2022-01-31T19:08:46Z","author_association":"COLLABORATOR","type":null,"active_lock_reason":null,"draft":false,"pull_request":{"url":"https://api.github.com/repos/beancount/beanquery/pulls/27","html_url":"https://github.com/beancount/beanquery/pull/27","diff_url":"https://github.com/beancount/beanquery/pull/27.diff","patch_url":"https://github.com/beancount/beanquery/pull/27.patch","merged_at":"2022-01-31T19:08:46Z"},"body":null,"closed_by":{"login":"dnicolodi","id":987145,"node_id":"MDQ6VXNlcjk4NzE0NQ==","avatar_url":"https://avatars.githubusercontent.com/u/987145?v=4","gravatar_id":"","url":"https://api.github.com/users/dnicolodi","html_url":"https://github.com/dnicolodi","followers_url":"https://api.github.com/users/dnicolodi/followers","following_url":"https://api.github.com/users/dnicolodi/following{/other_user}","gists_url":"https://api.github.com/users/dnicolodi/gists{/gist_id}","starred_url":"https://api.github.com/users/dnicolodi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dnicolodi/subscriptions","organizations_url":"https://api.github.com/users/dnicolodi/orgs","repos_url":"https://api.github.com/users/dnicolodi/repos","events_url":"https://api.github.com/users/dnicolodi/events{/privacy}","received_events_url":"https://api.github.com/users/dnicolodi/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/beancount/beanquery/issues/27/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beanquery/issues/27/timeline","performed_via_github_app":null,"state_reason":null},{"url":"https://api.github.com/repos/beancount/beanquery/issues/26","repository_url":"https://api.github.com/repos/beancount/beanquery","labels_url":"https://api.github.com/repos/beancount/beanquery/issues/26/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beanquery/issues/26/comments","events_url":"https://api.github.com/repos/beancount/beanquery/issues/26/events","html_url":"https://github.com/beancount/beanquery/pull/26","id":1118746663,"node_id":"PR_kwDOFUEJF84xzVCE","number":26,"title":"Make tests self contained","user":{"login":"dnicolodi","id":987145,"node_id":"MDQ6VXNlcjk4NzE0NQ==","avatar_url":"https://avatars.githubusercontent.com/u/987145?v=4","gravatar_id":"","url":"https://api.github.com/users/dnicolodi","html_url":"https://github.com/dnicolodi","followers_url":"https://api.github.com/users/dnicolodi/followers","following_url":"https://api.github.com/users/dnicolodi/following{/other_user}","gists_url":"https://api.github.com/users/dnicolodi/gists{/gist_id}","starred_url":"https://api.github.com/users/dnicolodi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dnicolodi/subscriptions","organizations_url":"https://api.github.com/users/dnicolodi/orgs","repos_url":"https://api.github.com/users/dnicolodi/repos","events_url":"https://api.github.com/users/dnicolodi/events{/privacy}","received_events_url":"https://api.github.com/users/dnicolodi/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":1,"created_at":"2022-01-30T23:00:37Z","updated_at":"2022-01-31T01:56:01Z","closed_at":"2022-01-30T23:05:06Z","author_association":"COLLABORATOR","type":null,"active_lock_reason":null,"draft":false,"pull_request":{"url":"https://api.github.com/repos/beancount/beanquery/pulls/26","html_url":"https://github.com/beancount/beanquery/pull/26","diff_url":"https://github.com/beancount/beanquery/pull/26.diff","patch_url":"https://github.com/beancount/beanquery/pull/26.patch","merged_at":"2022-01-30T23:05:06Z"},"body":"Embed the test ledger into the test harnesses. This allows to get rid\r\nof the example.beancount file and of the code required to find it and\r\nmakes the test work when the package is installed.","closed_by":{"login":"dnicolodi","id":987145,"node_id":"MDQ6VXNlcjk4NzE0NQ==","avatar_url":"https://avatars.githubusercontent.com/u/987145?v=4","gravatar_id":"","url":"https://api.github.com/users/dnicolodi","html_url":"https://github.com/dnicolodi","followers_url":"https://api.github.com/users/dnicolodi/followers","following_url":"https://api.github.com/users/dnicolodi/following{/other_user}","gists_url":"https://api.github.com/users/dnicolodi/gists{/gist_id}","starred_url":"https://api.github.com/users/dnicolodi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dnicolodi/subscriptions","organizations_url":"https://api.github.com/users/dnicolodi/orgs","repos_url":"https://api.github.com/users/dnicolodi/repos","events_url":"https://api.github.com/users/dnicolodi/events{/privacy}","received_events_url":"https://api.github.com/users/dnicolodi/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/beancount/beanquery/issues/26/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beanquery/issues/26/timeline","performed_via_github_app":null,"state_reason":null},{"url":"https://api.github.com/repos/beancount/beanquery/issues/25","repository_url":"https://api.github.com/repos/beancount/beanquery","labels_url":"https://api.github.com/repos/beancount/beanquery/issues/25/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beanquery/issues/25/comments","events_url":"https://api.github.com/repos/beancount/beanquery/issues/25/events","html_url":"https://github.com/beancount/beanquery/pull/25","id":1111925021,"node_id":"PR_kwDOFUEJF84xdZZa","number":25,"title":"Refactor implementation of BQL functions","user":{"login":"dnicolodi","id":987145,"node_id":"MDQ6VXNlcjk4NzE0NQ==","avatar_url":"https://avatars.githubusercontent.com/u/987145?v=4","gravatar_id":"","url":"https://api.github.com/users/dnicolodi","html_url":"https://github.com/dnicolodi","followers_url":"https://api.github.com/users/dnicolodi/followers","following_url":"https://api.github.com/users/dnicolodi/following{/other_user}","gists_url":"https://api.github.com/users/dnicolodi/gists{/gist_id}","starred_url":"https://api.github.com/users/dnicolodi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dnicolodi/subscriptions","organizations_url":"https://api.github.com/users/dnicolodi/orgs","repos_url":"https://api.github.com/users/dnicolodi/repos","events_url":"https://api.github.com/users/dnicolodi/events{/privacy}","received_events_url":"https://api.github.com/users/dnicolodi/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":2,"created_at":"2022-01-23T16:52:40Z","updated_at":"2022-01-31T03:27:29Z","closed_at":"2022-01-31T03:27:29Z","author_association":"COLLABORATOR","type":null,"active_lock_reason":null,"draft":false,"pull_request":{"url":"https://api.github.com/repos/beancount/beanquery/pulls/25","html_url":"https://github.com/beancount/beanquery/pull/25","diff_url":"https://github.com/beancount/beanquery/pull/25.diff","patch_url":"https://github.com/beancount/beanquery/pull/25.patch","merged_at":"2022-01-31T03:27:29Z"},"body":"Use a function decorator to build the function evaluator class and add the implementation to the BQL functions registry.\r\n\r\nI haven't converted all BQL function definitions yet. It is tedious enough work that I would like to get feedback before converting the remaining ones. The data types are now passed explicitly to the decorator. They could be extracted from type annotations, but the code would not get shorter, and given the uncertain of the annotations implementation in future Python versions I would avoid to interact directly with them.","closed_by":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/beancount/beanquery/issues/25/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beanquery/issues/25/timeline","performed_via_github_app":null,"state_reason":null},{"url":"https://api.github.com/repos/beancount/beanquery/issues/24","repository_url":"https://api.github.com/repos/beancount/beanquery","labels_url":"https://api.github.com/repos/beancount/beanquery/issues/24/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beanquery/issues/24/comments","events_url":"https://api.github.com/repos/beancount/beanquery/issues/24/events","html_url":"https://github.com/beancount/beanquery/pull/24","id":1111829803,"node_id":"PR_kwDOFUEJF84xdHrr","number":24,"title":"Allow to be installed with Beancount v2","user":{"login":"dnicolodi","id":987145,"node_id":"MDQ6VXNlcjk4NzE0NQ==","avatar_url":"https://avatars.githubusercontent.com/u/987145?v=4","gravatar_id":"","url":"https://api.github.com/users/dnicolodi","html_url":"https://github.com/dnicolodi","followers_url":"https://api.github.com/users/dnicolodi/followers","following_url":"https://api.github.com/users/dnicolodi/following{/other_user}","gists_url":"https://api.github.com/users/dnicolodi/gists{/gist_id}","starred_url":"https://api.github.com/users/dnicolodi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dnicolodi/subscriptions","organizations_url":"https://api.github.com/users/dnicolodi/orgs","repos_url":"https://api.github.com/users/dnicolodi/repos","events_url":"https://api.github.com/users/dnicolodi/events{/privacy}","received_events_url":"https://api.github.com/users/dnicolodi/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":1,"created_at":"2022-01-23T10:20:19Z","updated_at":"2022-01-23T11:55:10Z","closed_at":"2022-01-23T11:55:10Z","author_association":"COLLABORATOR","type":null,"active_lock_reason":null,"draft":false,"pull_request":{"url":"https://api.github.com/repos/beancount/beanquery/pulls/24","html_url":"https://github.com/beancount/beanquery/pull/24","diff_url":"https://github.com/beancount/beanquery/pull/24.diff","patch_url":"https://github.com/beancount/beanquery/pull/24.patch","merged_at":null},"body":null,"closed_by":{"login":"dnicolodi","id":987145,"node_id":"MDQ6VXNlcjk4NzE0NQ==","avatar_url":"https://avatars.githubusercontent.com/u/987145?v=4","gravatar_id":"","url":"https://api.github.com/users/dnicolodi","html_url":"https://github.com/dnicolodi","followers_url":"https://api.github.com/users/dnicolodi/followers","following_url":"https://api.github.com/users/dnicolodi/following{/other_user}","gists_url":"https://api.github.com/users/dnicolodi/gists{/gist_id}","starred_url":"https://api.github.com/users/dnicolodi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dnicolodi/subscriptions","organizations_url":"https://api.github.com/users/dnicolodi/orgs","repos_url":"https://api.github.com/users/dnicolodi/repos","events_url":"https://api.github.com/users/dnicolodi/events{/privacy}","received_events_url":"https://api.github.com/users/dnicolodi/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/beancount/beanquery/issues/24/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beanquery/issues/24/timeline","performed_via_github_app":null,"state_reason":null},{"url":"https://api.github.com/repos/beancount/beanquery/issues/23","repository_url":"https://api.github.com/repos/beancount/beanquery","labels_url":"https://api.github.com/repos/beancount/beanquery/issues/23/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beanquery/issues/23/comments","events_url":"https://api.github.com/repos/beancount/beanquery/issues/23/events","html_url":"https://github.com/beancount/beanquery/pull/23","id":1111364988,"node_id":"PR_kwDOFUEJF84xbnQ8","number":23,"title":"CI Fixes","user":{"login":"dnicolodi","id":987145,"node_id":"MDQ6VXNlcjk4NzE0NQ==","avatar_url":"https://avatars.githubusercontent.com/u/987145?v=4","gravatar_id":"","url":"https://api.github.com/users/dnicolodi","html_url":"https://github.com/dnicolodi","followers_url":"https://api.github.com/users/dnicolodi/followers","following_url":"https://api.github.com/users/dnicolodi/following{/other_user}","gists_url":"https://api.github.com/users/dnicolodi/gists{/gist_id}","starred_url":"https://api.github.com/users/dnicolodi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dnicolodi/subscriptions","organizations_url":"https://api.github.com/users/dnicolodi/orgs","repos_url":"https://api.github.com/users/dnicolodi/repos","events_url":"https://api.github.com/users/dnicolodi/events{/privacy}","received_events_url":"https://api.github.com/users/dnicolodi/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":0,"created_at":"2022-01-22T09:04:21Z","updated_at":"2022-01-22T15:42:01Z","closed_at":"2022-01-22T15:42:01Z","author_association":"COLLABORATOR","type":null,"active_lock_reason":null,"draft":false,"pull_request":{"url":"https://api.github.com/repos/beancount/beanquery/pulls/23","html_url":"https://github.com/beancount/beanquery/pull/23","diff_url":"https://github.com/beancount/beanquery/pull/23.diff","patch_url":"https://github.com/beancount/beanquery/pull/23.patch","merged_at":"2022-01-22T15:42:01Z"},"body":null,"closed_by":{"login":"dnicolodi","id":987145,"node_id":"MDQ6VXNlcjk4NzE0NQ==","avatar_url":"https://avatars.githubusercontent.com/u/987145?v=4","gravatar_id":"","url":"https://api.github.com/users/dnicolodi","html_url":"https://github.com/dnicolodi","followers_url":"https://api.github.com/users/dnicolodi/followers","following_url":"https://api.github.com/users/dnicolodi/following{/other_user}","gists_url":"https://api.github.com/users/dnicolodi/gists{/gist_id}","starred_url":"https://api.github.com/users/dnicolodi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dnicolodi/subscriptions","organizations_url":"https://api.github.com/users/dnicolodi/orgs","repos_url":"https://api.github.com/users/dnicolodi/repos","events_url":"https://api.github.com/users/dnicolodi/events{/privacy}","received_events_url":"https://api.github.com/users/dnicolodi/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/beancount/beanquery/issues/23/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beanquery/issues/23/timeline","performed_via_github_app":null,"state_reason":null},{"url":"https://api.github.com/repos/beancount/beanquery/issues/22","repository_url":"https://api.github.com/repos/beancount/beanquery","labels_url":"https://api.github.com/repos/beancount/beanquery/issues/22/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beanquery/issues/22/comments","events_url":"https://api.github.com/repos/beancount/beanquery/issues/22/events","html_url":"https://github.com/beancount/beanquery/pull/22","id":1110971607,"node_id":"PR_kwDOFUEJF84xaQB1","number":22,"title":"Implement HAVING clause","user":{"login":"dnicolodi","id":987145,"node_id":"MDQ6VXNlcjk4NzE0NQ==","avatar_url":"https://avatars.githubusercontent.com/u/987145?v=4","gravatar_id":"","url":"https://api.github.com/users/dnicolodi","html_url":"https://github.com/dnicolodi","followers_url":"https://api.github.com/users/dnicolodi/followers","following_url":"https://api.github.com/users/dnicolodi/following{/other_user}","gists_url":"https://api.github.com/users/dnicolodi/gists{/gist_id}","starred_url":"https://api.github.com/users/dnicolodi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dnicolodi/subscriptions","organizations_url":"https://api.github.com/users/dnicolodi/orgs","repos_url":"https://api.github.com/users/dnicolodi/repos","events_url":"https://api.github.com/users/dnicolodi/events{/privacy}","received_events_url":"https://api.github.com/users/dnicolodi/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":2,"created_at":"2022-01-21T21:44:03Z","updated_at":"2022-01-23T12:31:36Z","closed_at":"2022-01-23T12:31:36Z","author_association":"COLLABORATOR","type":null,"active_lock_reason":null,"draft":false,"pull_request":{"url":"https://api.github.com/repos/beancount/beanquery/pulls/22","html_url":"https://github.com/beancount/beanquery/pull/22","diff_url":"https://github.com/beancount/beanquery/pull/22.diff","patch_url":"https://github.com/beancount/beanquery/pull/22.patch","merged_at":"2022-01-23T12:31:36Z"},"body":null,"closed_by":{"login":"dnicolodi","id":987145,"node_id":"MDQ6VXNlcjk4NzE0NQ==","avatar_url":"https://avatars.githubusercontent.com/u/987145?v=4","gravatar_id":"","url":"https://api.github.com/users/dnicolodi","html_url":"https://github.com/dnicolodi","followers_url":"https://api.github.com/users/dnicolodi/followers","following_url":"https://api.github.com/users/dnicolodi/following{/other_user}","gists_url":"https://api.github.com/users/dnicolodi/gists{/gist_id}","starred_url":"https://api.github.com/users/dnicolodi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dnicolodi/subscriptions","organizations_url":"https://api.github.com/users/dnicolodi/orgs","repos_url":"https://api.github.com/users/dnicolodi/repos","events_url":"https://api.github.com/users/dnicolodi/events{/privacy}","received_events_url":"https://api.github.com/users/dnicolodi/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/beancount/beanquery/issues/22/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beanquery/issues/22/timeline","performed_via_github_app":null,"state_reason":null},{"url":"https://api.github.com/repos/beancount/beanquery/issues/21","repository_url":"https://api.github.com/repos/beancount/beanquery","labels_url":"https://api.github.com/repos/beancount/beanquery/issues/21/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beanquery/issues/21/comments","events_url":"https://api.github.com/repos/beancount/beanquery/issues/21/events","html_url":"https://github.com/beancount/beanquery/pull/21","id":1110971119,"node_id":"PR_kwDOFUEJF84xaP7V","number":21,"title":"Add empty() BQL function to determine whether an inventiry is empty","user":{"login":"dnicolodi","id":987145,"node_id":"MDQ6VXNlcjk4NzE0NQ==","avatar_url":"https://avatars.githubusercontent.com/u/987145?v=4","gravatar_id":"","url":"https://api.github.com/users/dnicolodi","html_url":"https://github.com/dnicolodi","followers_url":"https://api.github.com/users/dnicolodi/followers","following_url":"https://api.github.com/users/dnicolodi/following{/other_user}","gists_url":"https://api.github.com/users/dnicolodi/gists{/gist_id}","starred_url":"https://api.github.com/users/dnicolodi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dnicolodi/subscriptions","organizations_url":"https://api.github.com/users/dnicolodi/orgs","repos_url":"https://api.github.com/users/dnicolodi/repos","events_url":"https://api.github.com/users/dnicolodi/events{/privacy}","received_events_url":"https://api.github.com/users/dnicolodi/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":0,"created_at":"2022-01-21T21:43:16Z","updated_at":"2022-01-22T03:09:20Z","closed_at":"2022-01-22T03:09:20Z","author_association":"COLLABORATOR","type":null,"active_lock_reason":null,"draft":false,"pull_request":{"url":"https://api.github.com/repos/beancount/beanquery/pulls/21","html_url":"https://github.com/beancount/beanquery/pull/21","diff_url":"https://github.com/beancount/beanquery/pull/21.diff","patch_url":"https://github.com/beancount/beanquery/pull/21.patch","merged_at":"2022-01-22T03:09:20Z"},"body":null,"closed_by":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/beancount/beanquery/issues/21/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beanquery/issues/21/timeline","performed_via_github_app":null,"state_reason":null},{"url":"https://api.github.com/repos/beancount/beanquery/issues/20","repository_url":"https://api.github.com/repos/beancount/beanquery","labels_url":"https://api.github.com/repos/beancount/beanquery/issues/20/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beanquery/issues/20/comments","events_url":"https://api.github.com/repos/beancount/beanquery/issues/20/events","html_url":"https://github.com/beancount/beanquery/pull/20","id":1097374157,"node_id":"PR_kwDOFUEJF84wtQgB","number":20,"title":"BQL functions decimal(str, [int]), round(decimal, int)","user":{"login":"mbafford","id":713813,"node_id":"MDQ6VXNlcjcxMzgxMw==","avatar_url":"https://avatars.githubusercontent.com/u/713813?v=4","gravatar_id":"","url":"https://api.github.com/users/mbafford","html_url":"https://github.com/mbafford","followers_url":"https://api.github.com/users/mbafford/followers","following_url":"https://api.github.com/users/mbafford/following{/other_user}","gists_url":"https://api.github.com/users/mbafford/gists{/gist_id}","starred_url":"https://api.github.com/users/mbafford/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mbafford/subscriptions","organizations_url":"https://api.github.com/users/mbafford/orgs","repos_url":"https://api.github.com/users/mbafford/repos","events_url":"https://api.github.com/users/mbafford/events{/privacy}","received_events_url":"https://api.github.com/users/mbafford/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":3,"created_at":"2022-01-10T01:40:52Z","updated_at":"2022-04-07T00:12:44Z","closed_at":"2022-04-07T00:12:44Z","author_association":"NONE","type":null,"active_lock_reason":null,"draft":false,"pull_request":{"url":"https://api.github.com/repos/beancount/beanquery/pulls/20","html_url":"https://github.com/beancount/beanquery/pull/20","diff_url":"https://github.com/beancount/beanquery/pull/20.diff","patch_url":"https://github.com/beancount/beanquery/pull/20.patch","merged_at":null},"body":"_Moved from: https://github.com/beancount/beancount/pull/692_\r\n\r\n**Summary**\r\n\r\nAdds `decimal(<str>)`, `decimal(<str>, <Decimal>)` and `round(<Decimal>, <int>)` functions to bean-query.\r\n\r\n----\r\n**Background:**\r\n\r\nPortfolio balance check-in time - I set up my commodities as follows, and wanted to get a quick summary of US/non-US, stocks/bonds exposure.\r\n\r\n```\r\n2016-11-19 commodity INDX\r\n    pcnt_stocks_us: 0.60\r\n    pcnt_stocks_int: 0.40\r\n```\r\n\r\nThis is *almost* usable out of the box, but `getitem(commodity_meta(<commodity>), <key>)` returns a `str`, so I can't multiply out the values. I worked around this by creating many rows with `group by` and then using Google Sheets to do the final calculations, but with these two functions a nice report portfolio allocation report can easily be done just with bean-query.\r\n\r\nWith these two functions, I can instead write a query like:\r\n\r\n```\r\nselect\r\n    sum(convert(position, 'USD')) as total_value,\r\n    round(safediv(\r\n        sum(getprice(commodity(units(position)), 'USD') * decimal(getitem(commodity_meta(commodity(units(position))), 'pcnt_stocks_us'), 0.0) * number(units(position))),\r\n        sum(getprice(commodity(units(position)), 'USD') * number(units(position)))\r\n    )*100.0, 2) as pcnt_value_us_stocks\r\n    where account ~ 'Assets:Retirement' and commodity(units(position)) != 'USD'\r\n```\r\n\r\n----\r\n\r\n**More Functions?**\r\n\r\nAs an aside, there are some convenience functions I can see adding, like `commodity_meta(<commodity>, <key>)` to simplify `getitem(commodity_meta(<commodity>), <key>)` , and I'd really love to be able to just do `commodity_meta(<position>, <key>)`.  If PRs for more Python-based functions for bean-query make sense for the v3 roadmap, what's the best way to handle proposing these convenience functions? PR with implementation, GitHub issue, Google Groups email?","closed_by":{"login":"dnicolodi","id":987145,"node_id":"MDQ6VXNlcjk4NzE0NQ==","avatar_url":"https://avatars.githubusercontent.com/u/987145?v=4","gravatar_id":"","url":"https://api.github.com/users/dnicolodi","html_url":"https://github.com/dnicolodi","followers_url":"https://api.github.com/users/dnicolodi/followers","following_url":"https://api.github.com/users/dnicolodi/following{/other_user}","gists_url":"https://api.github.com/users/dnicolodi/gists{/gist_id}","starred_url":"https://api.github.com/users/dnicolodi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dnicolodi/subscriptions","organizations_url":"https://api.github.com/users/dnicolodi/orgs","repos_url":"https://api.github.com/users/dnicolodi/repos","events_url":"https://api.github.com/users/dnicolodi/events{/privacy}","received_events_url":"https://api.github.com/users/dnicolodi/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/beancount/beanquery/issues/20/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beanquery/issues/20/timeline","performed_via_github_app":null,"state_reason":null},{"url":"https://api.github.com/repos/beancount/beanquery/issues/19","repository_url":"https://api.github.com/repos/beancount/beanquery","labels_url":"https://api.github.com/repos/beancount/beanquery/issues/19/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beanquery/issues/19/comments","events_url":"https://api.github.com/repos/beancount/beanquery/issues/19/events","html_url":"https://github.com/beancount/beanquery/pull/19","id":958889406,"node_id":"MDExOlB1bGxSZXF1ZXN0NzAyMDg4OTAz","number":19,"title":"Fix docs for ABS() in bean-query","user":{"login":"mhansen","id":105529,"node_id":"MDQ6VXNlcjEwNTUyOQ==","avatar_url":"https://avatars.githubusercontent.com/u/105529?v=4","gravatar_id":"","url":"https://api.github.com/users/mhansen","html_url":"https://github.com/mhansen","followers_url":"https://api.github.com/users/mhansen/followers","following_url":"https://api.github.com/users/mhansen/following{/other_user}","gists_url":"https://api.github.com/users/mhansen/gists{/gist_id}","starred_url":"https://api.github.com/users/mhansen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mhansen/subscriptions","organizations_url":"https://api.github.com/users/mhansen/orgs","repos_url":"https://api.github.com/users/mhansen/repos","events_url":"https://api.github.com/users/mhansen/events{/privacy}","received_events_url":"https://api.github.com/users/mhansen/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":1,"created_at":"2021-08-03T08:56:08Z","updated_at":"2021-08-03T14:19:19Z","closed_at":"2021-08-03T14:19:19Z","author_association":"CONTRIBUTOR","type":null,"active_lock_reason":null,"draft":false,"pull_request":{"url":"https://api.github.com/repos/beancount/beanquery/pulls/19","html_url":"https://github.com/beancount/beanquery/pull/19","diff_url":"https://github.com/beancount/beanquery/pull/19.diff","patch_url":"https://github.com/beancount/beanquery/pull/19.patch","merged_at":"2021-08-03T14:19:19Z"},"body":"Fixes https://github.com/beancount/beancount/issues/673","closed_by":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/beancount/beanquery/issues/19/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beanquery/issues/19/timeline","performed_via_github_app":null,"state_reason":null},{"url":"https://api.github.com/repos/beancount/beanquery/issues/18","repository_url":"https://api.github.com/repos/beancount/beanquery","labels_url":"https://api.github.com/repos/beancount/beanquery/issues/18/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beanquery/issues/18/comments","events_url":"https://api.github.com/repos/beancount/beanquery/issues/18/events","html_url":"https://github.com/beancount/beanquery/pull/18","id":860696226,"node_id":"MDExOlB1bGxSZXF1ZXN0NjE3NTA3MDE1","number":18,"title":"tests: Modernize a bit","user":{"login":"dnicolodi","id":987145,"node_id":"MDQ6VXNlcjk4NzE0NQ==","avatar_url":"https://avatars.githubusercontent.com/u/987145?v=4","gravatar_id":"","url":"https://api.github.com/users/dnicolodi","html_url":"https://github.com/dnicolodi","followers_url":"https://api.github.com/users/dnicolodi/followers","following_url":"https://api.github.com/users/dnicolodi/following{/other_user}","gists_url":"https://api.github.com/users/dnicolodi/gists{/gist_id}","starred_url":"https://api.github.com/users/dnicolodi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dnicolodi/subscriptions","organizations_url":"https://api.github.com/users/dnicolodi/orgs","repos_url":"https://api.github.com/users/dnicolodi/repos","events_url":"https://api.github.com/users/dnicolodi/events{/privacy}","received_events_url":"https://api.github.com/users/dnicolodi/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":0,"created_at":"2021-04-18T15:48:40Z","updated_at":"2021-04-18T15:51:10Z","closed_at":"2021-04-18T15:51:10Z","author_association":"COLLABORATOR","type":null,"active_lock_reason":null,"draft":false,"pull_request":{"url":"https://api.github.com/repos/beancount/beanquery/pulls/18","html_url":"https://github.com/beancount/beanquery/pull/18","diff_url":"https://github.com/beancount/beanquery/pull/18.diff","patch_url":"https://github.com/beancount/beanquery/pull/18.patch","merged_at":"2021-04-18T15:51:10Z"},"body":"","closed_by":{"login":"dnicolodi","id":987145,"node_id":"MDQ6VXNlcjk4NzE0NQ==","avatar_url":"https://avatars.githubusercontent.com/u/987145?v=4","gravatar_id":"","url":"https://api.github.com/users/dnicolodi","html_url":"https://github.com/dnicolodi","followers_url":"https://api.github.com/users/dnicolodi/followers","following_url":"https://api.github.com/users/dnicolodi/following{/other_user}","gists_url":"https://api.github.com/users/dnicolodi/gists{/gist_id}","starred_url":"https://api.github.com/users/dnicolodi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dnicolodi/subscriptions","organizations_url":"https://api.github.com/users/dnicolodi/orgs","repos_url":"https://api.github.com/users/dnicolodi/repos","events_url":"https://api.github.com/users/dnicolodi/events{/privacy}","received_events_url":"https://api.github.com/users/dnicolodi/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/beancount/beanquery/issues/18/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beanquery/issues/18/timeline","performed_via_github_app":null,"state_reason":null},{"url":"https://api.github.com/repos/beancount/beanquery/issues/17","repository_url":"https://api.github.com/repos/beancount/beanquery","labels_url":"https://api.github.com/repos/beancount/beanquery/issues/17/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beanquery/issues/17/comments","events_url":"https://api.github.com/repos/beancount/beanquery/issues/17/events","html_url":"https://github.com/beancount/beanquery/pull/17","id":860505781,"node_id":"MDExOlB1bGxSZXF1ZXN0NjE3Mzc0NTcw","number":17,"title":"Remove bin/bean-query from the repository","user":{"login":"dnicolodi","id":987145,"node_id":"MDQ6VXNlcjk4NzE0NQ==","avatar_url":"https://avatars.githubusercontent.com/u/987145?v=4","gravatar_id":"","url":"https://api.github.com/users/dnicolodi","html_url":"https://github.com/dnicolodi","followers_url":"https://api.github.com/users/dnicolodi/followers","following_url":"https://api.github.com/users/dnicolodi/following{/other_user}","gists_url":"https://api.github.com/users/dnicolodi/gists{/gist_id}","starred_url":"https://api.github.com/users/dnicolodi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dnicolodi/subscriptions","organizations_url":"https://api.github.com/users/dnicolodi/orgs","repos_url":"https://api.github.com/users/dnicolodi/repos","events_url":"https://api.github.com/users/dnicolodi/events{/privacy}","received_events_url":"https://api.github.com/users/dnicolodi/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":5,"created_at":"2021-04-17T20:13:08Z","updated_at":"2022-04-14T12:01:37Z","closed_at":"2022-04-14T12:01:37Z","author_association":"COLLABORATOR","type":null,"active_lock_reason":null,"draft":false,"pull_request":{"url":"https://api.github.com/repos/beancount/beanquery/pulls/17","html_url":"https://github.com/beancount/beanquery/pull/17","diff_url":"https://github.com/beancount/beanquery/pull/17.diff","patch_url":"https://github.com/beancount/beanquery/pull/17.patch","merged_at":null},"body":"The executable is created by setuptools on install and alternatively\r\nthe tool can be run from the source directory with 'python -m beanquery'.","closed_by":{"login":"dnicolodi","id":987145,"node_id":"MDQ6VXNlcjk4NzE0NQ==","avatar_url":"https://avatars.githubusercontent.com/u/987145?v=4","gravatar_id":"","url":"https://api.github.com/users/dnicolodi","html_url":"https://github.com/dnicolodi","followers_url":"https://api.github.com/users/dnicolodi/followers","following_url":"https://api.github.com/users/dnicolodi/following{/other_user}","gists_url":"https://api.github.com/users/dnicolodi/gists{/gist_id}","starred_url":"https://api.github.com/users/dnicolodi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dnicolodi/subscriptions","organizations_url":"https://api.github.com/users/dnicolodi/orgs","repos_url":"https://api.github.com/users/dnicolodi/repos","events_url":"https://api.github.com/users/dnicolodi/events{/privacy}","received_events_url":"https://api.github.com/users/dnicolodi/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/beancount/beanquery/issues/17/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beanquery/issues/17/timeline","performed_via_github_app":null,"state_reason":null},{"url":"https://api.github.com/repos/beancount/beanquery/issues/16","repository_url":"https://api.github.com/repos/beancount/beanquery","labels_url":"https://api.github.com/repos/beancount/beanquery/issues/16/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beanquery/issues/16/comments","events_url":"https://api.github.com/repos/beancount/beanquery/issues/16/events","html_url":"https://github.com/beancount/beanquery/pull/16","id":860486594,"node_id":"MDExOlB1bGxSZXF1ZXN0NjE3MzYxOTUy","number":16,"title":"Fix redirection to the pager when evaluating a PRINT query.","user":{"login":"dnicolodi","id":987145,"node_id":"MDQ6VXNlcjk4NzE0NQ==","avatar_url":"https://avatars.githubusercontent.com/u/987145?v=4","gravatar_id":"","url":"https://api.github.com/users/dnicolodi","html_url":"https://github.com/dnicolodi","followers_url":"https://api.github.com/users/dnicolodi/followers","following_url":"https://api.github.com/users/dnicolodi/following{/other_user}","gists_url":"https://api.github.com/users/dnicolodi/gists{/gist_id}","starred_url":"https://api.github.com/users/dnicolodi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dnicolodi/subscriptions","organizations_url":"https://api.github.com/users/dnicolodi/orgs","repos_url":"https://api.github.com/users/dnicolodi/repos","events_url":"https://api.github.com/users/dnicolodi/events{/privacy}","received_events_url":"https://api.github.com/users/dnicolodi/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":1,"created_at":"2021-04-17T18:31:29Z","updated_at":"2021-04-23T16:21:36Z","closed_at":"2021-04-23T16:21:36Z","author_association":"COLLABORATOR","type":null,"active_lock_reason":null,"draft":false,"pull_request":{"url":"https://api.github.com/repos/beancount/beanquery/pulls/16","html_url":"https://github.com/beancount/beanquery/pull/16","diff_url":"https://github.com/beancount/beanquery/pull/16.diff","patch_url":"https://github.com/beancount/beanquery/pull/16.patch","merged_at":"2021-04-23T16:21:36Z"},"body":"The condition on the output being the standard output was\r\nreversed. Use the opportunity to simplify the code to avoid similar\r\nissues in the future.","closed_by":{"login":"dnicolodi","id":987145,"node_id":"MDQ6VXNlcjk4NzE0NQ==","avatar_url":"https://avatars.githubusercontent.com/u/987145?v=4","gravatar_id":"","url":"https://api.github.com/users/dnicolodi","html_url":"https://github.com/dnicolodi","followers_url":"https://api.github.com/users/dnicolodi/followers","following_url":"https://api.github.com/users/dnicolodi/following{/other_user}","gists_url":"https://api.github.com/users/dnicolodi/gists{/gist_id}","starred_url":"https://api.github.com/users/dnicolodi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dnicolodi/subscriptions","organizations_url":"https://api.github.com/users/dnicolodi/orgs","repos_url":"https://api.github.com/users/dnicolodi/repos","events_url":"https://api.github.com/users/dnicolodi/events{/privacy}","received_events_url":"https://api.github.com/users/dnicolodi/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/beancount/beanquery/issues/16/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beanquery/issues/16/timeline","performed_via_github_app":null,"state_reason":null},{"url":"https://api.github.com/repos/beancount/beanquery/issues/15","repository_url":"https://api.github.com/repos/beancount/beanquery","labels_url":"https://api.github.com/repos/beancount/beanquery/issues/15/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beanquery/issues/15/comments","events_url":"https://api.github.com/repos/beancount/beanquery/issues/15/events","html_url":"https://github.com/beancount/beanquery/pull/15","id":860483403,"node_id":"MDExOlB1bGxSZXF1ZXN0NjE3MzYwMDcz","number":15,"title":"Fix pylint violations in query_env.py.","user":{"login":"doriath","id":150959,"node_id":"MDQ6VXNlcjE1MDk1OQ==","avatar_url":"https://avatars.githubusercontent.com/u/150959?v=4","gravatar_id":"","url":"https://api.github.com/users/doriath","html_url":"https://github.com/doriath","followers_url":"https://api.github.com/users/doriath/followers","following_url":"https://api.github.com/users/doriath/following{/other_user}","gists_url":"https://api.github.com/users/doriath/gists{/gist_id}","starred_url":"https://api.github.com/users/doriath/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/doriath/subscriptions","organizations_url":"https://api.github.com/users/doriath/orgs","repos_url":"https://api.github.com/users/doriath/repos","events_url":"https://api.github.com/users/doriath/events{/privacy}","received_events_url":"https://api.github.com/users/doriath/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":0,"created_at":"2021-04-17T18:16:59Z","updated_at":"2022-01-23T12:32:16Z","closed_at":"2022-01-23T12:32:16Z","author_association":"COLLABORATOR","type":null,"active_lock_reason":null,"draft":false,"pull_request":{"url":"https://api.github.com/repos/beancount/beanquery/pulls/15","html_url":"https://github.com/beancount/beanquery/pull/15","diff_url":"https://github.com/beancount/beanquery/pull/15.diff","patch_url":"https://github.com/beancount/beanquery/pull/15.patch","merged_at":null},"body":"Refs #8. I am adding more complicated violations to `.pylintrc` and will go over them once I fully enable pylint on all files.","closed_by":{"login":"dnicolodi","id":987145,"node_id":"MDQ6VXNlcjk4NzE0NQ==","avatar_url":"https://avatars.githubusercontent.com/u/987145?v=4","gravatar_id":"","url":"https://api.github.com/users/dnicolodi","html_url":"https://github.com/dnicolodi","followers_url":"https://api.github.com/users/dnicolodi/followers","following_url":"https://api.github.com/users/dnicolodi/following{/other_user}","gists_url":"https://api.github.com/users/dnicolodi/gists{/gist_id}","starred_url":"https://api.github.com/users/dnicolodi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dnicolodi/subscriptions","organizations_url":"https://api.github.com/users/dnicolodi/orgs","repos_url":"https://api.github.com/users/dnicolodi/repos","events_url":"https://api.github.com/users/dnicolodi/events{/privacy}","received_events_url":"https://api.github.com/users/dnicolodi/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/beancount/beanquery/issues/15/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beanquery/issues/15/timeline","performed_via_github_app":null,"state_reason":null},{"url":"https://api.github.com/repos/beancount/beanquery/issues/14","repository_url":"https://api.github.com/repos/beancount/beanquery","labels_url":"https://api.github.com/repos/beancount/beanquery/issues/14/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beanquery/issues/14/comments","events_url":"https://api.github.com/repos/beancount/beanquery/issues/14/events","html_url":"https://github.com/beancount/beanquery/pull/14","id":860477797,"node_id":"MDExOlB1bGxSZXF1ZXN0NjE3MzU2NzU4","number":14,"title":"Fix pylint errors in shell_test.py","user":{"login":"doriath","id":150959,"node_id":"MDQ6VXNlcjE1MDk1OQ==","avatar_url":"https://avatars.githubusercontent.com/u/150959?v=4","gravatar_id":"","url":"https://api.github.com/users/doriath","html_url":"https://github.com/doriath","followers_url":"https://api.github.com/users/doriath/followers","following_url":"https://api.github.com/users/doriath/following{/other_user}","gists_url":"https://api.github.com/users/doriath/gists{/gist_id}","starred_url":"https://api.github.com/users/doriath/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/doriath/subscriptions","organizations_url":"https://api.github.com/users/doriath/orgs","repos_url":"https://api.github.com/users/doriath/repos","events_url":"https://api.github.com/users/doriath/events{/privacy}","received_events_url":"https://api.github.com/users/doriath/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":0,"created_at":"2021-04-17T17:52:13Z","updated_at":"2021-04-18T15:49:10Z","closed_at":"2021-04-18T15:46:19Z","author_association":"COLLABORATOR","type":null,"active_lock_reason":null,"draft":false,"pull_request":{"url":"https://api.github.com/repos/beancount/beanquery/pulls/14","html_url":"https://github.com/beancount/beanquery/pull/14","diff_url":"https://github.com/beancount/beanquery/pull/14.diff","patch_url":"https://github.com/beancount/beanquery/pull/14.patch","merged_at":"2021-04-18T15:46:19Z"},"body":"Refs #8 ","closed_by":{"login":"dnicolodi","id":987145,"node_id":"MDQ6VXNlcjk4NzE0NQ==","avatar_url":"https://avatars.githubusercontent.com/u/987145?v=4","gravatar_id":"","url":"https://api.github.com/users/dnicolodi","html_url":"https://github.com/dnicolodi","followers_url":"https://api.github.com/users/dnicolodi/followers","following_url":"https://api.github.com/users/dnicolodi/following{/other_user}","gists_url":"https://api.github.com/users/dnicolodi/gists{/gist_id}","starred_url":"https://api.github.com/users/dnicolodi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dnicolodi/subscriptions","organizations_url":"https://api.github.com/users/dnicolodi/orgs","repos_url":"https://api.github.com/users/dnicolodi/repos","events_url":"https://api.github.com/users/dnicolodi/events{/privacy}","received_events_url":"https://api.github.com/users/dnicolodi/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/beancount/beanquery/issues/14/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beanquery/issues/14/timeline","performed_via_github_app":null,"state_reason":null},{"url":"https://api.github.com/repos/beancount/beanquery/issues/13","repository_url":"https://api.github.com/repos/beancount/beanquery","labels_url":"https://api.github.com/repos/beancount/beanquery/issues/13/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beanquery/issues/13/comments","events_url":"https://api.github.com/repos/beancount/beanquery/issues/13/events","html_url":"https://github.com/beancount/beanquery/pull/13","id":860443316,"node_id":"MDExOlB1bGxSZXF1ZXN0NjE3MzI5MTk0","number":13,"title":"Fix meta() BQL function when used in the FROM clause","user":{"login":"dnicolodi","id":987145,"node_id":"MDQ6VXNlcjk4NzE0NQ==","avatar_url":"https://avatars.githubusercontent.com/u/987145?v=4","gravatar_id":"","url":"https://api.github.com/users/dnicolodi","html_url":"https://github.com/dnicolodi","followers_url":"https://api.github.com/users/dnicolodi/followers","following_url":"https://api.github.com/users/dnicolodi/following{/other_user}","gists_url":"https://api.github.com/users/dnicolodi/gists{/gist_id}","starred_url":"https://api.github.com/users/dnicolodi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dnicolodi/subscriptions","organizations_url":"https://api.github.com/users/dnicolodi/orgs","repos_url":"https://api.github.com/users/dnicolodi/repos","events_url":"https://api.github.com/users/dnicolodi/events{/privacy}","received_events_url":"https://api.github.com/users/dnicolodi/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":0,"created_at":"2021-04-17T16:06:07Z","updated_at":"2021-04-17T16:11:49Z","closed_at":"2021-04-17T16:11:49Z","author_association":"COLLABORATOR","type":null,"active_lock_reason":null,"draft":false,"pull_request":{"url":"https://api.github.com/repos/beancount/beanquery/pulls/13","html_url":"https://github.com/beancount/beanquery/pull/13","diff_url":"https://github.com/beancount/beanquery/pull/13.diff","patch_url":"https://github.com/beancount/beanquery/pull/13.patch","merged_at":"2021-04-17T16:11:49Z"},"body":"Using the BQL meta() function is the query FROM clause does not make\r\nmuch sense as there are no posting to operate on in this context, only\r\nentries, but raising an exception does not seem useful. Make meta()\r\nsimply return None in this context.","closed_by":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/beancount/beanquery/issues/13/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beanquery/issues/13/timeline","performed_via_github_app":null,"state_reason":null},{"url":"https://api.github.com/repos/beancount/beanquery/issues/12","repository_url":"https://api.github.com/repos/beancount/beanquery","labels_url":"https://api.github.com/repos/beancount/beanquery/issues/12/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beanquery/issues/12/comments","events_url":"https://api.github.com/repos/beancount/beanquery/issues/12/events","html_url":"https://github.com/beancount/beanquery/pull/12","id":860436717,"node_id":"MDExOlB1bGxSZXF1ZXN0NjE3MzI0NTY1","number":12,"title":"Add packaging","user":{"login":"dnicolodi","id":987145,"node_id":"MDQ6VXNlcjk4NzE0NQ==","avatar_url":"https://avatars.githubusercontent.com/u/987145?v=4","gravatar_id":"","url":"https://api.github.com/users/dnicolodi","html_url":"https://github.com/dnicolodi","followers_url":"https://api.github.com/users/dnicolodi/followers","following_url":"https://api.github.com/users/dnicolodi/following{/other_user}","gists_url":"https://api.github.com/users/dnicolodi/gists{/gist_id}","starred_url":"https://api.github.com/users/dnicolodi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dnicolodi/subscriptions","organizations_url":"https://api.github.com/users/dnicolodi/orgs","repos_url":"https://api.github.com/users/dnicolodi/repos","events_url":"https://api.github.com/users/dnicolodi/events{/privacy}","received_events_url":"https://api.github.com/users/dnicolodi/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":6,"created_at":"2021-04-17T15:33:48Z","updated_at":"2021-04-17T20:11:07Z","closed_at":"2021-04-17T20:11:07Z","author_association":"COLLABORATOR","type":null,"active_lock_reason":null,"draft":false,"pull_request":{"url":"https://api.github.com/repos/beancount/beanquery/pulls/12","html_url":"https://github.com/beancount/beanquery/pull/12","diff_url":"https://github.com/beancount/beanquery/pull/12.diff","patch_url":"https://github.com/beancount/beanquery/pull/12.patch","merged_at":"2021-04-17T20:11:07Z"},"body":"@blais Does removing the bin/bean-query executable get in the way of your workflow?","closed_by":{"login":"dnicolodi","id":987145,"node_id":"MDQ6VXNlcjk4NzE0NQ==","avatar_url":"https://avatars.githubusercontent.com/u/987145?v=4","gravatar_id":"","url":"https://api.github.com/users/dnicolodi","html_url":"https://github.com/dnicolodi","followers_url":"https://api.github.com/users/dnicolodi/followers","following_url":"https://api.github.com/users/dnicolodi/following{/other_user}","gists_url":"https://api.github.com/users/dnicolodi/gists{/gist_id}","starred_url":"https://api.github.com/users/dnicolodi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dnicolodi/subscriptions","organizations_url":"https://api.github.com/users/dnicolodi/orgs","repos_url":"https://api.github.com/users/dnicolodi/repos","events_url":"https://api.github.com/users/dnicolodi/events{/privacy}","received_events_url":"https://api.github.com/users/dnicolodi/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/beancount/beanquery/issues/12/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beanquery/issues/12/timeline","performed_via_github_app":null,"state_reason":null},{"url":"https://api.github.com/repos/beancount/beanquery/issues/11","repository_url":"https://api.github.com/repos/beancount/beanquery","labels_url":"https://api.github.com/repos/beancount/beanquery/issues/11/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beanquery/issues/11/comments","events_url":"https://api.github.com/repos/beancount/beanquery/issues/11/events","html_url":"https://github.com/beancount/beanquery/pull/11","id":859523276,"node_id":"MDExOlB1bGxSZXF1ZXN0NjE2NTkwMDM2","number":11,"title":"Add github actions for pylint","user":{"login":"doriath","id":150959,"node_id":"MDQ6VXNlcjE1MDk1OQ==","avatar_url":"https://avatars.githubusercontent.com/u/150959?v=4","gravatar_id":"","url":"https://api.github.com/users/doriath","html_url":"https://github.com/doriath","followers_url":"https://api.github.com/users/doriath/followers","following_url":"https://api.github.com/users/doriath/following{/other_user}","gists_url":"https://api.github.com/users/doriath/gists{/gist_id}","starred_url":"https://api.github.com/users/doriath/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/doriath/subscriptions","organizations_url":"https://api.github.com/users/doriath/orgs","repos_url":"https://api.github.com/users/doriath/repos","events_url":"https://api.github.com/users/doriath/events{/privacy}","received_events_url":"https://api.github.com/users/doriath/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":0,"created_at":"2021-04-16T06:58:56Z","updated_at":"2021-04-16T14:26:25Z","closed_at":"2021-04-16T14:26:25Z","author_association":"COLLABORATOR","type":null,"active_lock_reason":null,"draft":false,"pull_request":{"url":"https://api.github.com/repos/beancount/beanquery/pulls/11","html_url":"https://github.com/beancount/beanquery/pull/11","diff_url":"https://github.com/beancount/beanquery/pull/11.diff","patch_url":"https://github.com/beancount/beanquery/pull/11.patch","merged_at":"2021-04-16T14:26:25Z"},"body":"For now we are running it only on one file, that does not have any\r\nviolations. We will enable more files as we fix the existing violations.\r\nRefs #8.","closed_by":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/beancount/beanquery/issues/11/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beanquery/issues/11/timeline","performed_via_github_app":null,"state_reason":null},{"url":"https://api.github.com/repos/beancount/beanquery/issues/10","repository_url":"https://api.github.com/repos/beancount/beanquery","labels_url":"https://api.github.com/repos/beancount/beanquery/issues/10/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beanquery/issues/10/comments","events_url":"https://api.github.com/repos/beancount/beanquery/issues/10/events","html_url":"https://github.com/beancount/beanquery/issues/10","id":855568793,"node_id":"MDU6SXNzdWU4NTU1Njg3OTM=","number":10,"title":"Setup formatting check in CI","user":{"login":"doriath","id":150959,"node_id":"MDQ6VXNlcjE1MDk1OQ==","avatar_url":"https://avatars.githubusercontent.com/u/150959?v=4","gravatar_id":"","url":"https://api.github.com/users/doriath","html_url":"https://github.com/doriath","followers_url":"https://api.github.com/users/doriath/followers","following_url":"https://api.github.com/users/doriath/following{/other_user}","gists_url":"https://api.github.com/users/doriath/gists{/gist_id}","starred_url":"https://api.github.com/users/doriath/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/doriath/subscriptions","organizations_url":"https://api.github.com/users/doriath/orgs","repos_url":"https://api.github.com/users/doriath/repos","events_url":"https://api.github.com/users/doriath/events{/privacy}","received_events_url":"https://api.github.com/users/doriath/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":3,"created_at":"2021-04-12T05:41:19Z","updated_at":"2021-04-14T20:50:02Z","closed_at":"2021-04-14T20:50:02Z","author_association":"COLLABORATOR","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"I hate doing manual formatting of the code, what do you think about deciding on some auto formatter and enforcing it?\r\n\r\nI was thinking about using https://github.com/google/yapf, but I am not sure if I should use `pep8` (default) or `google`. Any preferences?","closed_by":{"login":"doriath","id":150959,"node_id":"MDQ6VXNlcjE1MDk1OQ==","avatar_url":"https://avatars.githubusercontent.com/u/150959?v=4","gravatar_id":"","url":"https://api.github.com/users/doriath","html_url":"https://github.com/doriath","followers_url":"https://api.github.com/users/doriath/followers","following_url":"https://api.github.com/users/doriath/following{/other_user}","gists_url":"https://api.github.com/users/doriath/gists{/gist_id}","starred_url":"https://api.github.com/users/doriath/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/doriath/subscriptions","organizations_url":"https://api.github.com/users/doriath/orgs","repos_url":"https://api.github.com/users/doriath/repos","events_url":"https://api.github.com/users/doriath/events{/privacy}","received_events_url":"https://api.github.com/users/doriath/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/beancount/beanquery/issues/10/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beanquery/issues/10/timeline","performed_via_github_app":null,"state_reason":"completed"},{"url":"https://api.github.com/repos/beancount/beanquery/issues/9","repository_url":"https://api.github.com/repos/beancount/beanquery","labels_url":"https://api.github.com/repos/beancount/beanquery/issues/9/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beanquery/issues/9/comments","events_url":"https://api.github.com/repos/beancount/beanquery/issues/9/events","html_url":"https://github.com/beancount/beanquery/pull/9","id":855278433,"node_id":"MDExOlB1bGxSZXF1ZXN0NjEzMDUzNjAw","number":9,"title":"Fix pylint errors in shell.py.","user":{"login":"doriath","id":150959,"node_id":"MDQ6VXNlcjE1MDk1OQ==","avatar_url":"https://avatars.githubusercontent.com/u/150959?v=4","gravatar_id":"","url":"https://api.github.com/users/doriath","html_url":"https://github.com/doriath","followers_url":"https://api.github.com/users/doriath/followers","following_url":"https://api.github.com/users/doriath/following{/other_user}","gists_url":"https://api.github.com/users/doriath/gists{/gist_id}","starred_url":"https://api.github.com/users/doriath/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/doriath/subscriptions","organizations_url":"https://api.github.com/users/doriath/orgs","repos_url":"https://api.github.com/users/doriath/repos","events_url":"https://api.github.com/users/doriath/events{/privacy}","received_events_url":"https://api.github.com/users/doriath/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":1,"created_at":"2021-04-11T11:05:18Z","updated_at":"2021-04-11T16:24:35Z","closed_at":"2021-04-11T13:39:22Z","author_association":"COLLABORATOR","type":null,"active_lock_reason":null,"draft":false,"pull_request":{"url":"https://api.github.com/repos/beancount/beanquery/pulls/9","html_url":"https://github.com/beancount/beanquery/pull/9","diff_url":"https://github.com/beancount/beanquery/pull/9.diff","patch_url":"https://github.com/beancount/beanquery/pull/9.patch","merged_at":"2021-04-11T13:39:22Z"},"body":"","closed_by":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/beancount/beanquery/issues/9/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beanquery/issues/9/timeline","performed_via_github_app":null,"state_reason":null},{"url":"https://api.github.com/repos/beancount/beanquery/issues/8","repository_url":"https://api.github.com/repos/beancount/beanquery","labels_url":"https://api.github.com/repos/beancount/beanquery/issues/8/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beanquery/issues/8/comments","events_url":"https://api.github.com/repos/beancount/beanquery/issues/8/events","html_url":"https://github.com/beancount/beanquery/issues/8","id":855172369,"node_id":"MDU6SXNzdWU4NTUxNzIzNjk=","number":8,"title":"Setup pylint","user":{"login":"doriath","id":150959,"node_id":"MDQ6VXNlcjE1MDk1OQ==","avatar_url":"https://avatars.githubusercontent.com/u/150959?v=4","gravatar_id":"","url":"https://api.github.com/users/doriath","html_url":"https://github.com/doriath","followers_url":"https://api.github.com/users/doriath/followers","following_url":"https://api.github.com/users/doriath/following{/other_user}","gists_url":"https://api.github.com/users/doriath/gists{/gist_id}","starred_url":"https://api.github.com/users/doriath/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/doriath/subscriptions","organizations_url":"https://api.github.com/users/doriath/orgs","repos_url":"https://api.github.com/users/doriath/repos","events_url":"https://api.github.com/users/doriath/events{/privacy}","received_events_url":"https://api.github.com/users/doriath/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":{"login":"doriath","id":150959,"node_id":"MDQ6VXNlcjE1MDk1OQ==","avatar_url":"https://avatars.githubusercontent.com/u/150959?v=4","gravatar_id":"","url":"https://api.github.com/users/doriath","html_url":"https://github.com/doriath","followers_url":"https://api.github.com/users/doriath/followers","following_url":"https://api.github.com/users/doriath/following{/other_user}","gists_url":"https://api.github.com/users/doriath/gists{/gist_id}","starred_url":"https://api.github.com/users/doriath/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/doriath/subscriptions","organizations_url":"https://api.github.com/users/doriath/orgs","repos_url":"https://api.github.com/users/doriath/repos","events_url":"https://api.github.com/users/doriath/events{/privacy}","received_events_url":"https://api.github.com/users/doriath/received_events","type":"User","user_view_type":"public","site_admin":false},"assignees":[{"login":"doriath","id":150959,"node_id":"MDQ6VXNlcjE1MDk1OQ==","avatar_url":"https://avatars.githubusercontent.com/u/150959?v=4","gravatar_id":"","url":"https://api.github.com/users/doriath","html_url":"https://github.com/doriath","followers_url":"https://api.github.com/users/doriath/followers","following_url":"https://api.github.com/users/doriath/following{/other_user}","gists_url":"https://api.github.com/users/doriath/gists{/gist_id}","starred_url":"https://api.github.com/users/doriath/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/doriath/subscriptions","organizations_url":"https://api.github.com/users/doriath/orgs","repos_url":"https://api.github.com/users/doriath/repos","events_url":"https://api.github.com/users/doriath/events{/privacy}","received_events_url":"https://api.github.com/users/doriath/received_events","type":"User","user_view_type":"public","site_admin":false}],"milestone":null,"comments":1,"created_at":"2021-04-10T22:55:38Z","updated_at":"2022-01-22T22:03:06Z","closed_at":"2022-01-22T22:03:06Z","author_association":"COLLABORATOR","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"- [x] Setup .pylintrc\r\n- [ ] Fix existing errors and warnings\r\n- [ ] Add pylint to github actions","closed_by":{"login":"dnicolodi","id":987145,"node_id":"MDQ6VXNlcjk4NzE0NQ==","avatar_url":"https://avatars.githubusercontent.com/u/987145?v=4","gravatar_id":"","url":"https://api.github.com/users/dnicolodi","html_url":"https://github.com/dnicolodi","followers_url":"https://api.github.com/users/dnicolodi/followers","following_url":"https://api.github.com/users/dnicolodi/following{/other_user}","gists_url":"https://api.github.com/users/dnicolodi/gists{/gist_id}","starred_url":"https://api.github.com/users/dnicolodi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dnicolodi/subscriptions","organizations_url":"https://api.github.com/users/dnicolodi/orgs","repos_url":"https://api.github.com/users/dnicolodi/repos","events_url":"https://api.github.com/users/dnicolodi/events{/privacy}","received_events_url":"https://api.github.com/users/dnicolodi/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/beancount/beanquery/issues/8/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beanquery/issues/8/timeline","performed_via_github_app":null,"state_reason":"completed"},{"url":"https://api.github.com/repos/beancount/beanquery/issues/7","repository_url":"https://api.github.com/repos/beancount/beanquery","labels_url":"https://api.github.com/repos/beancount/beanquery/issues/7/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beanquery/issues/7/comments","events_url":"https://api.github.com/repos/beancount/beanquery/issues/7/events","html_url":"https://github.com/beancount/beanquery/issues/7","id":855172191,"node_id":"MDU6SXNzdWU4NTUxNzIxOTE=","number":7,"title":"Setup type checker","user":{"login":"doriath","id":150959,"node_id":"MDQ6VXNlcjE1MDk1OQ==","avatar_url":"https://avatars.githubusercontent.com/u/150959?v=4","gravatar_id":"","url":"https://api.github.com/users/doriath","html_url":"https://github.com/doriath","followers_url":"https://api.github.com/users/doriath/followers","following_url":"https://api.github.com/users/doriath/following{/other_user}","gists_url":"https://api.github.com/users/doriath/gists{/gist_id}","starred_url":"https://api.github.com/users/doriath/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/doriath/subscriptions","organizations_url":"https://api.github.com/users/doriath/orgs","repos_url":"https://api.github.com/users/doriath/repos","events_url":"https://api.github.com/users/doriath/events{/privacy}","received_events_url":"https://api.github.com/users/doriath/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"open","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":5,"created_at":"2021-04-10T22:54:28Z","updated_at":"2021-04-12T05:37:46Z","closed_at":null,"author_association":"COLLABORATOR","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"@dnicolodi - I was thinking about setting up the `mypy` type checker in github actions (after fixing existing errors). Is that ok, or would you prefer another type checker (e.g. `pytype`)?","closed_by":null,"reactions":{"url":"https://api.github.com/repos/beancount/beanquery/issues/7/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beanquery/issues/7/timeline","performed_via_github_app":null,"state_reason":null},{"url":"https://api.github.com/repos/beancount/beanquery/issues/6","repository_url":"https://api.github.com/repos/beancount/beanquery","labels_url":"https://api.github.com/repos/beancount/beanquery/issues/6/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beanquery/issues/6/comments","events_url":"https://api.github.com/repos/beancount/beanquery/issues/6/events","html_url":"https://github.com/beancount/beanquery/pull/6","id":855171021,"node_id":"MDExOlB1bGxSZXF1ZXN0NjEyOTc0NjIx","number":6,"title":"Add .pylintrc as preparation to enable pylint.","user":{"login":"doriath","id":150959,"node_id":"MDQ6VXNlcjE1MDk1OQ==","avatar_url":"https://avatars.githubusercontent.com/u/150959?v=4","gravatar_id":"","url":"https://api.github.com/users/doriath","html_url":"https://github.com/doriath","followers_url":"https://api.github.com/users/doriath/followers","following_url":"https://api.github.com/users/doriath/following{/other_user}","gists_url":"https://api.github.com/users/doriath/gists{/gist_id}","starred_url":"https://api.github.com/users/doriath/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/doriath/subscriptions","organizations_url":"https://api.github.com/users/doriath/orgs","repos_url":"https://api.github.com/users/doriath/repos","events_url":"https://api.github.com/users/doriath/events{/privacy}","received_events_url":"https://api.github.com/users/doriath/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":3,"created_at":"2021-04-10T22:45:17Z","updated_at":"2021-04-11T13:41:07Z","closed_at":"2021-04-11T01:17:13Z","author_association":"COLLABORATOR","type":null,"active_lock_reason":null,"draft":false,"pull_request":{"url":"https://api.github.com/repos/beancount/beanquery/pulls/6","html_url":"https://github.com/beancount/beanquery/pull/6","diff_url":"https://github.com/beancount/beanquery/pull/6.diff","patch_url":"https://github.com/beancount/beanquery/pull/6.patch","merged_at":"2021-04-11T01:17:13Z"},"body":"This file is copied from beangulp.","closed_by":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/beancount/beanquery/issues/6/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beanquery/issues/6/timeline","performed_via_github_app":null,"state_reason":null},{"url":"https://api.github.com/repos/beancount/beanquery/issues/5","repository_url":"https://api.github.com/repos/beancount/beanquery","labels_url":"https://api.github.com/repos/beancount/beanquery/issues/5/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beanquery/issues/5/comments","events_url":"https://api.github.com/repos/beancount/beanquery/issues/5/events","html_url":"https://github.com/beancount/beanquery/pull/5","id":855169996,"node_id":"MDExOlB1bGxSZXF1ZXN0NjEyOTczOTA4","number":5,"title":"Setup github actions to run pytest.","user":{"login":"doriath","id":150959,"node_id":"MDQ6VXNlcjE1MDk1OQ==","avatar_url":"https://avatars.githubusercontent.com/u/150959?v=4","gravatar_id":"","url":"https://api.github.com/users/doriath","html_url":"https://github.com/doriath","followers_url":"https://api.github.com/users/doriath/followers","following_url":"https://api.github.com/users/doriath/following{/other_user}","gists_url":"https://api.github.com/users/doriath/gists{/gist_id}","starred_url":"https://api.github.com/users/doriath/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/doriath/subscriptions","organizations_url":"https://api.github.com/users/doriath/orgs","repos_url":"https://api.github.com/users/doriath/repos","events_url":"https://api.github.com/users/doriath/events{/privacy}","received_events_url":"https://api.github.com/users/doriath/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":1,"created_at":"2021-04-10T22:37:11Z","updated_at":"2021-04-11T01:15:37Z","closed_at":"2021-04-11T01:15:37Z","author_association":"COLLABORATOR","type":null,"active_lock_reason":null,"draft":false,"pull_request":{"url":"https://api.github.com/repos/beancount/beanquery/pulls/5","html_url":"https://github.com/beancount/beanquery/pull/5","diff_url":"https://github.com/beancount/beanquery/pull/5.diff","patch_url":"https://github.com/beancount/beanquery/pull/5.patch","merged_at":"2021-04-11T01:15:37Z"},"body":"This is copied from beangulp repository.","closed_by":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/beancount/beanquery/issues/5/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beanquery/issues/5/timeline","performed_via_github_app":null,"state_reason":null},{"url":"https://api.github.com/repos/beancount/beanquery/issues/4","repository_url":"https://api.github.com/repos/beancount/beanquery","labels_url":"https://api.github.com/repos/beancount/beanquery/issues/4/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beanquery/issues/4/comments","events_url":"https://api.github.com/repos/beancount/beanquery/issues/4/events","html_url":"https://github.com/beancount/beanquery/pull/4","id":855133830,"node_id":"MDExOlB1bGxSZXF1ZXN0NjEyOTQ3NDE4","number":4,"title":"Fix imports to refer to local libraries.","user":{"login":"doriath","id":150959,"node_id":"MDQ6VXNlcjE1MDk1OQ==","avatar_url":"https://avatars.githubusercontent.com/u/150959?v=4","gravatar_id":"","url":"https://api.github.com/users/doriath","html_url":"https://github.com/doriath","followers_url":"https://api.github.com/users/doriath/followers","following_url":"https://api.github.com/users/doriath/following{/other_user}","gists_url":"https://api.github.com/users/doriath/gists{/gist_id}","starred_url":"https://api.github.com/users/doriath/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/doriath/subscriptions","organizations_url":"https://api.github.com/users/doriath/orgs","repos_url":"https://api.github.com/users/doriath/repos","events_url":"https://api.github.com/users/doriath/events{/privacy}","received_events_url":"https://api.github.com/users/doriath/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":0,"created_at":"2021-04-10T18:57:16Z","updated_at":"2021-04-10T22:27:11Z","closed_at":"2021-04-10T22:05:39Z","author_association":"COLLABORATOR","type":null,"active_lock_reason":null,"draft":false,"pull_request":{"url":"https://api.github.com/repos/beancount/beanquery/pulls/4","html_url":"https://github.com/beancount/beanquery/pull/4","diff_url":"https://github.com/beancount/beanquery/pull/4.diff","patch_url":"https://github.com/beancount/beanquery/pull/4.patch","merged_at":null},"body":"Replace 'beancount.query' with 'beanquery'.","closed_by":{"login":"dnicolodi","id":987145,"node_id":"MDQ6VXNlcjk4NzE0NQ==","avatar_url":"https://avatars.githubusercontent.com/u/987145?v=4","gravatar_id":"","url":"https://api.github.com/users/dnicolodi","html_url":"https://github.com/dnicolodi","followers_url":"https://api.github.com/users/dnicolodi/followers","following_url":"https://api.github.com/users/dnicolodi/following{/other_user}","gists_url":"https://api.github.com/users/dnicolodi/gists{/gist_id}","starred_url":"https://api.github.com/users/dnicolodi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dnicolodi/subscriptions","organizations_url":"https://api.github.com/users/dnicolodi/orgs","repos_url":"https://api.github.com/users/dnicolodi/repos","events_url":"https://api.github.com/users/dnicolodi/events{/privacy}","received_events_url":"https://api.github.com/users/dnicolodi/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/beancount/beanquery/issues/4/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beanquery/issues/4/timeline","performed_via_github_app":null,"state_reason":null},{"url":"https://api.github.com/repos/beancount/beanquery/issues/3","repository_url":"https://api.github.com/repos/beancount/beanquery","labels_url":"https://api.github.com/repos/beancount/beanquery/issues/3/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beanquery/issues/3/comments","events_url":"https://api.github.com/repos/beancount/beanquery/issues/3/events","html_url":"https://github.com/beancount/beanquery/pull/3","id":855130761,"node_id":"MDExOlB1bGxSZXF1ZXN0NjEyOTQ1MTAy","number":3,"title":"Fix unit tests.","user":{"login":"doriath","id":150959,"node_id":"MDQ6VXNlcjE1MDk1OQ==","avatar_url":"https://avatars.githubusercontent.com/u/150959?v=4","gravatar_id":"","url":"https://api.github.com/users/doriath","html_url":"https://github.com/doriath","followers_url":"https://api.github.com/users/doriath/followers","following_url":"https://api.github.com/users/doriath/following{/other_user}","gists_url":"https://api.github.com/users/doriath/gists{/gist_id}","starred_url":"https://api.github.com/users/doriath/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/doriath/subscriptions","organizations_url":"https://api.github.com/users/doriath/orgs","repos_url":"https://api.github.com/users/doriath/repos","events_url":"https://api.github.com/users/doriath/events{/privacy}","received_events_url":"https://api.github.com/users/doriath/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":0,"created_at":"2021-04-10T18:39:43Z","updated_at":"2021-04-10T20:28:59Z","closed_at":"2021-04-10T19:18:49Z","author_association":"COLLABORATOR","type":null,"active_lock_reason":null,"draft":false,"pull_request":{"url":"https://api.github.com/repos/beancount/beanquery/pulls/3","html_url":"https://github.com/beancount/beanquery/pull/3","diff_url":"https://github.com/beancount/beanquery/pull/3.diff","patch_url":"https://github.com/beancount/beanquery/pull/3.patch","merged_at":"2021-04-10T19:18:49Z"},"body":"- create custom version of `find_repository_root` method that works for\r\n  this repository\r\n- add missing examples/example.beancount file required by some tests","closed_by":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/beancount/beanquery/issues/3/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beanquery/issues/3/timeline","performed_via_github_app":null,"state_reason":null},{"url":"https://api.github.com/repos/beancount/beanquery/issues/2","repository_url":"https://api.github.com/repos/beancount/beanquery","labels_url":"https://api.github.com/repos/beancount/beanquery/issues/2/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beanquery/issues/2/comments","events_url":"https://api.github.com/repos/beancount/beanquery/issues/2/events","html_url":"https://github.com/beancount/beanquery/pull/2","id":855126466,"node_id":"MDExOlB1bGxSZXF1ZXN0NjEyOTQxOTU1","number":2,"title":"Use pipenv to manage the dependencies.","user":{"login":"doriath","id":150959,"node_id":"MDQ6VXNlcjE1MDk1OQ==","avatar_url":"https://avatars.githubusercontent.com/u/150959?v=4","gravatar_id":"","url":"https://api.github.com/users/doriath","html_url":"https://github.com/doriath","followers_url":"https://api.github.com/users/doriath/followers","following_url":"https://api.github.com/users/doriath/following{/other_user}","gists_url":"https://api.github.com/users/doriath/gists{/gist_id}","starred_url":"https://api.github.com/users/doriath/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/doriath/subscriptions","organizations_url":"https://api.github.com/users/doriath/orgs","repos_url":"https://api.github.com/users/doriath/repos","events_url":"https://api.github.com/users/doriath/events{/privacy}","received_events_url":"https://api.github.com/users/doriath/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":5,"created_at":"2021-04-10T18:16:49Z","updated_at":"2021-04-10T18:29:08Z","closed_at":"2021-04-10T18:28:58Z","author_association":"COLLABORATOR","type":null,"active_lock_reason":null,"draft":false,"pull_request":{"url":"https://api.github.com/repos/beancount/beanquery/pulls/2","html_url":"https://github.com/beancount/beanquery/pull/2","diff_url":"https://github.com/beancount/beanquery/pull/2.diff","patch_url":"https://github.com/beancount/beanquery/pull/2.patch","merged_at":null},"body":"I am thinking about using pipenv for local development of beanquery, as\r\nit will allow me to isolate the dependencies from my system packages (I\r\nam still using beancount-v2 for my ledger, but some packages I am\r\nworking on like this beanquery requires beancount-v3).","closed_by":{"login":"doriath","id":150959,"node_id":"MDQ6VXNlcjE1MDk1OQ==","avatar_url":"https://avatars.githubusercontent.com/u/150959?v=4","gravatar_id":"","url":"https://api.github.com/users/doriath","html_url":"https://github.com/doriath","followers_url":"https://api.github.com/users/doriath/followers","following_url":"https://api.github.com/users/doriath/following{/other_user}","gists_url":"https://api.github.com/users/doriath/gists{/gist_id}","starred_url":"https://api.github.com/users/doriath/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/doriath/subscriptions","organizations_url":"https://api.github.com/users/doriath/orgs","repos_url":"https://api.github.com/users/doriath/repos","events_url":"https://api.github.com/users/doriath/events{/privacy}","received_events_url":"https://api.github.com/users/doriath/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/beancount/beanquery/issues/2/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beanquery/issues/2/timeline","performed_via_github_app":null,"state_reason":null},{"url":"https://api.github.com/repos/beancount/beanquery/issues/1","repository_url":"https://api.github.com/repos/beancount/beanquery","labels_url":"https://api.github.com/repos/beancount/beanquery/issues/1/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beanquery/issues/1/comments","events_url":"https://api.github.com/repos/beancount/beanquery/issues/1/events","html_url":"https://github.com/beancount/beanquery/pull/1","id":855105742,"node_id":"MDExOlB1bGxSZXF1ZXN0NjEyOTI2NTg4","number":1,"title":"Add requirements.txt with beancount v3.","user":{"login":"doriath","id":150959,"node_id":"MDQ6VXNlcjE1MDk1OQ==","avatar_url":"https://avatars.githubusercontent.com/u/150959?v=4","gravatar_id":"","url":"https://api.github.com/users/doriath","html_url":"https://github.com/doriath","followers_url":"https://api.github.com/users/doriath/followers","following_url":"https://api.github.com/users/doriath/following{/other_user}","gists_url":"https://api.github.com/users/doriath/gists{/gist_id}","starred_url":"https://api.github.com/users/doriath/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/doriath/subscriptions","organizations_url":"https://api.github.com/users/doriath/orgs","repos_url":"https://api.github.com/users/doriath/repos","events_url":"https://api.github.com/users/doriath/events{/privacy}","received_events_url":"https://api.github.com/users/doriath/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":0,"created_at":"2021-04-10T16:33:08Z","updated_at":"2021-04-10T17:56:53Z","closed_at":"2021-04-10T16:43:37Z","author_association":"COLLABORATOR","type":null,"active_lock_reason":null,"draft":false,"pull_request":{"url":"https://api.github.com/repos/beancount/beanquery/pulls/1","html_url":"https://github.com/beancount/beanquery/pull/1","diff_url":"https://github.com/beancount/beanquery/pull/1.diff","patch_url":"https://github.com/beancount/beanquery/pull/1.patch","merged_at":"2021-04-10T16:43:37Z"},"body":"This will be used to simplify development instructions as well can be\r\nused in CI to install required dependencies.","closed_by":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/beancount/beanquery/issues/1/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beanquery/issues/1/timeline","performed_via_github_app":null,"state_reason":null},{"url":"https://api.github.com/repos/beancount/beanquery/issues/35","repository_url":"https://api.github.com/repos/beancount/beanquery","labels_url":"https://api.github.com/repos/beancount/beanquery/issues/35/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beanquery/issues/35/comments","events_url":"https://api.github.com/repos/beancount/beanquery/issues/35/events","html_url":"https://github.com/beancount/beanquery/issues/35","id":1190779822,"node_id":"MDU6SXNzdWUxMTkwNzc5ODIy","number":35,"title":"Add balance column to aggregate query","user":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":2901894421,"node_id":"MDU6TGFiZWwyOTAxODk0NDIx","url":"https://api.github.com/repos/beancount/beanquery/labels/enhancement","name":"enhancement","color":"a2eeef","default":true,"description":"New feature or request"}],"state":"open","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":0,"created_at":"2020-10-10T03:11:31Z","updated_at":"2022-04-05T20:51:25Z","closed_at":null,"author_association":"MEMBER","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":null,"closed_by":null,"reactions":{"url":"https://api.github.com/repos/beancount/beanquery/issues/35/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beanquery/issues/35/timeline","performed_via_github_app":null,"state_reason":null},{"url":"https://api.github.com/repos/beancount/beanquery/issues/36","repository_url":"https://api.github.com/repos/beancount/beanquery","labels_url":"https://api.github.com/repos/beancount/beanquery/issues/36/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beanquery/issues/36/comments","events_url":"https://api.github.com/repos/beancount/beanquery/issues/36/events","html_url":"https://github.com/beancount/beanquery/issues/36","id":1190779842,"node_id":"MDU6SXNzdWUxMTkwNzc5ODQy","number":36,"title":"BQL: queries on aggregates","user":{"login":"tbm","id":1556037,"node_id":"MDQ6VXNlcjE1NTYwMzc=","avatar_url":"https://avatars.githubusercontent.com/u/1556037?v=4","gravatar_id":"","url":"https://api.github.com/users/tbm","html_url":"https://github.com/tbm","followers_url":"https://api.github.com/users/tbm/followers","following_url":"https://api.github.com/users/tbm/following{/other_user}","gists_url":"https://api.github.com/users/tbm/gists{/gist_id}","starred_url":"https://api.github.com/users/tbm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tbm/subscriptions","organizations_url":"https://api.github.com/users/tbm/orgs","repos_url":"https://api.github.com/users/tbm/repos","events_url":"https://api.github.com/users/tbm/events{/privacy}","received_events_url":"https://api.github.com/users/tbm/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":2,"created_at":"2020-05-25T04:55:53Z","updated_at":"2022-04-03T16:08:32Z","closed_at":"2022-04-03T16:08:32Z","author_association":"CONTRIBUTOR","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"I want to see a list of outstanding invoices.  Given the example below, I can use:\r\n\r\n```\r\nbeancount> SELECT ENTRY_META('invoice'), SUM(position) WHERE account ~ '^Assets:Receivable' GROUP BY ENTRY_META('invoice')\r\nent sum_posit\r\n--- ---------\r\nA01\r\nB01 30.00 USD\r\n```\r\n\r\nUnfortunately, there's no way to exclude positions that are 0, i.e. that have been paid.\r\n\r\nIt would be great for BQL to allow queries on aggregates.\r\n\r\nExample:\r\n\r\n```\r\n2020-01-01 open Assets:Bank\r\n2020-01-01 open Assets:Receivable\r\n2020-01-01 open Income:Sponsorship\r\n\r\n2020-03-01 * \"Sponsorship from A\"\r\n    invoice: \"A01\"\r\n    Assets:Receivable      100.00 USD\r\n    Income:Sponsorship    -100.00 USD\r\n\r\n2020-03-01 * \"Sponsorship from B\"\r\n    invoice: \"B01\"\r\n    Assets:Receivable       30.00 USD\r\n    Income:Sponsorship     -30.00 USD\r\n\r\n2020-03-10 * \"Payment from A\"\r\n    invoice: \"A01\"\r\n    Assets:Bank            100.00 USD\r\n    Assets:Receivable     -100.00 USD\r\n```\r\n\r\n---------------------------------\r\n\r\nWhen I mentioned this on the mailing list, @blais responded:\r\n\r\n> This would need a filtering expression of the aggregate, it's not\r\n> implemented. SQL defines a syntax thought.\r\n","closed_by":{"login":"dnicolodi","id":987145,"node_id":"MDQ6VXNlcjk4NzE0NQ==","avatar_url":"https://avatars.githubusercontent.com/u/987145?v=4","gravatar_id":"","url":"https://api.github.com/users/dnicolodi","html_url":"https://github.com/dnicolodi","followers_url":"https://api.github.com/users/dnicolodi/followers","following_url":"https://api.github.com/users/dnicolodi/following{/other_user}","gists_url":"https://api.github.com/users/dnicolodi/gists{/gist_id}","starred_url":"https://api.github.com/users/dnicolodi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dnicolodi/subscriptions","organizations_url":"https://api.github.com/users/dnicolodi/orgs","repos_url":"https://api.github.com/users/dnicolodi/repos","events_url":"https://api.github.com/users/dnicolodi/events{/privacy}","received_events_url":"https://api.github.com/users/dnicolodi/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/beancount/beanquery/issues/36/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beanquery/issues/36/timeline","performed_via_github_app":null,"state_reason":"completed"},{"url":"https://api.github.com/repos/beancount/beanquery/issues/37","repository_url":"https://api.github.com/repos/beancount/beanquery","labels_url":"https://api.github.com/repos/beancount/beanquery/issues/37/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beanquery/issues/37/comments","events_url":"https://api.github.com/repos/beancount/beanquery/issues/37/events","html_url":"https://github.com/beancount/beanquery/issues/37","id":1190779974,"node_id":"MDU6SXNzdWUxMTkwNzc5OTc0","number":37,"title":"GROUP BY and financial year","user":{"login":"tbm","id":1556037,"node_id":"MDQ6VXNlcjE1NTYwMzc=","avatar_url":"https://avatars.githubusercontent.com/u/1556037?v=4","gravatar_id":"","url":"https://api.github.com/users/tbm","html_url":"https://github.com/tbm","followers_url":"https://api.github.com/users/tbm/followers","following_url":"https://api.github.com/users/tbm/following{/other_user}","gists_url":"https://api.github.com/users/tbm/gists{/gist_id}","starred_url":"https://api.github.com/users/tbm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tbm/subscriptions","organizations_url":"https://api.github.com/users/tbm/orgs","repos_url":"https://api.github.com/users/tbm/repos","events_url":"https://api.github.com/users/tbm/events{/privacy}","received_events_url":"https://api.github.com/users/tbm/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":2901894421,"node_id":"MDU6TGFiZWwyOTAxODk0NDIx","url":"https://api.github.com/repos/beancount/beanquery/labels/enhancement","name":"enhancement","color":"a2eeef","default":true,"description":"New feature or request"}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":5,"created_at":"2020-05-25T04:49:28Z","updated_at":"2024-11-19T08:00:39Z","closed_at":"2024-11-19T08:00:39Z","author_association":"CONTRIBUTOR","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"    SELECT YEAR, SUM(position) WHERE account ~ '^Income' GROUP BY YEAR ORDER BY YEAR\r\n\r\nUnfortunately, the financial year is not the calendar year.\r\n\r\nIt would be nice for BQL to somehow have the concept of a financial year.\r\n\r\n(FWIW, Fava has support for financial years)\r\n","closed_by":{"login":"dnicolodi","id":987145,"node_id":"MDQ6VXNlcjk4NzE0NQ==","avatar_url":"https://avatars.githubusercontent.com/u/987145?v=4","gravatar_id":"","url":"https://api.github.com/users/dnicolodi","html_url":"https://github.com/dnicolodi","followers_url":"https://api.github.com/users/dnicolodi/followers","following_url":"https://api.github.com/users/dnicolodi/following{/other_user}","gists_url":"https://api.github.com/users/dnicolodi/gists{/gist_id}","starred_url":"https://api.github.com/users/dnicolodi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dnicolodi/subscriptions","organizations_url":"https://api.github.com/users/dnicolodi/orgs","repos_url":"https://api.github.com/users/dnicolodi/repos","events_url":"https://api.github.com/users/dnicolodi/events{/privacy}","received_events_url":"https://api.github.com/users/dnicolodi/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/beancount/beanquery/issues/37/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beanquery/issues/37/timeline","performed_via_github_app":null,"state_reason":"completed"},{"url":"https://api.github.com/repos/beancount/beanquery/issues/38","repository_url":"https://api.github.com/repos/beancount/beanquery","labels_url":"https://api.github.com/repos/beancount/beanquery/issues/38/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beanquery/issues/38/comments","events_url":"https://api.github.com/repos/beancount/beanquery/issues/38/events","html_url":"https://github.com/beancount/beanquery/issues/38","id":1190779993,"node_id":"MDU6SXNzdWUxMTkwNzc5OTkz","number":38,"title":"Add INT() function to BQL","user":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":2,"created_at":"2020-01-08T09:58:08Z","updated_at":"2022-04-04T23:08:40Z","closed_at":"2022-04-04T23:08:40Z","author_association":"MEMBER","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"**[Original report](https://bitbucket.org/blais/beancount/issue/415) by Red Street (GitHub: [redstreet](https://github.com/redstreet)).**\n\n----------------------------------------\n\nINT\\(str/int/Decimal\\): converts to an integer and returns it.\n\nExample use case: convert metadata into an integer, and use it in computations.\n","closed_by":{"login":"dnicolodi","id":987145,"node_id":"MDQ6VXNlcjk4NzE0NQ==","avatar_url":"https://avatars.githubusercontent.com/u/987145?v=4","gravatar_id":"","url":"https://api.github.com/users/dnicolodi","html_url":"https://github.com/dnicolodi","followers_url":"https://api.github.com/users/dnicolodi/followers","following_url":"https://api.github.com/users/dnicolodi/following{/other_user}","gists_url":"https://api.github.com/users/dnicolodi/gists{/gist_id}","starred_url":"https://api.github.com/users/dnicolodi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dnicolodi/subscriptions","organizations_url":"https://api.github.com/users/dnicolodi/orgs","repos_url":"https://api.github.com/users/dnicolodi/repos","events_url":"https://api.github.com/users/dnicolodi/events{/privacy}","received_events_url":"https://api.github.com/users/dnicolodi/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/beancount/beanquery/issues/38/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beanquery/issues/38/timeline","performed_via_github_app":null,"state_reason":"completed"},{"url":"https://api.github.com/repos/beancount/beanquery/issues/39","repository_url":"https://api.github.com/repos/beancount/beanquery","labels_url":"https://api.github.com/repos/beancount/beanquery/issues/39/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beanquery/issues/39/comments","events_url":"https://api.github.com/repos/beancount/beanquery/issues/39/events","html_url":"https://github.com/beancount/beanquery/issues/39","id":1190780005,"node_id":"MDU6SXNzdWUxMTkwNzgwMDA1","number":39,"title":"Document SELECT location","user":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":2901894419,"node_id":"MDU6TGFiZWwyOTAxODk0NDE5","url":"https://api.github.com/repos/beancount/beanquery/labels/documentation","name":"documentation","color":"DAE8F0","default":true,"description":"Improvements or additions to documentation"}],"state":"open","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":0,"created_at":"2019-04-20T10:58:20Z","updated_at":"2022-04-05T18:53:37Z","closed_at":null,"author_association":"MEMBER","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"**[Original report](https://bitbucket.org/blais/beancount/issue/390) by Martin Michlmayr (Bitbucket: [tbm13](https://bitbucket.org/tbm13), GitHub: [tbm](https://github.com/tbm)).**\n\n----------------------------------------\n\nMartin mentioned on the list recently:\n\n> one can just use a SQL command, something like SELECT location WHERE\n> date >= 2019-02-01 and flag ='!' and iterate using \"next-error\" in\n> Emacs. Perhaps that should be documented better.\n\nZack said it's not mentioned in the BQL documentation.\n","closed_by":null,"reactions":{"url":"https://api.github.com/repos/beancount/beanquery/issues/39/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beanquery/issues/39/timeline","performed_via_github_app":null,"state_reason":null},{"url":"https://api.github.com/repos/beancount/beanquery/issues/40","repository_url":"https://api.github.com/repos/beancount/beanquery","labels_url":"https://api.github.com/repos/beancount/beanquery/issues/40/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beanquery/issues/40/comments","events_url":"https://api.github.com/repos/beancount/beanquery/issues/40/events","html_url":"https://github.com/beancount/beanquery/issues/40","id":1190780020,"node_id":"MDU6SXNzdWUxMTkwNzgwMDIw","number":40,"title":"Nested field is displayed with its elements in arbitrary order, e.g. SUM(VALUE(position))","user":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":2901894418,"node_id":"MDU6TGFiZWwyOTAxODk0NDE4","url":"https://api.github.com/repos/beancount/beanquery/labels/bug","name":"bug","color":"d73a4a","default":true,"description":"Something isn't working"},{"id":4023492511,"node_id":"LA_kwDOFUEJF87v0Z-f","url":"https://api.github.com/repos/beancount/beanquery/labels/render","name":"render","color":"c2e0c6","default":false,"description":"Involves results set rendering"}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":4,"created_at":"2019-01-20T18:34:04Z","updated_at":"2022-04-13T19:53:13Z","closed_at":"2022-04-13T19:53:12Z","author_association":"MEMBER","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"Original report by Adam Wolenc [adamdblu](https://bitbucket.org/adamdblu).\r\n\r\nWhen displaying a nested target, for example a `SUM` of `position`s containing more than one currency, bean-query displays the elements of this field in arbitrary order. Is there a way to tell it to sort them by currency?\r\n\r\nThis is best illustrated by an example.\r\n```\r\n2000-01-04 open Assets:HOOL:Unvested:FUTURE2000 HOOL.UNVEST\r\n2000-01-04 open Income:HOOL:Awards              HOOL.UNVEST\r\n2001-01-04 open Assets:HOOL:RSURefund           USD\r\n2001-01-04 open Income:HOOL:HoolStockUnit       USD\r\n\r\n2000-01-04 * \"Award FUTURE2000\"\r\n  Income:HOOL:Awards                    -10 HOOL.UNVEST\r\n  Assets:HOOL:Unvested:FUTURE2000        10 HOOL.UNVEST\r\n\r\n2001-01-04 * \"Vest FUTURE2000\"\r\n  Income:HOOL:HoolStockUnit        -1000.00 USD\r\n  Assets:HOOL:RSURefund\r\n```\r\n\r\nSub accounts under Assets:HOOL now contain two currencies.\r\n\r\nRunning this query repeatedly results in one of two outputs arbitrarily.\r\n\r\n```sql\r\nSELECT ROOT(account, 2) AS institution,\r\n       SUM(VALUE(position)) AS mkt\r\n GROUP BY institution\r\n ORDER BY mkt, institution DESC;\r\n\r\n```\r\n\r\n```\r\ninstitution         mkt         \r\n----------- --------------------\r\nAssets:HOOL    10    HOOL.UNVEST,  1000.00 USD        \r\nIncome:HOOL   -10    HOOL.UNVEST, -1000.00 USD   \r\n\r\n```\r\n\r\n```\r\ninstitution         mkt         \r\n----------- --------------------\r\nAssets:HOOL  1000.00 USD        ,    10    HOOL.UNVEST\r\nIncome:HOOL -1000.00 USD        ,   -10    HOOL.UNVEST\r\n```\r\n","closed_by":{"login":"dnicolodi","id":987145,"node_id":"MDQ6VXNlcjk4NzE0NQ==","avatar_url":"https://avatars.githubusercontent.com/u/987145?v=4","gravatar_id":"","url":"https://api.github.com/users/dnicolodi","html_url":"https://github.com/dnicolodi","followers_url":"https://api.github.com/users/dnicolodi/followers","following_url":"https://api.github.com/users/dnicolodi/following{/other_user}","gists_url":"https://api.github.com/users/dnicolodi/gists{/gist_id}","starred_url":"https://api.github.com/users/dnicolodi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dnicolodi/subscriptions","organizations_url":"https://api.github.com/users/dnicolodi/orgs","repos_url":"https://api.github.com/users/dnicolodi/repos","events_url":"https://api.github.com/users/dnicolodi/events{/privacy}","received_events_url":"https://api.github.com/users/dnicolodi/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/beancount/beanquery/issues/40/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beanquery/issues/40/timeline","performed_via_github_app":null,"state_reason":"completed"},{"url":"https://api.github.com/repos/beancount/beanquery/issues/41","repository_url":"https://api.github.com/repos/beancount/beanquery","labels_url":"https://api.github.com/repos/beancount/beanquery/issues/41/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beanquery/issues/41/comments","events_url":"https://api.github.com/repos/beancount/beanquery/issues/41/events","html_url":"https://github.com/beancount/beanquery/issues/41","id":1190780045,"node_id":"MDU6SXNzdWUxMTkwNzgwMDQ1","number":41,"title":"posting flag ignored / how to query posting flag?","user":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":4004667454,"node_id":"LA_kwDOFUEJF87usmA-","url":"https://api.github.com/repos/beancount/beanquery/labels/not%20a%20bug","name":"not a bug","color":"FFFFFF","default":false,"description":"Works as intended"}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":1,"created_at":"2018-12-19T12:56:45Z","updated_at":"2022-04-05T20:54:02Z","closed_at":"2022-04-05T20:54:02Z","author_association":"MEMBER","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"**[Original report](https://bitbucket.org/blais/beancount/issue/353) by Martin Michlmayr (Bitbucket: [tbm13](https://bitbucket.org/tbm13), GitHub: [tbm](https://github.com/tbm)).**\n\n----------------------------------------\n\nThe syntax manual says \"You can also attach flags to the postings themselves, if you want to flag one of the transactionâ€™s legs in particular\"\n\nHowever, when I query `f` on an account (posting) I don't see the one marked as `!`:\n\n```\nbeancount> SELECT account, position, flag WHERE account ~ ':A'\naccount  position  f\n-------- --------- -\nAssets:A 11.00 EUR *\nAssets:A 22.00 EUR *\nAssets:A 33.00 EUR *\nbeancount> \n```\n\nIs there a different way to query the posting flag?\n\nTest case:\n\n```\n2018-01-01 open Assets:A\n2018-01-01 open Assets:B\n\n2018-01-01 txn \"Test 1\"\n    aXa: \"foo\"\n    Assets:A      11.00 EUR\n    Assets:B\n\n2018-01-01 txn \"Test 2\"\n    axa: \"bar\"\n    ! Assets:A    22.00 EUR\n    Assets:B\n\n2018-01-01 txn \"Test 3\"\n    axa: \"bar\"\n    * Assets:A    33.00 EUR\n    Assets:B\n```\n","closed_by":{"login":"dnicolodi","id":987145,"node_id":"MDQ6VXNlcjk4NzE0NQ==","avatar_url":"https://avatars.githubusercontent.com/u/987145?v=4","gravatar_id":"","url":"https://api.github.com/users/dnicolodi","html_url":"https://github.com/dnicolodi","followers_url":"https://api.github.com/users/dnicolodi/followers","following_url":"https://api.github.com/users/dnicolodi/following{/other_user}","gists_url":"https://api.github.com/users/dnicolodi/gists{/gist_id}","starred_url":"https://api.github.com/users/dnicolodi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dnicolodi/subscriptions","organizations_url":"https://api.github.com/users/dnicolodi/orgs","repos_url":"https://api.github.com/users/dnicolodi/repos","events_url":"https://api.github.com/users/dnicolodi/events{/privacy}","received_events_url":"https://api.github.com/users/dnicolodi/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/beancount/beanquery/issues/41/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beanquery/issues/41/timeline","performed_via_github_app":null,"state_reason":"completed"},{"url":"https://api.github.com/repos/beancount/beanquery/issues/42","repository_url":"https://api.github.com/repos/beancount/beanquery","labels_url":"https://api.github.com/repos/beancount/beanquery/issues/42/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beanquery/issues/42/comments","events_url":"https://api.github.com/repos/beancount/beanquery/issues/42/events","html_url":"https://github.com/beancount/beanquery/issues/42","id":1190780059,"node_id":"MDU6SXNzdWUxMTkwNzgwMDU5","number":42,"title":"Make ANY_META case insensitive?","user":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":2901894426,"node_id":"MDU6TGFiZWwyOTAxODk0NDI2","url":"https://api.github.com/repos/beancount/beanquery/labels/wontfix","name":"wontfix","color":"ffffff","default":true,"description":"This will not be worked on"}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":1,"created_at":"2018-12-19T11:40:05Z","updated_at":"2022-04-05T21:31:46Z","closed_at":"2022-04-05T21:31:45Z","author_association":"MEMBER","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"**[Original report](https://bitbucket.org/blais/beancount/issue/352) by Martin Michlmayr (Bitbucket: [tbm13](https://bitbucket.org/tbm13), GitHub: [tbm](https://github.com/tbm)).**\n\n----------------------------------------\n\nThis is just an idea so feel free to close if you disagree.\n\nMetadata tags have start with a lowercase letter.  I wonder if ANY_META should ignore the case of the first letter (i.e. basically do a `lcfirst` on the argument).\n\nI guess, more broadly, should metadata tags be completely case insensitive? Currently they aren't.\n\nActually, the more I think about it, I think doing the `lcfirst` as suggested doesn't make sense if the decision is to keep the case sensitivity.  People used to uppercase tags (e.g. from ledger) should just get used to lowercase.\n","closed_by":{"login":"dnicolodi","id":987145,"node_id":"MDQ6VXNlcjk4NzE0NQ==","avatar_url":"https://avatars.githubusercontent.com/u/987145?v=4","gravatar_id":"","url":"https://api.github.com/users/dnicolodi","html_url":"https://github.com/dnicolodi","followers_url":"https://api.github.com/users/dnicolodi/followers","following_url":"https://api.github.com/users/dnicolodi/following{/other_user}","gists_url":"https://api.github.com/users/dnicolodi/gists{/gist_id}","starred_url":"https://api.github.com/users/dnicolodi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dnicolodi/subscriptions","organizations_url":"https://api.github.com/users/dnicolodi/orgs","repos_url":"https://api.github.com/users/dnicolodi/repos","events_url":"https://api.github.com/users/dnicolodi/events{/privacy}","received_events_url":"https://api.github.com/users/dnicolodi/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/beancount/beanquery/issues/42/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beanquery/issues/42/timeline","performed_via_github_app":null,"state_reason":"completed"},{"url":"https://api.github.com/repos/beancount/beanquery/issues/43","repository_url":"https://api.github.com/repos/beancount/beanquery","labels_url":"https://api.github.com/repos/beancount/beanquery/issues/43/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beanquery/issues/43/comments","events_url":"https://api.github.com/repos/beancount/beanquery/issues/43/events","html_url":"https://github.com/beancount/beanquery/issues/43","id":1190780076,"node_id":"MDU6SXNzdWUxMTkwNzgwMDc2","number":43,"title":"Allow a balance column by referencing another column, sum up position converted at original rate","user":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":2901894421,"node_id":"MDU6TGFiZWwyOTAxODk0NDIx","url":"https://api.github.com/repos/beancount/beanquery/labels/enhancement","name":"enhancement","color":"a2eeef","default":true,"description":"New feature or request"}],"state":"open","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":2,"created_at":"2018-12-19T11:22:10Z","updated_at":"2023-08-02T13:39:53Z","closed_at":null,"author_association":"MEMBER","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"**[Original report](https://bitbucket.org/blais/beancount/issue/351) by Martin Michlmayr (Bitbucket: [tbm13](https://bitbucket.org/tbm13), GitHub: [tbm](https://github.com/tbm)).**\n\n----------------------------------------\n\nI [posted this to the beancount list](https://groups.google.com/forum/#!topic/beancount/SGDBejEtd0I) and Martin said this isn't supported at the moment. Opening a ticket.\n\nI have expenses in one currency (EUR) and want to convert all of them to another (USD) **on the day** of the transaction.\n\nThis gives the correct result because I pass \"date\" to CONVERT():\n\n```\nbeancount> SELECT sum(convert(position, \"USD\", date)) WHERE account ~ '^Assets:A';\nsum_conver\n----------\n107.50 USD\n```\n\nBut I'd like to see a \"register\" type view with each individual transaction and the total.\n\n\nTest case:\n\n```\nplugin \"beancount.plugins.implicit_prices\"\n\n2000-01-01 open Assets:A\n2000-01-01 open Assets:B\n\n2018-12-05 * \"Test 1\"\n    Assets:A                20 EUR @ 1.10 USD\n    Assets:B\n\n2018-12-06 * \"Test 2\"\n    Assets:A                45 EUR {1.14 USD} @ 1.14 USD\n    Assets:B\n\n2018-12-07 * \"Test 3\"\n    Assets:A                30 EUR {1.14 USD}\n    Assets:B\n```\n","closed_by":null,"reactions":{"url":"https://api.github.com/repos/beancount/beanquery/issues/43/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beanquery/issues/43/timeline","performed_via_github_app":null,"state_reason":null},{"url":"https://api.github.com/repos/beancount/beanquery/issues/67","repository_url":"https://api.github.com/repos/beancount/beanquery","labels_url":"https://api.github.com/repos/beancount/beanquery/issues/67/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beanquery/issues/67/comments","events_url":"https://api.github.com/repos/beancount/beanquery/issues/67/events","html_url":"https://github.com/beancount/beanquery/issues/67","id":1190789008,"node_id":"MDU6SXNzdWUxMTkwNzg5MDA4","number":67,"title":"run query requires quotes around query when not necessary","user":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":6,"created_at":"2018-12-19T11:18:01Z","updated_at":"2022-04-03T15:54:20Z","closed_at":"2022-04-03T15:54:20Z","author_association":"MEMBER","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"**[Original report](https://bitbucket.org/blais/beancount/issue/350) by Martin Michlmayr (Bitbucket: [tbm13](https://bitbucket.org/tbm13), GitHub: [tbm](https://github.com/tbm)).**\n\n----------------------------------------\n\nI have to quote the query name, otherwise I get a syntax error.  I think in both of these cases (dash and underscore) there shouldn't be a need to quote the name.\n\n```\nbean-query Financial/Ledger/books.beancount \"run fundraiser_2017\"\nERROR: Syntax error near '2017' (at 15)\n  run fundraiser_2017\n                 ^\n\nbean-query Financial/Ledger/books.beancount \"run fundraiser-2017\"\nERROR: Syntax error near '-2017' (at 14)\n  run fundraiser-2017\n                ^\n```\n","closed_by":{"login":"dnicolodi","id":987145,"node_id":"MDQ6VXNlcjk4NzE0NQ==","avatar_url":"https://avatars.githubusercontent.com/u/987145?v=4","gravatar_id":"","url":"https://api.github.com/users/dnicolodi","html_url":"https://github.com/dnicolodi","followers_url":"https://api.github.com/users/dnicolodi/followers","following_url":"https://api.github.com/users/dnicolodi/following{/other_user}","gists_url":"https://api.github.com/users/dnicolodi/gists{/gist_id}","starred_url":"https://api.github.com/users/dnicolodi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dnicolodi/subscriptions","organizations_url":"https://api.github.com/users/dnicolodi/orgs","repos_url":"https://api.github.com/users/dnicolodi/repos","events_url":"https://api.github.com/users/dnicolodi/events{/privacy}","received_events_url":"https://api.github.com/users/dnicolodi/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/beancount/beanquery/issues/67/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beanquery/issues/67/timeline","performed_via_github_app":null,"state_reason":"completed"},{"url":"https://api.github.com/repos/beancount/beanquery/issues/44","repository_url":"https://api.github.com/repos/beancount/beanquery","labels_url":"https://api.github.com/repos/beancount/beanquery/issues/44/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beanquery/issues/44/comments","events_url":"https://api.github.com/repos/beancount/beanquery/issues/44/events","html_url":"https://github.com/beancount/beanquery/issues/44","id":1190780131,"node_id":"MDU6SXNzdWUxMTkwNzgwMTMx","number":44,"title":"Using the FLATTEN keyword results in an exception","user":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":2901894418,"node_id":"MDU6TGFiZWwyOTAxODk0NDE4","url":"https://api.github.com/repos/beancount/beanquery/labels/bug","name":"bug","color":"d73a4a","default":true,"description":"Something isn't working"}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":2,"created_at":"2018-12-13T20:00:35Z","updated_at":"2022-04-14T11:59:09Z","closed_at":"2022-04-14T11:59:09Z","author_association":"MEMBER","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"**[Original report](https://bitbucket.org/blais/beancount/issue/347) by Trevor Davis (Bitbucket: [trevorld](https://bitbucket.org/trevorld), GitHub: [trevorld](https://github.com/trevorld)).**\n\n----------------------------------------\n\nAccording to this e-mail in the beancount mailing list you suggested that the \"flatten\" feature in ``bean-query`` now works:\n\nhttps://groups.google.com/d/msg/beancount/p5_pEz3QiiA/SBk3sotfEQAJ\n\nHowever when I tried to use it I get the following error:\n\n``AttributeError: 'BQLShell' object has no attribute 'do_select'``\n\nWhat I was trying to do was get a version of the \"holdings\" report with the decimal number of the units column extended from hundredths place to the thousandths place (i.e. report 5.235 shares at a given cost instead of 5.24 shares at a given cost).  I need to manually compute capital gains in my HSA account since my provider doesn't track that information at all (but California in their infinite wisdom requires that I pay taxes on them) and right now it is a little bit of trial and error figuring out what my exact cost holdings in the HSA account are since the \"holdings\" report truncates a digit off my holdings and my provider doesn't track that at all since it isn't a federal requirement for them to do so.  \n\n```\n$ cat minimal.beancount \nplugin \"beancount.plugins.implicit_prices\"\nplugin \"beancount.plugins.sellgains\"\n\noption \"operating_currency\" \"USD\"\n\n2018-01-01 open Assets:Brokerage\n2018-01-01 open Equity:Transfer\n2018-01-01 open Income:CG:ST\n\n2018-01-01 * \"\" \"Buy 5 Shares\"\n    Assets:Brokerage     5 SHARE {100 USD}\n    Equity:Transfer\n2018-02-05 * \"\" \"Buy 5 Shares\"\n    Assets:Brokerage     5 SHARE {200 USD}\n    Equity:Transfer\n2018-03-05 * \"\" \"Sell 3 Shares\"\n    Assets:Brokerage   -2 SHARE {100 USD} @ 150 USD\n    Assets:Brokerage   -1 SHARE {200 USD} @ 150 USD\n    Income:CG:ST        -50 USD\n    Equity:Transfer\n$ bean-check minimal.beancount \n$ bean-report minimal.beancount holdings\nAccount           Units  Currency  Cost Currency  Average Cost   Price  Book Value  Market Value\n----------------  -----  --------  -------------  ------------  ------  ----------  ------------\nAssets:Brokerage   3.00     SHARE            USD        100.00  150.00      300.00        450.00\nAssets:Brokerage   4.00     SHARE            USD        200.00  150.00      800.00        600.00\n----------------  -----  --------  -------------  ------------  ------  ----------  ------------\n$ bean-query minimal.beancount \"select account, cost(sum(position)), value(sum(position)) where account ~ 'Assets:' group by account flatten\"\nTraceback (most recent call last):\n  File \"/usr/lib/python3.6/cmd.py\", line 214, in onecmd\n    func = getattr(self, 'do_' + cmd)\nAttributeError: 'BQLShell' object has no attribute 'do_select'\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File \"/usr/local/lib/python3.6/dist-packages/beancount-2.2.0_devel-py3.6-linux-x86_64.egg/beancount/query/shell.py\", line 271, in run_parser\n    self.dispatch(statement)\n  File \"/usr/local/lib/python3.6/dist-packages/beancount-2.2.0_devel-py3.6-linux-x86_64.egg/beancount/query/shell.py\", line 251, in dispatch\n    return method(statement)\n  File \"/usr/local/lib/python3.6/dist-packages/beancount-2.2.0_devel-py3.6-linux-x86_64.egg/beancount/query/shell.py\", line 419, in on_Select\n    self.options_map)\n  File \"/usr/local/lib/python3.6/dist-packages/beancount-2.2.0_devel-py3.6-linux-x86_64.egg/beancount/query/query_execute.py\", line 380, in execute_query\n    result_types, result_rows = flatten_results(result_types, result_rows)\n  File \"/usr/local/lib/python3.6/dist-packages/beancount-2.2.0_devel-py3.6-linux-x86_64.egg/beancount/query/query_execute.py\", line 421, in flatten_results\n    value = value[irow] if irow < len(value) else None\nKeyError: 0\n```\n","closed_by":{"login":"dnicolodi","id":987145,"node_id":"MDQ6VXNlcjk4NzE0NQ==","avatar_url":"https://avatars.githubusercontent.com/u/987145?v=4","gravatar_id":"","url":"https://api.github.com/users/dnicolodi","html_url":"https://github.com/dnicolodi","followers_url":"https://api.github.com/users/dnicolodi/followers","following_url":"https://api.github.com/users/dnicolodi/following{/other_user}","gists_url":"https://api.github.com/users/dnicolodi/gists{/gist_id}","starred_url":"https://api.github.com/users/dnicolodi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dnicolodi/subscriptions","organizations_url":"https://api.github.com/users/dnicolodi/orgs","repos_url":"https://api.github.com/users/dnicolodi/repos","events_url":"https://api.github.com/users/dnicolodi/events{/privacy}","received_events_url":"https://api.github.com/users/dnicolodi/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/beancount/beanquery/issues/44/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beanquery/issues/44/timeline","performed_via_github_app":null,"state_reason":"completed"},{"url":"https://api.github.com/repos/beancount/beanquery/issues/45","repository_url":"https://api.github.com/repos/beancount/beanquery","labels_url":"https://api.github.com/repos/beancount/beanquery/issues/45/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beanquery/issues/45/comments","events_url":"https://api.github.com/repos/beancount/beanquery/issues/45/events","html_url":"https://github.com/beancount/beanquery/issues/45","id":1190780149,"node_id":"MDU6SXNzdWUxMTkwNzgwMTQ5","number":45,"title":"bsql: unsupported operand type(s) for &: 'NoneType' and 'bool'","user":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":2901894418,"node_id":"MDU6TGFiZWwyOTAxODk0NDE4","url":"https://api.github.com/repos/beancount/beanquery/labels/bug","name":"bug","color":"d73a4a","default":true,"description":"Something isn't working"}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":2,"created_at":"2018-12-13T00:00:17Z","updated_at":"2022-04-04T23:59:50Z","closed_at":"2022-04-04T23:59:50Z","author_association":"MEMBER","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"**[Original report](https://bitbucket.org/blais/beancount/issue/345) by Martin Michlmayr (Bitbucket: [tbm13](https://bitbucket.org/tbm13), GitHub: [tbm](https://github.com/tbm)).**\n\n----------------------------------------\n\nI can do this to make sure metadata does NOT exist:\n\n```\nbeancount> SELECT account WHERE NOT ANY_META('program');\n\n```\n\nIf I drop the `NOT`, it also works fine:\n\n```\nbeancount> SELECT account WHERE ANY_META('program');\n\n```\n\nHowever, this fails:\n\n```\nbeancount> SELECT account WHERE ANY_META('program') AND NOT ANY_META('entity');\n...\n    return self.operator(self.left(context), self.right(context))\nTypeError: unsupported operand type(s) for &: 'NoneType' and 'bool'\n```\n\nIt doesn't make sense that it works on its own but not when combined with another query of the same type.\n\nAs a workaround, `ANY_META('program')  ~ '' AND...` it works; but I think the simple query should work.\n","closed_by":{"login":"dnicolodi","id":987145,"node_id":"MDQ6VXNlcjk4NzE0NQ==","avatar_url":"https://avatars.githubusercontent.com/u/987145?v=4","gravatar_id":"","url":"https://api.github.com/users/dnicolodi","html_url":"https://github.com/dnicolodi","followers_url":"https://api.github.com/users/dnicolodi/followers","following_url":"https://api.github.com/users/dnicolodi/following{/other_user}","gists_url":"https://api.github.com/users/dnicolodi/gists{/gist_id}","starred_url":"https://api.github.com/users/dnicolodi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dnicolodi/subscriptions","organizations_url":"https://api.github.com/users/dnicolodi/orgs","repos_url":"https://api.github.com/users/dnicolodi/repos","events_url":"https://api.github.com/users/dnicolodi/events{/privacy}","received_events_url":"https://api.github.com/users/dnicolodi/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/beancount/beanquery/issues/45/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beanquery/issues/45/timeline","performed_via_github_app":null,"state_reason":"completed"},{"url":"https://api.github.com/repos/beancount/beanquery/issues/46","repository_url":"https://api.github.com/repos/beancount/beanquery","labels_url":"https://api.github.com/repos/beancount/beanquery/issues/46/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beanquery/issues/46/comments","events_url":"https://api.github.com/repos/beancount/beanquery/issues/46/events","html_url":"https://github.com/beancount/beanquery/issues/46","id":1190780216,"node_id":"MDU6SXNzdWUxMTkwNzgwMjE2","number":46,"title":"Column name specified via AS can't be used in WHERE","user":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":2901894421,"node_id":"MDU6TGFiZWwyOTAxODk0NDIx","url":"https://api.github.com/repos/beancount/beanquery/labels/enhancement","name":"enhancement","color":"a2eeef","default":true,"description":"New feature or request"}],"state":"open","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":5,"created_at":"2018-12-12T21:08:40Z","updated_at":"2022-12-01T12:13:54Z","closed_at":null,"author_association":"MEMBER","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"**[Original report](https://bitbucket.org/blais/beancount/issue/344) by Martin Michlmayr (Bitbucket: [tbm13](https://bitbucket.org/tbm13), GitHub: [tbm](https://github.com/tbm)).**\n\n----------------------------------------\n\nI specify a column name via \"AS foo\" but then \"WHERE foo\" says that \"foo\" is an invalid column. It would be nice if it would recognise the custom column names I make via \"AS\".\n\n```\nbeancount> SELECT ANY_META('entity') as entity WHERE ANY_META('entity') ~ 'Michlmayr';\n entity  \n---------\nMichlmayr\nMichlmayr\nMichlmayr\nMichlmayr\nbeancount> SELECT ANY_META('entity') as entity WHERE entity ~ 'Michlmayr';\nERROR: Invalid column name 'entity' in WHERE clause context.\nbeancount> \n```\n","closed_by":null,"reactions":{"url":"https://api.github.com/repos/beancount/beanquery/issues/46/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beanquery/issues/46/timeline","performed_via_github_app":null,"state_reason":null},{"url":"https://api.github.com/repos/beancount/beanquery/issues/47","repository_url":"https://api.github.com/repos/beancount/beanquery","labels_url":"https://api.github.com/repos/beancount/beanquery/issues/47/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beanquery/issues/47/comments","events_url":"https://api.github.com/repos/beancount/beanquery/issues/47/events","html_url":"https://github.com/beancount/beanquery/issues/47","id":1190780240,"node_id":"MDU6SXNzdWUxMTkwNzgwMjQw","number":47,"title":"bean-query order not consistent","user":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":2901894418,"node_id":"MDU6TGFiZWwyOTAxODk0NDE4","url":"https://api.github.com/repos/beancount/beanquery/labels/bug","name":"bug","color":"d73a4a","default":true,"description":"Something isn't working"},{"id":4023482194,"node_id":"LA_kwDOFUEJF87v0XdS","url":"https://api.github.com/repos/beancount/beanquery/labels/cannot%20reproduce","name":"cannot reproduce","color":"5319e7","default":false,"description":"The reported issue cannot be reproduced"}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":4,"created_at":"2018-12-07T15:44:07Z","updated_at":"2022-11-30T09:56:38Z","closed_at":"2022-11-30T09:56:37Z","author_association":"MEMBER","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"**[Original report](https://bitbucket.org/blais/beancount/issue/342) by Martin Michlmayr (Bitbucket: [tbm13](https://bitbucket.org/tbm13), GitHub: [tbm](https://github.com/tbm)).**\n\n----------------------------------------\n\nbeancount in general cares about the order of transactions, including date ordering, but bean-query's results are non deterministic.\n\nI know I can add an `ORDER by date` but shouldn't that be automatic. Moreover, will `ORDER by date` keep the order of transactions in the file if they are on the same day.\n\n```\nbeancount> SELECT date, position, sum(position), convert(position, \"USD\", date), sum(position)  WHERE account ~ '^Assets:A';\n   date        position        sum_position    convert_p  sum_position_1  \n---------- ----------------- ----------------- --------- -----------------\n2018-12-07 30 EUR {1.14 USD} 30 EUR {1.14 USD} 34.20 USD 30 EUR {1.14 USD}\n2018-12-07 45 EUR {1.14 USD} 45 EUR {1.14 USD} 51.30 USD 45 EUR {1.14 USD}\n2018-12-05 20 EUR            20 EUR            22.80 USD 20 EUR           \nbeancount> exit\n41538:tbm@jirafa: ~/scratch/cvs/beancount] bean-query test\nInput file: \"Beancount\"\nReady with 7 directives (6 postings in 3 transactions).\nbeancount> SELECT date, position, sum(position), convert(position, \"USD\", date), sum(position)  WHERE account ~ '^Assets:A';\n   date        position        sum_position    convert_p  sum_position_1  \n---------- ----------------- ----------------- --------- -----------------\n2018-12-07 45 EUR {1.14 USD} 45 EUR {1.14 USD} 51.30 USD 45 EUR {1.14 USD}\n2018-12-07 30 EUR {1.14 USD} 30 EUR {1.14 USD} 34.20 USD 30 EUR {1.14 USD}\n2018-12-05 20 EUR            20 EUR            22.80 USD 20 EUR           \nbeancount> \nbeancount> exit\n41539:tbm@jirafa: ~/scratch/cvs/beancount] bean-query test\nInput file: \"Beancount\"\nReady with 7 directives (6 postings in 3 transactions).\nbeancount> SELECT date, position, sum(position), convert(position, \"USD\", date), sum(position)  WHERE account ~ '^Assets:A';\n   date        position        sum_position    convert_p  sum_position_1  \n---------- ----------------- ----------------- --------- -----------------\n2018-12-07 30 EUR {1.14 USD} 30 EUR {1.14 USD} 34.20 USD 30 EUR {1.14 USD}\n2018-12-05 20 EUR            20 EUR            22.80 USD 20 EUR           \n2018-12-07 45 EUR {1.14 USD} 45 EUR {1.14 USD} 51.30 USD 45 EUR {1.14 USD}\nbeancount> \n```\n\nTest case:\n\n```\nplugin \"beancount.plugins.implicit_prices\"\n\n2000-01-01 open Assets:A\n2000-01-01 open Assets:B\n\n2018-12-05 * \"Test 1\"\n    Assets:A                20 EUR @ 1.14 USD\n    Assets:B\n\n2018-12-07 * \"Test 2\"\n    Assets:A                45 EUR {1.14 USD} @ 1.14 USD\n    Assets:B\n\n2018-12-07 * \"Test 3\"\n    Assets:A                30 EUR {1.14 USD}\n    Assets:B\n```\n","closed_by":{"login":"dnicolodi","id":987145,"node_id":"MDQ6VXNlcjk4NzE0NQ==","avatar_url":"https://avatars.githubusercontent.com/u/987145?v=4","gravatar_id":"","url":"https://api.github.com/users/dnicolodi","html_url":"https://github.com/dnicolodi","followers_url":"https://api.github.com/users/dnicolodi/followers","following_url":"https://api.github.com/users/dnicolodi/following{/other_user}","gists_url":"https://api.github.com/users/dnicolodi/gists{/gist_id}","starred_url":"https://api.github.com/users/dnicolodi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dnicolodi/subscriptions","organizations_url":"https://api.github.com/users/dnicolodi/orgs","repos_url":"https://api.github.com/users/dnicolodi/repos","events_url":"https://api.github.com/users/dnicolodi/events{/privacy}","received_events_url":"https://api.github.com/users/dnicolodi/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/beancount/beanquery/issues/47/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beanquery/issues/47/timeline","performed_via_github_app":null,"state_reason":"completed"},{"url":"https://api.github.com/repos/beancount/beanquery/issues/48","repository_url":"https://api.github.com/repos/beancount/beanquery","labels_url":"https://api.github.com/repos/beancount/beanquery/issues/48/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beanquery/issues/48/comments","events_url":"https://api.github.com/repos/beancount/beanquery/issues/48/events","html_url":"https://github.com/beancount/beanquery/issues/48","id":1190780260,"node_id":"MDU6SXNzdWUxMTkwNzgwMjYw","number":48,"title":"None should be considered False in boolean context","user":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":2901894418,"node_id":"MDU6TGFiZWwyOTAxODk0NDE4","url":"https://api.github.com/repos/beancount/beanquery/labels/bug","name":"bug","color":"d73a4a","default":true,"description":"Something isn't working"}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":15,"created_at":"2018-09-29T05:38:36Z","updated_at":"2022-04-07T10:16:14Z","closed_at":"2022-04-05T21:43:42Z","author_association":"MEMBER","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"**[Original report](https://bitbucket.org/blais/beancount/issue/335) by Stefano Zacchiroli (Bitbucket: [zacchiro](https://bitbucket.org/zacchiro), GitHub: [zacchiro](https://github.com/zacchiro)).**\r\n\r\n----------------------------------------\r\n\r\nThe following query:\r\n```\r\nSELECT ANY_META('trip') AS trip, SUM(position) AS amount\r\nWHERE account ~ '^Assets:Reimbursable'\r\nAND ANY_META('trip')\r\nGROUP BY trip\r\n```\r\nwhen 'trip' might be missing from some transaction fails as follows:\r\n```\r\n  File \"/home/zack/.local/lib/python3.6/site-packages/beancount/query/query_compile.py\", line 121, in __call__\r\n    return self.operator(self.left(context), self.right(context))\r\n  TypeError: unsupported operand type(s) for &: 'bool' and 'str'\r\n```\r\nthe string in question is probably \"None\", i.e., the string representation of Python None values.\r\n\r\nIt would be nice if missing metadata could be treated as False in boolean context by BQL.\r\n","closed_by":{"login":"dnicolodi","id":987145,"node_id":"MDQ6VXNlcjk4NzE0NQ==","avatar_url":"https://avatars.githubusercontent.com/u/987145?v=4","gravatar_id":"","url":"https://api.github.com/users/dnicolodi","html_url":"https://github.com/dnicolodi","followers_url":"https://api.github.com/users/dnicolodi/followers","following_url":"https://api.github.com/users/dnicolodi/following{/other_user}","gists_url":"https://api.github.com/users/dnicolodi/gists{/gist_id}","starred_url":"https://api.github.com/users/dnicolodi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dnicolodi/subscriptions","organizations_url":"https://api.github.com/users/dnicolodi/orgs","repos_url":"https://api.github.com/users/dnicolodi/repos","events_url":"https://api.github.com/users/dnicolodi/events{/privacy}","received_events_url":"https://api.github.com/users/dnicolodi/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/beancount/beanquery/issues/48/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beanquery/issues/48/timeline","performed_via_github_app":null,"state_reason":"completed"},{"url":"https://api.github.com/repos/beancount/beanquery/issues/49","repository_url":"https://api.github.com/repos/beancount/beanquery","labels_url":"https://api.github.com/repos/beancount/beanquery/issues/49/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beanquery/issues/49/comments","events_url":"https://api.github.com/repos/beancount/beanquery/issues/49/events","html_url":"https://github.com/beancount/beanquery/issues/49","id":1190780288,"node_id":"MDU6SXNzdWUxMTkwNzgwMjg4","number":49,"title":"SQL shell should check for data types for columns returning containers (and others)","user":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":2901894418,"node_id":"MDU6TGFiZWwyOTAxODk0NDE4","url":"https://api.github.com/repos/beancount/beanquery/labels/bug","name":"bug","color":"d73a4a","default":true,"description":"Something isn't working"}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":2,"created_at":"2018-07-20T03:30:49Z","updated_at":"2022-04-04T23:07:03Z","closed_at":"2022-04-04T23:07:02Z","author_association":"MEMBER","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"**[Original report](https://bitbucket.org/blais/beancount/issue/320) by Martin Blais (Bitbucket: [blais](https://bitbucket.org/blais), GitHub: [blais](https://github.com/blais)).**\r\n\r\n----------------------------------------\r\n\r\nI'm tracking my gross pay into my checking account from Income:Salary, and then transfering out from there into expense:income-tax, assets:401k, etc...\r\n\r\nAt the end of the year, I'd like to pull a report that shows me how much total I contributed to the Assets:401K account. However, I can't simply pull a `select sum(position) where account ~  \"401K\"` because I am also tracking purchases/sales in sub-accounts of Assets:401K. Rather, I'd like to do something like `select account,sum(position) where account ~ \"401K\" and other_accounts ~ \"Checking\"`, but this produces an error:\r\n\r\n\r\n```\r\n#!python\r\n\r\nbeancount> select account,sum(position) where account ~ \"Checking\" and other_accounts ~ \"401K\"\r\nTraceback (most recent call last):\r\n  File \"/usr/lib64/python3.6/cmd.py\", line 214, in onecmd\r\n    func = getattr(self, 'do_' + cmd)\r\nAttributeError: 'BQLShell' object has no attribute 'do_select'\r\n\r\nDuring handling of the above exception, another exception occurred:\r\n\r\nTraceback (most recent call last):\r\n  File \"/home/me/.config/pyVirtualEnvs/beancount_local/lib/python3.6/site-packages/beancount/query/shell.py\", line 270, in run_parser\r\n    self.dispatch(statement)\r\n  File \"/home/me/.config/pyVirtualEnvs/beancount_local/lib/python3.6/site-packages/beancount/query/shell.py\", line 250, in dispatch\r\n    return method(statement)\r\n  File \"/home/me/.config/pyVirtualEnvs/beancount_local/lib/python3.6/site-packages/beancount/query/shell.py\", line 418, in on_Select\r\n    self.options_map)\r\n  File \"/home/me/.config/pyVirtualEnvs/beancount_local/lib/python3.6/site-packages/beancount/query/query_execute.py\", line 316, in execute_query\r\n    if c_where is None or c_where(context):\r\n  File \"/home/me/.config/pyVirtualEnvs/beancount_local/lib/python3.6/site-packages/beancount/query/query_compile.py\", line 121, in __call__\r\n    return self.operator(self.left(context), self.right(context))\r\n  File \"/home/me/.config/pyVirtualEnvs/beancount_local/lib/python3.6/site-packages/beancount/query/query_compile.py\", line 121, in __call__\r\n    return self.operator(self.left(context), self.right(context))\r\n  File \"/home/me/.config/pyVirtualEnvs/beancount_local/lib/python3.6/site-packages/beancount/query/query_compile.py\", line 164, in match\r\n    return bool(re.search(right, left, re.IGNORECASE))\r\n  File \"/home/me/.config/pyVirtualEnvs/beancount_local/lib64/python3.6/re.py\", line 182, in search\r\n    return _compile(pattern, flags).search(string)\r\nTypeError: expected string or bytes-like object\r\nbeancount> select account,sum(position) where account ~ \"401K\" and other_accounts ~ \"Checking\"\r\nTraceback (most recent call last):\r\n  File \"/usr/lib64/python3.6/cmd.py\", line 214, in onecmd\r\n    func = getattr(self, 'do_' + cmd)\r\nAttributeError: 'BQLShell' object has no attribute 'do_select'\r\n\r\nDuring handling of the above exception, another exception occurred:\r\n\r\nTraceback (most recent call last):\r\n  File \"/home/me/.config/pyVirtualEnvs/beancount_local/lib/python3.6/site-packages/beancount/query/shell.py\", line 270, in run_parser\r\n    self.dispatch(statement)\r\n  File \"/home/me/.config/pyVirtualEnvs/beancount_local/lib/python3.6/site-packages/beancount/query/shell.py\", line 250, in dispatch\r\n    return method(statement)\r\n  File \"/home/me/.config/pyVirtualEnvs/beancount_local/lib/python3.6/site-packages/beancount/query/shell.py\", line 418, in on_Select\r\n    self.options_map)\r\n  File \"/home/me/.config/pyVirtualEnvs/beancount_local/lib/python3.6/site-packages/beancount/query/query_execute.py\", line 316, in execute_query\r\n    if c_where is None or c_where(context):\r\n  File \"/home/me/.config/pyVirtualEnvs/beancount_local/lib/python3.6/site-packages/beancount/query/query_compile.py\", line 121, in __call__\r\n    return self.operator(self.left(context), self.right(context))\r\n  File \"/home/me/.config/pyVirtualEnvs/beancount_local/lib/python3.6/site-packages/beancount/query/query_compile.py\", line 121, in __call__\r\n    return self.operator(self.left(context), self.right(context))\r\n  File \"/home/me/.config/pyVirtualEnvs/beancount_local/lib/python3.6/site-packages/beancount/query/query_compile.py\", line 164, in match\r\n    return bool(re.search(right, left, re.IGNORECASE))\r\n  File \"/home/me/.config/pyVirtualEnvs/beancount_local/lib64/python3.6/re.py\", line 182, in search\r\n    return _compile(pattern, flags).search(string)\r\nTypeError: expected string or bytes-like object\r\n\r\n```\r\n\r\nIs this expected behaviour? Am I doing something wrong? Is there another way to pull the report I want?\r\n","closed_by":{"login":"dnicolodi","id":987145,"node_id":"MDQ6VXNlcjk4NzE0NQ==","avatar_url":"https://avatars.githubusercontent.com/u/987145?v=4","gravatar_id":"","url":"https://api.github.com/users/dnicolodi","html_url":"https://github.com/dnicolodi","followers_url":"https://api.github.com/users/dnicolodi/followers","following_url":"https://api.github.com/users/dnicolodi/following{/other_user}","gists_url":"https://api.github.com/users/dnicolodi/gists{/gist_id}","starred_url":"https://api.github.com/users/dnicolodi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dnicolodi/subscriptions","organizations_url":"https://api.github.com/users/dnicolodi/orgs","repos_url":"https://api.github.com/users/dnicolodi/repos","events_url":"https://api.github.com/users/dnicolodi/events{/privacy}","received_events_url":"https://api.github.com/users/dnicolodi/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/beancount/beanquery/issues/49/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beanquery/issues/49/timeline","performed_via_github_app":null,"state_reason":"completed"},{"url":"https://api.github.com/repos/beancount/beanquery/issues/50","repository_url":"https://api.github.com/repos/beancount/beanquery","labels_url":"https://api.github.com/repos/beancount/beanquery/issues/50/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beanquery/issues/50/comments","events_url":"https://api.github.com/repos/beancount/beanquery/issues/50/events","html_url":"https://github.com/beancount/beanquery/issues/50","id":1190780306,"node_id":"MDU6SXNzdWUxMTkwNzgwMzA2","number":50,"title":"balance column should be computed after sorting","user":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":2901894421,"node_id":"MDU6TGFiZWwyOTAxODk0NDIx","url":"https://api.github.com/repos/beancount/beanquery/labels/enhancement","name":"enhancement","color":"a2eeef","default":true,"description":"New feature or request"}],"state":"open","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":0,"created_at":"2018-06-16T04:46:22Z","updated_at":"2022-04-11T12:40:24Z","closed_at":null,"author_association":"MEMBER","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"**[Original report](https://bitbucket.org/blais/beancount/issue/308) by Martin Blais (Bitbucket: [blais](https://bitbucket.org/blais), GitHub: [blais](https://github.com/blais)).**\n\n----------------------------------------\n\nThis query:\n\n  SELECT date, description, tags, convert(position, 'USD'), convert(balance, 'USD'), account                                                                                                                                                                                                                                                                               \n  WHERE account ~ 'Accommodation'                                                                                                                                                                                                                                                                                                                                          \n  ORDER BY joinstr(tags)                                                                                                                                                                                                                                                                                                                                                   \n\ndoes not yield the correct result because the balances aren't sorted correctly.\nI believe the ability to compute a running aggregator should be something that's supported in the SQL shell rewrite.\n","closed_by":null,"reactions":{"url":"https://api.github.com/repos/beancount/beanquery/issues/50/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beanquery/issues/50/timeline","performed_via_github_app":null,"state_reason":null},{"url":"https://api.github.com/repos/beancount/beanquery/issues/51","repository_url":"https://api.github.com/repos/beancount/beanquery","labels_url":"https://api.github.com/repos/beancount/beanquery/issues/51/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beanquery/issues/51/comments","events_url":"https://api.github.com/repos/beancount/beanquery/issues/51/events","html_url":"https://github.com/beancount/beanquery/issues/51","id":1190780324,"node_id":"MDU6SXNzdWUxMTkwNzgwMzI0","number":51,"title":"Query result should be empty string instead of None so ORDER BY can work","user":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":2901894418,"node_id":"MDU6TGFiZWwyOTAxODk0NDE4","url":"https://api.github.com/repos/beancount/beanquery/labels/bug","name":"bug","color":"d73a4a","default":true,"description":"Something isn't working"}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":1,"created_at":"2018-04-23T10:54:16Z","updated_at":"2022-04-05T21:47:17Z","closed_at":"2022-04-05T21:47:17Z","author_association":"MEMBER","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"**[Original report](https://bitbucket.org/blais/beancount/issue/285) by Martin Michlmayr (Bitbucket: [tbm13](https://bitbucket.org/tbm13), GitHub: [tbm](https://github.com/tbm)).**\n\n----------------------------------------\n\nI'm trying to do an `ORDER BY` query but I get an error because some results don't have values:\n\n```\nbeancount> select account, any_meta('who'), sum(position) WHERE account ~ 'Assets:Receivable' GROUP BY 1, 2\n     account      any_me sum_positi\n----------------- ------ ----------\nAssets:Receivable Martin 100.00 EUR\nAssets:Receivable        100.00 EUR\nbeancount> \n```\n\nWith `ORDER BY 2`:\n\n```\nbeancount> select account, any_meta('who'), sum(position) WHERE account ~ 'Assets:Receivable' GROUP BY 1, 2 ORDER BY 2\nTraceback (most recent call last):\n  File \"/usr/lib/python3.5/cmd.py\", line 214, in onecmd\n    func = getattr(self, 'do_' + cmd)\nAttributeError: 'BQLShell' object has no attribute 'do_select'\n...\n  File \"/home/tbm/.local/lib/python3.5/site-packages/beancount/query/query_execute.py\", line 328, in execute_query\n    reverse=(query.ordering == 'DESC'))\nTypeError: unorderable types: NoneType() < str()\n```\n\nTest case:\n\n```\nplugin \"beancount.plugins.auto\"\n\n2018-04-22 * \"Test 1\"\n    Assets:Receivable          100.00 EUR\n        who: \"Martin\"\n    Assets:Bank               -100.00 EUR\n\n2018-04-22 * \"Test 2\"\n    Assets:Receivable          100.00 EUR\n    Assets:Bank               -100.00 EUR\n```\n","closed_by":{"login":"dnicolodi","id":987145,"node_id":"MDQ6VXNlcjk4NzE0NQ==","avatar_url":"https://avatars.githubusercontent.com/u/987145?v=4","gravatar_id":"","url":"https://api.github.com/users/dnicolodi","html_url":"https://github.com/dnicolodi","followers_url":"https://api.github.com/users/dnicolodi/followers","following_url":"https://api.github.com/users/dnicolodi/following{/other_user}","gists_url":"https://api.github.com/users/dnicolodi/gists{/gist_id}","starred_url":"https://api.github.com/users/dnicolodi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dnicolodi/subscriptions","organizations_url":"https://api.github.com/users/dnicolodi/orgs","repos_url":"https://api.github.com/users/dnicolodi/repos","events_url":"https://api.github.com/users/dnicolodi/events{/privacy}","received_events_url":"https://api.github.com/users/dnicolodi/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/beancount/beanquery/issues/51/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beanquery/issues/51/timeline","performed_via_github_app":null,"state_reason":"completed"},{"url":"https://api.github.com/repos/beancount/beanquery/issues/52","repository_url":"https://api.github.com/repos/beancount/beanquery","labels_url":"https://api.github.com/repos/beancount/beanquery/issues/52/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beanquery/issues/52/comments","events_url":"https://api.github.com/repos/beancount/beanquery/issues/52/events","html_url":"https://github.com/beancount/beanquery/issues/52","id":1190780341,"node_id":"MDU6SXNzdWUxMTkwNzgwMzQx","number":52,"title":"unorderable types: NoneType() < datetime.date() / 'BQLShell' object has no attribute 'do_SELECT'","user":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":2901894418,"node_id":"MDU6TGFiZWwyOTAxODk0NDE4","url":"https://api.github.com/repos/beancount/beanquery/labels/bug","name":"bug","color":"d73a4a","default":true,"description":"Something isn't working"}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":2,"created_at":"2018-03-17T12:43:00Z","updated_at":"2022-04-03T16:16:10Z","closed_at":"2022-04-03T16:16:10Z","author_association":"MEMBER","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"**[Original report](https://bitbucket.org/blais/beancount/issue/242) by Martin Michlmayr (Bitbucket: [tbm13](https://bitbucket.org/tbm13), GitHub: [tbm](https://github.com/tbm)).**\n\n----------------------------------------\n\nI forgot to convert something from ledger's XX @@ FOO to XX {FOO} syntax and got the following error in bean-query.  (I originally found the problem because fava crashed. Below is a simplified query.)\n\n```\nbeancount> SELECT account WHERE account_sortkey(account) ~ \"^[01]\" GROUP BY account, cost_date, currency, account_sortkey(account) ORDER BY account_sortkey(account), cost_date\nTraceback (most recent call last):\n  File \"/usr/lib/python3.5/cmd.py\", line 214, in onecmd\n    func = getattr(self, 'do_' + cmd)\nAttributeError: 'BQLShell' object has no attribute 'do_SELECT'\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File \"/home/tbm/.local/lib/python3.5/site-packages/beancount/query/shell.py\", line 266, in run_parser\n    self.dispatch(statement)\n  File \"/home/tbm/.local/lib/python3.5/site-packages/beancount/query/shell.py\", line 246, in dispatch\n    return method(statement)\n  File \"/home/tbm/.local/lib/python3.5/site-packages/beancount/query/shell.py\", line 414, in on_Select\n    self.options_map)\n  File \"/home/tbm/.local/lib/python3.5/site-packages/beancount/query/query_execute.py\", line 328, in execute_query\n    reverse=(query.ordering == 'DESC'))\nTypeError: unorderable types: NoneType() < datetime.date()\nbeancount> \n```\n\nTest case:\n\n```\n2010-01-01 open Equity:Opening-Balance\n2010-01-01 open Assets:Pension:NEST\n\n2018-01-01 * \"Opening balance: NEST\"\n  Assets:Pension:NEST                                      57.62 GBP\n  Equity:Opening-Balance\n\n2018-01-01 * \"Opening balance: NEST Higher Risk Fund\"\n  fund: \"NESTHIGHER\"\n  Assets:Pension:NEST              11.7230 NESTHIGHER {{25.61 GBP, 2017-12-14}}\n  Equity:Opening-Balance\n\n2018-01-02 * \"NEST: Bought NEST Higher Risk Fund with December employee contributions\"\n  fund: \"NESTHIGHER\"\n  Assets:Pension:NEST              11.7520 NESTHIGHER @@ 25.61 GBP\n  Assets:Pension:NEST                                   -25.61 GBP\n```\n","closed_by":{"login":"dnicolodi","id":987145,"node_id":"MDQ6VXNlcjk4NzE0NQ==","avatar_url":"https://avatars.githubusercontent.com/u/987145?v=4","gravatar_id":"","url":"https://api.github.com/users/dnicolodi","html_url":"https://github.com/dnicolodi","followers_url":"https://api.github.com/users/dnicolodi/followers","following_url":"https://api.github.com/users/dnicolodi/following{/other_user}","gists_url":"https://api.github.com/users/dnicolodi/gists{/gist_id}","starred_url":"https://api.github.com/users/dnicolodi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dnicolodi/subscriptions","organizations_url":"https://api.github.com/users/dnicolodi/orgs","repos_url":"https://api.github.com/users/dnicolodi/repos","events_url":"https://api.github.com/users/dnicolodi/events{/privacy}","received_events_url":"https://api.github.com/users/dnicolodi/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/beancount/beanquery/issues/52/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beanquery/issues/52/timeline","performed_via_github_app":null,"state_reason":"completed"},{"url":"https://api.github.com/repos/beancount/beanquery/issues/53","repository_url":"https://api.github.com/repos/beancount/beanquery","labels_url":"https://api.github.com/repos/beancount/beanquery/issues/53/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beanquery/issues/53/comments","events_url":"https://api.github.com/repos/beancount/beanquery/issues/53/events","html_url":"https://github.com/beancount/beanquery/issues/53","id":1190780352,"node_id":"MDU6SXNzdWUxMTkwNzgwMzUy","number":53,"title":"CONVERT() should accept a price as parameter","user":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":2901894421,"node_id":"MDU6TGFiZWwyOTAxODk0NDIx","url":"https://api.github.com/repos/beancount/beanquery/labels/enhancement","name":"enhancement","color":"a2eeef","default":true,"description":"New feature or request"}],"state":"open","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":1,"created_at":"2018-03-15T12:10:36Z","updated_at":"2023-08-15T13:21:54Z","closed_at":null,"author_association":"MEMBER","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"**[Original report](https://bitbucket.org/blais/beancount/issue/237) by Martin Michlmayr (Bitbucket: [tbm13](https://bitbucket.org/tbm13), GitHub: [tbm](https://github.com/tbm)).**\n\n----------------------------------------\n\nSometimes I want to convert one currency to another at a fixed rate that does not necessarily reflect any actual exchange rate.  For example, when doing a net worth converted to one currency, I may have some \"long time, real\" exchange rate in mind even though it's not the current exchange rate.\n\nSo for example I want to say convert all GBP to EUR and assume \"1 GBP equals 1.45 EUR\".  It would be nice if CONVERT() would accept something like this, e.g.\n\nCONVERT(position, \"GBP 1.45 EUR\") or CONVERT(position, \"GBP @ 1.45 EUR\")\n","closed_by":null,"reactions":{"url":"https://api.github.com/repos/beancount/beanquery/issues/53/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beanquery/issues/53/timeline","performed_via_github_app":null,"state_reason":null},{"url":"https://api.github.com/repos/beancount/beanquery/issues/54","repository_url":"https://api.github.com/repos/beancount/beanquery","labels_url":"https://api.github.com/repos/beancount/beanquery/issues/54/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beanquery/issues/54/comments","events_url":"https://api.github.com/repos/beancount/beanquery/issues/54/events","html_url":"https://github.com/beancount/beanquery/issues/54","id":1190780368,"node_id":"MDU6SXNzdWUxMTkwNzgwMzY4","number":54,"title":"Document should cover CONVERT()","user":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":2901894419,"node_id":"MDU6TGFiZWwyOTAxODk0NDE5","url":"https://api.github.com/repos/beancount/beanquery/labels/documentation","name":"documentation","color":"DAE8F0","default":true,"description":"Improvements or additions to documentation"}],"state":"open","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":7,"created_at":"2018-03-15T12:05:20Z","updated_at":"2022-04-05T18:53:35Z","closed_at":null,"author_association":"MEMBER","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"**[Original report](https://bitbucket.org/blais/beancount/issue/236) by Martin Michlmayr (Bitbucket: [tbm13](https://bitbucket.org/tbm13), GitHub: [tbm](https://github.com/tbm)).**\n\n----------------------------------------\n\nI want to use CONVERT() to convert something to its historical cost (i.e. exchange rate on date of transaction, without later revaluation).\n\nI don't think this is currently possible with beancount. Maybe CONVERT() can be extended to allow an optional DATE.\n\nExample:\n\n```\n2014-01-01 open Expenses:Test\n2014-01-01 open Assets:Cash\n\n2014-01-09 * \"Test\" \"Test 1\"\n     Expenses:Test           10.00 EUR @ 0.8283 GBP\n     Assets:Cash             -8.28 GBP\n\n2014-06-10 * \"Test\" \"Test 2\"\n     Expenses:Test           10.00 EUR @ 0.8106 GBP\n     Assets:Cash             -8.11 GBP\n\n2014-07-30 * \"Test\" \"Test 3\"\n     Expenses:Test           10.00 EUR @ 0.7914 GBP\n     Assets:Cash             -7.91 GBP\n\n2014-09-11 price EUR 0.8011 GBP\n\n2014-12-31 price EUR 0.7825 GBP\n```\n\n```\nselect date, position, convert(position, \"GBP\"), balance where account ~ 'Expenses'\n   date    position  convert_po  balance \n---------- --------- ---------- ---------\n2014-01-09 10.00 EUR 7.8250 GBP 10.00 EUR\n2014-06-10 10.00 EUR 7.8250 GBP 20.00 EUR\n2014-07-30 10.00 EUR 7.8250 GBP 30.00 EUR\n```\n\nIt uses the latest exchange rate (0.7825) for all transactions.\n","closed_by":null,"reactions":{"url":"https://api.github.com/repos/beancount/beanquery/issues/54/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beanquery/issues/54/timeline","performed_via_github_app":null,"state_reason":null},{"url":"https://api.github.com/repos/beancount/beanquery/issues/55","repository_url":"https://api.github.com/repos/beancount/beanquery","labels_url":"https://api.github.com/repos/beancount/beanquery/issues/55/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beanquery/issues/55/comments","events_url":"https://api.github.com/repos/beancount/beanquery/issues/55/events","html_url":"https://github.com/beancount/beanquery/issues/55","id":1190780381,"node_id":"MDU6SXNzdWUxMTkwNzgwMzgx","number":55,"title":"Add function to compute net income","user":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":2901894421,"node_id":"MDU6TGFiZWwyOTAxODk0NDIx","url":"https://api.github.com/repos/beancount/beanquery/labels/enhancement","name":"enhancement","color":"a2eeef","default":true,"description":"New feature or request"}],"state":"open","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":4,"created_at":"2017-01-05T17:08:28Z","updated_at":"2022-04-05T19:03:49Z","closed_at":null,"author_association":"MEMBER","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"**[Original report](https://bitbucket.org/blais/beancount/issue/152) by Chad Whitacre (Bitbucket: [chadwhitacre](https://bitbucket.org/chadwhitacre), GitHub: [chadwhitacre](https://github.com/chadwhitacre)).**\n\n----------------------------------------\n\nIt's easy but annoying to calculate it manually from the subtotals for income and expense.\n","closed_by":null,"reactions":{"url":"https://api.github.com/repos/beancount/beanquery/issues/55/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beanquery/issues/55/timeline","performed_via_github_app":null,"state_reason":null},{"url":"https://api.github.com/repos/beancount/beanquery/issues/56","repository_url":"https://api.github.com/repos/beancount/beanquery","labels_url":"https://api.github.com/repos/beancount/beanquery/issues/56/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beanquery/issues/56/comments","events_url":"https://api.github.com/repos/beancount/beanquery/issues/56/events","html_url":"https://github.com/beancount/beanquery/issues/56","id":1190780395,"node_id":"MDU6SXNzdWUxMTkwNzgwMzk1","number":56,"title":"Allow arithmetic operations on dates","user":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":1,"created_at":"2016-03-31T13:18:56Z","updated_at":"2022-04-04T23:00:13Z","closed_at":"2022-04-04T23:00:12Z","author_association":"MEMBER","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"**[Original report](https://bitbucket.org/blais/beancount/issue/115) by Martin Blais (Bitbucket: [blais](https://bitbucket.org/blais), GitHub: [blais](https://github.com/blais)).**\n\n----------------------------------------\n\nSee https://groups.google.com/d/msgid/beancount/33204474-7109-4766-a1d0-eac5b806d0e8%40googlegroups.com?utm_medium=email&utm_source=footer\n","closed_by":{"login":"dnicolodi","id":987145,"node_id":"MDQ6VXNlcjk4NzE0NQ==","avatar_url":"https://avatars.githubusercontent.com/u/987145?v=4","gravatar_id":"","url":"https://api.github.com/users/dnicolodi","html_url":"https://github.com/dnicolodi","followers_url":"https://api.github.com/users/dnicolodi/followers","following_url":"https://api.github.com/users/dnicolodi/following{/other_user}","gists_url":"https://api.github.com/users/dnicolodi/gists{/gist_id}","starred_url":"https://api.github.com/users/dnicolodi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dnicolodi/subscriptions","organizations_url":"https://api.github.com/users/dnicolodi/orgs","repos_url":"https://api.github.com/users/dnicolodi/repos","events_url":"https://api.github.com/users/dnicolodi/events{/privacy}","received_events_url":"https://api.github.com/users/dnicolodi/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/beancount/beanquery/issues/56/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beanquery/issues/56/timeline","performed_via_github_app":null,"state_reason":"completed"},{"url":"https://api.github.com/repos/beancount/beanquery/issues/57","repository_url":"https://api.github.com/repos/beancount/beanquery","labels_url":"https://api.github.com/repos/beancount/beanquery/issues/57/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beanquery/issues/57/comments","events_url":"https://api.github.com/repos/beancount/beanquery/issues/57/events","html_url":"https://github.com/beancount/beanquery/issues/57","id":1190780411,"node_id":"MDU6SXNzdWUxMTkwNzgwNDEx","number":57,"title":"Implement HAVING","user":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":4,"created_at":"2016-03-31T13:14:01Z","updated_at":"2022-04-03T16:07:09Z","closed_at":"2022-04-03T16:07:08Z","author_association":"MEMBER","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"**[Original report](https://bitbucket.org/blais/beancount/issue/114) by Martin Blais (Bitbucket: [blais](https://bitbucket.org/blais), GitHub: [blais](https://github.com/blais)).**\n\n----------------------------------------\n\nredstreet0 wants it\nme too\n","closed_by":{"login":"dnicolodi","id":987145,"node_id":"MDQ6VXNlcjk4NzE0NQ==","avatar_url":"https://avatars.githubusercontent.com/u/987145?v=4","gravatar_id":"","url":"https://api.github.com/users/dnicolodi","html_url":"https://github.com/dnicolodi","followers_url":"https://api.github.com/users/dnicolodi/followers","following_url":"https://api.github.com/users/dnicolodi/following{/other_user}","gists_url":"https://api.github.com/users/dnicolodi/gists{/gist_id}","starred_url":"https://api.github.com/users/dnicolodi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dnicolodi/subscriptions","organizations_url":"https://api.github.com/users/dnicolodi/orgs","repos_url":"https://api.github.com/users/dnicolodi/repos","events_url":"https://api.github.com/users/dnicolodi/events{/privacy}","received_events_url":"https://api.github.com/users/dnicolodi/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/beancount/beanquery/issues/57/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beanquery/issues/57/timeline","performed_via_github_app":null,"state_reason":"completed"},{"url":"https://api.github.com/repos/beancount/beanquery/issues/58","repository_url":"https://api.github.com/repos/beancount/beanquery","labels_url":"https://api.github.com/repos/beancount/beanquery/issues/58/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beanquery/issues/58/comments","events_url":"https://api.github.com/repos/beancount/beanquery/issues/58/events","html_url":"https://github.com/beancount/beanquery/issues/58","id":1190780438,"node_id":"MDU6SXNzdWUxMTkwNzgwNDM4","number":58,"title":"Convert the query rendering routines to use the DisplayContext","user":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":2901894421,"node_id":"MDU6TGFiZWwyOTAxODk0NDIx","url":"https://api.github.com/repos/beancount/beanquery/labels/enhancement","name":"enhancement","color":"a2eeef","default":true,"description":"New feature or request"},{"id":4023492511,"node_id":"LA_kwDOFUEJF87v0Z-f","url":"https://api.github.com/repos/beancount/beanquery/labels/render","name":"render","color":"c2e0c6","default":false,"description":"Involves results set rendering"}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":1,"created_at":"2016-03-12T18:05:58Z","updated_at":"2022-04-14T12:03:15Z","closed_at":"2022-04-14T12:03:15Z","author_association":"MEMBER","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"**[Original report](https://bitbucket.org/blais/beancount/issue/105) by Martin Blais (Bitbucket: [blais](https://bitbucket.org/blais), GitHub: [blais](https://github.com/blais)).**\n\n----------------------------------------\n\nMust be done, even before revamping the SQL shell.\n","closed_by":{"login":"dnicolodi","id":987145,"node_id":"MDQ6VXNlcjk4NzE0NQ==","avatar_url":"https://avatars.githubusercontent.com/u/987145?v=4","gravatar_id":"","url":"https://api.github.com/users/dnicolodi","html_url":"https://github.com/dnicolodi","followers_url":"https://api.github.com/users/dnicolodi/followers","following_url":"https://api.github.com/users/dnicolodi/following{/other_user}","gists_url":"https://api.github.com/users/dnicolodi/gists{/gist_id}","starred_url":"https://api.github.com/users/dnicolodi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dnicolodi/subscriptions","organizations_url":"https://api.github.com/users/dnicolodi/orgs","repos_url":"https://api.github.com/users/dnicolodi/repos","events_url":"https://api.github.com/users/dnicolodi/events{/privacy}","received_events_url":"https://api.github.com/users/dnicolodi/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/beancount/beanquery/issues/58/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beanquery/issues/58/timeline","performed_via_github_app":null,"state_reason":"completed"},{"url":"https://api.github.com/repos/beancount/beanquery/issues/59","repository_url":"https://api.github.com/repos/beancount/beanquery","labels_url":"https://api.github.com/repos/beancount/beanquery/issues/59/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beanquery/issues/59/comments","events_url":"https://api.github.com/repos/beancount/beanquery/issues/59/events","html_url":"https://github.com/beancount/beanquery/issues/59","id":1190780606,"node_id":"MDU6SXNzdWUxMTkwNzgwNjA2","number":59,"title":"Allow comments in BQL","user":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":4004349250,"node_id":"LA_kwDOFUEJF87urYVC","url":"https://api.github.com/repos/beancount/beanquery/labels/parser","name":"parser","color":"fbca04","default":false,"description":"Involves BQL parser"}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":3,"created_at":"2016-01-12T08:33:03Z","updated_at":"2022-04-08T13:50:04Z","closed_at":"2022-04-08T13:50:04Z","author_association":"MEMBER","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"**[Original report](https://bitbucket.org/blais/beancount/issue/97) by Daniel Bos (Bitbucket: [corani](https://bitbucket.org/corani), GitHub: [corani](https://github.com/corani)).**\n\n----------------------------------------\n\nTo make documenting BQL queries easier, it would be nice if it were possible to use comments. SQL supports two ways of adding comments:\n\n* /* ... */ multi-line comments; and\n* -- ...     single-line comments\n","closed_by":{"login":"dnicolodi","id":987145,"node_id":"MDQ6VXNlcjk4NzE0NQ==","avatar_url":"https://avatars.githubusercontent.com/u/987145?v=4","gravatar_id":"","url":"https://api.github.com/users/dnicolodi","html_url":"https://github.com/dnicolodi","followers_url":"https://api.github.com/users/dnicolodi/followers","following_url":"https://api.github.com/users/dnicolodi/following{/other_user}","gists_url":"https://api.github.com/users/dnicolodi/gists{/gist_id}","starred_url":"https://api.github.com/users/dnicolodi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dnicolodi/subscriptions","organizations_url":"https://api.github.com/users/dnicolodi/orgs","repos_url":"https://api.github.com/users/dnicolodi/repos","events_url":"https://api.github.com/users/dnicolodi/events{/privacy}","received_events_url":"https://api.github.com/users/dnicolodi/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/beancount/beanquery/issues/59/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beanquery/issues/59/timeline","performed_via_github_app":null,"state_reason":"completed"},{"url":"https://api.github.com/repos/beancount/beanquery/issues/60","repository_url":"https://api.github.com/repos/beancount/beanquery","labels_url":"https://api.github.com/repos/beancount/beanquery/issues/60/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beanquery/issues/60/comments","events_url":"https://api.github.com/repos/beancount/beanquery/issues/60/events","html_url":"https://github.com/beancount/beanquery/issues/60","id":1190780623,"node_id":"MDU6SXNzdWUxMTkwNzgwNjIz","number":60,"title":"The precedence of IN operator is incorrect","user":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":2901894418,"node_id":"MDU6TGFiZWwyOTAxODk0NDE4","url":"https://api.github.com/repos/beancount/beanquery/labels/bug","name":"bug","color":"d73a4a","default":true,"description":"Something isn't working"},{"id":4004349250,"node_id":"LA_kwDOFUEJF87urYVC","url":"https://api.github.com/repos/beancount/beanquery/labels/parser","name":"parser","color":"fbca04","default":false,"description":"Involves BQL parser"},{"id":4023482194,"node_id":"LA_kwDOFUEJF87v0XdS","url":"https://api.github.com/repos/beancount/beanquery/labels/cannot%20reproduce","name":"cannot reproduce","color":"5319e7","default":false,"description":"The reported issue cannot be reproduced"}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":2,"created_at":"2015-07-30T03:02:35Z","updated_at":"2023-01-18T08:52:33Z","closed_at":"2023-01-18T08:52:33Z","author_association":"MEMBER","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"```\r\nSELECT\r\n  date, \r\n  payee, \r\n  narration, \r\n  account, \r\n  position \r\nWHERE \r\n  account ~ \"Pending\" AND (\"trip-montreal-july-2015\" in tags)\r\n```\r\n","closed_by":{"login":"dnicolodi","id":987145,"node_id":"MDQ6VXNlcjk4NzE0NQ==","avatar_url":"https://avatars.githubusercontent.com/u/987145?v=4","gravatar_id":"","url":"https://api.github.com/users/dnicolodi","html_url":"https://github.com/dnicolodi","followers_url":"https://api.github.com/users/dnicolodi/followers","following_url":"https://api.github.com/users/dnicolodi/following{/other_user}","gists_url":"https://api.github.com/users/dnicolodi/gists{/gist_id}","starred_url":"https://api.github.com/users/dnicolodi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dnicolodi/subscriptions","organizations_url":"https://api.github.com/users/dnicolodi/orgs","repos_url":"https://api.github.com/users/dnicolodi/repos","events_url":"https://api.github.com/users/dnicolodi/events{/privacy}","received_events_url":"https://api.github.com/users/dnicolodi/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/beancount/beanquery/issues/60/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beanquery/issues/60/timeline","performed_via_github_app":null,"state_reason":"completed"},{"url":"https://api.github.com/repos/beancount/beanquery/issues/61","repository_url":"https://api.github.com/repos/beancount/beanquery","labels_url":"https://api.github.com/repos/beancount/beanquery/issues/61/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beanquery/issues/61/comments","events_url":"https://api.github.com/repos/beancount/beanquery/issues/61/events","html_url":"https://github.com/beancount/beanquery/issues/61","id":1190780641,"node_id":"MDU6SXNzdWUxMTkwNzgwNjQx","number":61,"title":"Implement pivot table tool & make sure it works to produce monthly aggregations","user":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":2901894420,"node_id":"MDU6TGFiZWwyOTAxODk0NDIw","url":"https://api.github.com/repos/beancount/beanquery/labels/duplicate","name":"duplicate","color":"cfd3d7","default":true,"description":"This issue or pull request already exists"},{"id":2901894421,"node_id":"MDU6TGFiZWwyOTAxODk0NDIx","url":"https://api.github.com/repos/beancount/beanquery/labels/enhancement","name":"enhancement","color":"a2eeef","default":true,"description":"New feature or request"}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":4,"created_at":"2015-06-23T15:31:34Z","updated_at":"2022-04-15T15:20:41Z","closed_at":"2022-04-15T15:20:41Z","author_association":"MEMBER","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"See TODO list for more details.\r\n\r\n> Is there a way to compare balances by month and/or by year.  Ie: say I wanted to know how much I spent on each category for each of the last 24 months?\r\n\r\nNot yet, but I've been thinking about that and wanting it for a long while.\r\nI think the most generic and flexible way to implement that would be via a combination of bean-query generating a table like this:\r\n\r\n```\r\n  Month  Account  Balance\r\n  ...         ...            ...\r\n```\r\n\r\nand combining that with a separate tool that would pivot Balance on Month vs. Account, to produce something like this:\r\n\r\n```\r\n                Month\r\n                6/15      7/15     8/15\r\n   Account \r\n   Expenses:Restaurant   ... ... ...\r\n```\r\n","closed_by":{"login":"dnicolodi","id":987145,"node_id":"MDQ6VXNlcjk4NzE0NQ==","avatar_url":"https://avatars.githubusercontent.com/u/987145?v=4","gravatar_id":"","url":"https://api.github.com/users/dnicolodi","html_url":"https://github.com/dnicolodi","followers_url":"https://api.github.com/users/dnicolodi/followers","following_url":"https://api.github.com/users/dnicolodi/following{/other_user}","gists_url":"https://api.github.com/users/dnicolodi/gists{/gist_id}","starred_url":"https://api.github.com/users/dnicolodi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dnicolodi/subscriptions","organizations_url":"https://api.github.com/users/dnicolodi/orgs","repos_url":"https://api.github.com/users/dnicolodi/repos","events_url":"https://api.github.com/users/dnicolodi/events{/privacy}","received_events_url":"https://api.github.com/users/dnicolodi/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/beancount/beanquery/issues/61/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beanquery/issues/61/timeline","performed_via_github_app":null,"state_reason":"completed"},{"url":"https://api.github.com/repos/beancount/beanquery/issues/62","repository_url":"https://api.github.com/repos/beancount/beanquery","labels_url":"https://api.github.com/repos/beancount/beanquery/issues/62/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beanquery/issues/62/comments","events_url":"https://api.github.com/repos/beancount/beanquery/issues/62/events","html_url":"https://github.com/beancount/beanquery/issues/62","id":1190780660,"node_id":"MDU6SXNzdWUxMTkwNzgwNjYw","number":62,"title":"bean-query \"order by\": separate sort orders for different keys","user":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":4,"created_at":"2015-05-13T22:42:49Z","updated_at":"2022-04-03T16:10:34Z","closed_at":"2022-04-03T16:10:34Z","author_association":"MEMBER","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"**[Original report](https://bitbucket.org/blais/beancount/issue/44) by Red Street (GitHub: [redstreet](https://github.com/redstreet)).**\n\n----------------------------------------\n\nWith the \"order by\" clause, it would be nice to choose ascending order on one key, and descending on another. For eg, the equivalent of: ORDER BY payee ASC, date DESC. Currently, this doesn't seem to work.\n","closed_by":{"login":"dnicolodi","id":987145,"node_id":"MDQ6VXNlcjk4NzE0NQ==","avatar_url":"https://avatars.githubusercontent.com/u/987145?v=4","gravatar_id":"","url":"https://api.github.com/users/dnicolodi","html_url":"https://github.com/dnicolodi","followers_url":"https://api.github.com/users/dnicolodi/followers","following_url":"https://api.github.com/users/dnicolodi/following{/other_user}","gists_url":"https://api.github.com/users/dnicolodi/gists{/gist_id}","starred_url":"https://api.github.com/users/dnicolodi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dnicolodi/subscriptions","organizations_url":"https://api.github.com/users/dnicolodi/orgs","repos_url":"https://api.github.com/users/dnicolodi/repos","events_url":"https://api.github.com/users/dnicolodi/events{/privacy}","received_events_url":"https://api.github.com/users/dnicolodi/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/beancount/beanquery/issues/62/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beanquery/issues/62/timeline","performed_via_github_app":null,"state_reason":"completed"},{"url":"https://api.github.com/repos/beancount/beanquery/issues/63","repository_url":"https://api.github.com/repos/beancount/beanquery","labels_url":"https://api.github.com/repos/beancount/beanquery/issues/63/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beanquery/issues/63/comments","events_url":"https://api.github.com/repos/beancount/beanquery/issues/63/events","html_url":"https://github.com/beancount/beanquery/issues/63","id":1190780674,"node_id":"MDU6SXNzdWUxMTkwNzgwNjc0","number":63,"title":"bean-query: ORDER BY does not accept per-keyword sort direction","user":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":2901894418,"node_id":"MDU6TGFiZWwyOTAxODk0NDE4","url":"https://api.github.com/repos/beancount/beanquery/labels/bug","name":"bug","color":"d73a4a","default":true,"description":"Something isn't working"}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":1,"created_at":"2015-03-24T05:39:39Z","updated_at":"2022-04-03T16:10:01Z","closed_at":"2022-04-03T16:10:01Z","author_association":"MEMBER","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"**[Original report](https://bitbucket.org/blais/beancount/issue/40) by Harpreet Sangha (Bitbucket: [eliptus](https://bitbucket.org/eliptus), GitHub: [eliptus](https://github.com/eliptus)).**\n\n----------------------------------------\n\nI noticed that when using ORDER BY with bean-query sort direction cannot be specified per keyword.\n\nFor example:\nbeancount> SELECT year, account, COST(SUM(position)) AS total WHERE account ~ \"^Expenses:\" GROUP BY 1, 2 ORDER BY 1 ASC, 2 DESC\nERROR: Syntax error near ',' (at 108)\n  SELECT year, account, COST(SUM(position)) AS total WHERE account ~ \"^Expenses:\" GROUP BY 1, 2 ORDER BY 1 ASC, 2 DESC\n","closed_by":{"login":"dnicolodi","id":987145,"node_id":"MDQ6VXNlcjk4NzE0NQ==","avatar_url":"https://avatars.githubusercontent.com/u/987145?v=4","gravatar_id":"","url":"https://api.github.com/users/dnicolodi","html_url":"https://github.com/dnicolodi","followers_url":"https://api.github.com/users/dnicolodi/followers","following_url":"https://api.github.com/users/dnicolodi/following{/other_user}","gists_url":"https://api.github.com/users/dnicolodi/gists{/gist_id}","starred_url":"https://api.github.com/users/dnicolodi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dnicolodi/subscriptions","organizations_url":"https://api.github.com/users/dnicolodi/orgs","repos_url":"https://api.github.com/users/dnicolodi/repos","events_url":"https://api.github.com/users/dnicolodi/events{/privacy}","received_events_url":"https://api.github.com/users/dnicolodi/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/beancount/beanquery/issues/63/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beanquery/issues/63/timeline","performed_via_github_app":null,"state_reason":"completed"},{"url":"https://api.github.com/repos/beancount/beanquery/issues/64","repository_url":"https://api.github.com/repos/beancount/beanquery","labels_url":"https://api.github.com/repos/beancount/beanquery/issues/64/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beanquery/issues/64/comments","events_url":"https://api.github.com/repos/beancount/beanquery/issues/64/events","html_url":"https://github.com/beancount/beanquery/issues/64","id":1190780687,"node_id":"MDU6SXNzdWUxMTkwNzgwNjg3","number":64,"title":"ORDER BY clause with no target should work","user":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":2901894421,"node_id":"MDU6TGFiZWwyOTAxODk0NDIx","url":"https://api.github.com/repos/beancount/beanquery/labels/enhancement","name":"enhancement","color":"a2eeef","default":true,"description":"New feature or request"},{"id":2901894425,"node_id":"MDU6TGFiZWwyOTAxODk0NDI1","url":"https://api.github.com/repos/beancount/beanquery/labels/question","name":"question","color":"d876e3","default":true,"description":"Further information is requested"}],"state":"open","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":1,"created_at":"2015-02-22T19:51:21Z","updated_at":"2022-04-15T15:44:24Z","closed_at":null,"author_association":"MEMBER","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"This should work:\r\n\r\n      beancount> select account, sum(position) where currency = 'IRAUSD' group by account order by type;\r\n      ERROR: All non-aggregates must be covered by GROUP-BY clause in aggregate query.\r\n","closed_by":null,"reactions":{"url":"https://api.github.com/repos/beancount/beanquery/issues/64/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beanquery/issues/64/timeline","performed_via_github_app":null,"state_reason":null},{"url":"https://api.github.com/repos/beancount/beanquery/issues/65","repository_url":"https://api.github.com/repos/beancount/beanquery","labels_url":"https://api.github.com/repos/beancount/beanquery/issues/65/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beanquery/issues/65/comments","events_url":"https://api.github.com/repos/beancount/beanquery/issues/65/events","html_url":"https://github.com/beancount/beanquery/issues/65","id":1190780709,"node_id":"MDU6SXNzdWUxMTkwNzgwNzA5","number":65,"title":"Precision for rendering is broken for some subsets of amounts","user":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":2901894418,"node_id":"MDU6TGFiZWwyOTAxODk0NDE4","url":"https://api.github.com/repos/beancount/beanquery/labels/bug","name":"bug","color":"d73a4a","default":true,"description":"Something isn't working"},{"id":4023492511,"node_id":"LA_kwDOFUEJF87v0Z-f","url":"https://api.github.com/repos/beancount/beanquery/labels/render","name":"render","color":"c2e0c6","default":false,"description":"Involves results set rendering"}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":2,"created_at":"2015-02-22T19:48:46Z","updated_at":"2022-04-13T19:52:48Z","closed_at":"2022-04-13T19:52:48Z","author_association":"MEMBER","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"**[Original report](https://bitbucket.org/blais/beancount/issue/24) by Martin Blais (Bitbucket: [blais](https://bitbucket.org/blais), GitHub: [blais](https://github.com/blais)).**\n\n----------------------------------------\n\n```\n#!text\n\n  - BUG: Precision for rendering is broken for some subsets of amounts (these\n    are 1.20 USD amounts):\n\n      beancount> select date, payee, narration, position where account ~\n      'Expenses:Taxes:TY2015:US:SDI';\n         date                          narration                      posit\n      ---------- - --------------------------------------------------- -----\n      2015-01-02   GOOGLE INC       PAYROLL / GOOGLE INC       PAYROLL 1 USD\n      2015-01-16   GOOGLE INC       PAYROLL / GOOGLE INC       PAYROLL 1 USD\n      2015-01-23   GOOGLE INC       PAYROLL / GOOGLE INC       PAYROLL 0 USD\n\n     This one works:\n\n       beancount> select date, payee, narration, position where account ~\n       'Expenses:Taxes:TY2015:US:SDI' and narration ~ 'GOOGLE';\n\n```\n","closed_by":{"login":"dnicolodi","id":987145,"node_id":"MDQ6VXNlcjk4NzE0NQ==","avatar_url":"https://avatars.githubusercontent.com/u/987145?v=4","gravatar_id":"","url":"https://api.github.com/users/dnicolodi","html_url":"https://github.com/dnicolodi","followers_url":"https://api.github.com/users/dnicolodi/followers","following_url":"https://api.github.com/users/dnicolodi/following{/other_user}","gists_url":"https://api.github.com/users/dnicolodi/gists{/gist_id}","starred_url":"https://api.github.com/users/dnicolodi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dnicolodi/subscriptions","organizations_url":"https://api.github.com/users/dnicolodi/orgs","repos_url":"https://api.github.com/users/dnicolodi/repos","events_url":"https://api.github.com/users/dnicolodi/events{/privacy}","received_events_url":"https://api.github.com/users/dnicolodi/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/beancount/beanquery/issues/65/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beanquery/issues/65/timeline","performed_via_github_app":null,"state_reason":"completed"},{"url":"https://api.github.com/repos/beancount/beanquery/issues/34","repository_url":"https://api.github.com/repos/beancount/beanquery","labels_url":"https://api.github.com/repos/beancount/beanquery/issues/34/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beanquery/issues/34/comments","events_url":"https://api.github.com/repos/beancount/beanquery/issues/34/events","html_url":"https://github.com/beancount/beanquery/issues/34","id":1190777774,"node_id":"MDU6SXNzdWUxMTkwNzc3Nzc0","number":34,"title":"Truth evaluation allows ambiguous queries that should fail","user":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":2901894421,"node_id":"MDU6TGFiZWwyOTAxODk0NDIx","url":"https://api.github.com/repos/beancount/beanquery/labels/enhancement","name":"enhancement","color":"a2eeef","default":true,"description":"New feature or request"}],"state":"open","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":2,"created_at":"2015-02-22T19:42:38Z","updated_at":"2022-04-06T12:19:43Z","closed_at":null,"author_association":"MEMBER","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"parent_issue_url":"https://api.github.com/repos/beancount/beanquery/issues/239","issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"This works, and it should not (probably just evaluates to true, but it's misleading):\r\n\r\n      select * from 'Income:US:Hoogle:Vacation';\r\n","closed_by":null,"reactions":{"url":"https://api.github.com/repos/beancount/beanquery/issues/34/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beanquery/issues/34/timeline","performed_via_github_app":null,"state_reason":null},{"url":"https://api.github.com/repos/beancount/beanquery/issues/66","repository_url":"https://api.github.com/repos/beancount/beanquery","labels_url":"https://api.github.com/repos/beancount/beanquery/issues/66/labels{/name}","comments_url":"https://api.github.com/repos/beancount/beanquery/issues/66/comments","events_url":"https://api.github.com/repos/beancount/beanquery/issues/66/events","html_url":"https://github.com/beancount/beanquery/issues/66","id":1190780757,"node_id":"MDU6SXNzdWUxMTkwNzgwNzU3","number":66,"title":"bean-query check for non-empty position fails","user":{"login":"blais","id":336019,"node_id":"MDQ6VXNlcjMzNjAxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/336019?v=4","gravatar_id":"","url":"https://api.github.com/users/blais","html_url":"https://github.com/blais","followers_url":"https://api.github.com/users/blais/followers","following_url":"https://api.github.com/users/blais/following{/other_user}","gists_url":"https://api.github.com/users/blais/gists{/gist_id}","starred_url":"https://api.github.com/users/blais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blais/subscriptions","organizations_url":"https://api.github.com/users/blais/orgs","repos_url":"https://api.github.com/users/blais/repos","events_url":"https://api.github.com/users/blais/events{/privacy}","received_events_url":"https://api.github.com/users/blais/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":2901894418,"node_id":"MDU6TGFiZWwyOTAxODk0NDE4","url":"https://api.github.com/repos/beancount/beanquery/labels/bug","name":"bug","color":"d73a4a","default":true,"description":"Something isn't working"}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":3,"created_at":"2015-02-07T20:27:17Z","updated_at":"2022-04-05T19:17:35Z","closed_at":"2022-04-05T19:17:35Z","author_association":"MEMBER","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"**[Original report](https://bitbucket.org/blais/beancount/issue/13) by Martin Blais (Bitbucket: [blais](https://bitbucket.org/blais), GitHub: [blais](https://github.com/blais)).**\n\n----------------------------------------\n\nbeancount> select account, sum(cost(position)) where account ~'Assets:.*RRSP' and position != 0 group by 1\nTraceback (most recent call last):\n  File \"/usr/local/lib/python3.4/cmd.py\", line 214, in onecmd\n    func = getattr(self, 'do_' + cmd)\nAttributeError: 'BQLShell' object has no attribute 'do_select'\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File \"/home/blais/p/beancount/src/python/beancount/query/shell.py\", line 223, in default\n    self.dispatch(statement)\n  File \"/home/blais/p/beancount/src/python/beancount/query/shell.py\", line 213, in dispatch\n    return method(statement)\n  File \"/home/blais/p/beancount/src/python/beancount/query/shell.py\", line 356, in on_Select\n    self.options_map)\n  File \"/home/blais/p/beancount/src/python/beancount/query/query_execute.py\", line 251, in execute_query\n    if c_where is None or c_where(context):\n  File \"/home/blais/p/beancount/src/python/beancount/query/query_compile.py\", line 111, in __call__\n    return self.operator(self.left(context), self.right(context))\n  File \"/home/blais/p/beancount/src/python/beancount/query/query_compile.py\", line 93, in __call__\n    return self.operator(self.operand(context))\n  File \"/home/blais/p/beancount/src/python/beancount/query/query_compile.py\", line 111, in __call__\n    return self.operator(self.left(context), self.right(context))\n  File \"/home/blais/p/beancount/src/python/beancount/core/position.py\", line 166, in __eq__\n    return (self.number == other.number and\nAttributeError: 'int' object has no attribute 'number'\nbeancount> select account, sum(cost(position)) where account ~'Assets:.*RRSP' and position group by 1\nTraceback (most recent call last):\n  File \"/usr/local/lib/python3.4/cmd.py\", line 214, in onecmd\n    func = getattr(self, 'do_' + cmd)\nAttributeError: 'BQLShell' object has no attribute 'do_select'\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File \"/home/blais/p/beancount/src/python/beancount/query/shell.py\", line 223, in default\n    self.dispatch(statement)\n  File \"/home/blais/p/beancount/src/python/beancount/query/shell.py\", line 213, in dispatch\n    return method(statement)\n  File \"/home/blais/p/beancount/src/python/beancount/query/shell.py\", line 356, in on_Select\n    self.options_map)\n  File \"/home/blais/p/beancount/src/python/beancount/query/query_execute.py\", line 251, in execute_query\n    if c_where is None or c_where(context):\n  File \"/home/blais/p/beancount/src/python/beancount/query/query_compile.py\", line 111, in __call__\n    return self.operator(self.left(context), self.right(context))\nTypeError: unsupported operand type(s) for &: 'bool' and 'Position'\nbeancount> \n","closed_by":{"login":"dnicolodi","id":987145,"node_id":"MDQ6VXNlcjk4NzE0NQ==","avatar_url":"https://avatars.githubusercontent.com/u/987145?v=4","gravatar_id":"","url":"https://api.github.com/users/dnicolodi","html_url":"https://github.com/dnicolodi","followers_url":"https://api.github.com/users/dnicolodi/followers","following_url":"https://api.github.com/users/dnicolodi/following{/other_user}","gists_url":"https://api.github.com/users/dnicolodi/gists{/gist_id}","starred_url":"https://api.github.com/users/dnicolodi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dnicolodi/subscriptions","organizations_url":"https://api.github.com/users/dnicolodi/orgs","repos_url":"https://api.github.com/users/dnicolodi/repos","events_url":"https://api.github.com/users/dnicolodi/events{/privacy}","received_events_url":"https://api.github.com/users/dnicolodi/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/beancount/beanquery/issues/66/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/beancount/beanquery/issues/66/timeline","performed_via_github_app":null,"state_reason":"completed"}]